<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0232558e56a87d3b340c6c5ff9d986296cd0903ff1b727a71a9f941e3b907c6b9b9ec66749bd88b2cba3244ab0a616023363a56e6d2b61c9a5daf74ea58bc2c8f7c59bbe9a406f8a9ae66deae73c77b99710e401a043503edeb02409879561f06854b8a80d5fc9158948ce784ed201c941304fb91b2b64c9eff544bc8f396128b31228510fb5405f9ac6e918f4bdc304a6a74e7369a67089616f5ae0ed9fc94342405b160933d5650df485e6364e1cfaae330a9c1db84013b37f414c6502961877dcf2f7bc8e83845f65122635098a9b7c1c0ecabc5098261c9bc6f23fdc4414deb5df0d150ca6948057fa88b31f978a3898273ef0d59b1d2c60ae1e65a9dc68fa754ce9a5e2425420af5340744c94780d7ff216bac5ff1f6a80f38d6dd07fdf2b9b867bdf1c2bb88c8dd8b9ee8263fa9d3bba58327b96604197e753c3e711a3d5af02f2512a5449255f370eca0937f303afee74ea861e7685060e19c2dad3d6029ccfb8550e0d88a03534facc4c41565ef88e9c75f2b6ea3e3fa583ad2edea02532cafc1cf97de13d249dc49d20a90ff6c4286e88f04e6da1f1fc0e3913918da216a744bf4008e4674ea227c6fa1b392460e35e9604f4cd212be0a925fbba30a18e873a175e71a02acd815fc3e02a0bd3fbf944d5741e4a2b84d69d59617c63246d7f8bd3021628dc2042c21ae1f233e6b4a30dc9cb31243327741f56c3a321c31634a4ff36ef1e5920743d963d110216dba4c3b67b4761e078a0dfe36fc5de8b26fc60381fc33d9a784c6eef9bab64ee7b1f02faf5f89c6d1599a673045b51b03799789191d4ea0e5d3d2d5bf3b4cb2b25078b282cc1fa01e9d3a6ff3f126837086e684850a21f40b738f6086f7f6c4275203c209b1aad593944b537f251d69867c90e00a34b0d81ffc332d2c08dec83970aa6cf753fefb4dbe249676bac7352228b72036588df5f62d0f7addc870f3faf09f1a5489dd7563193f6a9f973705221ed2d1e051cae805e17c9255e3b02d908665761139b7d4353cc7967b9b96f808a54fdb25ffe0f07a6988a1f21776c8bb0d0039591233a609744867c3eb1b0f255da26da960c8145a1dcd0a075a00f31926b46f3a053b3312dc4f328e7640262272667987646adea048cab5f55594427358366c5c9757ddb9ceacd375bd8960fd2acfffc69c048ac30699c587e4880bfae9c90783ee523486e6c9195f8d96b04330b18d8179b8b36a7acd62082c2e446170cbec552a11f40110abe146f06b5c6f35c96b35d9fb05b05dc18ff9c41e583ea86d58dac13c3589608b135a73da7eaf02535bbed89da0023518dc2ab855dde71b9a913ef5e479b720ac73eb0a8fc111400597f6633a0bf5f54fcddccb967cba21eb176e0398ca54a795af89cd28996b6a9359cf3e562272810aec88c89f98724f41ab0caab96676d5b56d328f46b67a3e9bbae6d0c3045ada43ece3bf126d1d3a55d033f3b225db31163f43b24add25bc7ea311d7dd4c1178f46f0cc7eb66f83dca0b9f7992a80d1e71e55baa21cfdb8ba42910d7cbdbf3d68041a0efdb1fe9642139dec062b7e815a4eb02dbbc6e93bd30850ae47de4cc76b8b165cfb3ca3916b539cc899e9294941beb92022af9bbefd0deb6362829723e6a05354053ed3ee4c1c7ca8fae50d2d628e3662b155bbf58c6926d31b5043f00942edce9e9ad7600ca8b064d4e078c19603cd29b0c67aef16b9eebb56414b472c1c4b009ac98c24ecd83118ddf3e99a4953be008b78fc07e71175bb28b44b5888dc7c3b4d6d004253de39b35ed537c523eaa3d7983f501670970b454b04354c6ae9d0854deb804c9bcac6f1f584e8480356ccbd087957becb56b05438701a2e3c4767a4903c931b9859579e98b545897e3510cd871bcb6e648e6d3356642feb1bb73a6bc47f3672136cc091701b0c729d6c32a476942b9d6306dcb59106d4cb0dea9c169be6903009e4ccc03cf7794d0e9aab02ca3e836f4990896cdb8e9a77948cff9fa16fab51bcfd685177f45ea977256c64a0c3a50b7e481ab82d7479b8d420211fe7f5e325b80000d9668776cf94633cbee71a9407d97d50b96314d24d5616614aa2ff5c35f086f1d789fec4b9c86a5e837f5be8ae3cda4708fc713205aaa6560e60ad7f344d133b80a35c2cfda29a666d2cf3fbafcfaae3b6a714077cf7a5d46550f5655881a36f048b057ffd09a06e12dd19009215e650fefdabf995b925ccd6b27ffda40f6ea8dc0060b45c31f7c44d370f8e86df7102ead571acb69478653547c968420ff0ce40f4b8cf6dddea01cd691acb00e825350c17a1d4606dc2af790aa5e8dde30c7d847d03d680ced7a1c2ec06631f4c277eaf137fa8fa7fba6247fd3ea1cda64d83130bd02e0d2fad85d2ada91ae5f6a555faf7b6beb29e7a6f541a9ff43f0a6b75e4a85bde0368c740e82971661938344cb9c3a3b222e609b75093345d8a6a58facf5237acb3edba1f8968a545b0d9ff3450923fe3c14cf220103ef6f1a81d7407367f362c91df2a58dff4667ed7dc185839e3517f1717a789ea8cd0ba6e7b428d21350bb762bb0cb9bd2db264a2cf816e6f22c09cff093d3b59acd39dd3a8b52dd8f426b9037b687b996bb2b662871e92279aa2e04aa8f86a015dbf58c361ea3e4bd898aa195869b9858a675cbc77b9eb656aa4aac7d80dd09358bc92b4b61d9e4d4688f0b3fae0e0017d97f9c682fa980ab975d49c1f239b9c7c6b94bc215d1f6a5757dafdf408fd29d8276fc37df6c4c5fc225b6702e549008fac5bc021ad4abbda3f4d4b3b6070d278e46d356bb9e9612903664f862d4cb5df7fbd3e499a72502f5cfa209506b21d524a68d43a011f47a444da9ae9cde0db0d36c1fa8e6d46586215610c7da79ce3bb807001f02de16ac419eb8c19317b258556ac5114d5fcfa585c9c7ed0958fa1e59156a01061db9dededc75eb775d7bc644a44fe2fdae6f168ee2b3cc59cd8d77c0f04711ca6fccd020c49e899ddfdb4db494a05127d6de7752680f4fe39695087e0a52ad799145c0f333f94ac0b0ed7011a82949f797086c53590e3696e255acb9b84ee45723328b91ae97da0eb89ab581b3ce1b0d6baf286e77a0c49abd00bf931edcf9fc502ef0008df3b44a3d5aea5a57d6092544808c10ecc0eb70a7744d67e6b564c3153c86a8bb1a455605a9bbb12019a1471d232abc12b63cbaea92f8da58ee5cb32df951af0ef133e35a18881ac24382ca523ab9e15c75f3d4d6021529b3aafc04068fe845b2047e9c7146e67159b0429469db5995f390a8b1c063365c2783c78570aa28001e1d091cbb76f36a5de568e41b4f7d5cae7c7eb67285b7e1eb7f372c6fb0789fdf1d79a88ea47a3786d808fbad1efef148ea26cecfd893cf331420a3ed9c79295d72143e088434486ff51bbc0fbae788cdcf9f74295445b55d7cdb59a61e8d065819a0ea2a19a0fa761709f96afa1f5f955c03ed41beff2c226a3c43d19d728a99187409fce06c1498092443062eba0a5f31a2a12ddf3bda5babcc7be1b50678f5a2bef467a5aa87836ca6a8e9154a0f8c718ad30df2700b24c6ae8de7a63ab1b1f36903a471aaebc7b1ba0dde3b426d864a1c5c8af01117a89961c3ba2dd6fb05e43c5dec27edbfbd5bf5a6dffce6c5db166a495e55f9ccfb92dad735c39a9fc0c1611042125f262c70de0530f71794ebf0cf40415c1a84d9c72f4d0264a8b4d8e57e486ceb7c9a4e6c7597e9ef5377a9043b2fdc366709a2acc69e9af8d46cda8138f6fbbfe60ff58a290fdfb265308d41a7605dc5254fe17be38ebd970272a869fb56333046165c2bce6ab0e823b07f018d8e956c00cbcd358b76a943f19bacecfd613ef09bbfdda0ee2f66a242911c5e0677d164a42c2301826a98fe755783e855e0b8a5b27ece173b9e920fa2c9b3533785e90ee070057caee6f82f639f1e9080f7d9f148377d79b811036b3e857e07c09f6fda603664e57f46618a0829849c2dc486fb3c59c4a0e2008215971443450b9563263ff902952d3b7c64fe0c4853de1faea5a5af7e9e135f81757dfdecf4c1875efd19a34d7dafe9d921987f3988d1dc96cfde9e6fc7d25e22494feded450103d90d6a33179595bafad4d0b3c436221cc95f4e2f3285d37f2ce01dc2e7a83476a5b0a834a0f14e787a40e26f66c0d23a6a2de9254a4a6bb9bbc7ac84f5a39b464b927adbe289b75d5c36fc45ac949423704770679fa04e15aa09528740e65a991b42be1556f16987dd48108f8b2ed7ba60753411cdfe3920ae4c7a14623b0dff6b066e4a22ce94f2af9de1f034827717ef6c4b856c5ddfabeb95a1c13d9df211fa08fdc65c36b6a9770bce247e629c5dd7e0e2e78f88395acb35c9991a655ab6393d97ab7b0e020c4c25db8ea68a6504f49503a2f7ea125dac903cf7ebd0f1b1809970a1b88e80850ae39b8e521988e54b4a11681c3611be4813f206ad672da4b66135c64cf72d1e70170b3ebfacee83cda45d7c724c90d92f7036298e256e13d517d9f14b17ba83c676f9b6d6cefaa609f59a89cc8d5a0cf751a940ea26c295fc256a3b78e7e7733a0ee6ad16d69f9805d96dffda649f5f1ccc649be68b8a5ea52a203579b0587dabdbc4c7ce78fc542e0708f672803a2e482f13b1477dbc6964f716d04c8920475cd195a724c13a27af4fba32dc6a1b4cc1a0556703c06325e1bf59e452991415f8b5c491b3801fb6a0f4d7460a79015fe68f5109553af1ef3c998bd19b2d5d1e93e6f7951de94fd00598a994805a138a81a6b1beb5238ae04962048f572e0451c4dd66cbd7788ac31771bdfe56f5b449a73675526ad4df91d06fcd1a1f7fe2515cf84ff296906d7e4c2ac0c3e2c603369d9ff9578666c89fbc5d673418027ed3564f9cebd428a0b1946908dc429b0e1aa42d474f03d301367e4e07935df815d2927656558e3b3fb71610294fff28bba724fae95bc129c25171c975aa7eba001afd3ae06352e121ae513074d95db3d9222e949685ae00a8e65cc9fcff4d154ae6b9d3c5787e8a666855429ae2a06d6ac5ce096ad987deaedce1a972bbe49d78e3001d1999439ce180d5497c559a06edf105b0fa5a6a9d3c6a17b93ffb9e15a6338b3fb7168dfb96af671ed1be1248e3cc389adbdf29ce9b556779bdb652f51e4e9618ec1629a1513add0c51578dae68b20a06b982da67e75ac118fc3e6c8979fa2fc296f0e344493f515616a731eebaa0a552971d0916a848712fa557316972fd267ac04c17bcd6a49104868a848011e877573155e7d4910a228847dfe55601454f1197dbb0f37d6a86bfe7334d807e261a3a8d82d6fe45e84d0d666e9240cce28eb1d1f85d72050d6f4700fe6ea11bf3c2e01fb392dcb74f9d36d40dac1c72bda0e3fcf58901777a6b87c6967c9ccd0cb5c2cfe71bf03d1ea9bb12f2185eefb515f39bc20bf4979aa06a0bee51b1ce883141ea7b5dc446aaa5826dea5d773d6845543b1fc5d25792041190fcb9cf7e1873fcc00445e933e595d03bcbcf0b84a4794c568ed844ef3e8a3312eff9123cd464aec12e0d4703927d0c1852ad86b837143e5395db5a4a4b17bb18f0624d2f9e5e7781d4f76e1b886d92bf6b2a3bc791044543b2b76115ca31cba5f5f61b91d3ff91531d3daf43102610bfe9067a2d11105a63d61cc0441ae13318a8103fc316a5b9d4ba28df8ef0ea5880a4fa156b99dccd89d4bb20c419cea8e8a3a16a0c33a963614ab3bc80da653e7e7165757b6e2fdfe945a6071ab559415be2a16b5b2956c05bf3bf2938676b75f3d4136289f8da8c539bbb373c867b364e7c809f4daa1956e583f3be0496642a309ca177701f32afdbd8bcce8aadf4ba036a3eead13b2989e03532193bb6cbcadd73fdc056150786ffcb8653cfd4d0d20d924a9178d205f00e3f245093a860f517d38d7e6c14c57e3860398ffa64d94f8b4e5a61972c84a7d4d2186802b715c14b641d664826b263be3d94cf4364f1d05103474adddf114b991fbaa89d279ff248715499b6afd6c0a7f44dd929b25f7ecc6cd9396144ce38b9e61d2c23e633118cbc4544792fa55bcbe0dee020905f6cfe9a4db48de20b636076df16dfd6ff5c4a9126b875595c37753e5274e4ee1ac7a9518510652a965ab9eb96f3a299195958ce9739a6b482648e6bb2ce3f987b2ad052d1d468821638f6e7363f7e3024d1f9ba5a75180fe506bf69efe9255fa1c4603c46802c882850fa5f6a56125e6a70da052086419f69119693c58958ba8295377aff33d8b64c9b7967df5dae6a5e424fb23e2c9700658b8da6c11d99bc1663e11ce8b48b668724b3903f1cd982257ebf52d854c7923e842608a52a5437e2aeb9955f54ea5a6f8160927e173bd3272e4b19b254e66ad7fd42646cc389b5356eb5225002e57373732bd50409c24d09611663c176f8dfa472383784bb8fceb07949b13fd2ad3e3a5c58145735f9087f6f389c40cf5aeb3ad87cd919e9ae01d5b49be16598b00befad9f518c81c139b85f65b426e86c29727b6c55c3945502ced0eeee82ba9bcb4760af2b94f6fa6eed71ae1a72d1ad529bc25d8579ec869a8229dec74d0da24491e3d967794ba583f3754be058f4b800e8fc72deb7264108ed9f062680fc68a94934c5f9a0c60a967e0050e39a9455e0789464ba4bb9d91750b61b523807c84f55f0592073cd3bdff47c965a8e5d15a7955e0d02b366670746d354d5551a99b54a29a0d4118669989d21e3e259356991bdaa99fe600847aa65a2d610d451c438710701069a1428d29c56739a68c1e06d7620fdb0b994e590d82fd154113c6ccf575cbd350adeaef7a226b23fcc92de09c332a0709745eb8a71e4c97fdab61a867050500d4f349ee6aeff00ac404b8250e8d58dc1504540ace0bf9b3c4527136b3c090c377283db301960c836cf3418df88f1ebe4ec653da2168cea73387cee3cace7c4a9d6ccf40b38eb09be98b8438d35bc9bb07b79cf30eeaf92745bf0da1059adb38e9749d1fd2da30e541903035b948295208eac12331d4a2d1a8a27f95383be651d7f5f01bb55bb4a6243ae2c838dd2675d79300274055e7a8fea181a2b8a9807082061ed041debfcc4b378dca53264627d613775e71da80e0cd6b4c62bf66a6c811f6ab90f635646cec792551b39dcbc66f4ecf30f6e4728a66d90ee286cb15a2627f71f8ea42a319c1b060e9943bd988bb0330097a420d719f6ac8ff90fbf62e2a4fbd247b3cd76bc632d314b38eb8927aa824e9b31402dc34c5c9099e56d9c913bc12e2642e8a5865fcf62dc71b5d3c59d8110749db0d87f8be71538fc10d4f55b9987c6f6f1caec5effcda315936bada01f5529e2ed59a76a1b659db8ab3abe7d8fed9cc1f51c377e1976feac9d0427ab932f7df29df44888fbad486c81646283dfb3362f5f66b3c23feb00774e35e2d6118af04d07b999fd1fd5fb95f74300f373847edf4fa1328456ae2d0636b6ad483b7c747dd67c1f3584320817c864dbe661634013c000ad4401eb51a7f93d84f55fd03af315d089873ca61568a00e940e79c7ac608df40c3f5a267078dcd6449e4514a5cedbecf17d95e26915ca7ef2641e686d2497fe23ed366d038b1bc69de17d2c446ff6a33bf7eef3e4cf08a1de6c241c44b9ad21006cad0ebae140f2aa5eab1e4c25ed0c79306c0d6710dbf5d02ca7870d98e1716cda4e06e65f1941d8259d378b637903656d5e1656f120a7d6d2470a71f26feba01e879e16195afff9de44e766786bc54b07b68d608bb8e9c59dad254d5f6a14b23370e2ede086e3ce0b1c2ecca5d5027f35f20f70094744d88cb4489a6345d2c044bf7d6c0ed966352b76442c7ce1f5901c3991bb90341da354e538eb2aee99bd0827c658ba991045ecdb6912fecd24b6b7644168a5976fe760c0220f798b72dbbd75bc78498ae0a03bf031d38234851578089f994605dcde398d57be835e15ff38edd4865375d6a4c7344f421b80492a6cb0dddb089bea12c4e4458c29cbe5adbc5637634a3edfc7691b540d005c2143c53106da24207a792ec794178e29575b8e5a748e0649198a86eacf1c166a607a5d2640ad0bb9deadb0c4456dd29af9d3e93b0ea31762e1ca5b19abc1d3c8baaab69193c1e5faf9d6a89b6c55fbf800aec140ed3ae455034379671874e643b88833bc54a50682f17d8a8509658daca42fd5215fd6877c69641bc046aece9aa71afc482f7b4c989ac1d734d05249a6efe4791c082b44750296de5f5f6c1cc437861cceeb39abfcd613e80ff3c6dd48f6429b43ba911cd682bff449e4a8daba6ce4585b5254755c2311ce64c671a1e6afb84f2decdf258b6efc3cf9df9b710f485828b082dcf0f8d4f97aeadde7fdec6141b067bdf6cea93de811fe07833d6496eeb99fd2d085835a7b928d45f7fb81e7e449ac414ea3d6d2e87b3c830ef2878ba0236ae55ad601a282fb09173ab242c2054accbbdbd1ed53b357822a9aa489bf3043a864406e54d5fda9d7d551e6d42c7279992f91ffff34f3c1358dc027602d3cab359826fe1ad6dbc7c1265414ae77eb4fd9a0956c18ad21cc8a5da2acee787417971bd47e1595a1db98047756bcbb50c48d9288218e35141e861e3afd61fe36fcdecf78b0a085813755212bd9da2dc963159a405064d1130d48f71f6fc748144466c563b9bc0c590b42f7ff6d17928e2b529e3f6fae6fa149b56a618cfd947eab4b77962d7775b941e0b659156fef84e0754c01a310e35fd7f72b609a4042b06d18591c24100ff48ed5bc1d45cc7dd037eedac892d6292900a0042275cb1a6e849c5113b77b6e6c944629a6ac964bdaf3f578482ef8726a87a945439c5bd4068baf9d0ac297a9c7e16476db27605e388a5c8f0ba62127d3cbcc0e05528a2db956ba22235280f4cdac46a64a256f68efb6308b9bd39a2a2a3fe13527103ef9e5d23d74c242e802fac1791632dafa606a626905ac6924974ffc4488aaba36ddba8be7dc86187a3262967de6ef4e1076db9f3f57496091329e46357d32a5c274b35e7eaa6022d7e2d1615fdd80c9a5a3057b0c0a9e48d4d42b7b3a6004324a569aca2b9961f071e6ef5b408829efcce726b49fa2ee92f45bd0559e651ffaca324be7ada88d81ce086fda329ba54ebe6eba38174e2194a02ee4f4c74f236de8fc039811beb133cb2a60b370f2b79fd65b4596dca5809dcfeff5f87574592f258fcaf95fce43443d17edb8b9790aa44f404f16da517718924c4a54380c3b9baa8717388e15a2d782e653f8b2713af42eb9d11b87a1695178a89e44418d7ec19ad0d6d8fbfdd1e4b60774d995d72af1fc4c0725aac821adfc24a54445f43504d90dea63c92ccc75672bdf7a1e00ef40fc253c1822f9d639e1353498d15e330b80db6286b873b59a659bf7e97399b3f6848f71e6f29df91e2c00843533e3b9755d1ea35a1067c877cd27f70990a06dd379a0bad95c79ec2090349fbb2742f74c8c63d40f903a68f7f505135f1a7f630692c11f953611eca5a91466145ccc4cd0de247a783e9e5a04273b91cd5a6b18b7f639bf06626222ff595582c15638f7cb8e444ed0733fbbc9063617e323abad45054c90fe1fc2be9fd132a46d612fe71ad4180200024864c89d3c336cfa082adf4cf429a3e383bd86d8e2976796fe5a27421c78e94050b6081fdee05ee1f9f70d3c17880ecfafdcbee4d8cb1cde9ad42f80472463f49f818cab072757139cbe89871d62251f928672d4cdd883daac48ed7ad5923e54e2b5b8c49e9cf4fac6febb4024b103f23cfac0bb88733cf4cb586f4f0107e6b19c9722ab2d8ade160c44c8d8a6f110bf332c874696fd9332bd82a02dd8313bf2410122207f77ba786cabad2a1e689b7d5ca58e7f2eb8ee6a8f61074d63a0d172f59f29f733e7fbe7b2f8f23a27fcf6eb9e3da7711f53e80b8e19b07555a7018a35901ba00635382d017dbcbc3b3a5e09dbd95d1d5a8d810c92cc386ea8ffe29300b823445dd9dd0904d10ddce77a39c47053b66e22cc69564375f401a707a1eef4f4d0b92bb5c9ec7d7df22c4738839a0692b2ba787ca96be0b58ee24c1b4cd7e5b525ebf3a11eb08694065281c8171c2548253db9c0eb08ba6a29911b01cd7589dca6b8095b243de7c646516ea185afb7496e67182d54a1ed19eaf74629a9a096c513f9890151ef537eae30c87de4cf34f93e08463ab2e219dac00fdfb99d64f6a3a3d221fb841f765baeeb3a156e9bc6bfca54e09c3f01106552da4be1080c5b7b71d21406c0d0f35cee21bd633d7027bacfb12bc79d1e64e8fcb8491cef6705bc8c16f1522680923e817c5c1adecb28f9ae9bc38a3bc4c2e1349a10e8005c2d6c00e60496b434914f1879daa269f3da81468f7a05ad89ce9da65fb21f4063d5de112b55909059f117d18aedabdb895058e7e7da441ca2daa77b0b8dee2d57a95cc1ef4446065ef6a6751e12a8ebbcc98f18129ce160278ac23681a6d2640b3087c526a3adde086ff7975491938bb76411b755dea62a8c34cc54945a81e1c0d010b389c5b691e56b1981be5ad7993b7a1be5f1a8df04a5071e79f79835ba96cb42fd3ed315ce974be891f619d9026eb86f6b386e93eab8c0044201fc569b6c818c71dd269c261b920f219b99f6c289c2324ca291f9fc48b4e8ddd679a061235a9ffbd1451baa16a9464d4a17b99a8c8fa469d41e83eb8799ae5183d6ccc1f5fecf4d0c4be42cf6581baf779579fcc4f23592a19ce4d585639e2cec70ee077939cf351d8f3defa5b09291f545da49149fe87b97333bca7c385d4c0d6a9e7e94ae498df93f5439cfc6a54976a0871fdcd4bc0ca90b7a390fdce45744c9d805602c47535d8b7af97adfba23205bfa0431b2d0d2715233eaa515985403de46731b878bb8c1dca7ee2449f84e1f67b5c5810851b03cacf3fc1f3d5fa11ea915a8a571896bb8a4cadabe1e63423b8a1bff7255444d979bee2868472c14e7cbffb6fe7430e27e89d7f660de725d38d1963c855584a3630fb53b9ae7b0b2bcf69e82ebded260a5c33664f01ce3704f699b63ebc28d99724b646afd8010c1eaaa038aa903d10f7cfa8cc47f876239c0a597e47a433791f345ac56b178cf188b4d8ef38b7b459303611c03c4ad1b058ca6d06383da35947b848ce743fbfda69f82455ba32b63c164df06529c81e7a96fc0fc6da9d120be2e82d2827489a370694be7a118ce267a55541decc41df9b9d7bb427d497aedd9734bad79a98079268c6d494921874c2b5362df0e5a8fcd7c4cb4133ee24033fd6c2405e42142a4dbed07b9a59ecbc023e29c16d597834deb88e5a74d355fc588fc35280a716fb9ef4544f888e91f4158f41aa699459f16d201e8a7df5a6c75f5ce2dd47db090d267baeeb933698d4a20dcc734df50937a1bd93e4188120f6158a6908e4a9163fcd32878604945456ab464a5735f14733c8044819640628ab30ea0f8cab00b6f8f9fac60fd8655737a3f0170c7166ffa3768c1fa5479e2e1715f32d5815b54d1e7a8b1f41d87ce0c0fd665f217440a91920f6ededf681493a9eed08a2163449d47c9cf4cf7e1b76a7488880b015efb6c3d7cb16a671a4968761459f5bbcab759cbcb2fb1770103b99a13ec675be6c61264bdedc7092166f6be4ef96c39cb78a23449c68420b9e1e2633e2e41d81245f7d9f8a1ea19f6549d64d3b35a3d9a063583a67b98b2f0d69ddd48aeb7abcc244aac2a4612182fb429a43a86e35af0df19e6aea5e38928ec9f14e29a601d24bb8bea2de8b09d41cf1840fc286815b174b3d31555538bac21aa3968665e1352768200104a266858224a490c44da69b7191cbf46abc37cab9eef6c7ba48238285750d96a500a2280972e49296bd8659db8f6257d952811a470a72d27558c564b47cb695d8dcab0caed78e558c5fa766b34fbed5541ddade231fc7bbcfb0da6b66e23764ed052d2c990e0b2a073f9399dd11fcad6895e497fc5920b9c116a71e70e8368893a4ad7b48f3a774758a2cb2200935792abc2ca5cffcfce38263575f6df14165dc67d76094e1488fc70030a8ecc6e536479084577fbcd685d92eb6e165b358bb295c22376a76cb010e232e5aef48bc2300b0eb7af8691939102de2ee7d77b1667866fa923ce765ffd820f0d33f9d760f9d10bfb04062fe6b6faa33549a1477442cc5d26dd2855e64fbde363dcca67a98ca1be3841f9b45f5c5c07b682440eeccabc0d969142440e39003c1390550865f3e56c8b11cd73c0ccfd2c11d37f7a09abe4db735657d604324d6705da8048bdb02bf6bf86679cedb92c03e6f4e8e2df928c87a251f7ea2506b2635fe88854325a0c7be53d7b207985fa4d7d172ca5cb3daccac9ed3cb75edd8bb5f280c1710e43bbb125ab812464c4fb50a0fd5766cd916244b272522f709fcbace06103ebed5f8cbb7af608a8042ad7a514759c1aeac20664ccb8232b70c047d9534bc170adbb6187445394c80a311609961bc2a3cbd36a7dc3b0fc75be95aea562c80018c67c3fd94a4898b1b3197e8ee4409045b1f2e7e1b76d79f102f7a4153ff5650d0825149b5c60b8b722f03b04a02dd2e8d0b19a7d866b41eb2c9e5cc2f49a2e2d86dce2aadc66b87e41c1ff4816ee55f9e91d7a59f2d509179d5c36d6c7164250beae4f653af8fa798d3b25a9c10a5b3a16e805932712ba033267a7a9d70eaffba616f1a520aa482cb599dfdc8aa6fd0b19343a1e010593aecb4f64441793a8516f7a1e3688448d0f1b918ced6af843a3722fc271cdb313950d981cddc2b647fa2914012383a75df0e55ad7c4b45fba96bdc1d5bae5061ab95475313618e208169f12a6a35d95bc2d0e731dbb78831c3f8599600294c1fe112e0619b80440a840fb3d486ae8bfa33fcb3523da64825e352893e9c5b125ea5b04983e34a47461b32564a53194b3eacf452604e5a6ea681f7bde75405ad7b72ed15f83560939ac171664449566ac2682794f2ac8d9a987de68c9707fecd904a079fb06892567be00a7758c5da742af39ace1c0eadec9e99587c5f74b3a0850c1d68ed38858ed1efd0526776b8248e8c3bff84e27cfec4dc81b5203ae935a527f98e4f57626f1486b2520c21806d0208db786571bd8bb245fdb50525d059c2d0153a5e557c9d701629749a95dbed638145bc34388b84d7674f262e6441a448c5603f8eeee2538b1383b83291aa6d91106bc43e97701473bdf381f029e7490d61c5625fbb76e871119f0a3d8501503b67fc69ab2b2f3c10a192be4f5035f2b78fe314ae421286aa23ef8cf1c5b03937a04c44c50a311c374724b43b172a843d22834067daf2de127f63053b99c8a9336f49c901528883e359164313ee2525175875ab4edf350dd37d7aadecca31343336c5e3ad44f550090e02b9cfdb29ccc196062d1d497c5d6542e06fb14f4677d9cd5ca9a0bc1fefbabe5f29350971d4e310e1059c4dbb7315270a175439c045ef6c0ffff7f013d62f8b6a9c62dc2137853a8d976d6aadc3bb6d6f3f0e3482aea73de564eb8fac5523e26bb865c86d10a4cb7d3beb493c32dbbee5eb345ead669e4dd88a46e426197e84c077ac2edb937bdd837dc7f76eff0252600dce8a5c90c3e386812df5a5970fb983e3b3adcdb3d2085f31ef9410210c43db1519c777619592e390dd681214f674c24f3a499a2074980098af88941d924d30aa101b8edd33719f8d812018ce40bc5ce2c1e3736dfd4769970788628108c3886a273f534b8a8bd98de14d3e9a122a659edf78ea7d593302a544d517aa74ceb26667708fca72606e35e82edf57fb560d8bd3937804d34365ccea3caddd6b3ce8acab2655619dcd6c774567434e8ea64e24fee5b625e02839116e9f5412c2a719abe88c85d01547533a320fd0aa91bf47265e04df0a8a2801f604f0cdbc9419f3bc7030cb3c02182e181756d4bfffd1f900c2d84af1c4795e81b3879410fa210d92db8e28f3f1ab296e1ce1cbefddfad95b99756d34500d0f5e6863a1ad791d3e118f321bb6471c75051fc7650dd2007a9a12c714d827ba8797de5f77d34c7a59deea05bf094c37109aff0e8638383cb98ffdb68ee1a6c7cf6453e7717ffdd0e49b0fce8e92c132b753e9d14693d74d538d996651d6e3a84948c9b32557b575da9f0132457d0add17d7299c1e086a0d97522cb2b43f15d1fa8ddf2e1300793563ec5e4520852c9843f3b73a683d7b83657aabac3191097686fc5616019dd4f7d8b027465d85e8adc6b3c12a27a3e49512668b3e30d2eded518eb0fa802085a239d0b68923d170495e57a241f0c2de84a479a195584fe1192ffcd9eac42748865a99c0d8eff845944cb80320a2c242a57b945511cd80dab6bd42db86bd3d13cc2c3a04b5dd2282669a9bd654ee17914422a6a81f8018c5366b3a640fc5be0b3535142463bfd995f5da999f7e954733972267a9cd06ea90c6b2fd38adea6c657e7f29ac2a361da5e14bc4e0bfb44afabfdcfaff03eccf0a899ce86df770ea27ddc323a78820bc1bf1ca1ef5295e3ea1d7ab583c418cf77e3490a046a9745b64de1f4c193c0036f5c31de37ab1671aba6f8536622e9996612af9d0703159822a5a841ab08365db9ec6e4463d787f6f7cedeb8b871f6d2c0f152de9076387aa78b058af051430e8902b4067bbb8cd36e60ddc10c4da89e4395c7669aeb89eb2a131b1b1ad679046982f0531cd047bc9ba735492ea6ea099ffec867fe3352f499199a33e51967dbf629b0336840c4eab4113641fac9fcc4d351eb0fdb12637cfaabe0f046fd98a924eb842afaa703a1c625ca1ff77258ad655b6c8ee1df85e4740b6303376182c312cb206bca48e8c7255e6ae9f6184b299ff0d244f09b4198be2a7eea48f19fbd4412f308e6226132835563c2282d4d4aa8bc7c4ba348fd8ebb33698821ef1c92ecf44558377767a8a838771a35179ed3a967d7333ce4e41208ed47b42ce14a85f359b1a3f513902c4f5a45cf3059522e6336a90617d07ccb8452246a5c29a2c87c5a22d8f48670e5a133708c49bdfa13fd835c6ed57d09988c5ea6f6a61e063445e71f264316a959ba8bf7c982bca73e837d2fd503d39c9e9af0a75df949c3aea115a10eefa73059aaa90b57c133c38265af7e79ed304ac75449344672355657e9bf1d59d102c0678cb536f513e23e6c8f22ea8298f94970919320a4d02d1ffe52377800c8c01ca59cfdcbd1569399f61063298f5d85feb94f329df5619742bfc101cbf5724ecd7b97a08849228c52af614cd07dbe0a117c45af47355d8aad568b75145f559f839e611174e75e7245e35abe5b56ff04854c71e105fbe9e621d468c5663596066bf19318906b072123e51197b16f68102686e391098d8c2be167634c2bc8539f0a474d8fd1dfdbb9d5e2e36223671298b3f4cb370bb0a9ea6033ba6b41c6159e96805a20f6d6d75a2bda4da0b1dac9cde4121251bc386b72b2ad4ecd560b125be04b5de92dcb203cc0b20f4a91bd4daf8c4d956c071eac1b43ece5c45e38d6757587544632ad1be061bdcc53a27168b6f4da4c8e90491eb060e1f59c400d2727f8874bff62b104b43f650fbe998f8fdb3608a189c1e11bda31b4831b41f43926b561f6b8d287cf219fea2dc09d845bc5988c1a359b73c9ab305a1f27a15df514bc3524a0abe67940f3ff7856043ab532fad591cb7f568ae40c50979522a8e910e13ff87329a163c0ddf4a9398b28b95aa1a3635b67793eef2328c13723fa747b895dfd0ad40adb850f9f39b80c728c64c410f9fff45297ed002530608adcbb68aeed59c4b1409d97ec7b8342e2c00a73b2f720a133bc67e331bc50f6a27c6960d164d02c0311eb02ec5385056f8a01609b9b8a588fa9e254fbcb7cf8ee8e54048a92ca119f46c212db28120f1c71f268fcb87e03a7047b52725b1a5f21f2017c31f790d493e38dbc54d155dbb4f21aac4758314f004c82cedf1ed21a61ab1cfd91f1ae94042aeb9868560e77f8215eba7e08e587c71de46d2bd4a5d938e36f2214870bb70b7f9f7c5bd5202c6956a3f1ef5d2188a27ef175c99b86a0cd2f7808e2437458326eaf53cb6c9fd5f61a1023047ce9af7c017d8b42d554647d820567cd042d4ad2e0dcef6a7d387a1b331299e233a10e7abce955ab485152f07bbf1f3016018758bc0df396ef2991f9964819052a52f8daf84b15115c1e9c0a4ec58cdb32c702aa906d85e123db3cb513d24bccc0dcd3998dacffb25e7bfbaed757c4dc85be9f2776de0c3959491ccec5661c88d775c124ab04c6d2abc333c63451d871ce2b4d38ac738e8ade6ad3247d6130dd1622cdf98fd7d363d22badc7a35eec02e928da528df7a45b56c271edb234f94329b4df48f338fcd20de0aea0ad8cd66424b74da2c85f66effc949923f396df91d97ab2e94a19e9707042180022e9a9a724e3f1f9dbe51695ea734f1d9295bc89f24adf136a2006acd28f2811124ad6c98691fe78c6789c30e193eb5b4eb95a68aabfea5d363f7a8dd44ca9da41ae3ac9f76baf3c2a233f50a2d7d49f4f668d3d83e4660e124fea4ee6db8cbd987e145c16d5a43f20425b8bfa6c0d6ea11beacb694c50bba312570200099bd1f13cc4bcfa6a09e7f6fd49eb4932e9b6959a6b3c9c322702d4815e8c105970d3a324d6da209d034502086b0a3f304dd21ee3440dfbabe5b76bd51d221ef16f9f6426e88b0c0c5a88afc6e68169f0a2c15d950b8fa54bbc361417644d81bc0bc7fa9b36c4d1fd8f5d8ee2c7232e42ccc543e3d7dda195eb0c42506c198d2ccfc0af60a81951f22f0753b5a52d6f4331472640690dbc2eeeccf5a69647fe530df39c1cfa8a34757ec4ce2f4466bf5f3489492df543fc39d1e921674cf49c9e8f285dba119e445bacd752af32fe58dde5b6e52963253fd9a6cc3e59d10d6fba1245ebccbd3acb19a1a95eac1c233c7af32ba9a610d61980bf6387ea36717aec2c1b5af380edafa282bf39bfe9bafd5c85d7014f513667fc9724f92685a8d0c88c926ca14ddba52ecf1a54a84730bf4b40fecc6b0865481a63b09670be07b5a01d4ac1786d005fa84eb9cf89428a35489f1a17a35a20fa52ee5c614720919a29f254915a1229110f899757fb5604684b638bc46161def279ec5c466da2454c89b30548d16c9a8a15143ec8efa7eec9a463ce6560daa015432ec6eefe1fdc746325d512b46ae256414251e89eaa91dac66cf7b58df81b3b7d58b21166365a2f3929e7f6c047d330fccd8447357878d3eea2ed51c1dba649bb585c69c0bf851d6292d137a7dbec0ab2469dbc0daae86df1c5e78e2d58051d7b8aeff07c29c884bee33c6741082607ed0f31f21b00b01e89a40c8ada8371422ff90fe94bd1a64710133b6c3fa8a4dd50632be85437372eaeb6e257756597836cee6b7c3258087591c2f0ba42c45b401adf76ef3290c05aa31063bf585b29e80c7d9883dacb44731c0520a91608c68874c0dc1df99c3b2cc302f86d5bada73a8b050dd5ee3ee79f59ff37615c05a18e481552f898c078e51f7b92274bc9a48f228e7ba2d97e15f9f2ae389b9744544b9965a0b17e0f2b99f137436c513bccf8073ae40032f0cabaa7dfc9ede7128ce92661fbd61880f854645f0e2410f02cd59383255f0bfc82daf0b0db56739a901fcd728a5c05b4e72d4a9b458c86a12dfc921dbe1f3cc455e6186dc5ff3e1f6705989c3bdac0a8909a70f6cc2840807fc0015c8fe206024b4e17e2313f51c1bef5fcdc9c4edd7cbdb3c34c498a11871350522f637177b5e87dc5d7ea31bd68ec8c7b018efe188f642c148eb71a437fafdaa8e15b925243dc53db02d8d10ef0335d0cd5a92812562244c780389df1289a39676a4ff462ca0a2d4e73ef3a31796bc0ed4e94bb26ae1361deb65460ca0b8ed13a8ef220bb26a238590eb148c21b0800ef81977158b1951266175e8ad46202f83e846c06a6753af934b1eb33839591715ada70a27d562ba1cc59e2764c23d9906d4ce2fab1de9a1e6d6fd24d25967f1eef44ef35f939553f04e96bd428ebcbefab4902ca11fc84f7de591a09ef7f795902c34c38963a08df4cb4114315aace748e420ac88a7d38878a51e24b173339ae3637114342bc9afd351c34a35581dc5b71f8eb945e8190782d8e0e05ecd49b29ddc1e4ed93dfb189bb4a716e17809c097ae60ac4bec8987276b18ffa31a1f194ae115fdd36bfac82790dea3d6a5a320043bcb9d5a04cbcfda7f96b29ac7ff9c78fc92167226b71ce929da100151ca19fd8c2c636345180baf6df820bc33783d9c4ab57a194ce6290e4ffd89fa449847ab60e7447ddeaaac3f08207684b62c10c2e0bd89b23ed2d61b3ebf475041c2bf8c3631055bd33cc565ff3f4b3df1c53e6130cb6cf1a4ed3d02e366311d1e657aec11567e1a2f80e4ed3e257d18823d3a2c349f7e18242637bf0216f1c3be579aacb2da7091a117107ff69924c0298b666498c684dc4945648387b9165a859901c45dc0467a9debf68a47a6914047a23c1aaae39d4d3553b909b9ee82ed7afb63fbdbf5c294a35266b94a374736cebee999ed0ed97f9d3a52a7fc388b48f538e2ed95a7a842a5ed8a5cbf68bcb5836a64ae6c49603d1d8b485005e2e966b7108491370e39f5feeedf072e8b09388b469af981dfa1886f5698d1d80afc97ca48b7fbf161cfdac0d002508060fc1fa72d1e14e18a714891ce8448972c2b49d040cf1b79550f70811302039da97f4abec2bb03ddb5e533d655c9086f31821754d1a941c6d3a0c47e130f450e1b2ba19e8fa3fde2807684d96efd0dc6ef9b8d525c97937b8ffa40fa00bded43e3c7971852fc5ae62015172850252d9546ec5bd8019fb9a896fb35de6c50428c7aadccb0a431e6690b4fcf389d59e8b3419ac514505150abcd4b5b34739e0e3d3ad190f4c05b109c7e8a016cebbcb226a9eb70a828bb423f9248bc19d60d8b247b11bad1a2f86b7fa38e8bad356d659f1320e2facd565391514656cb55befac78309c4a32832e0f3fa0a1378b04921071554a451d3af92bd6cbd00078e2872514ea4fc55e8dfe5f97e578618c9bdee880f9fb004b56fc47cf7268c6ea8d5829adcd9dad547cf3cf32023d36055be04dbd9274f01a9494a3d6976c44bbae34613c5f8399876aed11c26d676a3eb85a21cfe73e0b36d2c906982f8367498ec58268a1bfb32b81bb3b54af84884e45fa42447db4428a56387545759344760e39ebfef554643b19bbe8fdefc4a34d3615e88ab15040743f3c79635638c31346720","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"1bd0003e2c731c8f336da43c4abf6e48"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
