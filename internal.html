<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b17204382c565b0edc18147f27dda8ca60813814a0dbcd8305cc30980a7594cdcbda630f90bbcc35c871bbde982a7aca83f8c9186840d42501bee5ac2e99a068c3b74293efc93be53a33f8eb9d68480a23b3b12d3cb2bea85ea9fce7ba7960de27b5e8398d49578ad9fce1b2f381c8e468b4b86d01b5c6d925ade145acb9409a45011fb282b27afb2dade8101e87ccd53334d001bfad181709c318186afcc5c1a7c91cbcfa82d821b2f6465cf2d252dcc4aa0d691ceed7ad2f462f68f6bfcd60b3cbb8f07f86378303fba0e3a2e9d3dfff3caa920b3627a12714956b53ab6d02666ab61dd752541f952118fa2667f44d618d92de8a3c562c98deebaf88e4b2bd1f117b99e2c1d6db82e024705fc8f49f147dfb05b0628e0bc6dbeb2bed07fcf8d88b09fb629278ad0e30ee6c7d54b35c8a8079c14f10b7501a6b0fccc20b40b32b77e914863fd61b49440f712d99320b7f97fd32e4d9ed8da9e3049536cb060b7d6bca057f15e283f17496d5933afbc0088645726f1d4273d1f86ec0c8fecc2aeb893340f08bf566848630749cdefff9ca40ac4eb6b35a053577dc10d4752ed82cec67132901aafaaad9cf5f4cc5bf1ca76a0f3807eef36a08646648ef957d48c40b61cc52c0201fba53a9ea94871ff91cb9369ae09dad461d553c455de3d698518774dbc5cb91ec07d20a92098639e0c553c5e94fe298dd6aa4db1d2ebb7e5da18b9c11e21901397d0a37c7b3041972ee5925b4263dc9e6306c7572510bcd698a59579f3683648dd96bce81ea8501faeca4026606bef176a69128433f2bae65a8c0486580959666032eadd58d6f7bf8aae09bcf0c72505682e6fa797d0968fb1122ff7ce07144eada4c3fb10630d4ac3b63d60d2c54a8c0d59490455ff99b1c9169ce7bf2438870279360750aa22693d6316e2e980d01c44d2ca4d6fa29cb763e1f06c2198a190eeff3da4e8842bc0156569acf4fab796c0cd485e74fef1a569a24d48780f7625e5f7b1988b2aac725398949749fd5a744f21f01c675db6dd11866bb5741983049756c9cc57e429e294ceacb67df7c043b9f67f47d8cf2f38ca1016da88c7b49b02cbf4c83e2a8a1aa12deea52c1a5e49644239dd5a6770837edc4338e3daf3456302576b4bd0ff84c8f6fba79397ca94a6c5ba33388bd0f11d9459ecacef919fa63dac40fb131101fb6c55033565ed5e8d7a8c0fcb43661af7e953281171eb6f5fd2207b157d7f9f14e92d9f8132b40640880d5333af1f82279ab3e23682cbfa0b334adf03e18696ecdf656a3acde0a63e5b1e1d1ecd0e3b0c3d6ba0840db84c392eb3ca0ee8d4c783bf15b8ac08ece2caf0de9257b1c0676b55ff2a788aa369f600c92ab50868dbb18adacfdb91bce3ecb5962acf780ee9c1370ed7fe95595d0639950155c44e0848a61d23a6817c91ee77cef6cb2ff9c8af2c709344db511203d7a3470b39b03895320eb14410ed75673c42be0a93e633749724a699dd2d45effe389a50e26e347849c6edbe050aa1200031ad45a937b296157fe0f5c1765eb52c1bd8cf79170faaec20c25f37c84aa5e5c4c4831a316e95e0365f84e20b84d47d29abc729aa5554f572cae14fa16ed8aef5c66b92d54ef7d90b3f525160c01adec47eb21042a4f3c9c6dbee9cd9f03e17a4c25c39dfaa2fa75a7f3b84f08051ea450f4151df0f454be543a924872c2ff169f4a26de352b4760469c560ada6e56d0c35137ce271694828c545304eeeb7945109b6611b11fe5d4a5d2fb89f3e9a82ec2579aa64af0bec49bd6736456bdffe3e1bee69af76d251954fad4a3375869cba7eec4432b07fafe2480f308d80630f2f0478b9707a45d3ec87b1f2530dab0aeedf6d876cfb73ea99d23318209a46134893c9566ed3a82352456c9a941d43c7b42d31b2a602aa4861b6cb2e2a32cbebbd69a671a865df04964751deb4e8f155431bdd24aa7acf4719169368cea3fb4fbcec28e258b407bdee7782cf9935977c30dbb3e8b73cb12de4df0ae43517b6054e69186c9ec53dd3fa3dbb0bf7a4c76334686a6f34f56663e9d51cc48cd60e90891e93960de27f00eef9bf2f58b83b001ab099193370166dfb33e2908cf6dda50055da0d9211ab2684f9372e4e812beb515191eb3b5912d2149df9176507449ffa57d3836ebd2e18394f4638ddc1a77faa43b23c10c5ee20c71cc8470663a8afdddaf48b641e4476a48a8e1e8403f1acd85d7e084b19bb3f09b8489b12b00d46bb79218e69bc6533da0c3e9f8a3ecd9a5eeb2d5088787503fb7e6afed6c1b6f9db2f36e1809db804c90f9f0626c256f0c22d7172eb77fa46592fbb17831a67e5644c4da0851c3e66165b1189570f51a4659f6f443f0776acf9932ec24b2f8b90b75b213db2914e21cca03ead8617e9e4f9a2255a6197d81311014890e15a6cdb9b6feb751897b1435addd5b2691df102bf5b3cb091eac24237831e4f3d991aeea7c641b51a1226583ab98a50369d93dfb9bc4b41735c32bffc5119517ab802f5ee5c3d2c0a446ba65e27877151582aeb5001b509310041a3bde546114361281d5c8cfaf53316d8f775f518da46ff5a500778a8b8f6bd52bb978c7645277e941af5031b3d7f11e9c4ef6fc85451bfe0639fa8d064ff322a3d3eb65e5c322a055b8cad04d3db088e990b8db4573f9e355076d8d097ec07072f97ba594b44979088bee240526f4250d8d0330860996ed2ea7f335f09e25bc0f815fc81ed39298a16c6067df9148ec69255d7958ac090e6409a7ff54f43335e5a789bab2e38a01dcc1451a6d4001a461612b479e9ebdebeb63194b535b9026762d5890b71959dad74ec6fe4175090c2b230409d889bab6c1704065050daef0775de16757506e14d853d417b8a76a30ce04232d51b43589e8c1118b04328d2f8ba3050dbc720fd22e8dfbc2ed0ea8ea8c01cd2f61447b22ce0ec2dae7f904128cb0345fbef20e1ceee14dceb4df540921a06d10a185cf2e120a73b0f4a5b6d5da25e7fbba4b61235d18bda15b8b01c37106b2750c0d00d46d1e344a2ff75e5eeb8a285ec2658a1bb8a6d68faa8e2fbfbff2bc2dd6cb77ae52654073fcae807a890ec4ac4b8ca6a395b40708af2573e36e2f6f2871d75f50a5ba010cf362a46fdf78a78c9969470dd02112ace890932cd030f0a2bb880f91fa3424ce9a85f72d1104f2c23ed5e7bda550a8dbb4124b5e7e4fe2702601050104e60b9384c26a94b2b80d3d33470f984e344d783d8bf1542882a22f4fcb64985454737666bb457a8bc9a5630c3a348fe0e44ae43c9ed8998da80742d6adb80021fd4717b762f27799176a5f7cc528a29feb376424e8a77bc973be5e1d3aeaf2a4f2c8a78e78e1346a49eb6b2c339efc3dd62286689dd97c62254483eea9b727e861b8bf4e876ff64dbeb8e8e439e3febeb6e8070522ac4a4f787b767fbc21da209fe667b470b175b9c341371f5e766142c68340eb62aa32fb532e1b8393a6519fa0a40d3bc02b53ffcbfb8b37bcf964bd7bdbea7a654929c9eae186f6bac299892ad9af0f7243ef3f798c9feb3f676e79f829e9d00f0b4d57a54250c5275ae294cd54895fdb74e2d212006ed8d3369e6cebcb20642c799ffc7d656b2b526fe915cf07fd2fb94d368e9806a80f5193524fa16b7c9c7e1435bbe8931eb7a57395c0563cfb27228549d089579a2c5f8008374f9641b19e494cc590d44250fcf2f88943c180e73aec610e52282b4651f498d033a0ca36726be1bc83f0d8c10abe27ac866029b5e5d3b61ef31d4260925c0632c6aec37515f7e82c0a53052d348150fb989b4a059d17bf44289330039fd785f8d68bc92c0a0964598b2995fa44bfad7c48046cf8466a95190a7af8b63c0b6a288b44cc3d45df6631505d13b153d85c4cd3fa57add8785cfabb15e43e4eb67300d88f5c43d7c66360abd4e3ac8e0dac823831d76d4cb8131846e5e733717f8b94ef0b293d182b8d81d98234834c4cca1b2abfcd7d1326df96279a1d50549b679d35cab33c6f630913b7f921039164c7c13057ddb42e28169e30657c153f64c2526afbae133486eb253e0b187789fca1278a9d2faabd83dc508da9d3d069107480609eaf1ce3e6330f3b939f06b7517befdc908e525dd1990c172a84aba4046befe5e7bbed7a27813d90a40ebacf3804e2278ca762a51f6ad60b7ccea2798604cb8b65f34fe4c1e635f00055e888262676a9e1fd5ea63b4ebb57812d852833b3354516df8edce757e1c7ad5190902c54e68bf1721ce0593c6e3aa46bf2bf0cd72e1c340c4517d6a653a08e73cc2957bbeba7f23c33d2ac2945c1cf75b6a4dc6d234f1cfa18888cc8119db78e60dc4a188a7852fcc594fc6f934f639b4591b4b8d5aadb8c3ff704dc1b3a3ad1fd911ebfc315c31187c2df627ddd08fa7373a9f065556cc1c5667d15b1b76ff6f895d269479910936d10a34a1df342f4b68806af90c5f6357d9bf5d75bf95fa3fa611bf7c5553f94a59b89baa24657f0090df2a514d4adfe7969d167424e35d1d70d68545859ead33a342415d191d8b8dd5bfdff4ae778076a645ca3fa64750318ad79e51387c9377c59ba8398e40b743144ed47981802877632beb02b2378c173ca77bdc0493126bec808dc2ca33c2e40c296496b5de9f26ef94fd4cf518db1bec222a3c4763bb7d2d0698fdbc56ef866ed0c72ff2ef0a168821f0d0855bc811c6cf6aeeb8214026704818c94c163f23e89671a6a34bf4975043bf9f3661cec5c951caae30acdf8268f786586ba7c86d28fc10eca85828095d8aa070e0bc35610bec8932a59505f453cc5d0d654ed26909db8bdf0d3233e0d0ce6f8a841108b893fae4728d0fa3cf1870ef23a1e3e95ae17fee79fdd48b25e55d8ac3574d2cc43ea8807b2c9f4ff0063c21d13c59a95bc28510300b8de181f874cadd96d8905e61ca4aa080dd2ffe86f19942f470bba78954db3d030d3b2a4239371159d82d4d52b7adcf505745ed1413c0ce9a77b0b4a7f2f3c6a09bf13b1795b0dae61b8f44042ab84abeaf672636b31ce1f0a456f359697802c005542864186ffd74865940ddd101a8a88d1b1dcbe89598545e64b33705e71b6ce8b48c0f14549f328caeaf77766245ef28b88cda84be2174a51acda232cb2368669265e0af417b7fc34ce3e8270a8c7221dbe643282e43cf8afb7c493debd99c25d7e3fa1b3f368d31a1f3f67e65a6bb8736128a18270447b21f1d5ab5321847698526ff7d14604231b55c83421d5ad6542c2ea265d9cd16919189e2459038a7a21902c1559a884c87515367a084f4d38c88a4727f59b359c69337dce86cdd405f9d33cd7a1c4fbad2b650af959ba281df982e8293cf927bf5023f5a2fadd65bb07cd6da24cebda7017b8905dc9e515501a5705fb32e39c9517f09cccbff77a46f1cc7894601de648884543ac497aee04c46fab82af1218ec8b7a185ccf06541552921ecc273cf255fd6ebc644e11afb652dedea213ba341cb5e1f90969cf10479c0a8f3330c820a267d1e52a9e2f1e93ba90e11c7213c4dfd26d83dc2e36f3bb4530212c099ca3b44b41d698ff9a76021390dcb0e4c1da1dc28b76ed3ec7cb372366e4cde7ff4c0264f473116d23f8f15401d60ef0b59677ef8d89327b86c364326dce25baac4240d33a44c7c89f291e0594d0b09e9cfa89793b5111aabaa430e5897f6277104501cdd9e0a548988ee7701c7ce208e8ef08e8c818b1ce0bfd82609944fa858760c49edf6301aff49ce2f9690ac97a57a896f25fca39a04c66f9eb8ddd18981b37bee39d7c44ece0c746ebd5b5d875cf95bc27aa2513ddd79ee2161d9856727069224f8f5bcc212f616e1240b0cd7a25a1d6cef49aff66aa30ef80f18a95dea7edf82e1e3b22590567dd4141e17c4ac8b3eaa897eb78889b1dce613cdc95f7dd39e950cca3614b7426369eea9b0c66cd3238e1a17ff28baf5b7051d13758d98d7d8d008d20e2cf396d6c8fdce9fac63b3106fdc15015ef7243e552c2e530d6c4b7d4132b5def145f7c61b306501c1d60571ad6388b82ba034fa18ef8726b9cfe4b1cbbbf24d142545de2c4fb7a78295026f72f39b9b97e25e4693f135b9d12b2af7bb00bdd8f6046872fe6e28123c58e018edcacd7705ce699f29d41b9b0df784eca9db3b2c27cb645b4c7adb070db1191149b6e073b5e8b79a92db7c69c07759390a14766e428aac6f96bc225d6eabcf13563e5f03db889c6b2e0b434512bfe578e116755d3042a3f9783f46dd27cd79f2d5dc3015eccdcb9fe808b0244ff91336cc9ccb4073869ca8c33c391c1f36585bac33c6116fa7e337c9afa45b15cd8e175e9c2521289d9775cf620ee38137583915d8dfe3808cd4267f4ed2de76278f91b713a9d62bf0217b78315f326178b7b04174c3621fff88732ff2857b8e8d9114b7667333ea594f5f15651f8f27cec09d4d5eba98b70d188604bbaa5f1e2eb41787c7a3a00f487b7e46e2765be2ffae3edb1f6926ce44dca9c28615118a935e3d79054a05cebc544ad5be2708c2f8d602d92e2e0bfb14562bf9bf92a03d3d70507c308c523443b79af02cb8b437e5c2d2b3e57e68a3478f51db052d6beb00524619fea83a057157b3ec68ff4e5f0671575e85e35d85feea4af053c9564b6a8aa3f3cff4fa3a58fffc16870a81f38fbe3a56ef1614e958aa1547e752e6198b1444e9fad8949233dd5ea89f4f008bd14b26f7fb4af035855ed7830262dc992c83b03b5675ebf7b2440a152c3c5b87fa97925354eb4ea53da593b447fde202ead20d62c501dae22fc8ebf222a29e27d86077453a483839fe6e77583de4be2ac31a518003330d2f9ee871f81256a040e576d2e61ccf9f0650da224d74cb63a39f1304e869e49d45a2e039daeca58ab633f96b5c34847e8b7a89c8cc5967cb3b0050bf3691866e17527ed3518670e834d5291a1b6e873688b3e1a427a65281f2e06b3f69863b7c011432539db32f3b023e61c20f935a5e7c44d084006f971a8c25a141dc894f22151e78fe54f0f4a2c8a7ad5012ba6fda60e8019f6598083e955cd1db45b34ef4c95adb359ee2a875882242c0d77b4ba419f99ba1d97987a7c1c245703377409e7c2626eae68fcc640632bddf0dcb0207f81b782eef6ec65f64013774036a652b342106e00b9d215a401ec79261f2268e57ff7dcef17dfaf91b7f952a9734331b7e6f96f618fd674f352b9cdfcb8ffbcac5683f4fda243dc35e46dd2702438d1ef18fc9daae9d16d13835b7d9e003a6b664b582bed67d06a35b8286d8ee6553c932ca6c9be42427152ae47609958a76a9c7770d03709b6a1fb122653d6358c80e0bb482b09c0dcf47e668ebfde9de768a4d67015e4b4dda967a67d6806892d195f6e081b839674c0ef6962d2b8e057109e8663eb1bedf693ca58bfa2ddc8aaea82bd8ce86fc235d2bf8909fe8c8dce0a51d529dc87cd35bb001697489956e577e80574a5e1f8aea987a2d2014fd8b565b465b065e82104543945ad716046189ec25c380e606f1d2a04a41a7e35b1ecadb730bd865c5da2c138d57f2b0ed2afe1d1e546a73e5c2aa0cfd26b07f84f928a6ef6fbabc7073669ba75a2b48b69614abe0d02d7c007d658ebcd98b03df057d84a6295539ed885b0d43ce439ff5f064b231a0b768e6edfb51fcfbf5e7c3cbcc6d109782adb92b0ff2f1bdf1a53b46020b6c85aec7c606499148e1eb339c217186b573a78c5a284a4669ccf8bfc6dd7994bfc22b994e01678cac0afe6feee5ff741738e8d4e65c6867f0f0318da0927d65ad25b16c25709e4672916fb15ed64b6862b99b320f26e24834eaf66c180a0b41fe3d0c6dca17b2d275a895c369662b16b7f1bd6a188482c8594cb20941c505416b14ba19b93c45cc40812a0c03309bd5f2fb8f2e0039591479b7158f3fbb7aca0d34760e26d6bccdc7698c7c06ba47a63ef1999b5bc9df496ecec7e8f1dc1dbf0f9aa6d3de419785b9db2b0bdee9a394912f62c45a44f3b20fbb889a5a2912a6e2349608dd4f54bd74798007911c134b66e8aadc71de2a7fec50dbd244743ed25066fae40f4235970f1b77753e8cc54d83cc09bcd00bd71c47d61c8c658109ae80aaf7c503d5d981b1227f28bead3a7b5a81f848362676ec9f3a09da43ede67eafd1859203357e8cdee38e8610fe7b03b2d76f6106352cea372ad12a77ea57b40d4daff909c9842b34c9662138ba72f2d970b7d7574e4f33832638f59a272d5f927a82393b9c87a8e7620e12b722db62b5fb8eefdb4e9763acd10a85832884e86ab1b14eb0c95767a513209b54aa7bf38b59448c9e36fef44d0b544ad959ea39a0d55cea31a7676d6bce5473676e647e72b6b3c9b99e6465581ededd3e0fcae3bc1c77fe476b0eb396ab0ed3a78ddd92b6e581b0269df1d4dc788bb017b387cddce5cabba220fb433bf2e2f23695aa70c2896a805c11723b43760c8e64c7ddc14ded15ecd17e43ae57e11f8dbfce21beac404c42c942941c2696ac5ba0d6168e86ecd3298e022c61dbac2fde44bb6f5a398252eb54f970717ab4ea4138d440ba21925de2b5036e0bebea66752bf40efc8169aba95af93f73cd08c94f49e1a8582719c9fb1cbf8ad1f7dc9323b7bfa7b8daa058c2f2a681b4c3329e11001b40ddf70056f580b4aaae67fa559ffa3c4cec3c52b8b260ca42870c002d0fab067eee9a157509e439755bf6a00e6814e4deeb0ed78b5c366db9d53938c6fe98fabcbcf447fb43af6cd8fffd4c1fcab2c28c027fbc5b1e0be3867fa622808d0b83773729237a7b8c7d4c4a9734508889fa9bb584a16f443766ae2c80ec751ea50d6022a0d403e3ec430775e50485385a5300874080de3c8f20c11b629424dfe007966db4e2d290cd08b5248a8ba37fac597e9254ee1a3ad4058dd322538e5f92801fef96e78dbe76e36148c43f63a727176479b30cbefde330a52561b2a0bd9c04de5d46c989651e612d918c5e8250b2349933c7de148f89f5090248801cc98ab127491b7e4ef990fe017a9238b6a07c1d9c054ef8ab70ed4ac3a0fbc0ef6e6533d1782c6a43e0c21ada3789aa4af4e3110dc2d5aa57189056f0d8dc7262b6c8ccb10296f2fb398a3660c39962a73a70307c9395912f529d1dbd25b11ac5fa80da0ff3075f9b0286aa9931a41b6d264696945802fb188fae8ab89d2204ec5736ae0a912229a9e199ca103a08e1e4d5eb8292df7b02b07832da2bec7805f62a81f08db2c9949ed87b15d5fd86c0f1b2b1f152bab5001cf51d61b5ae3726f5e116132c6626f3a96dcd9825d91ceb3e1d125a233ebb7fb1d0a4a6fb44e2dc72c2078dbfde0f0d2672168f879e19064dee73961e665c0c48601a244d3b77afb3ffcd9f49a146d6a1857a504dc70ded1f70d294f9db2f866d7db6cfe6a1c865bfd26a12396f9d8447bb5d1fdde161faf6c13507a2bd1116fd99fe67ca4696bd1b57716d20f8baf2c4d3980b0f013a6db9906aea4a9c123e7bfd4d1703d9849a8d5971797ac732b1503cb6e6f5758cab60d122e198da11fbebf4588cbd539580022919646ce63025b9898e9d2b609f56ecfe1ca3dee4702ed6eeb1c3c269a076282068556ea9a6650f7affd3d83b7619e89d57556fc5e363670e4632abe15b6ae4921f0d26a15ddd517cf06b77a13f2ea8f6e1bc6cb0d2e322a76031058e3eaf220073b3cbe7cc3fb014c74a63e8678e397530818698b27cd0d76c742bafc3b699944ef3fe759493d8f7e4769c3d7dffb08c970862eaf2c06d6500e9f9216c18ebcccd706c582577741dd23cae805d551b1fd1d97100707c73820c76f9b7e08d56e9a9fb98226114769b020ecc9d58566c0f04e164a1bf2f0cd0ce613d9f68db2ce340f77547ca7e41654d5fbd5b900789f358a004a0844845b2ce4fde1c5a92811947922cda5796f272b49d42f9bc8641b976c2dddacd158c77ba4f1d1e277d87c957fd745a7edb1b5e13d699b89e9cb7b93445a5906cf01f2beb9f3496465a0000bc0d951e674442cd720016ce42ed55cd0f5c5c5d34c16fd9e3bfd7826062ec7d6ca9dacb96742a9a0155747764e8cd94421d1361870d559802a5ba111c266b9764a24f14a77ecb7cb44b057d07648653e6d9d43faeda76ccf67ca38be1068e9eaf680708b9fd8d8e1157817d140d4c6892f3ddf55e5b19a271080fb33d36ee921314963bee6bb9dd5a1184b5ddaa240e8eacbdab770766dbb0ab0150b3e8cb20fa8fbb9931fa612d62ea37219c4c2bd5daf8bf7aebfce62bb3c67aadbc7041abc0fdf5a4ce07ea60c6ff0d499cfb19fe0f91d07abab930bb41421e234f4c3ce5535fcb713662790c2b63e7260734dceb5836ec0901d05c16862d2ae30c457b7df8264f128411cbe152a13494c653b3c5117411d2a67da2d445e674edab7a69c6c94a764934510135a3dc8aeebf27281df4da34ffbc4dd3888b97038ba64a3da554c82d67e27d6f0817b76675d346f8a76506005538866961295d27ecce1406848bb5f3d8b08029024e350e4cb3f96cb9c21aa0c0ee7808c067ca7ea5037beb90de75fe6f560e6a1794957e9ec3de39598a6ca1cd4731719358f1445832ebbca37303ce4124f9ec9fec2ed67cb4d2f0ddc7f8902bfb3cd8c9433d6e4f21405f627ca3ea55877c1d4783d6045a47b6198d57995ecb406f20bbac4fc88efb730ea67918835bc4aec4f5d08cb4f929a69caec84b01ddb06926157c99e27a833bd6824aa402de57cea0b4f1fb166213c4fc08a18c54ace59497c7c89699fe5119d5e2016739e952b101095cc63fc00bf5e8d52db04c2c683b9c9b4f5ae823e419a4acb863a1135c1b4370cb6b147e003b3fe6e6bc5320b8031f7e1090246dd6d8305e6f61d280ff8d8934a49c8d868328f49ad54e13d381cc6aac4b677589183b9d2e9bed27fbe279425d9c8bf55f63989dbe9386c1869e204bc765391e930fadd024e306a21aec974326e5e1610f7cff2b942e219aedb260c6da475f2c0b165ddef838e09b36f714eaffc0a77e5c7fcb5cde9b6202f0269c556b50f0fe1cd154e48f582e8b5fdcb278281a2713ac98f1308cc86f7ec4b4fb036bd8a27f6291e91d0f0ea32f4326129decfead49ef2fdbd510e8fe2eb0cc32b0a05706aa8fc9754fbaaff5181dce8facd9e12e05e4f96ce1c70b1f385d3ea39ec61fa5cbadb29825e696eabb7904b8644c8643bbf4da3bd91ab9bc88d80809a0725ed6ce26fc03d5879f9f259622f630c6570c41dd73bd71afa9cd9640303db978d56fae4dfd081c8613c2f0477905ed5219a15d52e96d76ba79b16b831a90dbecfe6728ef6eecd8c417b8711b6788392cda018caf5cb2493105ebff8df6fc10b97e8d66b06b315da6084467255cef351823ac40e7a92e6f5f82b04a2101f5a9e03ec58db4ad5bb1b0b48ef5881a14771eb25374bee78c1785c125bd2357dc03d182d1e386bdcbc9978178184fa26eb9e0ea6587be21c666af2fe18b5ae59c93427b7d66df5e71d1cadcdd8fad396c5803e893c8d99ebd19c4e1c67b77ecd0e0d451b12927fe23bf01c9d9381f8cf97fdec3637e100140a59ea665f0f3d2b1fb3245c07c2d15a2d28d16538b29d939bc7769d52d509a7f38770d6e9a9561efffb8ed2746e7e85d72b5e6405b19ace4846e5d9f1e53ab11838d70c138bcaed038babee9ac632959c8dc0e7de2cafb20320b5d30a28a05afd4b292e2ed5e9b0e5a096be8527daa62760b9736d90bb07aa1d449c8fcf1c72d478c57d53b83c8dcb701e8b85ecf0eb75bc07c262111a8a33c35bcf8ab99ea78ac04591d9dfb6ab7ee97065462b61ca46083cb7718376482bacff8b4cf16d71abab53374d7755b4d68cbdd18ca2530bbc3c3e959c714ecf0abfd8e3ba85ba39584e59a5dfb7d24c3c538dc0b72db2a215a64cda8af6bd3fe2977c55845f7981907862fe0cc78734d3044cb9dd489383cf4e23131379fdc9abc347314a617df5beae6155508daa62d4d52a9ef97eb7f78c280ced88734885943d4f5930f39c876f5f7c53c66f5b195f114917387daf54fcd586629da05f05f8e458d825bb8c689c77b590c989ab9953f25e7cd4616e5b682cf65d801bbec9ed1bfce51f3aa34e46b396d93ed12ae9e2f37fa29d3e9c7fdf104f5869c31c2073380f3000ddb30c85c5fa315a447f7c55fbf7766cf70b3c2a3a80b67604939dde1866927916702cc501a23872e50fa6e92929acea6bf5db61b4ae54fa4bba023c104c19489b2e86aa139a6466de8d2b4d3b4f93c82f43b6c96a9dd1ae17d9fdd1c7353e95bf95095a9551612ebe91dadf801c6a83c23e408e659cce744a415542b96c2956c0ef33be1dc3d0714779e2b80021e502a799a4791a04826f687c6d93a94df3a9469aff0d69cfbc6da6ffad82e113ad2157d7dec2db3dffe822d8d264c295cec9c43129a0b04b1d3894f28df94c61eff4f26160e7769fedf28dad1e8e5e3f136dfe619bdc90be4c3523161950bb42baf0eaf93f609a10a69f3fb072b908802dcdd724c1e4abbc23f71264da7c1fed7962dadb1744de30a3d4ea0a9c13bdcb3df6ecc32fb1e68a79ba3eaf195751f53d7ce0b84ae62cea7aaeb12cc3390aae4e7586fa1108a030f0ea38b70d55215bc66fabc33f176da0969e36472a4dcf6a8120fc62ef83071cac8ca35f42731eaee77dce3dd580e35c77756c38bf44c899b120ec7a82b3cfc187443d464bc724d4f10bdb0dced48df038111960064b5ec7f32ab6fa4da3fd9816b927c9e93caf08f888ea03c4dfcdfd486187536e7fb9987af58c81533e4b815dedf8934d33cff441096515d125475879acf37fa3c4094bd8402baee1991040c2a6bd89aeef4be46ef182cc2be6e354c7399d40cb2145ac5f100e0ee15df231a601cc88913d7e861cd3da79c3bbfe44eb2dce0af32926eb50621b2cee626972c2060e7361f5d08f01402a7415534d05a28909dd8f1000220f13f83cd293b1c21895f96d5f31d5f8bf5ed9bf516b009e89b2629905808926199d128cc6a7acad46088b6255a15d398d764334ddb7c6531feeee2dec7a98fdc087f72e404264c3ab236663be7b870a287c7219b5a9fa0449348ff26a0efae8ec0e42cdaf4fe91c2c7c7412aed8c82c4422eafe129bfb497da63174d2b413a6ee569e4d97a3aa9734d35283397bdae6fe08c59e39c605a64b3fcad8fab0cbbef9af197e6a0aab362940dccc6ad18c0a7839a1f627f8ae16399966dd02d3f02c1d252d8a4f1f2f7869f351dd85d490d61906f8633552c6ac3e7cd31142629e36dbcda9f7402da9833067448599131707d7bff455ed131481a6b7ba7a64c12b6e841f1a7d39f002766a3eee8937627a7455a5545cdbb01db848a264f84a3ce2e1e4454071167d30dc274987a4a510073030259a4c47b934fb75c1099ec0ae51ed84c94caa249f1147ae427d10998ff0507b59f6e46d7140f16e1feb708c0a88f11cb0fe793dcb5007e13934fc11447b45b2fbe39e668df3e986886a1de371ad94f393d38be0977e31802bd700b2cf85e173e9db5e080ad2a0ca5f52702342b63571e1c4b94c09eb331042aa8a14cbfd30086b2ac704da8a979904e42ead879bfb8814c7205cc8f1eb329f9879e6a271592922307437a4a303e289f0fd70819ebe5d6220e6c5beaa0420b323a8b2ba8b2ab34986ae45f24906099cfdc71dcb9b38b632b67d3790b9c5fe9cd5766d8c22c5c85a57f283034c3fdb073fc7d81717cee3ff2e3141faa9166a38b0fa3b3e875e87f906127384ab07587af00281bd4605896b934df7681ba1a1d50f7b4ebd10d95dfa368246e0fb2e14651dcd02c237384b083c4ea801e3bc0c245f41e09da13a5b6277820777ec68010a5faf17f58a1061e82f352ba69847c6925f289df54edc617fafc6191d97fca8b69e8b8aaa804c0d0a0f5c617c1be1e7731c4af664af74fcd68599b1d53f80d02e9ceb4d5c72da6a8228d6183c25ecf09ac22ab89aa19e8626be7c78d64e6f0a7746a997dfc80ea2396b9e1c8d779117f567ca7bcd18d7a9d3eb71d43df83cb402b119d0f0516534c10acd28766b4ba8e0693e924edc8e6646bcaef9ba422b0db489b4dfb6e6a6b5afc385b11224f3366684be980ab2ea0365bdbcb119e307eb454f7a8e0d974d74348954b856db0c4b652498dce846689c4b1ec8345a9638e04ec942ca9e793b279ddfb0707eae768baef0e594e5a5cc319785c5a193804f56601f7d531f249cf92aaa0eec000d9cd0a3ea9d5b181a02d93bbd01de721498391cf431a41e5fdbb3553a95a2e5abc9cda64efeeba6fcb8ca7e5ad93644f36c1dcc7249a32b5978bfd503c8235d6985754780b9ef1eb7779ff036581d7172e0cf203adc4b63167464b018e307e0da168e1e794628ca2deaab4d8c4fde5dc5b4ba0b32904677148dcc932dda1adf1caaeab4f3a94fe2366e886bce6301933ec6affbe008e1b8de9327fde0d5dd6c7209dcd128817671afd8c1f9126f2faa667523086c664a64817fc192a59d7794ced9d4ff539f63aa6d84ce8c1e2aa1e7851f48e98ebb6fc6688da3f47f54f587da3c5ceb809be8c677e8a83ee47729bb6f8b52f923a6217e26365164d347fedbe753369c7928c7e53c01be6e427d3ff6e405636b042409eed41f13da68c88ea020bc8cd629f55dd2a610e7cdcccc9910d7777bc2cc22c30b9caf59f20c98b83332747b8354c8d03681e5170648ef87bcf4f298571191fb6d7f9b41a7478f37ffabfae3c8762c8b0e3b457b5191fbfa32b9aa612f9386c3f72201733fb269d0b3047276c06401c363dbc8a962ffdaf6f16b6cd9f691c9ad5caefb4132573bdeac9313093cfad887d486a3480aed7732632a05ae4046cdeeea7cb130cb18b04f962ce20c8f8c72d390af144585ee0cdbccd649f6a5efa0e4f06b25e2a4161b5c28dcd8d93a90cf2a99ecbad66e08eeaadd0254382a2841b54715075978a2958366f6bca6631edb88619d0a2b9159696ad78b5921d2583335d3cabf055a497d4082a51a960c6ce02175dbcf49c57fe591ab9e3598fa011027208195ec86403ba233f5a5f99a0addc535dca1a565f179bfbfa5bd3d8c9ad361596912e530f33b4abde3a8d65751e7fc1bd3b72faad20543fa3505b5ee9ffe829e8c4246d357a8a9baab830efdb05f51e15939dd13c9befee5b7ea38b5b643a7097db7601e9d697d375707a69e93b9d65a03b9a76aedbbd5ba876a204f82463211823018b81bbef895fbf480d96af549e8b3629070fd5c58a8f5f093c552c262c52414b6c81b51fef640717e3ea97f9dfa8c0cbab592e3bb5cebaad19d7992307fd78bd91e34dde1bbd9fd94f56b05db2bee9e072cfcd46192a44f5ac6ab3c05d478b7877dc510df58d9b66da7d5ed7d1d4c7778a08a855972b83d0f3f7e785a456d871f26b8c9d970c42e850e12e8dbc3a7797f732152533932c3ff0c91b65d95c6730aaac70eccf29cb5da37c3b4c7a4c98908a1916cfde211a42c4c7042559ec610aa1d5b85bf51b25633365925594ec4f806ba2377bd84d45a911eb06a371f1d5c2ae02b3b11950788d977c983c83e9278e59ac3234a207d31e442bfb1d184b9a681b58637d6dad05d2b161f8fb7429bb8c2e9f4fa399f8f348b3afba4abfec7fdb505de3b8a7e3f90270ee0d9d92f8c501a05559e48fd4f429586418726e3d53247a6c4dbffd1390bdead936c7ae132534a8fab1ea8f0fad915495da43a4de5dcf01a6a5a30992ecdf35160086a1cee803ed4e3e9e3dacd260d15171d0b11d860ef370da744180bb905e6e964db3a9835c1598e180bdc84c2e1b9d1d5d181fa4020cc5da8b7e27593f842f2ad0a56d4379c6eb5b9403b36ab3256083b17ac4ab8047c69d385c9f2c473a97a7645228c7ac8dc00624fe55b66d391f036d17f983378151b4dce06f45bde2759db9c4ee1f11ad7bc9adc605bbe8fb32231523855e5c8d286eb0be08f8af20dd540da091ff4430607cdbb0c55925f142c20d28578755348c02925ff4e048550966c98f0f74e58c983968509415dcf5c61350fc5ff5f1b51bc063b21bbc80b1a3331e90765ca09243d8edba15edcf1a5c4a8475fd13b8a701d8a06fff912dfe111779d5f009d54da6f404f2feaad2e15ecfa4d5ad53a44f1ddb73b5989291d369562529a59035d3145cfd8528ad8134781d17467eee17fcf1c2ce86ace16310de9d1138ceea7971675cea3c559944db79e7cb28b8b51c15d07f972bb13fdcb0284377198f66f8ebddc7c3503322542671c5f92100639c9a65fae3e874f46ec2f1556e0e6b0cecf30bda81151328436615a41d2dada917fe55fb2765a90ea6ab561b9305b0e8928bb102c9dbe5e9c989da9e606fd1f10bed47fb5686ed84a44e9b61db80881e39560b1a61eb29607fd56ecd17905bd1bf75aca34ddcb8f9ef9ca366eab95ac811dfa06b5ff60ee33030633bdb3c03e810c9651b9e43abef7d0c913c402170e2c406592e3be785a0443915cfdf280d5e8a58bfaf8c542aca07c6bc41d0109b9f8c7489a2b6f21c2e7598db415a93de0d83ceebe6f313a564ec33214a9c5a74c5684f52bf9a3e7d745775f60f06cb4cc41e867970a8afc9873860d4eff647ce978c41ec0f7c26fefb17eda73b7698703ca679fd4d8b3576df1eb769eda059277cc418f1402e6af8f03a696ba5f645ffbbbaee56d4fc51d78e698ad420497f0e82eee0c93adb453e0659ca66afe4cd470e14fa1fd18d79e4e359b7774e14a22ad6227960cc7838354371a4cc9903150d3f7cb7e84e42c07bd3e8a7051986293a0baf70ae113bd338a01eef8767afb4fdfd25d28acca2e33db49062c7cd4ce82b9c994d0e93e42ea74b521af3b309d5a0faca35595edf5558ae763b39976313032b49bc312cd9880088f9b28b650a3d72fb3dc86bc89fc62796f3ca1302113bd1cfc732a1e643bcc71eaa2ab34bf7462a7fbccb47fbb4d5714da9c8fd8ad1c0114af0f73fe677ee53a4404587ff0a0f498ed29b48b45727034ffc6ea6c63c41068e5381d1900b7a228ab3a7be65442b99edb9cda8b95a5ab9739cb7719a828e00084d79536d97df14c1c7fce14729b3d0a7a669d676ee8d42329ff84a71b0d25794ca67a768d80c11d86710e93d4f33ff33e49638604a8fd7c1c2415866b139c88e8542752899704275fe2b924dd0ad92055b23ab586d08933c9329995089043850594189d3aa82ffcc4c74e3168fe0f0e3a7de5cd4fc8b0970307b09ed1c2002fac5083e29c40d60915f32c46fabb959228328109c5e1fe56456d4f1f7606fabd554b2bf5a54ba67798341900d1fd5564eb02d00a3397bf2943a70951aa84be78cbb4d76b2b1c85b62b98b0b47975ecb320516e6a730c2b347033000655ca964ed075e58a09e2998d410b67775acf57bae5abe28977e71c84a6e3d7cb35646ede672a5e66deda05041df15f6e6f8cf3b1c01c6e218b271bed27cb463f794be626831702933036490b8f9232726578747d87bc5ee8fa4ad97596730e803a408b0358b0bc71ba751cf96d28e54bb91fe65cd47ce156111ccee5e630e04e1a2511a1d47832df8a4622d6d4435ce0db290ddc0a3df75df9a98db3f2b23f214bed2544978183f55d67ad1eb9df027babf11a113ea6cf326ab071de3367fc26a608362db30775b5f541354e75924bea72fcfbab3464476daf96a0357b898977829a1e666beb09a3e3dc629dfb8448bb0a740a097dae590fd0698e348011483840f8171457f6da8d09386b88f6cdc381df43e4d661a642bae93395f2352b17e28900e90cc733b31333a598bc8fbe2de9312b17a2c79179ed8dbfff297bd58450e1ebec37b5c09d5777a05c1b620ccdc57b540c22264a24518846353239b2df173fc310f0d442e662ec9ba284d492ba45d26723f92ca1a7a225f96cef4241bd29ff7e549163e8d99ee7372d54169c9e6c19a93ab81897bdad9a5318a4eaf8d6336af850d2458e99fb03627c654cc4e1f9e58383c5c80a60d7c2891409ba9c3732646add334bab9dc485b1a6a819975bfc0ca6899a86175abb44061adbf8da9d526fded75a918e2575becf952b76b614e5ea8b711bd9d9a702b17d674c59d2e2bf0f32adf78fef74c78c4b1e90bd999177a4a3b2732d5628d189429533b85381c87be0d7d4e491b7f94a1560135ff6905726078ddedc59f6f1ad34b1780671def5d604481c39bd08186910c369b5d4b34a3679cff848b63cc65b0f3368e66bd757b4716c2289a398a40758fd9aacc8e78fdeada761a4452f47c2624a89262e3ffec4ff067c2a80d0ba95f41e313a112864a8526d22ef4f673920cf8de326105adaaee763571877ab2d61ebf962cc3065f256421135dcc10bb5088207f6ad639533e8016a7a63bbc48c5ad041c1d94b646b7b993880f20020dc426a44379cf96dd03adbbb5a99ec5e02c85ce2cb0342f092b8158bd9b21183d066cc0e8fa4c47fc5a23ce65ef40f76dc0248e4164869a2fd509e6da711a077b73c628e87c4d9752a4779f49e9d7e9dbc95417a6e26a5131084a117d71f4399d99a9a1d43b8ced4eb529128dbaaa0273d37da2395842dc8497a2e92e11a889a0e1abb0807467bfa14fdcc7fb4763b09170f0845c20398ef7d5677581ebe3c5a614b270104d1182e2d96e41e5047721205a398e549e5ff6a4264e4d43d099b844269fc05878e0b482b01b57996539ca909a1ae6a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"9a1d4f2cb96fbc83d5dddd9b6d65a131"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
