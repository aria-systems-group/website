<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"218de3633c169022c69e1f9399cf42c1d1dacf367f0f273e277fe89a10a025c857977d7ea4d02fb79e2218678990e0618d75a194b190e6788fbde362fd001ea9f5b8f405d1818734237b84a96898064e8fa1d170d6339d770096c9567314819383e54d08c362834ff0384b0cca019359eca9581f66c10d03d3231911b57654c1fe3811722d8b97b43afcf3b040dc7f17ced1f69fe6c45dd9fab75231b8bbdf91900ab2047efe76a8633f3aed8eda148a5d2bc83ea36affa2e8b6fea68e8ba92a4fad9a2411e7f2867ff4faa8d1416dfccdeff1c593cff69866e4cae8e39556cf1985ffe54fed6ed5eac26841f707c77a3f9ae423776d334bfa53b796fd9ab8e815f8e953422fb6bc3cbdf0aa56f7ab07a0e7b3c41b9a1641ef7d57877b711d24c82912b57e2bd401b485b81a08a331708ddf3dec9e7b24c154617aa105266d184e1f54e724906330b18106e8796b52317cd6d9d72b8c5548bbfe208117bc582c08f7cf7157af67a041fdf63ec40ada87542c5c90b674e6dfa0b31551df286b087caf72c5acccb1f3b79b1c7f5a42c4e4bed49e3492aec4bed44ae559e72325ed5af98cbf037d4c162021fc6721275bc3dd8f2a5b4221e9893046f16ab5f827cbd053e9d24349d3a8a7426919867b19aa7275e3709bd620564b6cfdb7b0bc8fce408fcbea3153ed25c755eb60b1f89620f4322311350f32df949b7624c761609fb587351109fd640a3203c0a96483dc9e8df372db23498df2cfe19c1cd365e7c38716e9428680e6ffcf342b3bce9fc0e3676ddd3b97d9b556cacd2db124b5b33a0a253f08087c72f91804bc380af3e0f1115abc6fd89282d73bb44785abcdf9a2df078e2ff40381a26e71f2cb8c6df2d733769f6e567b1eb3c50b0f752fbd39d172e8fd68548229e806e6713aad99b5c2c7daa1f70ef410f247efd21067e6590bc2c0c562d7f7cf8363a9b432ff4c0a106b6302432a4612984c872fc36b9973ec9d2be4b2c13dbbea8409bb1c95f76cca6a0a1c236827fb3d88f4882d3f95805e6ec7312e4f867f0de5d1ec1c9fb5b9b21c6c7aadd8840faab56268a5290fc7ee73119f84a9629301bd0685b4a980565625cfa1462b66cbd16e008391bc6711208ce07d155a55854817624a1c14d4bedf87560069f0b7dee7cabd2e8efe2559bde5581b5620952ea33fcc7c3dc6e6a82216ab0d24f1a872e686959509c08d0a92576f22b4489703ced910968179b955c570cc0d11925b246fd4212a01860d9c74270cba4cee2a040673bc852dcacc74a32b36408b0ff229e194ace790eb42a0e8ad1ecba276f1c8c9667a22944836ecb6693494e3b5ce9097f924c89a8171dc7dc64bd8126fb37772202af823a4e6c59ac1c1f184eac24006c7191df4565c011a116c039621ec8854cc25b64a63eb4a36699e1660f8fe45307c186971b8941dfccfe3ebaac3bfb498b93ef1cf0a39b314a7b18301e20b24e891b8de294bab2fdc656569a2ca76dc1d9eecec1603c11d09c7bdfa9a40c49d2b3387616a0734946ad0ef01977b95da3fe50c7cb3199e5dda81e14021f2cca2f59cff8adef754662eb94802e16c280e9e3ea01ac531bd9f0b9add178a06a5ea2cc8ae1eec574deb7802a76f458a5db77e9c0f28466684f2da5a05d6e4dfe26afc43056fc1285954fb31531ff4d7a3b438bb148fd883cc704b223aefd3016517cf1ad46451235ef43a4387bbb65c9e1c1f77882d8d54d0ddedc4e09045028dde399744bd49b7bf5cf284885154ef1d954662e5033ee7df1d3e5c94f88131cff31e53d90bc77c2ccd23572d9893d4ef1256cfea453131fecdbb44573169ff2f373f4bf57c1712143f91d51df9beea22696636b8f0bb06b005945ff1892a653cf5c0ee4b9a58ba885a25bab9b7daa648234d37206df35c16e18b6a8d93f27f7f002e67ddbb816ba45ba5fffcd97e577728495a75bec887cf340d70f9e7a0f4a09556d275afc1d8e4e9a0eb58c12f5af731c2da5b0408e1881e3131177ba589a64b3a5980edfcc064e0a3edd7d67e859fff02e84408f0e607282114eaa89a9ac8f2029412090b3b1efaff89fc16014da94b88e17bba22a2d7dcbe3b9e543b075e8ead800cf350417b5033254cb0bdc948e44bd490c1cb1abaac9643b9b8738f23e8fb0dd4913db9b4520d7e5c32918824d867a7b1112a490fb01642bf9211314e4db3e0441d5785f3e16047d73ec3e80f79e954dbcd0fe030ebe2955e93abea8a804ab311cb6e4081c01ff1b497b9f0e12b19d2453774071d0ca8e168e849a28c6e3033720a25b0c8d1d9d86fcbb698dfc45492bd19e7b8389774618253a6ae7e63dfb2d2bfc2e76807efd27168958826f62ab3ee613fa07dbaae81adbb34b95bd29869fb0030054aeb98c442b5f50ae0d8557fbf1f151c4e5e89cc5a477d6f844c3a72dabe74445c11f6c47eea9ee1276d6991f8ea71a176ab502c87ce884867ac4309e9a90b42253d652335a8e314e56ed73c59e7922449d0fa9a21640b88afbdf272a4942954040a94fce7274206c0dd99dd13cfe09518c3149073f48c02795988390b1d4e35fbfeb1e275777514614507ca124fe9f73c3085b400c9fa145a1e3c8a7da0b753340c6998badebabb1cbc6e03477057f10e90a3ede4c4856e49ae1e08064ed01869d9a2bf49b3d83fd751d30443092660b7d5abdeddcbc4608c4c3ce45dec05b083f421e2bacd234405a11dd7932b41f726cd0b565e8ec5db42f3bd507f3455c06e3263747d86b9f4fd6c7a1aec0f5006151149777b95b6f822f9ae546ce68570013f539e710a958b923a85b15f711c0238880e40b02c93deea3bcc788cc84ba8632a61bc97ba52c5f2755206cadc8cc0a219b7a7c227acbc42eabeaf07af20fa2a0707b4206fc006a875640e03d4d639632ef0dae9d3eac0afeefb4b144a578d902594fffc4d23d3aaa8340f68ea5ed7bc386040f8f1f6c772317b318337a9ad3186ee71e8628d65b2cb6ed8520a33c0771ed8f4624b24a3a5478845bd2546774f8883d688a670393429734dd6bdf0e5857226e0307812705fc6db99904d957d2f745f331c5592f9ebec8229002f77befe6c10964b28297aa7910b6ff8c701bab21cc01e38fa49d25bc380c8538466b7eb7fac93bfa9c20b56a85c6894f817e83e26daa909c0c73777b950bb2df54e12d3f433fd359e7f65fe6589c241668c4944663645cc7b85ccd620dc178619fe675078a3371998b4cfb367812c1e89a84763a18a786802555f03350131c5d76dd5b7eaf2bd33ecc0d677a3046ab950b1db7231a4b92ba3596b55fdf84b94774fa6c7ec7be6615f5257bc9bae3770e2e871abce51912a3c8e4aceb1230649d4321f22ceb161ba107aa42caecd76f2869e45ca7012cb221a8c5b95c806c4dd36e9ec0932cd29d7b26f1a88967546c21dbf4d12c966c240be88fbdb97bf16c10df326e9f540e876d2ab97db990e1e17beca467998023def71303f37d0b5e16d7451ead0945fc950045ddc309823e8621e573efb2576984ee5b13a862634ce1166f623a559b9a37508980122a341a51a3150e98eacc8154f080efdc8d3444cb8c4477f208a50b873a117792099feb095dd0183fccfb2ea5997378550a40bd25a101ac6a3841ceb43868084641237b91f6f9dcb22ae52e4e1d12d0d9e6c3191de43872ca870a7c18819eed620bc7e70f9d5f9ee2bec1f0ae68df1e703b9a33abc22826e549da25ba85348888133efdf2415a2390419bb4a7ca43d53747301cbf5d68e6b6ba45039f4be60458484b1fc6847b30139f828fde3e981cf2780e3493b85c60250314dc23f8fb0f75c674344cf7ce801a12a0ebe932839451a7ad5e55af7eba1b6c026aa94e7a8e21f838a79cc0391c58a3e98f31534ba988ad4c85dc74fe614f9809da8e50b7ae4982eb2bfb30157f6c854a13e307a3b3d77eedd1c4d7ecc9290c8f8f3174700f4971f4632917a63e15c6a95ca80fe3f267076262a57abcd8470f862959cf211e6972c0cd3015572e07cf3e0f7deab2e3f99afcd483f3fa9b51e296f2278e1eb4f72533763d9f19f974b88be6d6c82e1da003f344e46b3c1de74a501c0d6246aef65c57623198c74d3d68fbfb2bd5a1c143c77ddba2291bc44f97547da02dcad6a0440ef39a0e4bb755aae9150a09e5ed177b86ffdac185ec5ccfbe2d8fbde0498cd40b0e093e66940119c29bdaa6b5cedcd4f7036dd3fd80ebce21675a1d33c4ceb81ae2a5003cf41d99b204fb19472cdf5a4786d97e37a8e68a8e04b08da3ff922bc1e0e7ba6da3ecf8cc156ade17e0697446d9b5911c223f693aedcc47cd4564e457351c0e4d8a6b0dc63ed7206feeb2d0c8219bb8ec6510b25c283979f6821594f1cc21aa9367812ec648eeac6f1cbbc36146d6cae6a5e9b45bb580f629d4d92dfcdac7a4bc8b4b46468bdb1fafded771c61151850895990bc6e23678e1c7bc8d47a53150248650216e44a3ce2c1acc7c723c14ad766b7500f0824f4b9a961eb8095e5d25f5d0e726f233fb2def963b4d2070527e5c6594235e726c59f4aa8239c3f55d8260fec5ba81c7b8e5172e575c3be142042534eb170cfba25430b5d3c70546ad8daae67aa3263781be1f4cee073d496c9f7b096c743e1a70f1d1941361bf077e7c4048390354ce7d7aba15568cda2facd59c71125eade57121d9482340f55a570fe7c35c47713e940e0e582d8788dd7b270a66b4aa9ba09bd21588b493d235d048374b738df2f58d0df61970e1655e8190e08fdd863b2077b5419d90c3b162bb624af53602cc4c75123aa4ba770540d5ae3920e0c7ac41c0b64b8936958acc8e20097c200727ea0997d095321146b3b1cf85453a6f07a035f2db0b945cc1845ab292bf80e0eafd4844caa7dd3ec678309e20b93f3a3812739e26bc35da6b8fdc730c6c5639d604e4aab62cef438b084c937c5756467ca3a3d8aaa4ce6ca657e495f5ade7bc345855be992074a3a6981fdc211ca4cf929c930191f334c52a354221b9b3635ec0be8ecd0a048d240ce3cebc967b54c19b2eac2c3bc32559f2ccf1cfc47b14ae0b1490605db2f5733cba4dcaeff54913d52e0f61a039106f4f85ffa8dabf87eb5ce1880210d6f36f83143405dbf7e38eb7007fd982963cb0bfcf423570b0be62bf8b633c12f0309828f6f21829d1e4d080396d960c663b1f0d62439116720669e58c386d173d502503cfa1440c239a23e7b613b2b19fc0626b33dfd750a1ba45fc7bd42c400e3cc6e1180e6849a84808bd057c8889a6372f28b247a0ef82d66f49843b2d1d6747bc4567c570aada3f8289e4e0f5ca5ab6586a276b4e7faa879a8f818d724511737573a506177f1d08e37be1ad5909cf8cd332c859fbca07c09b6d67c765dcff9ea7397c18ad7c0b599444677afad06416d92a01a4db73a2ff1f32281c8fbdaeb0a00e4b2a22c70669ccc987eb345994153422f7b3be450044aea4001dc068880be9ed57d2665b71e160856df872144b2894c78dc3a7f2d17beff4b083e1ec4dc340646d00e5ea7ef18494f741573fede77825413cc02ea4e1eb06536b462f89e7b2a7eb8cae948548351c001defeb26b31987aec6cce9eb39a4038124bbd9d0631674375b5c6cfa9649bd0ac966dff4589e424ec65ca7e19deb1d1bda1fdde0fa790a98d750a8c1856b536e9fcb56e8e3f19f221ff165552fbbe8be6b62df02996be306ac86518d8175e5e7791ca49491e695e05ce6e14a66efb741a8d0db3c0ab8eddfe366cfd08bf7776ad2468c789af3098b2acdc0af6c35e10607d3fab97f23d7567313e313e80e23f946d40b5b3113486773fc4a8b6af194f2e4e68b7187b5f8bae53a755f06507aa364e963108f53a2207fdf7d4bbfcd64ccaeb1d91bf59e7c921f64b42b204e6411843147e48bcf343e8431933e49097233f206c4c848a69ebe46480a8b6cdfdac16f50399da93a59e80b95ca0837dcb34413bc711cc6b40944dd8dfd66925ac5e8e394892e7831d7f113c6eed6fa0c3b78ebd862f1dd97a16963c34ee107a10272ae63b9b341346d706307da3c8937dd7da28a1e513543fe2c0ce90c5de100beb737bd02de1d8dcfc8c8da368790ca983163a880696a67362c4d8f329b8e0950d2055fdb5578c0210500058076ed65103b03711ebff5fda616e96ac05933ddd23d69712f16dda9a0b1276665fb526dc70d60f2be0dfd6d813c2ea4a91ea1cba208267c6fe7a9830dee537e73f09b975bc9e4d251e466c9939b7395b8fe034d8e07c96302ec731baf4b30b729bac6f06952969cb36195f3c9720cf538258a1f723e1c6266f6b3aa7e7870eddc18ab7be7760ecc665c2d548cb99e0bbaccc767ae53c1690b8d6b2c067c544ac2fe89575873348939a1a68d875ba2fa568b79097a9424e771a074e9245b6563e4ea97a8c615d2a3703bb4af79f2c301f3b6353b1faf139fe96aaad5269470a6e8a519e9c4f4f84fcbf19a45b765f1563ca74e32b9c408ad785806c62425eeca6550f4498891490bc264bd54d8e5bc131b9e29a909d3bb155882d365768db8ef317316c69d3aeb13a750be195a612341f266f14d25b8cc9c3152cd76db4ea48113693ad747b6cfcfe4a0ae4608067a0f755bf14bc4d3a480d3b695c2d2f8d3f45a3fb644e39c6357353d968b65094d8acc901c7cb723642ea0bcc56615a59621c912d0e711b0f49ee993fd0ade95ef953bfc7c89b900300fcc4c020c5dd8b1459ebb87dc46390537f4d18b354de3fb06dd7658341ad4b7aa66624eb760bb108db5ba2f49f316233f954b872d8928da31bc7b4c1539a3bdeb767579c54fe33c7c4a496da47713870cc8abb063b7a0f1bfe7c3a99b554e62d3a033a25d5c4bba3f7e165549d38f1ec13fbab4b33985c364960d98bb8d224afcb4c540fb5eb0a8138ad88651ec9df2b28295fa1a25f11508c9a6a021fe33118f93e2f47d493518a1122d44ff3a782b162a73654772953f34ce3a343b962a3ab42dfa0c0cfe927f51ea4a21a36ee0bdef893dff28f35c662ae525a21d2bb091dd5994fd9932403070dc4c08aacf0a20ad0baa83a0c99321118e863e220c2e07d85c268db130af7b66a7cfa248f3ee05d1b7b9c9a6439f47ddd569c523c5b5a1b55add74dd2b7aba476c4f9de95108f2236eef8132236fe2f7affc33b182da4db8a7ecc222554f8ab6dc431c9cc5119f573025d7493f7fdd4e2d95e9cfa6dec83bcdb2288bc7ee3465851107b2b52242d39b242bdf8787aec4dbc4f464c0816851348c991fdfec80853875bf6e45a19de8b32c5f8eb06aa3db96c892e93899c60ee0aab20245bff0ec51cfbb9a78d7e3aa661d9d7c6c5b997e23bcca4b1bf5e412200fb663e2806d29c1b0f417a4554607f1695c1b6c3bca0c50d1fdb83244cf07bb92914dc4dbfe30693a0b3c72287c81dc3c17200f00bf78be27727637a6f6fa760a04728e039f64a121b5301b8c9ba8853760f1653c59a3bf883f997aff282c95e82c18fe02204d67d711b66b914c1f9d67dee5511ef0867ae4654fa575128188e4c661f890abbd00da208ca4992dbe62f3515d3a55cc7c45d2b5d62c8129e960105a9d942e32bdd161d87d0c3b77af3bbee2e5769f48a4e89420394a82d7399e3c7a04beac9dbd2548c17c8e01fbcc0b0f012091663ad8ff0e39121f9b63a227ad7c8b03c90734da869ec5e8081c2744b7fc0216622204f92fe5c16b93e89ee5b20e0ef5d225678d8278f5a9d683ad660f7488dfd1284b8ed62a11aecdbfed55e05cd827482a92c6ab2b2b01f4a980309d615642fe50747902b3a86bb0235b6933800d7c0cf837dd9830a1c616fabc367aef316a6cbcf80a4810fc2c2eed58d87e0390581d5cf47cc9ccdf9163fac50c6603aa80aea2e9b7c48d39c6cea376f63a726b34fede3f3180aef66f85cfea0fbd14356981f44be2e41c882d64742d29b4befc34cf99c786ac0115200cd3d39c19a28a99546e73a48f953f4b9489e86a7a00ae8935367003e86a0bfb826389685860f3eef709d005887e1df6c3f8537095692824205fea7cf90cf3c6f69b6e14064ab36d754fee9625df63f379cee2131d67a002f8960dd1f2f3d7d90cc38a1dffc2adfc724ad555181ab7743b5360e7296984579e84c4e65fa444858e87d33ad9c53699cb3f906ae843caa2b5350233d901623d49229a22188215dc0b78fa637886331d328ad106c4a206e1161857e7ff4228f15e48cc58016a06214f763decb7258f22d618f2e7631d082670e39b395589baacd6e1f3b190eda2d37632aeaccff19b16dfa499b229dc736614d6cbf20b833102b669e1883f61ae4571a3210bc55a1c45828e79db82ce76cda4601aa6a5232427bc078b0dc5a5aae0a34cb0a7478f350b68238fbd7c836ea4607c38a5f56c51138ac357d85953aa5b269b2a74337d47c971ca6edf195c363f87d321b35c6a4aa35fc0db0b050593ab3b546906c9b68e364a64f3c2c94ed201a9d252a53f0282b4a29967757ffdad2e2eb5b6f0f30d567b185413535385143c3b3b0b17ecb47df4234140d737ba711469590a0f99768c1279264e10c365b07283bddb5066eee026d32d75bdefd1bef07679b7ebf7c8763ad1cc1242dae166be384b03ea02a011274eeb40852c93f88d04e178b179bea92473dd1142fb0b90cbd3b0bc361eb3bda6a41787d13c934809a064658e868cc7844473cdbb641e03663b32b5048777605ed538032394414ae22178f085de59c626a9f95ac52ce4bce89365940ae34f436c26f2d5390582c642fd0e374fd119626f7eb44232c888ec5a918f3f147f6cdf15af178cbfbfc43526eed77a2513786f80bf8b6fab6d02ee46a04c4842064ecd02fe4c4c11b0fa103f018d7b8cdff4d58e76b76c83cef63d204a9adaf132fa52c90547c687499e397a340f3a6ff80bb04d96bdf7ba3a6be73f988d44e36765bed9e89e86a056b740148cc808227285ecedc16db78d91249ee2a74b57bb2b137ca0a93a128b43cfac19d9545b0a71fa0226e1604e41ed938f987027475bb20df282cd08d4513bbc09db1831283b4d17027b382128d970db45a6251fd056cdc24e4d06667e111698566beb293b7c464cb8696f85166d54bf6c620d79341ff67355760bce38938474d13a10c3c843c366c391cdba0b5ce16475f2fd8dff6338b0bca45c05cbcd3f2c4d8f0d88900e067988072ba205c7e7d787eb9d5ca7a63d3b2bfbf3b94aa0ab0b9da02ec5ca7417eb36f203b6f99952df3a372ca78207bb59f415135cbfbf06d63b0d4f47d7d5f169a5ae51adb962512a34de66faac5f1268cf1c4d4a2c206c72a17ccf0a3b7fe27536f94e0d650250ba731061a9670d39e52c564e08b212fe59e8f22fedfb813f3cb59d9c742f96027944b2ab88a43a050bba14517aea74986415e8389b6848a06303d74b436458c465f204a1bf07c47f64568ac258f7bf881499ed409eaae604f3bd50189014d43efe2a8c367f18ead229335859b9d109573ecc1735ef81130c9d88291c5c925e88c381e1c8b45ffb44d59da9f5dc9ecb6c56aa9877fc99108c68727fdd23902ae298841d10b89fcf9aeebee17f9a63b895e1e1b415720355bc653d9196bd8f65c140954080076193af001efbd0122a5b3fe9d53fe1f91dac2024cd021c5166ceb0b9def655a89ac95e6fda5df4b66368802028d7d0b5943f16ae83dadec751645f16e2a9b9dd7b7073671f24fe30523ed4bc9f464647a84f52f77d45f2604771bf2eb780d133561220c106e1a9ee87a40d2b1f37bd2f18c309e43e203cebd3147a4cbf872cbaa5b041cc2264c7129a39e9bf1ede2474d3f1dc924f3b4494a7f7d05b7ac7d890f95e5437c21ecd566208a609ffbb21697639339f115a2b9a149bd3facb0216dfaec5d6abd7f9d03dc915c9668e27bcbe2046e7900a2b01972f93b2307ac3b3009b713f1a1fc251e0be13e95db47997fd6e0037b313dc782e3f8dea6169fe747b8605a3254923d8fde3161b0c6ea0e0e19954a1939322b0fe7ab77e7052e9e658fdcbf3321fc0d39d2955837971f53cd802f4b1c5ec0c893e2fe6bd48eb5a6fa5af607865b1fed65893f97c1ef64ccb0489210ca1f26ab6598669a7d000cafc4efd8a5a3b1473a2ef24dd9f12f40aa3f88c3be6cba78169cece5442dd5e61ff84f26bd292916225eb70814ca555ee066dd67596d7c1e97ba374459f2d9f0dfbbd155eb17d269e6cedf2d36e6c71f1214dd8027d4720e2fa06bd465cc8d27ac7aff5ce3e7330d400dd4f2fa7c7f7df360eb902eb82e8cea9c6073b19f0e77d818752ee55a0cad8edad937dc529fe17912b6a90549f59c128349247dd20af03b3cfa954c0c4fca1fd17f859dd8b6ebcf7ad6ef489ba151f17e3f8ea05bf79741d63e9fd3c6200f06fe21fbd49108027cd5d9d370c1587e373332842297df0f2f02f4e3c2437efd79eb7300643b48a3065e581c0e43548e11de7bfe0ee2d8e107c339d325adcce306fb6709d873a9019ba7fe8232b275cbc76d808081cbb8ccfe14a643ad9d80f36a6b7b76acbb130088ec74055f7e1533b592319d943218c082c9407f40182f2d351a5851b6818bb1d5d1e8a950d2647e91d1c993f0015294fab1d90eed938b0ae8f4963a14c080c3e2d293840445d964f14d9db9a2fbd86a035eb623dc861ea74beb5f5d3feb0451b974fdd79078ba72f702715683e7199ffbd774809dd253b5a51fa4f02dfebde3c37d9a43643b3df1de546ab180a5be8572bf222265ae51247df6d568ea6a3457c0cd4cea5d62c0f8840b3588fe1ad718134e5898664c4e246e323127b1f0653a0331fe8219638fd532aa594625aeb170c817ed7e9356b30ffa5fd35778960cd4e5f37b52ae070afd018fc257502f4449e7d3da107c907e9879b2adb09f6bba6f68ae045117ccaeaa0d877f71ae4a3cfd4d6bed912c41f0a68e345f922ba10930031ca24867b0dc60de8d1b6c55fa181f0779c10e58baee6441da7d3c5c6aa47e68b9370a0712698636da79da773bd1ffd6ced28c58746da8b18cdf293001830ec6e879edbe9f8a102c62e0f9f986fbfeb23b7747ae28615c43637ffb976689fcc6bbc6ad455bc1203de75e2a10f906bffc324df314b892bfed93628b42f00c75f9b49160c13b086b60968b347f4b8314c4e5e8a6d67dcd856baa30a5bde6085585f89ebc7b68bbd66915787ef42e8ff16b9ea213fa5b8e629fe355bca813e96def6db0edd4686f5a1551e3d60f9c67062b3332dc0f9a56eefd0dceb9b0e8e3b98ec5f4606126a4c9a314e993c71a2766deaac97d728f8a4264cf37290e42abc06711b38bb8b5e91fd2ff9b0560e89ae904e9f846c5716f56f94a195be85f7e8e196a52d6b117c32d48249398c8a9023a539993f03cea4838c85da9a409498fc0f5ee2eebc76f96c072b1d70a55f1f36b6e66aae9248a62b71d619be9802a16bc13ce2bb3dba621a6a2b8c479f9cb800a6e7ee1dc0a86657fbe3793ee61d863c332cf23f2ae793ab012c19541de4ea57a1880fbed0910c773f63469c9108cc60266c4ec4bdc11d947965b996b3b0009a2aa82e98ed19dd21bdb1b2017db0a8a85b868ac22e400dd9933e8f56d9654e6cac2fbeef75290b7cfc720ed78c8b77daaaf609584582f158f145e1056f39e87603471ed8326e90ea86c840840781a9b85f71bfd832b95d13ce88939bfdb8328e365286481fa2dfadf97cc4f1b968b2f4dafde162fcab292e79d36c03d0dcb3aa1c7c59b46b3718b826a1a23da67773de72c1fb1e19013cf8de3e9e56773faa7b29632994345e3830b942039badf020b944357249a431e897bdeeadbb84fcb1e5e100a9e5c8b74b37924eb5336d7afdb4041702469b38661457df838fba79e4c35b42ba147949a28bcc9693d171a702d2522f34e3aa24c35fa4aa84ed2264b846803fc5d7cdf4e19a31f355c5d8ec788a410cd85e3214878e41c68c9911d7f65f28a641d90843fdc81a3e7e55fdec08d7c9e199182337be737ad903c42e9e541e29cbaa1ceef38bd6f86644d17a43c6b38011cb5ca5da607a63ef378e90ae5c21daec905243cec610c5855b6c2c406b43ade47322b0a24725e328dd325e3c66437af45a50eea0888f03b71d5358e0dc18f8aa8456bcd4021704f1bb98cb1c64b8568f7ed88c085a94d239caa87e9099160cdf56fe9176a7bf5952a2cbdd5af884ea122a6fa3d838ab465c4b1f129495a3c5ba4a2a776741a0d2182ca6ea4f49cd305f2e7a59205abc043bf68b6c2921323fd3ef77856af52c61b7458feb345784ee9f4baf0d3425115720162226bf92c6bedf1569919006399da3ddb95c28ab5900192075e25c2067167ab495fc50904088a00e9919ce0a8dec9d0387462ed04e299c0463fb9e0addb03c6bee780f74a95299bde446ea2aeaf2551cd2553cbbb0f823a091a7b828570d923b5ee47162bb5c25f595ace0cdd7691c8a55ab949ba237a73522d8fdfff773e7be31580370f000940460808565c53377bc78f83fb8bdd4aea69193b6747b9d5df34934b34dde3ef46c4ed8632d681bafd9a22fa5d686c9724aa0cd9c810c426606de445b8b45703d1732885dbe9cc63558a2f763186d96a196440f5b5b69ad23b5d9f8ee8313d3dfed9d87a06bd0cd756b5fcbcef8b80224678a1cc8c7ac7507cf914d4ad308674b8527c973a88a409aa868d66c1c4160343e35c234bc2570d99ce7071331fa17477fcdf464e24a5b0a1b0b90a1d3574d73beeabe12067533322ce0e39908c589231f10f74d6db1f5c5bb094329a8b1ab2222da61f5eb5f674e329c74366f49ad2509414f748743524bee94203cc4ceeea9f9f47669fa73b37c7424cbb1f55e6f2f16eb329088d65296927840ff37f3d9b2c7dc433450eb35a6eac94e398d0f58d15d12fc99822be39e71097598b2dfd6ac9872410b925f0db905084a894ec5c66cdcc42474b0a745a18ddf9c2d13ec750cf0c66f1e66ac86c16e93eeef364bc8487b9a25cb2a8ac7220b90b77e6195663e0ff7c31d4f9e472acd5bcfc260bf2074367b805a0e8039def0e14d553f3732e4d7c9fbe0aa3e0b41ffc02ef35dd1a0fceb07bc7b724871bc3bdb10e6da7703da7dbede3ef9e655ab40cd9242dd37af0bc6848d03188bc14b6ce9cd47ae67ae547cd1453aaaa4264aa0a91d0d426af8d4fd317b935d1858b1f5a7139ffc76754b9f8ffd171ff6951ad7964a65c3b2b9aacdf6388d45d8823066991cff77e5cc3cefee4df8df5d51cfcaf85778d6f2cba2192623494f7418bd7360f17be5df2bc20ba93406d3b598c69e668e66322a2a494d948f314b1551b35ae71becc17bfef519ae7822860448927a631453ce045f9d434d65af2aa70af23a40c9c1814f6ec9340e2527961f8f1e610ca3bfc54719ce760edb61a48ea2d316db2c241291ad967022e3ca337c000b90834f880712674bc6fdf7937490630593261a7aa3c43b44be2bc408d084e2bd974921a9113070cdb22df415707676b36a0ac8cd455fe27e74c26e5cf424fd52acf03a01c057044c5ec1fd289c44e4887b507e3d88fe2e7a0135810f6a4b4346eeb28c3ad26c3eb2ebf15c015fcc156dee5be6856577153e5f8668e936241b562b2d39727bf9ed7a5acc247fcbea132b282d33c8bc650ec08104ef9f0968d35726407cb065f8ba7c5a2bcba4965b21b32655d2ca3fc4a5c72a45602ae533ad62e4cb6243fa8b834f37e737d369ce2d5b96e48223e21e01634868908e546244ff67c200e1a73fa0ecf87dbd2680cd04c2e401d29de643cb7d801f6781befbc68b6e81c0a54a46dcd8fbfa279039a219d74b0dcd28e8c3df6c00f983df01bbb7fc032119bb1501f71ce8757deb5dee75f2a3693cb3610a1bd99553304b987e930f100a192bade63bd1d60e168abf1c4fd5b4dc6531078539010692136a9e2d0413f5bdb1520160bd5041520371a2740ce0bba1a04968e0a042aca8080d65b26446e51b955f202f68bb052551699eb380ed439ce9c390a10d12b9332f9eeb23607932a0a046029dc4103d7ff87d9743da5b2fa434adebb1cb87dd8e97191334a924c3516e77a95ea030cee081242030f712a27abc9eb107f29c94f1892e4fa5000f902e7a6a7d04bf5debd1242cde9d98e8fbfea9c9d14696fa2f19278ef09f3f19a38ece5a0b2a479a99d1d0b110eafc1b2149329791f3e2bbf6fa9dfb8f7e31bcf8ea821c16994aab36d07ab5b0be1be2f376a5263d84e6e311eab62f4c900c89eaf76a0fbb2b0c7d87584bd823307b431a0aba35c4b3eb86d37462165840dd4960ac25ca98549a6737d11f2824cc0441fa74da7103108111c46fd8a11278e7eefb6a8b34ca682e2bb7933049f2eb2edfd0c045efb4eec01815675103c80a34b4047f028aea779d5f0cd86dece16fa2c9c38e370f2caebc36b0e076c6167f33db7132e864d9297c6eee7c222c09117060f20884cfee3e8d623509df3ed1f53704ae73c47b3e14ced82766313520873bf673c965d773551c684493374ebe6fce1677f07336a32bc625607c1b4e4eed5a38b9d2794c58b8558fa85128a27265054433463cff3318f02bec6e639e53307092e6db8a6e10d9ddda56c3c0b94ca0d01d604b29b4f74a1cda62fa8fab8396dfb870f4cacdc0ea3b9ff8947a964719bcb1e7be8f52f4bcbb56569641d4835070b9da2c65a70c528c0e791ebdc60931b812cbaceb49801f7aea45dcd3d647bfced243e4eb2fbb47215f05241246a9659bf33a7cc25a4f30ab54a48b0a1c7922fbd7025683cfc5d7413d719eaebf647d0be08666e4ed969dc100b68b47b38d655614811e1589487d7ae0b322102253cf63f53251eaeab92304a868acf58a5053d4438fadca1925d608ff89f35ca95bb94c8ecedf66a1810395b6374620670f6c6d0406f4661ae5917c19ed4474f6396fe54d8f4825f45aab5eb5e505a32a53fe52234173b47aeea7758d49d6b044e23ad31d9fadbb6f539648fab0b12b84bf7442761e025cfe95af789175257aff2949fc94e4f90bf8fabec1992c028eaab9abd64eb55249bfcc55c93ac53c4d9ab2091ba312f8a818672df6c71dba755b01cbe0b057d1be66a63cc2a45d331018c1943e801ec23091713fdbc610f079aede9e9776e13a30836f1f3b32a35d2e3840f11551c7f055bebb8197bacd0cfc8117e0464f986bec2973466f3b0e1f0186279a95d8ae0d0319b624e0437f66b9534efc1b3d555c013af73f0d44a621b622335360161480d6d3128fd050213673455a0aeca0f216529c8c028c291473df5d608e97078cccc653fbf9aff6e4000b74df1ad1fbd6310ba52f65d285d71b4b9b2e53f418ff09a755c6ec0dfcffae290847d2f077d1f74570e91b4f4eebe0fc54d1f0c15e8ec9e33550457f4a8094aac5cf8f9d1a352b36b4e845015f6aefb9d15aebf61d2ee00af209030b5860a82a856dfdd6061b2042407c31d281c72a0b259c212b2f8c6a136cc0388863d6184a3dcee95c3133d86547e1c5476c7c58982e78f843eaf2e06c9411212ec9f71df66aad61ae701d75d261178596a4e41d527ead301e21e243cac960c6bc032b8042234973e2bc44cd8a209ceacbfc858d88c656f9e1dfe7df4ea0606b01e06eda2bee30127a376b8f422d4fe75ca9771e7194b0ed7a9db64bedb53fbd26c004b638b6090ce60ca9eef63038e12162478937e1ff5506ccfb0c8eb1ac10f5a8f7a3ac475111d69c0e5cda116d0956506dba3a550fe51d2df884cd50196ac2197e3835c1c46031c660b174e927e889ec511ad48bbddda57ed53f346f96a50f2b60c613206fa64d565a8b4fc4717eeb592f35a9d770a48140bf6aac9d836057f0011b5cf9e1f60fcdd0d2e20e3fc605ea26d0a829e99d300dd87cfd2f65f96639897fb28030c0cb5762e911a07064fd1d4b3ec61f998f811b43612112675f4644f4eabc1d4385fc64ff4858cfa4cdc8a6232a8bba4ddea962526bfe88c009a865fa101d8021013baa49d150c99a993bf1f882e2ffadc1e28a000779e1e39564f0819c7c803b94cdaad987afe5c1763aaa506f774004d184d08f8290b568e424557b853ec7845db907024e8b99f140760cd7db670ad53f92510b13db03c3b1e214ef1460d27c6638bfdaa42ea50f3b7be7cfa6587a67ceef52eca876d7e9773bc427ba87a85a496e39ad085610ac49a3576da8668dee4723ffd4c159ad34c480147fe855143149f67fc5bc48ed06f816a9d854ad20c4153cc2634703764b907bdb402ea1da6ec4294ccdb88d7165fb3e823d23679da31f54e9450d6c07cfef54e0f28ba85975b0c5c768ecfaf5157df22aada74a3f5f5382763cd8a8e7d5b7497790e094f6f04de0390e6276379fc762e4389216703c8778413ad885708d2b01d1b8192526b06c615dfc0c59be8286ed9ebc1184af99c7cb941748229bf137254d3dbe7a0f3d149ea11b00dd36011f8c607686fe22ca19243744baf4e3d679d3b3199761326d25b85a9b67d7613382fc311e644542308ecbd3b1c0597f7298d6fcfb4ce6d34b26b63a9ff459a5278522bbf36d8400673a98f7bad82f48ee240ae5ca0fcb84f692870fecd2a96873b1b48a14dcefab3a72434a7cbe337a9faebbaf7db5d9fc72dc6efa245244144ecb1134ff346b1f3f31eeb6940669ada203ef646cae1e9588f0c554feac6facd9cf8111e536b8151c3ac77365224512f26065cb58967920dd52c09ae733379c5f59ab94b49a1e5dad2912de6ac8c749518891349b6cc46dc886abcb7add5118c854e63ca48129489c634fb29da3b0d7c27ad7315d5ed522fc4506493ce65138641d11c08aeb81ee1d96dd0d77e47276a9b9119d742e2b3dbde56f8a4d8ef945c4e9c6e737673abda954423f39c3b752650225040919651ca41f175d0b6820349c5fb1c7bc927f6ffbdebe90ec9fec0d6f0f389013350f7e5a4b982b10e8116cc74a8257f4b6cd02610e445bced706b29be4bb1d0c149dc7feed357ad63927ad4d6ec03e73351ba193cf9e79fdc8412528f4fd2e7533c7f57ea68a5cc879a91955a9f90d7c90ff9c08414c8e843be1dd92e86131d3f0f2e6e3882e74eefb64f5bc1e42f61e58700c58cc2d93b8e4594ceae90a9a2b21c9b4482100cf501a4c4978ff65d11eb4cb0493f3a55a90349d41641236117f4eecfcf9cc1bfe616ae1f0d61d184839df42a029ce8a058edb12620d20cfe7738cc414c75dab7f34aecdb6c2b4e5ee601af895b15bf9efb2b5260012f5c5834941db8113849c18d1264fb7e69e82774bcf40eb6ac5771bdf872f484c35b32cd00b20f2ec6fd835e1d507790832dfa396f2f3cabe22a86966599457cd953f720cdae27479f5f42e9bdba9db6709e3ed3e1153fb01af7fe3c819ac445c127476c6f1383a2cb9201d58dde873ddc19fc85676beae4ee079d15eab21a0dc36e872fdcec48766f776196447e23fb6732965fd115bd68568e1139fa2717666677bc91f327460cdf1dd5add32080720dcba540dee2c2a130ea560c27c9b170139a848242cb0eb0cae3a9c8b2458ce5ad313f78e39a2d96583d270501b578fc96170d9e9f2b3d1dc290684fc535fdddcdc1079c9aad683851a107f9acf8fa11e3801462631f050c4570097ef9524a308bf3876e71c0a0590461004e565c0d2f74a173ba34b027ce5916d8a0135d1de25e7f9cabceafa7c6fb966770863b906359134d41ee16cbe7c31535e615a98833edbb1328a3d52fb5fc31eb64e2e0be169094b9496ec1bc4d41f0b7a30a5abfd0ee8a8178678bef96a4345e4ea42dfa94007029616a58971b22ab4114d4c9c66c365f4c1037aae95499dc466d0e4a644d661d2e3602388207dc35157b748592e79a450028ca5c203fd3b0b81b62adf687ca48fa2fcddc51236751feb6d541961da37ec118f8ca62294a12e90808fe6d39fb66112b8f86c2036a027c1ca04e698cdac6829fd41b802d57a1d54ba7596508b80b11f0025243e24df77e21d94302024fb43cdef6197d6a8ed2ad01c4fc8fa8584e26d48fac19dd4642d0dd860b5a4aa28abbb24aeef708cb9710185a40481e98dab4534bf6c1d68ab533cece4089251ae38117727204c0cf2713a85d42797580ebd27b21b718ad471ce387a4715489b8a6e4974c5cb650bf3e4839f5acc4445bc95eaabb44708fc7bfa5ebd8ad3e8059476f408c708fb8b168e1c9b75273de859eb378d175a1e6bb8e0859caf35ff1d64fee6d87aff488a092eae56b1881003dde2b96a5ff11deb7f9452d1cbf5d80cd33539175a302a6ad3e3ebacf308954a05980344e5582bffb1eaa6b3f301d33edffb24e80f2218959d96d5506f4887f1682e10177a21b4c25380fcfa41d191262c2942cda943d150ef4f40d3fec1b0055c1a4ce947dcc0348223970c8e330001c59f882f0d517bba4017e37c0ac0910b74dd9d09be905b8cab1b5ca8a3a3ab264760eb40b43d456e6e4f0f75ab01404aef60e5702e89a0b04f455a9859c0b53ab0ad00446791389d828b8e45ff6d0af6ab3c4217f8b4b71ff557802f8299420d404c00ca9e7018ffaa3681849034e0d1e3d9eaa15e3730532bb71f5840f8e11bcabf6538cd23bf67bd845759b68a6f620c8a9717e2ca692478b49869afcc32ee7590eb6d5ba719009524664f97c9eab05ea5856aedcb2448bab04a71080a6dc6190361c11e46f751c89d8c4caed00eea2d0e2","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"bfba570b48c3eabb9bfaf850b72d1f14"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
