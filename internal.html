<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1cb5d36c48a0020822759079cc048af757c37cb85b25d4a1a7f0fa47f4a458f69fd6b41b4a7c621f6fe1a45f4ef89ec31dc835a3977c9041eb5705f8aba3aeeda6c259707bf8fb03b32952fe8e1611b43ec0a987d566cf5bd2dbad10c2d0a7272c10be6355bcd76643aac21605e8abdfc5598fd65b8bfdab23c3612d697bb50498557b35a626192e6bdac350a3b14ba48539f2903d5157affe085757bd4edfd82c64428bfa29e25af9f960184294d49a213fb652d9e3ff109c885f29371bb6876048bc8c2e38b3dee4a578433363e32ffbbdfbca73136d7be34deef613b14bd383c57361cbf4b38c820d7d483337d2a995bff5dde05b4ef1ded89ffed90e7fadedfd4630e411e35fce3bcdcd9d383b625eb27e8fb5bc62b0799b0e6bc0a9ab72e9b0ba89f8af436cffd093568c4b190bed116ab0758dddad07ee9490bbe41bdf25c30e4c0a8d35826bdf9728bdb89abcba4281678f98f4c1e0d0abfb0dbdc5efd427874c084fc6d93e6aac65ad2e0f19e105740ffcdd9a8f75679089c2faa1a866e94529465f76906f34098e8a1e91e7d3b891f30ced7c95e2f2de930c181c10a5eedc767b06d754705d00db7158a15ee907f0b8ade616b27eade92e248345c72252b7a4a5b7a1584245f40ca976cd4148d58771c38d1b07c3f18884a655342c57818be35bf8f0a96e1af7b459f7a90d316f9c585698a8ede1fcb439ea54be5dc0bc471b29ce0d3642de1214ab6b053c22846344c8e243e4c34f4093691d3f4c5efc12d42bd67075c8b625209605f7007a745572ff8e6070428e71d3e5f6479f9c3d9ad484969c18b5d9d854125e455b79e0750be37596fdfe7daaea9cffd8ae3f6ccad3f16dbce3dad0238ccba98e775bc534a47b9e98559ec024aa79ddc3059cd618339ebb6c30a97d8bde61204868cb150bf10d39662a5ee4d5bed8cfe6e670b7b2454c03d9a0be2eb299691a91addd9f723eadde8d9baaeeea971e66b57ff9b5471226776385512ce7aacb8139faba247d7ba1d3da376bc52139e61b25e08c175c9b4c9c39ff8d4634cc3aa1fb5e477cf99d4a135768f24c21eede6212c8fa8b43045e6cebe9c351dc2daea5844da551930b06f1c1b7749ea10df3429230f391ea75970e1753774e5db47d134da73091c0131498ce7ffcd618a95862df0319b071d07b2592f9ed8d834de9cbbdbf03955125a96f76ad7af428ae763e29a83cf429f1812151fe4c3fbda70e1b61f24a3fae152b5f2e29e65f99f2f63679d9f7a8243673c5519e4cb1f195500f2323304c2d6f10011b71b361a139bb95fff6198a7fb4fa07a8ea0df66eb2d462e436c6398c150b71fb53a12712322ed75a7ed7bc0f007d691aa3c3bddd1d9799ec12e322841f112b71c85109b6bc0896f47e229b750606657b3a850a0145e26310ea30f07975e094cb5916d971936170fb3c9185e086ae5bcf0036a8beab0cb8eebdda6ccdec47ca91926c54f53913717ff6b510e4ab0e047e8808ba212c0fc37bfc97336dd293eeb3b37e357401a64bebd76c691a921e6d6e010c1476ae8b18b6de2720bdefe490f588046a064f0adb5498cd589b0b95a122ef11b12aa4e3c6c34c3dcad70c4770a4c688c68dc05e0fbe7102906d4dc8bb75fcec7012568b1d43c93693b6356c5d10cef1fe03badf2e72fc501fcce1271fc98d10ad549f6a34c74a371e6ef1513892f62fe7a57c08ef7450892eb45592cc5c12ff6b1adc07f4a7947c2c3d15f241e71dfc1ce7af99fa3af041d8a865233fb20b7b1c6d01670adabbe893bcacdf691c348ec573e55ee41f6ce5794f7250f0c2eacf42b31ffb83a11c7094b8c5086bc3bd6133e0be248789eb623f5a266de38ec06f0299baac7a25850d2afb15a5de7ddebc2fa6747df0691f522eab170176a1ae9ad0630caf9e8d548a9ee2a9d5829b8847cf74bde7e47fac7ca2935d70ec82539e3783a53040a4fba0cb375db1f1b9c73872d692d7cb9cdf9a3e965a50827463b7bc9f044a1b03d73458efd2709ae50ade1cf4eb3e0543c8db60077a77f840ff35824d05c12bd2b9dd3a5bf430717d66d731889a776b791875bfda3b1959f88fa5d17c80364460d855ca8c456c9c9b876c0112101363e499346ff9651da9655ffcb2d95f089e352419ca9dd9cdee4b6a5ac547f5c39500759e5fb6ca19b591812ec0bc1e7374c0a6bc69b92a152f98cc9e3b2c2b269f7773fedf215e3d420852a9ebc4564a13ed17553145d5e96ff963b105694dc828b16c15b11e80fb1a4d3cc6bf745c74167c0a7325b0feb06e823debb64d2980ad66e7f7041ac4b5392ade3fc5ba7f7f037fb6a88037eb1be9f47f1094b2af41bdf7a8bf3d97cd97788d6244178e95de47d72cf71a43a042e4f157c2dc40403ee7fc0553c09332830769afbf46a792d602e913e8676e87364387212de921db49874a5bdb9a5f5088078955c81638aa6b8831f86436134640ced864db24d3b82692c9d4b815cf5bf607c7092733f85a3d5e6a4ad4ff74822ea0ad60203ee96b76cfc72e36c2b68f13289e765460996b0246640bd9906796fdd2194cc9f3fc863da1cd1119b7f66bebdca48ed0e5981cd70cd413e2113607a41d6b3e80e03894ed5d2111952a3ea412bdeb3eddd6ed04f81b31b5f6bfdbcb5fd0d295d921a0f6b7886cdaafaaad1c6ef63e708eeef77793af213dfff72547ebd04d06acbbfcc1f7bac42e436ef5e4f1094b003f06f8844129d0366ff0fb972620fc66d30302549b17415e6e1fb59466b717c1ce89340c138410a9a72265b981d08d04443201fd76f798f712e169018af6654728957329733ca33dd5013e451bc6ba8ebf0effdd697d81219e417c3fcff9797ba8f496234274a85fd36f2b17321e157005b56a538abc0121d74da521cb8b7e6a9410df001b655b6e9f7f13779906ece9081c2f9bcaff838576d735942abe2e417c9157b7f79536dd892daf971af087de3957ff33b7b8c834561b65f280bfa5ea69af890c63a11da416426a7c7015a02f3f9680decb30dff79dd011605120bebf9e12be63d43ae91b3d33404b1e81db25ac93f3fc76beb7a6fc49ba4b880c23f6a8047e609934db4efc4f4fd55913d845b98de232ade2dfd91d2dfc8360c8146c21b5c27ce44fe0a7d38f2ebcfb1dfe3b7d424f406d4e8a39b3211a04bd53c0c27ab70ba2da6dc2b580a54b9c6d52806b54c87fed898ed4c1216ccd944e835e5580c710567d07fbb4af246bf844c97fb7c804066aabf70591790e37495366a6d4a8871e956a5cd2a017794e07c4026fec0ebee45608aaa18d778cfbbd62d9305f6ce5eb381790c00da37efa4d3d5246e529d6c2491d8bc2b9e660bb2542ed16c74d97c18de86eac549c528bf8e3da61624acf1026b18124f8fa369b8fb39633ade2c34589cc679fabe8a12398ad967b3a7f5c90e3eb9d0029b40a6e91698d9a7a9c74c6571fe17179fe7634701efbb728a9d8ef90b3ff44b304ebe1a04a88dd503da23141620470ca7a756c61dc6a9fd591098bcde2daeb936021fd8e2c5911700369517dd0b2b0a3088b2d215bace921b2665f6018b6fb5e4d0245a2cad2039615677ab68d3750dd6956d14bc72db935846c6d0434a638c899cded3d1f50fb792dc8c14fcec64f12bb0f0f31cb6701e814f86e2ac1b0a987aedd90d45050ee69b2f371438bb10b38ad32b5395097b4b8cd7e7260ae249574dd0c67d061628c9c5655af4392d2ef77a52b32cdc56ef30c031712db4dc561f6276124b9610e5329ac5191784aff8ae0fc0b0d9b6a82ac8e06610ea2c83af7b6cf81a97edd7aa75543148a59e3eae3ccb70bc13b3e677131a32fb9bb3b6d5db3f995a3554cc358f5510983d720e85ca43cc6fe71b9264a2844e0d235ff36539bf2195e8cb110e3b4368eca896d7d9e5dcbf2d03b08d92048028a38888900e4223681279ae1663683f81c56eb3b2bc929a94c1d44916f286bc47aa1d042dcceac451212c38acae16058ad6c9e06c832dcb003336498b715279e9a5f5a7a32eebe0d76e67146ec7573b767cfb81c04b7416ab43b0134dbfc523246ed4f7ced1151d08e2a4237788d03284cb3b682ae7c34860279bda54d26d783ebcbc54da389d9817f2c249ed376ee363887a4dbd023463e1bae2d9dfadf3d30f1d3573c132a4149eac880ba2edf937b329ac55f9bafadb74b0fcca4658da18fa0f5e50637aac35a2d40e27a75017c484cc507fc8e6b178a66baddc252716a11883eb598a5b89521035a3c3263739c27ea189d04dbf81ef8442ede653fc6684f6dc2089f142a8c277fb0ac7870b2a8a3ab6607fe431e4cf576376fb59d6b496ef88fdf0a5985402a57fdf741ef24a238d8fb7e6c5080979a85d38c66b66195fda183f1406837f32cc462a63fbe302ece5bc61e30cce51cd0a02816be649ab644455a53d318e31fbdd9f00ba2c421896c9618e2f2be5c85c9d3a5d319cffd07b7387fbeed911e6ed996591a345079d1e19b1ee0aa846b85917ef798a5fa9f027429224f558760935552685419aa372ffb78ae4565aa3052d25e8e569e7443c023025042b2f2de4104f38e51d89f1c08293567a79b55a51bc5c908d8ec4cb7e21e0bda31b5125be6e67216b46b1889811217f081d117764fef45101e3318c66c72700b7d544cd27e1a060768e5fb2a88458a39153329c2a6dadc77d8e3f1096f4e99f537f3b542a14593895020f46bb35e1db5ec6c8cd1296d10e6c6e397fa96a0c0a4a600b900fab6581fb87da2ba7c63c777a9c9659f1d6e52e82a57e37b4af3a286c490b6b9beea15d7104e7237a8f3e855908868b392a36d9f0e524357aac6b83241c4f8f69a490163ebd20e43a7f3cc54c9c9c952e63a49e2f8cbba11809e1d3d2a7e49a0ee71c3ce0206ed978eaa10dd5c3030178aec9cc3986134ed9ea4b7c09d2bac6ca43aff6bf30fcc5e65fc346106612c4a58b5cafb9faf8c566a033ddc06f1e699b3d8ad3b98ba23e364416384e0f1198ef41d521ec26c6a587868321f43a09c3daff28bf48973cf936066eb981d3ab92dd1079fb937a21d86c773b5caf4db7bccdd7e0bbf0adc468c5f942500237a33f35dfe9b59ab347437b26652a8c7b86bd2a150f637b463b0b9cef625725f4458d5be14f469dd8b5412a31462ceb75ce80e172815782ad717daf7cb29f41781dfd4ef6eff80cad2a23b6c37d07999448bbdf1d5369cbd9ed198c4ef932b7fa5d7fcfa9a1feceac187e270993739859d24e8977a2d81a7072076cda73cfeb7a3d3c21a0975a6e4083f709deea875647dea1d17a2682ba0326fddb9f0b97cba387e7ee231c0596d90ea0b1e42bfd34430436d5b38e978de946e3f56a334dcfc2e3409344137ee8d6333f29b7a79ae2a9f4efce5b7dadfc9ecb5b1bce37fc849b349c4556b3445213313ef7512ee795efc1ccaaa26f757a62fff736773f9808e41d66fd51268d9e744158a8959cf5f78a679322b837a529083659f1e5391fdc7d12efb54e0d73eecc422d0f5b1084c66128761db9f26ef3c7eff622c15043755f94632df799136109fa32d9cddf7a288848ffc5b12deb2c42baf1838a2168723312581be6025a13d364d2e37566198008e3ee4a87225509b16658ae55b29e325de7820563b28df96f93e0791aef11d6c1d02a19556c538f17a3aa24ed029b842db47df854c5fdf388848c356d2766067c14ca17063b76ac1fd67f1d5ca6b36b1a3fa526a73247605d4f1a28d2443a5b0a85b31f671f3e01a1dcf972785cbf126b265222e5f322531601e5d039dbce6c489aa6a184ff94fd9eaa5f1ae39e366f8d95c60a036de6621c19cbe53b5e7b950e9406d1e1b7e2884a61908931a935147b21b2579004178d35c34fce5f4802239a1b3619d0fe5400082845a3588fcbcfb43b14cc12e84b6b52d677773781ba4ac8e8294edc94c02749a15e9083288a43117f5dfe8c87624aee45f953b6ae157bbb22b7dff556fcc661b9c691b99283354f4081f86b2f98516bdb80ad6631a1c5e778b620beacbd9a65455da2db1cd68880a86e6572deea83c4b642c81a370c9a49d7324051e091e4e3775fa03252856b2fb1241f2ecee40c18560fab25dbf43c0b18bb54ad9913513c7752fc664bbc771dbc0d90fa5332ca9a55479c5998211d89a3e3ea627f931d27791d66f3f9825c6d9282f835f1b1a99570c1fbeed17163b08371b54e01f4676aef3422beff93aa0c9edbb44108fc7b2ade502c9af127b8679492b78a6f0200322616b1075e95ef40f91a0b3a9f259db3b2cfd5c32a8621a10dc833d45710c5c07d4a995d4cc335dac1fb392f513c1e76b9e3cec94f5907c4e9c9dc63d644c9d274001017d20fa0f9320a0caf3b0312333e3720df2d5b917b03166d189becacaa35bf2c9d3c837d4c5e95bd9c8ab4ec7c4e9543f3a966b623a8596bf21539a426afad08ad52a59b7aaf8f3a22f77ca8947ce1f04bb1fcbc025fa8ed60aa0452dba9084e5f7347fc36318be9153f6767d8b7d024b26f90cdad500faf1c0fbf109463ad36ccee6bfde6f779944059faba6ae5fb5402109cf63bf738049e5d60052417cda3681a2e4d2c1a65f9dc7258fa668f0593beda809f42b1e1c7da5cefbab03ef6dd939757decc9b1ae6bdca2b536b79820971b8add0f611549db6ea58e29b3b29878ad7eb5f2aa826a5ad74b6c36fea066164da5d2b9dd44c8705175e89517162b5f73e72774457447ae8793ea53ff17407f16132513fa0d329a2605f708f64b18bf19d71c69d02c1aabda7458e05b650224a17d819d86312ae05ee5e0165ce7af2e0e9ed6b67383bc03b6a7cc6236c5639478ef57e460c3e8e8bbe06e2a5379e12050d2354a6940526dcd16e955bb3551746a41e90c2469bd9e096df6ee0700c345f4bcd8253ef82f90fceac89d9edab61da3c6e0bf648f6327feba769698c9cedcbff247ce1cd7a1761f8410e4e47144cfd27926d1e0ae1d5252c7cb33366205e116f995b5aaab1d5d20df78e85e3b3ca55d81ccd24cd2623db186ca80f802ab5cbd3f888abd8357c14e17c4b61a6b5eac0553cf743789639e7b96fcbaee5b5deb8cff9b7d57c1e00b733b2758ea6ecdf4128482086e705468a61ba5259492aac6e23d6944b2644d21930ed6fafbb68e0ce526379716df207e6a8a7731b8e26b327d812f2399330cfe209e2510a35bc2c59d5a78809d11723b01fd155d25e7b2fc23d71ad6ff28eb79099d18c6f807b1c0f5ed73561b55a98e1f046187a6cb9f20469efb115dc55f9a144b3310f1d09c30173ce835a9a7a0c82d01b365096d123cf8b5ba87b98bba9fdc837d4f3ff051d5685c68966c59531bb4cfb5ea8a02cd4a3634cd7af780f2ceba41534e7613a72164c2eaa5115f2ef8923cf32ecae116b818927f91270bdc346e585d52ac2ba0b07c8de4ac2d8a3e0b6eefe7c7353373a5fd6c1441e8ee568fd7ea69a09be4077a858a9025bd47509cd68555dabe3f2fee1e8048de4a52b3a145631f479e742fa34bd57399b5f669fd31180f4e77c06160e4851bfbac8a8409351c5a52daed8bb648ec9e5e51fcbf2c258e80b8c1800dd72e4669cd6059516138fe67e060ae3dcec6c7c96710540d04979d1a360181bc115f23b5f59efdb2a36bb473c5bc5f11c386f86003d5a16f5d928563b641cb037180a4e655d0b78a397ac7d2af5abf0694827fc9e9ab08194ce6985d44260d013f73745938b83264e070bfb3d4271ff1a46d72c96e0e302c1dea7b6f260a093aa99f59b793838c07ae415555c86b00b31fecf0e4b5a3a1f54b7206dca5a136da6ab4340d23df6d7eed526cbf7344f38ca76a017b4e55835f4c1e919ea029925131cdff6112c1b260f89467477a60f067efb93b7a233049dc0381c7020174b5ea43ce9e705157be1edcbc5b27e37e6d94b0df1ead539b0fa451e9781745e1be541b92f9de5e6df35d54dea680dab131fce7b9fd9f744bf4184c8e68c0432f5dd93040cd2ab4a058ccc561fd8593ae646d485c3f334fd1e86873fba688efc2df0d6dbc2fcce2b68acd3573ac47f7d99c1c089aa25afe81b435b2e0ec4cc9d6c7c84cc461003f612fbb5d99090b30d17a00b1a49b62aa8da225417edcb836f8b336554702d5bd8b9e07f418e9006c5a7e2d0fa3f198ec6aa867ae62ac6e67b30f6e0b47e3614a03be7f8a687933bc3760a4a58e7a7b1000ded78b66f78e823502fc47b4e9dc09f194e23897b2e55be606dbf494ad23f0d05abc2a5ec8c3dcba1e1dfa5c4d61072ad15479db67c7b0692cf6938f0ac8a00cea97b9edac34b318976575103209a016b3ad125cb3fe33fb27f3a8e5da5ec642790e90d04f3f9cc21bad36222388790b9eb033bcfff6d92ab076e08a1565359fc4ca491f9118ffdfc71bb1b4643f5409b00255b7655efeeca1caad0a37ca8c6b409442250758360859966bd3a2dba2f9a11fe6bffda3e1116dcfd32aed704d3dbbf828603a042f5b5fe367fafa37ae4d64ef8fa8bace847755b3a5ebbe84953b6b4c14eeeca61197a1b99c244099fe9112b49cd24cfdcdfa84bc6509a37d373c4c0f3c4666c641bb844ccdd921c99e61500ac12fed9f1d8f8a5d2ac877465f4304fa9f1ee6e0380c6024bde9b14ed2424a634122bbd993d70637985efdd9601d2d0fc2ed56e009104288a245192ede1b87fda580d7ae5414fb20270b73fbc2bffad2f60ce70efca80ed853eb0f07c322db8e66042aa02efcfa77d0c63c4b00fca150d9cdb5ef79b14c49ff6732e9200b21b406e47c70689894cb17d0e5a82ed60e1669ff939da642aef109963e3ce807d3444ee2997f211776a624cb63f97d8c8a0818e3aad66a24ad3babec46345cde26e53edb105f6e3f6f05c2e6f3bac983b533b6b50ba66d27bc83a0a6bd717e958a086d66d99db4a74bf8590071fc7b69fa3216189831a21cfc32362085bdbb6418201f477752a84c6ea8ae6959918f60c1574b5d3d1f2ca0296bfee53a38eb7f68392f5444b965131ccdc216f979b6edc6dd6f1302769eb582c49ede1f1be5273b1e015203cb5131d2ae34582070a6b88f7ca9987a8f415ed95f02707952569ba8d4abcbf96b7d3fc622df326b610ebf549d74fbefb80b2e6365bd674c96ab55abd841e4bde0047d5e4fe66ef0ce7dc2c1b81b894be10dcfa774f358cdc699812bcd2c27864449c2e84ecb5dd5f9b12d6dc84227b61faf47db84c65c299504c3483258e9241e954e3ac344fab87ec85313b69defa7f3517d00a98028f198578ea45c22d10ad0602daaebc8beca0f9a2d5c6ea5dd9301251fc73025f1423adcac2481649aaf187b04eb948d200798a03f1c1c3f81710bc468677cc386864fceb0b3d34c8e7c794dbdb0f9ac79a5cd7e98215e0696f0a63fa65c8d36137e589046da3b54c4aeb5dd6e429c8d7647df1d8c4b24b6a2803db01c53b9d394adaa45feeec908904e1ad50ad1d7de98b6eee2cd7c874bf6e525380bdbaa1f3c5e4b6fe7dac836b1cae65a1daf6c71ea9de58aa34287cd97dc3419c8dae9e3970291d712c2eab6a0c265ca6e456222b744a6594a8f74ce611e4ed1a734d3e7bd2ccd35c5bbcb36b40a0f226c259cf07b315ef97f9eb71de08885261ddb0ff987913eb7063dd5dbe85249431f1b0ae94b5bfbf0170eafe53c1048ff4a85285373bd73d4db1a1426e9acb01a8b3c9e45dc97394f080299bed97064527ee3785a82d4ec988d7cd9fb082640724d759834a37ab5f58a703b43dfd9d98e0810f3fad13b7cacf3992a854bc0e9ec845b1ee2a429d726b747ecfe6d72f6d687ee319db2aec53c51099a7932f8041979e64bfdf9972ae2f607c301ab51b4b7b6839d61ea14c93164e21727871f192331e4c0742d9cc89397cb592b566ed412aabb908ba01086bfab2a18a1365a55247b05d5a8f001af1549900529ea83b11366fa270c9d0e1e487200bc47db3ad2c66b13ff185b031f9035aa06cf0f9d443dbbf66cea60bef83494cf01366f8e3ff8e1b28b9228b9ef6ef5c9b0792b029c98881e748ec98549e20ef373d2c4b41dfc829efb18c3e89396a932b276882518f8ee7d16e8ee7659f5a04570b6af9c49a1048acbbac0ae7c3f3e7213622e926c4c94a8c7b293c058dbb0cf840056808c8a2b2e389f8452dd39958a5fa745f86e5bdd45a82a288616107d0f19f2acd655c0484e70c6d454398b183deba4655f12bf54f9a0c91572568c944f432b496e4cc17a60b1a0e7c3ec2e15e6cec6434ebd912b33aa9b73d06beb88ecfb57ef41e818ca0433b0a93d0252b1c3f286b7b753c1d3e4b39805df03cfa4555fb15638b310b9c1a39beaba53b31ad239195e628bdbbfbd4188c4aefdb376dcca1dc4e9c1a99d125725bd4c21fa4cd9c1562bb47036922228ff00ca1c884337e881e6f67ef5b160cc816d0b6ae8228b2a195a1a1ba3f23c0524c93442b2b3c9e9de8c06f77896cf41627b73a28377bbb6c8fc521583ff272ec444a97365f08d01b6f8a09f1a23c4631a89cf4f294db63c08b32f891654f606c930bf57b10c88a134c69a64f196997061e38c0f10a10d50c8b8bccd7350a3db253f986845f2797f2c50baa0b39ce6a359e9d21815fc6be41dca1e0498c4bc15c38c407d5d58ef22964ce995f5006568213bf80489db90e8de169298d3a021c9514036fc4fbdb6dc7f820cb665cb6f6af4982bdc7160f3492c6f33efb6e16624d66ccf8e1a5704e79289b8359f436ca77c82687f44b1bc9fd8ddb345e4ad154f67bcaded08fe7ead577a6a4f4b096ba94221f04725aea84d1c7f7170f5bd22e05e6ef51b97358825a99d6a5ed9b4baf302867e88a93c4dbc9f290b19571b727fd67f717fef5906a0fcc091808e618ca3e7f4892d63cfd67cc0be6a94c3078f2cbbe1927dfc507ee3022dadb054f255bc4550e01911724f5b90e391daf5bd425e52864a8af7fa9ec358651dabfd2c65a9cdcaf86fe010b4fb8de6d62261c311871b68af62bbd44d8b8a4d1e54b692b898db22620be696b21c7639b4c386590b3816049ef18db021dc2db0ddc095a2bd5ba1ddd030199840f08faf751b4fae7f1e53caabd5b0c9f48319c7d4816ecdce4e4687746f37f3b0ad14815d68de221701562a3dec8a2097fbd0d02bee26434920e563857f970373e1cc886f90b5292b7cd29640c7602e99dccff1229e407116855b7f5703386255b2ab17d4687737fa25c8e837ca913aa2772741666ef288953d2c6ba6373cdb82e831caf9d1c1bcda810439819f0adff0c69dbab8b53cf4ccc6e26262064a05e8e6e168e0ec8f951e4bda699a1c7d29a3d53a5cd555d0493143be8a773465b3f5e837b2a77b4f85ed3cc0708a60294357315a0c02088b83f13f2e5ac057f01351f4c3af40d4676f96247eb9f9702022b636f5ec2656c3aaffe88aaf22586db454fb53db079ea99bece41e04e0f473d236723f63f8a3f7315812464355e72c6aaa35be8b450b7046bddde495c12bb83ace44447a14afe2fdd9688ae166239fb9a35985e626ada8badecc06d7dc9f22c8068d9695dbaddf1f02538cc565e297096d72296383ad60897443bab5ec597855b4a61244c5f5818d1894364a1729750b14f31bff4d2b1f8754636846e963c53589a4e13c87fc303054278d34bd09ff9fa5473f39ec6946f07e86d2ec34f2971dfe3eb54e19d7d1f72be4d37e2e3e7badfd6c69d9cc55224826e2e7df6f13584ff9481ecfd523119be49c7a35e911b377cdc5dcb833b1cce8ca3e5fb9db8855d2e4ea809064f6da8c6b4297011f84dc2214c0e94d6eefde86a647d7e2dbd80cc9addd2a19d850efe24259f09147bef500c10697a7933a03d6f9361c810759a8eebd78197d552a8cc6fe6a8070791789c7f2339d7a1170feda8ab27fdcfdaab11c8c5dd330c3c0065bbcfdbae8c0736e4c49f8a2f7f52aa23a6260fe5f0906af0d6e68511b2b719038b955ce4358cf81582d0172c2e518e8af51a5801b812f68dc30d7e65c61670afd35e97948ae3dcab057bb2db1375813fb8a2dd18f9dbf7652027e72c48ffc8edd44ed991cabe61e1fe47c83ad80375ab9e483bf395ad27c6464d8dbad75e66b242b91070e9ab42a4cd5c0c91917064952c37cb520244c162b4e77dfcb3b882c4567952c0d7066bd9ae88c78820bb4c497b1a97b4960134f4cc3bcdc997f11a93916f853d667c00b67603b3c4bec5e2428494e315fca4bae5fac97ca3918c8f9c0e19c1f73e3292884ddab6de617b9d9d645969b5e098883d3c4889a6564c7da1decd98e50e87a661d744179e1c21d395b51a8f85ef1c871fc4cbfe87ee755ae84c241079017fb2ff6f979ec79f0d0ec062849002a894ddcaa85175e74814de18f936b45c25967a954f1f8b0f785ad4fb91d80450fdcd77718eea3168444e947b2306fb68fbcda31cbed5dcd943f247ebb0f6cb6470360c02b3ea0441bea835c52012217ac98f17c8034770b4b1594378dc79de66e8522803af45bbc84c20af9482445e6b669f709b343c9e6579b1072b7fef9ad316e8a35f971bf64bb7f3d4061e0d93e7634385dcec223f5a9ed1bb9a538d919781b60671eebb8998f623eddef8ffce4cd047cb765cc4f43db8e042fd4daa7ae739980676f870ebc997e37724dab6778752f48e898d52a61944964ab0744fc0dc5cd3b2df41695b968c8685779656e7078100d717812d376e95a26a292fa888a70d606753acb058dcfb5dbb6af74ecac16a44129e98ffb304d1158e2892109d72fa7f752ba0517a854b02368ece4740d1253ca03f67e8a11b7f750d26d85b64aef8d38c069e39ada33ff99849a21841a8a383235abd848f2a72c449097082fd61772bc758fc6f266f7cafd8c83ba1141e31eb9dec069d12a0fd1c3e0c996b00f72fe8b3a500faca6df67e04f89aeee05ca1e8d19c6a4700e13c7f62dacd0a2d1ba69b8f621ffb5c54e52431d3f5be44d61381948eb417ac6a3c94493fd998b658244445ea24695b0bd0e8ddf022360d917f255476ddabf74fae7dbed5a2cdca0a9f7b0a523320aa85b9ce2f0a4ed567f871884552504fb4bc3e54181441ddccc28d296e03e86dbc9d271fe763517c09ad7308bca5b3d1acd0c92cb3d71453977c43cb8d6e4f9e8d5471ccd7423f78e910cd3084c2e66b5c5a8323cf95a0cba022c3d0184aec76e761b4b02ab97735a59090006dfcb45556e53fa581610eb43a3b853fecf9d30a292f6758c2698c76a8c96ca7c6eda76c4d690a01e8ebe81ce1125acb3fe1650eb207695f34783d60d852c56da6998f6ac7ab32c2dda9fd5b201669922ecfcf5d0b283a36c5e64b150acb26c813b5b94939f2274ce06536071c2c285a84db61d0767cfa0a564873f26a443e480714fea4b2042471c75287c9f76fe0bdbdc3d5896e2f88665293257283ef21cd4628037f65dc18d0f425f087d0cd8fb0a26f5bbdab61d6cb3cda9ba2dbcfbcfc9ad41db38594a94341c4b7817cda63d94604f29390713e795c8e5cf2ade21bddfc68298489aecced6e8475c87f405fbd74eb96ab9ec7c709801a750e6d0c89f7329373e2cc65beeeaed337d40d1cab32294cdb0a8b0f48d077ade55b69485bd21dfb0cc14510e798c8a769c25b73992830c0e525c27a8ae4f22c06627dc1fb83838001c43e32297f060b26032e9e174c863ee1d311ebd095bc51ceb76547a14a84627f3b193a284f353cf4ec5a2cf4c4ddb1210c01f0f44d74a277c165604c05ed347fab5b1659653f7c141cacbb14e41969ac08d524aab4f8c4aea2a1d995b54c6f20bb69d2a30579ddf3db563c2f49b96e16f4ebee6a31ef90fa30ec89633ef285a0edf55a158557268c380c9ef4773bbf4d10bdff0f85b12f9979b7e9bd02c7e735aa5358030faca8bf469b13216d9eee403179a579a9a0a34ba73dae54abe6711f9a68dde6090561428382226bf2dc6fcbb865ba449db2706f7a14d68571788a80aac51839ace3632cb159410f943dd9780ba5d37f2c5d3a740dc7de1aef0a16adc76fa87fbe6eab0271ddebb07f5b4b222b239bd3679d22b34811a2c63a2aeac9a9b61ca633a9cf81ec5768df7d2d8424c086e54318977df24e15ce681d1389b51023ec51af0c03940ab9335b8431afa29fe9723493b42eeacd899463ca7b4b67e6b3454aad37594d036a4ede4faf1cc074f887a97b88af1979029616cf22d9f43bcb2e31892fb0388fc087e7d5ef793a38171606f4aba0e732c976d47e09625e9c55effa9589e989e72ca0c06df39604079722ab2b38099605e9ded4966d31f76b2a16aadcea86c30353a0ffcc4212714dc7e9561aceee1b69063ca287976e6055f5ca6afc18bde6b2c13d6b6586df7ba098de82940d28c9f9e14d1b8eb852aecacc4e828ab270a8ea5e65c4ace2f8d5568b697dbe2c8b93157c78cc32cb06a06843a7111842890080b58faef18ad2eb52fc27af5cf582634058c05a4ed8014426930626cd1c6ae1bd967ac7496a1376b718613b316ae5bf3a355e9b535f28588cf8c8520fe36ad73dacc1dea9e159c1b417d717560ee04110c173ce6f58d9a09f229c94b77dfb3ce611277849e43fb031d8edfb8a1f294f782132b5844a78350e0f9cc2865404a0e8d7771867172fe399eb9cde1fe97c52325a5856a59b2bf1e4c20de40814ee3e006780cb686d299ddd000d0dedfc7e9c490a4dc0892e90860de41f18449a32c921d1d456ccb09ca7b53a9b3ab575f0050cf1b96a1d0671f6869d97ead2ed5731e532b216069055f79891c585c4eaacb46f2f36c4e36d0412cb9416014ae2e739186fb57e68242eebbc8cc976c47050b29f023feb3a637c341026cb938f69b0b0151b8e620640b0f61df78fdcf4cd785aef408b62806c02441a204791da9261a4294cdb7456dd4c13e646d5ca4ad653db9d70d11e331bdd7428ff658c04ec05a0463c1a04a79a0807b3cb514c817457134f90eacf479aa7fbd7abd63206bd6c71f3e901635f3c1483b31ab4fb11baf11bdfb1b0525554fad40f32b02736817b44066a05269bd07b763fa4f21ea0ee1f57dc4d426f0066ce7538d95932b029186b73c4da93faf9a5448a634c22b5192ac9f73263844b5f874210003c07babf0edd48a9080508913719f28555273e6f6c6c8232c20b88409fa8b9bced89bb8b7cb776339a40a9b266520b282c67fa075355b984ee4952292f72985fa4e35de2ac3221c4537f491c8001b459ef881656e59cb8567de85d08f41a1697f5638ea1c115859ce13a00cb5c89344bd8b144045b695c529f2475247474126741f316fa72d796a117978dcef0b3e031af9cf674ae21cc054c4398dd7b001af463b473a2380624164f2c888c2b9264bf3f5a79fecca227b100ec9ba6ae22e28e020ba0837ca7598c9587e4bc1fb975568550b5c1939841d6dc666fd40f6fc6344548ba7e2922a71d1083d511ddcbce868a3c058f6c4b8b2996b0ef5a3b882f5f047115267664661f54bd3cb79a6753b95424bb3634cf98aba76b1a7c3e0ae41eef884d3ebda9eb05fe5a4ae195b2d470e02555c6bb89542575ed122c65ec25798ab5ccd88758b62efa0bfc6411c46f6c42d225db03b803e187168cf3ad04854951f742b9243ee5ba1a98e4b9163479ff3cc4604a842ad4f5ee3ffa52940be7f1aa976c74c79ec9c456ff716e49f1a9affce0139da63c641e7a2d674ab7f1a7393978ea822be80ed9b7ae02765d7cb3c20132ca94cd1df354d24bbc844d42fecb8a28c1fe20852244ee26b560d6ed5fa0bfe5f38e8d5ef664b0b05273484b0a5e2a8d6f8a327279c45b1ffd230ceaebfd60eb4a382707290619d20fe6f4602067f640774d295c9bffde7edb8e6a7914e3502193a57b2b2e0d7acf353d78ad2abe4c2a03911d0e9e24f6e883bfb8dbfc75a031a8032b1db44e5eb4661a4ae8644984d5d490baaf7a5549cdcffc468830ea2cadba3eb59115a53bc91d6fababf1b3a383137534bcd15dd737e220797147b34508bf2c4c0de6b03699b97a5dd902bae282cb4459a6dfbf99cc7382479c0979a95f544dbec781dd1a0705e8716a2198aeb486d7092ee3a7bc88775f09b96f3c75eda89c42c510a00e5ed1b4d383cb870437696a4312d234a9dde6f94d34c3cfd1664eb2f1e07ce13f74bfd4115d263bd33175bc3614c1c08dd2ea378097b0964860f297628c1f039d528dca714aa3b2eaeade175ae340cd9546224d1f8097228988a93ea349863ad7dd5f11353cfbb24d339bfb7a382ddae3595c9b56f56e27e139b288ccfe45aac862fc35a6e83edf3bbaa7f363b2faf8f0ef89014acd9a7c3ff3def8c3abced01890788d910e9c852d274e76317b333873e298c90a8eb74d839bbf943f6fb1aa2a102c2c91e6a60740aa335c8e6c09f1a278b970a4b6396795a7a8fb4c391e395d79e3baf3048f962bab09432d233be1320acd214459507a537ab20ff424804c0ae0363e6ffb5e949ab8f9e3056d1d9b8046cae66284baa3c4fc26657e5ad21f9d0b66c5b443230c29c57ca13bce3c36ca39a3462fb9a0e5d50e1f7a6f240104befcc90ddacdcabc4f04a70eed1df23a0b7f899eb698e0687c57a9e120f4aef9d36010ed5be143686eae46c08d9e480a3b3a2241d3202d408045ea7acd2193253dedd89a1b19c3ad914079c4aaa5a44c13686de89433aea797700fa75b8632e050c2d49f104f1295fb8a238fa89c7a2d6cec1e398089f1e5a8b4ccb5bcb6bcb91aa3839e040090b6c532d5d0e0949f26240f03abd8ae1a927bfd600003ef7172b8a74c0894e1405e2515c69e08a9600f9bc455d14f61a0f4e54682c3aab9debc24a0ae236e7faa6e8238605f6d19116f65c112767c0996f5393330bc7752768b4925749aebe5307697cebe0b2f046fbc67b738f31c26ef5bc5acb4dfd878a7696891c8cfa9e94d96b2f71975a1f9f65839d527a441b97b9220cbf0ccebfe5eedbdf83b5b65e31ff39dfcdd8793cba10999e86676b33f615b7f1a51eb5c00e309fb86b4740ca8421d98c2c37d67bf19c3c0d2bcb2aa3ca9cdb606f9cf914f2156909413380eace7b91f52d5e443f176616589066b2a6ec77bfcb85af48246cc52a6abe336489b622dfbd29256ee53d1d3fa87b515cdb911738736c3468fbf891db3f9ddaf35a826229d5cc501c6a44df5121dffc6f4838bf930e116110a9c58890289d9f2d70e3be4a300d8f8a9ab5e1af0ec2d29762123e78a9ab3bd2dd54af91a108b460b11d88807605763f0f271c993b5a88306eb364c5b0b913920a8a1592367fd3597bb98dc1064cf63c7e620048f38af41ce5dac30c26e4fc0818685e0c71c8a8f6c483f0df3e1deb0283d92a7acdba026ce96d34ac86edf86d3da55263517b7fb21d4b4de39e697901891ac2d554e310ac883d0ebaf25ec4a2817b7149d62987dc3836a1b7f4dec939c52c605dc0e6d1d03bfd916dd5f6659fb6f87437dcf46c5e30431459459eb593a7b5771aadb0cbe44f46284d2badeed0c87d5e5f93ecde0f3432d626d2213764f8a0ad66d7d55f7f253e452e6f78e00afa05bc15a5ac4a498dd4a96f902408208c2caef8a1038bd54b2f73eb0e031f0e605b7d8741231d053a736c6a3933523b90878be0a5fe6faf005b71989d0576755b4a8ca647cd4b061aa45b7e16c7ca4f990d3c314c048b6ff8f9722980b36b156b1b6554bf5f1b47911a301687ec6feedd27252b1a394d1bea4ae98a7708c50dfd4e28a0f8066bec48b02fadbc2c437f74d5db4be520769216fdcb098553d3f8fb4e07353fcf6722e0a3c478d335830fe5191adf99a2564e13e7742fa9a40e999bd565f23200f8be6d539a7de477939009005ef4354b7d5ecf23e91e77913e02ac77de7436c832bf69ae36c04ff688c8efd2227032015d2c75588f749db9253a4ea2b84d0884f9730fe94faabb98569ced3203c1b25b047d4d179470b7c91f8deed66677e152fe7cf70942ae1a732b75e77cddd34a0e9a937c4475837b949b082eba83bf7bfcf321a730ece1adbfa031a766cb98a45ed4679d03d1aed44b1bdb85e06d428fc77143ef04f566d22bc51943ae462ff7f59206a09444889f502388e7b074e1222a640595fc32f0dca0b01db87cc531cab0a2c755887e16621c8d56a77a693fe597c5b32bc2d2ec9eccb7cb451616b461dd71664c4439cb95c8f6743acbcc3e1078f4487608f3d9218b9722873063558ee6c85b30ff59849e101141cc0de1b9e44242e09866b2332e7a6b38fe2f085a082e9dd684192923075b893d7e473dd362bc56a9807b7401fedb1c5ac75a5c48e718a3ae1ed039ff2d1af039725167956917cef046c0be2612ef48f85de6c34ac0b3fb83b0540620b81d7502d761a5d224a65b2172b7de97cf52f3f87302e825369dd1c27c093d45b210960d886c08e65677e59c5a02e47877a2924e48687a8d1a0e0c7bd12ebc738864d367ec559fd38b6d59f13cff0d745bfcc56325c0912d1ce3b42c81f1a48a59a0c91d99908452d7466bd13e7976a3d3369af610421439de98afd03e5710de383712fd88c98ca6bdb94cd10c10899ac7f770ff985197d1049325b945d5cd81ed8d3a9062eb4d663c0ed1c2db6c06d9f84acd6183a7130ddd4c78545daf064fe86d349f22435c1332e7d46c9b8936af2dedbe2536067d6d2381e8988288a8793f3452591bbf0fbe22a3e0ed68037b46481f18395eacbfc54f5b51137b78ea085afce4156a40546cc8de825db64aa4f3","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"71863a3ec1928be0dfdec4330a819c69"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
