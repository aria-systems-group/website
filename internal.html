<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"62cf7561c2e55b7febb3c60c37c7c34729caed470214733271570c6e8f8bedcaf0da63eabdf84c9f073d7a4b43235499012fdd3064d303c38d988b1c99b1f5f1190e6f79974ce2cf88ea949fa1a3c167dbec21c16cb7781f976b0caf3e732e709b2df0df07c69c58d8e55612d234d496284274fd37c369d292b02ec5adb4fa639868d1091d23c950e3b1067913b6aff2560cdad67726a301356f5e52a683d1eff49d784a4b458c5545f232ebbdc4a0afe539edfc3e521cabdf73a1a592a8e3301c6dadec10ce27d4b3ba07315409896c02894224c6aae689e68c23641caad14c2bba1883820f801477658995b99231835fa0711bafdf929da90257b8d90a4d94cc5f7f434a75f3d054b349f78874cc5d2aa0e6bf8684277d054bc155077ba3b9e99ef03219bd0ad196b0f148d2bae92ace204b9b1837410d53f410adfbe9d1646189725cc579041ab203d745bb4e1ab2c15ae02f96c145c80113248bc925703851eb8200c44c82862dbc2eb417f1c1affd3292aa9fd31df14b931b392cf4b44d3b91d2422f0ffbc6fdecdde62640361b31c34b2de913a733dbb81c6f0c5bba4bd2cb81572c23c310c998a36421bda2db329555981f3c48ce1d6f1bfff26e8b2ee562422bbcc661b9bdbd7b6c15cd39b5d0ebed4b31d4b9532f69ad1330364cea43227c721fa62da6cc20dda3a68540eac50b12d73dde64840b46511a35e31fd96b667f98bb36fdf7d49e8475449613cfcf7696b0931be68b74be92e570d3915a54166af98f03b9612db2d1708ba4c75af1e1e773ec47a5d6a72e6d3051c85e21a305031e99c6f5ae53e3f5afddffcecdef48c29d38e6dc8ae45d4fb830377aae8e8adcab9ce7cffaec9d27fbef91b9ebcc541a0100c53dee1e3b197e78aecfd10cab161a7d2f4c41e1a42b9da4539ceda718847af021f3111022fb17714f187ed133285fa29dcf9b02394e6174708cd92aaf6292a56811c798c74161f454f340c1b6c47e7bdaddb51d669c2a1baea691b8fa99b88482bfb05f61e6c1b5432a30d0440c0f69741a3d836ce6c1ec94b8c657dcb596b171ac33922b9f56633eaefcf10a9dbb2c893fdd72c3d618b315e0b1ab11d453d9c44a70e7dca64a9d51b61a23f0f44657f7c8b9908cc100ae28126c911e4e420bd6a8f896d886bfa0bddc0efab30b4ac41549bfca75ee995ea0d43c76bd482a0c04545f170c8e5bb52405526db0931252912dfd5d2eb12c81cf05b4732bae98741fd65ad235d66553742f585bc9c4e8ec60de322997891311451fe312edcca8a2b856da25e97b18d5fc00f15954c8de65aeb3e598caae2b8b26d800ee756980ecafd27ddc99d80344a4e25450dddf0658e1a461ba7aad86e97a2ba9dd38cbc9aa0c40672ab26e690c2253c4678fd6db1ce511adb8264694c6c892705020cb5ffb7f3fc052b76530c88d10fe24e56a727fe84d7d8ab2b7b922e5e6099d670e69d7bac257455f7c60334a38dd21e29b50e16d4a24332eae70026b488ca894f6569a1ef6a1b836f4bc74a1b51b2b6da565f805209b072db7c3f75118e0dd3d659edfb61281c1db178ff2109f23cff3009684d09df339a827d34cc765666063179974d40c285b06a6ec7beba59725a5ab830f77efcb0a4da5abe044ad1629e7c8e58336ce01b773c2dd2ba71eb5d4bf14f827863dc16a645c9658c835236f808ec12e9a32a8262bc277522f0ecb01956105a5cebb92a9edc7fba908e24df53df802619e6c26f0b0ceb4b2e7fcf73969ce6237430e3c077d04f1db729dc9d5b75a028e1cc7c2be145248cc8e4eea3b790471e591a868ad49f650809e709dd4afd295839b43fb960f391b11d15853bbd2970b23d1c74beacc0bdfac5594b799e323317a09830d94d09d6d1b45ecd5470e14230ffaf7d9d261aeb0d2db3e7bd48bb672df7032a3468371100d8edd34a8a2d7fdee6c4360a570b394f4283883901883062beeb048aae161b8f83317c3ff0cd368cced51aa7c9c00b0a235ff6073f97c52d851c8cb35b00f528d7e980e6d93e4ba32b4bb6a87f27438868552c9a837f3625431a586ede302b5cacfa15a35af39fe4f4bebd97851570474d814744e904c7075ac88be9fc3ee1ece3f5a49d5ac7a874517ec5bbeac5c252580e56e5424bf82b084aca92445514a004ada06953376393d527c82570c5cb69736ffd6dc1aa234325e16961fb06128cee46a801743281efa26e20d192ae431471ff4f8ce9d749116ee4ff262952bf7bb6afabb84992d6b8e391c9483c8e35c1e55db9a4cca6bdf368c64e7713ba0867e58c4ecf8df6b06da1426f1e5cfc1832500d832157c19bb05ba0634084b3525225c3757a9574f0ad270efc867da9dc057540b01e1535332c0247077bbc06e96af8e1706f51b3e5e4dafc86db2fe282e597eb6504a620419df993454069aa7ea2eab9203ab43912404d1c5a7b138f39fa278cd599b03908f6976c22d1e6ac4b25aeaa7e95b14666eec64cf34d27f9090d23315cb42b990eebdfa3e791f5d28e78755946dec92b879b798805e8b101dce63f7b3d5816acb2958c9bc59df96cc178892a5c385c00549fad7336524c1b384a60524f207c4f5ac79a04df8791679b496184ba190f3a91c19b3fd896c034658a3af11914208c1ce502198c4f19b43d56c04d60ebc7db9075780e9a48676722d5cffb2a302db41c5340cbd715f8d5611213eda23bca6c8aab48037b154b2e250eaee4700cdf1e8244d309cdb483aa730545ec15aac58bcd1d457f818187944e7f5433b8e235644289f07a0e76f2eaeeb1bcf5badf47fa19653ec5552122872b77d9ce4e6bebec690db95ddd510c0fb6a76914f6aa990cc1019830aca7969ca866bd0aa1c5e16ef99f6898ea8568833b375de0b425cf11b920818473ddb9dbcdf37c34f0f10b8a2bc67dd216c775c1b619dd2000399939a5408a81e32ea473a53bdfc7be41cba37a2d927c5bb0362a113c21320d307b592be6395f5596e0b897d9dc879cf222125d707987c19518f9fb73f07a33f8967a5b87854f2b1b0c050643d4ab8dcf8e86718766ebae98e3525b901988491f05f1301c6ba0f67ccfa8368902a6628822c43824a7a33c2c3daae699eb6e1bdc5c83c80eab81229019596dedf8fa66c7217c9d31460a8dfcf42c67da327013fc8e584296749be7bcaba1961c1632e8c4379547258e9128472a9c776996441d74292015b10ec908e6c79ecb6cfe0da4381ce5ad970ab26ed674b6571d1d7945c46e918f9fc4e3f7dc6870737c543bfbd2ee33264049e70448e8364264ba389f95ac11617d93d4c076764f24743d7854b1a3a073329d5435c02d29a18ffc4c53036108b2a9cf983b3c6c28ba0dd1dc2c0d6072ceea604a0b647272ac2e0809ded7a140836cc544685e41c480014a03080d74e2bad905a3a68eb52c75da6367cb27cb703b11dae4c905ce89d5a805f862e3a44f8bd12086f8d3b41b735456d52aa59f59210e4b519b8720f48908674b09b543ef0d69d2cd399bf1be73c6d39b609acff3458b87928075e89ae2bbd345976e4333c13ddae76b718b9d70d2bc201754f5b5cdbc609ebfcda3acfa0c25c63ecea11cc035fb517b3e5f11e8fed9518331bacc8cac8833fd3658dedc598b9b8d226bd81e450bfd341e9834b8f717cc3abdc706ad78edae91dd1da3100184e51357bf6d23b2582a3f35efe38ec599b031421db5ce17d6120d06b3e24672fd645ec4ad7a7c7e0dba2aafd3d87302725a75b5f17dd0697ef79823b9744b026edda0c1d97cda324083a411d9ad1863ae92fe3db8b1f3c3eea5f6817e2aac9e40370cf7ddeb9b40c6ec3cc3ac507b48687291125fb67c9e6514bf54823e4ff65f4982e5c90676b8ffd5126455ac0065f7d07e352f9cab3c78c15adbc6b38bd7e289c7d23fd7bd9466f16cc8db02fb1eee39d8724dc2be2f7d96a11f19dbaaa38bc44942f8436ebdf143a5084eec15828ad3bc7d319335d52b5d5f352cf21b24bbb4e715ad9fdc593125bb38fb883f80d7140151e71c52b3df16c4ec83c99d149d8aef30291a4338edd7dabff7477605119f1b5c016f27294a3d3a8b8a41d8c0df409f3f01c5468e8776bdcb1b30045c283276061819d7c0c433b11b8a382872e098cab947dd5313d6685b81ce6ddc21f23eb9215af805b511d450e263b6128dc4c401cd52857fa63fbbcb3b36bd04b72e2ec02d31172ca58dc98b6e06c5f9185c4cb317eb00837c1ce4b8f6e9d20c8da0e5836a56f73d8b418afacc7e8b8e0b29488a61c4247fed4d7a02444adaabd041b3e4e2f4422e4bea73cdcf241d66eeaf402e12f8c156c78769d5c376bd321a10c3def13722d4ba6612592c338ccaa1202571c2f3431aa8923275035e403ed258a67bcc888fe51f82402d7dbe7e19d702650c3d94d14c180207a7ebcc12a9d8233fc93d63abaff76f61ca146b59955f241d68fc81839eaeca0468f11802b48fb5b528e306e464a89751b1916018ade1e93378241b824d6b45f5178a22ca4398b54687c1c8b54d8e899cdb67f7d6f32c776b9a72982e27e9451b915d34c6ed4d3c507942514d2c763c5e7416ee57db8fc0a8cc68e548d57b704afc0f674295d55afb56111c314a8fb01c103101f410c3aaea88883ce801e067518b2ac2d3b52d6cc86bbc9f9fb149f3ccb782dfa48cfbf5d7fad570771bfc260ce16da4002edeaecf48e86f24763148f95789d177994677d1661455cf130542f1876843393dee7396a4b5130ec1ccfe429616172fb50a04d4198f1ff3acd6436a1cfc2fd914e522e95e048cc09c16e5f51b9b416c75e33d741dfa62ad0093cddf8e6059898b69f27fcb818a440febcce5cf094b79c638cab95628f4f27478ac68c9e9d5e3ac7beb980db14864e1180c05c1ab5de6fde0670f0788475af78c250c3921208d04c95ba49c87fc8c5feb68399e483872260f1270f9c0a228fd808ef8318b5a5b420cc2bdca99476a613ed4aa84478c27e1ef22abd048eab76687d70979689daec48a32fefec3e5c0afb0ce7a4e99157f8b08110627fe4762c6788652632ce4949abe6b124ce7c8726e1406a2ad033a68587743acf40ca4798bc807f7460340a4cd0693e5baa9b1f38021578d7041385057a6f727bdb729946bbafbaea8577f8fa4514aa782ef009c5d1f8bcccf7e60cce51e291ab9c44c79c34d0b49b7e70f3dc97498991168a96c3bd889636213e4e1961ef2e38b55fed465514545148441c2a345c08f16a64a54f74287dbdd7a573141d08bb5ac3758fee4c55053e61b5c9a6e97fa08fa4c91e695f7646128064fe6083ab6c4fad43e5e9b765cd2a7b80c82bebece08c01d9a641a5609063b2172a909dcd912da946599adb5d17cd19c38b66d2d33b9c93aac182448bf6acfa5a0ae8b5157c5981a0a9a82e07550e77fcf7594717b1a01a6e38ee89fed90127f3f38cd37f822d74d4d1ab6a8f566aa3a40a0745980e9f0e7d2302a3a808fe30c7ccea2383fbebdc8dd06361280076cc031fe277d38ea385c4be41014efd4a0c24d93d2d3f7aaf327a0a14b38db4a48cb1a4ae9bbc4929dc69ee0c8404f714a3f79a6b99b4650dc33307bfb23b5c248e2acc9fb217340a3037277e78f5a69f1f63ff3aa27d41a4b763a5fc731809596d2f7fd6c4a0fba0ea407d9579c0e484963612a837a5dcd4ce881a0a6ca28a61f1daa4eae1a82c39606cd2bf5ebfb69d0fddcc7632361ced340533bed0ff691dce0768bf98d5dce35a33da1d1ad2592e2e5fafc1debcf30afdd0e31f92490490596bc4905861cc39bf08dce21c73428cbf5f31b85fc28596d700ed72a7be513ba12510b7f35bf24f35b3f88c6be5f3002f25bf2aec243e28bd7dfb89902e6dbd76fdbcf647d12be91a96dd31e37cef0496b4efa12cd69b8f6d47b7cb4a6340bf5deb72354f945371b78ebdacf8298a65b022e03f927712468a01c042d5b4a00165df5d74257d3bc071fc780339fa9e8f832fd2aaf7fa4f24085660863f77bcaa66b1d653b5725fe181732753c5a4726e8439d2806fa498ba8f92919e9ca071fcc90c11e131b57293530c63cd6d8d07796f4c6da337f61dd3f8f28c1f0f5e76789311281b3efcfdbf54d8b33fdac8552da9324bee6e9615bdc78f3ae33b0abf77eb11e6ad107b7887491ef0b7f45a4120c5fd2c3e045327eca3a57e2b38388ab27b15d36db501179b11aa0be26631112dba2543d65a7b75705c6a5e49ef0aa7671d1b617d20368112ad0d027e7721dc5efa379b629ac58251f7d4be0b83a9bb5038dfe3884620e32029d51330c2c826fb4fc24159abad698165f4550a1f0843a118fc0d669ee5fdb2b49b1b09bc3132b8ddd0cab3f14455d9224fb27c0d12389c6b7e90ca0604a40d8bd966c0a565deb35b45b1a8afb44cae541ba78d1f47b22c1d18898761e4687a20a592a3c729b85b9620a646b8d52467e23292db45071b589ee6056c61b614e5828e9eec6c6009cd1a55756106d36882ca5cf7c1daa67e198463460c8e7c62e2a117f029bbec41912672d3454bebf02983685f6ae63a96a6fbf3ae3c6dcecce3eb5873afac651fc3963c10657431716e4eba59dde525d912896729ae6d05fc539e9720cfbbabfe408c1cdf641b04d303215488eb1b819f007675bd58c818defba26c20248f30e2823d4fdfa1aea6edcad865c970fc3ac7900be9d79ca505c9cf366c9a137604279464d41e50a165152f188c902c3e2bf0cb370ba1cb8728a8afd7ff5d6d5bcfe2d0a458294ed6a47702aedb716304504e90dded73d20002c0cc193498f56d2a38e9d0a499106e0e175fe18b4c681b0752e4e8bb7382c5b5ac06ddd8d329c135a038b5764d43b6ad7e49f17825f1094e8940b62a81fec88bc851ef2d68f80dcfefb9fc2b5c9c60609026cd1ce5ce4cda5f4b082662bc49579a17514888b75eef5cb840db1b93c05f998fd49143c0eaf99fe00396233982b600e16b86bc42f7ed83111320be02ab788616cef76e5678ff348fc152f9eb9e9ae013f03db7b0e1877ac8e1943ffe9e48cf64eab4d3a208df1025a20f403b9493d43c6be4b355857b3106f4688343b655fa15b9affec9d2cf4ad41120bc77dae2263089ed52b56e62ecffd9b78e455574b7bd79a05c4e70e11c27eda0dc7524eec55a52ab333905c09469ec3d2631c9ce0038e39f79afb54dc55d9cf6b1daa3b12d1e2017d3d76b7a1a38d3542a32ad2ced0600cbfc49bb32e99629342c8afc991e17ecdd329a763c0f9190c1a29743119cfeabe53b5d133bdfab7b3932bb5f3c189d3c280d3638470f8601dea09825666b0ef61fa78d2d62831b14d70bf9f05c167793372a225e90f9900880d945e390134647ba58417c06d41591e71067fd191192c53b3399cc7bbc3e0745cffff7bc50cddafcbe58ccde0286ed3ccd9df0a561d492aca8ff33ee94c4192d17c25aa8ec28d67640d9654f7a81ad346d2c8364d8f76d4de5942f812c0c27994036d9cc423292c5b31190acc1ba1c2fbb57b2f1bd2aa3136aa29799f8a79315648a33523b578bf9ef00b8d07e03ae0521854ec79931ae5051256eef4901bd2d06bc6b1f55cdd048c5698943c2a357d9851c3523b8152f008c58aa4b872fab0408aa8d379e451bda861f7cca21dce3cf8b4875c6aac4d618f86304273739c75825ef803ee881d76431abf83a0b8144a18d9bc39768a01200d92818b2731de2a825c92bf8b0b57e0f7fb4dcf22ca0476efe19eb5e45b1a077ff3bcc50b792ec52e5bc6e89591f6b2c270fddbf9cea8e582264433d4256289980824e72d8b10edceadd7ef65e5e27c67530102bae92cfc826bde77835c7d1cd512c3e44abe4253454c28697cf8ed478b1c3f4e68ac69bedf671b611c628eaa0402d7f8f048c5eb8db7d66753250c9c296942841aca14d3f8e9720f3af9a08405f06e4c27a184b7455900cd74ff5c26955aa56dfab50897fc25a0e2328a6ae4210c0d3a3283e3cb4fffb1d5c8005443b8ac69da0ccaf3e670be6aa69bdfcaf0de9391242f7f18ceba6628e67bb4892090d0242adfc80c9bcb4ffac556bdc152b61a21fc00eeabbbe244a54d30aade6e9a8a0d3a6be18ee9bc1f330110aa975a7542fb37135d6373fa71596e6582ffb11769fa6febb8275a45333b556ce8d7bfafad9fd8ab7c68e9d00f95b3b7faec80fa600d304bcfe6694326f8a4cee33ee389472052e58e1b9268a9add6642245020fef11a0511ea25c47647830dbe1369bdf4f2e6b4c6cfd3fac464f0244df6d5bdc810bf1574b94e016204a53fa97b852d8580adbc6283d11e4907048df8b630db6fc10762cff59996b044bddfb6f536c643e1ebe9573e8270a69069a6f424e97fb65bbbfcd0398fb7c7221bbe1dee2a6c60591d2771f66a645d76c01f734db7516011693ba157f820cb76312d5a255b2ab88d2fbe3c925a6ec6999b7ee765a69fb8e0208f2ffd73f41f4e4d3f30cfdf34aa2bb393101c87c95eba54a1745acd62f8eccbd4ebf70f08b9a883dcc29f61066f29a97284c073c7284cb7668b4cfe2a8bf01fbce8432289cc4ae9b6b6cba4c7f818929ca7742a443fb2f5e537567954cc53b9e95851e91aeec872f4eb509b454a68ae313292f7fca47804baae19e7059a93efe68585aeaafc9197a5f924134caa1612c82ebbd3bde52370f73895e5598556b2ee307a9ba048a74c9c31e47d5c949ad87024a0749833088c1b14215da40be64969d2695d90ab0939960d27871352b780bf55e2db38e2313b9b05fea15638809ff855cbcd79d22b8aad58068979b2c8cdbcd558341b7f0f5a2182d448c0818237a08d85b94b8a9bd38d09cbe18656d03337353643501efc6154878737198f26f097aea6563726cdc8e82092b7268ad5dfed3d92005f24e78b6e4038f8ac5a6c8b5812d7b6716fccd46190a8320ec65c96a8dc50065cde0b16ede9b45121ed390cb2dadc9b872fe9bafea252ba559b02a931222ac393108ebc7ac37eb60eef6464a4d3161b4341d0d5f41d51188740ebe1570dfb3c66d456e7c9fabba8c93ff687c472ebf4ffab43e28e6bd22df4c607c9a57a09831c906ea4f5cd1a4aab2edcc0d7b4cd453dccf9ee7ab6ec7364bcdeb90f1b9b5bdc9d463206693f2f2e7192aaa110cb69b4f15547e13f6ec345096c0781de431699fd75b5684da724b6c62006fee9bfaf37e05241c44c1d44b0fbf96b2ab012ba4472e4708da9511a6316028fa6b08de2fa4901f1a481e69bd85bdf49b2805d1ae3744e871f2a7910621692616d19868c1ef4cccf98dda5ff5b0868d48c28f2e423facd78a23851ac607f107c58748b41982a9bd78c4d8c02237b7317287ba7949aab29baeb7001b375ce60f9049df7822e6b3f042ad9499e4085806016ac24e9d2e6ed237c6477e6a584c887b855c2ef09050b2c91a3cf61ace2cdb07700614e284e1a24b98a958d2260f0833c7b3ba26afc3533c8e2bbf874fb92e582f799ae41369c47dc1c4cad7cb8b3ac5019d403344f0ab7479a5cd102188cee5a0f60c1ededba55517f31de7885dd182502655d704158d6585b779676344eb61e6cc364bc6c2466c681c0b7c53df2b4ea6b0fe2487c512c14f129628299ef49923ec062f6191b0deff7b6deee73f57142c0002c9df66ffc6a9d3b780afdc0606855d946db6847873352abf228bd4adfa43e70d57cdc3d4c2082b1d4eb59cd8125bf745f778fc106adbbf2daa0ada2b557855ff7a81e02318fb54ca2de83892a3d387981452e80d96e0dae0223d1313da5c4c003007857e6f1199bb216c7bb944190b460aafd060c18ce98eb2479588888af1d6bbb3262061e3e3843baf4bb598064b557d7e4dd160b6d61b86aac957addbbb2e5e291886ec8afed64207424bebc4d04ce45253c43772e822d89abaf720f2d4f387350ab0a5557f28703bae1c6cbade6c77b9aa43882c4c31dcd1a3f1bcc65d4365194c1543c0d9b7e999a859dfa23e7d91ad8ebe1b83ace19666241868b9be74361c7d91a5dd12a7871cc0d1a1df42de6d5d7ee3982e7f006bf1122926624ec5e662b73e52d069b7b0a6fa915974c64c15605ea4a67fd1290ff54ee861795afc6fd77c155597ec7611917e2600e2bfd0bf6fc7252532868694919f0b2d636b6ea15c77bd31cfd30a77f6c650a3805e6c5d0d424f8bbbf90fca78db0fe870f8c40484503c379a5db082c57eb50f3ffbd69f7a7cdcb715ff9f2c0de63b238b5a91cdf0275da15db9d0bd3cc94425d5b54b1ef5dd4b0b24b2c3e301a8e44a2d90dea214bf82c6fccaa13519522f9d3587b9712c842f9cdafb7494813c5270d138dd0649ae7c19ca65c64e1069cfce70e04f861c3bb0fa6b66a2fa3245ff642643f640b9ce8e9bdae7bd20c22e755a338bc881b516f725af6354e0bd7110386c9e4c2b90bd0e986f179951645d6f74f522b3606d869b1ac80a56d7780148b82ef0970a94f3623075383a583d86aa66f888b2d583fa8d75f5c2dbdb8b69836802f8c6b343ebbb4bdf28a3d341ab32feed9a0a8e640d57f9b07fa515b7f6ba6dcebf93d1dff60ee37f55f7603728e807b5c9007f41048f3d46be6776cd603e6ab794282e0edf2951cb0f91572a7bd4e2121f3af0038a63ea1560f9f8ba4abd9d1872103b72c1decd8cbcfb61e09e80cfea93c8936ceae5d57bbcf9e327c955c76b4c47833af3aabd2c169d431204b4e691af9b394b09ecc2fad889d1e8d63ff9e8948e9100b228be0a38cb55491b28f89a42da5e87a0ae64471ab438847bb953639c74042408de9a37ed822d0345395a3d0111d9dae4896aff35662c05c81a87e39d755bc7cbe58837b9a20a797e2ff32f8270fa36ac267a3c12e7867e09b2fc58b069792bc7a91c9318d01b360478d40f20b43f9aec3544de9493ba2f615ca3e7480381a02abf076acf31e57834000d05b7eddaddf500de4957f8a459e437d7683a2e84d8d9bb89fa926a0fb11d416c36ee210835a41acba52d3b058ddaddb1592a684af377837a6ca37e1f1d9271dd8e0edb9c1bb66f91889367c2a774ec7fdb0d55c2162cc9d3d4435bc964870798b009854c8e435845a55a42a0bca55f19bf880d962dc254ce08ca1fb84ca9bc80e57c85b6fdc08262070fe19c24506bdf684bcb8297f042ed0b4fca255367aa676df9b5d4d777a487fd6833130d5f5242821560314d0142f57f66f0c97fd92c34b6370d4ec7e816f674e66d8273a60ec9e572e995fee4d4e5db2b855011c367f8f28099afb34c357986ee7b3eba3b5e38ee20d639407be33a964cf0e45cc58ce8864611ecd3b8d43b5b4675b11bbc5732b605bb673bfc966dedff594626c9bf098d7cdb772a960806d6152d8ea22b76acc3237b8e6b4db3c965f616c54012d6918585c179706d1a598c11810799c6ea4591074da0e2b8f7610bde86dd8a9cfd75742beacc44d09161ee39cece77206eaade965d78a813d68cdf7af1268b990dbb68a6c4d6b0f28a2af5e601ee61f1af1b45555f618da3eafc069462ed13bc0beab528922748136195b9cca2f74453ba085262f21ae23e92208f1836a1508c2356136fe8cc2e143d4ec07bbf18f0cb1c48a1aa6b4bf3bf086ba23f6e35200fb847417954c6aeac9b62733ce0a00e56bc7a1a0c5a0c3f3560e9e8fa8bc7dd07077787966c00f4934ee8d7cf8c171241bef04c54ebc760fc6a82ccfd3ae0eda950585775ebf22b527573ca83c149739cc73fbe33a343da5a4daae1873b49e8671b21c5e6f109a9fdd6525fa830e6413ef70e1488edf23eaf3889d5f68644a3e7bcdb30ea4c0f4c6fb23d3d2fd58da3be96d31b706bc97c644c724284df605902ed0e0aa01345a752b4d39c06c5a0d2eec1d861b4307a325ecd46884b218656886ccc399a887a08825079e49ae34094020f0b480c5a1c6293cbaa7af951a9035d0c661a732a6b77d6943f283c3d24b00866dff598e5ede8ec2f11b3e8ab72534da98e08b5fb0afbc3a544da4eb15d1d4ea242ecec41a1c0c7b15dbcc5bc44ee263f652655b147a66c37e5a81e8fb910e9cd85c4f62248505e3d27ae084567000042a7e52c2644d68ac74f0cc2cb9de65a43e14a5f270a246167fd2a3ebe661a6ec13337af0eb1ef24823bae701d4d5607391d83903cf9787f87a9ae352100ac04c5a8bfd311000a2349dfc225c2ba369bf7589792c7b385488262045e4616fac455301410eb1db8fcf76ea67f55465145e835329de2775ed821370d2d53aaeb0b02ebb2c2dfc9991a85301f31000f40684b6df06b8506056792893a72167f89412f6e667759a168b7d27d2152eb7f742e4d62b6ad3242e0ff5069776fad66ee107c8e422f949cafd9aa1e4691638159ff8cd9dafa7f4a5fbf12b3c531fa96bb62020d2d8fcb6adb1e76fabdcc2ebdcc2ec3c196f2afc8cd11f28b7f4c215f7aed7891072b5a4abe258189dddc5295949a537bf2759b7a4b2283865462354821e04819942c88b11875562f5ca55d1868b9af4d763ba0925fa8ac90308d8db1540edafd1d71b6cc9b23f23682f4eb5257f6eefe2edf285add08b1952f9fb82c22e3219de7cd9f50653c4ba4f41bcb53eefcf6c7bf2b8acc75d1ec42de5ee8bc1ae791af659aa4f72150e71ebb548545e18eac8e8a3aff2f7e6a684ebd2932376903669187997614f84efda2ae76bce530513b1763cc2051ddf30999d2c5bc59ef09e2f01c79ebe429f72caea59b3438189f3deeaf5426b5ffb1abb7dde1120fe4f1f7385e2f475ff13edccf86d26b2b9db9ff6de5f5bc748833817cb665c60fae5a2ee072bd769ae08cc88556f85e72d04fa1d4b7c26b5938d72e1c5516fa4cb130dd278617ed22c377f16717c121c3a45814a28dfbdfa40ad81c0762a0f4af360538e052cbae8c5cd0fd61752e09ae6a0ff506e9b816b0cce806e76471e90eb6d085b3c3cb2bac15fef5ea46c09ace48cbe5401730fdf6cd86a8a3792dd19126e44688fa0af94eafba44a491fd83fb418bfce013c96f34d305cab2b368e5e6839d6f07d9817f64e7cc9919a9b17b91e8f13212e75d4f274cc790d041a09c655c63c6b92d28a8096bc05d990403f74e718a68d3798bfe63687eafa4df9ad8d72191b4e27cb8abf5eb0a6826a4aaaa03b423e67f9d952f86e3c6a76c2114e8593085f1683bb4b069c027182ff509c63c2f5f3f135d2e46435e1d21906585bf68963a0a1712aa95f0df6f421ce5638ef74bc26faedda35212a650e2e059947199d7b0460be0e2fefcf3d6f2fa0bffd3b90e9d163067b283e0bbaa7d159294514a8c6c46e3ddd1eede1ba72256f5af8a6a5810644b339a3a4213ad6f6bb3b88849036232d74d98d22c2f1eea0fab5d1b61b47f8490c4daccf387e146477406c3e08fc64fb509c8e70b8aee7285c3e9172383ecfddbd235c53ce7bb64a0d7770d0a564b3b85330f31e6de618bc9735ca8c42158298664c8b8b646bc992191110a7350144dbd140cb03a999a637bf736d42f9f0ecc791e5962ac3edfe9b84dd49abc1db0ea9497e012b76b546a1fdfcf46c86c0c1d14da60ffbd476465059db5ff7eb78385548c6507d8244bc096c935029a486692c9bba2cccd0f9abe7e9a6cb0b9ba527d523054cd5534cd4a3fcd4f96340e722e97f72cb3dee99f1833b84a3a942311ca115e942fac2045e26d2d144abd8447840e52fc20799f6487bbcdd3b0385e4c3f1780435c3b49cbb1974748bbc8ff55d611e7590abb727e12a485e43950c2a06695d584cab5a149d212e1156144c0131d9084dce2352777a57998a388a4c17931e0f837c4ea9f54f95bd08a75c249dacc3d59e06d1f134a150b04c510f244baeb712b21af9d834757e74a330b946d54fd9652eda0561c76b1bdaf01e347056e66bfc99e36ea3218556408cc9d360623cf992d84e48a0c7b1a92e01f596a0ec9c27f66805be1ef6c7fa8799c77b79d7804246c499e680ec31c3bd4dd695ed3a79330e531465e8fd8639958935d99d1ff9af2496dea95d47ad96bb49c49a13e5fa628bab40503dc579b66b0a1574febb8299a8b395ed99cc74476e8059937ee29f0863445eac7f25b38c1a791a2ab4d39981ff34f67f665dddd41a016e4b46216aa7103c584e53369149cf2fd1ef1d28953edcce16c9998308b814481ccde9700a98f084f88e8984d207c78ebb94d2ac5ae3d41172b7782aeed05e12873665b99c24a283397312f1f7d7ed7a1c85bdb6199cdc5f972d48dc20a23e894ab4be908aa854c3397ffbaf6da5030135d0313c951b74c5d3b967daf214fc0c243a805208607f27b363734e38d029094115cb0d3c405ba723c5c0fbf95f4cb34541d3f9011c88a4de949ea7478967a694767db52cf67307d500b433dbcbb12c3830874f038103e61954eafead13e810c87e5ffaa0ebda756e9e43ef8303b8f640eae3eb1781de8e302e79d43ae3f462c7a29073e5f8d2060f83791ec6cea24f66abbef599cd28609c94c297357392d03b9b794f1ff9bb0a264432c7daca2bd9ae269d3e740c21bdb98d74e90b621a7499c380f3aa3e32a2914b9a17be2a0b8be48c8e037854f1d6bde4e08405e75209c2776a56574379dc38a3187cbb00bf1676d24be851e9c1fa9896dcbe59e4acb1251b20eafecd610439fb4f47f0caedbb9201dff2b95b11c2c5275fbf50b2e33ca671e4e065255b7d11039bdcdfe96fc5cb815b3dd8176da1801da1c65f9b1c95138d86f708e856daf2c04bc29c8a172d2d9a188d63973ad249fb7127a47eb4d5dc61b8d9443cf24299e49f9570785d90ccd6d0a9c08ae3ac491e7db8d4b1dc8061ed898a1d494a16f78cb75985389ee85b08ebf374266ccd24a5f63e1f0a26231f5d3cc4b02c8cd177307edfdf0d5090abcecda654b8c7c0072d7a290c30be00e834c79a7d951702e18ecfecb5ca2257302e26d392defa78258de4194406baa5b39a86630421e8cb5ba4620211a380774ffda83afc1a0c56bfb293d20f0873bf97b0f41a3ac6a8b05fb949483b058bcb2a1f4715fe0d96e8653b6e886695ac85edb17ee46570f49bd06889f392b59e9918e5ab53b3b9fdd30de0226c57259917536ac4fbc7b4dc831b1121c17ad6686ff41bda9d64dd569c2cfb3645e24becc3d88e8b0ac536181f7188853b7af21641636aee5f17388139b5f2f3d381e039bef9ddc85721222f6794c152438560ab0f7b7705d1afdc57753a456d8b5f509db2b9c18e6e7c8f20f76a3e4907f04fe267a56d281c48e410e24f9341bb05d427787ce991a65dabc65a0b9b8dd2b93d68e1b4d4efd45b165eedf6ec52d9ab9266bec0e5b5449b54434bb35e6e035a626e32597cde7559ddde60aa273c1e7d9478b07ae54e0dad0727033f30bab1aa177efbbfcc1179e3c9a0e817a0549fc4ffb2010f6ffa1466dbca99ff199372b59bcfd6eecf80a70b8d65bd3f4f42ec5203a4fb81e67de48dfc1284fdea33da4b1344e8b3ad08a78e348f73aa64e3fb50436ebc0f315bd55f48db711974c723d88651005af0acc3ef84cdae6087ada4c473fa940ca7a5d6e7df9cc48efb8756d88056b5c23d2a1f23110c121a26ab417a79bcbb3fcd55a8e468cc12736d68d9356cb52412814c17f35f5300731a9e5123f5b64c6bbad955789998ba19f995b41b3c6b9344ae620212b851f1054dd0fcdaf28a7b0c09707ab716c377a19b81ee8ac6a8edaa16f624788cfa0939d09302af880f8d469f6bf1ef28af13c55dce47bc18977f92ec77e1df1fc47a11c4b66b88909cfdbc60f8770e85984f08feb1d0a71d228325995784f05a88fe1da2e390fd8be9995d29e7bc64450de59f3951fb61fdc42114b27532af0484ddbaa326eceaeec8697a80cbf10039424ffbd00043e6474acd26c77bf3427ea51dec8463e8286ffe29b0b3f11bb02f862caca272c5711f653144ddbba0c5fc76c9c9c5bf7de907f9d37522b8a390da17ef5ccc2578f9081f5203b353c05a3c2795f741a05942237f8d8fce2194d94af7a2e492f7b8a3d58aa9d8b14287af109c899fb7f22cd98975858cc773dfd88083a5043fb8846f2e51fd978f16ec10ead25eac4d1a54b5beeb3bacc0890995db5582a3ea0e766a2c7c47029c0c68af448b678ff3733e7c192cc49ed5fdf0b420eb9f81e96c207a2f1b537674762e363e60e5bf8e71fb97c810bf3c1aa1c4b9675389239302d2c2406d479b7edc8d18628b47b9f7f343bf5a99afeddc13c67ca17e519c72d53406979c3dffc1dd0e3d1cd12d5c54521934dcf2bbcd4857e86b612b81c7c4d8f2080a09b1a4afa95ff4a1a8d25a4067c88c22e0e77b73d478d0ed364f03ad907ab9c1f06667c5a5208e8c09990bb97ed52302f578c6a65b906b35112eedf7f2b111139e89c99ca6c050effb6bbf4f82aee244dd7d0fb91bef1553a6fd70201069dae3e1ea99a665359e35e4bc7d56e42acfdbb0ba7b04de3ab95e6172b3a3e2c9257451536029ed021632092384b48866ab4f49f20f7915787273f2507f2c12f59b6279ca166ebb6cf4a3dcbf2339f07720213c155dde59bc17ce48c895c5087d3c6f21f83d3baa3d8335215967780dd615f001fcda628604b933fe05e669d2b23529da838b4c254a10f870c148b6d2b3d42152f9292ceca7477c183a55086c156e5c68d168a18df70682d4a279d8ad8f97513ab9a764217b0a3230e9d79f95b02d0d4d93f3d9e874adfa2fbeb2e9e5d4312061d1e5b40697d3c174fa5d96cb1a2696be217984e01d9718fe36044198f2d5a5c7dd951bd1eb52e5f1e899c8270648e2457a630bd03b334d259c73c7aae4d14a0157e1cd1a4acdf895373f9dfc2fba515e79528e7881c711a1c1669c26527eb0aff9bde566411ed9c55301df4c33992ad7a2eadb4f8ac0f33cc61ea872cb38dbc778bc65b1cb971e95efdbc043e4b3c760efdb25ca46ee156bd01fbfade5a30bcc99413cb360ed36d70264a8a3045584cd9fc37106a9e80d7581facdc3d28ed462547368145e2e0db518fac426dd21a7c34519a885f8f5264929003904de886490969a32aedad9102e3b30a6a2f54c288f32f73d3a2dfa0880199e944d1f58aa1976ca3539af22126dd568100ab67f7b8d74dc81b31bead7a8c676c38ecbb80fb8e41488e0434fd1148fed14451ad1b25080f0970ac33512970f57388c299ffc9a930fbe00e484b3682c4793d91e5fe7296bd1bb7d812232810d546c8a86bde492e53c90f347efe298c002b69a81848a6cbb41b74cbbd0dec6cd3ed40e42cee8fb275b9213769d342f6945bb2ba3624e8552f2148d838e47d15cac99c2cb7af228c9005a459f5036049b3ffa8e60670476152b04f9c42a70425a31972bfe8b8ffdefcf72f3ddbd0a6a58ea89c2ef3f1463ea13a40024bad2683e639786e34d4d6338b37194e8c78da7a93f41233630895e5ab1cf373dfcc4a5a7e9284932f1bc97c7e58224264fb0e91940aac32a41945db6e93bc14f9bb824c758308216e2c16ed39531cad61709250856b20f4a50970d78726f8a1914338964611fd4d329565535e359c1efa5a45964aeee7e613c8860033ae59552db7054e09ee2c0d2ac0f9499470929a0ac87a26af26452afa5c90ce1d6398bb9da99c697c1d335f995a084686281f697acd1fcf767c06fc48ac4bdcca68426891a5f02c0c1d30d03797f7f2a55d589b094953012e39d18b366e1af7c01869009c387032e878e4808def34eb8d37efec41bf4c83b542655383107adbdaff06e92f1d8a7a7cee452f029bd99025f017487615e7984a9d673c3026121219f65041acfed1040f96bb54af0669d83011f5ebf6d7ace48f16c25dffb3b7f108eb162fe44a57f28e19711657f482b84e1f9a646efc983a4cb315a27713495f9badd2a27e92d793cb0baed7f941054d964f6f96863a80ae0751d5c82f7f172af7b90bcabc28c0a16febf480dc0bb97039e7df4d2b78b55feae00a9dc7b9bc71d8fb51b8542e8bb9f960ca8a4390524e6002deccafbd504d1cff6acbac1eeff15ba672a0b6f1414c58a8c3fa93fb697863c913ef08263c8d444b34f4e50490d6b8e8047e19028aca5b08e2d2b0afc48c84a51e57197e2fc154e1a422a91835694aa256d2bb4f9e05b0897541df60054ab9dcd79507f7ef998d372e79ba954775ec7ad2d7c488432c557f97583e084556f11e565297d9a663988410995785a251f9c46043d1fc01bb34fdfe57dc839cff9743b2ace8f0cea961dc5de294e0d492503a0bde652833079c8633745edfbf6ad2267a69af1a4c2baefa274ae582a37b5ac2c1dc3f27c9b2dfa58356086110b0e43df2804fcac8ee5833dc0d3ee1ce473be13ee5ff080256397d852b5e85b98beb5db3dcc58cd3d44dc5a56cdcb33f70fa71853576cd7ef8ccff6d388c1c3c05859bc4d78716d540df0e2688238d9bddd06cf467862e6306a3b2fb6f107ed068024d85d50b6bb7bcaea288ac9d76da7f71f8f93ca2f8cf373b162b7acc141bd6aee4b10af0fd687dd69497f4924af31fd2e2dec73a7a45da1a8d8f683ed624f297e8c8b4fc143a8d78174540afffc3419e363da99022cfa43108444af5c54c71187d1705faef4dbc7a1528367061659445baef52f493e880133ad70281242b48e8d5b55a5f1606533a9c3a318d2db46dfe7b712b4bb38ecf92130c50dc0e47d04cfb71ee4e65985d80a5e3b05abb2983ba36778e734235530d43f6712e0aef05d8cacbe33b0d10e735265c77e3b168e5fd410","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e97d868226c80d274d9d37a2e045718e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
