<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e0a7055da274a1438f4cfcc696d28fa5d17c90af567047e94d9791eeab87ead3b9c3f83fbc3ba2ec998292f16ba7645ca838769ead3137783b0363008598a6c58bcedd2db9dadb4f2f5da6fa361aaad3c8ecd20a1435821ffa63fb85b0beeffb1d7b6318f6a58e5a434ab23dbe32bc890ce0b5ae641433d0063b354b4dfc8720882af03e8229147385d6a1bee75599d45905d0754c8f9809a9100eb27d52ae67158d7562dac6575350eda8973f921cea94416c464bf8002a0f1f281e236351041411ced64446122627e4f4e790d5b7e5241266a580389db56240af69021e32d06e641a8586c69e83b9bf61f533f961fee47ba39d62f136180f638e2a9865493dc06fef245ef92ab781ba65f659d1636b542ee45dd0e160840f64360dece2f122c33aed00ade7f4d1f1537b5e9d11540f2032bfa888079c8f963efe23d809ee77df62d7e50be763f49167c0800b89983cee20df7bc57a3d7dec9bb6562cc9ab192972dcbadbfe9509d38e8bf0c060d5884f0c2b39b12392e75de7bbe0ea2dfac8dad3749886fd0e1d1a1ef5e1f4f7a756efc7665f911c69b9f05be806ff7186102579a74ddd0380474b5347e04a8cf0dd0fb716d1a571222854b28161dd9ccfda4b9b7951b5663dea0e8cc5f3945f2320e16678365ac3f2a33078344ee1c32ef50e30d5670b5fb7f3f94ab0efcede407222d32b2a2672d4d71d82b71cedd230060c85eccefe06944cea7fc3f6d4c93eb523317d4a13c9952ad9917aa4dfd18960aea4aa6f1977ffe691b74dc879438d11a9eadb3c6212a8be246427e122fe03dbf233c2c198d04e5b5c9afcd1ee15bfd00a0a6718304b115b6c1ec21b0821a2107897512946d31e39751aba5d5f89c41fcf6c11f76595bafe6c72d7015f33d9d1a44f79e5aa74f8b2c16ef373276454de405227d223edc3eeaf5249c35b5c7b7f1481dd3fcd826ff40104cefa0993d9cd7de46e54c297701ff4b00f6a2a8f3c4f4b4f61d3c9ecda122fe2949832cbb9df5026ebc805598c459c074aa63baf69b03afbe68aae7c3a6237bb21dd6500cb04ccf2041b212d89661a49634f04ea22def47230de6e65facb2e8e2400d026abc4e8c5afc65a1b024b0204247a80b6369404119398d65f54a2e0e39a192df2244be22df320e3645496a002d8dfcf0af3a50ac1626ca8c9a724f837fe1ea9c3d0de9fc74189127b44251cf832e6e80935a231d7e65cc9e281b9aba9665a27aef02fc229f0692070a61b010d3bbb3e6021d95ce7406d39f8c6ae72a6a9ac79174a6c9ed955cfb50d6f0a184866ef7d145a3f999b44246efb89c33c7e18899022ff41f5871f6024db66c1cc4ff2d9f9630a167168e4301d45e353e084e262384daae1eb1c87c94e46b7f261bb69a5432915501a078562035d8e5bee903cc3ea4d4be6968d1cbb7be74608b63924466a1d79db2ed104e8b04b0a07dc8fba00d0e8d6c5938295c0fe167a948567b3550a8fbce71158cb629903eda650d2294f461b081403041a83071ae54c30e1605cb044ba9f67e9baa546f3390f05a16a56a52b979c20e36c2c89b44cf42eb5e148baf89ba30b21bfa39a746bd51e550041bfe2a18fa5def9e295b3f5264b53e3f513f12e801e645733a6bdaa68fd946a4e0ee35d590db11b0e8579b667a67086464ebade9f0ad9f86191f0d52ef5fdc809e6a57360c61f9fb9bcee6c9f4afcf88a2a6743680eed9ae4782df1271c0a24414b19eab109b6e74d36f57ebbe1fbc61d44024639ed0d394b793545fe98f90f271c83952037d8825419a7e05f0cd763fe9b07c4a953c41257aaf830ebf007a1a3351a081f238407d77f7a11434ac6142ea5009a66bca9ec3153a24a128a8fa3f624832f847e02061173f2722ff2460353f6f5b21a1191c05b857327fb606016b11738608b92f419e3308dfcdd5febee206d8e7db363d7ab7f45601339579726fdd7501d7272bc00c79befd37e5470225e5a1fec92a48e09c72216bcee963a74202f253815ddcc958815ff931f0d9cd0b7a6b1d4aec7f89278b03780032f1a05ca825a21c6df0152c6c5307e6a815930642c41882e8bd422e7a9bead38c1416d9397b2fbad058d5203ef74a93441b8c1b573c8b10cf2123517fbb2312be5ed0f5f4f2d47e33735f00479858649926dec4b96220eeaf705ff0c04fe15f41b375cce3f97978e7de8d4afbacebe66641018149b64e4f4cae9db13271c03b92daa490701c7c39b358b82f21425a752ff54f195054fa25f7738476af5700198270c1bc39ab03d986256f8b320c30a93efb706d676323ebac16b91275da6d08bb1c5a129d3b123e18ccdfa6210312dfb38b146dafed55e21ddc18a612501e2902b6142627154ea8c2ff4117fef9c998962504e191582ef9ab46531541bd050abf9985d54b9c25e9a1827fe8ea243287ea8dc7464d3bbcca8c4e5db47615b76bccabcbe6ee764f994f91927b0f7ec42948212ff0617c227f60ceaf4e4cefb45f177047d7e9d294ed51348f1ef600144e221485468c5f54b6a31708dfffca0b0122ada8a0533e33167e476847aade23baf3221510d8a81ba5ec39bc85371b4acfb1456c021d9e82073479e28660b45932c8fd93e660a12cc97fa504b5d513afe1936700517653b97ed36bae0c2d76273340a30372d4221b7fca9afd13e3791046518826c816a281a917516e23423b132fbe746c889235ac274461f20b8443afa2104c37c5f76e7927ad311804065115d273fad1a465e108872b881c8d5d9bbd09b76b3e0df62e5c1057a00a8567ca5f86e196ab5a314ed168a51299154bbc23b851ef43f106c9e642e0dd47f7318493d21a078fc04bfc7a0b99e026c91f7726d5698e1a95bcbe77d91c7bfd770d8a4f7dff3e812de31bee059cf049df218b0619577e2ef70bfc398fdde9c80d6d67bc237d34061c9071ef1fc7a9cf222f02a6caa5e408b2a205f60136d4adf69ed6b774e27d55fbc8d1b0cf81bd4b2873dd123ab5542fe3ea2638d46e9a9d82397581f18be22bf31d8094ce2843f1ad4ff320cfce11ec4e52f7f57297ca1b11eed938542b7f90601da6536e3bb7a2a1dd7a6bd88aab793edb9e27b7799b5c17ed124eb90f70c0366c9ede879260c8ccc882b59a0b005ad078c24f1b6447e8fd63b1084fa341337928765a6c883d313757311b0721d3d0d1cac8bcec5cb771061c9c1a1bde5d462c6181ca425d6919db96f78dd2edd1237bdd3b4260a02f5b4c1f8a2b794e6b5e8c6d9f10761c1e3424da42e314a30ce87541dee03213ed564e53a6c833fbc2227a8a7ee92f3c5096bf69e24708a66847c8b5bdc669e3936c01c3cedb4d370d00577f20c18eb11214b06ac96cf3951625576a3b2f5d9bef2456651818a54f74f14b13e0b5899250065b6fbde964dce7da223742837d4865882582ff1f844201302bcd4c187741fd844539f91e5543a4a49057a8bf78e8a3cfa9f2cb35434c64918a2e5c6d63f35394ac22b02f49569740997669566da4e95d55120c25ae2a99cec4d3c99218cc3371b35711dc2355e645fb44b25f81a8bf928c25166e79ef62e8b248d00ebb7c28363e5c8321c67406b96afb9774b6ae68529327b9929d4b987c0770738570b03558090cc2182e97ca0417298950d31018ba601797cfd3d836f56706e54239410bf9e23e0590e403fa8bfeb4493276b52ad01d31bc6ed57a8b358de8aad0b3f6098a384932f344c0c3a23db08779b5d89b7c530bea395c8d76055595dbb1830756dea0a04c3c962dc9898536a43ab6c61a49e0f682da527ae0e1b4f7b6f697a6f3bddecd232d62b20c0e39b452ecd1774034ffd97c3d410e6e411f4b41e8f052266630948f86ecce88830508b79243dda98cc16eb9ea73c145a346fd8c3a9f843f1431b03358c9fcf0028ac10ce59a33d3ebbd53aaf6d75f789d0ca5640febe8c171df87e1cab09ef5c45d03bc73ca2c227601c712111f0ab741a87e2e2111b43dea32b401ed715ccf6b7cc2b96b75f0df4c36821e0ba5b4293bf43f61bdc986bb780521f6967690216782b5e55761af07905fb0ae82592f00be86772c736f4b1fa6aefc66dcf1a5b126a1b0ec06a039efd6019b69156641617f892f1e0a532201fdf4a04236988f680c46a5d11c86dab4430d4ccb81dc5798676602adb3da951b758ec1d793ddd78a96a4d0bd83b75d1412c2f9d40e98cb68528dc5216324f7ab4abf9c6212af8b26bc6bc4ef8844e6d94f2d5a8d1753a6a2f1dff3ccf9edcc32231d2b645c9b8b804d6912fbdccc2c868d4b4877e809401a74aebf7a7261d7525d73643869d7e1be722dd0fd7c554c926fc35ff32f5f4561806cddd18f3f2ed794c561ea5d30619dfe8be1a03843c6da0749ee541a44ed4245706ec8e975bc356a4b35c91de663c6d8b8653edfc7ed1e9ea323ed20d1529e91d76125d9fbc224181f36b75477d0da9824c1751654d6b37a103f93203e63681334878006a03b5e809d769a956024cd3ec63c6a31d02b159f6dd3b80d00a3c0306e3ca5071355196159e8396ed406a0b6985e1c969d0ed2a6a0a7459d6e65afd32beb39131f180b58e265ee137ee02cc6835f70175c6d37d1583125515baa9cf7d88e193cfbcfe44203457e34e4375595cadc6303e5b5c25e4f9582983c8a6ff8588f39c297a312582c41da61c58fc0a74eda11ddf7cd08ccdd9431033d39d27b4d1ceb09c0784a6d7c109c7ad012ad38e928fc9652bd330746877c8772d7c6852ecf069c8ecbfaf4784956cf79fd61492437e5330830172b90f1d4f0bc891b5433df69d5f8119d78c313243f01735713996775216f80566d6df69592369b20e8caf759d2857f7f3bba2cf2e6232e0be912bf67fe8b2268c2edfdd0d9992697b3eb6ad34ecea5e0ab0473cd63bc48baafaaea6ecd298cd41609f079f4cb3b27a9a8e6a3d7c61583bbaa59240cd58fefaad750d3725a16f77748b37e4c05d12e34914d1aced8147bc829c615980a54291e9736ba400df54d4a7877de9bcc3e90f15642352446194e885a2ed8d5c99b3ef93782a3b7c10cc7492a5b3d89f0b944259d7af4462683b62466a0ed3f51f399bb2b5d0e5a49bf5a0ce80b0fc6911b39d96ae358051bd57610aaae9648bd7538fc757d8352166de53a3d50c3ab4ce5784eb7b028630e4075b81532146302a31a501ba5581286d8d5df6b13c89175a7ca56e3aaf8043660f90138b2101bcc8ee756c6f121e1f95c5c67cd84c41fb8a4a0bc487dd8d34f7e332eaf0e6d07c27e28c8945afd9cae79c2dcb5b4b553eff3a4016ad0229349c6daa1a280813ed4fd04cef8e6050b1d2e52316e0f109e2fe0662440561e901fe4aeb89f84db1be52b46095e5d9e7bdc62d5476f722aa4930af59244124a93e819153af6362419a5e27f2e92bb3f4cf8212636ca8ef310a346097fe4dfd21e5925e304dddbe1848b7eadc501ad2f5f41a9d620111c75f995f8126a02fd6867329db23369df8e14d88e779e13768f58caab8df5b6ed3c16b3c054e82f52366672ff9f275de544b960f1f154d8df5b74ce02b22f0c57b439092b937f0cdf0cb8d94493c7b9bc2fb29261b296f50697e85b2d7f9ebe1473943f282df898580d9083231bf24a13ce2cbe86113cda15b2f382aa2103e70a1e5be7d2ca61e3eaf2f2a563b2c703f0e1471a23a051031acb0e48b2f74738d46bac03eaa136ae264154d2f27a5ed504f8caae27ff5f1865efd11326fe6048b7c719691dc76b37182ac4a9aab01bcd3e5654dbb8435030fb905f6570cc6d43581bea86cc7a29bf8c615fa9928c3851f313d85cf66d42c32f2283f80eaa6b09dfb7719e59efc929f5c966583183871b604d8c79e032e01cf77c87604b97d67704bb55e34a347b09e61bb98fa05413477814c7730eaf8d4fa19d3d1a9b4104159b0aecd72ee3deaf91e64ae0462399f70b0ff3f590b450c15b3ba8b794806ebccfa5d70c5a6dc9c0f37e745f15ebe65523a9e6cba859a7e87d787af48582e5b5039e62e910fbe68503f4d9dda4c4dc231f256497fda962bd8bb08da7775e42449a062158b84138305f1023406beeefa90a60f3fe0a247183b10bb6722e11befcf9dc6da96192b4f056d71d8c6bf48902a68dea673e599057792ff7670f13e725cac59f7375d2690ad5ae45be6be25f3697a44e8016f56b464b49817de3cce6ecf4cf464ef977712d99a8d4e3c2aa010249ea70982a08db46cf6bf66ff093e5324707d73d1c4aa72f990142aa5f2cf7df7f11b3034d92f2a70b23d7dff2ae4c21ace0dac51cc18b8b4e85638dd71005f946b4f8bd513aa67d9014507987f90cbec373632eec9fca95a2e0642843b496484d193cd095cb30d9b258e1e33e08dc11e2996827367196a0710d0795f279dd9800e23023c3b4c39ff9a546365551a6a285453b06007dbeae54bf9a0f80fc7a591e401e8bf6f39402ca985d7ca2568ec44467717f1c5c49070174fc559e633f54d77d11586ceab26c3637cbbdbd448bcb55e85857f54b4bc4c34660a33552e7551598286321bc8ff8368eb2b507d36b6b358f5898f743a5e5db537b5e91bc8d6486c9e25747e4c62d846e114014a5a81ced118f7e250177edbde3479b589ecc07e5a1c644b02d641a66f6a67d43cb8ffb17cfb384ea310683d43809a5b03b2f4cf4c187caf9461c71f2808602f1871a1ed098e4591b1baac46727fac7dc9715b52b0f21afb268e4a84573515137d2bf607a47e056b8861674898a009539b4205b7982ef0042d66ecea05ab38cb37c42e895894dd0321e63c216841e95f187a76c2f25c683219adf10f12ad86a0e605650c0714a356f7c886a7936693939b080cb5fb519ab886264b7d18155106dc048e6a32ad22fda537026a0359083663088cd0b93af2af91007642a05a02d40718a8815d48c43cd373f420a578b56220e5939c3584fa149e7b2caf318605cfb08af3da8818c14491016b761e729cab430bcbc7feb478bc212f58b741aff1edfb9796de63568c9063436a37bda4da9bcfd3fcc22994d8ff68dcb51c77f72afd8fec9825e292b03cb6717c63ac2b25e7bcf9f5c77db19e135474da333f31e566fa5704ef8355d5850bedefccb9b37737a89c3fdabbb53d68189e6d69ce4101f58ffcd4053f2ca172c97337131a6cb36eb0199c2e38637e22281c7d76a57354f298d25073f051972072dd24dd999b9b810e64c6e87f78211df20b125c2b954279f9edf2092a7b5ac5a90b202f9ca09236045fa915bc383b9f875e8d80570c22efa218bb36a945df1dc3a029f530105752416c4a4b7aaa240bb7ed4a430da3fca0a970515531bf08b1f2f207200e902809bc3540df9ea70e22644659ecb6caa24e62f8310eb6de872794456356b8ae74a82a8017663257f30f464b73d765ef8ceb45d1354f5596ba43b2c177cebf618ba9b9e3fc1e7c87d0c78b85a726d97fd69b18ac4e1903c1a688c06326993e7f96aef16b94177d863756e57d306c3f70caa7a09c84c472bbd25d247f710e6475395295ad68ee51b7e7cdc0f1fa0c69f09bddfa0ee08a58600471b11ece56679c96be9f2648740d8d2c9b5eb5b51a0ac7e1fcb9ca57e02282a7f11907bb5e6fefc7c3eb6d892ec8b25a9cb39d619254ef530dfb4e2da250c37258bf5b583aab8345a0343418a468aa83b554ff56f0d5876b8d9389bdaf9e7d4578ba09341262235640ffedcbb6f84239ed84c10fbd1d55320e59e414ea50788c08d4d3b5f0157ef0c8f152381dfb18001fe987c896904dcbef2af0916a00b438c70aaee7e6cc43005d89e653f066ae5b2f40c403cb303f41c67e3c8d9749a663222770a248e656ab8556893b525493688b08c9dcfcfa442fa5b781c083b018c4b4e58070981e572f8c76c1f1a9da3bfb2b26ee429c60d6750017baad76317532d4905ff4b39ce8afd5188d19ff203c12d63a73d45dbd8b2f7b3c00e706b3ed745525adc08dccbf655f3feeae0385e40fcfb1461f8da0f6d4386b9a003c7cc32581a7939f9ad4b4ef1f32283d33a03d456ae03244f17fdd26e66c7185929a8daecc4aca9588b28c7330139e2feb9f77fac443abe99fc56569324f6bdf81dc6d53c5d330074b206aa2289a7ee3f5edd5d0a4bf20fe37ef99dd5a652356e6e0e3d7c6ae5066befbbb0686721f73c7ce27d81cae8ef040adf2ea39d408c06c6883e01708865abedccac9ae20053ee93b514e89399726f859219035b1f61c6e607f2b0be21fef5063f5164e6da83dc0c1e62f1d68344d38319db2117234ea8159ca0a44d4073e8ff6004025ed4386c17c29fb8edcdcedae197edb79aee63280847fff698346ed67342707f37bdbd38cf225f67f0c59d8ad3a78e51b7347c70b07d9746e91ee738682920221bee8be5c6bf2d4dbc55481e56df869ff90db33bc1ea1ec1787c90525365c57aa8840a6193b231491db657ddf1acd702d21b363bace7726ed819037b4c78c307965f8bca828e5fac8571b7414a8ae7884e122bcee96f49f4a56b5e0db9f88a51d66b0cfa69fd07b60e86c9546530c9eb5692a6de8dd67fa8ee3f2b5b1a2457b6a352694cc36c17281b5105e99e078d5ebcd478ffe6aa9d3439a569849d089fc78f10bf3d843cb61b1f534066ecaa9ed21c343472951977b476c95e21ce787077c20e9e86d2c8fb249cbd62a5063f9edc84f3d83386d0bfa4af1283bf96c9cca4631231bc7dbd8eb6626fdb391a87fd62ea4cf9e7f2aa109576165a9f0c4b866a674bd90a4d55cc1260a8bf115d31ed93deb485a52618a8e45826513f54358956970219bfe2fbbbd21aab15a3af5f8363287ae859af34ba2b7e686726d6df43cb334f014f8265146586a2777c49e7e777f6068aa37add1519b7065bd56197212c4c1d2e3e34348c064df60b72fd929375c6f862e55d6bc0ff44f35f3c48617d0a16228b588a3a233856ffc1168a9679f1abde05eb54253aea9499b2fa6d9e33ec56d8b244b269c6b4a6cfbb54cc37266a174ee45264853fb7cd3f91565c28237a503f5ef408bafee76e5d04cf1c72ff0b23023420735e3e2a75396fe25edf2d0f60c610a64816d2959427558b402cb90d8b85cd58fee8aa98480aef258bec8d1f292d71f76c074c3250508072d606f8d1918a814c9722cd51d17eea8de79d9ee84952db362dfa8ab4dbb065069dffa2225d9121a2e053b2fc1d60c26de03b22a830b4b3d24c730a9e90c9ba2d430bc90cc2daf371bd8abeec494b2c74c0a629349b4b3ae3490aecc44d1ac95cb9d5070810b6f7f8a84d68facc6355b2ae93d32a018a622cd8587174c3cbd22b805d7eb7711efd5ae6d73eb52b91ad193a8d72015b06c188f3b8563e35088bdae8c4503d04bf6af65181360f675a7268537e78215519fb532c12e44d291479c8eeb2cc43cf8c6d49f3dfea9461c3b893354c120282736d0861d73ce0259d0d9b5f1aef7e08d17443f617e99213da82f29a2d6980b637a88b98a8385f99381372cabf424dfed25554f637bc2c8c5e1e1c1d2573a65c17c648ead4e070ca88b00f3a8a2320986e0cbe5e828fe03afdafff7a8f45c5c7ff7cd38fe94412233a72a1f90d3417877385c24170261874beb6736fb800f5b9ca41c586a461b69e796e860ce7cf73eaa475e8207f511e47c944e64f8fc79fcdf023c098e5b9dc1656265c4bbd0286762f9e89940a7cb06e791cd844def960584c37cb310c77ebe48adf9974a0247415dc73c9e99c357f17dd3c772278bb45dc5b6d3ef199445895fb0ab53aec1f39e32eceb451f62425ae1655199ce903023dbdca7048b982015f38765afc195cca07b84d363ca4f09799da00f27242377c1384899711c263ecac4743cc92a99f7ffcc436d65076bcd3016261b32f37b3d56efde29452785e1630b25b6cc02efe2910706708c3f7a66710a6555a2a37ff2e399e8bd08d4c88ea86920e9e8c4bd45465afcf50f6fa18f658f99022f1b79024ca70056e0a03a7bc348a20a7132ae4f50d4b1b50efd9dacb61f2011b1a8799edebe1de9d48459b3acb72e824ad26304a4a9299801ca8908b95f521c1d83bdaf772388a040d289a491a9b2056199281f144c1b9ec20c19f0a93e8fc9566ca17adae1d5320b33f880b376a1d815e3a016d66188d64cf5af6188e010c7d42e09bd5a9184033b764cb219a59f145f305a30a0b066b9198b3f0029df818662689023e715caf8b272ae196d9648ef51740b778ac9691b92d138bd50873652f7cc3b3fc706c4ba32549bb2177dc97af3f72f19f240eb74d398d8e5a7f29938aba64b893dd541fd2915acdec6d6918e9e270512967952c0cdf97a03ca6fabc5b401ef61cca6cfb28d9972c6748b59546e1748ab14ab7d23bb074a2f0a7f501491927bbed058d141a5dce73a90bc69eae82813a6aa12b5ec71d2320d1601a918770bf10b8ca6bb1d8f3b4fbcb3ce460ea47466d799f49e111391d719c4b35d90d01470fa46dfbffff0dba824680dc5611d4403d7b7def8a7507eeddadb96724d4f9ca1c347bbfbfcbe16b162f145cf3d60d85d928a8ecfd7bf6f0ff0465e3595e8ae7609ce82ccc2a0a67450080332908811a01b29d262fe3a626ed9914ba2d2df2a742511792739a5b88554769e86f6e631e50a53a114dea4d6d47337add284865f93715ac4c841da158531168966871ec057e91a1bce97e389397d82ac4b803a9fc36f0275e58a557561e479f4fc028dbe116b4c6b4ed1d85cf2d55df8c2f995d04cd080d20cc8cc4eefcb6f8b70108d198640405946985094e598bc4e43d2250140916a636e89f06a6feefcdd84a43311ecae10e5f7b336fa199e37fdc9f5a6c585a760a3d438ad7902a837d59d484a6ef941d6d69f090ba9db5b5d3256b4c5cbdbf3adabdcdf9274d42b5c8bdf6416e9ce3a833f766d9fec086cd9fb54c44fcefc1107348a83ef0a81ffd60515b55447aa6ed26b57ed8287004dff92c0083436ab0d67826ae6f77048b45334cb42e992b19d34a73063944e0863e12d70ac0e40943af6a66a06ef2ac4c2fc121e0260a11be5babeb2c73bbee9338eb465199a73c953b8bf16b71d216ff67163abe2627270fd305dd68343e0178e1647c6bde4fce6a6250c2bd0e427619332dbead33e77cd1c4fe84017d722cfef289dd5f9f23c05a08933c487a082c4a538d25316e7c5ba40e4905930aaa2b54466546331c901b644e702ea74914a15f3ddd4d796b406abdeea30fabf4c8218ff7c2a295d1c88a10e9e099b4d591a0cea5efbbed2b064aa7dd4f73bcb46dae5f07924561f5224674b0430ef8a5e3a82fa5b151272009fba3b50cd8397b35ac13d0a74d78a2f71bcae24c6c0431a2bcc2a60bc774c9c1ffff53e77fa7afc2e62208d073713916d793bdb62eb53a17a8fadfed145c36df0904650a9b204c0ffdf258145e175bdde8290a50f56d1655644f6d58625d4c6a395ea372a205ae654c077692683930472d30a629dc4387f8688e1b8154f429f6924b8a097d3120a85c114bc1df59c4d4ce1c052bb445c8bbba7c7fb75b6e9490b9897828b5eca2fe1461d875239b321c591393340eec008b685b8bc9f86367a31f0b7009be46b1616b131931828a2cf9f4821abd3f95d48afdc6805730e10c965e290e19850de183fa155dccf798214f9ff1c0dd9b42e429ca470bbfbf9945e64e015a117c62172acb2aa270aa95b50977cd0ea512f5996f633a7b3e44eaab669e7a98b26c58378932a31364fa54d208ea4dbba89077af45abf9b71a23e0df1f10e5e204e0c04cbf7454d48504f5a5886df38e02b5caf051b108390a84f453d6a8fc143e5d2786a857fb3c1dece229f4e68c87618f8432ed2611be8223e2860e176c625f2ff06924a25ae0bf2240020f37544a9f65a3d7710c0d0fcd2150c7f44106e87dc5a17ff39cd7419f967ed9ce564c5355ee6b35f373d7c3baa70af5e9310a3067c08cb32b29d9ba39e16335f490edab1c5896b1b26fd099b80b28aa0b9810d21409c85961761400b054f096c1fd8327446420cb51cebc53e254fa13d63adbaa078e31e59585b92ca9cdbea2ce4b6cf8c465ea2e507fb1858d0ea11c64587e5d0ee7cb911c6de42b370bc282ea99c6c723786aed05ff8b33a868e7547d5dfc29b0ebaa9933bbc099ca0edbfff00075a4fe297f58fa02cb238176ee859dc202a9483c1c3bb63d70fc85a86834932fdee75563c0925225a84c6840cb195e9788ad41d64c8ad28c91920b3e5dbd91bcfe0c16aff4b19cd2e69a76d1227568c26326c050ffa7a735ed675651229cf6466e6d8e109d225c365b32bde58e4a18a5846f9993e5dff74ae9645d47e40b62866ab779580be5b3a064735d50b818815c178067771c110675d7b11e6309d730d5a6ed1e3b4955372b6f0b237b136d3e9b346adab3fe46bffc76362af94b60e50f12663449ba02e9e0634b9e3808c7c08d371b33b2fb4a714837426ff1652325162f5d4d44f4f22f09d9992270788243a9864c85a1e907413d625f4c1c492f2cd54cb344ead5a3f2ba0feb1b0fd90de8757c0350aa4373117ad9a7495816464a063967efd5ed9b130ddd53ea8e8ffe13b67f783fe1530ce3f738bb0235515a522bb59389fec251d4a1a1049fa9d0ef8fd4655404e369ab8c427f9ac343193fd576be3a2e69f621a92116db96ba55287b0e1f7d29565ad2b4552a9acb12f97f55c90553cc29d296b375ccc269e8030a8b798737afc986dd2974ebd04084c39891ea9933a63058e29903d680eaa2a3cafa07cbc971482a3327bf91695f6506d9b1f8fa1abfae52f4f7aa4d1ed7bf80aa139b1fe87aae2fe7f4b75ccaf01ddd0629a35840cfe4581737c1f92f12a8235a691d2608fc3e7b01297e46c9b04c9d6e8d030b8e33f01fcdd2fa12b2d55a57356e1c62bb1db42177f2de1c3e8301dac3e68976a38fcb722829b7e036ddf1b9293088aa446a33eb0e4d2a5fa05a32499d554c4d52d557cd33d3fa9cdd79c55211562b75911ad834457ffd17df3cfd0788c4ee59f3b5a0a150ba646362eb2943c2d099bbefacfa6c5946d9f21b48554669abfcbdfc959d8fe6f6ac5029eab274bbb9d539269bca42deb1078c91bbce7bc0dbd88926d750012add5fb9f52f3c1440ff836d31618d1175375ae250655f2d542956d2cbcd653bed72a940e3c49db1e9c0bf47cf4f7e8d0334e73fa160abe15d2fabce79dda2450c9766ef299256cb87f7e1baebf095f2f315d910260e38382f1350d847cfaf7c9668b207a1222fa28bbb4a562e1f60a1edebc12a478b77ba7a79230edf63cae76dc4d5635fdc999a8a489ca9fc115649c6cb37360ae535087efa44a04331a377ba0914d3c1b3c18ea09557b4ce09f68d01d1431aa1fd38007ab37775a45b842014b7e773669c8d256faf86874509f040afcbd5b22bcc1022b1e48f950d6709d60f99ee22ae8a531387f3b81736a13a7509ff58717f86511c2e7e6691dbbfcabc50faea79b0a669456a965c5af21172ae637fa9b0e739d91531c8d1b98d936d913bc5fd27b0131f5477724946d0902591a1d64f0eb929072698114aeb56ea994cd70b1bd04eb11fc9157c365faacba1820b4317ae0e226b49baae3056f03f1cad7026b606d9091bf98a77e922d5ddc96712ed430b19cb129dac66b6853843b89b929ad06e34e4ea2dbe6d0caa74e9c56e0c0aad3b991e357d0654576ecc79cbdbd9f7180c5b9a7827c6fc826447dbefae658da34ef06b962deaff46b1e5fabf2ca8f31536fd878cc2c8df21b4777eb45e28e1f32624147beaff2666c067ad4362ce68132157fcf40886217214daefb8cacb63bf84c19c14d16bbf7ead8ac00cbf0151fec64458eb9ca7f1cc518092a05d0b8afa5ad732809a91256301e017d43bd618e1cf49c5a74ebf1593611b8d093a8b77932dcec31946da4eaf93071b18500a0a2a82a46e53ba59433fca83b5bfd2d0c39b6b41e387608f137c3a97f2ad97d299e0cc09ba775bfe9754e0ec2a12b827560049a3baf282376c95b050f7a501ee5e9800549fb07f8bf9c634f49f208a024d6c08b2e76eb740509cca0237cc2caeca7aa6ca136064e4e20ef03602c62072c22e60664ddaa4948a2de160d4356679d77ac27fa24be0d25cb09c22eed8a90f4106d60f2522d3ca39fc305d0ef770e0df1a4dcca10c777c24ebcd5f3a705c351fe0c170bca3ad2b03adebebb249a09587c0eb7b18720efe140016c5cab4141b2c7087617cf444ce4219ef5198af31e9ae5d8b3356c12fb9ec1eeb491075d862f6e304c317b9979ea02ea346820ba80572006f0e1f43dbd2672deabedb2b37a564ced1ba081450f3055adff38ec79673c9d1ba8db5d842f030649a0ccc3aedb158c0c4b9e35672499b16d99c7cb1773ff89ae127b8100adeebc34360d0d98749e7ed27a6ff6afdd9e215a56aaee16b7263fcb45d126de7a6edd6f073f1f0e1f54f9b0777abaa4bf813fff78edb3fcdbb32c3311be7fb1f900d793aec4e146b40d419471b86e590bd27548366aa54381e675b05ed45c63c2d2bd7d7b86e5f3f07631da203c686e126261da1f9fb8d293e4c610ac030fb7dc91b009a1be4c96ebfa1f065d6e73b1a066866c8d3d50a1430a748a5f98d0d100f97c5ac97556d5c2598d4e7d15a4e96be7c0ea64948e186a4e97aeccb4b1cfa37ecf63684f22c4bf18a6d39ce94350a8a8a3cb192ca428347c408eccda72da7e88378ed5567ed918d7f4b0f4483319bd46b8d78ab312fa8c032d69525862e5f95333eae25a2bb16cb6d541af129b2eb8781912a6c6189eb7c4c3f442c26d49be9826e0b4754e0dbaa398a5912626708a6596f3a38df224706fe14186c600bc1b567b23dd15c978cf77dccb34e6ad2ee5c6b4c721168d86c7efd673d0aa586b5f8a0b9d35e3e9cc87497bc47d3fdbbcd69d50eeb76b6c1147617374603c108cb174c83632363e9c2037ec77f978f8592de939489f71d5b3a77d0b49fcf7b4ec366dce107ca0bd8bf6d1f62f21b31fb23d5dbe710dac6d10b19820a277f6b875a246b2e91b89695dc97813d8134edb630021ca940655409cd58919302de7e55a44b5b7c7de22fce40a42d7105d9b87dbb12b98bbd445721ee8e41da339ae7c9f0ec28c3d8e569ebada240354266efe7bb58f63a807aca0031624296e50d93dc2bac1fe69cd59189f0f38513c05f6e4e37d18b91b24aa2aceac940a4cba935bbd3ee6a8d9dcbc7e266673ea68a53a78cc7c2b8fd8608ee918172c70f9451534c60751e32825f25dd9bf55a2bb84ef12843b87f0a76c0189dfd71a55f36ca331badda663cccd4d8564c98a211050de13d4488433b7f13851fa203b8fa251726bd54f73b5df27497c7c735f1755cf93e45f5f880f39a288f0829c4c3517e856a8e897a7193014dccfad4d3c02e8dc4d12d301e3f40c248e9d847d0af154d383849e27acc8a173d40cf4f55e244e97da8f816eff50e9bff0ac474a1fe97ec029dd28a565ace79c36753a724808101d20dfa6022454d1b0f2c5ced19a582a047f7ca465df3e62cf74f9e09423431f8554ed2767a674058db136be62a123fbdc2da4de491e1f6b53b5996dbeaf7fcd2cd03af46947ddea04c0077b5688494a69ad8770f9aaf26a51cc14aa77f4f1e7d68f7d82f1e36bc6c76c4856d9e6aec2fc5bbdeaf159a89e592c4fcbd01fb2734a5bb317a0c9904dd81e52bdff9b8d085f6a3f271d3f0340f9a97d0521b60e38b636b76c475ccaf53cadc5a1b25f07bf83232112f72346665ecebce0af19cc18325b0f1d76883d5b406f5976691258b7e17f95b23e3812fd08d17f352c8b9fdf0ed48cd3830af124ab3239a26f607c05275d1aadcdece362f5700d17a421d7297f525b95aba1913ad415952da63a33c0d4e6e9922db253b7fc51c167afcec6cd3bb3c88137f69d1c2716f98d06665ba3a6468fde1c417f356c53e9abd90459afe011aba828c8e456594e2970ba3414d8865aa53adfc2c759de14d20e669daab2da6d41d4447101020a5a9ca2fe13dedd7e7313e0913d5873702cabba4759a33c2018a79f61ee5e40607cb0adb5608a065308704ace10e1aea0511b1ed0e10f846174c2c7b2055850639253871c1644da6c0751b8c985f9a37b78da07a9a4ba7d74b84249e1b9c465ae890626fa7c92803e3df2220c0b60aca4636700f85d18cb4dde2f880efed2b3b691fa3ea005789436839eae9adc248c6335c96932303cc6cd02e19ddd2d2ab959a6af235b4660cda6f8e52d2b04673ed9d592b8ef8b08cfb1a3e2bc2ffd6a74d712eaff38d6290a810329776e7bba13cda94c59cc98fd5d91c257a8b8bbc4d4d21c3426a935704035c623482f3b356a5baafa97bc7c88167928c3058c96977f5620f6da203db26ebca2881555e21de0c7345e15f407fb213228e8ac303be1b2dba30da98f7119ea8b298efc7c35ab5d46fc8c4bd50f41ae15e6007770dd85bf1ad449908e95d306c3c55787f340cbd11003c3dfb62fcee19fa0d086450a346d5a7e398fe83dcf28a72aa72c2eda67beb6c6c69a334db6a7b525c9d89404df08ac6f6732a7a4cc29cef773d6283215aa7846a4990aff92fefcb9eca3a8cdd717d847e00baee1dc13b190875778479a54b8b8813910dbc997ba259ef3fe00d264b8960853693c26db5a19861b4fe1d5af33e976113bd07918a090c56b006e3e3ea5d24b7c616af5c77031747fc97c62cba4aa0d8d308298794a83d9272dad72ce81133b724810d35ee04dfadb6e0587c11295f66d034cf84e9fd0462912a69223cd67afa1bc220b377c076812f216b65c6215820e276961f843402b0fc4d8b594de327c94c3d7d8f9cf27b08ea31ae752fe4cb055f5eb154c2bd91dd2f67ab1ec73038ff04a9c58031d3439a0af99d233d7836724ee7b32414b149c545ae3e3d83ccbdd90a60868d35951a211dec5b3a379808e9ee884b46d392a8aeafb542dfccbab6659e08a5d9b40511bf3c6550a946777f23dc60bc9fbc9e807e04775418bf2db116879e242c7722ecb4f5763f38164713fe346d28a888581101c3119a76264aab02f2e8598eb82b5d90bf8d40718b146e773feea0324bfb404be02a4e29aceb69cc661b5a2f03a0c5829e5ca97415100c6a609403138367ade30d20de6aa80ec3d294303a7422257c996faf8100e1e58519b88126f0e6921cfd097ab61bdd114d2561bd5f306730f852236ea54683f29795e2e6d809ea70ede995b4aea3b9d64b098bafeadac9dd690b02b47988fdc905f10c495def10900bdf86171eefb3536c53dffca2dcc7f679d5b7caaa7e508fb7762984d68dc2c4b8e64d5d3016583fdca44b9d9dd145e82c9597059e59bcc95126f6fca7453412dcee8a64836a095dacf863d93e78fb67ad29de26e607877f59f08ff05cac166dc64cdd15dea53fee112cb86882deae0af26ec6bdfe4c33d0c6e040f5c02ade837074739223adb8e32989743bce58e5f1ec8bc6d2f8cef9f6bad624f6e44465d2b0c71b261696680b33affa21a92795c403ccba749c28e4bdafdb5ebbb66c2352f36550d938dcdf3fbedc2dfd20910997c1437e8e6eb4a83ba2947b645154eb4e308cf5c1fd87c06692ac70c4e6d1752e7e813968d2113e0491a8ecc3552368a8c64cd40ae61567a7d3cc1b04486986dc79042e4656fc1501b8f520d24b9dfe1357e0bf4d4df902cbfc795ba31914c8c705c8faea439b44aef94e57a00e3366aa9bbd596ccbfef9607fcb60bc7b20b97b203aa8a9433e5dbc127056c2142479397c842a737066db9bd744e1842620f2971d41690a750250531078f11869f3db7db5d97986af58700088aff8d788bf7e657d3060e21cb29a632cbd021c9609464c7f8df9fb2be25d38daaa8eaf71281e26b3bc2800aec56fd0fe4cc71645d3cedcde641b8af12968deeb613346f5abceea32b377469f66f542e510d9a7d1236b306b7d43c7b33d9b27c80f4d1a09e6a98c7f0531683878176b0ba9acc983f6db4e41a3be0a89a0237511626ab1f2eae576b902e3976ae1846a227b0d4c8b0c3963808c23ab51f6ef72823f09539fbfe13debaf880633d7cc6f22b3944d05a110e85e8c72e76ccad58e263f925ff6bf6a55569ef16ad03b96c7ed9532ea29480dfb6933543291e749be1bfa94628145fbf682041cd008d7b712f16cbb1ca9c99cde6441991cb57572b0eeac2711c493fbcecc62e79316a07cd0bc18d5e60c17bd6297a6764059ab9f85e6c814bea02843f0555d30ecbafb31f573d9f7973d1d96027312b9c5e97f1844ac28c050a96f9d200b511b73f14957ae9af1b655b1f98ca9641fe3446b70e4b5b0829525efee124ad270f308030efa9fe36f5161a3d424cbfa6dab28dbb643d70408237d36429df7fbf645a06459f61e3a87d9c13542c857e8361f3fff6a1c46356b2a3c35ac0cfed6f1e56633f64b246bea44979b68400adc7ed3d617f589e9f92e5d9ece02937be31a75e7bf74d01b5c750b7e43bc8daced29f756d348637a6984a28cc547bb62e662ca8e147f9cfbdc0069baf86108fdf3d59deb5918fa302737afb84fba882ec1bf6688a9b495178fd42a067132969ac22b9e0c46c487b1bbe9de22805eb87757491bbf9ef2929ce663456dd8a2cecb6507a66fc4ddead90bd84389dabc29e74a9ded7542bcca3644f5f37bbb548d27787ed533246e5eeeac2d6d6439dc0973d106b988f334c4cf88f8722801db1badb266f35b37a4e16fb78e999047afb8b3821d4ad859ffcd8dfaca7c723eb1f22be792bfab584543ca618cfab0a3c2539908244000091c09646101c2f94b8cb03cbdb8301461af7cec654524a4b2ab4f34595592ea9f67bdb27dba2e11e6966e26970444bc43fd1cc897b9f31a23128a4fc151bc32f82e06257ca2b97bd06261bddb28333631d76d118af8de94dde0e044bc36c4e2667039b05c3a150a0f1a729eb6d890bfbbd9bb0e015533dfbbd7a8396cafce5716d11d5d68bc5ba5ff435b400e374ea2f117f618219e577840909ce244511dc0c35701a93b8b0b7233cc085e8a18a02f7263a99a614efdbb0212f9891da3b17948bcaf499d69aa72820c4c9448bad66497cae35c108819a4fd274cfadad9227e0176756dda57d102a407ede1d7ed79561f4b0450303ff6919f56eb5a9c23d18229367de2703d3ad5f33a6da3a3d1e77736f849ba7ceb943e7a0da818a20d772cc6454da4748127a2186aadb2d2c8bc78db7c5fd8312c7c40671d0a307be439e1186421faee0a57cd160e466f74e013265f36e440160126a11144f2cbcfdd6a74a57014b863fd7b9d7778b137e44d8554af80dde1c057b4f615c36697af3eda404fbdd0a3969cafe84e0535ca140d59fcae7d8755ef10846b7a7c9ea40d4017fbd5c671e658dd9d1a35e205e367f46a921efae17204dc48d5bf344186880c8b7c6665b139918df00a78a7bb0a6e4c33ea6b608d8d9b1f886428056599c401bc6d187659b9ff1e70d1cd46eabed82f8adddccb3e4f8efdbd0e4b44542f9b3795b7b248e62a2d18a01d8302acaf955a05dd9d19ad381f02f93f45be6c7c58367388551f5b008f978f9166eeb6fb52e91f506403ca86de5a8fd1e32b728d57f43df88927dd032896f27ddeab1b9ecde6553c5a1ff8ad17f56c68bdee1e241adb1b83243ef725f7fd521b41c42f8efed21c10cd885467ae86a4596bc74ce364a08deb4962ce34a696fd3614f5b82a84fc36d548d372fe8d4d2595e1974649725ee384d11e9912d","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"66b52103c7b6b6381e541a7e4457a002"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
