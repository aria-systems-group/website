<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"30b6624cefe2ad9d56e0a3ce94666d2b4f02fd85670ab8e28ec4fa45afac1dffd7cb8cc040f0d56c933b29ded873f367535c18da1548c837b5cf45cd6d6b0505aeeb5b759a55cc73ed90fdadeb8a635d6027213bd8dae6277d48a4e77686a32b0c6535abce7ab43f84c3a765e0b5349902a6e5f40f926f20b12155e476cf59d8b2431af4147afeab186127f79f7fe9bf16d0a7ebc6e81709afe2a2c779536b57acb910b8378329b3d2bf89bab49533bf2f2ca5c5ea402f215d47ff2480116ca30aef242e1cc1413c1e49beb2d6565450a477a10cf7af56ef44d75ac993c1c43e375b57d60407b5f9ed5b9327f80f0a0f9d0dc42259cea997059a6d294a625cdae8169de713bdca6c432e018b548bba36db7faa78c85c2a3046b2994bfbec3eec32391d3153b561dfb5800a0fbbfcb6e3f6c312219d057d1d7d3f509d90f075696c484bcd3c32c333a2c6de9e35dd27bd3124d9d3c71d2250596e46b8d437f5fad3f55f6b737b510cfb584b1f20252e9598a22456dd8f33288336fca228ea7f152abacbde63a7822c37ceed9952b6c97d51a1159b27aa905841cc1229718591a459cc0d85d40b5a118186ca5f7410925688f9555fe31145eb849e16fb7e5632d7e83da2109864e65ade1914cee34c1e30bbb38b6fd1276279f70c887c23cc1d2de523cc927fd09e5efadf4ec669a7d931d80a312fabe088d48be75a97f7292c85ccb2fdadb749b9a613b36ad831e87e0bd0598580c733235b73d845f1b41e4ab23a93381e4bb90243f7236448e151470d762ce54534173ab697a73b81481313773227a46442a10ce98ff7542aaf8e53731ca28d99f33c5e7d1504ffaee71b6a57d3da3e30acb593ae475455a639d35df2c0dcc4dff02833696989ff6701dab08125b9facbfc284b4d8626bdda9d41f37696f27fc8c6ba61044fd2df62418474e9db52eee123774991e65b93c7b4e8bf8f4451fbe5ce60554761578dd193dcad57399e573df05869e7bbe3216e3b80a44a1647ce5695f515688053244020165736e9014aa3f73239a62010dd509a85652df4dd2e9df348eb5f5b6b71a519ce481d00b2fe4892a440cf5ccc57e92d8cd46ecc3c6fec142b3451f29ac7e63da376ebedf43b73c3251611d9b7d1e8b8f718f2ac4b5477cbc4814bf1398744dd9365537c43099514f2c0d301bd031f540501c6ce90d44039392b3aca5bf43f4837e1fc5b0a04f7e9fe8d9436ec5ba0bdbcb38d9c04884274db38aa73b2a4873cb297d976989feb90c2b8efcb1cf80c4a5698cbe86174e503aac98ad8f742dd66e72732ee9785c6eaae33084e3a15f154ba8838e640cc10390263e2029a0006e05dd6e96e9c7764067815618b47f604c774e8b7463fbd3f4470348fa40e10bd4bcd194daf2d0a11ec332b11fea922b5e01e397528840584f1c0de539842b0f3c2c2e35762cb7a07afde4fcec3fab68cf9b01a5f0d68ccd87f66a7a04ee2340c370516e5221866088e7e004940bf598abd87ee3b9b95a54236cd2f06d52ece30e11d0fe6184bdfa2b5b6b7a63e5931cece41f8e12bf80db546512558e87309e2298832790b1c0fe84c9d180342653d674e39ba30d38bc4bc8b4fbaeded5add1468a555fc1756f81c7d7c1eb76df03b6bdf99ddffa1c3d3bcb826669eb102550709d397e38939438791aba4ac83adf1b76ba1b7c5c538a731d9a3991c45963aaf15b21cf474a5eb34e2ed1b9c47bb37a0793176dd4cd194598419ace4a60e7653e305e96e464d60736cd1a29eca057081bd1ab137e0165158ea616b9ef3decf8d6ca6222131e5963657f73acdbbb574158286d2f3db1d5b4e0bed7a7042da62f4324e75054d44dd3df1bb38dd5c05f28786216293119ca2727d3bc05ea8d8c245b07c6e5eaf1469a80ca6a1cd1e59111da13029b0836f4f28ef2290a8950fbb35f78cca178b07dd716e953cc1eecb92feff7f3270e82539a520a400fcf9b8a043d65937fd1a3d740c3fe91ac230200f764b53e07351e7d8a6ee11f43cfb753e947a38637fc69fc5929412b7dd9802858498dec6f9176c918e9bf7edff9705a897cf48dfe65019463144310de3cc0020c30b01a34d4e478126e4e1eea50483c4fe3377c434fd490a9f92f196f250be5071934898087f105097d29093bfdbc0a4815c2a43118ee241daaecb475d9fe259a175731ae695e73833d9750b8a59b3cbc7d70fb6a365c5a4a213ab969b619bb03f45b0f62abebf091b859688a8929e16922013be3d43bbb8ac2ae2606a44bbbc329275a5e8549528446d0cf0c90dcdc80eef162eace9dcc29c955027ad2178fbf2c2fe448515bf5296ffbb3d4faef801db50386b5322379cbce9d6845f069972e806eee8d1730596a145621c645e59faf1e11198ae5e19e41a69ababbe45fb0edc6df688298ba721c2b371f6952dff4f6df3c146657fe4185e7aabe16e0a164165bcaa59f4a93812d2aa1bd6c78cb22af40f40843e2b8b806b7262b3d79838f846893e48241c660ed39aa5c9bb2d7d1267de1f7bece8346c9ee27c4c7a50222b249c9716bc7998a1d71b5dab5902531de4175d053bfb2d94e590ebd999a1875e1274b1b97d5b514c269395aaef7760744b0ef3eedf78ea518e0d4b7f168cc58bb422218626a8d0b88fd3f7684b70cdaf6253a4cc3f183be395fde6e771a63336a0ff04ddbf35b23dc12dd72c6d2ad18df1c231b38c175a96a88435f66c9ae764ad726b4996b5e4400c67bc1f36248c98575ed7517210311b4df12ba2fb8522492d9b4a451f5298020c27eb6efaa2df90089290db6385b35c64c988160991cb1b3f1df2031156e5c9fe24e1a16e2eb9060210a6f6fc13b1932fb0f3ba73b3f3f022ea108bbe79865f1dc6ce0dc4fd3d9662d4a36b15a7efecc70c7c28d3583395872474068ac9db77b3777496cb67270b54646a33225e116471cb1e8819a417e90f9c7ec0216185dfcd88449bd9771e138bb78e6ac48d4137330a92606800a8e1a4194ee446ff5b1c82a6c78c79678a816fa01b7d2598f833e42f5e22cbe1d816f6538f2eee199ef144a29edd67be4f314e705fb18803063ab00261500c6ba54c9d017426f3b9ac88846a8066aaeafc97781023d52a1360321a78c592e46d4ae582ab47e827b4a5b47e83f9638f8c3e7afb51c5ba1fc42220364f783faf8a0814d8f3bf3d03400dc93206b3d5efef9a4d46bcd420e79d6be30cc64952cf68bfa33ab2fd50169f9b22392d3625a9cd3ada507d353cc4f6aad3d4e49409c092c69a0dc8cf7f1aee864297500165ae6a6b285a5b3761399d9ca7e65031c1055b7846b57b1c10e750c4bc221247ea4097d9db0a3d04264eb858100a56758c5e866086b30a457c70d42fd221e24f4467061a5ef9036188833b8298894c4b83efe2c61879a434e1186aa1e56d95490148fc00fa341e86498f614f94bfe22a7583fb37ab260fbeca673c4627b2c06a86fe2314eeb43d6d8bea4350f1e2a25fa881a27ed75aee66c5aa47d299e063e20a16d5051c3220da9dfd6a594746f7b9d71888d4645287e7060464493b50f3d0a3e4f4906cbcb9500dbaef88045d38413312c2dfd60e90be0df6b996143664fcebb50ba7ca50eae3d6456b8f4a706ff957d3b1c7707631cb005aa482b80c9153ed217042f79689e05719d50ae0bb6ef30e899c9164e179fdd9de252c6b329c95b49ccdaa785e37345068feb54cedbd6ed76ae7b4d18461bf6989319d89c77a40d9152321dbd78bb421eee245074de75058818e57e31019e054d962c5b41f624ac5d2453edd199f9ff00491dd30870c3057411cf9db1702f160f03189b814474d820102b5e1d041a2dd794169e30e21bce483895538548aba2f196e158437eadacbd6be7d7f538190b60e61fc4ddea68d5d264099047e90addbee99362316252d8c02093a42ce3d505dbc28dd5abf1656f5cca1a3c36f12efadc2008a2dd2dcfc0141fc7f7d6ee19da561162c2791ecde8f64d0421d1e922f264f328f77cc34417db05497090a0e7f8226ebdb19d9fc8bf8692c9fcd27d1213a8bfb6f0e68fdd65c50b2be1a94e61b47764e1e1b3fd941b50eb6186d0fc01ba09be3d2c224be68b0fe1f3c6cf39c22840afa5d963d05e4e9173b0ceaa479e4b70f891861df21d204bafc1d6b10a679e6c2c597d00be787213fa6edac734f9b5e6b71fad55662e8a33087b96906a013cc329c29ac0e7e357b071f88063c0a487c152029c1ddcae1b567d723b0b3af2ef552179686015e63fbc1ccb06e67155c9764b9d46f81022c70cf73f72c153d64e54682a9f789cc957e5e180e5b54bb8a241073f9f622adfb87ae9f02a36d71c03dfb2daeb898619a7d3b630b5bf294db7589f46be1a6abc40a1f2ba15022acf10109666aa07aa6704106e3213b4e9a6fa632a96a012cc4abf35ed221cde294b1312371bf2e9c1e6ef884b941361461795fb675ed4fb4173622779d78be3841e3bdfe2a01e4c25dd0e69d82bf561a1b406706565f0729697d600465858b17d2d8d12fedad758363839a5e5b0e34299df9b375c90e6ee5725db26eb0bf9b51788e9862d3ad3187636674be7c32e58664343023d9fc00ed479a34841ac1152d697c202516f58f7e7be1f067b47137a3fac90d8d0fc6d4f2976d393276759c243569d1dfb8d5451802d3e31e0e8774f05c517c150efa7c2daefe7e681819d69061eb536427236c5d4565de73f7ff2dbc235c9e189ccc617d1d67bf72f00fd85a9c78cf7b1837832063316d10e1762e93448d92a871e1c3acdd2ee46a1b6e670bfb2b232011d94a7803208df220fb77af11a9f94caa1da3e1d881044964f5ef4e9210ca291e59b956be90d4cb93af0b1e9ba5317a50a8f950504739ed4771f29c8b0dcee8aa2f75b2393e29d5d09deec0440b29be546ff166a3e245a914b31be20c0787eae7c57012d570f188b72e858219fe86acdf3cccc8b5db52af1f4cbfecfca4fcd0a3c96d7bdd680428b15e15797e26e3b3168e4963883accc2319876dc0213de7fb7e0747f0cb647e75d94f4bfd6d26024aea256c54d707ff4f149eebcadd961ed65b554d9e522513d93516f1d092aa8a30d7c8adbb9dd69c954afed2982213c7dfb2c09f0f0991d0dcee62247f243b37ee4748c64e40999a74f524afe6573aa032849345394bdec588733d9363c6b2a61988264e9d801ca9ab99fd54fbf361e8c54d4a39d81a71d25f945236d7606690d796ecffeddb05a152ec824d2a71086d6ec1025b9c250c446ee0d4edf6cfce9e8f160d653e6a1a6a178ecaddf6b936f93884236eeea0f3fba91703a6d8b09f43ee034acaef992953f725cad02a5f1ef214106793092f60555c3d15e7415da3c92c0432099ee1ef2dcb73b33245a0f10da9bcf62e92e3d19c74e4285d4ad7a1ce19d7f0c49149ef3b694d69b34c75c9979edb0061deea142ec07db2422bc25b5faba6c10b1d489b5e17ff4d388e11a430dafd3e7edee3d2adea68d68803bd9cf70f1c3b39915298bd2fe74a1f9a1ec230d89aef5dfa06fe249b74ac61d30f0d1c690b8e640c088b2b207263df208729fa8e418caa7a377c27d75ccdc4779df08f721d780de0104982ff15ff2151941c64efd5db35c37a07d6db9746d392c099dcaa5dd2c757262462d8b317c3e09d0a32cab3d4f881fd16433394c3e366a0c43e7c88a82015326082812d8302c5948efb4d427e4a14a48fbe6b94b7903e7080438f4d5ff87edf59f417709b457c9e6ef9af02dbaedc72141ebbd890bcdcf3d0f205269df89d291a55e2f280f973a4f01999e9e7085d5a63daed39d577a97de22c5f4a7736146a1cb02fa8d07f493286f267514b728f2e6da5cdf0e50b38d4f64da73cb5134a3ab3c701ae4983ca55ef4909e44e94a791bde56d4a4e3b21439890da925cf41a642d2abfad0bbc77c75c4139b64a31c7e26e0ea17dc87161ab1cd1902fb09d69d4fde95e817fe70585c528efa18779b7191368b2bb0c45ae5b5fb88e0132d127cc451b66a86c2dec7925f3a8e99994aadba68dd2b86a438c0d7b7bfe8f641951f42fe5774b0faa2d65475df17d6176b9e46457663e16a99ca32119ad071669319e139343f88a14e14ba70e4c4a11063bba4be50fb0a0a935bdd731bf09979cfd8b59b0dd558e842aaded0f5df9c28ab1d473a9ed4da5dd489f8df1da93251f204b85baa93649d387b95e5ad8dcd1c778e5ff7a695d3c64c3916479158774820c1472b2c31ae17bf14d6a10e926e4883b0b714cb8d75823341951ba9c632974e01d83119fcf5913afcfbc792b463809fbb9479d9bf9d95012e2e33e8e8fb4c35c20c5848c64ab5dd951b71e66a4d66fab715194fdd41f481377d5c76cc8a0ede3d9c75a1a292bc127f2627e89284af7da6350d5aca570b71d2869240f837e9e5846e436ac6cd024b9e6029ca41ebf207eedad5cc1469ce446b0bff3801fd0496591a8e47e59085958e0b622e54ed56f3242da516bca3e0a0a63429b76d9f8ecb3821113cd2c2a7ec58dce9d34e99fa6cec354d95ee6e2c4fccea2c7a4023d5a51707369943c27d114d5587d35ec2bd039456d53b738aecd7595c9ccc050da489038da46307c317886eb7c3384b019479d8d0421ba098b17d4e501635a159780847e093e47cbf5ce625dcf98f6dbe563b7d8ba92866c52ab6bbf4efc05c989a8b2c1ce62d2172e1e52bb102a287bcbf71be5e84f3637697784ff1e7390c36d13b0ad932f9ef0cbba6a4bfa8bbd3c82395b00dba85d5097d04b9b5192d5c3eb0952fdc29ea8d872f358d93d6179da0e20e8d727cf4a8398e3240f24b8abc2e1dd1e7896455548da556413839a3120fdb383ebe81ad8b694097cc476dd9d59560ba2493dc6f9152af22f396246fc866f4bffa5a2bc1b017e03d05ae30f6097bd16dabadbc7f37006438765296a14b08daa1186cb21b5bb47c51aa62fc69a352513a875ad03a4e1819e177109a02274c5670b3c871e096b8466024c311dd2f0d67933382c857dcfd1b947bb37c6a3a9eaa9080107a0141f02f91631b3d9c786a9d20c95534d5fbfa98b189513bcbb5d4a92929a1be2c555979a6973ff3c641dcc553597da4dd03b7de4d7ecba79fba999dc8810d7215560ee612f35792454e2f0c850572c3ad497def881a3eba1cb48884fd3cefe7624ce69f6abdeb130d19590f9302f6addd657d26df81bfa5343fdfa369c6a9c23e314f03d3d24bf225f029e98783545506ddbbadf7a6f81020305d0df4d507f1c3b0f3f9bd6c93743581771c77121314114dcf808d375924d3a9d1186bc271fe77f935c90607cc77f2e31ef96f062024a6a84b86f97bf53c985188005943e2d6ad36779a20a34fadc27663af1125059c2199dbf8dbd477d116c8089f8fbbcf5a3d89bc9c96c3f0b10a277a190dcabf84873303b966bcdea43ab0960d292c886ad34248c4ce4bd3c8a784c12f9105123099d810436ce042fef09225c615e48573baa6cbe210aad346948edaaff9f4f7a2a42f4ca3240cfe591aad3775eae5dc152ef66623ce8cd708748b18cbac1eb568a8b73f12e07f581c2f0768fa93073d0f54460cfeed54beb247f95c23979d2e2f45a8a43998cc6c747de5e507cbdef05a22bc6875c4ff31e278bfb3fc2db5e621a4fdcae09d7cd087f73e6de89afbc77a21bf2ddb41642eb911bd3c3529dfe2d63a6eb3afa98e57240f17a0c29936c221774df0d3b4551b625f32fa1907069fc396e29ae9ad9c2486d3281b4840e5d8d2cfd90d34a706fa8656bdda7e504934b867c4a0939dcdc3b3b35588b608711d2ceffd4e9a388cfdfaaac306fa96ee1c1f81499f46da6a96ab7400d223cda0fc9fe821772cdde8492a8d4e742fa6d83a457a77559ae3e14859c1069356272c7947687232c3880afae0bf5f19ac87ac5c46dedd0cc2ce5d82f2c165b407a3529f51508488c74ee71ac0d354a7081384f918049dc5e700fe7f4aa0917edcd05b947f16c9a9a24981149dea27143257c59438a3df4e237a8699f93ff486488b8199ad9d0f8c635495ecce3a26ee9651edec54940d5b952c0750cc37c0601d799a2d613e9ca6102413eea2497e302becdefc23e2d2ba495714938ded69973176248fb596a1701d10565cf0088f917050010faa9af15227e704e1396bf51fdd097f69630ba08013d3df93fd6c23b17f8d29a3c88df67fb9e669bd9b83169011042b0d0c77223ddb86f09b1225099684b07124a0337d36ad027ad61770a48ef81e696b86dc4055f7fbb5984ac04b72c889bae2772019f879f08dd526c49c845619ded46d5c648769c7c1250b35488a4bc706a2d81a0709f978aa78f7440a1bc51469d99d1c43010e324218bb2164a7570e238f48df6da338754644c6677c4d5215f20512ca907121b4f3f537d29d182ee1d26c621eaf7f34a6b2d7abb4579d9afb53648237d59f8eb5a254eb9cdbe838fb674eb7ec08e493ea0b95dc40e1eb80fe16372a94f38bf1d7b5e0253284fbfeab70ae64d2e28561a3d0a18589259fdeaebedf962f296e579b26a549b6b0529afbf1336b87448c9f4975f49782ee7a682cb2493ec27f7cddd23c3987774b9d3084d54b3449bd3703254f98d0e82536387ee162ee3a51bb9de93c8858e6a8dc0329ba35e33a024bebcf6bd4c59904ea040090f2880d81c68db28c1290d11d86464dcf8f0675f7e97be4bbc15b41115a37cd9fbf1d10b87c29de9591bf7e42fa882d6e51b16eac566363ab16d620ac2cf706f1ac083110dcf94c5647fb947214f05c42b556ccdcc76d6f34c282aa9e35bbfd58dbe675b30747a769156b99a3c26331da02dead06412f8569c045c71ccce0ad43ce8c3032da27d13d9744c071eb71be59d1c1b1917c86ec9ffaabff7f668d5128a87884da7f275109509ab0a743e6e5a6e427c2945df296e52fc497ca978a31a213318ae41fe97a85037aa70467231fbbc86cfa42b31df54d036ba3dd8ce16b4529cb4a6daff58b6747d1722862113585dc1c051d1789e2c45946531c4f22bbc75ad3de208f93f37728b7cc014903dc746290b6d2e2b323c375f42e48f6b5faf042ad57d40ee86ceac237a01808d3dd147fd8df8ab81e381178cfd9a5974af3c8c9aa61fa68d244fc42042389333a7f4a1547d8c64bfaa4ad8fa02d077b794716c11d9d063934969d206994d8627a8f774c59ed81a32ae7417b347ceacf6fcaf57739c7c64e61cc7dc94aad8493124a1897f3d985b4841afd3b7bcf8861b66e9f566888d4626badc25fdeefc19347c73df4ad436a2454e48cbe233274ed4d63a1f537ec115824b1274aec8eb1cba3e92eaf47d403fd842e333bed152b2f4edd2861ec51eb2d3ec30d6968bc851c92afc46202b1e6003e62841bea29e059854a0ecf46b7a5cc2805cd4a827d3a274c32c3a504021a7213ba4cee8d24abb00b15dffe69d8773178bce5f5c930db937694149584a832ca51596d5163637867d29c8108ebd9eb6797e350961a7d726e02b3956381d01246e2eb4f4d6f32a39ebed6ad10d1a73d01b7e1033d6c37a01188fe014b140b8afd81f40ff3ed1440aae39c05e806773c2f5125f762fbd622bee9d49a06f7d3860b0d60c7021cb78006d9137dd2b2238191df99b0dbcabc48661a7c73b8a920a4f9febfa5d4615292585240525feb75230009945786d30028849f41c1e0f96c42604d5c8ecb65627b2ec897f46c958b63968a4c6ae3331a17b848d14c81de180657b9e40dab0fe361bfcf7b02733a10f01f735f7ca673e4b78d7190b53f472af18bd450c9a9a408ce855ca581f7010639b2d4731aae455b2c8c39e8a64ca54e328986928c87e6d531a5cc1c140327683818c88a008b40dfb389b29cf7785f57af42c8eaee9d1ccc8707d09b7603367115775350218f6de33a801ce9ae90102c489d20cae8b20a28076a9751fac173cd0a7ef6eb2a98b4c47c19caa65bd2bcbc762c13192d8a27218367fe90e62b9691da07ce3532d434c5b2f97df39585720e69cfc31851d03aa59f0cadccf9734ce5c96fa466b730999dff71a3b74a2e51542c00693e32fa7dcd7eea856f4ec2b329c36a4fd63d4f8179ee4c8a20036499d8aad0c508f3322d9726d81d6019607332d500ec684735b5f1aed92cdac1db6dd046946e03ad1dbc5718ce15b33539b8db3b8047a34caa3329dbc4e6a7326eed3fc65154a7c66697fca8ee20a0f9a3e624966c41e8570708d4947db996eaea8f863da14876c0cf358f8ab08e095eb0a2585960ada361a96aa0958c13a09e3b1fc17b5708ec5e9df66d51b9fcdbf9a90a9e90978e2d23b8dc3c7946fd7c79f9040dde108379642067c2b0cd732c58257e803353432e489027d515e84572d1d1e403cc064f6db556feab0fa63173b9e745fcef5334ce83e492f78c6374fc07e3b9a2a794a7587b0639a1015db99658cdd577e99e94f22130a3a9529ac503addf5e26d36235ae8481842cf8400027b373cdcc12a7a8d8417b87fcdb83b853b84334864ff3a197703b7f49fbf45c0df469573f06da210dbf8582e0e6acf7943febd947c4a6cba4f1991c939213213302772a1fe6a87122ad678b5fbb8c98ff185f947cd5fde4b25a8977fd3c176b1dca12a0e9b067f19197717e3c78a386f8fbd09a671b0d54ec350c1b7f45c3e0f9ef4d73c85ddf2c7e221df6214b56ef399f178638ce50d180060b15de009c9394bd7f1792f4b083bc6d1c0c44f96f6d54c814c8830bf84c84aba80ef4af9a7d8bd9bc2d77ca8f24df267ebfc77f7df6bb9454ae7fedf66fa5afd284616ef67879aab4fc911e9d372564803cc51ea35436af749ea4aa766a183ba670fad15ca5722c5da68d766753f28d67428b4ecb29cdb099bd01771f6d0b9ce2fa24592803936af77932b20f98f0eb176a167bb0cdd918a7837c3501ebae02831c00bf06c78ecafe3acd55d51c7b420befdddc66cfa1033ddab83fed659607ce988bef10e96dc560c9cbf30fc391371ee04a2de9ad09457eaf51bc1f44605289440a5007e7ba16936c325dea7c8dd3b2d2e296fa3181b2edd276ba8bf340c1d05c2a52c0ad0bf9d1bcf81d18692e9476c1d457882bb6471263b71ace2bb38eed4392295062af764dd356a595c712327f2f47c5a62c5b12de56c25bbd638a90eede030bee2fbbe104df773725fa2232959745026c352a37616f6cca7bebc7ee11d76f69ef6c0ab0d235ed9989233cbe6fcd64e29f03acd9ad002eb9bbf43149bbb301a41376ae8c5213c38f8227f79b166c23ea6a01b4ffccc4261de4d0ad3d96d3b4722546388a450890f6ad101a89167a25025664cd17b8821c357cac397a536fc46ba0092863a32d11c3e1975e2e9df118ddc4115c9a9f17b8be426c2a58c57d89b96c42f5a22fcdbf233e0ba5ca03bbd90d387053d7081aa3073033ff1109ab5d04bfc4b5b6be7bd70f4f3a085f5740174095433722759116c72f85294fa26808f1384e0fcd2ecf5b66efd28447041730c8fa7ba716ef523adad463e12e06fff091312a5d2832c2a47ff767433308d4c441b5baf927838867c2922dc6d16ffa9e3a06d7f11d40f4acd5d2149b73cde9e4633bea17f85fb2e95063d388cc9040a8ed79d520f431b23d6a047cb1ecfbe6130079157b2d74df56e218035507fcbc21a7d41b904cc8a6c652b5584c1def98a1f5ff3e34299369cf3c1458cd847fb0d6b050870883d5d30c781b88a7797608412e0e044e160e9ed1ac353481f29180e2273e2f9f2e80e0cd933604034a057c8b4ce8d929b8ab935287743e0f01bb471087e2d74aeb95e692cffeb7b53e73de15d80f704b2902cdc704791a4ac8d6787093eefaf3fd1f7b4c5555e31315fe4bf6208048e655fd4730430b8e0ce11e5499b448f1fd7822bd3cbc8d8220bcd0ced1b289e6e67148a8e7896846cf6668d1810373b3061c545da43d398d36dfab176bb137406669f8796085589f41cd6fdcef781bef2d9ddd673bc24654f1a9c6ae535c661e8e326e996a4c0a043771237ad26ac143d3ea610a4f4762b44f3c2bdb237fc9c7a35c618e07b42cbf72786c3ad93b397006861152b6e1c9969353514dc814a5f96bd76bfbde7bad3d907bdfc6226fa483567987386f2298a452068333df1766ab7f4ca66b9a3d0657e308e318b93e7464dc09838ef7f9407424103aa4da4707f67d6453cd4933a99dd5d66044e3abfab1aa50ca48de93e9aafd5833c70f7a3b29e7b2786e4e746e9ea54395f826c7877854b7eb63e79dceb0f25a777dc23d4f931730a826efdecc82b75082461e0291951fcb25abe9af6c85a50051d2d34e755dffdfe9cdefb1be1c90e281e1c30516eb8811561f8ac541dbbdb607079c001d3ad2e84c12a972810bd9a184e78fae6b2233eba27b9f395685bc9803cf24b4f68b874438a63ffd148b222ed0661f6e6750dc2c050437689b652806ec84d58facbe4d2dd76789c2dcb16aa0985b84b3b434c52d7f4bc928fb647216f1cd37e9271a4c88fc2cc6f52b303b11481ca156887ff130fbf9c09d5431e674e9fb4a0f196fa9a9b1ed1362dcad1760bf0f5d8688b409bdc416e069606fba3365e3bbc2834a4c598321e112d85569b5c798b9666f82e92d6897674776130dcab7fb2b38c938ca08389ca7628aeb0b01c9d4639963fbc449f3fec69529be62f1e918839c2bc6aa9e50753fa6a5c0438373ebafaca57d093830613c94644cf534d7837ec99db9a4da767178e655b0cde92b434a99b89b5ec71a3470acd36b7ffa4dcdf0d6cad02af1bc3dbb7ad0c0a41ecfbdfb15dc6198bff2dd4f3168a2f9363ef45466979b8481a9a3edf44dc725e553d00a5be1b0dd660a6522c98ae3f9cbe6c54a58673cac0440015beeddb22533e54267bfa30937160106608c7323de06639aa7f8512b24677b3f70ab850ca5b11b75527ef2c50edfbeeab97065737e6c02d772c7a1f737e1a4e6318be44d0809fe19eefc4ef02956b48bbb3b2845fc60cb69fbe330bb5f565028710a4d39a18c675f67e04f4d1deffe9a937e73a552acb03454c0fa35416a361379184f013327ef51e16ba791ea188776936e7035ecc1aabbc7f984d9a3177bda5972b824783d665063e6090c7f73a61fa9a0cb33abe62d598d14c9f2f8710003c85fab71f3cae5b4e2a91ef1b6db985f443d7691688159ee5954d3bb5c7edfc5ea21b3c0e011963f1267d7fba8a5f399c2fa73989fe13f176ca800477f4703de69f31ef054e28081afd359a2bdba8c120031baa748e13a39a80f311634cd6a4c830722e067737b330d31fbc138dc07cf3ff538473e54005ce04efa267b542b125ede74bcf193ec145a892f99c9c43252ba8f275503811c5e12b51d77af82cf4a38d74c8dfdb1396ed8da0e7d1194163b614c63873154b780b3be39249524e8125b6d319f2d125e440275a18592bdb7d4185603d342d10378a047cc7228d75b968ddd24370ba3f7333a6b4808bf39a3e44892ff7d41a3b01ffe7048c965fe5d1b10af908fead28b9d92e4d50c39c8d1de04c1f3f65f9761c4ccb05609faa48341ca468a112e7f918087606fb1b3a1e925ac86dfa760a021a7b424fc32866457db9ac6e76772d2554c8f9dfd0196de26478b6b50890cf62e3abbbde982075e6b21b124a5462ee1230c4a977988054f82d73a4725a6769e73535cb4239d48d453ace7aa8f8be83ef126397c3c030acd8c74b808fe353ce2e8812fe1b458d7b3fdeb764776ec87df97725e1b641d16c60243706b7a9aee4afefab17c66e7897574c2eb6c22889e9d98e469246abdf374d37a62b797c3a4fe202dd09924f73370f0f5896e5676e0c20a488fa895764a73efe82b773b94019056674610d91e57acea0fac724113f87616ed50c35ae6f44b2b170992c479eddb2f98e2935e0ebe9c5a89a7ae04b71d1ad59965981908dc20d9a9060bdd28781c7d911bc335d16a5453abbc02de528b94a845bcc2b693cfeff8290f6fc3d906780cc316a99054f4ed7e2a34517c57a71c389c242775f297193fa04936e571ab9c7be04a87a97c32a3934c5625554d6716d956743121004d0e3ce5eacc6ae87833b18a37333088c8eab92a2aa7bf36cace5620a63da63cff7818c4816b637e686d604405b3d33003dc7610b833d2278b4f3848d62dac5f5ab0d5ae3ae94a3a156854f8c19d533470d4bce4dc2ff897b5f70ce30ad65f94150ec771f4ec8f855937ba42de90c98c3be1151bfc13f189c52b510534e69a5ee1ebd268936d73ff5e3b5944f7ba12552eb493df44de85768a22975d2263a1677db5f1edcaf161e13f6800cebbc6380337341ade4e76a892a3db721d322d9c3ac1efdfe079420dd79622dbf3b5073e4844fcc6fdd7fba2d298aab1ebea9633c66e12902652facb1f28d0d80f61c82758ea875ffe39d375a90f8bd85a09b6e6ee8af3577131cc914bfe2b21f47bfbac9311d066b57f95c77b1c91e4327d94c2ed6bf6225eac6ef631ae2fcddf86a7bef7e7f19c7e839a26ad043dfb9e92a2f5ba54759a938dcb0b8d5131e91a733c4a87b71486b10e44d86a112bfc245392f5efdb53812ea900f75c362eeead0aa382d6c61dabd8d838cd6923bc28920b5d36404d5b15a49677d5d15b1da367d7ea53d11847339be2c48e7dc352d2f3c74f79e26ed76475ce6fb38f23d2e6d57d1ec98a6c92eb53e161a07d8ae5fafc1b27f3da2b6b88b8360b76d9212ee071a4a53c8535990ca1afc676420d7474a8e7996d05a316ffce0d4d5a698f1276250247d4e42243002c985980f03bc259019115cfc6c8a73352809a95b85157f9858495ede2e460b650f1b4beffae316aae6977c7759ca8fabb91ab1b078f21410e2200ebbe1350718bca3e99c49a6fdb88ddd146f1c873a223e96eff899ef71877543c244cc713243fe778343cafb95b1babbd557709c97df442b19a66d6b4b411f0de02c87ef6a812711d806a628bbc7063234acd65b9e99e6faf785bf7e6ed489838548405880aa58f0803646704a9cd9eaf25678f4ae83a581b3522bd2083fdae78ff99455d6420aed8a4dee34e71405f27bb1c81648bb855e4839b6e729ac0626e841767a08d765f87ac23e06dc8fcec7e2726bac883cbc61d7032ac2ef10fdd58c855461c681e1694460c73f08c06dd3b1c9554cbd5952c2ac02a3fdc59f8b364c6f2f674d2c6e7927e614585560f15e2a4e703c0a7868c687304ebb7fc778ec208ad0435b66048cf7c941984db61e0c8ceb23412cd51e467f120212aff987b79176ab228aa3370947c03a71cb50ce40c634eeb85d49d1e55c3921c3400e8783cd863c4b7c5913bfec56cedf893698dca818a909bae802e954de02510421e9c10f6b88b32ed6446292ea80a2d396da1d412867aa0f5295df0e3b15cce5aed77c47952ac07a7137cc7ccdefd380b7dd913fb880f13cdc4b2bb82890757374e05296415b0925a06877c942a95014ac874883309b4975c0f05bd48732f87371f5cd453f07e5af37b72aba702f87fdc8c2993c0f9929f07eaa3ea9cc7a1c1cf501717c8a7f52bc663606e7a4eb56d9803033d142a8f193445ae6814cf08ad6bd0d987bbfaa875dec626b92a50aa98635a5b05d6ef279d8ad7c94e2dec56f8763fa69b595037221ab90b4b19a934b86074688d1dec9fb9b2a3eae7d5ebc00003f352c4bc12502b1c403755128cc68af64145bbccc704273ccf98f0ad54d542ff02318fd71ab3aa5083ae5727d6f55c198b71d5b11a5dbd1b356443a64b1c031fea0bc76d9ec4d12f4a9d88af21fc299b331b122cd58abba556002a62a5a707d7d1a23bec2e4052c991a102f35b79450ff78b190e474de95f8d7544bf711bd192157f05845bdd0390a981d1517a7bf6f38126c9391e00692ff89cb9647493109c471f802542477cd65f8151e71d18ca112008afb7ff68cc2d7eef2ab519ce2bc7244de601ecd493a478c45bc4f63f08530c03737e9a9e3d8525701bd6ee719cf41c7db6e9f4703c066dfbc831db55886985db7080b1a53df8e8fb4f9a657cef21fa87939dc1c4a9262a4e146f6b90166b651a8b90d2b6787635cd29390aa449236f8e78a96e59bb34e314e8b4dba89434f5cf5f850aa1a193e746099d9bf693a1a8f37a8b0471578fcb804620b81a75882d9d629472978ae00a864370c83e66b62dbd6e20fdd27e9e1b0da5d33fdba2a868554dfc25617d231187fecc37d13323f2b3cb526853dae720256dc3736d21003ffbf9ebb94371b645943c9be235343b3d43f540c7ac2963e699e891306b9f7664343d8271b225b200bbaef5f1a4f3dac56d74c01a895ee7c07e60697721b6aea4d2e6ea652bf5ee95152a4b760e05c96d5011c52a50834de815f0661757afc7aa4bb51d47871ab85c4da88ed3efbd5a0eb3a3fda6d2ef880c3af657cf699cfa3d62dc35564cc0fbc0170fd9f61fd1d7b48f1429265a7feb6c0523528f4f143fe071622c20c019192b7c25007f99b0ee13910fceb53af005e6c0f8c1b4401c43036bd8aa323bd03761d3c466d597e6f18cece97de718e48715af1e432e6754b98759bd5dba0044959cdca7b0511cf6a4f15cc30a4e25df5a28a823f8392c236c699ba61339294f7ea0321be36f446f96e1bee7eac6fee8f85d1e9daac6d8d77f91dfd113aec5a5cf6e625e109fd9b73bf7ba0fedf0096b561e9633fb004b465d103afa2b9014507d33a50f94da238995d5c937833722af869b5951d0af9c41e74ad5d036c383e4bc76b47951da93e0f75f046153f3724bc2366215aa784b8cf68314bcb3026570eac56edc386acb31f37317c376d0979d2cef1cdeed636994100e888d1ab39b098a9039e36c973ee3b2369fbaf1aa64307312dab96f8f44215004c8a5f6a586c953ecff8b286ec663b3005c6926700810fe61d2578ea48464aeb26cb9b032198c42f9db50d49ba14b36aa04212ed2bb345435954c44af053bcf7591f43dbe5438828a01750ecb37e48e4495d7c2251be93ebd844872e7377b9770973d652602525f458d25ca1a26f2a968cfcafb67a80e7ae9c8341379b753ab4964c89b9e1391226069ec95fab4387e6f54a1eb0e37694593fd636b206c32eaad268026d02289945786ba6f71919f6e492cb44c8028123bb1a197586368c7f349c0a4e54e63ec7d9f1b863097d4b13e91449fc8521e47a9a4afaaaaca72cfd5a4596c5128127942d334b4545170d3a11e14d9b19bdd59b07d9afacc3d26c32f4063909d0a2198d5a40aa072b468395723c22a1af64f047116436309cace6c0834aff5ce6efebf44c17bbcb9783fd45e173477a7e0462aea29cdf96d6e361add2f015dce4d938f380eecdcf1d82915bb5c70552c4051a81364f2c12dad72fb22774af2d4d221be047731272fbc902d8e35151029a52c2e0587d7fa3a4d634c9e925b8c073a9753f05cadaef99bababc19de5f0e4b821b86a5487e7499a7073d198cea58fed1920b129be19ff6bb9b726becc3fc02fb686f1d5a2a2a571a77ce508744244d74d4636a9ecc4e351530352f29a25c7f90cd26e2f2c5ce708b782cc9f3168931fa9296b49419510403402fa9a45d2d129efdffd54b95fc6611fcff2e8bae9b54f37b31f4dceb5f9b6fd4e46aa9812a6b5b90a05095551e9526a28e0ba17bd1ff1130ebbcd7c8ab1214f09c970614704a5ee38334b75c081adf04b331f9700455d6ae57fd478fc476b2c6c78c98f7423bb57607ea750e9d1dbba77c06a3d397f5e8deefcafe17d5994d7eafe9c072c4abee1e274d89ef0e5026ca54a8c9f66910426d1e2ee03bcedca4bfe83bc2e04f23e91daa9a9656290e1faa067fff52664c7d8ace7a693c04e9cec161549589ef77b48e256b2016baf2a3304f36421746588ebd465c8dd685e999a023a2e9f2fb0f1bb659ca54281cbdddffc2a0731fef7651235741d9fce5ef59566c55e8aa2961de6cd84d834a11d29cd6c77cb08ac239b7a7e3617b76f638b6ab5e2b03a900cf068df39f14493a71d8e98b4adb72d3d8693b94ea4a2c92ca3747557c194802e537ae2c6c153286a19e5f9dea276e925552665b9a173430108bcb39e21c6ea4b28b62a635bd74c103ba0bd7db5795b494fcdcefbea78cf6d5b5a8d62e6fa1b87e1bec8114ca8219dcca8ae954e4d5bf34105787a49ca10f6d29bf3ef6ba181b11c865276a7b540e81388b8f8d48c5651d7a331a76843ea2ab82f537f4445e926a856863eb10831cc9533d0cbb37bb85e70af15ad2becc8f64c35c431f87b414540ca9ce4ebb117bd4e966bb631368c02221c9f424b8da336f21a56734652486dabbd37d63724d681b0038b30d7785f8e0a46cd8b8c1b1ee15bb73a7659b79a0adf2b19db511ee260badc9135cf4141c166bdec60959cfdb9a7ab0188b66d818b86105d1d1a6bc8095501f005ba563a675333c07ce7ab35b14f797322eaffe85f54f4fba4d12e7bbec370ddb26bd4b5d8d4ee57f3d32bd709f9e1fa6c8034dd843c75f1452d3d634a4e635db8938f6aa9608ff6a075604e9de1be1201169841cf2136487540a30277fe94980097db5a7f796da085468845dc712a61088c8a560620951f1d88f18532591e51c812d1ebbd7c47a085f9f400fad4b2b6857302f8b623be6985f13c61824eb45750efcd2a9757624f49ec716a04250a4ca385e7711434b5794fcbfe8d26c23ef07ef8da2e164e75a620c92e8ed3cff43519f7d0b19295d1df2b0b676ba7306e3b741274","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a2af318979d87eb8592cc2447b619c8d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
