<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c6b8a37394a5cddc60c17f8cb4118dcf6445d5f0b31e5b5f05d5af9515a291ba02e7910f114df6f5f0811b3f7bf2fe5fd201ed2776df7d65e177389cfe83fc9673f6311042e5393105daf24688710faa9825083cebf2e38926e66956ecd7347089891f67d6bd9db64e83252b770c5f93cadc1d8666a24d50840ed486643ac544bf114d79b78c49a352dfc804b27b46f579c6fa492a8d22515b61e0582483ea90829e343e69b8b41c05bee4aa51a2cec751b7102a47e7653d12313b2545d5306a3659bde312cc914a8fa9630f2b97feb376caba32431d24813fcffbfe54654caaf1f0bb36c1f65d0e1c3f52377c534acc58081103ca169bb33044193b8546ebd307cfacd55ab5f0ae7e4ec4e077709e19675bd5d8b5c4b97d636e890fcbf354e397f2fe8c1d9849cef119fbd6fb543aa30cc39933807fbb8f3e75648d816305472401384f6546367b27bff9cbae255293b9a7e796b48b492e3bd324ddb59a73cbd54e9dccf7d7793e61e45ea803ed8aeab65a257950e58af4738edaba94cab406d132d77919a7ffe41d232648a7a5ecc01ff64d70613d64b1037cb7064a0ba0a35ae8cac396e1829d35428593a0872ea639e1dddfaa82ec0826633c732783372cc8b05cfa7c73a8a2c2d46b475c0f7163b21c6280481fc66ecdaf880e3480cff939ecc3a617905c431e98bf673decc68057212a188ef91201a70fc0786959c162e7172ebbaf8689d4a0f1df9725f4c57bc9a8e694a1c28ceee2b8c78e757d500d4a1e9f68e0e94eaf9b7aef3fc1e1ef4108f26289eb7943aa2dbe31b268765e44dd2d9ebce083027fae3b0855f35796abe3d149de0f6c7d161ab8584072724bb68d8556f293105428286ae8eb25437c81e01f7d63482f9c17e513954657341029028d57dc6ec58be9376a99a432133a9b3cce5703a267d9d5ff8a4de4baac93d803535815d141e39d3313d37785974c081b853f9ec0927b67eed3482be7c94249202675cf40568341938fcef58c99eeaad6d59bf30758eea32d32393f30c6fe707356c038fd5ed85eceed75e55036d66d5b10198a11f0b507983ec78aa43284b80fc355cac3ba224bc0a35a61a37e1506dd1735279419af8ab90e7a443248f77e2e3c7fd61b37c7a5c7c81fc2dba7ea70b81a8e6c83865ed02ce34c5353bb8832fa3f5f5bea22aa99f47f2f09c0772a01cd6843209b2a5623ca2675b6cc3a719411aa6fd96e17a174dca1aef09654e336028dedeb781a5587bf70a925913e07b006a05243bea4794132b78b1ecf12e35fa1590e21df1195f7754c15364c23c2343185d464f3c75a349c51e728f40cad5e100834f55104988b3eb37e37494261437db358bcb37a8910b3f94eb6df96b4bd76616ec19ddb0d33350516a320853af547af654d9dea185363949d3ca13b82b4b9d2779140b420345ee6cf14c2d9cc0038fc13a607b26a49fcf51f28b8ac5a5f5162f86109375579838aaeb83a4f09aed495422fc4cab3de291a9f117f027f91418c523cf7ec02595057ec59714c582a57e32a06bfbc7fb20090f8563089eb5529c92507d5197175a805eedfbf8892406501c5223a99950d916f9da8ec89f345395e70938a8edec4ee12811620039bd8ddd07e598ddeb858969bba0f4adbd7c25a9cf5b989cdd4fe1e5f4a7458143cc94a29af411854edfe549cfe8cdc8674e7c52edc2caa583881ed0d0855d681f9a09fce5a3dc65dccb8ac4ec6c7945bbad53f47ed30933f534a51f4efbf8312d61d714a1c0dba72930bc119464218d12645b0d1fb120dcae6a4359b0427e1b2cc67fed5598aba73f163424b34cda44801f32b76d210e3bd38b5498b4b592091b0983b446e395360a39296b46fe394c6abc9a2cf5a58c8689fa3d212fad09d00c78d754f62d82c45ffbf2b281b6bbc8a41deb6d401c66325211af2c9d2704abf8eaafe16de47a679a17398a6aec33128e81ef95bdb0b9b95553639bdfe7fdc93b8c71788c85f5bb478ce48755009b00afe4f26cdbf0f5d54ef0e8093df000963b33e3ac03a422ec0601b5ade7588a2a7eeff398362938db3397f6a3adb10d36ba2efe0a0b4d77d75b2c5546401edd3b5842cb527f7fc661f70e92761e2eb4c4e27299977f0bf21ddb8ed93662cf344cf86e16a69f4664c090c992680e27f582493e393fa2e2a5dae65f355784fefc768458615a7212556537fa787da66ac82dbdeefd4ddb1c5be5efa279d725b01767ee5f3f307571bd05b42d452b168ba905e1d445381ec7b176e0afe6c144983e2633f85ba774092b4ba4a3fd94529f372ff5a1921860ee289c9ab2fd739882d916a4dad9b74cd5c40ce2f533721293782c21d84823383d810c1802f373c2a0dd764cd739ee9e3a6b2c69cbbc3866923739fce926e3dd72a0fbfd5981b0afa45eebdb7a56b06537b40c4cb0768e5fed2e361d03716535fb01795669cca20740b2b6a6e9fc6147b284d30e229dc548fbd03406edb29e9261b0a960c12727caeba905fbf9b57e82fe10f20d348cac719e58865195d49fdb469f18bd4c345ee7a4e36568b173b1f110c9a535bf87830411d6285bf2fc9186398dbf0adf47eaedc1ab0c0573f4995a8dbbc6ca9bf7bc3c2493a59febe68d2dbd925493c1962ac45613f66371edb5480c55cff545d0925c093e950b06b6012051e64c48e364e24dc3115ac5ac73959a685a59fd0b0ac4fd34c22c8d201f50cd9a57537ef4448ebd161e9f7caedae84f9baf69b5a61091f16a86756df9038ddf6314b3c6c426fbcdaf145023ad675e3bb14b41ea06d13ffb9d4ba3d0bb21dbe717324b4acc724db33b92b5bf33bb37fada29b9930b6e090921e7c322fea9217cef9a556129fb171b981dd63c0810b7641cef02ed2c18774632911547746233ba18ae7ea1eba3789d72a3202ba54e74f18e54800322eec2fc41f67b5001742aba6f3c65db729979085c87711ee38e5fc4723ef249003462cd8d6fc32777777834775f93d40c4f60c92e38104115122703d4f1d95bae2425f355e8bebda10f9e7d44a573c22a50f61478ca72c06d046f47158a737290d4c2cdd7945f66cb0084304d52c2bb6089455022a7319fd84f06eec5c692ba80e98385bd00114cfec7002aa77c690cc3a64ac029e0e806973a9960a533d8e4a1b17c7aa66883587de44f2e0c3fa8df8f9d5d83009c1df98c71cd616a5226b64bbad50c8a160fac2acbe23313989eca0fec16c2b4802164b99b74412b7039dfdd0ecdf9af7142159d38dacf1532601979882554ad04e021c656f3ff2f8031b80671fb678265654fddc52bd6c06d65155ac09fff8303df4c8eff070f5e58398e369289004bb23e65a3d8fc4293c11c1723d798a19f949921d79cb9142f362d8fba9eb705d6baea9af47f74e570ff4b3976b9091b10c25648d0d66de53770f54e02ff9cf2833ee15c3b6b2d4c0ec658d1e04b8b239d286a8ad195770424765ce026e1377828faa8019c17499520738b6f60914d0b0e92a3c1133003adfd2b57fad90c9fb592b5c066070c8bef21b794684b19e7f5185bca87b96443c6766d3eca1c49d1f1b79398b73ed0dfe2610111e58393897d506f60ca16e88f2b369155259bec020cf0a4027d1c441ad6884e2b954e7b9c5d9d307328eebfade385cf5f377b36446206b48afebb965a42e52a15ddc008879cfeb1c100dfa8872835d3f743ea8d78883539129b9ea0c51ca64fc0cbc6ce2d3bbd37fb7ddf9fe8cf01fcefbf861c1b3b2354a5d00168d051b034571fa4bb961b7719d3495caff5a3148b111af6c361a30fc89856bb69b33ebb6191c4996483dd1bbd1912b376ff1cac4aaa2d6d4faabdf9cff7a816828c27bc682088ec0e01911bef68d417a4d667053c0e86974cc92bed7ad985a90672809d39c9b7230b0c1030e22c370dff1f52a7535440c4391ba7d5ce7745a03e41e1428c807148a07c8837468917c14d7faf20339d6b7aa49599cc75299e5013515918422a99b331d0d232e5525d19fff73bc5e72831260008372c7afd40daaeca38574a35bb8c543a654b32271ebe48a6d9d42486aef2f68211258fe77f2e41c6480c5e64e767cbf16d80391749b0fc302e6b2203afcab537fd20b00c14afb32f6b5edf4ffc3ca46ec690d2263c3fa5394d7e0e18c27d1c67683b1f56d35f77fb7b24b046da8fe2fe1c7075a64f68423ae6d877fab8a78eb6d552bca8b1a25709a198cece1af5cf70128f622833fdee1c66f04e959c47aab146b7142e7f5c975cf97e80242dabe78aa30f230a9c33b605157357f61dc0d47e72d88951c409dee217b1a6d3cfcd139e3b601c098218f3e7c021ef814227f9879d9c60b4557294f8abd4b81ef9e10811a23ad84748f210c48694447df7c029a4c32c49e50c93de208b7c1cf8f9c278a8543aa864b99469877533bbaa5745e367e74045dec32f3f42294f4bdfe81701dee8656e3f989134d1b5d06796f10eeef2ace23a76bc1d27e38aec91191a12b57361b29813fa0c43afa306067d8c1e0261a1f3bcf11ffb7f0b2ce0c2c215aa95d497b14f7947f5e40db46ed832bb7396ba1d5c9c69d15059bf62243003f7a55a168ee366db7446830f8af54c5da198926c7ef8542ecfec78d467ea9830f262f70baeb97b2b23065136518a1c1559a7d7e557d6e8e7dcf24a15d7b8e54722803f6c40949958c9e2e1972dd5bee81d3bdd3f8b50ed57e35b93d7026b860bddd2d1a80f0e912557295328626c0ee71de7a736dfc62dfa70e9b18ca0bec4899eff63bafa9120d931a546a92624ed76be099a4f33934efcea75c84c73ebfdad47e0c3daeb31a9acfdbb2d9dff221e6c4e6002237f6f1c41daa9b7ad51d6f6d333ef258eb2476c1cd9e0538380c934426756981cb2c565c2e4c07b3682b99974668cd7c56a7cc69a9cbca616ca18fbc3145fccd264d22501f90f9997a2498de84a810ff6d70b2afdd3a5c34a7664c8333af744c9436b89eef180a8054379417c805bf35e131d1ab1bbdb6c333a55a4d38039ee45fa84b12305bad5f5ad2cd416ffa032b8ddde3c2b4d334c7de8cd7ee0390a66e55b23f9cbf6918fdc38ee7f507da091376723f05174d57847134d1dcc02b3b63897a95b55427e005f635bff0c2a36290a59341e32cffb3abb7acb9e8ff3e16ac7e4bdc7d097fe579b12e4d4be4407da8f240f30a02c7b6cf79994ef094cedf4c406ae14b442ee1260098d77d7cfd33dbd04319dc0a8797f31483c62c0231a258201f125e0faef2498a80b9fe99043ededd4ca2a78934cef8bf135cb42590eac4dd459fb178a3d79a50de1d0775b9fb66cf148383ba8f15dc1869d7ca8a9e91136609584f7309dcab6054f389997bcedd9b1384b1898dfd196818fa3e7441bc416ca5d1a3f7054a7a03c5f954d3aa8f5f791b31d937ddffedd45db366729c8d1cb1ce0aaeac69c23d388d9cadd24bc3de7ee4c345a9d3fd269e31b3e36501eb0be5dce469c0e03b14437ca52c0a6e12ea22770ac5e9bc36f582904247635f9ddb2d4b2067be406fea381ff1c3dd2ddd99777cde1e45bde0fd6be3bba174f6555f27ce07dae1cb7fe6b9d6ee4530c70031f672de46e9a7c67287c37dbdf988a80d8058e6b108a841e6e03a91c9b24ba159a819423da576506b47eb8b4b0bf30beac29c1e2d84c631fc84c0b22c891773c28719873b3e94e76d9c78eb08ac7b10b3a3b6ad00bf88933b91f02fd3880b42b299d7b6733cc79596a809071fb2348aa77a326e9d90c12024c5da37a386e7867391820d8b15672c827e74ddd6225a1d7c7b40c69f5ff2acb0cb129433b36da0cc224bf9a16ba06d09e8975e674ad60bb9f5b4c3969711d21803edcc85ce81b336573f8a419550a3bf41671cc1c57657b1db0192c864e90b3df120ca053ce8ccdcfff5b6d2cb3ff7bd6cdffdbf6f6ce9d4f7b3ae7d4a84c3c42dbddbeb4ea9db0c397fb9736c57595211570dab82eeaee22ece8eba3ea3eaecb4a59c19f06efaf068991ab7a8f48af1e607c46859a345ae44a7e95acd00db1ce4306cd26e57534b0818c54af3611e19b6678dc90ac745d12972dd8025e3bbd3ff88ca9e88faebe0d4c869bcbbd044ebdf89e696d7b978652ac32dc85ad384389573a8a2713fa18fb0dc75cd500c0f27f767f50fcc7fc744377e961d4cb04da4586838259264d0a240dc9fff8acd75ee2ce81165e7aff018106625db6fbc428cf7acdd67c0d70cdcfa46e647dc6e75506d642421c82b7595f00c3905d3bd44a1cc7f1eba034434ed88d57c585ca8ca454ec8ba8fa1cc8a249a06c07e4ced634af097a280e5cd90e88987d54d811a75483309eeaedf3ba5369404a0038770e40fa9404300b305484d994c28d085012e47c03a6d4f94e25e4a13605041ecee7ce88927d9f75abdc1796e4ada21c7f1565a406172cd28cf7b73a9dea821d7ea3c60f1d5cc54d3dc27683977c12e0418b9cc596b968210ef4c86f8ff8e3189e193e0ee77cb23cf9839288c0166b49b6a67cb3f0150e1d0d958425407af88bad9d03ca13e5a015b69de4ba009eff97166b060c3c7c93136cb4873072e9f10a578932be8663d3e23f7cbea848afb3e83fdf9c03a38635f86a6281af255f64c2c756bce189da27611df912bfa404c4de29547d14667c87014d31e63cff92d233835bb3167bbc9268ba4d30331a084021cda793087c152724273041ba169f70d95db4e0046dab0a76b4901e9e00ae877691b7e5d5a519c47da7183119cdb6d1c7c285b2fdce2e96c7ac1c2c2709cbfb5d423cb599972d5679ea233c7114ecbd9a212d86f8a8bd8e56d1d210e6d57350fed584164af2d016d1573a7941d695bc7acb95b20c9fbc8c7268daf75a436d9d8b72ac88712829491821bac1d0bf759d3468dd077e2b56f173fbea0264444cddb20c58043e2b250d0f6c7b35da56c23f930759ddcd419a5bcc4b18659117a8a6d1cb549ee1643d63bc0d8e06e4457706cde970149f28ca49f6c0e69187476c254c7732e51b7a7b525370483d0695555172652521a7218c3685742a7bca7def01b455632adab21a6c232b49b431f650c34d62a0e20a78335138c6b76455b971e07c92344cb172449c475dacdd5c8c1d7f21cb3d795c2485f31bad400d7d10d4f5c2bbc9d02c2c67be160ca84e62f2be169767a0608c839cf74dfee85ecbed5320edebc9ea12877c6e8e5aaf8e16281cf4560884cbe700f2afe638a1351f614c3c784a7acbf6ba33c71a3d2ac3f4cbae2964fa15c91fc8d82752431a92b07f5767da5c6c4b92d24b370adf34c85f64d230292efb80714ba3d3df37ab3fefd0aec1b92540f9f3baeeecbcf4840699db0ac7fd5cc6038e4427e7d867c2678647bde9343b7f7c8c841e6f206d19ef7747a6c7eacc095c67b0d6d2cbfd8bc5265855b5df8d5c45d7e33df62555bd43334437df19fd4124f4defd9c2a973f0ec66fce66a8a908fe11d246c9b05b2dc42c91539581c1dfb6ed43cb93cbcebc3ad2154dbfe947c129bc83c24bf792da55039954a777000f02dd22513fd15820e8ceca470c74e6023eb94f56d602f3caac0b2f3e7116e9977756f5b4ea6225465322e38eedeb06e0914219f16112626e1428a57a40c5bc3a4847a7cadcbf2118022f9b05d1d539a83334a41f041b85555febe26ec08d8b9266940217f004066a9585470d16413f6210794a1a5a98fa6e8b85e80bd894937ef4a07f4439510c4b13052a83dd0e9fa5e46bc26e4ed34ba968de659f9f1e256553b42867ab21746b86cee848d496633265b57a92a518fcaa9510a65309b49ff8616574d46de34416eded5cedb7b7a59a8a8de0ba2132dacbaaded603eaca9aab0a39e68a85d1607de9b53278725e96d350c4c0666df00aad08a3865b138e018e6a236a526400fde5bac148e5bc1e8ed6a40f933a5f12bc1cbd864b5cef2b499e78390c74a0721626f6195d3ba761156620e05839cf58cc31789809571445dac5cab95b3fccba8a82bc6e59f479566ecc135818f5b364ea84f2bee16538d9a16a64cbd83bbacdb7977f7c9a7580c2f70906582702e629730728e745676188239f53f84d4f08bfaadfc551789d576dc73b13412542212ccec7ef0e2f61ea4dbd848356286b2c5371a24225ca41824e5d031386349d833bf1ef05be82dd852e29bb548a05d6c4189f62ca836ac2fc0b715bcc641dd114cde6a1f728db53cee5e74714c237f1aee885cd15a0a4683e05ea608dec958c8a5be86f84370e6d412fbdcfff401cfd5efc87c497ce9127cb7a280dd072071b892733d193072ac1d49a521ae643646d57cb3c09593e76f1c7eb0b39a8c4b440963a5040d4bdafc0bae3dcf4e72e4d08f4f11fa24b0f01ea29f992ced8f39a663bd42fc1a7ddc08f5639634ddbf451192b163ce43301624b29fd1fab2baec220b753c449718cc50ce1a6d4fd5ac059c63f974c1a417e27fc7b0a29118408ad77ed57f7f8e386d7d3dd5527b527b2c480c0602c32b752536e64ed5fce98987354f1c33e180c1d94bc598bcb130a85d38b00ceb0dfac73cb627d1bccae247a4fc1e8d45a861af8e35a1720be911f6dde87a799659a9badb41236879260b1280f1adfe350a0aecec7dda485ca47cf91f3e87cf184e363447cf8a2a2e001397b69ee29839a3e8a1826629153cf1a0b86ae2f214e2631da5964247cc24e0329953efaa9ad2f4dc42921bd546aea2f2c758d7d4425b3d2d2461372b026f9a5526fd47e296665619f8d53f01d8ae7150a3d0bc6a888a66ee4b7fcc0b987b3bf006c5ddc41c59951a0f3476abb2a9140ad4220bcf7bb5c1b7b718c9d5da99844cf51de439d9f74d323f9c53d90012fdd0bc2989c3a9f462f68eacbf39ec6a5aca5e631fd5c70b55c1b68183dc15f3803753696dd1613b83704e4a0c87b49bfcc0c17e1d7b3bc579290a5cb7017bdf2ea79116a32c50366d5b26bb75236744343d99c4c8d0d4e4d922f89176ca4e49c9276bd250a49f8bf2c07d6a714f8a182b87f8adadfa134add4f4bc806e753f4f33498052de6f0b4ec6f56e3c473cf99588cc7f33dc3eb00952666fac78d923d605b94dbff4cfb33a0180f010545750185bde349d623cf639870dba4116c3e39f80284d3a2edde5d17d0cafdc2fae104d2f28813d384afd2da8848c198839274bfb92da8bd88bc231117d6e313516f0cab5907505c434fe7dcf23e65f74f31a1afc557c732c9f194f23db56d9f9288d33992a61686525cbc7d3e7d4454a062c3b77d3113a753320ad835cc86a302d51ce077e33b4672b47daed1cf09ef47a2dee6e7c1d67019748d3e3c7d729374aa4d5ea1ff3b27fdd125bef547b6d047359e60dd3738fcf6ea946c6398a0b7ef0ad0425ce95715e40eeee8a987ac30781e7f6b4499f97e111c6aab8a7210c330fcb66ca940fc36e27463899a7d6f1015521295872fefcd57d8d57936306588d5d3aef31c2f4ab34010b0a913820bed7139d9b6af9c78802acab3e1bfe3c5ba02f1b300d989bd272257423c02915a08a08e72f339599e8fa2cd3aa493af796c3ed1326a5775a4784fcf61245d52c303e0268a0de71916d9a454ae7f1c228959c6c0145aad762c8a2e3c160ca1b8b99761f5b8630e9882009aeb6e9966c3c5376c99ec7135e3a67d308e95890570ab03545bf6947fe98193a645ce5ad45a1fb7067dd80431f494e264f1955c8af60d7732b093ad86614de7e2320fc3dbc431872c8c2b93452fd0f74b8b37af96eb07aaca92645160642798ce8cd2ea5f318ae160683e39127d252b09672d7d77e54718e11e09ceb0a2974aca2751a8be174ec140c6273ae08c8a2a05a07708ada74f5812a796a16d495d85f2d6bbbc2a484b66e1d851a08c2f9eff98ec9faa715216fda7ec8e5a2ec9ce6dcd14165e6f114c067e7d40a1dba1af98146e08b911909b530f97367208dfc139d43ff8188a4e22530e98c6f16617098d354934ff5504a7dd5b9de6443f1e8a8a9c89eb1fed6954506bcdc6d8924e1d6c7f7b52d4f74f8ad95b99e1964bbece603ac5211ce808e603d9444806c0cfdf12ccfbe9f9728528ecf5c81ba569e80cc7394cf0affcbab131bb1c9f9a5f23dc6bcfe8f757c7da5cd6fda9d99d2943dc91a02ade950f7137a185c791c7dd97b2e8725725077fdabb6bff5321d00d1d12c1cc35c7bb92868f42d8166dccd32067cfdb3aac484d1e38df517090891e7d50067d0eb01ef8ddad0dd430cc55ce21ab49d5fda9c1758b7e006c99176f62bc72414b904030ce28c58713cee8baa650a590fdf836ea01d44f382743d560dc33b8e506c75c59ce9f325248df0c85aa20b5b3e3d70b8e47a978296957e6de4c1aaaae0464c6a0a041b4abc1c6bd63abf4bd0ed7084029b74e005bce77d1a3f5c8e3982239f6acfbfcf697946bc22541145252d6a6dac7114fd662a1eda664e8dcf3034a9874c8fa34aeef967a36b0ee38d057c99a94518d8e4f00f51976fee1c0a505e340b339ba10f7c7cb77f300e4a9deb63b3e89b0d350cb4b9019827f1ccc4856666994d0744c99ac72f4962f9cf255341a25b11c87362caf45d15670db399535c69c4acdf9080eac4a08f3914ee8483ae45748c940e0be80c6be99af0040fff83a2672d53b168893830b63028d5ded819b83616854995be12fc71c63a6839ba9e5f0024f16e5ed81cc417f6d1633dce4985f26a39348740fba0d8a5de11df7d46aaf8df5420b93fd0983e0c3c5757e3495a9461d7212de0b80809d5a384d43e3f356737dc1b30424168b7f2eaf7e223db67310f06cee8f77875e8af35d40389ba6eb514496d596b37594029b495b7196384e77eb6fdc2914f28903703c3e444018e806e333c6c8788e91ecef0ecf0744370ef3a4c9f55e631b2a48db983a177f5a0adc1911cfcc182c1dabef935f3dea17df14b7478487e139a36d280464b766d2fa2b0ee18b8a19a8111967bdf8a8516e7c011601e69dfa3fc4e040d40ce683780c166b3cc0cbf9537299dccb730c233e6370fb03def394440af5354188ccfdac3ce314b9ec688880a177cea7a61b8554f3ec1d49fb674327df835305c4625942d42ab35f08b0ca236bb7fc24166bc1c25c7818f3e2918ac18e911a1e5878a2bb12eba31819ec2b2fa3ac11920275f0111f215ba323d18c3412d467e8f25e00f91111738645c258d9cc653a350b7a957b0a18bef86c2bf25bafbdb37a1c09a9e7483c578ab8c4f9145d685ba4c300be453f5a7c6aa83e63fb9d861c95eaa1c166e4e47c944ac13a41703c5440d3efa5412d0ab1d7b6c7f34b8769426e2bd9012c3ceac1a02124bed0542225b14983284d8e8e8011392111d18c206c4be1699847a524581c342a7cd39697a5afea8076d1cb32dc27ee7cc15790a2b6e1f94e8f90989d3c658aed433d0eb1054705b9c2e60c3066afa7fd5ee1fb20d7a89d742803221b5934c73c669bbbdb4e6ecc16d15a1d3adf77ef2c452f06614d8e63a4e0092973f9ed7c40ca7d554df0f6d0813c5c75e34869b5b3c15f64cf689ba8cb45e1df18675a244ac715966b7431ff9beb237d6a78f44c228262611ae9f20c5444b877cd705300f799449c4275dd172066b2ee21f37383887c5b29e09825e6a0e3dbb69be4caa7bacb28ec79967f6f108aa086cd7f0fec9bf840ef30f0a596bee4957f3e8812b9e76b2e1effae4934ed2aec862def5fbff698f0c3edab7bf6a9fcd9a38a39ef0901f0f7e05e5acc4dd6cae4c6e699e8f721ad654f62cb12062590b3d0ca8806065569526aabd406814f135105a164aabdbbcff909c326d332b5150ca4efb82db2340c3b3cc6922d687908dd4fbb34816ba9093c1dce43a0d94a0e054930e4073ae8d9310e922178294a1b78589be1627a2969d2f665ce2a53f2d4f7abfa559451786f140646b2ccc4f5e0b0da749618b5dd49339533a78ffef5f5328666726793e1292c864adb60ca168d1e031c5ba30879e1601694f8083faf2de86917407615387e99d4bbc34a099c6cbcaca7f7871ab293850f9ce2bca8b8453d6eb14a8d6ac7dad43b60ce60df3cbcaaaeeefef10c540ced1ab5bb65addfd0d4af855c9bbe3f8daf9cc4dc01191bcf951c8419d81cd142703770274e5fd6644e20adb5e6f3fdf73caccb78f7bcffb252e32da6a04cca2269a07aa748bc9f0456ceaca4afdd004a4d17042e7ea236b03a5fd1782987d98eb5e8f0d296a0203a84d4e466697c5ad089f4edf37bf5e25f388e0fc2e2cd12140f549e5f51809cdba66b93250c8ff7ea72423750488daca0df1891185209dce1a73eba68919c4d3e18dff81856be53bc0f1e86025b0380dfccaab84d408d7628095dd8ec5827f0fb889c4192db82a555a403fa55c50476823972e044380ad2d26634f05cdfad350c2e302321b513c8dd0693cfcab84b7ea56f92b2b1a405b33a1d1d11e47bfbe4811d53fa7c52fad0736532eb19f0749d9f7620db1b36de5b723ba93235a0ecd1a6ba57151a6320c6ba8b743b1cd6240114e4ab418491e2c2b1b88093aafdf25cfea64a7b5d7340bd9e39bf1fa5fd05506f81e63d69ffc101a3f194087d5237ec9b9d5d869a55b8490cc043203df27fd20c093f2c9bf48262580b8ad24f62d4a5d4f37a84740271cd08def156a0935282d8047c34cbdc8fcd2efb2300651465db214158f041b7341b1dc0d7e115e36555a944c3e8ea338e8645c396f8a165000a1f2f1315b3119884cce34a25acbeda2b1200c8e9a33715c362d94de1250a740c187522cb83255722e080c19f4df626d1cb5cab21f31802c23c96a01a6c1e7fde4bcae9d0804e4b8481ef54f8612415e62a6d1ce102b4aafaf56f98d7e9f12ca0dbd80188cb612d096a3d20b4fa48a843d6f8bb0bdc44b220c988a8d3181cfff9921b32a54d70535d03d1d08afefa3f7a6004dfbd6c1238425fc97047c3e4687ef53a0f6381ff0a6fe6dcf0935acba419a1f0c7d7ea26f3745c1c35d8d976ff372b15038a799ce5a959c0096ccd38e46ccf9fb3da78d1cd7d4c24961ab130d4d84ff44950046d8751c61c51167fc29621cc0bd2ad14cc264892a095a1a2cf492e1dc504717c60c37fa7039e86e5548516ada60cbf043ca3c27187483fea3d70b2b81434d22dd0a482d8f7fd2ba99fbed302ff897168577c6fd93443bd01bb8df997c23c12923127ef0f667326d1da891f3ae4ed7ea83c9c987f8189b8b276a55a4f4cf72e947c6fa9f5bc4aa696235927c3cc01066103e62e66d8aa61caab278cf356b55efe35ae3d8ec19957259557ff1f7d7de51b8297b893c701c70c0759f899a1782efdbafc6fc283ec7564289b9e68bcf2d11ae4f7c99c08a77951de2cb2ea5043eb701793a2d22aed86a0456407c467a2ab7c95cccb3a9c88449dc88df746fcd8b6fcf3cde07004695591e6d1aa08254222551803a76b0713b9f591174075a6f3f1699f9d2f9b1a780523e8b4d15990139cb3120b984c9e0132b340d849253bcd44f50a50f4bb7182bd05de9e894ca63a00eb4ed13985823db522760ea9036ce8d410326638b8f6a6bd3f78860d1f80836894630e4ee44c58aeca7378a18eedaa89da9b0f50d00de337b949778e9fd80713b648d9fbddbe8d21c68d2e9a5c43be7a4a5fb71f3841c064f8c466372ae288badd7d2b108d3510d76d217495cc5bac8e6e1fca6b03f0c225df1552ceef3e59da0b25e7a16999e282cf0e28f4ec522f03397359b79d38030f5e60ff1cb204ff5335af40585d54626e61baf4bbb9e026210d76b62fbf172464cef35bf70daa18f5bbe62731ff00809b5f202944bd8f222b59080b0d48dd823156f44715b5db810536f5c95494979338537d04ecfc323583cd2816372bd9baf475241bd414605706b354e9f60e8536f44ab622d4c7378d6457d1f9cf7aa2dcdcda310a5cb92fdb7095e90092fd1c0e3b1a0c703fac1936064d45f1d208d926c1d62f4d515c6d2f7714535ed62d31a90f4ab740014de60d258a6eb621f4ec126944cc6086b66fc17330bbf95c1b23aa8a0266e6536a1e95288199260f1a140b2c25bb9c2235f8d2ab45d9bb2b54e3b652104bff0f5156ec78e11fe87a77fb5faf3165c15c1cc8f405f634c436fb04afc31572dd699aeea05d60cbb29a07e22fa939d0095caf76b10343e6db30e53a42902d7dff7d47cad22194a93d74febecbf620a75d520e1c95c9da5ed272ca9cf7116e43882dd8553da5490cd1bc011a6646c33e32056565632d43ba98d6748201c390edd6e04ba40ac5d58c0d3115ccf229597911ac01027b903c14018fb2ae5ed6d1c00ae3611bfb7d383ce4523a27aa5cac33f8d47a40189536bd8bcc4edbde3608cbe89fc6192c02469685e134b7040472e1f9754616f5d4fbb4e8b3ff612a78aec1940e10667a0a2c19fa476de927b2a38d20bceb13417ba9f6e9bee5be2674dded45386f17d517a25a2a154f02b0b183039d4297caadf016935124a85db6b4e5f631261619e19f9b8bf474a93a814c813afa9cac6518f65b06249ccf0d831f3e622cebc7c082fbb4ef89af76fd55cb824c51fa843582b91c6eeed063f52e5c2b5a80a830ba3106ba44ce1d4f9e9bcdf6634425fdf974204c8debf6a5f7ca6dea8c14e7d15e7403b943de8194f34e50a9903c3630f34b5543c194229d51e1bab7278424cf35262512d2e812d19f0ab8e70676bfc8be0f057866eec80b321b743914b7aee73ecf4daaad52e77bfdbdc09c7a3ab78a3c56d721fe895596e3f66f478b444da50d326886935097699ce25559f0188231a149b018228dec93ea57294b047cb92cfc164bb2220ea0c55f70a3eb23e980a53c88d46328c3fffa9ff1d204359c1614b7f0102b2fd3d189314a2fe3e6099e158b45169f55d85fa261f9d22c96f9dfcbcc3d3b6817988de2ab39557e24e878540a1f9b5a5c939637faaf81c92902dd42ddc8a17e47d6b90b04509055c50dcaec7568e6898b664a0151ce5dd3c2a21f62a2a74f464b6aac1103378f8dea16f9f91d1f8a68c5bffa9dbe6e9b1c532732385176f4aadd6818109b5f7d624e6cb0ed3d2247027fe2dd629508e4a52617c8ae1ba900a00203f15fc38c28ff7b0f14e68589de6597fa40cfac52d5b57e537f383039c7afa30871a1f93b72ec5288a7b8aa20e83b42668276864d02d7fbc000ee4300581e407db6175ff0708020aaf945d492527eda167feb94d834a4af48ce6ba9aee88f08b877475448c0219515ae4122b8b483e45d6999aba53e41ac6111cc8659e89e493b0f3054e815e40dd55ba7ec9e85fc4c58a01a7895e9374f2b832720094b51f3f2479f8c8b39efe5fbd458ce17a9289b754bf47dcdccea3b8e1a345862ea92239b8d51d91c166caa80a805e32d7eaf50b14a056f6fa99de2fb846edda3470ffc5c0ed579467d5d6002c244b3b21be48631d876b62fed6e2a52963c367902a47a8b968cde8f58e2ed9a14603e84b126f2d56002b65508074b431082d23d2e4f320d54b76c6ee2bce5b5c6e4810fe825cccf6ce64e2a8e9a911ec2c7cc1f5669f250ea0df367f00a47d7887b0c2e158dbb8ad6f574bddecc0ca4daf3e967eec9c2eb3fa729008904c1b9b841887c1f96d880868dc8982eefe774e5cd65132c0df6d0c8ea618d0a0164131371c711131eadc61143375b69b4f5bf0475ca98ec1f2c0b1822d4a0b5e157add0a998fbd0402ef710fae6286eaf2705a6a3d35797be95ad5b65b04eec31b152cb62b40e0edb11337a4a753f0d50c9aa5647e36e9026d8ed41fa7f730d3445c76a219e320d3881fce5f18db6a6d3702dc2dd7c368399b402d4453a4611bdf2634f2cb2a3a7df19b1f868e2c938506b329171734eb67cfae2e4b447ab6966dd5f83fdcedaf28e1e1065e5f02098e6796655cd2562e4ecd18e42961c16184c050b0f6ce524ee8cc463a14df0d93118d6b82d9187d9199e159bdbcf9e2380ead989c151dd88a6c0b4f7c8e835732dd0080c47c3efdc68d20dfd5f7112fffcea9526678e00b76737a5a195ef1fa64ff0f3fde159ba4a087592088daf850505cc446ac60553bedd7e0c84f962b89823da58216f2e0858bef9fc5025d03d919e46d56b7d31509167a068844a70809e35b10cb14443bd3342591b26c79fd84b6a2321171734b6c9ae7d45e3857f479fbcc503eb3ef74c0a7dc70490c68ef49a6068e51739f5b7406f1c8285611ec6a42f57cac528c15bfda81e871e904d12ee0ef8e842c1f84329ba010b6a6de14654ecd53e5a4414b8d04394708131e87925f303c9958b1ca50f16e1989c4e2c2734604d7976ab3a3aaaf7c2f00a5d3f348cbb3e9681e1bf8d27f9c10d9174b9e411e4b057ba78e04c2036344686c0da777e4e3c8c0e929de1b8bef7dc465b5a88796993c41f29f6a330312cfa3cb1d41baea876fda44eb5b8f900c1577ca6a7759370fca7586aa0f5a4951689e08113e3a150bfc9d6206ef034a335f18f1744232eb3dcb1b47d5a5f7c15ebdfe7667f59cf38ca056257fa2e5338c47a82b8a1c1745961674b2601ab59640690329b51d01fba5bc41193711911c9e32ad2be8b55abb12ad3e7e45d42b60d0020d0d1cde82fcbcc86b4f04fc2cdbfcfce5c2c12752e8e445b57d3d9464c2ac9a0f85aae8b5cd932d894b42bf24eb5f6d94af62ae76d488572ec9450799afda51eb0d957f1246b5c8579fdd196b6504e19d8d602a8c2072a5c33fdd5593c26a712586df1dccd05d18188bed37173f855f1e727333259813fb145e72f39588f79553221145b8803a753fd276a096b15292ee54ce87f0eff2dc3310219b7f84204f75ae62ece953f67fcc9cadee88979ea37eb3c97868f175b0c1cf0417c808cde8bff4eb75f760e581b6860cd066590dc639142db5c53a02d61472bcb4cfe315c9c841830da734386f707b56ef4846541ecf845b7422095082cf47d4935220590d390e6f1ea2f6341ba6b536d915c58d611d8087d023c4b1cc42224814ec2bd4145bfa6bc6b5e9cf6b0a92eb7d7c5af86ff8c8fa01889376d42b1ba864f4b76ee744ca2650782d17109601f8becd9eb62e9b8dc255481ae445ed2f4a93f908e895076f0c86bbab9c498cb495b8635fd222af8f68305d7c46f342a3261f6ff3b6c89e78ad68babbb5902667c7211f81c381aad69fb7002a82786b37f773be576f3b70793c378817a26097e4bf14412a156b5a385b7df84c70ed286ee46cc8085a47aa3b7c4c9b3ebb1dccee3f16987a06dce7a9c8bf54603a71a80e6d1fcfaacd23a046a9e7db6520d222f0ac0fa504c58e56ae8d4f20d4d583d89e43769e938aa1fc08c4e59d7df4c096da1c10aa82457a76e69727daeeda6835a5e054eb188e844a8ee355ce973cf0a59519ccc1ad970766422c756ff1541259efaf6f22a078899d284f9451517e763c9a62811e689c5e4d6d39bb65b14478108836881dadc0543a21f820d5f97044adbc7f7ed88c371da6aa3608d5cbe8dcecf6d591a11df126ca717cb24fbc8013d3446423138b9ca2f28f53643f5c66600dc5398fa6b64934f8d720bd9a5c7ac7b17eeb912c30a89af021768e734896db077e74ba71067782bb9205cde155f53c036b7febb7f3fbe94946c03b0d71b90f65b6f13b7830d8b2c3b08579605a2a1277fe65118682271b7748670f9d85aa9fe63c061b7e6bb8387eda4305a53364cdb9f9e65041d923bf9a2ffc35794dce48c6b8d87ec247f1790474c511c8b8b199419a1cd60e9f99f55f91d8bc26e81febe3f6fc2b8dc5d8961a0f3ff93456dce119621c7b388d0069c20ff8bb5950d28769f030388fcb4dd804bb2556d9a3202c3b404e090728fc0675acc5eab3fed8e492369995c20862249f87c0fccff6a1cc3991d0b276fb39269ee798b7cf527022f8a15e853ef6587a12f68723a2bd8cfa02ee22b3afc160d357008c522e1ee767e4df2bacc372647b626040fe61608dafc67003d2e489ef0a332c60644e9a49fe5aa0f25baa3c2654fc8faa4dde50193b8927de6efaee8ad0e34edcb57c3f6afe1f2e6f4b4a05d6fb65af34d08dd7e7d265625fc2c6ece851f193bfce53fd27cb76311b5364078ce08a2abe773c775ddc6c2e8e546fe452e6f9b3506c750758ec3acb1189de961cab8489601a5d07532b3d9a2967f4a21193ffb7e3083181ddb0a4a5b2b7d5dd6fb45ecc47c000986ee84e81da045597d839f5cadc34d7ee449ec302101757301459250d60d180fb6dec08a2912a7693f002e89240108f3bf876a61a405772ec5cfe8d75ae7bcddcf4e846ed03fba23a3b2b540e69437beaa8549b162c171f81b77f26ea0f83373b7423c5a915d4af5548bb75d30df821294fd1151490d13c96bde3557d860f7125dcc8520d7b6ea2a30c6f19224cabbef624b7ab476ff51d46f12226ad160a55a8f55632e904e5439844da2a42f5695f6abfa400d441234fd09a8de43f974eb843182267a51207526281792afac4d36a32f1ddeb725a81a500a04604cb7e725de14996521e2986da0dab1846da1ce97dcb1a45f8728ba842bd70fab671317b28167b75ab5fba82b80d5d9cbd5a33f9154f406bd6aa37d4c7afdbcc8e664f2ecd1c7fba74278b13a049d84debe13655dcf320122be70b60e061cf436bd64f9a3a7ac58bdd14da0b6b0ebd096a5c6d4e2f7fa85aa1d57d46631e83b386c153a14933ac5d84edfc9dc8f4f100871e94a1afda95a7a27fd5d5c219d14875c3284b7f40f1efd9bd0c54371dfc50ddf965256dc8a75b3","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"702d48a72ad9e351f0042cc8d8ce5535"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
