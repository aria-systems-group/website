<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9bdd187e8ef03dffabc9479c86eeebac3097908697aa7b73396d17e2ca90a1486e33e16d699d2d97a9766aac51a0e87e99f8cd00572f1d7f30f7d03ae5883da2c3757b3fd559e7d85328cde2334b15e434beca445b4a25f53f2f6224e02f7d0c4fe7286823c25cd12ced258d9fcf1889b791b55169f48447523c89e79e604f4cae226a10a1feeb705ffd9ff098b2ef449570355e3480f18993603c4f1a0d834205626348e00cf8bca58202590ef80bcc52f834b867d676555d2f94537c3200b5ee0c09135b296a761fa208f8daf8e9c7162a33c8f4716532cbbe038c220683bd066f43de343763d5b928b9950ab5228109c08cbbfc275099c02f227a0ecf4ce54b69a60f61eae1c6e9a6c93875b272976fb064412cd0cf0e85e393ea6b5b62c89e1cd386886351e3780d4aa102cababacd2377f88cbc86a114ddb0ef5008d0e9d0e556c22c9f90f4e8617351696b5ff29977a487fb87215c5a1a90dd1a915ec9c38616e67196dd1ca384d7855b93daf133451f560d68751369f2cd1a9a514fd12d0fbf49d2292492835e2ad6f67d6f239b4baa2aa268ead79c4c1347154fb3921748b12fd4678af1d40303f768dd36f50d54fade535e2e7c27152137fa8ec2863593fc2349766c673b10f661aeef8ca6c95c34b4cafd524a595c7d2ee9867264b66906d2665984b3b4468406346438305c24f36941b7751c2f214f2edf0b92ce4f646b564e2d93934b1c90a084e9906822dafa478634001bc454227ef594c8160dcbbdf750003ce4d25d37fc4130d4b94865a09488c5a022513e452a87c4a0a4fbe0d17f1771d38f8389ee99a2b6b41126e2e83682ff72293c52579a470924d67dce1e78b15c82ebcc244720ef75ff8253cc6246717df5241ce0f66110b79fee09299caca895963df1c7dd0860be84c397bd25d67b3d51b27277a148b0cd8b261ec10552a641e29d622cd0cba5a9c918e8533c1a668f4188b876ea09a8da40a20b9e8368fbdd1cadcbf0a41d8263e4c05907754336aa73417bae0112d7e609ad7ee82b71ba76e61750c4dad51c36969765b4da874fc2a8952f2a32059c4bf826c568f007b954555c17c01fe67bb03cf82deb4dbf1d4fcd2b3ec252d87b66c0bc3209ab6b65e2a87876cf07d3131a2d54a79efa1c8458eee836c7d84d2ea52a227ebe74afd132911f0120243fceb9349c6945ec4d9848e174247815face2336480a716600549b62edba2ab8bc57215a99ebe3c3194ab4e97dd290e807817147725b0b117e8c44f1eb44bf1a2e09b954e1333620864e8de5a931cb3b45469491d4e76510990b2fc867f3b5e3510f7a3b30be83c4a1cb0fdbbbb3a90b5f860fb7b5ca93f17222d713e176f6fcdc62a4eecd53122d9a7d0af8961989e67946c823acf98f8608ad7e6ed13277fb49b58056ea9badbabc90c5c673dfa275b4e52485913be39f88828e380c30855d762d9ba705bd9bee221a52daaed182d02a76b70117bfed1858a7b327260d4721c90ef2876e12af0ecda9d1685e3e32de73f2d42fc42bc1dadd92ee36effe0131ce4022d08be3477716c5cd9b95e8638a83bc802c54e3edeb67bf0da67d70cbe15aece2e5cb1f8d26757b2758a6da7de7ae0f9662a0f38f13db5402b32dfc235ff438272662e26b1c9fa15e440246566b0485e7bb743a8e570babd2c55c3ec21425ebf5e41ad3394977ef179084b4d934f1133f28ae3748dbc628e9b2d45bf9c7eee11933251a1c707886a0d8d4707f1e02993eb84394b7697517d727e7206207d3289f24cbbb938e8b877d40ee497ec51458f2832e1843ac45bcf5549fcf5a1b4caba7f18e1714ce010ccf932ffc0027776aa11e760c64f98f8487a38cfda46e93601b59a85899eead4afb307da423e0376e4a0927891bef7f8f53993248872cd625a95b4c51219c6087b429c69d2f5e9b225f629ead8de424410401418a75b876a57c5eb8c933029107969efa21d7164599c5e1adf2808135deced4c71e46d963c7fec7bc9e5f7c49c89b949e608d7994787bdd0e4c7133a0001d440d6fb5d6700bddbe892f45f73227a0fb508913a09a9e180e958f5064a3464205d90f4dd58bda32e8609aad33220a0dd40b09e2047f2305af9499198595c2b527de491e37571eee144b16588392e4ddacecd5b829e3263ef7efc42ecc13d5afef6e6c075ae3484b4fcd720cfdbb7fa7cc6319025261f721952e71ce4f4f3fd7f56193616e0ba05908d646e8caa3644634ab68206f27b45c026b62217c36b13322af5ba50966b97a7eae6904c1e7892728a345edeba7a6a040352c227120814a22f9cbf1f52b26155b4b1a79f602c3f047e37d918b3120dff90102fcc6a31d9d7ae358d87be0ce8ecd72eb7c1e11109a05f4449b2b7db46c60f6e21fd5fa8320af405763a8e3eede450fe1566834339009aac83e32586a63ba42cd812372e258f6c4f9bdbd8db62e1c7c02907ab226084e6b22cb565681fbf5e4fb6da58976bf53f65b732a03e762d7361a6b243e72392525930f5739e427e0f5526480e24bfabecadb23fc69d0b03324a79c61acda87d1a4656b64f593053f284ed2350e7f7b21dcd048b70edbe4795fda71fe652913ecd8c2e30cea4215a898d7c55a231c71fe72713729f96b5ddac8db40b566b0cf5b5f752ba4ee43c774f91872e7d70f8daf11d25aa5b8f9b095249f76c1f60b566549d84cfd0137e80fc0da4aee9a5d30257a417e267563b526c6834eab6ba6aba76738e887e0798fb0247598cdb7979da3c86de624ce6624b87baa3100570775b44888249fc6ba4a8a2c0a93da5025ea6072bcc487ba470550816416d2efa03fb9ecb556b200061c21c4ecb003a58f41d776282f1b1545d9b7d04adb0d6d1679751da94e4bd2f5de2d4c10e6a7855fc765f291fd15dc817c6f43088a17b441249ec2559ff97815b794df6a939cdc9ad92f4817bfee2ffcd2d965966ab2bc9541e50883e66568c95783f9d50bd64ff3e1069bed0705099d4306fa629d08a850641e0348ba6639ee3b386f7647ad4193d7aa4f7dc3c336b500e82316f87148bd4336d2a822ed285395eb876301beac7ba26214d0f01543ed66bb52426ab83619d43d1ef9062be1a75081ba6584f551dfc594de8465d5ea5e65b72425ab8251d6cb549fb9fd7649d46bf245fe671a209f5b1a9c884e3fed1e256a9eca36c4d3e42a2332fd5aebedc051bbc7d45e2c5e499ce906ece80678542e1519efa93d27a934ff5b747b7ae1f36a6c5ec16e20333b1b819b1c1d195d88afb5b6f4801d628c1be2080e48bac7c0c8c3608cc7f39f62372744ee22f35db37571ae44777c0fb5173eaefb6517c6d018bbd7d81b56e480cc43255f3693ed8222ee1a98ada1779e81ff555e437189a9cacc9b7828e98965ec9b28000a89db8731e696a7808d413716d85b0bc69096ba6dc292773905b75b3252d6f55d38362a03ec3bcb259e966d4d8c65a17be1d7914c517b2b0c36cdf415eef6a0957316394cfdd65a1cace8a8bbbd89ed03a90f4bad1f9b83f3dc19f452ceac02e34d7103c7c6aac547a4396f3ab2d0154322a5d2228fc245bbb3fd3bdef913331adcd82c6c01e5fa81e03bfabb3dd2ae37e7fd71a653e0c0b09f1fe623e0ccc15c710535f1d7b6f09f84453a44d426e0ed73b48136a203f3b816be98f13982dba0749451635f9856010b0d21c8386a8c214c26ad5ebf007a30a20eaa8004a28a02670064559e5c11a9cd298af6585f7465cb9f6c9295afd995b8c5461f51a1d74c1cdc3c03f12bb95446db55b0035fb19a5f7aa10d9d942d9cd4030eed84053618cb3e5c0ccd42211748b3a7542169619ec72cf6c4e22f320933ad85cec19f738ec91ddc39cf5391eae9f104b24acfeff3394994f095ed84063dd78787e68d1f1210f040f9fc5cbda9908791a1a3cd16b848cc839e1f91f25fdc5c7427f1481e6082bc6c1bc2c495ede682672c132cb899a39b75f4233b16df993d5cc87340436de6b8b15aa7082abc98ba2025caa07adfbb4d8e3cc41aee8890ce71ea417fd9a15c16879a1591bed353a00463bc50b832f3d1199c6b10ba6e062ca30cc212a84854f6d34ac1ce554519bcf02deefc93e23b0340228bf7ae171bc509e822e3cf4fc8f665e0d35489cba51af0896f4df9f701860bb14b0ae6edd4b316ac29669a7ff9cc81e0725f28af901e4dc322fd67f3de7f002a71dfaa7eee111a3652fef0f79f7076a8839adbcc484788e28b1264c09ee4533c9031784aeb74f8dbcf0d6a3b1eae9a8d7b343490b67880869ca7b4a7b68cf772776651de9a0b857c058ce240454a49e9cfe82e77439182542b5783e1534d2092c0dedf1defcd8a449c3d60097c9adddfe587cac5ac0646bbe04d4f0e649eaa7d592ce45041266a98fb318cf2b12ae3ce8c7ebe7ddfd0ecb30b544b495f4c6df64bc93a52069a4e2167a6ee05c8135fb257d054f180c2dc5a68f1681c6b3d491af93835c896461e37c2629d84efc42100ba38b67ab85e63e00e4c234531f93636759783a5b4213f83e20c98d3e55f64c9cd9174afae682757a42b8e3dec18a2ad4db44ae3a57613bdcfc0529e44bd596e31d028b7fdc5dd7f89c363cf5d1f2f4653e91db6c978e9d88fba4c69a9e9395f20399dc03def192ff07711bc8d460a035c058640b7139926f12db841af865ba956465ffecc829b6d591bfdabe318683e3ab928aad89f641f220b7f20be988555ecf619cd8552340bd49b1deddc6e021ee22f06270c5f0f5d121e4cbcf31948a21538ba9efefb734ef1d7d9756597096e2a223ab5e618808dbcae940aaa460f7651ad61ef0238c4b75135bb9de14cc2c5b51e7f74d2a3ba737397c17da39c2c79119fb758fc4f173953bb914dcc82d5d0b08ac50fb1733c93f206586208f57a74ce56bf1bc97d12ae6b3a5ee2bebda2ee0edbb32fb085bd6c4d61f4eecaf78e4f1c7b77d627d4611314521bc7597319985b59df185baf1aa7d5ca6c7d4bb8a84438259cccffd95dfff01401f90b180715c7c6058d07e383e8c9437ac01dfc1f5a275cb15ca971d7d98547d50f40991fa7d4592d6375a413d86a5816864e7c915c0d524a4fbe8b2032449451ee68ad9f42ed5f972d6148008f3ba63233b346006c10f3376549de2fa81d178fc1829fb472e26ab549ace4dfa44d310fbcf2227e028d538d3fb339a7cbe94937943913e15438f365cce1b398246a76935c667162ec41d1d141bda3a27c2b9e4886be439aa23ae2dbbf04d10b1e15c436245e999c86a3ab0f9262da61bac863f7b7185b07cd33a14eb22beeda661e851734b0eb8c31df49f7a17af5796c5d0acdcd4522a6a9a7928b28d2f8c2da947f2bd665b1733a22157059ef32df828654e044fb968a307fe09831d7748f1e913de047ce4bd0af2ad5a8ad65c72c1157e317606dce09986ba53ae6e1a897623e11f7e17190c2ff015b862ce41f99ee10f5f5e1d08cbcf3a60cbfa56db955f69ffac99c61d3ece1776ca63befbc995b5ceb1b00f7556371c9b15aadbd64d41b70e7671800484b646a69f68867776257ab056e08c2c26328aa472838749a247444eac3da4c3419d27a1862879334c592490ae2ffea007a323ec8935345a9572f6166d29119dbbc2f472b729267464b1c7f95d5cbb42072e6853cee8b3446b7589b0b7c04f2a0d09560efa1a179eb67d511e3329e0085ab755efb746bba46bd1cb6b71fff1e086ee771f6e2c83ae79a2c17f54b9ff46f2835faff51835b09633409017d27834d00a35e6f560619531cf01f0e48d21de85df61954869727536cf7d84643bf724921f5b008616477f96edda6d763880fa02419abc4d92aed3a97304404630c5df0acec6b70615b0fdc2586825454c640117576bc75dfba1299cf70823eaef6a25a48f3415e62a742517c827dca7333b294701a4cb6ef26f72be42ddd122e32067630f08db99d0090a55cf6a6a16e5dc8ba40436ed9524ce6c73b9d5ea9a58e9cedcbd302a8a93e82f150f648a2f40546df13985dac203b774b4dc5e52e2949708a269c858917638bf4b6ab739d333062951d6b7d611f195977b220a98d650cabc59acc6acb11f6568457b51415fc869d60d0ddc847cf11d889e872c6f7e891cb1a795b65ce4bef454ee75dcffc3d53aef276af425da2cbccc0602a17eeb97b435e248d435f51f56f7a7975bb30f53e9c086e39ab2148c09061e0f6454b6b6e7b5373368112a4bc73a763c4ee96da1cfc6e34f6f93020a45d1da7604fd2d9aa4a562e3a9d3338c4a6390a99346532db4422874e1686e660ed8c28670e219287aff67840cbbc2d3e5c85714fc9e7524f07a98f60d7a708dc04a9451451b189693a42974738c0e761e684b63dc45a7960bab5707e8a88cf1d0098f08f965951416aef36936d0041147495d9f06db8d886b64484182b552404e805626850f978ce178cee6db84780b0316e1eec38cd2c9a95a04b32fd1b240a97b133e00822fb919c323a1a1a037b1514d995b3c0e84aa467188250a2da2ed38fb56f300ee2ea02d4c3d9d1efbbd90c0a819b5a88421c4323ca5812d265635893939093a7b6f6e9588eab5488319fcea7bde98a45d0d31802955b6bdf4f797797f2c984c324745d1537fc7e0f1430827ef3e24557b7661ec5350ccc6e9173c5a1fdde65686e587b59f9341e419286bf3fc5d06a94c48e87bf2d6310e1974296a07912e608ebde320ccb968d6876b079fa2d39d00e6fbc3fb4c6ddc4518a50299061646fac179160c7fbde5b72c9b606844ba87bc104ed4c2c3c0bd223b178651091246860f3e1625c3b8ae2797afffad9e4b016cba7424cfe3b052114db76b1c1ff945f34e5bb4f4ac41dfb953f53f863d7187f1828e2cc629d52f3d451f1cdffdc7589b2ed10790de891682fa62944afec346b9d641d4a988fbd0dd2b90145612901d7165afaa9d90b007499a78c94c2af8c6eca1ea3f589ce222e7ef92af15756f0a94346a519795e5226dd198b0ed13448da624f9c56e1c76b3074ce90b599fb7b291bdbfdbbe9a4de8f07d27e4bbf0c408963a6b2920618828dff9e80b92782f24d72bf69cc07b29d6678dadf099905a764933197179d817629977282c8515ca0c58db4956fcdd4c311a02e1c17fc9e41d2df123c3538c29d2fb97c857042990f7ee6ffad80f27b45f004faeaf16ce89527e8347d833b2a25b9f3a6d9fe0e98b95ee62f7e350e8a9484eeb14d70ff2dcf7018f9b483ec61e18897327898cc3e25d671026779192775537cab34a0746fdcdc76332c43c2400a3d85fa436b80ba9d5964e8ab73cd031542705d1527f79b22ef0d505aba5579978fbd867c256650b1a87f9f6d298ad16935f3a8869c4a36d7f09639b4659ace73b1c9fd04d0865afe777ab54c37a6ad456bf3e4f9fda66fce7e391043cec14c31f07172cabb858189a8d71eca4b9bde5a4e5e5cd127f2af12f977f07682e3aaab0f3608652a244e7650c1f9e8197db14d0bd1f57a66d6c24ad041856f5dbcc77d3a296bc7c8bfba6d94128bfff9e02d8e07f9243770174c1e327ac636a8c0e5aed4d0bb78383ca1fb90f4b1c8c931926d55b5b45949e417fa20786565d62b951b6a457700384bdf64237a9731dd13c63fe754c7d0c45d23223b9f18749251599937f743c5f0cdb943cf006bfb350773336141d7e9308c683a7da9ef623a2a79e6ea9ceb5f4e1646e219e417253eb7d11bb28ceb71534a136e50f90e8f91067e74796828aaf4bf1ef7c207ba72785c3510b4ddee31725dfda9a2b9b8f67be8e7aacabdfdfe486a80de7cd94ab353e9f39aa4cab68e7d8a01b7f855c7feff2164a08fd41c724a4a90abfc7918a4a18ee58808483a7c8190c34ea6d720da40bf8569a989fea53256b51da546cca331ffc86966b044c1b29337aaa26fbf1ee2b7c9c86650013851c3722569abe70be8cb4ffe9846f2139996f1c49b1a154e07fd384e8e310519265d9cd5f246d752e913db3905352e7e608e86ad5eefaced727c07b1a65ee7c26c5b6880a5891e444031173c6e78814433478e2a8c949fcaaa4caca64d25a74ae2ca3b4a1e0c7708dc5536d5d47093c18f5da124e0785197d90bd6ff6ed3913d2436562bb5e6e49d9d7e416151ce301a7733cb9f5a69aea6d6443dbb37bf7a3af97b6e4e6a7ac5d24e160c9eba01f2e998cf66869cbcc56585745ff720e0d29ec01233458031506232f1ecc704abd44657e84bdd7ea365febffd3e3d1b31369bc0a23f5783f59d0e36ea3dba8b98f3932d10ecd4246b76585a176369549960137757d807ada65e4c750fd1bc4c168e2ad9e898f195e8f49624c3c35c808a3e3acdc22340f4d47099f436e1765ad1d80732b7dcdbf579a3908a6c8a5d630e05c1b5e55a518897416eff0db61e9896ff79ca439a671f8294aef5daa5a6c0a280f248f1f16c79c333f5c470f303011faa80274e909ec2d6647192454f84df3012cc9c668f8056448f7f94fb352f300d7219ab5674e28f40f944a10806579fcb409c3e73ea3739a46dc10ed5ba450e6cdb663dc5c5d7bcd001b9014d0104988fa639d4666347d332c360969c775a2a315bb18bc3c86fbf8b056a7ded7d5c8cc7f752d1f61d1833b4cfe81a6e50a5d1588f7fe454d2f8b4be946ce2096faa4637c90946f4962c8c3275896a37e531e270f839ce1cad8c5b2f9097e9f946de062693589793b808cfd4d235a9f83c35bc239888af6ba56ca63011cf157a064935a4e415d9083dde6107b9b3e52003d3e05e28b9ee3b7fae0581aef7e7f7a919f10823b0e22b3ac9a4bdf22054976a7b5702d118f51ce3f1941918503bcbcb42b2d741a6ca8fbc53c60fbde189a1316501792a59913ee01573b15d9bcfb58bd5db7de8b00154ad29615aa4c37bf72d1e509a9c85620bd634ea22856e9c6f777697e753346ace5a0a503b9820643fc5f1243f193af6248143bd8ac600c1b76b04d7863705eefddf4d998211a76b2e40fdbb76492fe25c8f4c5759410db78d5d6990b469e84d9dbd624a4fde0e752ef450918ae70ccf4acf440c2f123c10890f99133b01a5fe8d6fcbbe9a41c477b76f96d40a7a9f30e91b97e045a72a7ce2ab41e74c39e015b734edc80a3cac09b1cdb858f4ebd39e54a82c590c40740b70c973b0a05f09ec86985c3242c0a741d9d4925f9b262a3b1a1f9b43eb69c3dbc53bb5a0c09533fb9512aa896080afeacd9b7cdeb03a7c5dad27b5b19327d49d1b029a5b296a57a3caac2f9d979499aa0867700db2dab1c58c6880df8de2c0a693c5014b9057dc7a0211261b19462c449897a86cba0f66c21a77c082f400071045e801af478b12a9960f3be8ee3bc6b096ee967e2851083fc4b9daab72220daf90c6be05ff360e938a95d79eacf4fc29e48ac557b6448594ac8dfa09cde8c9830e11aae0a922ab8bc04ea1d42280c30f4b41c1b9344c8381250a8dca53899b8fe9c2b671993e6e1f970e66d3a462cfb68b4b07682e929031dc68e876458d9b96b82138008ac9c4da3dc658f07e87478c6dd52ee758053d1392f1a549aa118de062b74f3b62757146027ae18c25bd70a243cf16dcde8e014078f71856f84b9bea5954c978006411eaef0e2e527cc49827f4627bfa85e144dd241a1cf5a69ec26412ce9c31e4c2eb597c93c757fdcefabb60bc355a54b6b4f109d136940b7bcf5f54b6a0ef5c288e4c714c4e77e53f3402066bce885b58d70271adbff55aef09bbe793cdf7edabe5b3b05808bb3a185d9daf910a1f366937f8384061d228cb9e0d565ac792277d33cd5dca202a5567dd2562f849531e06bf12082c755808c6fce9997535f12f8bf0054746ec7d0f89aaca75a3197d24bddea325fadd846843c8004ff1bc9976976d2c2b02e287cb122b6d863be99fe1ba929625f5c1128fe933aee545ccb68370f611b2d23b15fad3d8d1b95978039bb5f3f93cac56e3f4c3bbeb4a6ac33687590cb179e5a5bb86bddd0bfb999356fb4ac4675949974b20fec7811f06155898b489f95365ecab5139c35cdb1ddbd83fe05cce0e000d4b296a4968ac0ae40b1211ab7aab806b4cc119de2ac82f239cee5a72675e709f5f04e826e6c36ccfb5ca4c0801b443508e1bf6caf69dc8f22c5c4caeb5ced667d3fcb7a1ab7322f67baaf950d7749ee278b40a90fb64aac2248555de2e8b2ae835b244e740c784f02c9bacafa216da71050dc6c309f7a2ec776104a703fe9a027755af455348bdfdcb806882dac0fb892128b1c7dd32ee89f4e7f9f7af44e1f13f0adce95a2c8258bd7eee8a33035c3383e8f133f4f118d7619651f901d9c15c0dbd3a3fa56efaaa678e7c09d16530bd3c0ebd794a307a469c6d0fdb85c4db427f3648635c23f007f57cac795cc176b9862eea7bfaa4db6bae49d7a686fa2845b03e13f483eb0908b26517f827378c8661421fffa3f05cfa4e3b06a971aee283ad0f1a4c94c4f1c890e02dbe5461cf118b18c987e2126a4e172d5b08b5d8ce4ad6ee44ce136d09ac722b0f9341be09ff93eaeb2074c46f2d4c35b636e4fd179a1cb463d24345dbf35ad8ef3ec737aa939de1b1e68f2b8c22809e5cc2b7fa1ad997b165eaaf0b26cc93fcd03cecfcdeb06d8b1e52790c5a2ca2309bf593db7847e8c1df697478dcaa8d4d0046aaa6a86589b7efed165ae864752d5af8488de8af1d8eddbc97666a32d3f99cd8a0f22b2935fb77cb5debf4511111ab1a89355935708853e81be69e674dba623936b455c789a958f8a9b4f5b795dcb5ce787b142ca6ce864100eff6baaa73c568e420e18681cba868191436cfb22a3415a055166422b9ada2c1564bc356675c713e79c739f9f4063cb6f09a7e2cef67484b318fc1573bcbb6ed1663c6363e87c6994da4372490d68ed10697133ece346c81ce1b8fab5e5fbb905cc12f76c41ca20fe833bd7eba157892bc6346cef7773bfe82e1f1f15eca454128199114bb08431d6de12f49f3f15067928b866b401175e3f497d542d1df45462cd1344599c3c543ca8ee915cd0911ac240136b36cb327559c4f7b33e10028916691add522e5dfc6a3c30935d2b5a08f3f2c31fa2254a323cca444fcf4545914a3a15a9732087bea0034378205b762e3d7a373add662f8feb829e999ce05702250429349cbeaf6e1bf54e138eb2453fc441fe27507a4459cb694d98eef6640d96c4bea8e96b5d8cf056bfe6bbb4ee8de72324fb97729b23641f1e5d5c4c6942417cb2bcf02b5911c0d6a23b21e13d5f62b42dad5867745f313f88c3fca5e92fd6d22106f18b6a815d5c9862a00c7e3ff601416d7a3cd6939942aec40a86b41c1154d2ec670d3f2efef31df9fdbc55a0025c68af6fc55ae9a519f7714e818ddac57bcec50e34f83eb971f70e2b12768d8c3fcb10c8b64bad473147b09ec20fefccfef4f15659a84e27bcee7de2f53d56f189eabbec324eeee2d65e24050e4254c03c6f046b276f48426bb1c504bae8553aef982e6fe6e9148b337a5b86336638da43298b6829b15b353f2e5814cceab067c04d440dbac5fd7a243485678d8544882501c1f223567307a047b58077984599f05721a823ecfc23b94e17b971f6099fff9b2cfb19f59914cb80c83441b4b0b0cc5eaad9ccd7728280e8d68773d89e7ada4bba214e164ed3b8142cb7cbd89fce9f73a62ba27aa29b679531be5e30097713356bad16e800dafff28bb7a6202b4ce4ff735b67c35696b052909194c87c7d76128a425fd5da74a78d93d8d4a3c52af782c5cbd1be188e02e9c693f25e299b43bd3107053241e7ab8323706801de08bca1bfbefb8ac7e1fe7536a873ce717cfbc06828393ec90cd1ff4157d23760b6ce7bdfdcd083beac866bcb1d72bd2dba29a01f8fccbaa630b19861300d100ba8b1937944aa78081ec5cab7ee6c0450ef24c3f8b3266a3ebc4312e5cf7cdb4a01e6b404762da2e5fbe57bfa3a814cd9b7af8b4feed05a95c069c8fb7d8ddbb88f62027a620d65f32a7ba70bfdeda37d0b915ad9ef685d326707fc75e9b3760df64a6aff1845cc8f6643921bfe9e9d1409987cf18c3236a48309ec6b8fa630be1a91b4602b69df492ae0fac91cd8c1cb0d6095d866f889a23e85af7907f47c04fc9e4f054e10a8462832275db1b1c480ecc895aca4fb10be2c76e1ed236e632cd2125e88fd82db059d1ed268338c3301fca4fa5dee7d626c1bba98f0ee1ceccadb3f6f0a910e204133d7b93c8ee1637ec8a0e009c8d7b52dfd717b5957828b396d0ca080abbca3f3ea2f34a8cee203b4f466616ff6cf0a2c2da4457534473daa8123ee4b2b5804f4254e4ab397c262cc67dccb2bceda219c49eee267457088559dd9293124a61abb53d908935bfc4d9b3d7ebb7871281b6e7e1e488be72b4e52677323f282020bb03be47877d9147629413b9bc741419410d4328831bb054196b11d233f6c924f3832d0f314e448c6bae8376cebde81dfb3b70023561894316b4968092b0962d3c98146faa98a0ce2f46d0c7a629bcb1a3ab4fbd184b3df25212d77b2e02e8366bd42b9b05bbb5097c9331d5af018820165cf8d2fc43d191ab3e99ec1b6041f6e721313a7c97057486f1e5db43153fd707ae9b8d6ccb218fb532a6966f629a9da960f271ac073694463126baf8718b00aa44dfd66f7b07dd5fc146f792867cf8363f112f8f9778c739ad981331b563c7b696e3b2b4ddc68f32ab32eb7546effb9b6c4375ea6fc012bb0aca14410152786971d6c96affdd74debdaea4c0c72c1c6a7f9b8043603bcb8a4d9110d9ad6d3d833e53744a27f83b9006a2125c0589f00b2db4c76bc718e7decd121da8cd16891f0f5960c9698bcbb5c334a9f2507a6a24c6a3bb94a7c6790298f7e849620a41f591e989d37a08cc19f989d1bde67c2dbbc42451d83d24b8b213d855538d9c086bd22c374b1e39c5bd7c7affcd636b46acf6653fa28bfc2d9c6f89df961140396ce77bce3f5411c7d055e03c229691e4ce041f1a3a7363edb141004a20c093b67988f6c83bc265e67330926049b6c70ed419145a961b7ce66c363c1385e16cf81783ab26dc25a27ba634f610e2b6af906c38c0be4d9dbd4ed48a4a59b865040f2f39faf8187c59239cfa967f042c269d6e1b1b89af09052c395300a8ff306c43d15938e4c1d2f6b9b4782e5234e071f25c13433610e8fb18196c737fbeccc629ff0d23e059f922fb01e59285b9d303a456c8975d97789e1ecd14a39ddb9e9240244a833f7543d1e78dd7e06e33e81ba2e299c44923e41a2d4f3713a52f881027c8c81300b0dffdf2ae6e7497d84124d910e6e737a6c91b76f9c6e050cf4dd4d6926f7af68e8259d814d898cf9b71d6991d661b1d20331337aa1a27b492dacaf5c9b804b55933a5bb308346487495d5d0c73083fe2c069804979ffa3b8b7f351988617c3955ec16e8aa389919fabea3963bae126d20de63cdfbc9b472639e51082dd48fdb2b188ae3d7c5db889d7e5c638e9f5f60ee4f593535c696b0e8a6ed79d8d064d20d96e921b0487f364387d8b4828d966dcbc45da391ecd923941a4e251eebcfb0aa84d2c1460de3cb1a7ff5a40b4c7c891750f7ccdd98cf9fd896f00e0ec35077aa270109b9b4f5ca26366d8320c4476cce4eb610d1c60228941b141a3e3cae4b297d524db7f6f434a4790dd11b17fea0c733c3a54d848df38d7cd691161a8639ac2c3a3d064202138d5e7119d4af32f1d922b74527d5fa9ae819f163ce31bbde71dc68617ee8c628c12ae9ec56250ea8b7a1ac13312d5b4bcc746a734791782951320171a73d740ab3d52eb66dc5f7f0654d87413bfc524764ff6444ec2c0d1a5b40f7f8903d856b9c6f135c5292a9a5f472b735d3788283769551b0dfb495cc285575a62d353da5df99a93002fac66b455004ef1eb1dc9656a991add40cb6f3b944507749513257edb55f5a962612b220a69938362889e68345c25787aca9bbc047c76feb090a4eb348e35e214dd522b43f74a5d50327fb3813b716ec98cda0ba74499c472c7c50149b200f89e0abd40a676efff5ad9ee3c79d06e62d770f6c1d8eafaaa89af69c958654d60c5b1155d58dc6126f2ea9ce4d2643c5686be2cb7d56754399f53b905db1159e28674576da6b06ae81fb6cc58f33e99728dc640af7334180307d53154bd06b3565ef5f8e4ea219239ac25d23f367f11c3c7db64ef1060be9c932a96e36384ffb990a864ee439d5944ee0e4e1143a52f935d162a107f290e51c4df0541ad48819d0bb2841a1a9ac9a216bc57853dfbeb40936407ad7e6176142ecd6cc8e280746f2f2ea848001dfc56c55a3a8be4f8ea43fcd03c3b012d677a37a570e4c90f63f8867416b5bc35944bdaeda5b1c99cd5bd43f06b523100aaa15fbdf57b342603dc6294dab15a48b90422b6e1c36fbb6e9bb3b330cacd76614d69faca384f397ebc61a602c6582e2b8bbabd0ed739bfa481aa08c0d2165f1620804f2275d24b34c734d9daf6ae4b0bf60117003bf7e9fb3b331a500ee19f09a4f7d0c9402b02f62114a18d8a34fdbe9c5674627235b9e6642f69a6b6f57986684819d6a8c2111cdf51eca45ff554faa8c814b604de4803d1763f5d35f442a302477e0c81826de38963a30197856c08e387638015b6faf0ea2da1336d925a4e2b424c8bde074b5e15629f62113e1744e1b3ebb35fbfec6d5bf8a808901aa92a4e4cccb180418a7f582b56ce845fb0dbfaea565fb4f8ef5bfcb57ac11f9d3d0481e7a7c65a61e25cc9a03101fe8511ffa1a2ce2c0948c26b9397b353361dcaac2af5e322c42a3246bee437d2e5514d0ca52bfd09c990b6fb5d116972f50a2e41326c9fbf1851e92f8b736c0819d80beec19f8f0051f2bf36924bf50a0c86cc30da6131c7a481a5d0d3d33ef314a90bb968c746de0f4300640a0bc30c4646eb862cd0d843e9d62928f2cbb92f141e08bd03cad48efecd570d165d5359dc52cfc085c206f1b14b19ebb8f6015f16038d1e3747d9bf9892b367fc4ae812c6dc38703cca6ff0d333ac460c48b4e8129d83891868daf946d5438ede0194a33a93e1ff4342067009a19b62f3059fda4468c7f2f4d9ef1344688744ac09ba735c5de01c211d1b2e009431b15c0c09f04406fd94ce4a20fca23316eead4de83c328e77c65b3ca09fb79149ab7681e7ae6345f3514929b1adaab77ff2c6f18a5cc0f1c4b1d813cf7d89dcea9fe8dbbaf8216a5e96b7cb32541f5960c2d338e27e6d8f6442960ec828f3fe1a60b2a91bfc49a43b52bc8fd72fbd3e47c366122f99b0fc1fbcbd6fbdaeda45901b0c86e37d5fea963dead0be848253059e067b6b692ddf8c5ee0ebefcb6b6108ed403997a084bc609eb40f8e723c84b0095f92d4e4a954040351a5e469db07ff40567209aeb42f614af1f6fe40686f43d0bf6e514ad3a1825d946a6cc56b2d15c54d19be9068c1428c0ce99c79654a18e777761fa1ae8cdd7338d6a90364a02a3bca445a307a904888756ec5649da22b92942050e895317aff4726f3134811346138829afd8cbd636599cb052ec62af11fee434d9b72d4900f27610af22736303822b76522b6fb2378c5441770c5fde014db62c6a0a0003dcaaef4e014d369f0e4d33987ee81502c523b5f9700f0f4416ca55a81f1734d6311e44f617b722aeb2a7c7ca0a55268b8f3517635f5d638f282400d8e4761fdb0d141353791f1059f335959f9062fa51f9bdb2c42936475a6e19ffecc7f3c364b6fa4aa2f7e453652564c46db0924815f253fd72852c63ba22ef56923e306bc9611a5da7c78beea0102b08daecd72f4d0ba8c4b0e91f584a35b357d196a6d3a03461772518096c840708eac2aa17efa8f40435cf6f0721b752a3a1c1313ed69bdd04e432e7b34586f4cadeaa264babc5291b3ab5f6ece44a0b2d7f216ce83ca1f0651703985f8733e374be47ce8ff24a6b109ed897b35418ebec0dadea52dfb2eaf5819dae09aa638a2b37048c6b9cc4dec35740e03d522ea8fd3c8a2f1c447fff05ec130dc347a1d6efa1a6e1e6282b2dac608d6d94677e621d3b6e3c81469eb7bae449c0437cbb814f29eed9c07696b367739777dad3dd6bc3bc9065cc5e37f6a7adb7bc6f5a76a435e67651543ee2b3f8643f93343c6c2eb7caf2192e351e9466c18b60c466a4b2a11ffed47c33d9437ceb6fa6102983a79363b060d8f299006ad893eeb7b95cbe99819613983c4e88e9d2a2790a12522a1b39bf9ca1c529d673404c7382fa991b184309490807aee32af9a5ab07b939cc1e4a88ffb5651d272c7d67f959f7772f821e072e175fce136b4a504733f9d31e09345484ef8e3f4c6f6839b8a53e649c28debe9f7689a92e49675ca10e158f7a30f1cad1b4775aa2428063f5db8521ce4091237ceac2244dd55c751c63ee9b06b9aa3050a07969e27e597a46681804ac77d654435f4ede2014bb870c4f2ed8721bc53d60a1f619e58e128a0b2e45fc0ede4fea80a4bd4e89aaca63518cedd78b71c875e0b0de00f1bc8805563f9a3799f6ed71dbf01e439f7a98882682d72e9ffb3e32988258e1be202ea969763211c504b7dc7ce63667066b53c22ea16452a6022a9d3974310abf3f30b8bd0acd09d7b7f5a21f48fded3e18711a44ebd5371e7b87af61b2d8a51c24e69f2e63ad994ea0ac5275638f4e58e11e89cfd478b25de9c37b8154ca195920dc98ef9a2298f036e9cd6631e7245befb5f32bad9d852e5ff8489405ee9d0f984078bad782950c620639b785d4c7a8cab2371c22a3b0a59eb4f587106f5515d105f1fa2aa1ecfa4df42bf871996d8b4f1064f3cc07f1341611955e540fbc94f8e1d00e67006465cec26869fe04493c83718d9d30e028794ddd835e16582a6e768b1b20f517f6e272494535b3fd647efc3e0db54a7af8183f85352e90366fa30dc3fe80d4bb01252d660e6ab7935080256ddb0f9a75998411b0c5362fe9ce9e6bd31e7c98f0c2329846cb1743c985938bbc2cf06a539433f23a5c1bf74997a56dad99bca44c386ef75197190e6cdb1845136933f419a5d27c6052262f44a3dc04eb1cb1e6b1f3ee3e8db483d0731e2d57158bcc26c386ea2dd457dfac5098d2581cf96ae6f17b8f960aa96fe015c60087c49833d6212da5e0062e8f07915e1439fbf3ac13ab558a41aba18a6b8e4489d028e060c6ce9522862717e070c8de02422447ff1a196dad896472b56b450b791cc40191d81e48bdb83c75e29af18a23c121187841c31a2e76a0e53b6712b0f943ca6ad374f74ae45ffdcf084bed6dc1351e90a78459506345401f444ed894002a86695e08946a87870be078f03eed61f4c71d8d071520bf1c4b2629442989b56e0edbc74aa0df39a59943c562d6f243f86c69a436eb15cc7e1b7094fcdadc2757ea6b53b3e85666fc97da735b4f7fd3f5fb06d4d505b46f49033646abc924e2357b6e78856d8a6e83fd61d626f1caf5c3db7f2337a7ae693dc2e3ad602fc9d2664d63d1499ca782bfa2b9b766accab4db62f6775856ccf8fc05b411aa32155b57a81871709540c566cc9e184a9ef32e8b94f36b2a14b5bd163bb4f6f2c94a22d5e5a4f60e56c264e3a8fcceffab4f71a11b146593dcdca70752bbbb1fc9ce0fdb30bbee6f7bb5d7d548c2ffa9bc15f988803a7ebdc858540a7e165d493ac976051e0d73b4c9aac8a6019f305382c8cce5d1a37fc97fbcbff15a2c12595bd3f449a1b53e52624e2de4f0aa79c2e5fa53d3bf197333e9629c7e1d392e2f220c7f1c9a70cb33563481fdf4bc935c3bedba00ca2a69a1109252afb87155770be6e887ceb97ea7516d20e28e8d11f581c4d9ecdf432ca064fd68c2d1192c006a39917f582413b6ff15d16f0a2cd33383a2752781d006d036d1f55e4d3625eb06658e4db81a2801492d1223e915bc793470d6c7429ec62f7e289a8f900adc3fd286d13d3ed01091cfc2563d8490c6f18733d8462b08ee3212221b64ae69956ef2c467ed79d75641d00df78a5405525c52aaae0aad5b3d8c3b66d8db440cffaad2f3ce129636920396cf1966628c9fa96effa5f97235f8733be749253c22eeeccd03cc3ba671c045896d11f052e27fc6da0f0bd407fb6ccf42725d3d935ce28798f88b5381b710fc70550582062039511009c8a786da9534fb586ff1d04b96832ec5db7c647a4123962828a9762afa051b89a27f287aa1971e8a1c06638f55b472c8e31647a4d73668ad2364c3c07f3f5781ebfdaf25d1b6dfca80ed8b66923aee5c1336deec9df83b18540a1a16b6df3490e9cdda7d1ac1ad63686296258e07b9a2f8e349edc1ae317eed07b5c69bc0cfa05603c698a95751451528e748f6c8fdc8ec818afe60da7f3ac777f424595d22ac43fc5837652d501cb6f7d444ec9639335bbf904d9bf1a6cd716bd41bb48126fb02bbd47ab353c3005f0fa8512aa1d7e2b1a8202687fcba2451300f222a75fbf685ab519d6521e2098f5ea743ba517ac546f8c4ebfbccc6e350bfa60cd3a102292fd664365088c88e89e28af183581dd6ec96399aeab60b5562d16b6f575e8e39ee0e2d51d2df9af249425efe603af0ce3ac2b8d6ab3579b2a441219943b0460a7650405b62be82f4e13631a98a81bfe9126b4e1e0a1bd1a419021a32d87d95c3e7f9c05889b67aaa5c8541b886006873e111b8e003b0ee3b68a50fe6e4cf11b4d6888e804e98f7218bed276510d17f2fece7bd0edc4b5ae7e75d20e943bc2c5c573b520120a775635ad8aa8f0225ac9f95e0db2f02743db37a97ef50d80e242f1a4c5e4a4d4b95d271a2d0df38d2b6c42081a5eecfa937dec3d04dae60d459c500d72c7acc858cbc7a27b640d8c2bda32ada1c3cbd5095a9b89e50cb3c9d3b999ac372716bea63a656985db66336f9f729926a2cd70cfce96502f7958c18c4a1c2ec62b0cc84bce1ee011815c715a73fa0202740ba656abd23ad0265bb3d662decd6e272bec79332a34289bd01a1aa9dc151da8fdaf1ecd93d800c8e8cca2d02a52f86e7db24c1d70965c1e4f56b0df23616e5621a5ef96f8582ed40393f5e8b6a3c0849971e7c34b6f10e0b44e43003dc578544384e9a73b9a605725e7eb29376e01f248ad59ab9582c9472dbdebe960e80cf3ee29a7d85c21a5e49b4f7b4bf2b2a363bdf76a8cfe106a451d22a47bddd8bd876c62d1d0656c58a1214b934473fd43473c310560b42a07bf46e6427461e2b8a0ddc876eaaef9e770d38d612fdbab2427c2e31b69648791fe370b242d556fdd61863743c5547a0090bbe241ba524d15305f07865235aa0","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5b44cbb224ec7401dfa35cdef0836c1b"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
