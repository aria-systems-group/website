<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"cbcbe85396d5f767d659fb8f21c0d67b1ca32296910521bd9ef867f7bdde52aea8f34fa9e172518f19e8d438c75b02df8854c78949e6598266080e85ef1df6b9df9a4ffd6ac20123abdec579de84dd70dce54fef2961a6f5a1ca5f8ab125d8dc965a7d47fbeee667740c8e5f0fdd395ae46084f7f474e012017a4cdd3d4807e0f7331838fd982f721966e310c9faa61d09d74dfcbacb64a1387d597dc5e3256b2f828a4879128f84d8b299df90582bf9987b71a7ebe4b5c0a0e9ba77aa3a5e13c51bb1faf644fe8ada191cc1a28cd9e2a166957c1011bec927804d7a88b961bcce2228360377accea43d33b2d210db25b13e902a16d6a40f5fb212f437f30baafb74706882220378089bd07dbee9b9452e04f3e6369f72a1e418c68b240803a15012f10601f0124572a97ccca721110976384c71e5b49ab1203d4f9334c0d3f57bfe86055899cbbe48dea12bd55f9b9eff7e71d44264a322ca699cfdc6667cc0a3763de73a17b57a9e1aa1aa778837bcf06696dcf2a5e3cf1f7d7fcd66d1ff701107fd1c4d58abf3c229b1f73a4d913618213e4ead044e94da8ec6ac4001b7cd44a2b1099b415ad1e19996a3e6513a9b6bd7cb402e5888a4125401256bde289db8d2afa580f84b693ec2ed13e00316d21f930871303b34d1800bc6d5accd23821b3e659010c2d3a431cf8bd8977cf4b9d96e59da0d712a48835ea768a58409b6473e20a20299b90fdb3a4e34ed5c8af9a64441b3a295b79527bba18a470ccbbb5cb78105bc1f2160220f928cb4b9c57a1729a6349c71f4d3bf592195e78836885f86e4fb6d39d9da52ae6a107c44cd3d99f2e998f36d168b6055ac742cbc46b320fff25368ed0bf2923cb40580141d06c2a81dcdfe422f25834d4e6194d61304bdb45d92770f0f8c4c69df657a740ae13de6915d6beb3380a60c7bed642a804bea0ef48cf53311b6549e3d39c34c002a8314e5bcef46646639b8d4d28bf58e1442dd0becb6cc6d0b06dae84d5b6eb405016fb2bcf04fc0add4cf60179936c7c8310c5a8bc15270943ea729b1aa64e5919e97c132af459c02858600088022b27a61fc82694af6c80087b3a27e334b16dcceb524fb111b8b860917c545569d61e3e4f04361d3bf14d0348d32f79d919423fc8ac028e4f87ddd6f6bf2441aa4147bd4908aa1568dcebe5ca3883b8ba76177c201c0063c0790ac823d68a8f62d2e2c7ba9700d78f6f128815c049ba4bf5d253459b6a49795a4cecd04b6919640fb75dd8d4c1881e9872a0ad07f77e7e6f2cb868b8e9e49c60ebbec1a3cd32f08115044023282387464054f1b84a9b1a8784692002cf86be626088b84411890a7e2d5e845e85a3cf2b16b5a9f8cd24cc83db61061e74a5e35422727ce6e9670ef3ab95b793e5d8389d839b6a9768c59d1194c8ddc0f7fb1e236c03993dc0b39df4613c185dc2c92110032a1156e199363a8c69b9c3b84374d4751a8bfe2b53589885ce5cfb84f6c34dfb200ac3d6f7f99fc688a71b62fb89eb425ff797f3c1ca6d0353753644cbb5a50792b302a818c33d4210ae53912ed5ecbeba94071c9eb9922d473195befb731ba4883d43f4993864ed51eac39129cc54a1684067648609ad923604ff6de3428987ee24996013c56a2f92fcce188f71592929d2ecf0f4b1a6c7effacf1bae5f47a7f154d82e3710677a75f2bbf768849c5b5e67007a869b5923c4b978fff87dc61f0cc0730b4ddc15ff9818d724fd7a9854c718e5124b53bfb25b80852ed135ad4c3eba6a0582f796d5458e515f3c2ff2f31bc57a4f0a7b16cd1a2e137ba20de35a7424233e9bdb104eba1d997cb18dd8385ab32f1bd975c01b0014ed8577a7725dbbdf828161a4692429988ab33160074d16fd6b9ed8c897f86f4168f172478727a41f2f67ffe24265e1d64738b0e50b3733d90498a7421da40460776ab49e5377f7a262777bdda8315865c532d72c2e95a75b53f2e8920ae75be0fca745baad66a8a885082871540db86a670a986b65b298f1618831ba3a6c08ccb376d631a8b7ced0b04593b3add1ed2387c3c0e3559b7f8196cd8c842de4230cb8e409bd2dfcd263fa846414f3ae4b4e17dc87af22f7812ca0cb1f9f1a513e8e1909b98e1713c70a6be18d4c135c9ef6a09c54798b0b553200d21ddd6ffb061e246c4fb52c2c4be645fef9ef22db9447161c570e351836dc2904178b587e8a6d7a32bd2cac43cab5893abcf788d770dd961f10e6fe82138c2f01b9806236f080792ad76e6fe430d70f326ca932bf2684624e1474d12d5596f80c5d2f95a12986d3b9bdba63f59bbcb7b8712f82bfe678635d407ef061212ef888b9a0fe86fc999240bf374a30718f7026c59fdde35e791d729baf4b4cf1a91af37d9e8c83a9d1525ae8949247e48182632022b8f9f9e7d2870122368ffdfdb1cb49472ffddde5a879dc28b74e3a5038b38059de216d844f19deb0924a0fc947dfbc53f298f2a95f819360c091a0a7cb16ab331bc97074fb1fd8296fb87a0fc070ef07901273d5a95ff78d627972f017ca6409da14f8f6d1c58db670b04bee41245809523791c38aff6f7d57b52c422bc5cc537c001cba2af143b63b1e080385c2d263f2e203178e12936897137f3c0fce181142cc63c9808e64ace270605ae6df1aad9ea0c50ba3b1309499f4c3f9934accc31e9f7ca2a61934402714e0f09e466c1adc72aa538b0c9d28bc8fb1161a61b3e63aa892280dd2205ff6e6b66d234030c79da12d166f9db594c4a98de69e8751b0d1de8e5b22d2716b40186b0512b69ca0d32ed2936b14ec57e923e0d08802615f00e61a9356def2d3ff9818019e2eb2f8c8e86e92b0334859d94dc8ea2cbc9d871b9cf2bf25e2a0f74aaf5ee8909aa33103daeb20826a84d2a8109fe28f8fc4c30b1fdd43c842410872ee860f49b77d15060a15eaacb14bcefd02f4ec1dcbf2c085badb032f392fcaa3195720ab334f9701a4c1210eeee3bb19d3d3393d8f4a6d3d0c5b0918ba97f7bb546d8df799b09c2d089d6c6fe6a7bed1e366e42156d237155cf81cfbcdf8417c5276c56a97cde27bdbcfa0543a297782cc61b41be207afc43ca96a2297893ad3403ac98c3eb3af6f5b75f76ef5cf0d31601cb8491adbaf77ca69465c4321c5e417d00160adcf4946c11486059f2dd75331d24f36e23aa1b17d81c2d08f56ba6c03ddd9d6d473b84bf662f1008146bfa3c435b15492966052aa7a77702eba224b0890c160f5ef624ea984d2b47e5c5f6997434f7813e78baddf54a57e6cc03192900730ddcb0c745df471083f28d1f233d8a48169af5f5c682ce93fb5d8606c2ef90f25c446caef0553ada6969ecff87ee80d8c7e16a391784156baefd9674bcd6c68c881f9345135ce73252117691bdc099b06ac416de3900251c8dc936b293985a193c2a2715520bbd6a3f1cc7f7ba4a8359692ba5af4711bc3219dde0142e96f9d5f856802c192fb98fd9f774adf7fc8e8e1d13310184a2bc48397248f5d0473f7dde4ab82ff620249383c8dac1333d4f37ad290d1270af4bafb77926910aced49aff4e7f1dc1746f33ae762de7d3bbc3789b044c65450e7a230b45711ae2b8518b66653df80cc4a6b2fbbef2bc16f613e24cbdd283fc6fe26c204f0602964d25acf41e90cc9279b376b5b47a4828690ccacd810a7d76678a0bcbd7ee90bf442f04befac0aa50673d13ecb4a8b5a5545d27febc467909909c554bde6cdd8bd7f3075a7d191c35c241754dffd01d9fa78bb4eef8c4033626eb38a91821419b451114d0b9a480339f685187781dbaf7b8923fca0b5abc1b1c335f5a13e3038232e46c5659d54e158368b42140841e36f967ab8dfbfb734c16c4c59c07c563a13b07760bcd107921de6c174ef7cc8fd2f25b2e29927cf949b105e75422be9e825bc8e79fd0d21c6475e7c3a93a01de88438999327417d8126292c557ce01afc3b817b1f75751b3962a94ed83fff0b3bb6389e7bf72219b47890afd4706ef5e94a925e16920558395f0c2e7695b727c632d7b6f4476a6b2654e9aca4be3ba28bac2999e52d7295a60990267b7a8485efb0138a2ebbd58226d08b5d8d78300b1dd5b146c0253faf9958ae3fd684c674565a2da8dbcf81f993bde1388e2c6a658b0afa97ecb4dfd0c5c6bcbc009c0582b7c4bd7acef912e55a3d601e75359f495d0952f0d631197d3750af353ad1c09abf95ca3291a45a06ffa816f9327ad7453b185889b4af89b14e8141a46aea5691a2eb794c3af183f442ef234c9dedfd5efe85a9e003432d3240e178c4d669e58db1cfa53320a9e27f34431d30890be75e4c64fa1ee7b7732a08e4ae4f160cf56f8f373c74c7c546688dd5af0e0f8cf1255358ab4d38763258c44c04063524953f890ff62b37822270eed9de79b0c3fb97424bdd8ce084def9de50070fc7d9bf2387136bbcd2a8e09f109df88ff4a9f4a1ec0474a689cf83d1120a92ed779e0d868ed568a9821ed67cf587d7f0ae4f582f1944c439523f07308e7369aa6024ca8a7a0cef51770f480741cfc57290b6fd4282379953b0ecbad05b3a1995121f664d85dcc5abe817af7c9e9ea9e6e4308840b235a999e07c3c556f656a44bd66e0d3679ef232cfcd54b377184e1f50d9aecdbb76a7500e70dc4de2005b565e93639b6de8c25f614271d074e159b0b0189d24f8588300ebbb1a2a9213416c407e27654ce95ee44c2db0c12e4de9546da05530568815b68291dc3e4c1675125ee11053ca44f79f3a22d60da0131dbacb83852539124df3ba2f7be26992f96d5d84d13c6e8ef14eeb6dd322ba9252c20e95fcfed0227b326786436925dd017ece371f29097f2995f5518c3639a65dcf7640b50cfbefa16dfa18ed9cb199b3ff509e897f0658b9e4d587267e98cb973b05d0ba92ff79cab7805b424b1f4e3574128c24d202245d079bb227413c2805360401128cf6c9451df6f9718b042d578a855b55da7d94ea94f11eeda7f2eef394870371baf74f7fbc8614572cd677e171c5fa6b952236b5c8010f323e25fcc52d6a79856d9f7e7f511482ee806740307d784f7a529b6d85a5282fb65f6a21966d4ee7b938cfb1f500b7737b07e5807fc628a473005713da7d6caeeecf27fbf505fc6b63951a39fbec30d191fe2724ab715314f23fa643bb2606ddb6d94e42672b19e19e44267415bb6ddb8e7c41e06e1ef4653ca4f161076230d54646ee7dffdc9b2247f27b6e6151ec9e5f947d3be0b951fa02f621c5827eef605ce7108f6615a9b819671a8173298aad4a42985a55ead259b7d608a38185aa208494f4c028d82f7d4948b8ef65b604b416891ee735e71b85c1efa02805c6bca166a5b6a1fbcd39a7c1938e5776aacb24470a30a67afec556b73fd49da17dbbd935ba39389b2e5fb28ca842b7d5bc0925a97356bb88a0dcd5b781dff46130016dba66a2c7b66bcfa08e087501a8083b6f2492f0811457f94d5e84ee6737d5943b026e4ebf3a123241092c1c0e1270341d62146570b81db2562f478015611e532d995488dc5b3293635985d1e4060a6a2d929f498d49447650261a608e01affe46924e45e8c8b008b49bb6e04a89f2d6ecd709349a242df2c40727ae900adfa71976e8cb318776458ba80499aa0971b3acaa0ed52daf35e9f3aa0dcb7358a47a48be97382400580760994005914d1e8727410b2b3232c6c65bc2917b67e457c4b0dd388fc1bba754d52de79240ca4444821dbb3ed36ea5b29712efa1c4a0618ad78c718aa38249eea70caaf72a36c4deb41ab058b46daf9b205d1c74ec1810119043ef93ad8ea70f40da0bcf4908134cf89ce4f241791894d09384579918b89388559236d7530de7e22d5b650d39d6dfe74915bc97b22badba7158a568ef18e8434b821c4b353576d4a51f8fba60d8a75c5be4deaaf339ba8a6ddf75b65c47f7c8fb7c6d8df638ea90484eea717cd68e0e875186286419cc82e4ddba07c9477f47bf43cfeddf1b3e1800dea05c488414c0f5b8a0ddb306ddb5e273ca6c22bb8950fd62ce372579b0a1e2404a211c53d05896fe7fc07089018c687687f21557be40cc5513c218d2fb6d0841d635fbafa4399f5aea62c4fbd130a3e2deae126f6481935dad0ba2fe12df01f4803e88f006004968839a8df8c86d68e9166f6345680cf9162692babc82b2a7ab18ad3eb416cd02ce0e20fea6458778f4f6e68267d72e149eeeda555e731aa473ca77d48ba4c825621c1a8c707da36cf6b175f814ed4b33a3ed6007b2627ecea8c1d8895f5a441b4789817dabf34eec5488d95b7fde452c66014696ffffdd1f3c4dd3054bd776cc2293e2d2b5620040092ab3cb740c959696abb894b178051ceed5e6da927a236412f7b30f0bcd7bc66fe9237e8e70e439c55731af981964208b618b65b74a578a1f176ee8ad8e7137cd93d40068166e26862f767c63d9369f8e42748e944825b21d4c22c3c76775a4fbb5cb572f8ad00a5f9a2d37bad968f0b45591c01e3414c1c79b47747d24189fa94c33f3e8528d049158e3fc5b2fc7032c24df58dcd362b6cc1a545a3af0254e52ead93e5a9553b8c2ab7e872bfa74ac965dddf952f68e01bada3b15e449a757897b8bfdd4969e03579400d30a691ef90c6e30e8b2fe371da24d9b89809bd1ff7d15d775eb7a58cd78dcea8f9a94d4db848db727da222595c009c0e203f7e13519b0ede8114335fa8bf7f69cacba916bc09aded627bffe09d577949f44ef254bbac15029312c8f85d3baa433d7bf61a408c2ebd19d7d8ad360244a608ad27ad285e4b7830ae88e867f96a8a8313795a5eff25da0825466386343014b942064168f745cbaf286357d6f1237e12842c10dbe49011f29e6a45354d7745d79ebbe8ebb32cfc8e1bb24e36664088e50dcd5e4d408ccede0a6fe5c2edaf3bc78599f1c9ba9191ef09b7b6ec0d5f94a873a9050ce4a60da513663fd3f4694d5c93138b3e7a117d27bb82d418bb17aa08601dc28b0520c192d54dd609d3dfa52e6756fb55d6e3d65e890a8502a03310cebb358d514b6e27f73451ba52254a9c4f74137d2a6934e7cc45106f09d835743a78f549e6ab31e1c32f7f58d8e9b5809026e3c5ef81c50ae6230a7cb7865cacbbafc1c447f83aa9394e6e7a1c654a141e777afd432c8ae8fe5fd1f6a353ddef8f0cf405ba8ae3963c99305dde4c62b5e9fb46ddb4bb6da594d632ead910f55f282f833db1488d30a3e9e21568e87f6d8c92b20491da9660d100294c478841fc2cafabed993fa25d5551ddce6f10c29c3cc01f7d7820319369286c9950a96f1b21aadfc8b952e8a0024efc618f76470dea657840337942b11d711bc8ea268ac78b1f7be9890130c8ba247eac0fb1fd554edbac14162d0e56c6d4bc877fdab4610589e4bb53439de9d5783aa32f2f710dba334206c2e6156b0dbf68a8b9193a7173c3cff8325fc3e7ce70088ffbaf54c7bb51440f8319ddfdf6550498fef7508d9765a7e84333447a4948555085fd8212bbd1abbf838fa2cad29b6452cd30f7ebfd4b4167b539dfae66f2f8b37f1e2a5ec65dc98dcfd952117038fbe42cec3525026856235bf5e8adcf5ab98dde387bb435dc94c3b0165b05834ab0d375bfe645cd3d3fa34e075e0f799a6f121725e07d91380804f85aa0546624f38dc4a4af580302772f82ff1117058999ee774aa5ba687f34831af3e6b15324d20cd22b71a91fc1c0feca0d339fec0661e4bd7f0322dbe2d6721a24710ba0326670955f478d83e6516a010be6711f2c259550747f39664dafc7378ca5121823badd009ea26b2a6c891cda75ed7e470517c6f9aeb50fecac05ba5b1253714faaf064bf47b9b65413cfcf91b6e5ad32b4ac4390bee32b761fceeb324d7d6cf27d94bbb5b11ee3ca5f9ff3ea2ef75961a1e9296d120425ae693b8ca08a45d0b2e40682da3871575c5583ca99363126d263e420fad64d5ddbdabf34e57830ef46243d5e08a50d1785b08c4e8adf9cf908d443d7c7ec8027a64acf7a00062127a2d1476f07845bf6f2fc5e7e8fcf2032eee33cc8d17649021ad328ec4e87d0e6f4b6ebfe0468266661e782ef4ff9c8b16393eabe6be53ab6d086a3cea5a3deddd0f0c6935fe57219f6d46683a7d20c3f8ac482a17e6db6262d885359dd09d51c96e8c5ad7b9a87d43fdc9e7a8496b3f2bbd7724a1e8d0a61c968751ed6dc39588d851d236ae91f8cd64d3f2cb315812cf88c9d37941d7e5f429df98b7f54ade2f1d39d633a180db7265ac20dbad3078636385f6cacb35c3abb7b5d13a41e8e058759cb88234d00c29e592de55ec15284056061099f71123b0cf6a7ffebbb53cbbafd1d8b144d268b55d3451a4334fcb234726c430d5b45c9f21d8d2fb2f704b7cacb2e19567d2fe83f78f70ba62c515ac7cc834175f556674370d25d56a2f6a00330fad55a405547b171e98e09178e1a9c6152198c75d8820910065524254a14aed7bedcbba7657da4119b8e76c877e9d7cbfcae9120a74e73e625b33616e3b368fce640399243ab1594471843af32ad2b722880984556325127a52a7df08ab73871c2160226997d18e89c82bfb309182c66aca3b31dfa9c525f3838b4e2bf75e673ab589c351bd520474ceb68defee640b1ea466e54e05bf7a1f4a8149d90933cbda93f543601f5222e2add708dd92a61599b1da21b77559dedc49965cd649d407a76f33b202eb828abe40278e6d20b26e54d98dabf63f6138c90bfb5061028323d981639f7432dcfb0323900b51e53741b2568014d51104151ecae9f0750acec5e0b739e6134e50a0602aa6edfa13ddafdec508fc120694bdb681b1a3b4b3f4c1bc901b6cffdc38a5718e390d99388d27efc380c58fbfa835e5430748fc505ec388840ccb28b834bed0498af60408749d6f75c16110d450a1464dab7c57f1fb353a5eeca12b21030b834b03e9f65c6e8b12c2887e5333b7838fa7c8cbd8b2c226483ce03d0569bc9da05227de3a32b345abcc2252d96fb678b6b8f08be7caaec66a4d36a0558131c093ff16c860f3e53086a0b001c96760e6beda074a19d8d81e9a1a85102f9a32c2c637729e6b5e2b73e4c0b547158ba4ea7cc5d8441bcce89215b530cfd5b5205206abe1cd80ca64ca27ffc9dcacdd582d9be2ed8338676c93b62f1fc39b69436bcdabad79ccd0d8051e77127f6a784516a50fb18799f5885bef09de3f345eba60a5df6f1c8271ff2cc732d69162cbd63c0e5e61a183839a66e3c8c1268664c2c1f23604eab99b68d593e76f9cf76bf0c8c053e6844b08cc0a04f07b1ff5104e50831b053339d99a194ab78ee9183abb63360e3ba3cdd02181d673b17bdb02d4eb0c9546504cf9028cdfbd40777a9d0b676bcbf8fad0f181d21307b9eae73926a83869d53bb3eed7f39abdc00b21743f1955aa81b6b3b296cf5b0ecbe61b75c1090ba14d5dc00667a2fdf9f29420ddb4c83467e5edd7eb56af82f40f29dda94c662c31490b56d38c346dc6a5bcc20683a5e4308257dfc5e3690af55df1283a8c5f321ab21c52d526c5aa3c6e9987865a6842aa7e13941c5efc3c29c49cce4c178e1f2aeac264c0479fa79052344ab40f7ec38152aa00da08a769ec5b24b22d8e402ddc8cc8b3c1da64cc0ac432eb4bfd795e65e6fb4de22ac8183e9894d7bfdb72e318b0697ec8af723adf0dc9d309fb5b19a6e02c7eb6c2f554af8cc088ea7a77a46f938c6d495c9fac131fc33982ce8369d4a7f6fcbf22c956c7148a184ebad8143dcbe03b0cc24be4a04c22c162b1d699726b3ebe680a9e5224de9d91d370f030b7863a46cd3ba746f650fc78fef999b57f1f015ad866e0ef07df4cbb06fc3b9b237f699d2d60757c38b7a98090eb3e4ad11b8832628d736284b25001b93146adad2ed5d335d2d7763665ad3c33b72aa24c3f8a5152e3a12776679a852f8c95864e3b4c851cbf3e8c1ea7767c021e4769264a009c49d14d86fad9e26a374dbd19d70bd55b2562c4c14b1e6e157ab2f3838a36e8b14ad1ef23bd7e1fc126cd328552eb153e7fc65032fd05f20d94e90ebdc94132ef2c3af1a63c591581f8bd8622f9b8f5c0fb8c203a460329d659fc7578b992cb7e3bc3f14d74c2ba1d117cc31ff039a7bd27c7fc7d62727e736b87efe414442348baea952d0ebb176aa31b6f7306a1c575dc2f17c3e727f63cd3c84b3eb45cb1f1e44c2315d9f41bd8eec9514c0b24f28ac4c4df29fa1a53f59047024ead3168dc72c41f1a4787b61f6117dfc499f35877f40b2ae4803b7696ef5d718c2b595d388f05e9152a4210f4a0f1898a75d131bb7a16fa49c071056163eb5c59f525c71fd9e8abad414f119d833b69979c414363ceefcce5e80ba0f81618b6e8bc656b5e9b543f382e79b2cb0919a1d06cdd27a6290dc19c10b71330a4cefec3033cddf30052fe3ff397c222b6f1243cc9457e08c6a1dc49f76d740e0253ab974865100695ecaac8a6a408d456269f158f410249778c1be7ab9bd07f7c6e9314ca1f27da433b50bcf3e64294f35910f5b590956c8df85fa1c30aaa433bc2e816be8e2c0860507005de65b2ecd62f9e3e5c5130f3b35472eca35a98938664416b81f4d6dbbe9e2febb7e966c17c2b8da3deaeac7ab3b6aa86cb6399a93b4bfeb367b647390e291701bc26d54b49ad23ac6ac6ab6f7505de9eba51cf7803423a5d67400da38baea581d39fc0c470cab9f48216e1551c75eeae45decd5218c92256bd136bd0984efc5a9ce06b31a2b28d000aefd853cad2567f17a6a0463e03de3d24f77423a8f8c463f36b672ddeba1b4429d1a30e8325f4c946a4f8000d7dc8f6f451099ec1a456a2a615236af4e814d501100ddda38ecda5dcb6efd8fd20006760b213342fe427f274517126d6b632699d00b669c7af20b04a997797f25cec3fd96f551a9882208fabb129d09cf6f74531bbd434cf4762b2d2a06d17a4b6f4853e657c24498d4cc02303ada96eae2933206b71eade5a64fc9ef4c34093fb73e2c3eaa502fa491f57106b672d98ae36aff2db74eed3dabf9336447cd8809a83d4c7b38347a3cde714844ab8729646fa01c946f6ddba334cd65b22edc986d35008b8fe8a08b7cb15eaeb488a4a4cac135cc4a65226e5f2a5e20302ece5accbb252c623645f896f96345e32cc6d13d4f3a813228ab12bdfdec616943489640988c6adb740fa503bcb19fc89a630c370da22ead33f232e0865dbbc367320203d32e3d74339f44f64553a9916d9a57cfe0203814e46137f94a2bac8c62ef93af107d007a10af14c3b0888cf0aa7dacc7fc8a6f1d9bd5fedb2722093be0ef2b1d227794ace9d39b0102f307b8e1b1bb845d404c945a26b980dd1f9434d2d19c4fee32aa596155736a01a0cef274b5020e39f6f0d131f9c1c6941c94ae5e1c0b5c132f9e591a40f46a1b0e29b45a14d328ae3f6d8400aec2ebfcfb2a91e96b2a0115595e6ddbedabdbce0de82edb18e7f96d42448be76987183e93c46437df20811ba41ae23842344058fa768a7252986e4a55c2ad6035effb37a00e66ff586115ae8ba64f0da91bd90dff7143a5d6d15a0f761f14752cf4eacc6bcff3f564cac7d86356378f4d843bff70bc5f421cb3257ce9d8fdd536cb4f03b338f755f54111e0a62a6e7df9752be8e2f6ce84819b3b6020ed930f34d1428e756aa6b1dc1ade00623d9ce154c25fc264ee17dc20e796ab3e7488e41530aeee6fc3af444099b2f6c7976c7b2e6e4a872a922680a0ff98b8fa996dbe747ebed892dcf7d941f0d6b5ad81b28f981d76323435787e5d1f6b89cb5f76915ea078fc799207e4f9d4ec72c6f89ce762961f3b7795ba2cdd90d3a16969e14d4f76400311f21c07fdb67afa149995a3c05680ee6f4e6758e156b4402a8b896f4ea5f171266e41639bdcb5015c69cb38e32dbc5e645d3d21737f85943b1d9f769ebc75a4170097ac78a68e8f8a796bfc70e2c21fcd3874da01d20dba9a18b6265661e19f294f2469e6abfaa7497536460b4fca85e401fc1fc22293af2bab292257436006cb00a292d6459a0f0157d7b3dc03c7260db600a07e49d629aa28574e5b94a0364465008733c90485e3ceafa6461e832808ca3a14dfd86343032976d9c1aa34dbea2f91103dfc0f4f744657bb3ca932f35739f2e75c101828e6d5b2ba1780fe7abb3621c5bdbaeca685f168f1f7824a25465dcc20a2ca090b5fc8268a231929b76b17d58a531fae9670c5aa0334da7f8d2030ddd9a4e22b5e8e13a33ce0cc43b878415fcefd87ab498af37b86ebd3d3fd48f250fbcd74a5ce3370cef2ea8cbc5f59d919f46af2d0b10a14f3368f5de8ae79efe36dd62e74aca9240c40c99b20a5ea5e9eaca4e329d679285f43e404acf8b4341f4fa5b75535c97d3f1510627237af854fbfbf105923a3105809b33775b35986f68a19c29d1e9c966d7bb12884175e1917e7c09e3521a4c6b96cd04155b0b77a6ba2547e3612d04145f34b22826f77edb951a6aa2b19f9b11c715a4c5c95204e1821074b39db6b6ca796250a94653d9042879445582f1d56dc19ffa06b5cbcd6619a88d2271b0e609b23db34c6b71a4e56e80eff21a1f971ce0b4afcb2d7fa780a612b5e5b7eb633f5d1e9d447c43b3f6b2af5d97488f6d286e9c8581178c8f102a91930aea2007f19caf606f899f080087c265f6674584be08f558e43627a579b8bbca5da2f4da44e646210c9b94eafce5861db90bf416ca502a44921139cfc2258c65d9349a9bd0213cdc44813aaf7a6cbff944a87c661b1930193281e2bde1fd91805b7ad0b7bfa5614c07db1ec10c1e6a540c16905335fb90cc429658db9e1216c9fd3fc3d438e7af1f4abb82b71a17db1601c7d00832c4d94eb62211a694988eb8fb93a503c2735aa2666793454714356562a35c2cbe6565e1f4eb248eadf980b3d5938e84e20d0044b7a909a967c71e22d2ed25f66f1f43b103ada89bd4d5f93fbf33d9aee7e0c417fd14afde131d62761f949d64ae272719ed7b53b1c819a597e1644f51490c4f56270c869c7fa86460a5abd46f96d578b3459db2c19d18ce383b5505b9dd6f7ff1f53e73c099d37030a957745c6a0dd6787c0b03d448728f401928e264b07d573b326a7b0f5d5452af0e9d7abb1d102a7d7de369ce85a01a08571797372ab580dd0227b6ebb88221c2a4db302f66622d03321214ad36f4f468a94f3a97f81c0ff4fa8436783463f342b48babd30ce511d98581d16d4b5f6b7a732c059ea34f6f16ec77180d930982782796611a235d74d533b048415c975592b0b0f4873fd6c2e8c9da386377a878b8c2e9e3462d4cb365ce64d071acaabb30330ad657311b873ac468babe7324fde6454bcf7f05e794bdebdb309125b147adf30634f2c95f8489966e15e25192d1e0948841c52d2f511d9b64bf76ff5b1308d6186d6b93f4d2817c4b47db84cc18d6df92c006e70045d319a760d300930844f138b22bf381643f125d360143791b38de3076ee2b0ff7982e4dc99ea6f10c7c53826b0e37ed481c633bca52af033b762247aa564540977bbf2c2cb8fca92536255c6189b2d2bf62e12c1fc1e9f37913be59c91ada3ef48cb5b86c6a3bcea7f86956f53096049be362ebc813f8e98a10bc8a5e78c34dac04a82b83786792ec99e7fd321583c4ed863794207e01505efa16bcf19e84835ba6d2724eace7eea6b9b07a58353f2bdfde780d5dd4e3b8df4fc07021f2c54db8bb2d2ecd0ee27621526c51c2b23637251abb019a702d42a853f8e32f1e2939272d15955d4e967d4c88bf04a0172adaeca6235e0545d3883371db851aee7b2a02b49b392317d5d750e2d02a977a5eca677eadd595406f041035d55eb315c336ec2a27bf98037cad14574990e585ba01000407a0bb55193cc7ce32b8564590154b29cae2e2190b6e688f75822d8732b47ffa48647beebd2365b2fbb7a6c2a94f7c72e40596eb583f68d8f0ae869332931e8cc48107cfdb9bc9d85e04327974764364a507f1b37b0cce13216b832b4dca83bd4e2ee0771d97bab9c3277483eb9fe19170a3c0c201e0916db9bf95c4986ee7f4ce493e5daa4fc8326671fbabd84477408e387341e0d444bdd7649209ce2a25eef4665036d6f0d815aae0228a5d52f23bd15d4d76cabcd6132660a29018892cb240b387e87391c9251892e12a81e5d9901e955bf03992bec1b5e92b982488479650f509885843f1aa83314cc69159518cb41fc18c09b1e6d237ee73dfbe7fa14db05adf40cdfe9f19dfe68f008a286a24bab83060bb1e034cc905ba62ddf06c9f301ed5b6146fe2b1017cd179a358c871c090217a618545dfa64159ba9a8c379a85e16a74d6bff29fa61a885b67ae9af6170c14960c2a76ce8d44b584a3ba76561b148a6f7e8f05c30202c88773b52b79a86ad183c19bf1293218eec2fa72931a1531b94569e8a2e850c7b0a774ec5e3aa9a99e495f547c5b64851aad181b364b9d038c6a30afc49ac8004caf5715c05b30c4f84414c13e7d5fc703c22c68d86f5098932482fc1f0954a0ef9658065861fec89f8cd02c960d069a8d54de2173ffc2190ea5c71ac6fe37d194ff11f54fccb0923c2c7a82f571e605127fe5a2eb912cd43758f661e2ec2dbc2d480097fe9e9da901675a90fe9f2e537462effd3c807b89a6cbd83dc1ee4ca1f3c9da6ca3a2d87d04b3ed301e7afb4fe19b9027442c30bb9aa97a8b656bc052d1aa7e1e4e5c708f747cdc52dc0d38a85ebf8bf242687136db5bdbca1aa384edacf7441ea6f79d6068a7353c605c67e2df85ca91954f7d4fa6d3c56c653c0d31cea92b479debe9ef9119bc0c7ef4e44e98ea9fc5cec682999697cf8a52042d658c67a6a1683912df6d1bf3cc98f384377fd24dac9d2555baab08c584f614f827f91af5462f08d5258529bbeeb32d82037c494f6c3c6e38b7eac171e0a39bebedb521998881d077c5e9b0ee1303303b2821c3fe1a61157894e39cf33307541ba61bd3328c08a6d49da4276eb9067b63a784339cb0a9ebf60dcd0b980151e607617dadc5d98315ad42f6d72afc60f3bdf11530b32297d28b806f3c0faa9bb4af6d9fd6a6766c84ce2bcd30b06e0b804575beb449194c8d99b303023041ff7315b58ddb9701c3e40b4054753a78b83f1e0105e985811cd5c15667d624861ebab500e4c5c66a2fc2c22ddd8938f860beb511eecf87601a1361968fdcf376b3992bc175bece2a35a87cbd879303b05bfe828c9b65e74cd4eabe97bacc16408c9f47d0f7f607050a1a0fbbf1ce63aff76230b291f1e648af80f59f05a7c7523e2bbf268b236c5061b0c2710204456dd869b22e75827db5236e723e9587efed6fa0986edb14acddee47caa1092676318594a86fe13784446d14c29a13b389c7e2b427487e9729372ed120a14f6953d4500e93cd7bdc26ddb7d00b7d7e77b29f1bfcd99da7ceca03b94baa19c0cf587416eba58d6dfe73347232716881ec7112794d35ef1d94448d096367074abd19fc4badb95c72c7c476e01009b25abb15bb34460a28e9bcbf7c81e5c5a764e1afca0ed8341b1f7a6b9cff7945a88839663a9ef7442f49a0f9e0b37785ddb8979283a5ebdf40a9d5e3bfaa90015fc12f5dca837f974af17d8027bfa5ec8623d1265209454b8c6a97444028457050c02e8c67f1df962ec964ef652b36b0bdd748af74fb9978a4c8fd5ab7c61db7b14479b5a8a4fd864d58e309896625bcb577ca85291d77908463459497e990a3c25a2780e10cfbf4a2c635765ec2ee39fe1b34f34011e377100a3cde3817c3e813e6e8909fe76b40601a5b1b1d44ebe9abe0dcb34497c707fe0651f98d7eff6ba3679e02892eb39c2f72eeb3283aba6797f018bf636718262d0cc8fc108cb2c669a7696cd02f3e2b8766595ca9351ef0ddb75b7b8c7002883191b920213dfdc424b1cc2f5c693df9eacfe73d87862e05de4eaacdae5977acc0dd85b109418f996c923d976ec83c13d06f112ab0d36dd3797e52d9af7a6aefcca3e69ab47b0ba0c644361756dc0e0981115dec893e772f017c297ae51b475eccdd8f9e593ba588d4b8caa27c4051cd5bb8dd5ec867b0337d7d213baea1e6fe167e4855518327b575cb78ea590d357b3a91e69d4bc6369a63443eec107013a32cfcbe3aecc1234b9f101664ddaafe6e3e7788fc34131e319acac3a84818974f206ae1e1492540b44628c6b31f8a94e9b78ac4fab3be83a57249f0aa449023b6f3857e166e424c44ea52c30e67112b6d343481f71e51975b79f8f80299e4aa4c288be22f61e924eb3d783bd3e4d90f805ba85f2ac3714654386c01ef927db79025aae7ac78c1e71c140dafea7fcc9b4fb1b5345023873737b196f76d3d01378f02ff4a2c1fe1ba0f8901f9fcb299dfadb9e0fbf17fdad725e57cffc50e4415085fabce1a3a62e14663e279f1734dc1a35b2091154f32ab450d081be9ad5ac51ec8b506dfc1e3016981edac89909b82cac061467e3a76c0e002f702e92b955ee5028da9947677f39d7eb5427a9a9103a2ab1f3b499a355c413e2dba19981710d6ffdddd9e9dbc0aa96d316eab02c217b6349e836ca56dcebb3a5905a6832642305d8092783d3a782f95c4e5949043dda9ebf6d5903a6f831ecbf3234f9b17b615ac5af331b8ea5991c6ab7507aea45fc4abafa47b47559b189e8853e164b2e6e2f09039e68d414a4ee7f24298774c7971baa9afb35d8cf03c41ef17a9c840e605d404aa017010f19f76cb5aec0e94757827f17723d8ca5c4434b6b1e135a526f4cfd22323e8cf2a0392e9c3c873821559caddca5200d1d85910400e7ac1c10e9d9722ac19dd07538f900d3748d56774f29cc1a5270b201a58534f22512de13bd42d054c2b6ea59a3aa3bf2d6dcdbc1b2ddebaebc161b5bb8241314aad62bc4845fad73a25612c721d0aef43b5f05164ce2419e6479ce8cd7c3c2f81fd0b3de78f5eba00aaf850afd505dd9165105eb49bd1ddf5cd063d8b8aebbff8a2a5ef8020cef8537e37566f1d1cc91e5ba5995816c7da6cd5f177d1daaf99f177429df268e4801b5a6eb4f0090d7f4df4d0ff899c6f0f0e6d987d450f8f4cb2b77ad44dbdbcc5bf059e016d14d169eef7848d17e32fc6effa2db9f6780ad56165c176338247aa3f1496c8c6d32e07599e0b75c7fdfd4e090fc01d2686b5d5a1ea121d6bac75ab2be7898b18a3fa6143e53e6b4ebd73c822ad692cff5f57d71af6a5ecebadc0c62b1f3aff2cfa825d8ff59b2e3fd87db532e59f705e7f03fd33cfd4a98394e4e2b53239da3b6b8d4006346c7cbb089eee056cc8111446b39cb36ab19e1f107355623a12728ded3b385cec6dc7d2f3cabb8c69f5f4bb821d1ecff35d77a0b22370decaea12a31e2c23d2e1dab5b87c4f06c7daad85b3dd152edbed928507ea8506f162905e791abe264c702bec54c28b39a0c248a762af131b9f770fbd3f7ac641bf7b3559e59aa9780def8f7cfcf6f449a720e937442fed5d5606ebbf5b228f1cb30c5a2ea5cb553c0a3bec52b6cca47a313f11b04ade2e6791e80f21cc2594be4c04dd7ecf1d07450bd72359300e06ea822e9b6ddda6f3b41fa5452409b5d968f5e31c8723dfec33022ee33de884788cdea3d356d2b29f85aafef57852570a8561aa9f393a58bf4a5c48a4b853c437fd48b9b1d694ff1269c7479f1d7634c0e0628bdea79dd763da66ece7f77d5457c6e9309bc6d155b78219ffe1e28d3624807d6df1dea2b32dd34a6dd064e3134e9dad0699f8057e4ff3154952a74be4a91039ea7ac6d026990348520d813c542676ecfbd3f4b2b32742d941dfbc0521bebcbe9ee9d49ab8c1f4f03e682c020914d8d7571b507f474ec7fe3140e6e0ee9c566128694467dd88c6ae9c4deeecd8fc7d2d3def7eacb88863d9dfa39e9cccf9760a55767d66f8af38c4a62c0e6a452731fb96e7eb8360faea2e9c67c7de8c402460f1f87701dff79c229a815b5efbcb56401c3a8e15cdb2adf1d9d28934f7656ea775262dc0ccf535fffb07803356049fb3a3685a84f0ed0fd43f6a8c4a952a1b6a1d248b97cbbba35d62a2aa4fb1929259120caf50a76eee1fe6067e2271b21b3ee7d94a6c02e7005e8c18e2389c02d4d1ebadbb32d3730964786d6331f27198ebe1cacfb2e5b6646ff4c1eccf770dfe87c5074e0a3a65440c2185965b4007a0382e88b043501f23fff53281ab3fedb9323cfe716a459ca4e0fe198c5117545ab96507e7d366e204d2999512503b9f041ec238a055bf38822fe6b24d4b3850259fe6105f4cb0fdf7fe27f03210eb49dc790e2ba77f38c70a6b4f84591b2ff97816ada0da7f69a6df72c22f7e8e5db7d0f32b99bc55e2e618d7a5e46a853770a6d7ed9f9bc44f04255d15b14a89489ce52be81dfa90210663b8113e8cedb17a274ad19d477168d2e7d0f8c378dbc65ceb5746de562d44f04660a5d9942b878e20a89c477a7452fd54b83f7b7830e51a3183fe22b5bddd5ebe885a98ad600e06367eba6547583a40283734b25ac0edeb0f30917c33cb2c8b86eaf7cc426097b38bc9738c8087b39a6d36a6316d9a6ee215061902a796b636dc65d5341eb0472d1a8c5e0e618eebfb1856a48db13b6c52c7340b5212a7e7144fc3d276085cf954683e211191d71519dfa99973c3d6333ab550467fc7e86c01c0b3d1886a1b96b6781fafadb9064b730920ec52c05b1a140e0ccd3e98946f21d5f43d8d1d8773d1dc41595267aeb217f4d1d36c56ebe20e193fb0315c382e0cbd1f14f54c91548fb793b35568e86f6b0797ad03e85e72243dc719195c597a18be8261f01d1dbe2deb1c6edb3166a059ffdc4b443b94686c1b3b253b1a7f54b408d978f646325efb6c8be0499c1e885132f0b0fa3790c48b46ea016d37f6eaef2a8a341195bed15e490a54a5244b4a4f53e8942fa8526997eb6346aac2ea928ffff763bf2db12603298a55fb1f8420e01b9e53c730a4c80e9e607e4dceb7214305850bf63bd3fe75fa9d0035d4b8f0d856fb079affa342f338ede92a57d2199081ebbfbf8c1114de168e6527fb0e700bcb982067b8e6566053d701a4e8bad147ff9de7f4db62cae396aedfaaef477de99c6d0906df5e84db92ff1d244adb11890c91bffd19c477f1eab7019d66c82f7a84b8213595b66582f5cd039807a341a527eeb19018d9bf9607cefd85aa3bdbe00f992e49f72d830c22be46ef3b3de90538950f08dd670b53297d8af0d321cb03c688389240f5c0201b6dc9b11b1d9d363842b4c85ee4383bc","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"26ae1d9428a158f3ebce2ab8affbcd4d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
