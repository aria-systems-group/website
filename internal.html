<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4bc69cc90033e160a1114635f9234e6fc4a42d072a14d52e48adf7047e23685d20a6a8894ed9c25d5142600fa90987e982e75db7e874f3396bcdd004a47ef6e31c8f5692870950afd84a94090fd8849f6de9c6d6ce4942d7cb9c613a0cb3905f506353156694999289a77a4aa766e74b4acf2595a6e30a1f3281658fc016ddfc52a28cdb51477325e7d60043b3043b00d39d465271681680e111ad2cfd7b997e9936b8e14dc35c6ca574d1649785484c0730a15030e5bee02ec8c1da9d86ee909182ec1662a92a16c6afb46888f3471186f8fab027688980f5032818331b01647a577b930ad1dcbffe18f0bd4fa691b077c951449399b8db41cd10d3049cd2404b22bc0d2380d1ce6cf38074047381ddf765707db8f1537be5a01bf4c1b4b6be26b8b0665d18099875987d077574af96aaebb4e7e0714c25f2b24da8c4e6df3c71571ce911ab70c69e3de27c441373b09a5055014a8c0bfed110b1b94d9331dee61e027bf7de0dcef9414169219278753df6e4d2316da7e595afe7fd3c564209628e8defe53a21baaa5611835bfe50bc30149b2ad07967e472f0d76716c5ccccc025f736ca90b4d80acdf4c4f7a8a4bb5a81c4dd1c2e2531f66721db9b0042906667c42a30f5a119f617de9d24ee66338245e5ac8bc34f9549fc59d8722174c500d9432024f5cf5606c05e52f8fc379a1eed24ece9b8fc48fa50cb65f8ca35179b3a620254cc0cc4b6c5d0b7de2df886919abec2eb442741de968747e71886fc0bc14fe773e9cc8921e92d98341d9de108a297528e4962751b2dbc23b1bb3540ad8c5c682a3749b567ffc1cb9eca5c27ea1180d5e1519cb1d8e2b303087f00833bb0790e4e1517e58e8e57635954e44897cbcaaaf90cdc175181489c31cd6a5535b4e4d21d8540d3b711f8bf2e2ef989ca0fb1b33d4c7b1f8b98242559f1905a47adcd705938e78315278c4bb4a6381a7d97264ac667647a63d5d0d62b20f18dfdd63ba50854065e9771ae2bf4498aa763d5b5e42acd82b363932972899c932930344a59aa805af2baf7122af6cbee1ae5e070f29d0971695b1f21a4fd61917767e902a4b0aeefd0a04df21203e91cdff9f6f505c6ad15332324310a6a27d3ab2265abe795a043deee41675af4ff0320e6904c1f3995682b7d43002562b17c93b9080612e07a504ee10c678fb2aecde413bba0bfb4f32723b8f9f23dd656d1a96bfb7ff018a8196fdc458d91e3175beb441727791f1d8888af42ef8a0ba4ba41cfc8aaf4d95f2a0c226182f8bfa8fa18dcdf903080e184f72b065d0e17a7cf1f1436d1be3f49d9b11eaf06937fc13552ce12ad9bb97aea0e21027bac0a19eff55cc5993e82e6cdf3d28d6c2db76b530a863099c20813a8dc7adda267274ffbdd0405532fa0a021232f1c2ea930df7d8a067c97a83f793099e52fe50610331ba41ed51069f6a4343b4368121d80af23ac5d9969effa094cdea96448a0c02f1074f00ffb820419cc86dcb899c5937450f0761284fba721470ce32bc69467ae19e7cb204894d0eda1cb081ea3d3f94dfa8845009ba93bef8a51b314436d52153f4161c93d36164c631fb451c74ead5b3cebe814d0dbca98b6374800067ad0d2605f77affd74962c281ed2dba678b7de4c1020857c46976c0703f3356c1fcfd2a3352040582444fc2582e55dfd4cc15c60a8e65844e6cab0633f5984cf5154f3075478c3d726f6d271ff426fbda9b7204e01d4b7ae10fc37029e43862bc8f1147b9a03e0e1c9c0dd2fb04e95e5e990921c8cff89760aff12377672b51b967646d7fe08810c747696537988d45a96ae16eb56264b1d0cc3e1a57e4f8b5587fb9045d273dd65c32d76a1f944107f1c851b0702b7dad56716895abacf6fb85cf4f3ff0b14ac93d9df4f04808ab79ee5869ba2d6bf3467f3848dd630da87463e5fea68b2e4849816ca2a896c7dbf1e6d37ba696c994a63ca889c625c919794aae9d9cfdad11dbf41b01b197e5305df65412f2c7b853543aa5958490a8c5cab45c3db128265a2131aa0ce9be88725a1fbe895594ea5340ac7589c0643c01d4e46ee789caa8aae4a534787ba2d03be4b408ae65baceb130c0d05d7cf6d67681b106dcd6ccf9747cc7fd018f8672559ffecceaacabd8d1505b94a0a90af8aa7c4865b5baaf74fb5ce33358342240b8cf111ef7c9b646741fc2f141f3d6d42cc4da370cb0a2b259b592c354c24e8a7b71c393d764b08bcedbc3db194204051112a2cb7bd6ad194bc405eaf0066225313829093fe6178a576a5ebb9b4684c39d4165cdf873babd4a0cf0c62f380c131099fd93e8bfb30bdae63287fb168db5c080a7fc26da1e5a184cffa00214bfc9cade692a212d63093177eb9ad1903408a02e70d65953a0b1bcfcecc6fefb2567f17f894ebf2c91af75ba9ba2f5b4d69d8056c82f0016371fdb4ed764ef6c6555fbf9077eab339b182dd9f2ba9bc1308436a7c2b505632eb85b87a2f5b04f74831bec8af971f59a7acc76c077ebd709f9f54265d7f80dc9282969d14203e815e1564937beee1baaa0efc6ec9480181e306a6a9fb3352b79453ea89e8505211483cbb06005cc17273fd1212c3ebda53c2b73c942b3355a8d688c5c235502c26c9e9ae9091ab8ec697e30ca664bfa5efccec098fc0393e386ce6d8f01444883e8c1f97ea0a534e3e32b5b132d5144ac804ec4844c2c3996aa031ca855182af9dbc0484ebce453b76b363dce4b8f4248c5058835004467ec859611042851f2b9f37403c0b4c5411f9e05a3cefed621945e41edc1f5568970ac00412ff5eddfe6c583ba34838ed2772138440a2e46a4ae7686ac6f4aff58122d5fa4efacf74587312dbc097fc7c33ad946d1309a31e27ac298d0a58238c9868689dc2aa5d7f44665a027ffe20086067c9de79da606a8e5f4501d76d1a2229384ee6560f7d8d10d6b838af3e6cd8ef8a16fb6d66567ec4972294edbf4c9839b79301647b2df385d043d5260157b503d95911a323f30f61c0ee7f1f6f7b035e0d3de91bce8d6c2ca6cc399267d46dd16c23b98a2fc38a3035edfdc57d6e6d444674f0365fbd97b6c1557eeb362f71a83f751883af9d104b579bfa517c0be06a2128d054cd01860331c6f79445e1014d965a1a3d58ecb6dc5a3d929bb49314c72a2071f093de3fc84d5910bd9776ec30bce328cc2dff0362fe910f2e03b7906ce6e9f797231dadaece6bfdcbbc7156975c2aa09d0184ce3426e15ad8d3da6c4b1c8b9e2add17825097d09f1498db370911e81d745a85eb2ec4ddfbdcb729f0911b121eec07a98b4bb7d2e02d9d525246faf12f68951b80727918c51e948370e75b7526942b4c6c558ce1411dc199b319e7e7f5a05ebb375b9979182c7fdc175af051e2694942f0d77d67be9891f5ec224d39d5487291a4b657dda5d509455042eba625429b60a4dbd3a5bcb11af7ad0be41feb2a28e24b6291e551ead9da0f2a10335465b8d7d44d827cc158e93fe63168d4cb0ab89ee40e0d43eacd24418e2149ab4118a00cb281b41e65b013a58f41baeacd7ae86e52b7454b509f7344f12effeada18d80a83eca112037d4befd2aeb8a1a59cbaa2e66b080989badaa2894e05af731485d38e2dc929e3e2ec8f14c825d919bdeba76362441f8e4db51d364edc8fd1253676743a63aa527de4ddab16321fcca68fd2ed62aaf50e64c7dec0f74b24b01c86bca0b74c7a4646e46a6b3146f1f5076d73461d93b9857c2677fc12d032aba8b7dd0c41abe4785d47c06cf3a6abcdf7e86c0f5b3bcf05047690ef40cd0b02dfbb1852fd467c3b5fd36ef015015b3f603f12b186d3bd90a978b3b286c8cd682629d8250496c4ab38997d0a6845f085d4975b7d8f1243bf78651b23b48f4b2abb6dc156ac9a761070faef43f7164a05cdd867ec48ac7d7d157229a8ddaadcce6f5fee36934058d9f00622b0fd17551b424c3feefd4a30be07747df4e6b832ff2f9fca5c6c20884b0dc87d7a0e5c1f92ac684e6b428c325b09ba7952c3242588307c895ed06ee3e16bedaeae035d932f626a633f4d6f9cad3fe900c5fbf6cb6ba05d8e50f8aad55aa045e0696227d966aa76112ab05638f65314c7419b2df3b298f4d52fb8813245cd0354d52c373a69918d7b4c14f0a7856df3500e4fe0b978841ae7828955bea1e19a90e495593c67813e00ba4f7db23ffc39cd4bcd98fdaa1337250c179f32446742b16d962a914e4e61e75fb82e39465eaca7a863e4ea514f5f466c9f176f60c32fb7cc16a1f2c3227f16e4e13245d6716257ccfcce20596722c95d16fb150a3bf40902dddcf5dd74bfb23312ef875bad5e9869fd423b86ab57821c7afe8f61bb8324123a2c9aa043895f8a10e6c60bb97f75430e4edfdd23c866c2504219cf31d8dcd1a8799580a2d7bc88cde78993ec1260b073323314ee3c052f680129ad06c3c4964b1ad896dd37d1254b41d6039f050a2c9730381cdb250f45d1c351cfda1c8def53a401197e38af87da6fd341a5f963c0c9bf268826107cc9ead8df4ff3fc639bc6d70009450c9642048641519aa9596f40c7403e2e85dfdb9397afbdde037013d28126105bf2d360a2a43ee3f1c190026c1bc487cf952e397e27f9536de7b730cbc2c6922ab53510ebe34b1fab16030b7bcd564ebf2e44d252fcf1e18a58879b6cc8ea23818639336cfdf3d49c4da571639374bd3c5a16262eba3ff5d7f511021c33ff68d69ccfbefe4eb323bac85f7f9653595d6e2b30e0dae97d0294f6b91d9317d3c77fb9858343d6f34cde72722114de8672499202a2442ff1bae5041977ceaa2fae7c64253f7be8a10275554d07ad2f8fcdbd049aa0b0aadf72d58680988897ace192731aed971d156def9282d0ea0c3dda6dd6d3a877246a00c6bc2b76339dd96df0a03d03bf26ab7b88b4605b9cbedc6ba0a333eb0a301867a12da7bb781ef2b2177765f135137e81e777c55f20f6ac8653bcae98afcf7ea21a671414505e8f4b4df3594ddc263a003e8598a976773e084523b4c32fd918d03d4265fe5d00819d0a11cb533a32df9546c39d5c88429fca091a771bc52e0358274405205731451fa1601c5b2f686ef33e63f47698afadb187eef55ce730a1721aed43d8cc1d21bef72c1465b29c15dce09ef08f0454186a79d875bc361cb1db50396f27cdcd70e53afd9566656bfe1b8a03dfa83cd884ea29128f4e1aa3c6ee8b1cd73df19722bbe1bdb6fdd38ab6a474d0111415cc6ef4b06cb4b37b871dfe0145b809b0a2255d2331e2509165e30e4ad28ff135b18f9cf1d3eeb556af5803e34676bd89fee2e33760818291c266d48e521ef3b766d3b4ff22d4ef680879e9d618b404ec9fdbbb4f585691d6c6b7b7bbd2a42bb84e063dcd9692e980e6601a21fe3e83a306021a80bda31bd955144731c9bf8115b24551442c29145e5e024ce57a9f15893efaa4e9dcf4ace1c6385eaf6467b652b406294985557ca469a490334cc8b82dc9f08b9e1d92ea7931044ebe7e050218a61ea0c05e252d121cea76292e49cca35586eee80b004688b1be701ff163a437d601a8d185fae3713136875bdab34e886c2154705007afde63120583cb1471d759640a268482aa15bad4dae3b7fc143a37ebc20e3b6a9ce2c2c46c0dc5aa410cabe7d4b8c434fab77fc024c03f7df11f76bfb58788f0f911b6c9e81e1fb4969e3b0d60ddab361a31231c279c86dd148fdc2d5ffb36aae9e68ca4357a8afaf71ff9a6639b4cd5195df98401e95e37b37e597d516afb3a824ffc8e915710bd0b6b537b5e710cd48396c61b260d42535a08b067b117d83e71045ac1b8104c0a0a4bfd100afe995849c63a5975e8a294b7190d722f4c4dea3d5960ef0f9caa9ec8b078275ee5efa4b68d46438291da5c567d249e9a1a784f88711560e0bbf43804217d7e54813451eb42dca9a14864166c03287055e7fde579a48b3a6192246c16914ae5b5b647c800b2c608a16b2897351ebd066b499e245e99cfd4f066ffdd216bace442b670e1573615c684358008857dd5edc500714edef9197b319ca3a7f98d9576f527b5bf53249a38fc8063505d458f7de8731ae17ffa56a938c9be507621357aca808d1fc1c02d5ccae042b2895af4e217baa3665217e00f15c0b50f9262b85ec1cdc9e7310b4ce2009cf6f8546779faf732a07b377b5f3d855ca5f09c72f0bb4dc1e234eaac33590b674def9441f2edf7d68c102748577b8ada4e03e0aa11fa0ec168dc675df697fa6146eab8a6ae055be409a0c45c3fba042b6d4e47a52e0c006718d17e170a9c4c0fc289824991e54ba895411cbd2df95a4857d588907889f9d83b2bf7bc33f7db79d64261c3ce5500f11878858f2ecd522a2c2db4e56c74fb1b0dcc7307e0fc34e21c1b6028f9aba0ff7f74e3779209639655196085d4fe4604680cc3f10f83c199fde0df06bf86ae6a91c92a100d18e52a589697c5f3560868f5a312fef224bbc677ac18347ac44f7930226ccca940a48ffdc8978370465c1391f1733298bed7ca5a185cffe40ee08101b414e709adaa22d609c84aaa857e1b0bee5bf02f23cb595e4a0b9584e3e383812aa8e02a1972dc8597504606a2860d40580dc495f4339ca7ca3bf1fba4a8660947285f65ea6b81cda3e112063fd11688b721f1f6d963e7338cf6981c0b2508cad84925a6280618cd0338e30c3d2141f94da5326b625c75f31b9f73e0fc1c0414dac20c9d9eba0b70e0469e6a9b0d5303325e40b6ab7533edf19edb229a07fb8aeac2d3dc0490e4d159055eaf79eec6978e703001a84a535d50cf4ac8f5a7ce4bbff0a241d0514c8d4be7e6ee1eea2c4836d0de84918c3f82587a35a9e1d6e3a905144f6477015d4e362340cd422a6f09b5796549f31d6b7a48b3a825f0e01b7abe358d8c4d44842dcec22f8e9bfc71a7a431d6ce35fea5f3ecdd0af2fbf24d091dfe142d553f47cc3ff0634578b00c8f2a7d96f798b6e27caeb08ee0a8c5b0f55789c4d285d0c7085b12d223b09f6b41a34ab973467d67fea39e303a2c1828d8a8fb6dd461e5eefabec7a3ed4d69aa313cda3088bdc2c6d477804d1a123f33b3626824260f623f549249041e602e304f15f2689b49e8c9810454e6877955cb6feaaa33a962f6fe41825e59f7e8a7a3ad0792e71954d17536e91659051324d52f49719900fc2c49112ab575eb8220f52a7dd378dccb94590ab0e19a2aad50bc7ab1baf6ad39d53a764e41ace4397acda93e04fc6f9138cb57efcc57799896b946d68e9ddab808db2ac3385828becae44a120eec00f8b36e5f8286bf85a2022b79b902dd61f277efc3333d96dcd1eeda27576b840e5badbe0ab6637bcb399798cd8f3c3f882765e7ae5048654c74ec4698d7fe919c098e2ed4aa305f3aa4b8d0715c1ed9e17631a6f87c4b4c4b7e52efca4f625c5daf332fca3e456e4b10356a056aee74a4a88e872472a6b9c6c37f8c12bb8d1a367c0f1e38565fb1bbad1d4690ae31173f2a53088bfe4d0fe31764d55446a7dfe82c94506ef6eddf814d4d21668b45ef947114168bb71047607b125de600233398a3773d637c8290034ad68f0aba5ec9f23a5edeb4ef48d67e5fe5235b041a49535def8ce995fd6a7b7a0e9c3a7ad0f9220b12db169602462e6b1d22bf4d47599dc554d4bbcbdb0c5387e37b5135ea0a241f30b88e61c2397f99a591cc1d6959a6c6653f54e101886124ee4ce93facd71f8d79c4989a79ac06f91f40d7c2f90d1538f278658d0ed11f968af6cc0e0e88256ac7c68a7f8f2840b141df54fada0b896c86d00552fc94acf2a5f736aaadb16d16e9268619c88a7bdce7c120ee2712d16a7aca5776373568b3101ae5fd0d1302de4fe8817ba0f543e39860c3df3973011c1c72bcfd0a8448bedef76801bf1fb7397d3bf837251aca59b765cc661bd1f51cac8bdcf1cbcf25272e163836d47d9f89e16d52da518f9e73c6fa3d36ab8a5aa2669d09d740a519d0d373ce842c1093e29213ee895815db7d46c4d9061086db1cb20e28d7f22876fdf9da118f9dad230c4088fa512025b192c542f097ddf502c29ba769152b24c569858310470ecf97af34cb109565b5f481bd4272d1cbbf943392dce59323b97526b12af4f82f896b552d9e505299b413f78222b5188cd9a6ab108e4b9cee9e04db81a508e1f1946cdb6e5b418d4aca3efd29e773b81828cf95c176f86b215744e2e72636c19adf4035ec3c43502b37f4c1886d8a1ed92c59ae31baaf745a65ddc5dea2b3529de7a89dc5deb33c1d2e273c109befbaa123d487144e340a1dee1c3d9a34be9b788d795f5b4562a7cdfa326d4906a9550adbc5b92d15123e0a1387f7ff331bace123997af1d06b4a10ae3952af2e7528a56dd39eb1861fe13fc7c06250bd61d1a802047966b38caac5b5168da3027f5c624bf124877f578b425d0eba88c2f2423613bfae5f38e7c0a48c21c093cb154ee7390f89a4c7eafa4e55044e1ca3b2632157fea5ac5bf24f2227c34554f941826534c924ac55e83174344b179b9d05adf928c2645b975fa29425a843d7c99dbe84d31f987df96058ff60e2eb1f05cf286f5a133ca3aaafeeec0faae4c3927b1493a101cb328c5c7100a9600cba7e97cf63cd8b5758567f388548ed32af8549c0a8669a6f6eed57fabdf531e1e9b8a1bd2792cb1750cb463bed20629eed3e3e686f3e18d968d98ff5511a8931f4b1bb13a547bf99020ee6071cc0125f959cb57cc04f7d31f5cd1ec9b86259bae1892ac9e47809e8c3769635b9fee7a47432fb692ed10ae38cb1aaad15a845ccd21d7b17e920cb6cfe52ef2d84b2c4bfb784b47565849bd398c17b80aa0c05be82e0a7b1eace8a3ea3ad88c539d940394c3c2e5df596a2f86f6cc93a4b10c980dd680f55bea8ea34bc9ac171e4acb39c14522fea0351eeedd1a68f5dd2bfb718b01db2c77c7571755d8d7524a124cf257dd193282ced3626dbe413a4b09f40c949cf4ea4d3de6e36b0d95984ba6cd6e95e98297505de388adc76ac89fec67310b2eff42f86a757cd13355866b7ba7290a6011e6392154163f5549f34b9eb17363dcd7e78f9338c80f789d2f35c7a18b06199418e90c29d1f702efffd8c69e6d3eb80a4728ca64a70d46757ab45cb0ff704005427755b2050e25401e6bb50d90b502ed9f0459efafe4af6f415384920f8c9f3676060121771c07013339256faca32144cbfeff60488d118ec8a71493329d82bb7230a7bde1ad01355550dba835eb7f48e949be304c5996ea108a093f0b4cc014ba134acb8b4ba69aaed7598c41cc75bba5d13ba1590043ceafcd59e0f6b0c764969fff574cab20a9c9d98b703ad92a3e94175726c319ca45da0ffe0d92bfbbf3f07615ae963e3540123262bdd2e1e3d97ee135538b5b7d081361457adee7fb625d14d8e10d6769bd4a7bfe7d6893cc3850892dc2af8733174d7d30666dcabb255cf2b8f50f619ccfa89be125722445cd01ad980ba5322961a5d7ae10ff9003719bb66da3eac5859c6fadcd9c34d669d26949650a3f06b2f8bd3aa0c88a83d507acb5e7a25bc6ffd77fca506c4383da34338c27600fdd812fafaa3d54bd70497a033ef8863e9c60685377a358a9c66d055310f4c6c6ba17302ae48d558c0a56d1d268a18c990223fb4ebd704341bbba61f483ca4f97d7bde199029ae3c6c276f30f12100a52556865b18fcaf97350cfbf0ceee37a48a92ed644713d36fce93fe3a5252b8b722ab2318a63c9cf4e9d2dff6668594b72a4c5602022373facb4293c9b3a6765dc05e432bb763da1f82e0e52545ec0c0e2833eabb79fc4c05a7fda2f0b4cd61d408172be021b9012aaae393fda28cad815fd33e28c9ff6a96ee53d9b827c13be991c2a70999701314bd5410256882883eda5cbcf9cd8c088107d4ac79f169225c23e51c5124dcca4e7c040314670ecf13ec338c1c712ce109fc6ac4b24420235990d6b673320c91278bfede6b1b5a9011f0f8bb614868f50d2d7e44a28a9e9c77fc847ad2d2483865072f8b86fff1c2468ccd9c8bc8f7f8c3b705cd09dd95b99892133609fa5ee016602f1c05f064dff8ec7d3c0774fe99b7cb50408349dabcf56ea81b60c841df3272831838276bf58bc66c2944b493caea7a5903e5d8fca05e85c07d7fa8e6cad9ce44f39d560922b882c68fc0d4d86fa9a1e112e5c7d59539ea280e419db30744232dc17ddcaa8bde20bfcdf133ced36579685585a927fe9e79b7f06f268b6a56e1d2194ec4b182ef1dbe797b76b341ddad5e353238feeeef8b4b096c0fbc6b5855151f5160b4e665d499007b1a7c94ba204e7484171cf479781622079e6a5a207b0936c7aceea4a32f3b7bcd86e5be0b94a27c88ba201c788f0a617e6790f7beb4b2e0763cccc0de62d671435b684838283e922599ebea05436994c72e1d57ffb887862fabec549aca1b554f2c5cae5e427539f0b383d1a200438da698359b9166cb86a7764eefeb0076e03f92f2eb6d39d0469cd3b8fdbbe3ed0e83e77c03b0bf4123cb747cc21de7c9de2ccc6172a94bc9b649b2e69fe6fa5f1051e1e51bbb1cc9b11888281e48f921153d9cb172df5be8a80807222f4561b55cbd22a8424f928af9cc013b87d766955e5ec9d32ac9c56cdb6dc3f129af2f8c724b37017298744d32267e916d3031e00fd690bc099cf3703287f1a0d2eba4a1398ebe92de4a31b035a54ec0ce19e4e36c4629c7253bad6710b3acb41c16bab94d167d26527e92ee262e0130400361bdc98fc7614c4bc3189443a32c45bb671446cee9599dd6293f7d878954fe8c734965e5331a051f53c51f2c97ec85c1512352ca2107452ee060e15c7dc17177d55971916e55341a79f1e0b062384948ed780c6a544e022755d0dafd6a946598edca883dba1c9fdb5751a5a46dc22ff20195e0aa8731d8cf5bb02d9860c1472da4be67ad9b1a1f4fb3c4791425586a246735bc0b7e0dec9dfa81f45fa08fee045cec2b5aaa4b9076256cf2c43b5d4f14dca10bf2c9debed54d6721d34bcf995a6728eb6f6701736160a38c64c68ebc697f7261458730fa10e14aae8a99bf00ed4ee06499ac1346c91cb734fe9ad2259d63ab7100cd8d794b412688029df36e485e04c51be16fe3849b7ed864621be4702d635d26007766628dd1ea1615672f0337a205982e16ea42d2c222900cc4c97ebb72a87d2bceb2d70471ba17123aca3ee27bb76ea81ad3172a3713d74cc8c48c8025fcdfea11a21cf0d2619f35bdd3a235fe29bdfb7d4a3a5f5bc5edebdfc12c525d6704d404c12950fb5c5ec4f9e44443b12fd242bb0fd7bd3d052394f54682e725f8fcd0ff5b72e01211be52ab909378a4429d92cacc9ce57808025abec76b210e14932a9aeef50e9559a8e03c3256bb143ee0006589a24e35dcef8e57382b410e65bf978de0c2e56e6b2ac9c3f0fe0578932803eae1dd2a8fb0ba7ed3356dff46db5e6c49616479123a239c2ad514ccd5b3dc976272c1f74bf346203b84b2316afcbfd59bcbbb6ac3da93760ee0a89b5506bebe962f14dbbfe1eeae5af235eaaacf6008d0027d3ba438b93ebae5dc5095a0dcb1f6579ee2b8385cdfe4e556cdbaefd04e4ff9bd48f85eed302be08b7a151520bdc750e9795cdfa6b9ca5e62a6b29a37a9a9fea0133b418abceaf0d62326f45d0ef76375d90820266a8101e18492bf71e95fccf11f0ff52da6ffb28b4c93c5d379ebddf33cb10a2e543e6aa75a4019a6027408aa25d6090c47b8d44a7b79f6cfd9b92a715d8ded9f1d3bc0f9c40e07bd645181217e7a0e3d7bc7981fbc8d729c8fe8ce786c3a142e9b8cfb1224f27b45aaa00d382a3b439ea147420d5db1fcf2ba94b95aa1de620cfb48861c33ed6b1e6af34e6d90ed23605b209140ddc83c6581c1888cc8056e69a5ee738d60f003f7350673d37d8957ccbdf4d45d92a26e567f10098e1973bb2cddbbd92b436d3df26894a21eade573fc51974858635b233c2a5c2c24ee199cec767fda0afeb589c30c7f37d0b52cb6f7ae74899417a85bd5da309de9881882c03827b86bb913273ab7460bef33b51dcc1ceca378aace26bf2a8280fcf524807399d5ef8c9ae3c51672fb0060b9f0d15ab6142bdb10c16e36d95da2c353ba2c3b23986c4862a963dd672ec38751475b5c3027463ba65a8a9ba62cfe3f589cb2bffd0421ac4df70935bdca3591a7bbcda5764926c2ffb59deb8e4944501d04319d93f58325e2d56019525feed09289ccef0f9d1f180bffe88fc8d9235209b6b7a90514e01e34442ee3279733d1771841d6151c42146d135e990c903266ec58804859dcfd1ef8ed8c4b2733dc314a9b1e4eb383742af30690fb8f0f6c343d8b4b3269866815531c2deca96bfe45c616755628f48f3278b18e4a3a2b5d03ee03ae5f0e1c9fbafbf482b2af667da77f34af00b0d2acac7e87dcb2bcbbdacd4ef31a11c276e3a64d035b2f13ea843684dd83c2c5ca01ee26de535e5f3d92036becc3b975430f03a22f8839347d47e87acfd854109d99a542d780380927903d561979ef69defe1bc9665865d10a5314dfc37c3cd66647bdcd2e82edbbb1565a3d71e64f9c2f8ae454208b6623a08796d81de813d4bf67113fa100a64caa6b420cfbfe1decbdd25c6e864cde0319d1d79706cf3526b2accd63a469baf7f3128bedef5f58c8ea85d3051876316b99c401ff7d8a19bdb5ebc0c7eb366153d6bc8b9927afa0724558ff544ac353952f748291e78feae13a13dbc9e49b90dee5b5ab8b7ebfc4194ca4768291342e976bf2daceb2fe5d7317657ccd43b70ea9cb1dc1a32f6e01dc9eab9e0ca3c09cc6a806aead8c266c972c49c016d59045a1b1bea113b262130f160917c2990b111dd48b71ec5899fa67af35a28918e24cba94eee9fd97d2634ca87095c22e27bcbbaded64e5057c8f49e5c1879edd52beb2c400ad8c920d0baa2baa3f2a03b087ce8ec01a790967a46abe4455db139bc28f2a64478381f19ae3087b87df027a4925f673ae0f2a5ab75f41b690ce520ee292487cc702aa2dc58af9baec0167a47bbf00569901ff6af260b7b8baffb54aa1b864653f6bc15f6344722df77e1cdf6cc1140023e82466a8ea270722547e5bf95dd5927d536f503f4d5aac177644c73de3e1934087217ffe24a7cfdc29f0042f8498c18e55e8b99202cb2ac90353af723d41118f8b5bcf566fcdb1594d70f38a11b5ad63b955fb97bf80762454a893e7920616ce486d1578187c03cb00fb68b7698ef5ba27f898142f737420541df5df124e39209fbe9fb9695e11e54d5dac6f4b6fc15447226fc79c4ba3e8c487af275101162276937e3d614a1f66bc30b0f17f1991f2710df61e46ad62e0341700836e3a76e4a4a7a1b734cb2bf54bd68c42192e4bf22db77f02b08eaea376a14e642c8d408e689cf39e0a264c6f4f14a24a0ddea0fdc70b3e9f83acec3996a8591fc5b7de255bb806c3992546ca9662ae6c7e070ec05a8bb497a2cceeaa0f60b2a7f9513e2a29f35e3cae20f8c80308d15a0e8222a943dd8ec92ae014009ed31fdc76315bd7f74e6cafdd47a938c8db5a21916332dfaae73461fbe0429d11df07149be0da74d5587cc0f3d9a6dca56678c7b593406213f1613c2089e3b1a2e3aa5219b0f663f83e0729e3b5199815dc1c7024ec2850422979ce5bc6661905e41002f56cf932d9dadba57670efc6810d02aa43911fbe4281654e74da1a0b3f89e2afc8ef3c653943b171a470b0f56cd81a39c23872d89434fb485d6094ae87f0226c27db95ea6e29bdf6f409cbac3ecd380557b5c62dcecbe38d90f2f1a38d004bcc04adc9e64693cd168d439110e0df09ef1f92b4909ef1caaddbd5fbd5d121b0a4479b53074a4310b35847b8dcc9deb492f41d43eb93c7b53b1af48ea410843b2969baf243d362bad606a3998d21c2ab0662fd110d16dbeb3b175d8931a4495a7ead04f75cc38f28d69b455f85cff23ec67b6228a15bc6adfaab69562c4245d13ef2bf5099c348d7ff968e29dfef0505c8d5d6fb8ee5539bb51f341fff87dcefc777825984e96aa4b28468c3508904bb0ecdb6eb611eb76898934b242b8e5ca57186e6cc606770c0e7b456a437c375f33961e2a7069b1590ce77a680b087e4776ec2be389a9b53dca243f090a7155ea7a86e263a2fd3030562396ac42d2918209e73f9fb1de4029c909e0bb4447ce75058e45029745aa432929910d2a9df64524cdec185b1d4757aea3373ffc6195dd7db788d04d6073d4b20be12cb63f514adc59aa212261c3ca6507a81e36226d88ba1d25a5ac7cf2cdacada514e52f9530f94396d7ecd0276a19d8ce8f8cbbe5b060341e45bf45479e1df0df578707f3c82ee3b77a915cec61c399f5baab0da00e085870b31e6c2cf819a026689c8564095b4595fcff5c9f938f7b8e66d239ad2b16fc045ee6196ad3b53392ceb5730565097fe9512ecf042f60b6b5d3633a59e8f2fef936dd44862f8b5c9ef5e100b0aa2ec34d5043909830ef4a61c0ecb1a0992d58127cdfb7a3ab41e46f1a8b7964afcb7653e7fa4f87c2466c8299b9f34661fa5589f24a1927a559c9737b73ad5706d5d046ff399de4dea2e4621ab1754a6d960d944a4bc65cfc8bd335126b1d62eaa72eb46cf4d7cd450727b156d059dcc69a03b6913cd8b16701cbdc80103fdaa667205d2cc94c0915b097e399f02294d76665ed9529a6a5b8af68f63a7178a8c0ac3b956b58ee031f9e435ff7a0636a9f007faac4fcf1bc40d07707b4cdd3a90e040be8283e13cd83661febe17e08c404baad462831529b23400366df5ef0655be2654aebb0828c3dbfabbb0089327a9af11eee83bf3c5eb432f00d322e99e5f83cf0c7f306efab245bdb0e8ccaa12198d4a7568d68dd6f1de116ac5dc5784930412bd38df915321513e2021563910ca243a60efa30a9fa5268fa70b79eaef3b822c1d4a23124cd623522e2fc1cffaf9b853125ae8d926d4d3d1420e5d9fe7b0ed9af0018d327a6ad238c39b4e4785eb7638374bb453907ea3747d6c52b6df9f8ae5f0068259a16114e4895c45b595f3cb0f77b3caffe06238a421d83cbacef6710e2fbac35b194722b3a99429bdc925a26456f7196c56f6e2969feff28b635a9da09c8995c296d0b499029b677b336b0b5a24a8eba671868474295d3f5cc02427f2b67b19cb1dca72bcf0b079282d26d34d27c71d363703494c5f024809b1e518ff4a20c2bc407e8fa94693f7b2448fdc8323fbe8c7969ce3441ac87e3ba3cc9b5d6e8be7696444f647a1bc41ecacf3d51a53680e57b0d0f9e9da208e18bd4030ff01a57e8705b08391e10f569b6d47b09235102396cbc91503d6b318b29166ce1b494e5d36697fe86fa7851b1cc3989e51038b31620057c6b3050961a8438d5fc5ecc1cc1745934fc8d924ea659c842d1ae052e4782f73f551fa6985461e34cd385ff001147d044d9d7f8ca7457735fb771ad1a445210af3f6b7d9a3055aa7881228ae1145ca8a2951f9a136fc159ab2bbbab374e27bd09373c6f421265faf35fbdf61d9faa5409dd60d14170078340b7f5274b19c869d5faac710d5cfa5c3c8084ad37293ab4e2da5044dec6a0d96d550f32c08581c461a7a5af70c511459ffef02560cf89ac5bf445c18f15fc6c76eea1be4db47e6224952d6f4caaeea2c9b20de39f0c0110c29b8564966ae7aebdfa1553da490a5942b52742b2f89f088338b7b3bd98a6751f70c912715cc5af8ddc9b62353809f9f11f1930288f46cb3cf4c9ecdbd92e77800e3794b74f3593653cd134a43edf3b3f91929f58a8f23890b0c1041b217969607cda2d14aea49f3867a7d016531469b892b4d6d434d12a0d44b5e1108dd0ed6296f21c819134976c239773f4c3d6e39baa46fa62141d73250440a38b4437d3dbe27d4f18dc36410695371d30e7ff7e9fa275a727b2e19a7724fa46c60529963d8e76038f746f0b67256e153e8325f97d12b23e26b2dd46a110ce5fb3dd064d232a89538c78a2d5c74c74282059180a0ab02832e9f8415e0cc2a4b614523a6b957de730d849a47ee32f5b0fd361d01ab09ead1b756a5143b5484f0d6191572fd55832556bc4cc040fcca1fe5f87a2849ec2cbc24f929a7b197480c69ddcf8d634152d74a09f55238c0d30973680718a188ab6ab13e70d665b12edfc3ebf1a71e407881086d56f8c56eba65e41195d67427ce6eb7079dc810f012fd3198985c4575f835f34689f486f25e4467e0aeeefb36f2e0dc4a6b6fc2833758fcf1f8f1b2874c2cd45a377c68a72a86bad78b24a0c87d08889a37d80f058963e9ba8e84949dc5fd384a87ebc4cb49704c2a9f78057d187a7b61de166cf109efffe7500385b3db2b9b847ce6d352db280793e1d7fd0ad2751700628074488fe82f83f718d62c4e76c3433a0b3f8db2f600756cbaa9472ce9729930f81cd21b364bbde852fb94549ef5f28a484953504712559c96f982f8b1d8c8f092e2aad43d4cf91fdd455bc961575529cc0dd8f6147e1e1b573d4607734ccb06acfc1b21ac9cf45bf337db27005c7df41507f0d142dc4413f72015bb15ef800f47da8b87d941da3a7f668e9a3501a852381a7c55212f4422eacba653058d4f92e5489ad338de2ced8146f1f4369070f026073cff7ce344a729ed5b6ef8a9a1b63043656cb291299de7c2ca2ccd5a7bd54967887ad32f7f451a3f5e671bce5c60068a8c748884e4f9107f370f3c45e4f678a46f61af27454af345bbfd0027c23478a21d8499b2c9288bca120965c6534754703bc5bf878a7ec5afa406a8ea7b7cac39df70245c6ed4c66aef260e961ce213cfdcaeef3c3113b454c8c9da44285eb673ab058b76aafba63e8518cfec08b0391866a914d050d8c6597b4a989dfd878c7fe4e532069dc148d8f37150f54033e7f1f69b99269bb9a602e9fe9b419a7953c632f6536186f6148b4d9f678375770105a92e284282cabd54697e500421ba458f5add76a7f658e77430d0dbe408fc256c77ce256dd9b6ebb65b53546dcee6d285cbf82d981b5ea43f41db92802807718d6306f58400073c9d61c8085029a471269cd65af244c3ad9cd48f43644e457ea2b53ee2ca79a08f6e3722f59b61a274cd07dee91c0b049d227539d1698dc811d64d4da1c8224231f8c06b0bb1585063fcc4ac62791359812c3c2e54b44e3f0710ff368abf2a21848c1baeec1018723e83dfffb698e8f33e7706331bf6ac8df66925a284d7f3ff24923f1ba778a83ccfd7e5b20d2ef732db0c5640948f00f54940cf6a5472ff33b87e2427af9c5a5b67faa4f159323a1d80d53725d7337525efeb38dd9a44da7e11f8a1a8698b749fcd332e7e23e1b98a6fffca2e77e597ba3384d26c85cb55f61ed82473de0cbe63a0f68a3f5093060555327cd2886fbeed77c09b884b2960d656568caff81fb4dadd0a1e70737a471d9041a12594bc090f004b77076fe6d9f7c1d275a9d2745c968902fcb6346f3f3ea895073965bfbe626d14ece7c7307ba3f89426e8a82928532768b7b2bcfd596cfac899d3257c80afe8e7f871c4c14cf272b69ff96f6cf5a40353972606e1a3d4d29e091a8a95099a6f65eb1b1d7c9773a870cd1203f321aafc6bdd49746ad44075eb9044a39a44d8058cbeb14a51ff066c44f6305d58872832b7e55c9ace855c83f8ccabc8aac547ca478cd90758a41fe5d669496dfb79b2bffd9ee38b4f668b43ba3ce453581144bc890e3e5b1544101c187cdee93e194f503810f14eb8f91a7fe1b7742c76a5f5a0309b97f05e53f63ef5582290da0ffc4d0c4d55bb12ebcc8ab06847793c9bdeaf279382decd60cdf91d00c023d051679b46ebb60281fd6fbee71307d897606f1d123e3b082c38ffcf7728396ea35fd2f814ff2dff8871e09910213c5745e3b6fb99ec6abab4facd66b510cb3b543255cc6125de6e72a307d4b04f0c76018f69b4945766ff271e9b1be7ea531ed4e4a01138952ba0c188ce61430da565179e667abe819d1c668452a090ed9d2ba0b578d323ff662b3bcd5a0a6e5b973f3251f3018588c7167c661965d4d827ec1b9e2c4b96ed36abef629561fa5a0348685e3c58215b265387bb33a6107b294bc47bdea0b7e27f02dacca2357d9740fd3ae1215d27581969dc4a567fab3a47d8b1eb9adc7e26f3a65b9e30d8dd5acee12a177a17034c43c54f7bebcbcfbda78dcdb9917991e594e8a82868aa167ccc023c27b89c205290f149c26da7a04e5d6adafff916aa3eaaf10160f42c4cece9c64e56ed68860357a2dd5db8476e0c7d968471e02a98f39dfda85f0f3490a58198bceacf8797e2f95f69538f050a74b857dbc2eb4d06dff49481b9c299483cff585e3e3113b465317fda9dc1b91c1054555f3917cc3c7f95acc6185db175737bdc5234263f2a2c084f239230c349eca0267fbfa659bd01b1dabe274dc0df46e41de94b85eacb02cd4c1e5c6e8d97be3f76cf2bfde8785334ca1243b877c4053d4dfb98415415e71c618e3bce5243b6f6dc0e80fba89b674ddea84a8ead7d8c358dd8b8d0feb639d3d96e612787af5acd534103a3e82ed5c528464fe0881f70de837b06bcce70680774757ed8467438f4146460833fa0334f9f13034299194e4c4489e42215af0b909631c558a555fd09d4815b72e9acd1bcce4ed32f8f28fe3e057f94b8c0b7158776bd9c0ac059ece87ea999aca2ffef1c8b3159777fe2f0ca51032c95beb98deb31ee1e76284e2829b054d527b01d4d87fdf5c49da0269b6be1e2374783b2d4ab0a0a0c040d440618ba02e996cc8a968862e70e0051c2da5694eadb0e5b759f9a177a92741e9179f7a638be5894026f06cc761316cb1f81714f2b1e41197ad0001a5a4b5b3b233b0c4892d54517546bcce71713967c46f0f295ef132994feeba9e5e8e6554cc82101391eec0850555689eb9d5461a5f0f4cd4e719f92856b4c5a1d265f9e2ea8d07a98aa810c0b06b274658ec6e9b855d582a25eedc520cd76db2b2faac2e5440efe8d810d89a7952dcc9813d2c3b649ccd5b2a6858ea439d69b10ac92ea4adedc208b1ffa4bb8d7e4cd13a2f1cc53bfd975846ce437d84111bf14f3070379b3f0f22d80fde078e52c99390c77308c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"eb7e356e83ec3037e9f7edab2bee190d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
