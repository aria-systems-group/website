<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f1be917c63c111cb1a9d9de2a5c679be91e5a31b4b0f181d994dba6c482a2ef63a350ed173a6ce42dc8d978494ededc8f8e35ca225d995925e1104e4ae70979bbbe9b2254add424fbf2b336d38307b85ec0b9aabc6556566d062178f6ec39aca457594c1f81f53bd7fc1c97dff1974c9ea45143951aa6c1697467f7a1146c629043fb29102ca7802eef2aacfde11d174204596852705149c292dc3be95492b7b19d067280edb3c155698d36334b5e3148871077b2db04c21794d36ffdf047091c636162b4a9557021f7684ba12086397256db1f93f58389de572d9cf8ca8e9a1f462d35081cc72590ac990a26185059c06b9caf101f5afafd7e9b32792b55852b970a08cf0690877a4c84328486af235b6ad062861813c38f77ff0616e47b080e0cbf69b518a6253bbbf39375fea1f997931d066666fb7e98bcb21d5a305cbb3298969ce269abeca5e23ba384ac8fe95ad06887e1df1ad7a8c61a07c4df1e61532d8698fda7e30f18c24e37156a7484ea782993de05c463fb050d000d70f6e9834a06973dd98f08c29d1c7b4a2b190ab716799695f0a169a31b9b3c5229bcdc664aabec3a984e904907e9ee5fb927a6042130a5f762a8e5b07d12bd449d64b81c1173fa78a7bb9b4bd9d29c65ab7b2b7883bc6da64393afc0960df955f18998eed6d37b3dcd6c97313c7902e9bd81a82062fc5867abaa5f731fd8bce77e1b5fe749e72c5b87c0260a40844889331436989feb38e2a788b180901bf5970348ed36a189c9bff878f1815285e2712099b11303b14ca2b3157f65f6cee216368405d7ace9bb20e68c32f4a9cfe76e9aeb545a72763dbbda0e6f4f9a1526aac49cd19635aaa32953fa8c4be8dbcf0b556c674c7d5785ab2f3c0fd4c52d57ef8f63437e1fca187cd769253bddbc5943db5b281cad9eff42948962e4c42c11a76f3a6aea2cbf33701f2587131b9b4af3153419b78c6a1413d231fc6662d4e7a1e0652bacf1b02e5d150b32ba374ba26de4023d7cd148c58a6dfad0976cefefebdb153dbb6c8ee65eebb85bddfd130450aaf9afaad95a7261f5b04c10a1f2773b74f6d3f4a8f5f878168433ad7b4fc3d0211a3ad703584bf02bd14161c1824c47378734592fb03d9e1833f8e9ed887fced910e784115972b3021d69b1a9de7a545b25ae33c1910049fab727ee6fbc94378e72c36add787e5d0bd7ad66bb218b5d0feb62e8cd70476ea757e5cdfed84c250274e6493db80e843068585a40d276989d324af4ba9f12e6a82f64e79c139bfd72e06842a9e920bcc03fff3a83e78ba29bd78a18e0dda946b22fe8c99b23cdbcb038369ad85e955502bdd4054db4ef2482abe6f39af63c7e6e33f91bed1d3525914f2a6476da6da1c2a865ffa4e69ccc09f319512586ddca9354cd5839c6fd1a665bb5ed0cc79cde0132f462984b7a3da75a551ac7e511a4636628fd0952e491ba1e162f3024f0a13e773ca64ea5ed45402c31fcf3295b32771f007bcf0e48fa66a6cc2053d641b0705ccc118c2a463214ae34110741b9499c0cf778b3b0d7463bc849fa3e546bb8ee0278839f4ba52093a8b0363e8c54c73913619aa973cdb52b630a49926800e5186cd44a59828a9e2dd2904720c3ebbea00b066b07fbe89851a8320f43bb87fcbf0a52e9d37d6e479989da1f8643a7f752ab4463157a4fdbae919173904f62d5da7b7fcd1d2744d5998561fe6392c7c9f4397db7b6d9608b3e3caa4aaaac7267c432d9c04732e4c3172103a4aa15752e14acbf0042b6d39c5a8cced25fd3b5d9237514f432a5838589ba4b5224820b1d5d80b0837846f2af06ab0a9ea6564ef4a737e60df0a6e61abeae9d7e3c2d5fac3651d5157badd9c097935dc122f5b33fd3ea85790093d5ba1b2aaad421598a87418005fb612b7626929e7fe9ea4b11bb5b15bb3bfda59fc5726b79e7cb11ee24e3860073cb617db24d51dfce39d70919dbe3b70349afd543c7aa77c7f8c81dc2acfced6a4701e18acb07877bdb346cae460fd588bb47f1cbe723c06af2d5ba3f8807e856d0534b86f1511bd1d99eacceb6077f5a969ffb6c964452b48a4cbd5e0070b63658aeaa6d7702ae2a2f7775216cebf021455e128eeb83cba1e269a48cccf9f53ec9aca37fe53c8db5a2170077d27b62d8f80ddf15c5096acad33f80eeb31add19d049e87a41d3481835a1a1a7a7274a2d2a49b18f41e3175c6eabe34e2804dfd84a89d8609675b378ed6cf1d2998889a6cb00b9b4cdcb2f49bab1959207074cd9d7582f632f73780768059a02988e4ba93487b4619887ed968616e32469cacbb708d5c93db0de2a8f0e028ff8377f6a0688a156a9b05c6b10e31e5d0ba07aa16fb763d894a45f4a19e6df91294bc845e8bff69bb687a22660776bdfa9533fbc6de65a958a55ff785216150af64f6d54dbcf1c2a232ac4be5b9cb2870027fa8592dd7a051748aeb45e63facfd1c2d03f826305c0a7977138357d7795bf273b19802965222c4c397bdfe7c95570e40e1a6656e2933d9a5eec32f12a5cfbaea384d6eca23f3bcde6d307f4db44701ea17f79b054d30c933f196b171a131393dafbe15d718ee3b174b05ee3ef1c96f9f84c9164ec6ed97bc7ab939af97718f382f373ddc0d088f680eeec9519f4ced2e299cf412dc2c7a7428b1ac067e2525e54b061964be44d091dae1372e590f77cae86f2459564b795c405174dffbe8036c9b0c935e8cb2fe975bc7a133126b0e591c82cc461cc587f24990ddde20c399886f06f6da8bf69cb9f75ee2a64363459cbda1a8963c58efe85f68e0aa9ab4f181d220fdf0917f859029cec5767b3663d64cbec823314e0f4480baeb3b4383ba0aff8f04894f2aaad7d3663887a1b81a9f471fe31808530cef79d36119f7fe477297ea77eea8259a8249aa54e8bd094edd79dc6a3802ae97e0af7d2e17a3eb7e812fdaa408ce92e52d6658357d443b0f6b7322d8f15c750e540b6ce4280b2e10ca830e1f0cf43446636029d4fc33354623a298141229c4b297ecc8a4866803ecc43702fc9b2c91b248b00319dc88df9b7fd5da79115744a7cf6afe5d306d65c84e610318095fd73d9ed9dd5a5a95f59e3cb558f34a2207629f1ba4e6a7e7fa53b5f9ceffc5e2d1f2a811245f80253148de02acff994c22e6d0d0b7c661d37f86f0ed04de9e65407bb61f6424fc34e326102aac3d3b93c8f6fcc7fa60bb1c68baeca2b6f13ffd44ed23e74c5b6b938b2fcb1df3a0b59858c508858d5009e027897f53513112905a637aa6a60d1f63f8d81fca1d49ec750fbda75f9bddb3eb18591c0911777377073f99fbff1388a1c657f1e90c17fc80d964a9c7039dea3924b6c276dbdf02762e81f9ee9847153ccbc55f7f34d2e8decc42e72d6f41546367b9f9142c8d0a95bf264521eea97da8ca81c827e3b8b0b11e8e0fb6d764c3b731c287a5b9a086ae47a45c78a85063ebda3cd91916a075bb2609bc201ddacfa47f2a47e431ea3f891fde629a5691a8ceb44cd964060a641ca74aeda950d3bcc8c76ec9b10021f7eb4220c229af04c0c81b6f53fb034c53171fd3b1cae6f724ff412175fc6ec6a2f35e8521bed075a9f32e6fbc0071639f001fa0f0791f3a237b720e19edf91850712b15df0fb9f25801580a2ea2203a77fb8bcc22e33ae43976d42205c1e9b5e2a30618964df05c3d8a12d7aabdd54a232856c267a10a561ee6fc0919a0b3533523e2cc15a3c6f126fb1bea9089d3c6abd3f1162f613d86092ec6f73bb51e3f0a1f8981ee714e92664c1e839e6b5d00f2f3ec995ca931faa0902b5d074b916c5324ab78d8352a4fab172f3e8e56f9b7d44d34926c025202b587c325292ab72b437d85765212e8bbf158dae64e08cd9fc3680d2a5396eec4fad040a285713f7d2602ba9d59b6db01ed0e09c98a4ba8d813aab1c1ec0598dfcb487b1e20573605c11335c58a4bceabc7d1d2c7edef1d556b9fd90500fdacfbbdf91c4a35071b089af88539af774879bdf6ba6dbd95fd4398c5399843704adca60bd127fdd3e817a09686c872fa9f2cf6213bf44d6699e27cccfe687d266ed83b613321ac989ba190e5651c70dd964edddc83dabea0a28315b7a665c7fdcf6671ea40c1653fc89e6e569b10187b7def0515d91424b5a539d77d24e8cdc4a6b2b9fe0f25fd4b9cc442b12a2e73a72baa5ee1402f55118263b4ab102fcf26c3680cf3de3f61491bcc1a0c54af187e23053980876daeb29874b6d62408533f7a2f184b46c144be0822a345bb87f612b0912d434ebbf922c42654886e0ca94d6438d23372099804f7b059a6d031da2ba09408a7e74d68dd6a999fc789e09a584e57f390df75344322f5a424ea4f632089df11c0ede63a3ab5ae3dca226c265d9addde2474688227c9485740f6f7726891391eed84efe436056179aa4627fd8be94ad0824aef273cbb8f4e2e0ea0109b9b1eb5990a3906e2a4cdb5368f54f149be875289d90e20acfad3208f860a265911dcd03a18829876f8c6282763e8fe9ee42f6fe0c717ed72361630ebbe54cdff2e40208693a17a38ad7e5c37230637f2f17b12215a89e01a6aa1506fc3b4bc433b86e3fbd1e9c68f3dcb953fe90c59b7f725f0572193a6e206d8ff8b9a8a3edbb76ccc88a281b87f95e64cf2e693f73f539968c1ce89d6d750850d741c9842e8ee36ae282198dba1d234a31b55075ad08befa71b6651944692cca4dd1047042df0713f547412028afa1c917f2cd00379ac844cc00f1c69c10722ce1a9d680baecb63955537354ef4961fcd266fd4df1c99acefd882ebae12fc3aba728bc7b1868fffa41a9c651cecc8e19ff8461188f48b22c4145206e400f284cc8b0d03a748c1a4ea6d3a00ed072d288fbc6c06397926a630b6cd0c06297cf225a37ac16808e1af71bf1258ab21a5770f52412217b4a3930460af94ac4bede5de2baddb55df70b70500d7cd3e4dbd92c50bd37ec5f0edbbcd90e8a8afa31d8a0ac02e67e27dec1a7ba335ef42cc7a9ecef116a25985b3dc143109e6f747b5f16edb16f01574a6388efa7226a27d517a1be9d51c4db5f46dfec24ce5f6d461c23543e433fe6946daa0abf4410f4b6f2ec5e2c45df2f5160c32bc0aaabf0a821089a55e2234ffe85fb8d116c45b5fc24f8bbc8f6dd157613a2f10f4b2b7bef0af341735ee9cd943be3e49c8ef19d78746f835dce6e7a7916a6a56acfe99c01aac01021bf2b0d6b162c7211f4f79007ba6e2b665d5dfb3468b245f98161604525c4ee26396765413f3f181ce120d9860d926503c9d4be249cd7989820e633bf455f596d4b059cb65b7066b4648c4472a93987db96eacc07229707254d033a19785839e7bfa87e407fb2d93ecc083605da3e7fe0cd573741c7d837f26611922c0e80b6264838b20a403da47dfae44a49be0e64129b232e9e99cd5619a618f646a57bde479fe4bc6636a41811be8af369cb0a188b40d1a3498f7490b45b4d56c6dfbdc7d7306118214d5243765d8af7041f789effcd71b68290d74d659c5dcf315de223b3a6444c7a51b3bf627a3082306f5930e3e1a90b4fafb711d6fcc6431da19793ffdab08d0bc2a0ecbb7d42d7ac7bcf29a1629ef2e4c54faacbabc17cc18e1110ebf705ea7243de46771909bf0e7c0c95ecb1dca5cf05ea391bccfb25345888f18ccf36361daec7fb6fc3ac2e3779038e677231bf5765b0685cc7ceada018bec2e5969b56b7d12c3292f4ae6c2783f5866a7e3ba5675b4c7eeaefce3c50e9f862548ca660e19c140179ce19b1751f4d30ddb72b3e7de380081f61ac5d9a8e76a9b132c6c1cd7a4501d5027c4c019a5221aa1d2d07cddf171a8d4207dd2d07a3184bf3d7d2911698ee3b27be8748ae9695235d9cd5780c42895fe166e5ab011a2806c33f0e6a4a86d60f5e85ae1be29e3ca0a64ad0a4431326de33cda11e542b959bee84ddf26118256fa05cfbf65f947b3041aca6b6562853085c401e3973f719be655dd37b90603a6c041665ba54d3ddc292bfc1ef1118209ec2d28e54da426691803ae597e617aec22e27f3b9fae42bc394126169e14d63196beb69aaa34b760a57781da30ecb4bdcefdcff6520fc0bf68fbddd4b68fe185170376a506ed7354f10a1822a59a68d1cd9e65078e150688df9da2d3b69f2e5af00371bbbe11f2f9a302071d0bf8603784e295ba5031b2c67ae7e1b8ca47247d6c16a7397973466048bad9d25de21e0bc7cb3d05a11801bd96b56976b13d1570b4e37cb1c6efbd9589cee35e96da3f7c60a92b726b3b33f3fabe77d6af2b801725211e7b3c5dd3f008dfa78c3d5afaf633ebce117c0c42f5977d2e18c85c214de253d48c96cd1c898553996dcb164a8a052f93664ebfdf5160048f3acf04121f3c667fd605bbd78921ac980b32f65b63c7f15919fac8f40874542e23743a5ea846a74c21a967d80293ad38d154dfa584ef63328ef0cfeecc0378fb7af7e93eebcb0de5799989836298eda0a53d1d377829bc81070db80a1754b790b2205227974037ac164c6bff3b31b084b0d4a49b12bacae06eaed759e82db46acfc6612a963f00c79170cfbb66677cab579d3869dd57185dc9f40a3a289cfdb77f344bafc575f239444baf8b897833e803a39427945e1765d12d82298d1aace527de7ed9f401c6f2bcd801426c42d4f856a056fd3e19fedc2d525d4b4ee759497e5823ee3ad1920e0bb21c7b7278ba527360a610df750395f8858e9272503ed9ec25d284ef3c324441b4d15cd29ac923e19a6d60b5461ab6490059813b7acd984a594ef76f99fabc20abcbe6710b7dcb6c5bab353dc4a72ae95ab6f732c45630435d1b074c10afe7ebe53a8a96e46f2654b094f298899b9adb7b3efbda96a92d2db92955370e77591d9407f85e4b59540e46a6cef98b6afe58f91ad5e4d66343ea2304ee991a2ac04ebc857930af74d27a00d5510bda9d3072566875f01482c4d753d4abcccc376db54dd84937bbc72f186d2b96e60078c1804aaee4ed666d3e692c389507cb26e88cdd46683f0a708a99233c4993ff30296c69a47f7a95df5ea71678f98e7ab399ed938a664218ed1683ec78da0dadb84f9ea1d0dbae69cb221d442b60f79a72bb1e908ec153eefc2cea4ba200d2ae757a4d5b4e66cf676f2debb9c7f6332ceaf841df5ebbacc1fd25485cacf323f59671e85599b574646edb9cdd4b0322c11ea7d4f13d08318b62f77955c221d6afaf371f5cdc9996f3d7b2ad9dd9bd4e481f8945f46054b37e8717d9b88c406d2a6b1851a8a57bf395a8717146ef59ac91bfd6bcbc9965af3067c565510dd393f26f563d07fab9e40d775793b263c714ab520cfbb23aef26b1d53696e0f84d9f30f76e54630bc020efc07d901885d75b68cf0eca0ee2fe2a2a2e67877abbbfedbfdf569001e56a85d641ecd413520b94e4d555fa5c0442a492e646de8338314acccf55cc033b88ca6565f468a1960e7de381c333006cc7d66d8e15915b335745f2dc12c15561a311a22703f68b2110765ae5f5638764b178ea19b079050d21a93ddae4b4a45dfec06cbcea4f34a70062372370fd40f98ddc2890b5022001ed02e10d22f619d2b78ec5f7a79c13de3546f5634e387b542c50794c1c56dc737d1415bd416646a34a92c4cbf60232ccb8e72ba5a0c88d81bb42d20bfd973c9def30c5951834ef544d03e9a8eab0c2c3a17c43cb7cb0793bc418bb0d381ea755e5c6406b57dd21790550fd0a0f055baf5dac9ecca76d96c311275a1350c1ad5f58529649d7ccbc70ad33f895358fcd653afa3c28795b769685aea4fafe7e10d4d2b0450dfcd55a289d0c1b99b20a834d91fe98d955446496144212f0dfe358921fc6ba71c5171828b7bb59953115b96bbb06a19881e48ac1a04164be21fa1b5ec166b305ac97a55c0f29c13d840c225aa7bad426eaa3e862e30ca37ac727f26e323d16a29e2082ca03fab056f463b37b481795f6e1a05f5f99fa0887c1a1042264ca2820b8e56ed9adfffb4128242aaa8fa27ba6c9f12ad49dde998a0dcfaa6b2237baaa0096f842d10ef9bfdd77dec405e333fa35fac6ba49dfbaedece0418dc54e4a8f29503f74052a9d7986e451cd042f40729410d33f9de59c3194e0e18c7faf3d810030cf5f9b4dcfdbd869796b84dee765d5b7e8abf42e42f7837952e2d4cb2fef4c816c4303cf431a9573926941943cccd7884ed1121bd75c084671b1ffb63b64f96e7cc2712def955e98f624eefb860217d5f05ffd5ce0a766b38a8d6224c7496420d4413ad823da747051fb187cb0ca72247409b529174d13cc6d163b9625dcbd1f93a508fd9f4045dfabfd5e255c0d04a46a81fdde41171046589a95e7e72896765962af0fab4b46d64f6734c8e62d6b09142ea6b838bb7eccf080e7f156b50f030abdc7b064d6134e2a2f5112474c0ea84b5138a7e82716c80ca14e0b4eb369e850277ca7727eb56ebbf5ea4cea9ede23c7c11f0a13788d9e1bbcd57a4be9083816f20b0adb9e2ff13b8b60c337437c33207be69baff4a71af02805f3b0722b67143e097f7ae762ebb80091082c51df0e04e37459f5717f00d55ba1b1e79bff562fa369ae68c3452bbb0da8394f4e54d7fc210c161bfc3b8c3267c06d9e9474c021be8dd4b2a1c368b71031ccf8415e6e944282fdcf87a44de7456cb557f8615c53c4b798d5f244464bc6bb6e6281b8571da5bd5008ed15862612073e1c5ced41c802e3ad7ac3906a4526456d0d3c271f1dde48af84c5b4d47e39e713c2ec1e4aa0cb68304a1aae150679e9263fe9dead741a50acd3dd8faf088f613f98e8ae0fd6251daad762a56a90351fa6bef9db7e29146b14a98b0c751e6e382cbb1164f14cce0b03d8bda13295b3f27073741c8d4bc60d7b5e7ade134cf13a0e0ffd23bae53e8e18ff4daeeb27485e756044c89cfeb7e50f71b983572f50fe4e67c4bc4fb87b6bfd6339cd5e6edb6b4fa94c9f4fb36f74c1a4727150d409408f253ec6d85aad0e3d79163aa25b2ebb50a947ac8daad1891a6c86025780c162c3f9e0f8d882a85fb8eab778c6ea71db98a58a9efe0cf9f7ce0f490d1f2c975730f632cdb2f6c4c9759bd93cbe5216c9e2fc600514669fbfc296d00218552eb77163aa0a6b12435f2f171883a5506080e70f09f8798915104d810333157c8e433d0bf62aa687a76ce876709a5238146949c5050386553b0bf085f46ec84488fc457491cec6ec0b420d0d2a7781ae9912e4a242451282fb8b76b90d767ec6358c5556e140051faee04be4681f2ecc2d30d7e2114aad5b38d5deccb557ff0667aef21a35e217d70f7147cc87fd0a6d597c4d347882a1f7208905bc310368037cd483f112e8ece6326107991b276369885ae30026ec0195976fc9744d00d0b199f4a0b274a53f598d30679b8651e016c425f411caaeb4fdda75aabe81e7008be51895afaa23c06dad4b76ab1dbdb84469bcdd4d24a990897d5dbca463bf9528f595f2a684a4dbcd083ba723cb25c8606a80ec24c6ff3ede0914859b11963e410109ef7e5d88d2e1a0f5a655d7eed57be2dec90a314b9f3ef07359c1b83d28eaca0745310a2357499388413a75c3f98fe9fe85a6d9b34711446c851e11b03631bf040916a4294bd3af143f8f2d495756f70a8f6d826c41e4719a48342fa6a75e344d51ebd9a0da4cca3706597fdb69c136728cca94457799b0ab4a911afb16b768647c84bc9a2ee9c1cc13da3f64ea965010944f64768687bdc2436d30dae309839d502526a6cbe4847553e235387be75ed83b10d1364f632a0c539f735372246047a3d57a9c2f42c639badcf3c4980292159289ecccca778c2d574295e30c37f5710155502749ccce3ab610e78b7de3bcd7576830eaaa9381eb93c60681f5444fe9adb20c59490dbd77ea9e7fc9cb967ba37171a74ada79208fd4ff7685927912a9fa02d9a12f22d63cc384009d0d1e0d25b6f3c10e1024f6a6ab6c7b9aea28cda7e84957b3a2a26cb51c48ce964f197c6407562988774f796d2b290416bbb253d5f7fb70962f34083a919c42d8aa3947ee61547586f0290d636d71873e6e72f6cea4b098f07858a0f2c273e383066ec2270c3246a732bda79fd68cf7d7deb7175a86a81d08ee3e91884b3c60be041cc9cf37facd8c5f191489f387941ab7a5f95beb160d1cabe28314bdecf6c2a4b374b776ad0112ad7b1cb230888d5e1cd8e0a6b4b731467be522a67541bcada2952d42065d57a82b2b0d822a1612d502154cd15b2b3e3ac8e23bf151f9f66a25f7e76a29a6bf462d82072f84ad6931254caa891313dbba8f58ac01f8ac33a1fde7d7cb83c506fc2249c3805832ab2f846873a3ae94142e4104777f7d424fc6fbc56ad2406d8bcafcfff04ad49f121174fee06738cd4fe9164cb84413839c45f5fee9f401c7378c0f709cf29eb89c53ee5bc1e2893ac055a77b4515afa28854581258ef6a9278dc25b1d97d130f4d9d32ea97d4f66dc2e142888602126378504b5b25f65ecff97696dc6c739abca54939d7300a76f7fcf86c1398111e410b7b1670b53414011ff3a6a84e08b5cc16d29e644c1799928eaf1fbc7dfb8a4f2029b94991f0dd4f78061d83610d3f2780f3e515239a2ebb5c9a3fa97ff186e77aeecdc56f88e4d4b8b0f01e9a9a43721a011734e4253ffed511beb10e614b985e610cecfd57352073f3ac8994a0bc9221dc68e8a17f07b2b17e6411dfa17c1756c0d583303fb6ba2a6cc56a4ee76c5e3eb1e94f0c4211c8f2ad9444750be664697b5d3cc0e0457ef8750ecc0d6da831a6ab13b4ca50fec2402a735a1313a0151d161ecd1f20887721fdb8e1098d96328baab44079e740d686430fbb9c45ecaac13c7f03ad65206bac7a8fb66d13cc18f90d7d77bb4b7e516bd9ed6b0791e981d34e8442772f179235c12d7df4009f394ba618e286bcf69ca92f0ed1060b6d6f7f2ab79971d50202c16e9de3de4f2239d8031daae3fe51e7ed55b6f9b3cc411e20d044bf048d472b3c7b94aa71c097553edfcfeff9db4754ace8b84b6615bcabfb7fa09d2beddfee6b97edc26fe87177b08eaabc0f6139c45782133c99290c16c727c3975c2bc1695bacef00873b4efce78479edbd3fd6e0287664b2850adcd5708c779a040f17a9a83edaead0678e247c6e1b622438de5a2cd26cbf77d5d209afe76f697f6ba49421cc1d27218fec9faffafb3368ee7a4814be326a5fc3c9bf40ba791989cc10ce718c0f276d620b3019d425c682705baa23398bd8f24aa57342b48519bbc090098ff455c16abb973caf1644492ffd94e656f2a8fd49386900e118fe0a563b002dacbd25fcf6dac317110eb8282c3ff2212044bb4085afb7b0106dc2524528d3cb94a393dd75a7af96b0efa7342125cab4605756119a07da3ecf243b40dc8348ab33bc35dd372a38b88aa1e2a514831bc14397fe77c9cb6ea8ab71ebcb8e713b8b4d0024fc54ce908d7071ed61978e0c9ee2101d9dfd8b52df02bdc7c7c5abeb4ac4bf1811893deebb7f383f32dc30361fa379086a6f5850bed5ec386ba9549bcb1aebc94830174298e089c1f1c076deb271b9b1b2574a66ab67556dfa4da554252c4fd8adcb620afd6089673e096c895c02a80a0c696dfb8198187fdf971703bcb264b02a5b078d1167be5a65249056351c558664f8d9dd5850087a1798a023bb2c4573ce33a39291ccabd074f82b811ccbb5e0ad249d9ff14be5eadbd6afdc113830e54023453a1f5dbd5e96169ecf1429290dd32bcd4371deae7e1fb692107888929a168fe19283c562ccd170e400ec5de8141ce013172f12e5b855104b8bf77f166c82d98ea66fdfdf74aa8486fb7a89513bada17514ce3c6e1b6d9a289c5ed0bbf4c5561307d4b3360a6f6e137b488aee6a1d5c37315cfbf250ca668b08887965ca3404a210feff3669781532bdf140c73ae47f391177ac5bb638809db702f0b0f571e52a332270703bbbd900c05d3ba09ad6b4fb9e562cc61dab3daef6f6e3ca78879ac92cf8a8a758c5f32ba8deba9f4f0fba4ef941d2b04b89530ff2e5bf366978b5287131d8bbd2fb44c5b4e754207f8aa462c52b3805e8843abbb3238b0596cba45b535b1e889b93ad434c0e3043213412ca6b6d66419d5541769b41c89674af89cf6f4249ce9588694e06ce5a36039933707dfcbe343e3203dca3cd2cdf7968ce43194774a2ca01bf27e826b522b5d10a256909e85ed6306023d88a2cc49b5af0ec16a9a09cab1ca95801807c67e6bd46f73d94472e0108e033b4091afb6cd863dd3a569fa44d565c978fde5e01e16c1c1be34d78aab8dba4ef9afefb287db7601c13bb2d1982181946dfc8ecac27eed9bfadb5506b7367797ac505333e5dd9e74f9f7d1d7488ed6726d5b4e42ba88d32419bdf31a9ac212cc986083c172d0915e752576f5fa77ae58e7a41585d6df8673295c1ec0164a44714314c49b1643995725f474700c6a34e0f5dd322f2b94b9066fdc5dc5a8fe9cd30b0e3d66d2cb512e2f0308d8ceec8b39233e4d0233eb7fd71fb105a012936edf9c78d066214189e42b266d116f90cac12792ce9902db29bad4fb3f3197ad5459a6dbfe6a748503cd3a2014971a7ead0acd37c47db4d1308896fe5e77e5a26110ce2a98bb9d10b4aba9dc8a41c377c9ed21bbecf27f83f22ce3ccb371753b93ab4d6bfd6c5d550331e2f8a459d3af9f84e7e027d3c2c674349b33d4be595685ab0150bd91191247c336d025f650a2662b2c634a213ffd8652dea1329b04f24c3868ecd652b2f185bb9d26ca80d1312139bee33f9e11b487eb3c58f477529e1a90b89650dcb74c52d287b1108c9054178e88a8ef693376bbe2c4ba92558c3119a38ef5bd4aed77884003c56c351945792f19b330b3195bcdfd0529559a0de025f2fbafa880f9a9ab93ad9d43d61307b0f66f9235666716c0fd6f9a9373015356f40cc22cccb4058987bb77dbee21552e2602c8c8aaad048ccbb1e0e39d969828fc55321f8d1f4e42b577f7d398379e4589a7c12bc1870492014b8bffb12a3867b23bd59e97470fc1d10b12bc4094c1b9c3fb5314e71794f89c8309db521c59fc4bd5684a4b532a7f55bc805cf03369ceed84d25a8330b9ad779da7a5104d106c100b016aa8f61b701eb77215701556091f4a33424278915fabda41b2a10674cce2a38248e0a69852506d9ceab509dac74f9b12dbf5af696635d0f3a25e11c1254a64e3760c5ee2ec8b5d013f7eaf84ac795a203ab2c86634aa12571079450aae52dd07275d9059e792a2dc21eb16888bdc610192fb3870dc0f5d14195d1e30c3f2ad814b10683c90989e6501376768a7eb2b21646fc5a016b58517a2e49084fb48be59b20353797ecd66cf6eb180c7199c8e2e4f02d812a7a88f2c092111262a4335588aa655dab62d9d1b40cdf5c7df9df68e43ccd452b97c38d0701089fd380ac0a4e185912fded0e526d9a413d1fd68e03a42a5bee1b928c26677eb0f7ac401130deace08f373681817427930a457a00fb4dfc01c0eaf3a0d3626517418d8db2535f3ff562726b6dafe989c9f905348b322ba5492ab67301a2750f2599ee9edf3c36e9e864f043509954326e2d199ac5b5c9f05e0c94112aebb6195d244b89b4f7d5fa1dd00a1bf69745be1d0b21262c56bbea541283ca0217eb1c1699e04f965c04a4c943e589fd008c905052dcbe8dd9c0488d9c1f77ff149caf290da9a8d763c8e6fc50db69cb3b12b93f5239dc97f2a73f8448a722e72fa22a6c3fccde5e7a8fbad5d95a30b9eff2ff82a43e7848dad0792ec3542eb05c64cb51100660fa09fb399a4d9c9cb5b12f2eeebe394c88e55bbd4d7a697d0e99b2a702eb4f9b045939ca8a16f13e04224a313ea7b1e8d346ab321ca50d531becbd0bf8f8a3d1512c29e17930a513e79403bb3d9dbfcc3d32be8a66850405c3d8cc4315d04d022fdcdc5cb1b9e5b268de4f772e42223f76c2d2f52afdfd017e7e46a8a9934d339e07725b080efb1eb622a2b70c2197aa4ce2e245a3ae43ba575536c3004c5b606a382b53e5fc1be0a8ff208638e92a9cd1a4acdd012611a27f4090e83116abdc191fc76b07ad9afa0b3945596d094aacb2f183caa58a85089e7c8660d65af063c8551684c7414de70d42f983a5f90869b60137f0c49628dbf3558eaee13c983c2758160df0aa789e9cea4060a36324298be2f179a4aa21cdf9b88012aae2866d2ab60cffd6f9b5a031dacd06b86c267d3db02b1b9b5a5e18789138e31537634f1d372200ee7db4f57e978daca2c4206fe4532cf4f518167cc91e1075745cf132e1d51a9f6a2ec026713f5bbc51bf49fb82ed47688c3847dff55457319d45392a4427c075f44a0f0581c61f70adf9033a4959eb0e393f1c60bdb963b4a31457f6082a10d8822b0e42b5ccba746108bcddc97ce64fb7c94e586270f6f97fdf1dd4efe391971db6fb18011d26b6d19310ec3f48ea637ef434b13e6cc566539552f2d80ff9cd3dcfb7f5e67383a9387c30cbcc6f1f6425b8f979c075df6aa3f5b0634453e1da5f2ff181664049b57a8acabd78c1d0da1b3281817139b3bc5f6c3206be726fc3435f03b295e168d3de9ad13421c0a3a8b6a7c301e75c0fc2c0e80a9953f12cdeeed5138d8603ab57b3203b836c7f823a0a29637b5fc3adaf10ef2d80f04a844fadedae47ea96fe5b56f542f20c14168eb2eb1e3cc9b81656a5e6fd6342a4bc81cb4920c455e51f500942d24e510f1af3e2bd41b9b0dadcbcad9ad947bb5ab8fd09fa030b6f4fca151bafb27162537ba8848215c21c824e44203264f100a9880cd15ff426f1f98aaf75b01f62f4f428d94e9b70dec37bfa48bd8339c5bdd25291799800a787e7f96b8e11dde27acea9fbe129f16b436cb182fd04eacde6a3e136d666c8793f4abb070406ff1e5b4c017825dc439322cdc444bec762b49c6a8b8516820089a6104fa59d62da49b406ba0be1e94c6ae282eacb7efa1fe7ca10e7e0e070908d39ad2d2cc0a40dce5c1e75c4785f6096089688d7609d627903303c04f3312bd34f13b01d567a9bc9ae28880a1ab3a9081864b095b5cdc89ad0a070dcb79a137846662bb4ad29a99dad0067cca8e9801dedab26be8637759f48aed3fa41013bd68bc39d22c753ccaca46d702a007e6c38992c10089fe9c29b4be33d92afe00563e1e3144edd8b2d680754b6e414451456b0c235c564592ecff9df590e3419af483eb7609a392098177c1fc72326313c9450313dc1aba331f932161b1654d2d5ce68226b217503b1429ae842f1bc919d94039e40a690f2115303e9bc107890cd8e0dfdedb9d177b334bee953a4d2725a9966c679f7df01adc75b5f369d116d2afac0c5a64984837064025db75229109dcb3d29835706128d6b147e5958225c010ce5d6d7b6e2b4c950e27f1870994c8a1872011b14f1696b0174a189d0a29d85fd5d2fc1fdc20a6dcfcf8436dec781271ebf3a945bcab17ed933ddd690ee3fbde2500991c6b9add60efa1b8c6556e9781c437aec4858bbdb941bb714b8e1f91a2d7733ecf8926cfce282af283738ebdf1f07fd709910785c6fc8b7db83cb3c5833f29c50a40d37ae51ad746042ec04e86bcea5ad94aaef04e6d026fb52711fe52af5906e5ecaa9424a368d62d24d08d3aa06592f9b9bc999ffb4d31f8b53b0a8cf3886863a99729bb52ca5b42c25997a7d37f3be7427769943641d3c24605eb00309c9a658374c82b0bbeab26792dacdfc92c85e190022b61cb408813bca818aad9bd1511f3492b2a55fbaaeffbf96019cae0a12f841876f7333d3a2fb476402bac2d485a015a702d3ea692e1fbb892f0df81db42fbcb8f167ed000c863e9a540cf93c73d3a96525a2519102927e87c6f24aa4d036d6cc3b8e611be3928b30c70f4179265c289e43c96988ef9e2597ffcc85f0c8824a12ff591fe42e2e76dc8dfa202bfca4f1a7d5e91d0c776cf251d9e67e213300f43d8c153fd6e07c71f82ef462dfa57ed8164856c2c3edaa5d8c3958adaeaf43de547948bf9daab921a0cc39e054b9baa46433d41b1971e45210a8bd4254b92ed5e7affc5d15899e3414180e4fb90afe497917eecd553e7d6b0614993926c137b676fd78df27dfc731c2c8e63f72645241d72a5e7ca0f773c74eb89642510ac19a046be790dd42d9446f37da930bf131302028a593c79f5c698093fc90947353f5665a6c9e818860d4c5c0058cd2a83e9ac182bdde921943895a1803f6106df1062a38023ac565092e6944605b021652aa5ff379c3908e88832b92566546f8aeb04b11cc6e0745e77574767117f880e648be1b70a68d4ad49882d8ceb36ae6cf2a222b6c6890277b1058256831dc5bb6935b07cf7985b71f0babecb71dc098b9ab359835b29a3e72c96d22f23294efa37cff7a2cb4162eb55377991d3599b8ea6b60726d6078fc785ac2115fc695cdd2713f3d95830544fff769b57826882dd8a43e9aa95001d1432a413428e9525338e6390fdfffbea381de9836646e5c8ad698627f507e130c1c306651b8d7679b99827aa33ef65d89f83772fd826b381ae668cebc957e4e9dee611360f09ef78a5453ef6dacb70bf0cbbff31bdd7453772cf747aab9ef5500310c7358694eb6ec4706f9c415376e887d0a7abadf1613e254d09ebbea287fbb08f3c25b26a7d17e0cc029383c09c51eeddcd6c0e7c272424d30e30c936f9e2065424bc1725f7265314f533956b487b34de6c0de192aa4f24de24414679a18f30ca785666ce08d03a13614413b7d2d829cd1824f7da06d72d29763ba8a0e0d8c909ea07423d7cf40facb80d4b9b7181aa824ed0d0967ac12111e517e39ae1646f04c48ce6967c3d6cea2184a66f6ed9517dce14128b649dffb4c3bffcbddea44fb819451809ea9eac882fb3d1d84fb44fe9bd60d57311dec067f56c2a58fb28554853d3b55783298ec0b3ed37b15178192b350a387f254616b962c7a8f70162ab8448ac14ca78c2fe19125e1616ff7223cf4eba397e996d7bd45868ceaf4b227977bb0748e2890a770d80bde4cf085a44ea50bd401151aa96836e2c5e6015377e74bd00c69510fea638f7831d759a8a26cc38d5384a4d179d8f94372a5418e52a2367052fbb0f65ea51991dc572760d1af4d8a73b0450bd0ece7e737ccb11e6e1f7f329cff8b12bd5522308bf7109fe115425fba35ad3d885d10a0269e5beb75b2f38b21dc756ae5a1498507b9f7b5ebf77da6afc069e8d22cfe8a7d4b5ad65f03848a56dd068bcd808328817aad4908a9d6c30881c27bdc6219a892d302dcbeb6383ca88c7ed1ba0eccf0eb4dc40eb7c600d5c2f9ce291d8bc37349ada77d40d2e1a3cb21da19cada3b18ec1deacab35dca47ce8759ceb4df50e2c20787919d47781cd104c830d0999747ae558dcf3f52f0b92a813125c41461e3ef673a67e8247b74e337a45586a398805c496f16d61ef3b7b1ca883f0cb53b54a5ca15f1770ff33743ecc18ab60212660c26a4319d42c0c31c6ffd5cde060419d4ab11cc966e70ab9242a928af5b455e1e14b7ab5cd3c46334774efc9c96acf71bf26476c3ddef0c389a34080a2cbb295695fce960257347ad7733e3462ac5a2a4c8ae0a16f9a063e60e2eda0d69cbe4a436893520da8567f12f0338fcfb4c98047b75276a9e0a80ee29cf662a22786f1e5dd0f231f33c54cca8bb64d1991e3afeadbfb3fb5b242eecf328b232b550f12f629c6b739ae3f867b1f9ca7b421fd81d33c846fb17e8fabcbb6396c42d459fc9425f9386482bdefb7784ce492f3208ce545074763adb760fb096303600a02d4d7d1f75a3dbde95ad9e34a5797eee2da7054df582a5ce5847417050197da7eaf7145944c0b912d59e4f1c47660e7f5e787c6c03fe0907036e119e9b9e5b4b0329bfcc2a4f521a7092ec2607a60905816c4b68ce571299291de481af0b82c5c5d32a00df6a1332b77ad90ce2ab80c5ffcc869e61bb0f1c40dd18c1dce0eeac97c4e6d1873296897d834eb8d7cc897a565a0341a5fe010818a92b963766f8740e823fa47dcf141352d8e16d899b87df375f109d07ffe1ada079085356efab4ab9ff133c832ae3c6aa6356be861eeb9e2591ba2ff93dc3dd111e8c377aaf3f53e913c800fe20839d28ca2fb58dde7a66b954cfc20cc1425eb10cc2c3db260a1e207009810c036e8c9e83ad5c185a9e641597dbc450b34043bf43047f2f59131d76093fc364d64f0c82c3b3c026f5ac3f3375431b197704dda8e89447f6d89b8c9c0b7203ba24b6ffcb2cd88bf5bcd536c6ba29483cdd7e60f1a7a492895ac6becb8d0f0393b4520517989c37bab78b69dfdca42fe5e1f4903a090df8b23072f4f8b8c7f207ca89bb250e252e3a6aa02fb043e71045d0f1657ccdbbf02f19595b3fd36f02793c09d965335fd2c8c127c5abca3a457c1439d3be150cc89eb5c10871669fe3d97c88ce9640aeada56a6212f2eeed7a0912cd6135174be6c9050598d23da8e78143b452f103165d8bc90d6420c9e93f64f332f6c35f503796cdfd781528aae601ccce35f2e60708864d8bcbd2a8837d5a52bfc3c603b7e8418675a0b70e47ce878bb59ce826b928aa7020ea72153c5b65b29430a95b31dcdd35a58dc560bc78287869076f5dcfa659bd95b0155025ac6bedf9b7042ebf2cdcb4b498b7614af1ad49269395758d96eacbcbfa02db","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ca178a15cd505f3a9e023e2772cfe113"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
