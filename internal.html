<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"38861a2320c8abd294ea152937c9d05d0d5f165e2fe14d7023526f9bd358b7f5dd902fa273168c60fb431c73d52ea36565ca6861170421fc0b70564ed99491ef39a12ed773899db28dc7725884e2f6918a996ecff4829288ce2bdbd0cc549be83f533fdc9904e1bf6357e466bd3d24a8035e7dac0d26214d3dbc4bb04328917a896898d6c54e96d55839afefc12de26c2f0eb47415feec9a95d5fd34885eed66ebf2be1f6e7fb8d81d51363fea314ed09f4faa477929e3f99c9a17bdee2c96e55cf18e949b409bc119a73ef57909508fac520fa4ca2c9059b60c80fbb24fe5bb9d1cb88fcb87e60836298a3b8b6184b26e311965d134700d009d66eaec9b8ade3a8d6d3a5048ba907945de284492e9285c10ead54452fdc9b7764bb286a2109ac7382780a31c7164c7ee509c0e79479d1a0bd98b9fe9769338b2d761dc5fd85f70e3939dde6b4e71eb0e2b4b5c0e0ee5aea32f10903d3d9bcb735a3e14543c47a0b362a05d2a7e15be59839da84ce5780548b7c62e54627c956ba340a6c6b8838451ed632c3693ebe0d173fa9682744b73c048586fe922368eabc951b79b74604aa5584178bbff8f019d10a2d955ca14a13a1922aa165da31a00b86e3ec5dd53b84de46ad03efc54d40f2cd5c437e25f8ea68c321f74a30948bd8b160ddf0d732afe11b2e1b7fb5c4f02241cc56d062a5f562b856010c1175ebc8da76bd665dacc528f7136372a9d09583a391dda0f76c3ccbaece5d578b1ba6374046de1c548a5ead3da5c5b2b9eafa0c6a1c3b2596de67c7984c55214c1ad6235185f7797ac4801af29ceee6bb3c5a136bf6f902b1b2eadf93936c41e73403a64956efd95a2375906b41680170375ed6eb7e4b92bcc7a18dd4f8156d3cd2cf5293bba59f03f029888a03e12e5854532a95c0972d47b8902db9f33de3939c260e50ee50a5bf64277ca4ef9b196be3ddcf30ba27c077c5d26c36b775793c4a2dde60958d4e2f9d9d6df284644fe33e93e7f7dad92b5095f41e937d36a9002d940446e562b56e175d5486e014e1af559aa99264969124419a1308d41a61c234c58c8d93c7b448e62c628e6717dbb29abb11e21218b736ee0387fa0bc8f4f766f1c85d95719a8b5f3e150e0b638c9eaeccb89e3e65fa4c3bb68a45f16d94e18d353f8892b98a1b83822a32027349df2ca815f2e18d9ca255061cdd228a3834914aee63bfb781592e15362386e4e8807d35b1136ac9d72e6134d5c7ff183c61f58da22606e96f230744fa5184ac829b58af38bb7e71d113b06dcb4108650353e72a027d597937001d199c068f611a2f5ce3d93c548962e74daa16f631a1d19cf6366df674c734ee91482f930fa4e20693c7d0ecfaaebf5ae69869685a6688c98001c604a2dc4a2520d12ec0c0a54431c304c11d01384c267b3d1a2c5f7fc4ad1f82e55e6113350e423324107796b2c736de2589c9bea6209939c04562a10e6c6b756655094752d082c390e9c0b6c3ec963ca8282c531772d4a6419c2e78762b7603b23d97c429a35dc9460f67e8bd14e75c503f4e4b1c892377453d33fe594d42c9979ad06e0d0f296a4d6ea19d0d8c64a08bf01817c7124e0ca12e335408a641395143f2ea7491cbd3ecad866b7cf748ded7e006f4b874400362726a013ad032f447fd0e51d281ce4d79b7bb1601bf26cb1a524ae93b82ccdffe3a20055d7f083f6b8663159cfb779b2155e5b76654cc070278fcde871818cacd4e5da0cade6457a2e82f5010075d8a5e6a8abd0a1d7065f442b470d69433b4f52afd1719b9f058acec7fd7f1e3bf5d39963a41c5bd53cb91d50ee3fa5c0686d3f214f60b45fe5aa03ede11e47c3751f61aece786ca8669cee54681188e2e106f53e4248323b391ddd411fb9adb87750a49b3836f00c5b1da7838b97dcb72036744f129fb4ada85372317ecb03566bdd4ac5db31f4a9f823f7fd2ecfe38c09894f6e4cde54a3ffad420e9f85022537fe8a62e9bf46e80081fee079d412adce0006ad9713acd79a0b83349c4dec2e5a82bdca6dcf7f6235e4f86652e5b311295644c866f475540d17a6d62783aa3d2e84301ecbcc8b483a6e31f13d28f2f09965078e9625ba7813295bb858cea4fd5a7f10276650d2e210120cce22cbad8f5af5d98c328b88bf8f2bd71bc2bfa3a362653f86bedc08aa4c236c0cee93c72ba09e449b61485904ed9ba29217677c19cb5a6f32347cae98170589cc857acdaa8f56b542afa19f0de03f53cad80292ff12756827c1061819425a7c3f8e6eb1ec1814a946e8c4e13dd1c28be546c3e93e6ddb4c042df4470a7aaad5abb0b11642a2b5945f0c60fa8eb81649a3e255bb81dc6dfffacf8b89a9c1fdb5feeba74ab901b3f5529db447e7c71a8b6e0efaacd4bd8dbc1884fe712df6cfaf314a3872faff8b24e5f95d7b18f1c57d34eeb7093233695ea72c71bed276f6cd234e827de29c44c5978c1ec73c5a9e836e78e7cb6e76db0f1670518dcb77fce12c801bd6db59f00dcf6dc7df1b803be4d503d4acc9975d793c6e0400772c07ef382d67f6d8da338257cd6d090d9d6d111a324137539b0c0ef04b9e395ca4edb464782644a66c1cf31f3f567c9f46757451e6b466d42104632eb01d7be4578c1c9e50763f5df19f0acd30e796cf2f2000c06f87ea2e5a96d36584b4ad38fe59904307377e28469f6767ece08b8ac854c9ae48dec196d36ef271c05c96422cb2e7c42c0a5169dbb3843c066ef23b23a2ea86aeb64ca024febb742228b082feb9a6219d07cd3b37bc1779705be6730209002251493e6a965c74c9951301d38ca821be601e8d02d96116d5ed35cc66e2ca3b00a383643d088b7a5ee7ce0e86067e566de540d2294b9cd3debd1e67acbef21aeb8b1a19474d369fee0f98e4263f558a671ecf834e3795b6e63aee2ddc9ebbab66d53d3cb4317607e92004360061c088c310b5d544b360875fe5037cc0d06376f80afa22738cdcc37898d9232b1e54bf32d1c147c91addc167163ad9d3d5edeaaef9b8b1859a90fa9acd157978b61ff4a8818a3c1ed75c8e5a82a891a486f8de8f743f19985b3183a1b1977206b1f937b846f5ac298bfb61f27fdebce240a3cf122723eecb8ad36a08fda8a34f1e56a5ed32d29a2213dfc2ac7b3d3ede6e244bdab4c4a8ac9a9d3faf53c63476860af95c1ff01e0a45ab286830434b20bc1d971aa69816c32cec9ec70c39957c00355996c03ff3515681a7139e6f57f9352b96cb571c85532a03735242f52b8176fdc9c6163a0fac505cd175298972b3f6fa98bd30cac242d83100f87324ead2cfe227776f2ab30726833b8a9ac4dd9174cc9266fdad504df90f9684cd6fb1814729ce0916d49822497dc03275063c83b14f89a70abfd947476d4e1bf9723655aba36bad7b9f27a74981f1c43c795e0a7e6b5b1150a02276a567d3e22e360750fe237214be2dac38581a386c581e117901fef04658bad4d2b8c6b1a6e5c820b36cfafcd323557c8f6d6651f0f9e18b4cbd62767ef809724e5bf8795821c409c3d66f6f18c9f4c5baa1ef47bdbd5c6c62ee6b13075a66637586acb8330bc22878843753ddbad9612a4ab3531316623dcbb8fe074cc56dfaf48efdee2ff42853de4e58d5a495df65672506d403afe1483851b6f1a3398bb88af2f93afdfda86c90c016241915f617f6423f633a1b5dbbd6db807db497f1b9aeaa9a0c63d8ff3994980c7a9bee32f0c72775eddf6eefe1b00cc20f46522fa5e296cc934c238002ea381f9fb3768f52d13c1976fb3967c84c40dc93e5e0ac9cf9249958e61ca6e0121a22de7928964d27ab07dd7e1c2a65f98c8e74ab0b0e3c58f0202ada17b490f0beacc0defd04a3df7776e23e21dc3615e4abc480661c0b173e796314de6856749dbce42d0155c6cd796230c8fb6bb1987a342f75f791aa2b6ea719db0ebc9e1ad0277eefe3308ae7ff35b67ff70bda648b0df940ecf6a27428008350b557077138fb5fe0667b636da8f405cd0fa632b6ca871223fa8c41beda9ac0ffe56587ff1f354a3db4b2e469ae24b78c7a7f73989f8cbd55d5da3f3ad91cc1ac0968725f86ff4070b6e0023694ff29f411a169bbcd8aa0bac65a49570a0fab1dce3671a80b66c443a4607a92a382d6d344bbe657ea0919d0958e65bff7020272794235d98f0e333704fa00c7df60708b70fb5c41c87c0db6d0b4d53f5942535e48774743508c977b9c8a6c4adab9a56f03c03f6a1b6e2c5daf3a6ea84510222d54e5b2ea40fac3f27aafcc973cd6afd438ce1026430a3ce51205a36a9a27f3b4664091a4b1159802160c549e81ef509ec7f77baae59d0e132ad509d83fe77cf942fcdb906d61c0e543f0b84b3fc21e54d2dc2d49c9f0ecc31e9563ff329b86fe564185cffef21d1f44d90e56cdaa09a09650a0d45253980419155b830d782a03e6b7f15e78cdd421a0df95554dc9d6aad3a534487706621d40f1ae538e70d7a5754e75f4a72f7a30ff742f66ad4a198bb0b7796214b791019a9e2447e52429a52fe9054865247048955fd0af317c34b1c68e7c3c4c1252faabf021890dc5e4884f4355509ab4c2895b62fb9fc20fe047b01d2a527d149789ee82547ffb988964d7fc475d1b128c17866a3e3bbfe481416193aba8a778d98263330d4c018b15c411b38a7bd6b1f90080d1c206c1e6a60fbf0eea8faa8d4b94dfaa4b9d415719fda140997faa8337e855732158e8def8030249737c41eaec8c0a5361a1b648c2b807479b2f7240442328836b703fab9549ab523b124e15a7a5ac2d9a84574dae2eb57067e1d5dd184d9da2ebf57e6e1340e4e18df75b9c51bae0f552aa929d6890432fd70728816953d3025ec8ef4f89d06d32d265af1d3b7764867c3f5c4ef0a8f7541ef36da5de0ba7af8d35e557b817afc79325f4975cc5f6142db6810e6434b0a438a23af312780e703c00ee6033d195e027f3644d75e563dc6fa4f459a149ea32e01c55ac77b0d0a588bb1d2e6d24ae4d9f85ad93878f98310e3aa120a3e062515b1f44ac3fce73e2e91ae1572042049fc03b33ebf969942325e1ac8fb0532fb41854c0f4aa29636010df1e21fc7e6b28b79ed603719368c18743fb77b8ab5f088946c28b557642c8cb84575da9c05347d47a6684215107c9a4b80475bc0571ca1915f7fdad90f4a62d1663d701346ab24b4117b783ae99eee97556ed285dad6369806ac669da1b153d6395ca76ce3b0892b22f76cf83eef577ee835b175844d0591e31aac6ac0d9a3bec85a2b89fddadc881ed78c61e8181581b09bfa0623ee5a630b5432451db5b6ee4b4f17b5fe227f1979a9048b2955628c5d7cd5e58465c83a7e775e23d82cf3eb6911d3b2e376b92be86eb5ab400ea0cffe2ee3c8678318da22ad61ce2258aadcc6c71e0f852bd08bfa67f37d0c4d231543db0cb72b45fa752770b27963aba07a92e243257db9f2537316fdaf16c6b401e8b96b0fb4ea7366a2f1c0e41ec5f29c8c7101aa56f4036b034992594527c5321342598b3aa8da6d708796f487e00d7a2ae371bef5318ed02003f3b474bd74db5b8e12b7b658c36ba1278efb8cdd7acbc5584f5e5e22878d5ada37db067ac9bb2d53b71cdf957e3184813779e4d5a5796ec585e14bbbd16f9a8df8060e68d0e35ad0bb171ba729dd1261ec6ef289460ce823541d60dd63f82eef3c2ed7cac9c522fcc97b1e1a926ebc28ed681b46e388531ce3a0854cfba9f98f55b60d3f2411d7087c911d4c9385d37289d83af04ca504d97be73b600112be1fac40685476d8ab1699027529fa8aa5622ab5278fbaf912fb7995d7753bd77121c679d1a42d5dfd6952b4f59ede162b231de87bd6f4a290ff5d406c4ea4e46fa51af4f0cf5739f74606832e4ab20244073fffb50902ec676b402a012368b7c6a82d48db7776096217de7666077b2104c08036c756af5e351a1a44e86f594849be77b5902408f921769f24e808596056bc8eaf50e92aab79513b03084767ae776ccb9cefb6e01ac9f8f3e64ca95a6ed3fd9049a88a06fe3c789d76f836e30c96c4a9d10462ae00d1edddf7bd189944bbf493370d5ab61b1df931420365b222b706e065794c11ffbf91b07c02d5bad704ea238923760bb417cde7e1aab3f94a03be940d7a7a7ab020e0777c16c20732283cdd078ffe837f83d79b433d494cc1bf200316ff5616f3df86a831b4437e0a22709eb70cc33f641c954fb4c2fb93e7c51375a7b344a136d6e01d52309757bf759be864431012bfde239c7ebb6b61ac657401cb51d1428b325a4ea953a68a73de49a09852fae1c1fbd5b1de2773009d7223eab2658cba05ae3695be8ac15a653753ea18cb86acdd71e7a225d755511c2fe94e1e9d082d7f017dee086da770daeefec123eb7d450e8080a351b2b1ef3155b07568166c91d3db503579c56afb6d4eafc3eb26e4f386a8610010c579835c17ea8d7b471199162d04f72e341f71cd515be32fbc13408b37dfddfa0e1f541b926f0b7d96db6bb494c06db831b87bd51c08435827af0d792a8c197a64f171ac95af24eb1b1453637a089b275716858b58efc3f06a1a4059d6fdb63900c3a20c0c7decb32a2c6d9dfe4ecd89b10c67976b40e0066a6a5ab85351ae4e43815938a1604e306ce510ecfa0175d64acf22ba491ef2d5a9fc2b5839ee9c9bee45e79a76c6f0df3d0bf57ccd008118c847b642645e15dc53cde714ddb64ced95b8ebcb0536bf44aee269d7378d77e1152e5651e0babe82c1bac3d2d0d487c0923fadc0b3187e3e550c95784ad2f9e1bf5b575a4268dbf9eefd0bd15c45be9123d3ad480fb25809ec609202ff42e82af1742c915ff9fa4eafe593011b908448f7711a108864b5bc23c1b885d827702d50b7df817bba3f062c7095fd31ad8f6b6ec1b6429a4ca957f09797625cffb353f4a16a4b701e3100bbd801b6c110b0e5a5bfc2f66e25e1619baff03ee7adf086c7742163aa69b10c800217c055316a58f67ad660ab8325560c4ee61ee9385b4a495f1eac9b2373f79da154461f0e015bc2e80fc530b03b493b0e1eba32477fd4396b238cc27ff229dbbb6ff0717cecf47d814467941f605fa392db943afc38b00268a0553f3fbbe0d952f6826b8358b972c924bed597f292a9e2fb5d8d0d8762bbf30e8e00558010db2238f22f5da31ede00fb4ff3e5ee428a706961d0f8e2d488a07f84690234bf4aa200877344eb8127010b7e6a1ce28948eeb44ae6a32b54d39e66924536540dbbfb0617ea08ec889cbdb9e8fd3add1d9172fca81ea7381414195dee09c12a0fa9406098a0441da6f67521de269fb268fefb7d1ec70243bdf5855ed25a8d270cb8a0b0f86711a1ce55af88ad39bb512f396f910cc6fcc911653d17e9aef77c357322f000347af012d6078f8a4d78906a33d4bd8b20a5dd73a89e4e58717d82cb50687a095ae11eb8a359aa24203a9e1d137bb566b02d980063259b9c7cdac1a2e94c6e5fb8f513285b261c40d5cf016b6bdb43ad462816e5f18bb034b3f367cca38842af78c794adc8440e15e4d1d739d93553b0cd32821364d2db0ee5ab24567776c08236b07531626a3da5e662e6de90b463a562f7af51e30d89d1e03699c2d4cfc43c839de9e86bf5e12b4293b833a06173a5b30c15c180b2a0dbeef58afcffd918711216e90d13e26449b05f3b0c92551e763c24bc3fa6afed7f61b85af472f4c33175398491b2e107db744d1689b4ec7b258ee7e4a022455bbfc61ad498706446f40a614dc29d1509626b13b247a832082ce517d04d3d91b239a147fda05521bd6ec89ebd1d1e7f00f91d631928ddcf0f85bc51db5be7f8a92df1e85043e59b7991a86a0ebeb19c992784c287fd66b956c4d8dfb3d26fae6ff873c7129d5d58aa10fa39944087d046343393f02c53d11b4dcf0c40bf61bdc6cf0acfe22df6d6af536915f6497a38310f4cdacd1025f1ff1addb39b69180df7a68287715fdc018606d35d5d4c063e11620af7c313a58d64a9a96dbb10990ea365723647ef6853b007763b431a3453d875091729146c2441a441f586203588488eedfd3e9397cec5903035a14356e93b1576e6c02afb7bc8a37e96ef0320a405b719c69a1e576e559927a0370e739df6fc31af1ebf63f149f0db3db7cba970c0688112d37de628aaf07a1ba20c7105cbbaaa910742a5f6a62def6ab089beab0d4dd87cd71addaa8b31bb16ece00a2f11eef88846f5b948cf915eca3fe8755ddb8fda46303a65bcbfc0d88fd15200b91d023190d16ffdffd58794ac1c7d94e7da3f4d98ce507e684b665ff3a3958e0dc5d458a8fbd0de6d69822f8211af364d4c8c209bd5e4a9f6b80cdcfa29878871a7a936103ce10dafd77ba3e072ab8243d7d6f9025839a19461ec75f6509546324cf44a4e5247c0da93de9b5fc7f39debbe8cb1a3f8dff1f4cb8f75159a31372108dc1004151b57c80c341a25ab44ba8a1b728601a428ac203f7223474fb56cc7f0f803930c36feefbb32e8eddc9c1c9e9a8da95644fdaabd7c86c18b7cc300273abd79e3fdef9bff903dada61903ab75c357677460fd9ac9bb91fbb0661e95a83700e7825d7e2288d6fdb05315dff88ff920fb8879a1e4dc904ffa762ed57a7b363567f0fd21c1d713152075ac7852ad8802d9bf1b3713da5a634b2e9a7112f43467000a7cbb3d2f477a07ae2d5d1d9463155885cad2d3effdb1fbbf482c70bd7444bf841a35cee94e636d302b605440217c47a851afc7c0dae6b9d444ccc90422136b22944afe123c74f4c810aae41e63fa10a0582ef28ea98f9813b7685eb7887773bbd1486150cdcc5aa04dcb737dd352a726b61966e4bbc7af7655e8520c3492235cf2c1a420e1d13e4973f8117145dab6900013ef166984cc10bb7ac40d895b524df6a0f860b2931172b8b147e9b76339fb69a9225f88e0a4abdf88211eff55f0769f739a873714d5ab254d555f3f6e742516735deee3067bf7e6dd42198620e6ae405bed2d4c794e41edaaceda4c0ba4088311c4313a02fa0aded5511a8977aeb20a3a9a5fb963230de3879a1bf39f3696cf86fa8a4196e080d397fb0b0991b02602a210b2d56811301a066d21e2aee507ce3a68efbe543387706cecaeac8eee8ca997642bf545a006dbaebd0c9275bf31df1f1a88024fd895af38847723564673359e2f81bff5c55e10bcb194ef70d71ccd76ee1bfb9f1ad720258e0da06e36e1e727470444981194582220a88efbcf0a56e18e5601e2fb0cb12d8615f60b0b4d31bb180f291b1a409e55b29fff042e385395cc76247d1c776c7ca6970ee0d10d74f9244f2d5bc17926fc9d111599ce0b4f17ee32d80660a50d5230cef8435b6abc1b54d5922a366a44be3ed6f51c413b5e49d072cbc41b04bf3e3b6b754279f3d4957d178c67e055ed38cb08202952dbb779ad14326e07d78a3d0860bdf7f682c31b39530abc4189bc935fb51d9ac89664ddbad770bf60e03f542cef82b7cbf8064ee8035f4442e91f3ab106a8625e33e081c82734442700c47d5763656af7d972e57bf853fb56910890c1af9c62cf10fc1d3affe696f19cee3b5aa72053434c9ded20145e89946ff61491eb519c26d3e718400220cf38ed0e440d73a27922c9aadcd0a42094ed1ff8b954b21650c984ae382301f21fa957d68ac19c5e7102971e09037cf51a30cd18fe359db5b19916a25ca76af9b6797b6f3eed2a11d8fdaf713541f3989f997f8820b8ef3b71c0d33d25148db4f8f8c182b5e98115828772421a800587716fb7ee234681b19348f91c5bcc5116ac563047ebb792c7d8cd6c67dc1db0a8fb91d2d322e90e08f0fed06cec9d7f3fd0676512075d74e7390cc6d7446a8615ad9ca554fe862bc5203ec651b03d01f8eb7dcd2cc214d9a78da610ab43390603095066b6aa03cf4e3cf73a9da51ad26d5a9fe73f28bf438ea0d7541a5e40fc9863f53621d996b688322b6079a6df26050a8af6229f7cdbd580a22b2b4c36d8fe671e6cd39bf6f412b3da79e1853768bb6e2d2bbd12a868a72e569690151170b7fc5253cb183ce8a4570cb930b3518d208df764b778dd00e5b8acfe293736957539e4e0a41fecc4bffed6a7d981724656230fbc2c7d810fcbf54e2f46bc66f7de4dccf3526b9e9588eddae607c4e5e32a0c8fa5b89b5c91f3916f5e793ee830867a251ad20809d0231ac7463a9bd12dfc72576c68453ed46ec506a50290219c125078f1ca3500e14ba7abe503b80568163de4928bc7e94421290d9b20226a8fe642b02a5d9a94b0d46daca080e2919bd18e2df7ad28aa8666508c308f55dc8f00c5916fa0e0eb6433eeea472a7def4082c96a26649f85026daf08d17382d03fba4ae7b7db7befae69e75d37b4a3bf709d3475a2d1eb786acb91894b2ab3ad23d1dbc30fe7df59da4b7aab31a253380ead758278091fa496b1da5b1c7279b1faba9b54f59b63986d08da9df6dade9f5fe11dbbd65058578c3574b9e356388ea391c713e0b84135759124d57f9fb455f0ad8b5918c59fe0d3d6c7af9a48a8ec8632c9a3c3777ac678d8528bcff362769f657361a734888347f1c86c66b84947921945144b3f1fb5359c291e4af3e6b3ddc985185cb8cf48e511a22aa75cf624d2ef5fc8936e7fc5473150fa686579c767f22e01c7f76cb74aef4b67359135d8af89e739780481919fb7a700cfe95cb6070162db3227c28dde84b404fa8d5a8334a51858b0171ad5595a853e90dfaca00a8994fee54a117d2d49351f7015b75f04540aecd5db8570cde8bae4a16a6c9249c53798cebd82bed7ae9280e5c117b819b6de6645d63b2e562b30467eee9e3ce290ced0e45f6a96fc44d345ff8c8239450f2e72eb492774160a01cc7d1213fef5140b2fa78f80cfe4b38cc99afc0d2e2246dc0194423c954e3ea69d10400c73b13944fe8148cdddb31db1f31fb0dfca5a2dd6f4332e35768c965dcfbc438e9ebfd77e631d220767da1935f2d1484820c591d6659dfb5094948d2723aa5a6b4aadb4ba739e62cf649ed740c49ba2348d10acb4d12de54a396a17e574ab865b50c27e68008ce3871b38dc600330db4551a3ee288f922ce07b83803cdb9644a9a23535889a34e6bf5bfdeaa0d6e9cec072263385db4cfdf01e429403acea393428eeb93728be2d064e5c22d15c65bbccadd8d6a0962f74ab74f7b9e77a32cfe901c294097780f7e0ee448170ce6912a9c33b6f5a967a38b97a3dc20c0e6ecef3ac03d244368684105d73de54f8bca735f99df76d0ed833fab7b8ed52f389e6dcf349518cb81d876643aa7f99e2b1a37e4513411223ff5bb8d409bda5a23964c2a771ca5019f7005b95238be33de16ee0a73ed7a5e2f06eeb13be9c3de3055d6a5979a113aa01af21b6ad805f3c3d50c33e195e826190af31de879ef41b62cb38a21751ce6fd074d9fe8dfd349ae103c7efc23d00a3a4a460fb9edfc8260ebc52e14dcc0465a10a29a111359b90b5783dffc370ecdf0cdf5652dbd709bae47d505093c10788ccaf868669b6be874e2bfcf402a6983fff296d20f97d6ddc3ebee369c316eec0113e7c92ec1a8e4459d960a84a3aecdcc758c0da48057031b3d1c8a3c994ab6004f1108a3169e3c3a03c8dfddc09a7648ecb941a0f600a843323014078ec91359c6f3a709ad3ac41ea3b43a0fa5a1756b9ba700e7bbc8b7dda23874eb93c45dc1468d5fad265fa3bdba476444babfceb303e1d4aa4137aa8b29232026071e3ed9854538a596638a4b9fb3d28e6fbd7b8b1b63be9a7beaa636162403b4d011e7cff028ae35d3b9a268cc8d5633e7d347b44ebdcf7038418557ff391dbe484a2f7919c73b9448e7c0dab942de323d0d098a43712acd76fa016148f0f4105b1404ece506e2dd19aac6c90eef6064db2b95727fc292cb8a863b99adf307ee9786547f182dee8f2be8e73e4463251a76e3ed86ffc85e3bd4f1b505075dedf47cbe73a55187f28cc36db5b2fa6912e98173c0db4f32e490a862b64432b5c370b7d4d32c963aa22faecf51fa0044e3ff9a74ed842f051a1127da7bac04215819522949d243639849639bc3f79168336002deb8935f9f6f7bdb727486d4a25a0fdedb5a7dbc13fee0990f324999d61c0d7a1a58f628bf87f1b67d142724a9ced1bafbf110265cc36c174670d6be62c38b9aafb031f099ec7baefe7a96a896fe6a7ceb2224aa748d4579e03e91dca6c6e1863cb900ca4b0ad5db5d9282e35af848d199d6f55465a0ce10da300ed0103f27dbfb8fdaffb4aa256cd91e6b532190fd2c1a94976a751d3625d4ae7c71dbcaafc247cb6c71ea079b81d12bdb4130fc8f056725e96beb23907c3bcc90d4afa2c5fe489a323fc7998738e088f3ad0d8540aeb16dcb92f1566165079a05a7c2832a51b86ce429810324911c6cb54a65b2f9f2db34fb59d71302a019e72ed8389eae119dc4c5f049f5e4cb027e0eb12bb06e1f70453e8c80cdf93080b6d399b8a9af045960ff5acedddb51bf2f95667264a6bdd12911e4ee68601536b0bbe0e803d89310747845977ebc6502c987d4a0c9b803822ea4fa80734073a8874331e64d374622cf58835a7013c961140678fd61347f88c7814a2d917bebc06495b4e0e399b28da0541d2d64c109813c97e44baf0a8015aa787c98d3261b698fc89a4cc2144b15a0cafd66767418438d4b5a497235fcc33c13599f43cecd2d5b02ad766de6615e4ffc3c4da7c5881c82075e9e6fee0117828cdb29821ba17a5b6599c41782d214381286615109d6e5166324419f3e7aeb86525ccc2f7acc616e0e4cb1ccfa7b5c236b78820e949679341fd1336cef5eaa2105b7b51c9beb34b3ed29402a5d988592db183b489b0373de76d48101481ef087ef845a6a490c60b835b188911b308bbf5899cdfefb4e6a66dee330ff4cc3e0d53927d9b0f9dec2194c9158769d2710ddfe1896618fc2420751b600c4e5ddb320bc51ca56aa63de29ac2661e5057b5f613992d36d2f0935c9d0bcb4844574d76b287fd60d7640abc9d8e2f3ceefce8d9cf5cdf229f28a5023824a8c9c893503c4838ca702a4b30580fe616cefb21bdf0dc24d4c3a813fea913735aa7cdc3f681208dc75693a631ac94ea5e2e20140a48dd3c6bf02b135717cf84ef730bc912effa26664be73b111aebad641ccc9d397692af64c97e87056191f5d8235d901f56bbece5b8fb30f69dbb29ff036c8e28918a59911769afec617429795de933334e3052775fabf99cb7af3fd14f0bf90ccb047e32994afbf7c6a722d72c12570083b489597edc280d98c39308fd63e2004bc2eb8ca8314df89f833a6774b547a60c09efe73c24f0e8992bfc86175ea0a82931ef1f7d8faefe604dec6ee46369d715635f2d4cefe486191e08612129338f9564f4855e6798f88b64befd606a2844fba8fefca70b645f169073b06c55efa6203b68d39b135583a46fe30b9f8978b7e1bc86ea1236605fb9a9013c571ba5a2f6cdce716f5507265c5307b6a8dfd554ae6270989efd08ccbefd40d1bbd5b6fc86bf2273ea17ee73eebdf59fe36206c66b24cd946d7f3c28e28637445dabeda0dbfd4fc4c05cf01a52c1cbef76ff66e7b95479f2786c970d0c8d997446be59def1c1b10ae4c32fa63710c9e8386f5c24aedfc6c592969655e900cc0306cf7cd4ba0125c5ee4cc6eb042c5196dc4082fc556e7047c307f5b50a64f8fc338c796f7efd68af1cdb6e916acb9127b1378a53a8d9ed99320cd8e3fe157864e8dbfc3dc6eee43b0bd57d5299e08f8ed3412903471c052615d1b48bb63f515867fa67ae82ee9d2a1449fa514954f009dc86600ef3924c692ac8aac2062a3fdfa0999a3c0d279dbd99c13edb1b5d58edede927b5b94f1c3374a03b4e7892724a85f6fcd07cf7a383b263276939ad1d73ad5fae7cab32fe3a21879b59702ba0973ac6918107e30868dccc11315849393b07ab05b066af7ab445b113aeda9d5947efb9763fa140d21c6afc2c0dc2a80a438a633e2782416b9e672197ccb0d01b84bbb31de3baad84449707c7af366109dfe7695574654c30a447ebe88780c29f4852f951c62b1463abfa66afafdcbe1422cf8c3c75c68f0e2ba61338472e85772ca1962d7975b698c80ee1220d2f85038ba2a35cc9e6f5ee61a71915144b8e6eee618724b82ddc90b5af669b1a4660d6085ea65521799f1ed4db94fbba245cb4350fe219d16da26f8b8ba79c7a45a7de4d3d25e2745a480d0dc2f3191c9cfa1eb63584733b76f6e8743f147c494faa166994403b121a2fd7c4b32890447513ca67e576ae19db583c361f3c1e08d3bb47efaca321081327c4ae4fef9e5f46d88bfbadf12e7d9b90a847f7391972895092f4759b7d0554b24ad546f97e9c408caace12fd040ea2dd4d875170b599b1f90ddd04bebc5652254fa69ab09e4aeedf63b664e2b1415097daa40919cbeaa67f93e4c1509056ab413fc32fcb4e0679e73045c6a20b1f90fd5eec71b1eed4096fbfa05f4e8a15fb5f8dc49000fe248525ff36abe5a640d5ee83b0adfd62f26f937860c600af065fd1920045ca3bd84789c81aadb9986dafb5185529ba08962d8b4a7485b18b1aee2c185005d70863da81ae1b5d2a6c76b6fbd6ed350208dcd3ed3894eda8069249fffffb4913a003f0d6c6502bb8c22cb4f7c97eeedaa999dbe3d6d16e72c8d5b81880eda65592c7972965cea9c514dfce1ec5ee60440dc5fa259bfc271322a8d152ba118585ad91e3fe8572e5f1773bd5051e996fb1b21ff32828354ad061f2c8813b1e368b192ed0e2c49afedc3ea4c4c0f19e708f93d761b55b0ecee89e85a40adbeda936b474476612a156337e31d3c34264e1a1d45c3632497e395f9f371f9c8401991fbcc529748911acb93a13464546eb17bd879e7f14fbb1d5dbdbb1c52093ab539e141a261b9f7466e3b0742b110c3a4934f1c587ea447b323336b1f396d9c1a46e565253893a1aee43f62d8d5430fd2784557dcc9a950182d4f914c7c8c331c97e14b1cb7aecda600d586a8b918513083e47298fccd61487f550ef93c210c7123cd09fc7e6da95933a2320ac3d395d9f16aee1c5c0dc3543be535dd03319596d6421da90f455331d0028f6d3884731b8e38853b94a4d8827c43c36790b469008a3e1757a9c12f73f91a356ae967cbcc20e747fb1e2a5bde2f16adf1d6f09b68dd540a07f1802646f2a6d9c7a0ff6c1f124b6b44904933d974c7f694a0ac83b58cb020bcb3710830bd0ed9a8443a6004bd6f8e7390ebbc78638a40916a372e280a312d01623020b391f942a7e7af7096e0d4a176779df88bd3c372e1576fdf40d313c31e871f1a6be8cf321e42b47c8a370ec9c051b1bc95dd07cb11bde8e5d0079f5ae2d7cbc869b13481a32aec34adb69b09394232d87b2d37e60ea81962ad57a66bf5d1838292d21553e666f6c789852f4b7637364d338c794f35dce1ba73031eb933b75a173c51216a9209d3d31b7a62b8f98dfb4ad6c76f3c22d612e9ecb41b5d650e2c3c39777b1e07363862bf60a8e7abe9b927a26a1159aea38f828fa94e67952adb75de9b2d0206f24168b276009d69c2ca96214dfb05787000d3924f38b48d47aea3a1f7162dff22c4e6f9f57ff555c0ac6691cdd9bf3137acc7a40c527e73805f7e557036fb0e38cc184617c52626bc47a59bbda933b2a3b7274f5da1c844cbf2be919ade28f9265ca49a708d1699982553cec48e6e1dd06a5dbcc6a167f785a76265c4c2d48860cae8481374b0ba451f260131a48f2d5aea4de45e1aeff03e7580d8c02c788bfca302734ecdca635a435f893760b59ea90efed3f2d03d63fe8fa0886617fbc189c12592c4d80f79578feba2db3b2c3dd4a9d5bc449668445c07b160760e16d9c9e9099731fa0f635bd5c00b6286b2681ce70c4ffe85206c4f7d8a31cb356017a5d6ad77cc570b66748c403fc0ac6453f672e5a25cad1b019d715b0c533da1e89b2150d83f8297e7a210eb62e636fdd8bdb5bf22116e8d2853b028c5998a5a8b1d9ed59e1e82b167c57cf996128823070be113094ae046285ed5dc5cc8bbd7ef0439e6d733705f7e698721814cc442eb59d2d4c55460eec58105f778b950b35751bdc2d1bdfe3612f7693e1e85c1e37989c1a790a11d872062c635fe84fee4e157ce9f5fad037395b8f711b20ed907329d1bf9b53ce1cc40eba91e84e5e99d4489348cf637c41075a5d955986096296c4163c7ee2f8af95ffbea57ff7cea08e106bcc81d3b29bedfbe56680139ccb99e3d5ee992b62f140453462ba65456c34bd9cfd1713248bab4f02d33b587f77ab085bfd9eef4c2e1e80e47645d84fbe0747351cffdaba4cab0e6d3d2f23d1c1759a3ad7b1ef3151c96c7fd9734e238d679f25f7a1a443a001961c0e75c8d854a364bb671d85f1cd101f42def31846ead78a819f86cde298e3b9d03b30ebe8c0e3b0c5cf7d6a689284e84973184deee11a141f711a0579e4ee2b731cabf63413c04164c1bb4f9356e62c8e393e82ad3e398063314e747b4bbd2cbb6f74133f5a94496bdc5d56f79ee68b3753611638790b97bdaf09146921501a4cf86c628ab018cf72bf79c0a7f60536e24b551d946a5f4cf416343ee8d744e4748d13997a57ada6ab63708591f7ddb84e3148a66a817c07dbf1efc6ffd0a5c75726e2bfc8cc8af1ef7059f130d7810c2495cf833047b822fbe29f7305a4dc1d7c4ce5b48dcc3529d835f47cc462d33582d624b3c07c168f80b4092d6e5d7cb53cffb22b0828710f3526dd4d883102f0466205069ae82edf5c5b31d81b80f7684e2c8153e70e945777de8b6172f7a09f13bce598ba90c58c7d767e199d1331f9eaacb7082ade19f5af3f81e9f5279ca83be658b9fb233451e59d8834fb903087765445f5a70b232ff6dcb005a69047a985f60db0962dc936cfc59193438dabcd9d5f4c6a70c7262eea686915eff673bcbf8fda61638901aca0d443bee121f281724ae16bea9917e9a28f521d18ba4418d3b81523f08d3b560e930c2a269a14b0dd338587701afafeca4587d6e5339c545266ea94a8e26cb10eb9244bc71ced9a85b56f07b8897ef7479cccc92b2c7a253909015c5d44f7ea31899e8b65073dd59f633170544d22862bb2c58ca5c02eaf8d382ad9b423c8a9fc34d14c986f37381be6cd743e33f1c5323a4565a101babc5721cce5d974711a32b752a842865e14e7231dd45bb741bdc0cd907c86c7becefb92c07d9bf0f14bdfd7d682b99c6a61959f3d4a5860e823b8129f22778cd3eb933df0734ac8860ed5f84ae8509927d0bdc639f7cd578238a8c296aea848c233a99a233d32588b3b087b383006f4b370f87fe2af1a4e09920c1e0df81176f38f4d7f67ed4b9b9dba95a8f6a9614ef89890df89f21178b694fcbaf894d7999879073c0965a595343bf7f888008fa36fdfe93222c0517f0fa6698310aa3bf82490e155fe61a7ef3195f8db249334e2b8277087a11b060605cd9e584d12a73e3b1ec940f8e73c04f15cf7fa5e72c74bb9740a93c62201e5e5b6be12d549736eb94d1bb357a4d18b7e5c80a84c8369e94abf827b1cf22852a820d39e4442e2f4d35717c6ac54873f7a7449284338d99245ba7c4667148d33a1489d94f6b63970f2be76ab27704d38a54fb98e9da8f7e0c6a035be921c64f25b02ba3b6132bbc4a8dc4caa129664cc7fb0c09667d49cf5ee9f7d268ccc42c0361d9107e18fe8be4f140fc847d18a20c19af5c764afde0e47de6418bfd9b7e14a874bcf0f4ede8b207211ab9f7b4654a7a1e8ffa5d014b8c3d52fb1c71d719ef3ff2bbd4159c9f9f0e4f7de52cf5409fcf056eebac94f78b5f5b8465c2dbea46584f633de417061cb30292bca6fb1bfa49d5cf970c73a02b163646fa2fa4249547dd65b28748e8a1d19eeccfe991eda9634784dccfb31d98117e3d112f8e84793d92490ea48a40f1d63222272ebd4d640f592b5e7ad021dce0fcfd4efba855e83daca941a01cc77d614ccc4dccc3abbd8bd3203762d3c76361e606fc7ef519d39fd4da54141734c840dedef51a67e3616b18bf3f3498ed7a75991f2131eb8c9ff6235a03492383a5dcb50ec36e84753d5521132bf42bc61c426c65986795608052a4adb1a4aef7a957626ff2630b707835a86a1d62507e9edf3d6474827112f94dfc938cb88a6c5b4223c9a629a143265aeeed2d265d3b57af4ef3e7ecba28bb453f7c5ba31e891e98cad0347082918e41f48570a3a5e61c765b611015e3f1883ec63e960e9a1484b37fc79f0fdfca9bca9805265b9801512926aeb16c3e8960c79da4b640b6ddf6d079696fc5b75fdd734361907ff980fd76679abe59adce22b4949c5a868036a19efe0c2fa249afeb98d94314fc7a142427a9b1cc2e67b80ff7fc579cea02e8be60012a2f11332a2789f3b395cdbcc0328c084dc05172aad0d1fc92015b92e3836815d90b800b8835266bff1305b00c83ec5ff6ecf38cf388a563b270eea92f5940a9898a5a8a45c0ff9f4a3735a20aac998898d970f1079bbc0a2c7a4a40fb332cc4b7c2f34a9dbb265525978ce51392bb4bb00da04b632b32fe3dd36b6b6637b50a4562186667722542438e4fcba8f71333c1ac8f31461460cefa5625ffd07392e9640e31eb59096daf4dbec1eaffd255e1bde080a736f5d1e286533afb99f7cfe992c0f58283d7a90689be22c3e9b949811eb3d6c71965af4681d42ee43d9615b9b50a21658d282b071aa19bae1ab2d879e0adb17e40cf00abda58bd171d6ae3ea6cbbc2b05c16011b802012ed2678042d2868059f3d26fc49c7c8309dbf06b7e9cac5178ee6b6e3269bd7eac3eb39b9d73e85029da91dfa61304a3cd7bac5a012a640e9ebcf6a4735e29cf65acb8241166ccadb7a0db4b7ba591b2fc4237f3d5a26aa77558ee6122766208bc3379a0a2264ff3ea6a175f721848b8546de32a94fd41ccfdb69a32ad038aeb51f4d8b01d390813a7507b81768c742f12042c6b6fb868b81dcbfecb567fbd3c2cfc70763c0ea10fefadc99ef057b7fd31b8fa1830e5529b9ce445c5f769e3fa4993dbdc0a6637e6d6ac5b54f15c446bd87d03da716f78789647c4897888ddaf00cc4318957e78d690c939676b8aa8aed51570020c8fd931eed1ef2cb1a45eac403d86e0bc8d4d450fbc7e13c76cf9c776d6e3e0dfb1e7acd6429f8d8b1672ee69f1755d6e22ffd28e2202692d7761cc22cc7326f031dc15d4a47f44c732c6b13cdcc6881eef9f8fb5ed0eec9e2","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3dda9cabe0e1cd978731431e7ae1c7fa"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
