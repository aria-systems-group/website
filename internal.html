<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6a19d9c9962892b40091ad98372ed17fa5a8af17e4f4a72e9711cff469d7c16bce20154b2fb1423f162578e4b01687c7748b108a9019b75702c4a3daec1d3f5751af23143dd0f16ed6729e1099308026286ffce7e9c232e64599ac6052f9b8e54789494ac612ddab78fa75feb64a9e8756866568f531804d490e1370d88893c6d3d2b2054052794e1ef39100ab20f3574775b5a58c1429c4c3d5653fb035d5541fca525250159e4c5fbc8aef06a9fbf99033050d730046b9b9c782465023bdddb5fc197f30394fcaf9f70db24eb327165df1c91825488b068aadee3ee01c41f11f39f88c68fe8749da35047c2dd3429941784287316e87e33a4e1b3d5f6e31f4967bc5084f10d2935b33fad439f56381eab652e68e532c49e22f1e8eaf2172269242b3714327a07192ba114f402b12fb958f8b38e42cf9bd0a538746130259cfc9ae39be046cf67b1032a91fa632e0151d3443531082499992c2604816442e428e634e99cb515c017bc67b51e8f8bfc265f3202ec494d74ca9cf9996d46ff920cc502c8125c9b384f5ea346de9b8bd0a89030f7dd6256c9f12b084360f8d2a7c512c2587ccd324701e0ff510ba0aefd746bab7c4f9a317c3ab192799a9ebd4d24c1f54f4540e6f80b0309f3cdbf2a04d387cc679c1732fd6b213d7e4d26be22a4a639ba9142d1d1c366f3356a4a48cd0f7c6dbd3249cec532313f8099452a159ad4073babce3437f86ccf7a2030636996478273413a84d8ada49791193aea76fb8c33708be00e73b9f259451245944e5d66d03a4b2f507f73c4cd6e6c4514057764c80e439afd93e99b16b41d8e1d50f1fd8c17ce8038b558311ba2c5698e0b93cfa09831b08a0e13548e25063c9f83ab6a7079cef0e7b90ceb1685f10bc82649da89ca6b127d8c03cd5338c57057ca71d4fb505aa77962c4e8442b97b4ce60677617ce1489063d2fe866df959ce6721552b3ed838d1ea7e466f4fba3aaf97034bf7b2b579abe82b459d157075d49ec0ce6a2983f73e26ae1b4b1e85ad4aa6b695612aa3d3a5a146bfa1f1f3f7495984b18e6e48504302fe7f95c742392fa16797bc644e0b10eaee231c38ccad8fe0ef72feb9ccb6a62fc7a038995b726db3c419288abb9496b8f359d4e0bda168bf1a7fcd178889bb16db4d79f6922c8bb033485292a17556c2864c38d75d55552738db2d33d596dc5b8b0e1c4850c5fc08ce3d9511c2197a7505aff3bfa97f5f978bdc393bd205acf1909d39e78b3fb98e139207c7bdfedba7a40683c2236726e433f110b865f9fc251e1fb8b3526bd089b846de79f7839b098e6e74910e2e6482abea7e2573b84880a6ef9ca25901c6721539d8a2a3ad89a92d3f4c2d506f3abc88546fee74763f56010cb5eae9f3b7374b3ed76896c80d6a4af77bcd9f092f212c808734bd1ee9d989507e7586c19e04d2e611737f6de882a2fe2e78bf10a387b795bbcfcc0af6f9b97038cc22c4854632fc4570d9063d159ffe6c1be1de23dfd2df1dc9f40a440df4f033f37aa9b59b8ac71c2404f7cb33cbafc6360c7b63d42d7c707c3faa6a4bb17acdbbfd2c0de692014a03e8af0fde7d071c0d6a5de42f863b26c0a788713c8ce1e18269052fbbb34329061a254de893b9854e237ab0fad5aab3beb8afcad2ace33da3b06be0bf4a5d98d57ef34046c95c9624c885e8ad9d49433c92892395b6788aca5804fe324680417fe30b68bd8e50967dcae948dafcf7137eb1d4690b87f820351cf44614e5e34e7bd01ed46b442a94972e5965decdfac70d59b4c875d02d55d5539063cc2f17fcadebc9ee896b8d0cba09b3278a4cb769276739759305b7079a1fad33b12ac88aa426bc1710e1636e807eca1b4c1ad56d17c234d903e10588950023fbd370c094e72d55327af555e503a58ccc0eaf37532f7ee2ed5939199e5a54857e76256f155a8501b769d6a65fcfd2cfacaefc8b2d9a005cad4139c190b4f25c07777ff2aff8f09eccd23d23f29bbbbb8eb501b0426dffa0d6ca0e8445c41b7bb510bf9bb37aa07566a5145df9f06efcac96816459ba1295ace52ad4eb4c77c93bb74542a443bcbf8010a158edd61b911100143d1e681f58f7082c1894c4245fa4a9ff2eb5dd5137c87168cdf32b76dc330b0f921e834d2ed76f0c45025558757cf5f024435ee19199e72d100acf70f07f96147b1ec0a7c823edbf4ccaae5b07d1f5e297317b3e8159872772ccd9531cdd6c36b5a372e08b2e15f527a9cb1780fd54308449994aa6d02a6a9b9a18ca2262495e81c2d89357940b3854288ab86dac194f96b786ba75afd96835ff2aa5a1507c1369deae7d6ebd60800318bcc842d9d2c88a4c7c0c3888c350828c695625011d2a126c5d51a07ff2d4f449d6bad9f5b84860d6b296ff05d45e015091fcbae0986b7102a37c10bc537f4bed927fa96f2940bfa8d25b019db029ac5126bb8d64228a0146c32b7c930c787a05ffcee93513c5695a7d2daeca5d75c59fe064c5f956ab6c31e6ede5401c9f8cdfc6296d7cfd0d7dc783828bd3d6c8594c8f3cf99fde3017d9c13c69bc34be6d93d30713080fb23e318fa4fd51e13bcf127cf9d8377a40fffaef349f62279687b5e79a8373f93f5ad1d5e0e57ccabc45dcaa817adea607060d497bee4f32395c33b479e173c6c911dcd10fb9e7abadf6b5c33315fb2bf1ad3716ae94ec24d344cfc154a0120e9c171499c1662e152c5239feb33c2cfbf5a7c52356f9215aa13bd93cd5a4e84be6bbc6c1d37ec96e7fe64a574033f3d1112e5ddfb80e1bd8688d358f804b356b9c186a62d6cb254d79d09780742ef310af7e68d0999d6f5938468375377ed491b762809a97492351d4424e31cea20d63265f206b50fc71a1c2028db8edfaa5ec884207f514d8e194805c278b080363daad6bd796feafa2d14b6035a998cd127b3b427acea26de9bebfe81af60b0fd1994e464086e05776113f014f404d3d4032f7322eb4818185da8f42049ef8fc13d2f77b95b3f91358468052f9e6ceab0270b462e5c6ad4ab237a926843ef0528484de2014171dd78cb5c779a5a5e0f9211277d3049ba6220e743206656357fff796a6c64c8f4b2c96c3803757f796e3ba422fffe06751820b2a886f907dd719e8b94c94b817e63b2fb3f1b340ae720624ecec02d3ab017d8d7fcf922cd75ee2d010c2b36053f28b1b1b22fd731b943e4da405c979388a93f40c0aefe43167a225f83681d33d55251e0dca0e9b63f978e1db507b7e373d5d71369c99851bb776c51a2dbd5b3a3b3a4675167428e72156ba1eb0007916b57b39a86bf6793e2927e333ccef7ac0860a3a2fa3c818fdd1758ae1102f0c398e2c7bedc87647a291afe6cc34879da8835fe9f0c0e6ddbc7c71778a38733f78b8dbc3dc79a762136fb33f203497e9dc676b89a1c5ee469a609836696a4ac94d7e8a35036cba60d5a4b9e58b9bdfaee1d73f2a7b73f408877203172396a490ad674e8581367538f9dd6de89f3aa7cc556df65bf26dc056e906a7292872280cefc0d36f98e0ef6bbaba510998d73063b9fb422bae279ace13446ff2d3b04411626b8639eac23d84b32e90bc4cb9227888c8f7794bf0b9f50c934cb5569adbf0353f5126a2bbab59a9ece551f1b0013f9b0ad6c0d0ec0f0879b9fbe26382ac60b18074065eefb831fcfcffc07ee31c33c2fff8eaa436f70a5a14e7289c2127cf8c6cb9e94ef2010058b495a39f85d87860a75bf9c006f0edcbd040615dc095ff73b84d34e87ef306dc1b0b3e3d767e7cf48c1b130fa40d06e3161310240d6cbb28cdf6fb0e323837251ded0a60a7a7675131555f41cc796685200dc55698f44ae26c6156a0787e30f02226d4ddade1055faf40c15fb09767baeaf4d5eedc3470cada19cbf60869ae3618a46f554bdb16ea5e1c66d97503db6d5aeb79ffb1d33a88887bd4bbe9d84c8803d51feb3b62e5de52de0c026b6080371151508741bea3f45c0cf17cdf4a83a89ad3db404e4594f50264f5db83d9052e5fc15309406790f551251741e50df9c90cbd8aa82ba8ef157ba0549245bbc9f3c46fd11556b9e3b34310120d33b71c70ccb7adc7b0bc98974f3e45c350ef6b4f8549dabc8d0e5fb79b5a8963b3a23b1f11bf750bb0f89906beb62e985291d17baebfd4fb8a9a26ed79622db93a76995cc499007c87a39eb637628d24f0db38947332246915c65d424043c3c6adccf67bf4930011ecd695e126d76d54b3961eb467a3688f4b44c0e7e9b9771afc9508c3ef6611080486460a1b7458a87d9a4db922df9e813f951ede4e5e4acbb192ffcdd26a8b221ca82e4d58ab70e9a966cfab19de3f7759306b010a45aa7a04280f78234293d6a9823373d41fe5212dc559ae86ed24e3045862dc45872e9400684bbc30a3b78837d24ab84827c03cfcc31baa224f99690cddcb8f83cc040ed051a354df022ca3efa3f723c9445d494d0892f87417bfa469d6745814e655d279e1dd0fe8c4e46b598225de16e6f74db6687f0aa12f35f3695233623f2c4b0b15c87372441f6f023681d3d5abadbad5b3c328d15c0f7cae6599f2fee64b1f3c6254268a92575b07d70a602787f0bf56d5861f5e03c9c8d05cebc6a67000f0148666043b65bf6adf7cb611b53be18486d93f5ecc27c886ff4a539a3deab2e6062183576ea1593a5bdb3437fb4184b5e219da865b7e6c882a38924b566c636831cb0da4894c4d80b14d2b81c811478ef5f25ae23cd1ca37828468b1493bb32a8dffdc3ed18d8e9ce5d467cd78747649185a37ef4d524df1a196c5ca456932d477fcecc8c64940ec1bb8bd5be8cb185442c8031d82cc19f5b76fd93669e23f500c6dc86d21059ee0e2efca5bc83dffb85cb6baa1443959d335b369c9a69701c7b7d24f635530f5b8aaa14391b73f706b86b174d80216ad73b496f4ec9977d347fcb88dc6ae4f75150f11857317bd8ebed9f18d69d40094217c28968918f931a763cb52829d338fb9e7eca86b8b2fe937a46d9595ce85ff28e46871af0bccb3f1146d81d7339a4dce28bc35f0afd06d35bce00199590f269c0bea926de6bd0a9d36d72ad78af5ac2e77e7cd8e95c5f5737185660193a868feba3866489d0b7bc8f67246a649b4bf4b2d59cae4e8a6717ed95029a98e2dae66e13eee27ec9030df501c406588ff8abcf02f967ed2fcfeb2f2713bab075c77d4e05b13b3de587c08c9d844605a3d2f86b32ad6988c5c812e61db33f96cad907e93a5f2b196760f51c041731887908f697597cc4fd5793f3017c14bc119202661e98a08e5c905df630a11e9f970483151c8497b0f1d5bee34bc39a6054c1a43c4980249761cf74d388a97c7b004c2f6967f7d8fa7ca61b03dfd0d7e94492ac4b30d82773fc49eb295d1a6c2058719c776818e2d230fd5404e9cede604f34ae01aa7b6e4ae4951c7033a6532bcc354bda2bcd1f20dfe74c33761d01b206de9320f1a557a9d9b0dcd4da9ad067607521fb2c2603bfd831ad2431356508c7b811aa76ddced33435519e261b1205ab8f154a302e0345e4d7e3a5d967625b596fded5fd180a785c94749823a6e618d50c6d2c799ff040583ac04c321cba3d5c364030d630dc050c6660f72e130b8f78ed4d76837ae5baa4b21d488c64771e30d1d6b3df61bd41584aea84a7c40c9cc2327b2f08a3ee865b61c5c9b76a899b01566940c00b4e6bc5adaea9414c7b34fa125d662f6a31270d8bf4c674c55160731a07cf1c339449541a504ddcfa32e2e1e5086f1fb6b5f9130e92259368ab5ed8dbb6919f99850bf25c9c4b79219266b270be90a5e6191e04ffc19b0e00a45ba3477a3525320583e963869b7d9a4a3234018401be5352cbf77fe6200ec26ca4ae32f7036c20e69e2685b50d07a21e1311b4ea4c546e0a2b1f37a02dfa4ecd8082f9defa5c6b2a301556f8402d1b988fc66c05d190d77f0dd6a0df93a6f1b64cca1922cf2d6b30b314dc36982a242c352c8167de29e8fd672a3f8396b86a20a133b466f72e44f974ff883fd5ee6ef18305f2f2618541010b161c6832aac7d35a4bd60a787226556833f5a962b81e1aebe5fecd83cea070fb067f70b79837893e8ea77078aec7357fad5fb04e136d4cc75912e66fcdca45fdd098a2fddf024b925081734ba66d3e5aaaba2179cbb046b4580cef1bd29e0db052fd089d25ae4b13b405b3f9f328a861f269685c21c157d4c9b1e684811d77655ac3e2dda9e1c90302778574065a1f14e1a7d0ba32297e4976df42e4e29c462078ae718d8cb86ca411741f25598b4bf23c93f23d779bf6f5febd7d65bfc4fd1e227c2b45818da572e23ef15c86dfeb4660a8bb05a4ec2c55776be8658c52da28a2bbacef9a98eb76cd146bcc217fea793c1d1ea271fc9451a329473e662a5593a74d7757884282a77cf0281b197f0dc903d7a7149fa36d8c644ad0c929b0d158cd33898aebac833bd0cff19073901e74e4ea1eeded7608a1562291e2f817833cca0ab7cc2d47196745a97037783cbd3d800b6c66cf9fe7177b104ad6b02c453e0a5b4e9cbe48bafb115d7de513924177836fffa65b6ff291fe1ecd1893871cf98fc11743483296e70642608a2f2493c613f9a4a156dd47d440cfbbfdc494205ecf336f3b69bbd8e22d96469e6136c829540096fb4aedb57a2d4ace547582dcdebb308bef544b3564e05498fa3604ad7a54889123592fba2aaabbefae55f27c54ef4431935366eade047454467bca6b5393d70ffd3913e9c114b076637ac5fa8a6c5fb675fc4b5c7ed8749f41e5b7e90c2acbd8297dd3fbf2a38824fc9aa0f31c5f4bfac57aa7e046056a7270660edcdb04f8724d4fbda161af496c39c869a39a5385e6007e1357fc6f24d0c0841ba0b3943016a50ca07f3248a892451c56103b29e81c5d9beb653a5fb129a753d087dab6530a0a9bd663ca11f27e1adf6f35d39dccbc00743f0c21bdff2e51853e31bb9e4fdd9d499c1553ce74f6ebe936d245d4c7e94f0be2dd69c1dea634b3c614942786f802f250b978d7c8d59c65e34c5adbcd3572790003cb7fc56e4894fec0c5a6d111f83d48be789ec037aaa6e3f5f4e678b57b27d4814eaa1561c4fa74cf368e4fce374fb5464bc56ee35f3562bc8de27ec35a8a4d7dfa87ea32159e58dd778ecef602ec240d761bb778db04aadb00501316117bb3bd7075bd2f75cbbf0d41775b115e7398e8aee7e2d09145503f741c003040425ec74bb13fad7ac9dd9e322b86b5e45339c8995dc5a358825a110b0433d28413f14ad3d8b472908ef93fee7f9cd99b46c08b1ba6ace7bdcc4c19c937c999c2a39230ef0f9224cef4687426d470d6e03c8f5bfdb23105c20dedbb5d0cfdbbd81c227d5032a5d19a9d23c00aab7155cca0dd7ac810b60f20860598595676d6d47a7aa820bcb8af7917f45e29341daef10f1d8df9a7ee1c72756d644d17ec0e8365ca6573dd9d8db5797e3a6eb156cd7ef7ff14cd81baa8df13cdfa82ce557d9651d885dcd18e2c6f12edd0d13051e14ea746596a36460497c309f989f1191a52a42a5197af4bad69a4ba4616cc6187da668c340742c8803907f70b68415a5431eb7b6e5ff6092c9fd5e3e3add8f3ac99a49207f29ec4ca1bc5c5264b3714cef6f71be4eb911bd07944ddc1aad4c6bc63bc1dd0bb5c92f9d71437e3c7b5f137256bd167cbe13d7447f400fccac7f1c187aa5a5b5c6749a2734f93ae49fd8bc4dffc803b70f6e27997152341b47b57a24950b00a8a95ecb8c53a57d44ed572e7d4caa36f08aff29c8e2612c31ccce8eae005f88645631495cacc5a64a6f15a90c7dc365ab67ab84b723e84ef550715159a8a5d72d8daec162a967b99da10712cdace31b3d0df8f3400e2d0c1b8e966c87943131fe8e31b8ea091b0c4b5d1156e679fb573d168e5e0714525ea64221e1170e3906d879634c161b6348954bd45a8a72316db72567d946434d592d2ece999c8439fe290c722bf90ba15f5ddd1837aeef240e007c0c31a79c90a4610da81b951093359442b078070dfda0b622ea6d623424d9cbeba7bfe3dbb024ff0c866076443ba12aa7bb5146939d45fa17b9a477f63c2dab157f1926ba28c49b255edd82ecd0391cc883ef6617a20025dbb4cfb98ec72d19b15633e2f90b1a5423c6f48081826af9ccb7ec87d0da6399e26262817b2482b0067edfe2c2ef631a3a6ac4ce387447bd6a60dd21873c74e830ecdf7d23f5bcbd52276d29e5325cdb7f3ec30edfb39e79853e065832c5506cf68d04674afd22fe75cbb7b30d63e4e3a8974e133a422ad27c3f6015fab6aafa2fe7a523dda2f487c884687f111ce211308217201d4ef0d132e1f5659637508863fe7fcbbef62755172c0152f7dc049a172cfc36010659f97dd72c53dc3abcc1e7362768ffcec18e0765101d763334f6e334c117cac02523b054f9a0d9105370085d8fecf04a9711eb1e9c2f07410dc2411325ecaa83a212e5f586ca56be711d3cf7d75c8029b1f67105d01f0eafdc72f92ebc62ff6d34b455f9d1ee37b1bab860bc39bcfcdec3d2e5f4b6f98e3dec358c73fcdebd71ce47da7c538fddcbfea339473ad59f4b518d022a5d41c81b9158d182a021d1e3abbb4620e5b9e928661764bdc8de03e918a96d69170f4026708b978e286bff226166398dab86190a4633938ea78faa47af6d5eb7d949dbd44a512da6278909380c1d20082355322f447f9763ce5e69e2bb61a1db44aaee3d4d4a12060a92b004c4533fd2c72ecf2cc6d73172751b81dcaf3e2c27ebb00ea055aae5c63bcc31ab485cc295cf9d8f0741e043b93e8bdaf6145ffa2bb52fc8315be0aee3388826f0a9bde58ea414f96ce0272b0acdff8bb1cb8adda1ef4323b72c13eb6af48d3e294897fda77f51804f3730aac7d1e868b2be0aba798ce2a0439529a40c1274d007bc2e2c6d1dc28719bda58921541e1511bdfd52d2c3ce0d3f48f7649766d05b49a1ddb6139dd9f2062d391bac1a07ad4b30a53b5e774df8d92ca32ecea29870002172b4dddb7b20b79894b0bfde9a6f1af33c24ac6788279bc5cd79be826cd316b7354b206069e7b79ab8544f938cc8938f8c727b5b5a4c860c533e00ac2ae45f635696c4f1620b207a740fdc950019d10dcfe1785448913fc3f99a6ab7d1df6030151ab84fad2b032bd8ff10a17e0a878c010d64f1901283640b23805061c9284ab2be28b3069801a0ba8d5a5a79458a2b393a2a9c2c3d36554ae05f4fde44c69c152a3b92174f90a05ae75bb8f5a6d775a34ab0bf45a21c2f615ed0689629a6659eed38e4f252e002baab3e5c263848f9a1c3cbbe9d0f0c8d0df7e63be367a35ccbfee004dabb9bf51a63ef0d21bf74b4da8235ce07090f55e35d5faeb6a1657c33c08d252ba69796a4768d364561a69bef54ddc25852f73e41aef2716d3a4bc9ce15eebbd32763dbb56958d2c740fb8366af0fc2de48312a64e21042f2f4963338aa44c617b3fe95f75d916d1969c78d077bf0fd00bef4f489cfd74811424934e9a2fff998e67e90eea7bc0bace52ea0aa8f2042d6caff130edfd956e1288684ab46581195a3fa9568cf78d24ab2cf73afa10559fdd9c396ed3cac27165bbda6314784d1e31f4cfa3c0a6d49ce65783e146cbdb3e060ac8b841af9f449c114d0ca38ef99220d67113226c8438b7a5c59509f6c9c44c51b614f1319139195573e83a47fc410b1bbdeca15fd3464a8a6de75d936e5329d9f132133f1958a08d5dabbdd5117874ec5d20b20925cd564872ed8a71a77f4634e5dd70e49e653d22d01c7d69af8c832c31f4b75e745a39ce4dd7109b284842f6efcf210b644c93f7db4989593514d18a4a01c6d8c04081f24f3a8a206d2cdca53fbd6800ff8e739103a51b86365c14a58460b05b35608d67127d0c573d798dd3fe77bff03c286738aa176b19a2a8ab01b33f8c8a0190e8ea1d43051b5e5964f196ccc57237926901886cf3f5fdb678b468c0deef9549e2d5e951f52511586737103cc375fd7ac4c4aebd573a1f4334b930b1dd97bdc19a22cdf43a2bf4a0ff4bb09c1c1543c35696abbc5d69d66c9d7d79fc6299d7f8a6e00d7404d91e573ebf06b3979e16364e24289722f6985c2802ea040a6be4433dd410c2810b84c1ffa2927829f8dee5c42ccefdb8193d3bbbc3237e6c4f511540f98f3b6e6bb261fdee442cea962a157d83accefeba2960a8fd1560d833060f2cc735ea3ca5bd713522b142239ab300831f05ce96c787e23ca2ae3d974508985f71a51450571e89a0a890d8c9eb04f1235978c55dbcfade69798fce34a0d70b7183a27d47c89661b4d3b32f16968766fb06a0988482861e58fcd7395772a752c90f2742d37b304fed1094495953490403a6702a866010c7147f62e466a5e68701b0948de5200a4e367be5a246459080a51735a11de1b070bfbfb0528b31b7ba1bd1f1fd174bf5cdeddf6ee4974a5e61407c4c218507c96c88b2d98a6412727837c3b976152459cc9affac370cd35fbb37c8f47455ecd6eb1ef212dfe07875003696d00940336ab637db0a80735ff85e47ae524b220681d296ab3941143c8c12bae03d0684e175873b78a214660a7d0b2f620aa68ea2dbdac8f86050ccfec9eaf2496a2ae7cc0b9dc0716920250d79ccbfa1f3d2d4c8070e8736381352f8fa0696eb1e4a45321b48334f451de682e4035f3e6c5e0ab936a24d3bcc944abe5b9d13e8f4ebbadc62afef00d69443b8855db338e6cb8f640f403154d34d2a39d3973351e586b3520de171136c4c2df48e6e2b352f63dd7048de296d4368a2dd78dfd9a8ce3b5683c6feaa43d3b18a2c8b603c5c52e2305429d29ac6502fb307719b07a23998e715c8a44446e06164229c5b862bf0149847273717f503d9324e3f3fd5ed54d7e229acf4c83efb1c0eb95407ea34defb3cb48903494e1961511dfa41073db10117d353efcae2b4b095ca52bafa8f5baa5ccc64664958078064a4457d90ec8acc6d78025b93c7cc35288278a02e723e56f06ab471da1a04b864d7d6bf0fd114c23154ae810892e9d0c885275255e92ccf76987e57ddba96b47d66d56b5801d6c39dd228c2b181ea346ae4276f660365fd3f8b34600a2408ec9b19a1fd86477533a0d8962f6e65b2a4d4f926d30da0d419f09ee04c1f65e02aa1aca3246ec318b573d5efb58b84fc83c12889895d4f405ef2f18a0140692ed91e5ecd448ab137d96c10c6dd799b1241ec56706104b83d3f9cf046652268931776fcf3fc2592a33632792e31c2d426b943dfc307f57d1dde2b833560369200f456efa6278f43dbbf90a00f12c360726e014bfa1e0f1ca73b4ac7fb3a13ef412210f9875476489d17aef8c4e21ee4552f0354b65b0ea42247ec22b230252a81fcc65ac34cbff39c7f0ef6da1cf8481ac7ad9c3169c35a080db77acf75d6e6c9f9b80d0a48f8488266fd9c7bd0f501c4777e74059b928679f7d58433907be048e9d642708d4c8674604d391c1b2e51c00abb062ae89ed207c433905e8924def0a4496a34866e7e76128cd323c03e622851541b5a4a01647c16bc8c8b9680eda1b6e7f71d56f067c9df2102ea2b63462149d1adf9ec86e6c6887c755cc3e1cce79aa29e7f93e60579636a50d0e070b8f4c745f7cfaf66125cf7293d4ba2d09b34e709bc2fc8348eda6f12b3681afc66c99796056251abe28c72f59e0d59acbca71cb219efa4f4b302d228ce65eda9fb1950d10a7654a1f9890781469c1365d151a8da486b0c11fdce91427832ad254ee0d854918a0e289e88394a08c83ea9ca46485a28e279144602122c734fc77ea7618423e14833a09fd03635342d2be8ef1bce0f6c1770eac253b1a82a23574a5abd704f3fafad4913b3b486259d23d401cad0fd737761eebdf23466ce721e1b807d1deff4b36f992bf7f03890858dd44e07cde7f3f7e7d7d3237718f588c836d64fdf6d806a331daab32955e30cec9e4cbd5437dd6250a9a063823815eb34bcdb3fe19a6a10671f342eb2126a216ae61b3a396941aabc1d111e228853e621f8927cb1e2ae0a8f47486065471264a4a353cab77ddf1c760a81373df175f46c8ec1e9cc98cd7f538bdd855ba1fa0cce807c433dddb03730dba4a424c52589803b850676628ca08649cf9aa18e4693ff71a94da1ae65a4f3294a96b05ec37ae3fd5a20e7856ce4673f08626cf1460756f444c64ba862761d017c75ff3e35252078a3eae8c7272c58d07bc8e19c5476ab2f65a64285f5789075cebbad1e26d53b238befd3aba5d798d92862d8e4a75bc09521f7e61184ec8d98068e60b5e1f69869ba85195fc9d54573c7c91d1d111f04ab8536a732255492a6c81d158e427031232929fc4148e7bd389827115d9f592170dc4693476adc69ebf7378a57c49ce9907a9f49ed82052a87f4eb9540de3e1feddd314221c1d81159f7aa81fa3af078c6c16ce54f775b61422586a957c685066a9341cd133bfa47ff4d3548b7f1ca4eb393f9b75db682e3578532bd3772efe14ad565780c422bd469cf1abdfbdb5506b02fe307814dba8464e6f852477fdb03994ffe3372f4c8ccd591f6ea33c230df5b90fdbf1454a09e33833628cbf02d12d4e6bc8f7df35c542fe40bd328ceb15e681c8c90332db6db31dd5f53c857372948e82e9a2bd07496a3a31eaa76add17c3f04ffd50b6f1b3f06321193b2f265c9ae0bca778d85669931e984e8586ff27a7af865522c33e78fef5b0260960b154dafcb3c0d67d0693238dbbb19bc73c68ac841b5b2190967ec679f60871dd783e6b2f492d39ca08fff609b6faebb5a58fa92b598627fd7417703257007a1f59b7ae0b3838b742a69b7248d9518ebed025b34439269dff8e0eecdea52d0988557cdc77857f0fadd52dbbbdba29c79381e9253f921dfc8e417340314742d73954e0776f6800917fdef98ee92baa2c03fdb5e16bd0314c4b8651918e7c8a8d19d0d2c1c90dbbb1bfee55fc36dc7f683af8e1b82d87ff4e209bb3fa701a35cdd0469866191fabce59d96e94cf97fb971af06e4654fc32f5b8da4beef5124fd074f4feab010f03b6cbfda9e3f72942e44bd80d2cb5d0436e125de548cdfa9950c145350e82cc8bc9c05db2260832f2268196c829efda330d3ddb7b9d0b7370c29d5c032eb6ae66c6e3de4f0f4da63b68d54e38c6b624965ae3e3a6c10d2aa7c00c45fccbd1727ed161b65c5b718bf90a5886defa7e5af42aba0b923fb3bb2ed89be12955bf8e9cd7d20765aa37524ad2d8ba36e19ff9c1599c7bc443b1f9084277c525a72ccc145f8e5c044e3d64ef6fc23e268214466e453e76a8da690ed43b195ddc2855abe6d4a3cc883d9f564a23f5516c693314b83ee8678eba236be0c35b426a25b6a3914e061cd4277302d63c98411c51a25682e9ac34dad8329dbb16132147146d1ff254e395809e6544025afac318144eb7d42bee30511b19bd4086d6f32352649e6ce734049a2895f608df9e3cbb0b3c67ba89d883d780c58340c8aaa9221aa28c90a01da730f6c5e2fafb223726d9e271df1b7bb22cd22c86398062ae0e5b5354c2b44e1a80330cea0a4371a851a5bc9f0708a781c2d3cb7443575d5f06dbaa169b1cc35e59016bd3f6ff30811f715001e15674adc5102744c91d966c881231bbd17848f04b789cbea60d6f32d0beab09e71895de8f325ac6749c734374fef1370d29df60a50ae815a2613912cee4f6f0a7e0791fc58185bd9a54c4f1ce6614daa2d0a4deb1cd5ec66ea154f6f4a405245f320270b53928ed3c1b63181f7cab34428ccf80ddfb01d63b9eacb3aa62e604e83ec9558e9a6d8714c706f01c3788321480c7a6a5ef73e02706e7b84f2780dd00fcdc22d6a7b99c07fdca57d1fae7f7952cb64e077f2dacfe3ff53eef533df0f1f402f8b1fb3de9f1eb838ef2387cf7c9bd11d410b18c9f3322e768085182b0d7c3c089332649eb5e9e5db61c58a2d65d59d578077c209698b8cf29b2d7d9d9055d3294cd10fa95309cddd505b16b51ae5d5addb7875e1f7e31ddd4003f102b73c32fbbec282eb8d54570919e1cf5b79f97704284e2279dfcbcd8ccd5ad12219a9f650dd79c2a1f771fab05113cd4dc2ec1e7ba9f546e362874b77a48b6402eece915c7e808be98251c89406daaf29a14a900a0996fbe9ddd0b43c719cf842012f3d5d65f9d184930ed77dd621764d211beab1237343e9d39887374402de4ff53c9971d9152818502c33337a1cbb4b0159f93655c3b7e1fccc41b7835030b9da88a42cce3a0fa1c07e729335db76a6b7d38fd5b6ba8b321fbdc06f07cb7c1a15e12590ea357633fffe56a0bf37dd82df95fdc9a53e9f1b6f14dc07fd5b75314fc434b807f0ef2dfdf4a4e122e4d97406d8bd8202e476d7540ae56551fb25a2b8fe2c15a68a43edc69bb4b2ac034f9ea308a53bfd710dcd70e7029f2d46f40f0c2ed72b7bcda2a22a2fc5777a3839f3d03367f4a5d2900d503671ff29bdb9877704d27eefe24bcb00f1acd1dafabe9fa3ec418a5603ab3050009b4086c2f0c6cf99c58d921a8635a2aba900855eec75386e58f0e6415f97f349bead1804b88e8ea05aae0945221db2b1d53b60c20b5e45e678edab55b87f6faa21b34615b10035ae640ffac32229692c7726e21510d30e29ba522d3431ee5bea9cbca91168ec073eba5701bf15260fd65bffc0df8b1b1b895219c91d1ccb68b592d669f5bbdd88cc280d395e0d3d603d0db17c1579885bcce2a158aa9065870ec89a63ce1951346f8dfc039c500c1f086d4ce9504154111954483154f9617df08c6dd89976c6637f478b1e134fce7e7d4981874a0782ab45f0ec245a40d7afda558a35b52ed749d0eb1ee6aa4a3a62cd120f9ef13463c6f6d76497f13a55ac352dcc91d32170b6655c86664802423bc04cf89a80945cd9078cb6296d3b47ce565ece39287e67252989061d928291c28242786e2138cf28ea81bd8b9cb1d4c57fc989f9ff05f4138b321eb12615934150fb078954402e6c3b4960bc7a29df6983f0cfde7360aa4aeb8dee33cd78fa76b9cd7e0b323a5a9b9dd91ea9016fc43049c4917242dfbb10964b72cf9526a2452af9352a6e42a0df3921e3e14d97a1bb57f44ab46fa25868fc05340a85973b023265b7657e6e3fcf4ce78a983f066ed6a1e1bfe994792b89a34b9ad6b204bdf1d5450a204198398e6db4685891d3c9cbe97134cffc4fa63a282571a1a35971dda2758c685db142151382f29843c0147583272d12cb225448470a671f85c0b88c35a62bfad5fc873ce8e1395f3f82ddb866d3796f0705fe07233b6f7c729f59f2f6518f26ae0336755afa3e031d753b3ad0e33982b6030658bd2ebc554db46b599b551e3239e773190c72537976de47352d420235c3668778e1f2bc19c8c46dd1a9aa3f0585f68a317f04cc84d05d6efed175e5da9d31f8054a8916e5207a9fb51202006d5c2093709765e94ed3d724af34cf6d96b6bd130eb6eec10933138031213c50466d15b5ab024555cfd48fe6e7c61b9356303785331314ae6340eb5adef4a655799764a8a5133084df7384f3c49bcbe6756252d77c738e2229952151ebd3584e384f3ae175982297fdc6b9c2538e9cbbf1fe2beb873be46629a10dd97aacbdc6a05dc0326885656cd05dc1289a118112b576541539957d1ad8ee963eb0eb2009686bb364bc1ffb429deb2e9127399676d96c579b9bbc3912dff13d465d3ca0d40c2e23d37b2a086f32cbd66dda6f04f788c19e1f45f44a21a15e8505d3f320f4c073031312bd7be8e337c87fedb695488e4a4dea2d6f72106ec2cb50dff37a218de8988ef3167da76a8a792b5ef2932c76cdc2827edde1804db1f611ea9f7120786d921abecdb6794f378820792f20bf80c57d13dbf17f9b7206286ffadbb06546c3d0ca43cf8d9b79660f35fff7aa17409976ce729d0c37dcecd790887e571502b1ae3355891d4cf7dcaf978c7802b031c2d02393287538b9ed143d035c2d6d6780e0afa4d53286a8ef0b87eddb54d5889cb2dd5d4fd63dac1295c8238f6f8f3100f1983028aba23384188766bd2fe2d9c04fb95ed86ce26f3796cce08c5e0feca858985d34ad072150f4f1dc1a497a1764095784b00835711bc20e8dc7791f6fd775c4c248928663b835fa43ceb07c75e4d1d45c44b69db0fe1a1db477b958a3eb7aa1cd943d075c5a4939ad01d2c9470298df567707ece2fd2e3577bb2900b907e76a31857ac7a97be9e4d067b475582cac8bea26dad997590186a65bb9bdf96de0690463813a2a7e2e38147c9e7ef969018e61e9ee97576c4294dac315ff594e581484b4ce4d0772284ff83ae21b3cd6ef219e57517bbb424d272e3ee6558523a2b906ddcdd6f28610e24ab68250b27774b981f9295eedc3b41327fc6e4d54354019fe282787f9c1f54f3116f86ea351e5ef75bab57bf290270b62c42917b76f156128852e6a6c4de090c9092e15157fb5262cd7d8bf4b4b235fd17bc46d8f208b312fed671352631239e4aa221f5523f71ca40578b351c4abe56a8d875b60b13f30197660c01ebbef41f62f3c963738487a6add3943e9d97190ac14a6cbbcfaa1084ff2aa13260f41f6500c6ad1d6269c1f930b0eba2a16b4c25745e90d2141aece33635b6d7fc7f8971624b61b54cf8c01e54f0d377ec17598a9d424a85bb62e0a12654c651c04850017dfb20cf911847bd006b47bb3ead5b139e89011788ef7a1eb1c323b90eb94b312efc21449432f4a96e983fa178e10004cf15e0e2bc6cb309681378aed0983d11f607ee7ca960a29d42b657bcb973b2a4efe0e06d0dab7bbe7ee3a6ba3f440c32ce6c55d973961559d838217de4a1bfc69fe66cbb12ec6efdc907125f5df1403af0a4f91633176070a725314985f48254a34e418bf8d54938cfa3794d11a6e2e958d3b0d689321ebed61f4ea7a622d304d153a549aa58a385cefd128e362a3afffa26d0f6cda8c771604007986972351eb8c6a258a6edeeff2190dccc3ffc84394539afd090dbc89dababc5298da50c34bdd0078611ab1c4e37b6508608303b6bf10dc8ea19ccc66fc2d5d62269398cc6a1f2b754ec44a422998e5177c338bb28b6e3f89244171bda218474d5106cbe961e637e57a6822c5dcd1856134ef3adb971b77fcc0e1d92b31b71d0be4ba87dffe1b1a1e8508537a9bbf9037ebf29126709416f114592ade8eb5c91e9b4b548a070fa2fa28f13860cb26627d56d5f854ee6b0f431766f45708ea04684a82e7be11285490a805320d421d7ab0d973347de5733ab3163ca7db223af1c01e7c796b87ab163e3ebc585f9c0f9a697f990c6f7fc253cb1a2760d691c897dbe423877fa96bcad98d7f57debfb6dec64d03ced88569e421d0cde9c2b2ed3615ff793a146faedbe43b60f3e5d2a400b0edf45b184627375a77893f80847175485f126867c3f1839e7a92c32b79937947f0abc6aceaa8771a8a9abc19da1536c6b6847c37482d3c212bcb4de40e83bfa2809aff93dbc6d09998fed1b0c792257d02fff876c96345855be611e00b82b1fcb506b392346c3f862627f075d2e2790a75775a6831536972ab2c8357ea9f69b5efcf75bccfc4761d712cd386d2859ce6d528a27eae7ebba44d084662c0c8ff9acd6f66929521f7d2fa27166aa1ff336ae80dd1484a0475e4867f0cda7e68953eb12514e9631eca819a3e737a088909dd9b9cd482dbd585cce6ca7f5d5155c268b9984d9e7cd7cecb5aa5728d1c28a3d06875183915ee204f867083996ecbb1bcb9e1680893467a3cd53927d5f5d5d5214c6533c5c55c43d0bca396464eca736be0ab616790cdbd01f38b0e8846ffd3d1cfc6e152866167307b30b208e4b90a8100be4a5d0903bac50739571ccd4d17eabc13ce7d9678eb9cce733b70ceea04e4c5f441704503bc325cb374df08af6aa67da3c12ea2b37ffe036535fa821c165f346d5829569dc9ea45f28fd4a2cc82b46cae7da26ea5a6a940a5634da2606d5f357e8a1fd4629adf2aa51143a1ecb7b7fe43c58870c5cc03749b807764cf971ba4d49b6dee6ae28a8c49470efc8b29a53aa1cbc9c9beea4240b094969530fd43c9d9b91d1aafcc725dbcd1e36ed67461652c9a19a73a77087355d71b9427d6475a60ff999437c09b0708a5437925aa57e05026efbc090f47f23fdd6ee378ca3d9314cce74bd988b0ac0427fb3c0f63e8773b39a01ad92538f253553483093b527d3a8871b4a80a3bd82f3db94addd5ebff6aa275909258f0c9cf38a838f011edf27f2118ed93880866d25922afe72143fa0f4750562e8c4d015456ec14bb6c0af42969ce80209201134f8528ed4018bf64956ce624fe563f7cb10fc7f2fe5d8cf5958305f85b727ae1fd69eca9aa146ab16e27a813a28a43f83c634995fe81d60ddf601396f03f454a79fe44e6c0b4e10e42eddf1ded1e0ccac799f3ef315b3b8078049ab456a9b51338d3cec3de5646a82fc7dcb92686d640915e1c06a032f6d6e34bb1bc5d8e96f354380f7737b74041f049748e0fb054a6d6f7f0b4515ee5af445bbf6d15210d647c526385b8937ddd576a4ebc3e22d7abb92f8d0fbab7f8a782b4d48f048f3df6a0908b369407d2e873a138ecf70e2c459e7b95aa7e6b84f28cd487e96b85994e114d96fbe5d7ee0c0d4caf19178a267ac63e13d04c3c873c9aeaf3c2b8b84a40dffb7c9cdc80a841a2ce8b137a8ba8fce04141bc5722fa73f5aa9c4c48348c3c14c04a25a35d21d0ab4b701f1e4961003fb1ba9840ad5ac71376bd2d3c24720d19c7fbf022f3cd573d402afd2d0754f5af17f3e471dfd9a8f2f3deb57769d3140440b02493496cc8b921196486d29db164c281831f1a17b1e362d16cb1404cbb52fb9d8dc10a3053da80cddb1296ff3d25e123aaedc7e3d50f958cdd7a1db7af58ed34cbae5a82db402473b60dcc0a52915d657f23fff144f4e152af7e117a4667faa5dfeea4ccf25554a6b170de4965894fd7646bba7e747d77850761390aaa1134d4e3700ef69732527793233661eb6045e18dc840b6977f7358f301bf02dfd53b01ac089fa4b8d0912ad48c91fe29b763c5ed38a575dda6f6382c937f7f8fb7db1cb42af5099a9e6ab05864a7c334e567ba1f7a719a7d72cdd6cd8d71155414d5e3f4b0a7272803338a841fd1ca26bb3d9ab2e79735b9de35e3b0938abda8a026cd72600c977386f43ba12190317fa1c2c36805f6f8028d11e896639d64856d9c53dfc7c0ab180460a4415b534ad26d041d56a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"797664023d56021d625ac76eb40fb6c7"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
