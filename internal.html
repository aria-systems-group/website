<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dbb675b6f5567677af28840328e0edb2fa631913b942d71f1c83b60b67aa652d32310d4b14adebf44b434365608212919e2b52fce4327de902756e426b871731992fcf3c6c66a201eda270ca96d7f023e855088df5321f780a672700c4dafba4fec4276e9115c7a0b85f7d331b48a7e081d21685c5b3ea8ceb99d6391a41f2df414024810400188b216623bde7063d2658b4f47b520e8a8f2113045f87d96a952020f26de8f74408514d683453f43a784f846cd5ad52e02217945ee9a47a5a0a9639eb692bba8fd30e81b71d7a1d0f7c1d0322a0467602655c4b1b2e2f05e31739c64346572fe9083ab69c8d16c2e21ab1d5d0a76cdbb656f547ccef30d2d269e3171304fc1a464961c92f5a24bb411ac1082c2fb8cad4ac22555f69a1ea8c65a0e21093c846cc7b8b21d31fe2a65321c29a188e3d39f64ed2558ed7ad9eac1de38ff28e5844b55b14aeff90b59886a2da4fbd0937b294b3004b0140ccb5059dbe78ec94feb7267ddd9a39fc51b0a50557c0c45ce01129e773125c59b7b0f8ba5c4cfdad4708e0fe327fd797095fec5b44da72eaf6e54cad11669be06e272e6be75166c2ef3a866c32cd5fa4edfad0e40e736f04d9dc87b63357794d1e6c5046eb761268d6b0449c10d0080d7c792e19151d34b84995d48cbc8604a7f9692a5b4012744da47671bf2bb3cbfc8dc1a906fb3dfb8ce9087f1e4f329876759617a15c2da54b23e0ef453865b5abfe7ffedc7cebb6da82c9d1025ce9f180c3d64f513aa4a436637a2db42532cac4906c1be2ea1ea91f621be598a8c4d98c427af0197b0b74d065c7533bea2d1d22a79dbc5a7aa2f3033b12e3e9523c17004150f3d18fce238aac40529766af8d6767c295527adf19c24c7ef3851cd60580b7f6c5bd8c84a511fa6b01f44154dff30abc6a5f17302df9fcbc4d44e8f5d633cda9db1f9838943503b984e490d7e32630bd9913ab7f4f893f4d57ac914605dc824a233cd745b30934b725dbf5c6d72b4544b308df66dbcb22b0b99fc3eb83db2b6c1849791633102f6da51320b450ce6e39852c9d9d6a3b2ad6ebe43868ffd9d998e459956356a6221a3afa6eb5321a4c4c913e24e7f6b2729f7af4322531f5a44a3a1dafe15aa278aa398e12cb6981b71d57cafcb2f58033e66a29bdf236d2220079b8cfd7e5934c64699f49ac7eb86406d489203fee96b47f279061ca20525556140fab58c9392b4743efbb780a45f1753821d4d4183a6ae0632b6754770e5918ee20bf31ada8db0bab6b3096905c30ebb8d4095b4a4f75e8016beba6d936f57fed03d490b1a88360a8b7a60b1979855a003996e0944bd8307df49042555196bc798812dd755c267451f39c9de52f2e19f14ce6119df7083e72aed43c4cc394360b2b8f53c87f4d5179dc4fc415fb6c5f99f7b58daabce15874359c70d93872995643a730424dc069c03fefcec5d4661a2c8be20c3901fc43ea67056a06730fcf116ff108cb6cb6fb455b839ff0d2452845a206c957a1d19e9f54941f08eca0055f3879cd09595d53768eb32b80ffee83b735c0b5eea44b1e5d87a6dbc9352889d04e21dec384756450d35bce532a8e792172632421936037949828994e245b3db6d16f0f2aa3de589e371520f5ea83cb91982fecabc8d140fd98640ea7266b74a7527fe24228dd0c23f77aaadc7e92d36db3e66dba31d4ea5c907dc137122d65dc7daf00796a776b2da44513f41b8278032e24ed35d247269977b3f0784941de3229ff9dd10091ee46feb24cc2df0d9644a87489aff992ba6c04274b8741561af94250f4aa974fc82ecbdd8fa34dcbc6a5dc8eaae3904a05d62b6d9b8cc891465a3da1537e802aeff4ed3b2665490fb944051501f1ff626cb8d4df1c0bed42a481882d01617d7b67b827adb70298af52613e7641169071db48dace1a5b1c91b89ac1cad887ac8c97514e273ca9aad5da8510779de49904827f04bcf8df6e3b37215b34e97f36869adbf9ad991864c7ddac0de75862cc1a14713ce3b0853341b11252d4f922aa8e5f5c92cef41be0f9d84a59bf5dddc39ffb1a096c54a418ddfede00b380b045b325b28fff38b8e0253c6342bc949de8d801da48548cf7c3a2a0cc3d55abdaa7f6c7c39911da3b17ccc6ccd7a25735c649fc14900f61351ef99fc14b0f2cd323610592c2e0d9da831df93f48b6e1d99be6f7e183596db98be5f6d02df32d9ceffca9001ba1ec95401279f6f2ddb817977704e65da5844c8a3fbfa159fae7ab70f0abe42a746452bbc992603642432afb5f03e85b5b2500fdb3fe444f4c70ed69c67e85039573a7f189249fd3f08fe4cc25b6e5fa96a5e2c7f3dc8753d58facf52f055b39baa1fdeb3a7176773fc33a9028d1d47c058b651932b4feb5a39cb1ea39c2d44bfb81c2133a8117ced767694683e652d51bf03b4db7743cf043231a687c88c2e522be47867674abab8b57307d4e0c4a4839220b55a6400e3705822a114f667752b3d0e4a808186b46871f91fbbab1ee158ec18d85dad24d2d513c9b6cc5e6eaf1c192b3d3f28529927508f7f328817f628652b01148407f1baa6402ff3465b6a2a9cc3b8de329a57d36a3a6636f06ac9a5ebad164ec83f9cb90cf921026af357a3078361ec9382c7b874385576c1664bb45f419adcaac367c2c2e2c7dcf39a9cab4db3f7daeb0d8dbc899f9606c6819b304ce2203c1f97ddf2e2fcbaf6a5318f339249b3b0f71bca551d6d33017cdb971238888602901562fdd1fac8ca1c0493baf140a9ee297d4c1371b9d4c3f8e4d7efe6f5d90008695d4d587f74ad2b3a3d084d0eea7c94e57a6f13c38eef3689e1d8e7ab3f5a8c650b983fc9b9a0163c1226cab47cd7e1eb2821bf64a322165306be79f7f6dfa5866af00f75c6b7eec4b1f371bb67bcfcfe90b45bad67a3fb9d18d2616c4b45a90a0bf43b18d1bab912e696f401539313c1c9cc619e24382b9d775ec2ef1a6612c165f4cb08ad97db78b0852e4ffdf78d02b4756d9873b3660166a58fe320183db05560c33b474fd2847cf111b25ba98fbc796c794054284f24feba9f3035384932476e1046010fdc35cca54b22d08cdea12516b21034502318437f123e646c49c921e3610dd1ca641d21c79e09f2b00a53d0cb3eec63de6b393799d20f192bdbedb72521b8e936258cf60f98c38be1bb0293afb6fbeb8b19928e830f445b091318869b6b04516788602b48e8f8313f0a4b59a0e97e61aadd4e6887118272a4d9d39567c72df4de93dc9a0b220e32740b82ec22863fe93ef5fee7b0f11354d884071c30ad3c82b3bdd5a51601aff78a6e089f8e6dfc982ba810291ed831dd9e43fc436e9c80bf41ad7ba388189b638f0daf28b437ff75853a6327788a867cd4cc52747a9a854f80ad9932ac1a43fe8c736a7565b893655d18c4a148f76129cfbf45aa5b10e29e8cfc2308f8c94d716df4c9e78fe325f0bbeb05a0840394dc44ef6c12455564d22b4a0f204f60416f18b41cbc8406af9aa505795be7762b3e6983b25ecb83ccc7f78c8de657a889669f7c20e237ddfefdc0dde87deaf8f2f3d69acf03f0b1af0281755757d3c027920f0bff6c422e4dd35514ef3cd82c94b311ab7e2faf0f34660495ba4eb4c3db8fbceb3344fd09f89b145f98ddcea8180f884496f0d038df7d4c1b8560b19f5a3d5ce024d702b7f3cd4dab385185ab902d7ff5918db7fcd5d12793ab8cd283bac4a9bbb3a461c6c57f5566c52983d7bd7cca5b807bf63d316f44589532047d4624d58eb2358e6acaee7b4e2f598a6a7c4873687384e9430174edd7ac7784bfd76aa40f3e900a3ffb66f044fac1720b71a863cf19d2f28c5a69b1c39652091dd55c84e42e5b15a34b56d8d7a301adac78cb1478925f1b920e18d013ca18e6263f4a42973c3d3d436845fff5b815f992e5962a01a06a3963b217d552f3703b7e767959fa650642a5252fc554484d31bbbf444610bc34786470ae668f96ddaa7742c8b8ca90a92f93b0f641402e75302ceac0b7adce7619236270e24bab37afa2833849110bb13f07b421c3fbece3554eecb28e0ac34f7cf00760e4a76b76236485c3db79e52a8cc010c3cdd3e5e8ecd21e720fbb95c95a09f0ce7ce5095d20361a859697bea5b26290feb9be926b6b72d24be6fe9da37d25621a87c64c4dab61bba0db1ffad23182c04318f76204fb0766950a5287840e36bd11c5bc2dc048ae99fbfc8ced90544698d980563d1d8c2df76269c2c01861551e143ac60e5e5a256d98b0c095c5068fcfb32103903bcbb4fb24bfaec52ebafb402734c6f31a70722eabef1fb06fdfa4240396392fb1f8ba9924c5d07849c0ecbfb84caca93d1ccbddfa5ac2298fe083458ee5856203a42e9e407dd6b17849caf04e18a2607dc7a980a51fd2206b6c075f9ef365610e2debab3e1eeff25429ee07d8d8d00cc44314e55230c3cfe3d6f0e194571d1e2df3e097ba0bcac35a1ecd4ed637bdc437aed69c06a218709ff4c50c75e7602b7daf002dd6bc94f4b9fd9c606fcbebec83333e103073125dfe4531b016de5eccab268f29b1a640b59e2bc6c9dcc17a830278d49e99cb03e9126426394313fc0309ed1cc82bc5ccdb74c9d4a82b434abbf57cc38bcc2008fcb8619f9e237876173bd3309f4c8818fc81f820030b948e068d5ea3b19f203ccc7af504f0b5fa7cfb7a4c99b3e5c382bfd5d27b2fd3f5158a0822c5fad7b11b9a6bd8fe743c43a0cd3c09243b244977ee6a73fd7283b6a637462d2896a50f315819942f53e1f16dbd2e134c292cb366ed92fbde88b2b64b729426e1185be1164c2d37f9154150fcbf26830e9adb64df5126e07ad4a1fa7760f406d8663b9371849a82fd75fa260d865ffdea0672cb66c6d190c53536c703c5cc385c197c66ca031b13a737be0ac4e04879860fc419a7ed8584a2dceb86a1a00d19c24799f749e8009a2aca3f1bd86fc17273a708f13b9b4d788ff138e149c822c05ea50e7346af9c43ddcc2b0c206aae60f1643236e763ec1f6fb621b042e03c625bdc8107054cfd4e9e7052f58f9343aa3ee23e4ac9ae34f77d8042ca154bea0c1fc82506c6dccf152f07988e54acfa8103e5cd70c82686ecf0061183dd60cb2bcc26ef6f509683cccfe3a59c4df813723a388addc6c37a125b80a4e3d59a9bea2513eeda8b0cc0adce2c1262428f1b2ff1ba0624e56127c5957998a95c94c4eec7d74cd07441f0d1f3f52ee6c15b33199e98f9b7d881d836c5559e7cf6685c771fc6f3cea081cc367c4978a05120d072e66fca6648c8bcfa9f641ed2c1730b8d3f18fcf4074507d12b2f2eee717ac75f829c801d82b6fd5f52ffce8237a96858462e41ac71384cf5b633c6d49c2e97103ebe572d054719ae1881008b1e66d188be22e5d42dfcbb70b18c16c64d371426e73cc582c0c3764434edb3ad89c598d8bfd13515219a3f8a544b7ca36fa7b09e57192ab4c38b8b7f4eb63db9aa2c25ad2c1935eccb85097e03fb745ef926f4cf0c6d204cd73d4435b756de531b056b9ad1fe078384e652d6c2f7d01f1fcf4b1a9a2cadd5b5ab2e9233aaafb462bd736055cc252e24f9400520bb028c1f563b2a1dea13e6ccebefa15aa417e01280c2c4e6dd4e556c4a5b77dbf124bab68decfd6f14cc36751bd5d6e7a0f215af25739daa224678c2ce9a4bd069b7d14cd65706c1841f6e8df2fff85c70f88a262d45b33ac9aea23c4bb6bb0321ce90c51418e0603a7228f366a9df35cb6f652eec76a957b0c178199e84fd1c3427c1284da2217c5a20d705418fbaf8560831e8782643d8a44758812aabfc21a2be242a36707ba8584b5ac3bc5cb60b24e8d9a99b9d1bc50faf43ba483119be19bc462aca6796d46bfadff1a2d6e5949d3a2fb631ff7c259467ef15c184eea1ac34e25f5c63c594b173f8f039a8fea0975b57a763beb90702935eb7607425f484b3e23038cbbe2d06946f6eb3da807e273baab3fc87a936fc5d198f887867427734568bbfb13c6d824b8b8a81dd59c9c3b7cd38d76ad74da01c0cbf97b2e87ba9316ddc5cc068e093d084cff71eb6779c6208e9245a2f1dc4dfd582e0cb1affa810ae82e681369f9eea05bd26100184191277bc523ba8c732e339b2b7c38993ec14d741f59d6a19d2e9ce16c27b64b7189cb9d95a7223ddad133aecf4de5d2d525557307149014f537040353d62c22985b7ebcba5271fe95842df2b865072cc9fc669277477874291cc9068596da5b5b0a7ab0ca4994f3c48e8b2da2b58acc29b34b1c24aa604d559e05d9b7f452d83ff8041354cecd2e597d62de726dbb6cf9f32642f4f82b855f9e2101b2f73c9035e11451fe02ea2d74a4ade5ecfe27c335c330724b191836aef1d0883fab31423854e951dae873eef1264505d716f0b6a79429ce60d01c160e015eb0f50959ce4eaae5db73c7cd5393c17ab4ab7500c8018543a6e71588b6c573c0f7a354d22c292f8a44d46327eb633d15034227802d4d1019e8e27b4b4f4259ca5bea8c81a597f85ecb0fdc168d3e44f7ac4bfba05e2d516adcc7ff6aeab3ad40fc5b89139519ff483ce964941fbfee5dbaec75fb0f2bfc7d39c12a790f58ee22f1f603698ed9b2c6bee8742cb2f24673ed76b8c47eab9f7e51abe8e5033cf03b5c2bbbf9697569aa0b70676d1b88c41f8e0dd09546e09d24822fd1a9089dca95ff01f7d1670195a9082eb4553c0c043a04727e83c534ac68be15326e4d20542388951a9fb5cb702c7d44c2fe7ada102107f1e2bd5e7833eb80c6c87b04dcff989f2d64fb772037ab824e942fbff2e7cd1bd897effca47d805137976164856b5c862c28aa08a49864f8b06cac73436beb8fbc77ebc2dac1054102465af98be498e9465b645145e91f064151b7048bfaeede34da48692744c6f00159595201a18f738b68e5cf5a3935bb806d8a7694c4b7b590567df23bb50fc82828d5fcd93ce0083f0670e61d9650a2a0bf85fe01a2c2c9050c99f6f5a05805b89fdf18e79f8cdf3b8b29b610547accc30add8c7d278925f5b3621f752a0db07bdbb104278466b5724226603f2e1673f74a672dc608794b691312ac39a0dc01d47597019f50b845256241cb6a8b0eb8a225b3de860b6eafccf2cc1e30677591be240761a46b8edf6b498d872346ef37277bef263b1f7ad4b1ccfbb111d04c2b7d646a9657aeab808dae694ed7307d5bd24a097fede3162e29dedbc0dfb11aacbaceea8522852249cee248bed9136c93a662c3b49fc0b0c8682b9ec3fe80e80f00bdcd4915dfa1af3de348118326451fbfd2f4c67633576dbd4e14665b751b8eaf8237a85528dc866eccff007af546ba9ff186e81a2703cce6ae414d4ac74d3d5216e2b5ecbfd46cc3d211246b9c70b83b1742ba10b6c7d85774a60eda9cc794d3818a225841064f285946dafd3fb84e2b69a986e974ef74efadfce98357f138c05c10729d91e5698edf274a16c785a5bba84a12ac71af448f399420364a5d1e467dc1b7fb135a360b56add360e66fb4e55a8982bbc235cefe5b3c64bcff48b25d538e84190de7f8a97394090aea0d6b913cec375f70e31b2809ec03d77aee5c00b52d3b8a92a3acd426f8c9370e837c906c3240b78c13793bc31cff54dd7053bf45a2d525b67845f44e9155788c7f94bd97cacc73e37ed44bd86b16e46d291b449f4ba15bb31fd9be17e0c5a8dfc7b3d92655cefd411a80bf302cfe6955e9f67f7f61fbf1c154df6436a4aaee4d3c98d6b741a7575075ceff455383a1efe4e44ff6e1a74347a2f678e9bb6dd3101fc0c81e034ba8ea2df0cd20def434aa252e565c268a660e956e8ed198d1b5d2db69bdd1e421fbe03865da5a3f408b80ffc2bf6b87bdaa78e869198566aee1ee2ebbd0bdcf96d5b3df0801335170f5e9a3c70fe37cafa9e1727f5ee58d035055ab93737f524ae654ba60cfd2e6bf93c8561f1c13f87f2c4ddb01a687cc336357f635a44a065700866434b7c691dc3438d22c96d7d5f72f7ceb1adf43c8e106fc16a3ededa4736127088bcbf4190c86b0c5a48872e27f2b1e48fa0dd29b6cbf934d255bd406ec7d59a40e64c88c8ebbc2dc66ee929a4628f5910cf43f78aad2f92aad900e86ba47f34e3d930a65f164813173e7aa197f154a79d771a3cf96a32e453cafffaace157fae0c8a13ba1ce12ebcf633d6c9e52778ff2b2cb2e7affb51de52233b88d70d9fc04902d5ed9b49acdcc908d6787059bc3b938f1a500bcf9bdb8bfdae7646bc07899b379d14f1c017a1e230c8b4fbb858b0dde9a3302256dade018d428c5ef78712ad9f1bd702b91c8d21a3ca4cf2279e986ec65e7ccf9d56e04a20028dcd961ec97e525e2e7990e3a24603a066f8ae1ef037a36e975305b9f2770f64e589af6b66829ee9b5921f25f039e845b26cd344ac8fb2d0a724659d4ba186cb50fb72f744338c2a1fed5d15f10ba211011ccc4956b9976a6ee9b148480563d4d8b5879b15197ad498f29e0e3364f54d2991e7b8b35aa0a3b57960cc054f414a846678d8e95a3ab6da4c1e59a64d76e4b8bff0b8af77545d3504ab3546455fdc784f5273c578c362d031c6a226b2e154f492526f29cee6f0e5ef57fe05013d3ccfbc6b089b74cffbf0f9f9df24b3a577eb3488ade62e2f8270049db64d50a5f4a9dec87135ed3ed8a66147ecea4a4fa75675b23e382340f76ea3e4698fefdf12d274e4752b53b220e0f133d0d7c9b4888db545cb0aa13fd54d04ad6abad67fae5822bc26844944d02af035416bf3cddc26d89d95e0ac699b778f355bd5f6e9691d71667c8220dcb8695877c8ec1ef73bd939ec742ce452ef34d06f2fbc05d058e08802f961b69f0b0258233db9da7fb281069ed1a7b21091004e354deb390880529007664d9e7247a9f1cd495f98534f49d42a4e2cb9acf071daae6356d858dc9fa69f623d86ec0872c58fe7453b316996b66ec5b00d0984169306e71f09923a4d11577f89a181cb4e30ff6ef494a90c9a297f49ec2de0bcfc82dd5521382ed9b6d0c45421eae427c1c6a7065c6f0026195eca5ebe6f91ded4f3f91085a209463c346595a8ef54c1be87dda0ef12891c9e6ae899a01a2a679b1094a4314c7a799e030eacdb41366815fee885db76b875b30b3cbf406889ae4a81992004752aa15e986b6430501fb01b57afd5b6a117cc947bdefad604ea7b259add44eeaa52e0fb0b30f1dd22b2252d60003b23f7eb2c75ab96b99919db28e656b42badce8fc236ffc8b4072d04da4feb22743764c28c9a4818eb49078a953e2d210393f4bf6e0fae33d0490277d919de06acf47765198258465da4dbd052bd2294e00e68b1885f16f48edd998fb5ca764a90a67c80c8cf1d30d227f30c5f35b1abae1b879c10a5344deb7626dd5d5780b5a97b497069261409fa56aa651ff9748c647859f63a9edf46ae63d2a1e0f093bc2a3193f5b89739b2ac0823e2cb1669c5f832fe412771b76bdd5184abf84433227ab46deadb204f1102f5f0e9a19fd51c9fae14a9d857b2da1082eeda47fb66a1eb4c2b80ecfb64d1899ae9748653a4e1441392d9a85665b4ad06c3b71d8df5d25e98f09633a13989220c69c4adf5b751dabe90bac117e92d145978fbe6c13dcba63dbe64d54818146ecf858f7e745bfd0c79c1b48d23155d836a73edbf1576a3b693eb95ea32d7cf42ad278fe87abf1cc7e6ddafa19f64a47c2f1931e66fc26eb73be0dc34c529279b927a13ccf1f90dc5b45a92739d681733689cf2a0fc0d06127d3002bbbe701390b21e3bf3506e8090c92690aedbe0163289229802e08e81ee90586c9bb6391739a0be2c81713d56a06b5519d47cbd4b12dffe1c56ffc22c5f8a2da15a66131c680cc4024e59573e4a1e1362b44f29416ab6cea43df4058a81ea3f3bd5aebfd78046e7012bad32e411f5eda9ca10ee91d6f58fe7f7c94613928581397ab4a8bd568eefceeb45fe89707aefe31902e694cdc5aa1eb078e7f27a9b11d49e0c94e68fbae44013971c807e71bdb1fbdd8be388d7b5ad939efa6ff7a1eb11b569b8a09a7e93a0640d1cf6df4141847f0a91ef1634c50b9d4b443c11ec9d9650c54b0159dab5643187c8234e571bb0efaa9683ae63d7e6dfb30a05f3d41b54e4753fb7ce8e47b6141a81dcaa753219b0e846746b5450ab068e4a4499a9ba458aa924836aacc4ba47b8f24ddd65bf5aae102fd9ef9bc6e21a75324a288c8032590403fd1d2d2e8b27d7269f354c01ab651c38737d80fb3d3118e3a487ef32b2bfbb77fa642f03b825aa8867e5291c80870e9c04085bf997183487e8dc9cd73ed17bb616f2cc0582d2b58f0fc242833d424c89fa6e6cfb548c0cda5a7f3dcdc74d01acf873c85aba70e223028006c8f99a0c954c41be65b8cd61a8c5778622d1ef4e9646b802db8e443e997bb7ef71a1833d8e335ac54209ad53ec522624dbfcceca2b71062e7301ff29076fac0b8169ad31b17fe0dbcbb50a345eb8287b2e8154a49bfe8dae18f8927aa678e9e37e1db13510aa30f860e4af30988853d3e9faf17ead230e7e02eb2438e5bcdbc2572c11f92b63a8bcc34d479edc93921769b3f7d24a254970c6024e1f9d302ed792b86f198ec1faa4e0849d6731840a4e97612ca402edece295d9537d5571cb9de65b79a7eede97894152c74ab4ccb0a9f4980026d7ca72d4aad92987e75cbd03e3e95fec53feb3269a8f135f037944ff7161482205af127e7eb163c9249b1ad1851af429ab3bc56d91cf9fc5d3e4e5cca6cbe7aa463700de2d1707cbdcfd4099108ec8f4e67ad99458ca45def84265f294fb57e738f6bbe115a554589cd89087bb5dda4fb810ad59df5318e332e2e8b15faba93eb3d97ba4a36ad295f9664694b80de5232d98befe405f25e5be1037b84c6a3bf694d22e006966267ec1b214d148d3d5e2afb53928bec3c8308f2ed67d571aef5aecf3ba5121f50a1414721016998758e1fa1b9513a75ce5ec42655e68ac72c9f3038b06d31ef0a4704627b565912756ef88ddf83e0dc5afec81943455a907f41fc57eb8d83777e0faf017b02e0cfee9a217d21515413a847f9a59ee2f2c72ea153b1a42eed1b0b6d3dde54df0abc2d1efab43190c14b30fd2c1a5fbcd94d89729c1f55297c94d1d3ab676954e27ca1e05872a515a882ae322b8221360d9a98e4192c51f5e64d77f072beec997e2d360c8ebd489eb393a6f3c3f3d5275c41e903d53dda7cd3a4b5c6a4b418a5731b71d61e8a749c07c005ceba7ae7104230590af69aeee164e9cf4ab6991b0f10791f4f4fd137ac352b60e5fbe8236975921a6023ba4d8df81ef199bff11aad9eb3debff4f20168263469fa589bfc229ba4240b75636e272776925db367fa7f300e9aeae103535cf7df2cb45c9132b423ca373375be958343f5bd8a7551e6e60584e60682d3522fe7897c721cafd3d2695fda3eaa6e4b2e1d9228f09e8493338c263490715873f13bd20e5618c50c375bfb29c4cba953122a96af4e361ca89ccee8cc603203198f316f918976237d78a985744699d574f18fa8fa67d7c837e5e46c11eb5e17009eff3ae7f6b854d1e156b7896dcef4d359af74398111899aa79db8bbb5ee18f553cf70b875c6fed79f302a2442cad681e774b9309f104083e61c3426d4d04c2af71fa254b38a53a72f1d277ded2ecd3a10d800f980989364443d255b62d5e8baa54a3e6e34586f52a25b36d8640d4aa20d26a6407be777dd87ad6b1fb018a8d0b4f937a90ab49d57e608534355c01e2714d5ef602469c85490ae211ce89165ee3fd4b5fd2e802eb3737536a63bdfa7fa7f3bfbe56f03ea7c9f76fe075b384618e160f71d1ac3e96d42275b50e0e0d8540d4e421f7673e6156e6cba7e54a14e3fa6acb89c8d717f5e353f21de2773b8bdfce5f665a39bf7f6698cd442d7c660586abda4ffd4b77daf9111be2a2623c7f557fb9ce8149872525bb25a3b3a861b3b32529e76d8c6bcbded33e49ef0f298ee8ce53bebec2784e521aae59fa9bde1aa0001f6e7397e19cfd527807df62bc620a1f68cef2887ee6dcab50ce904917ea85d7a8c91113af3c6e1fb1cf63bbfe9441a87cda5cd7ffeefa5eed10fd71b267b871bb8b7fc633ec6119bc47fda1a323e9f681d88a0147e57e8e7bdeb59935bc42e82590cd0ec3db87f28f5e78627c920ee77d13dcd34ea062c614864fa1503e0b3f6cafa826060697be30d8dba5e9e11057758f78d5252d9482c6c370b694d645d361af36b104bbcd819f2c39f79a31a1b84d1b61e16e2a42274782c4172515db9baf22331cb6f16f6bf4d97dbd1083c328238e341a89cf9ab52274aa0ae01aa5c28a6812444f7917eecdcef8ff7bd2fac2e6f8162ff5fb419393032f4d39882c3dd07911fb4cd6e2894289e96dd47941a7fc089cdbff347a20c148737b45ea3a856681635a2c9bb691edbed26b6059809c2e241b0c248e824ce684f923ab4928a066469454c1bd14567812516b001a57cec496cadb026fd0ca30f28ad2452864cdc58957788728f2578731e4edac9d9135f4231a34fc97ddb33a44723177c26d5c25946559a5cf1e4223733330a1bbf69f384745cc8336e5ca07f97497cc74aaa28a42502c760f5b16dbda83b1ed133aa9c603948bb65d6b4c7a538e7c6b1391e0fce415092a1ac73ca457814dcfadb6ea5b3cb4be62369be7e947f2b45bd198cf1655594eefaaf9559babf4682474d16f8b5e863fdf8906e1c08cb4f11bbaa82fd4d1ea450f67fb1900cd0fd51524a2dde82c3bc0c385321530b919e3bc32edfa6e2b63dba413ff54419200a8b811be8c731fc9c95fa0eb42b04ddfb39c984142425ee2ab27a97f0d05874dc6e7cfdd731778c7c9814d19a4484f38fa2ea2523df69d00db79f067b1c8c8e6a398a44c7cad91e1224ab6b17a35b83142d7913618b72c8111dc533b4facfe81dea286ae2232f31e72022607d7833c501c8f77e733da58dbb4ae6091e29d86156e7d217c52edd19747c53cbfe18d8667dc662867864969f4bc46109ec08e8bc0b14f26c24c6cb5d0d8296382ec52745b190140b5062e33f68a50a91db1f4f24e9b6f3aaab28c72a481af39f2f30972fe9bdfa1b2959f066e1910176b9aa74f5939dcdddc0fef40842aa4a95cc90bc9cc6039b64680cedb6fdc59241c35f9dbd8e6681fbb5a95366996003bf0ae61a79a32749eb7a4e1fa8a817b9959fadb5086cdf68bc065b3e1583c37c0905b4a0e9a9646eb510d73e29ea277c304a3a4b0a925af96405912129d3bea08179d77cc914b7e146aec5ce6237fdecf0982e5d6f3c47fc33a63cf29763d2ad11f38e1d5ed990124c5558c6e08d12bf3d7b916704cd67eee53ab4c5fa6816f3fdf86fd4382eb8222ed8943a3f928a827bed775ed371307f968687417e546365a49a30bb7ebfe6e8687ddbaaa0a4aa7060ee550d0a04bed24185107b5ba4cbb87a0138ca435c6367d93c1a371e2af82cd29c10c11fea747deb9ae0134d5c97498bd4cc043d48fcb834cfa4338e39bbdc67d01c241fe083adf4050a3200dcc5dc4a9574d3e21586ead84c6b3272799db46d8a9c733a116525c913cd3418efc2edf750cee80036c74be4911854b94bf6ec36845083e7bac288a355a9da291671c9159aaf3aec3dd64876006aeaad609aece6eb38dc66f322e606ce7a4fdf75c13b53cd7af05f6d2b519f9e45bcae01eca052ceb988978171a01bfef512445e8e59a7d107d8ce7e64d189c744666e6a916301ac2b5c9876942a467ee3d33b8670339cfd95d3373fe72f1744403746e81c22b780930cf4c33260796e34ac414f4d0ff292b3f634311aef4312043958112b359d34b2a5e43eb1a60a57c3856ff91bde73c49469ecaf7c6173a7ca3fedcb883b473801fe00f0bb1e2721993b28ec2d4163da38ed599e25d074e2bc08444ec9941ceb3bb22dc614b9014fd17baf9ac11db2283239ad63ebc611374620b27993d261b839c3ec373a79d1bb8468554973736fe0c05fecfe6de80754e090196f302a89c1bb26bc538bb2d031a48309f96d22c93949f5cf789122b885491a5cafd33d05f63ab8cc604837fe43f3270e9cff527a995ad1a3a3fbe6fe20f0fa02f8a28101fdb9e674787344ab18d69ff143320d5ee898786c422633f11f129e4972d18b16ef11b0d270583af2da2236467c656eb5723bf6bf04c1f22e131b127c4676cd9102ec197f1ed477f0bc47a77d8659efaf8fe74382dd72dfdfb5bc533f0c67ee5dbfeaa52849a0605e35bac8824338ed86722f55fdf4183dda53ffc0077f12c2640d78c3486bcb926a2b9848660c2a743ebe06d86666ec7dd7d87e1adefe620ef8ea6b82d4588b91dfdf443eab8a9f593277e2ff72ec7a2963e444b3080a9dc8b3395655c57ad7cab6255a2508d63d035f14b84d25a133668c638c06c7f91b78cf876f7425176fe3386c8db0cb43b2a9b72788bb8b72c84b4f1804b3771d3d03020d4d3f058a290a99fb712c2e13ea888667181a152867004fcd892a05346e564d46056edee95af244726afc2eb53d834f6e9a6118a38849c074b94b8d3636805fae3842eac302adba2696bbb1ca0ece1036d6f463e056b2b1b15c3aa6b6833c0753dc0f5acc1679b3e43fe5d2cb7fc5e9228aa44e42b1e95ab53d841c7b7f00dc2b1e7b1bdfd90ebc8d3b046e04c3f99d654a9f0dbf8494705ff1bb7991017a5ec8e0898a71eb7fc53aa339d440ca943c7dd1f93141d59866df9fc6a95d32113c91c51025557f02036e5c456d654d4adefa766dafe26e1f7706c2a958fdec8e23c510b2596a88f19caae92f2ab7abcee163b1a5da6adf142a1891dfe4d50411eb58fbb3a65fca73315c5b4ee3ec9bbd24d35c16fb2afa4734e58eaec9787a57c2afeb0ad1e7e0f10c1fc199466773eb6a1a16f047253f68e0246a75a054ab89e10ad5ceafdda1327b7f394aa929eb151abe54f612561b8251e1f057a2de333c1ca540af446040ba5cab5e9a36a7f05e35cdb48ca8e1739293a6a9b0604b5f1756e9c0ef52160668d81e2bd276a56711e5642771b96a3f69652ef0f2e4626a46653f57efc7e69f8726d40ad8d277c27577eccd60b1d3865cb2b80e55ec2b4be69dcf364d62773f1a0e0e7ad184c454b1005a455f093cca9a436d5a40c537854530a117ae3f28a5f56924ee8a858652053371ef90049abfd6ed3fcbcee7c2df3da9c5fd1801bbc6c167a23d4bfb668d2179936ebb28268db1e4865fdf783ec7baae7946cfe380db40fe1d8ab37ddd529562d441f23bcf0eae632f30d9b88760da35f5925d750b64f803c1a4970afbc445704f88c66ccba3ef7c638a241139ca3f7a66148be203fcfec4b48452cf7311d818e695c005a2eda06fb1d2b7658e8458e4434b41c7e229920af439706f153fc0051ef4158c2269a7bc62d0aebb5d7c13b3e724555ee641beccfe0cf617ca223a85a12a526ce5e29ad4c9342bd6fe3b7db546f49ff37a3af456d1ba044a1edfd9ea0f1006935851d8b9a1f06ab7947a8da9ff8e85ff3cc7d779f4238cb8a2bc5a1500c4664b2a3b5d821e91fa1271f2c1c84579af072dd9f0daeccbfaee40d15b816d1e9e7a5ca4338c4e951ceadd13e9a97397febc3407fa3bfa781d19143b365e11334d8a4f7088d1ae35a135f55a5d1a2efe174ac837656d4687e01db4220ab69a154708e903508bd5614dbbc1255d90e75f475af72c531bf02ed38d072480c03ba828ba957ccd4e11f4232b6c7c09f0cc1b8a03fd9654cdecfae68e920b5b22fa85b0f4e730a3e4cb828fc2a691fd2fd7ce2be85b809deaffa4dfd00314abdf96110ce2fa774dae0c1624ef4326e9f71dd48029c68a4fdaa9c4e184bf6d75aad5a440b359abdc1df8470f4f63de722e0c2d4cc7ad85f112d49b06945c4606d8b4b142b2c6faf88c0159d7daf138fe889d3db363e1bd8ccc5e05aa1bb929fed223349e19a5f610ed4adfdf7ada267104fcc430b07868be5db1855d408ceb60e64add4443b94e2f11295e90ca05067b8d48cadae13070e3317f1d273343f06de3aded4553f632234beb21f792fc799ba65c2997e509e77c9ccbfc652e3ae00f4fce145f9dbabe75c8ddd5bd4c9b84f2f430af1c2a56545f87eb76d983039283a310fc33131323876d50c037dab1b65e54fe096e651fc0e0ba9977d3d355841887752c7a63bb7268dbea1242fdd42e3199389aea07c508d5b3c90f4e7990dd6df31ffa0184490a23907133fd15be193a143585bde1ef0dbafe19a459bd9944fb12c28b72de8b06d363e3ea4eadaf826c0ff62cee3c6b6d1e868f00703ab90813e1740244aec43fdd42ae07916e7079fa9c3d2fa4e6dc6aaf0c2a90b97024f33888b6b77cc9507cc86c732947dd4866d6c7089d8f20f9adace4f045e4e8d6521fa54c9fd5905de78fba0bfca29ae761d44cd4878a5270352efc3f58816c115161def05246a2a7ad944d420157a1fe3cc1028863ea7bb9a4adeee540de4042e5de748dff114cf1db9184627e4b0e898a61713207cef177beadadee2b48398333f79937c5dd870702e4077c4fda30d79248eaa86fbacdcca02511e389e8ad44760ddc008c5084a2fc695ff7e3176cda082cae212c2f94ac0110bd3a65fe4cdc58f593977f303120abc085fdafd8a9a3ce3c5d820b992f9e8bb32603c74b47f4fa708ca8d0182a9dedbef485845dbe92271136e34fdc2005ddec64aa5669019a51660e688c3b3fb2e54baef2f9b3eacf6d9248e07fa8b3a42b5bab0d5eb1ab9f39bc03e8a689b0cdd6c90059b8279ca51770d28a0f9da3a366184f22651d0d7b571b52a0bfaf7164eea6182e2a11418e001a6fc7aa17ecdd7dd175399325e51e90ad6eb2442012153fa450ca95b55d0447587ff8ebd270ff8e3195a926ba432630e13756d042782597ac25e8aa8c2f6ae009d22eef2c30b7705c213498ced005bccd6fe83221d3eb45315290e39e0db09f2fe0da1d9b248f9934d49837a9b8c5ad6e9ed8c87797985edfdcfd82b2c238a7b3bb5971018356ea53925f9a3b22ce696a970eca8e0f55eea46f1fc3bd8c54710620f04660a5bd27dae0be06fd81c7188207c25be51b86a3a97c3cef20fb24a28529c5be0b9afeaf0f9417a748b262160cb1965b9b2d18a0bd079007105df6a3269d15f83470d87671c2ce158904f74e2b6c3cf0fdd3aa3656c23e8e4b847502cf318bb0d6ea601a3e246dbf003c44a02b22c0b651b58666a5cda2ad61b6d455ea92679519e6277edf092278c3f3501675cce55608275d5501f836bd358469da29d5842b9ce4cde067e271ad826322e9f6c3774d84fcb748dae11ddb4fcfd600e2c8f3bf330c58f1038704172d7492a1f1e784384dc0e63ca18ac25c1a9dfda45720dabd355785bbe9b9aed78d7e8831c07f84042a75ac552d6bdb20d0bb472e6a649f53e6a08376cf19544f7984af57eb3093185d89933d03e632935184762fb82a42f51891e1ef698acf07d705a3da711c74e8f76babad2b01f15284c6f8c2da7372e0569650d2c5b7536a98eae936fa8ed3ba6671eca3581fe3e34f95978713cf3b79e89570985e1583e01c8ae97dc65b5bf825005661a14db241fd97ff6b3a37f18b71adb872cfe238f3fb6e8cdb579e4003020fa81b7ef0187e5774a71ae714307ee952de79eb6c0380c1ec9d98aba1c8b8ef21f7cc064db57029af188d032a28a868882bd3d949376d488fa8efd03e88cf116fe3bca837f0855e4b4c003d117f8630a0fbdd4fbd3f57c303b5cd3963bd4d17d6a069d5a5893c7dd97d8eb4a8911a7c1da5009b24ec189ac2e1e9480dac61cb9aa1e16e04a861dda84b1d15713e93a1b7b835c3a81297c3609e0faad6f54307715438a450cfc864271b4804339e7cadcd1ad451cc0c3773efa25f5c5fc4b5fef397136a699b89f3538d85a6694baf33a3fba9369c400b14e63267e53a6cbc1fbd07063ab7563d067e0efa366e9571ded1d33b4d32655c8cb5d5637aa319cffa3554be6362967bfdea7a71dc24ce9259a453688b057bd498da4493f754413e372807a1535ffa1e02a31aeec8c9cb7cac2d2bf18e013d99cd85e16fc5bd2ce14dbc8540e4e25220f1515b5a74690387d326220638fc64efa6d19fcd967e4168c726b4c0050f978fc534d9d23154398472857a61d236d7203b3c1460fdf6743ea905d2cdc0f40c1283c37f2d66f56620da954e64b0fd7fb1f3198de40f01747015fc31432131176b10f32a94543317dd65a43084b8a12d58c6075119e90266a6c6e3998140c98fa28e5fdc25603c0e389cecb2236711d6482a47f872591c8d356be1b054ca1e0cfff12101e420b40a11be4da0fe49bd92099ec1d9fee500618fbbcf9420964ca17f2f7ea6d82c9b4ab07e606c9ea8a5b43c7299c6874d2821b09a967648111ebcbbe1a5a56acd4c65ea4c3df7b40fe2c84d22f38cde6265a076918a783d877a054d0dabffe4fbe46aa76ae333273f15aa3a81476c787940bf33be896ac35b58e35cd241d96441cd577dba4edb95f7c3962f449c385fbf8183510c9bc4b8e1836b1dae9d0eda6d8a3c429f5199e5e0e15a5a355c8c43897f1d0f36f7566af65074f70bf5aea63f5535269cc670e6c3e9871e3af4266deac3946f15a036a96d44bbb0726a5a53e4555d547c1db779ebd7d0865f4d8e143d82188188a3c0df2aced2c23f840a951a17fb0877ebade7b53859318a38184ff32b8e01fc596bad6561ad3096c8b90ef795fc60fb2d90d473f96d48dad1763ab37ea12d240fb900c29f5a535869047871512a5f16703b99d9a70934ace8eac10fa9c4ec66d154083cbde74c645e5bb2d52ccec21da81c999bc8b604f5032753bc196c708a8128828473c049a319a2322832b78eb4879ba39b3aba20dd5981a6d4031ee29c159884c6d53f9481369f43431582424fd70e96ed9ae758fb20fde264a2064d8087987de6a7390f6dd4db70c98f4e3f744d63c11c058641898c4031f05394acc62b43dfc00220fe4b0811aa158cd51acc28868a66a5ff8fe5fe9ee1a0921e8c7d2a3982ed5e03e1297fd089cb7c4b53e06c750c55948dcc13be2f34f2a068a657f0c60f33ce1687fcdabbdfa2d016410d3b69c4ec507bf5107190de64049f5df193e9fc8ca39107fe5f0b7f52a25936378394ffa0a4d41abf8bd59015c75bd0a587e975e4759a674b869440395d1fcf09de68f092d666fdcf8c70cce1552015da83226be80c716358997466f97f028a7b3a077a0ba2b22c0e924fd85ff56d73deb7b72b520759eb50d1d14cacbe74c3801c07987e4f9ba08ef1aa419ad82cab89915f3ec1bd5569f0995065c94cf59697d1ec017700a73b48944c884483081aa8a2f06ebf9aef05e6a340379428bd467189a4a340a9a1a018f4b77973b8728e0c375c4b6e926e46eeeb374921a0790831bb7ff57466e70e96ec85af8bdd5dbba7fc0355c2c9452989b7130f05dd1bed295a851c9242e5d21476e0bc25dfd44a7e5270766264e67018503fa7f43675704b5361a22269ed7d05715f26f45bc93b75ff303b9d6975d514eb5392c797157944a49524d076bbe94c2d3fa352d27fc9651c1de0282055973a4d78548cd998883c9b90c724819383e7951c20c5be3a88459a1c4e0b8f8c1b07d94022349856f5607f2318bb0811d51d6dbf12900177ebc51614e1bb3526df41cc0d7f8655c4861f99a020d930bd6909345f016420648b13a0d2baf3e78aab6fee5d7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"c1c99c5cdfd3e3e1a3925a5a49b9952e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
