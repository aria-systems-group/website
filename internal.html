<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"05a57efaec824fbf7e2e8698082f905bacf2c4c1fed4efb6cc9dac9fc0f7fa7eafa630e894d698e15668028ecdec021546649409890b66b4f94f307c5fc2b91c27e48151dc84ff2c4f6c94070fba9ceef6f3116eeb1e33e5e32e921dbedf9d43c9e6e546794430113176ce4915adbe242b4df7dcfd4494df01975b2535643dc33170b5cc01d54e8d063c161bd6e18819c69d6a1b36e8b3c3cc28e7a05d9a2b65016715c8c1b67b030ad9a8de8aef996b501694161435ad49df63bc21b11499f3ff76aa2e551e278d2b937ad5105b6757bef33668ae0aac7bc4e75abbab61ed24fcdf50efdc38904de59d59f29d54c2861a269ab8f511eae4c3b26cc0384b81917736f96590b9fb77c5e34b2c8d366056c87513b813b53e45b0bd3c65f03320ac0b1b1da15537d56b3f8568cbe24836917a92a42173abdc91c81f3efa14f040e85b9a4859fe072310efdaea3759eab12411ea3cba5320c94494dc42d3dd971eaf2e13c4988ff874a1b0d31e65c7103fce6b3332d7f4ef8da132d02bbff76f16452a853c4cf23ef4968ade5b4f7137bed09194e8501edf0aed56e019d8cf1fa9d737614197a25d05041016e61aa430105574aa3ae907543d9b462852617eebed48f52570935c7a15bf24b419f28f74b9b70986d76112c83135ee95ded2e4afaf8009e587b415b28603d069a60ea06559a74ad6836bcd5ad4c7d8df30ca6dc0315c752fe36217cb483d27ae7481e3c41e769fa5771e3197a76e5c0f372549171a53d42b6a232f151456031c1af54fed66b7052e16d0a7cd50610d65e823a263319553f1e087b41546985e74c31a175f82f89b94da6ef852df219f07e596d0d2cdd3f049f02b22ae7a21aeb7f8b7a0595bc2957fb6379b885ec119cc53df4130f602c4989699a4dce9720f094850834c7b887c7a8fc9ee989c454b1fa67933295fe2a98f2dfd6189aa2ab055a997022a3a7de2fbdb63534f2ecf961e52c781d10691b7fe3162a107a34646cf2d83766ad149559e8eeb38ab2e1e9a4f4316d6ed8250d83ba6b6ca7c5e0030650b8026035b89b65a6d3d3f53d4628a36d1ec42bd72e41204250acf21fa4ca1566c698c04010b1d42a84c6bc965f047e1aa65508f7919fcc88279ed418f2b441d67a54298b205508c936a5798c782897646a7751080865fda110aa396f12c56fad172036f7b2ff392ffbc9d017ab27f43a88711c9dfa840b0b5946326ae6265fe0fbee61a49d60e827e1bb098e7c9c997ddb86ab09f8513793edbc58a132f79b38c202c162e55fddd1e381e2e78e46bf29343a9fe588c4a89cee0608752cdae752b9bd6d6ba28cc6c93f1adf7cf4919b500ed4e3d3c8455ca8341e3392ae5da4197bce21236b0280a58bf0551caf869b28de6656d2148a1acfd1985513fdf755c846bde716203a8db9bd3351d3fafd614f0ff9c90e0dc377fdf07aa37691519f18421acfabca9177e8256db2de49ddf6ef91926753f9d5b544e12b9378e1e95b2fac4dbe1c711a24fcfcb2dbd01bbfbe524124ba7d1e2e534fa36e65c9f91d5fd0ab2cd9854fbcc5819875421a49bd692f5fdbfea36afbd46576dfda4c598819549acfe319ab101e52832ecf7c595a1a46ec041e548ab9a1512a882d95db249e52daa4d36f3aea47d815f2d3666d434617dbc7f4d2f04dbbd4246fe38fc7c06a31a15e615c2f263b363b1ccc574e039fda59d40f01908e492235e15d667edf755748c7bcf6bc5d6cdfc1d052f6ff93ba4b2e181f8da8f1d9cee3ba44e2f431a887fae1c7f5b345e5fe485d8acc1ffdbb4ab085fda487659e9a2e62996c88e0f6b72eb70da270ccf9eba5f18c75e3cd10ca7287f7716b667233d5b13551a7c9e2f7add748117f6b4e8c954021c7f527aa5fac8a6356e8d1e94d9716851120856e19aba2b561a342dc1011916a1b2cf46cf761a53442f173386652787068d829c090503075cbee760a10cd80adb52d4a82132487e6bafa96849c73cfe1b366253151a3a306eda21a4bc71820f08385288cfb695eceb95408776fa8c5b2a365e324deb10d1d6b7213c25c1268c3ef7be4971de4879083e0f7c561eee3ca375b381c415c9b1f80ef7b871cbd4e50271d112a6b4dcf084e2a385162198ab73f81ae68149eb0ce54a5ee4009943a6cd1204cd6930cc30311fcb40108d02e34d7197ac15e5410125574d6e2b4023548353a1cea329f1b48cd2b2a352ed37b5cda11645d2f0124746d829b7620b401f0c95c2134ef23a4164f5b4c8851624fa7bcfeb1ab97ad25a08cdd9b0ae494f45e17c3a6d6d92f9ea50153116d280a0a02251b6d2b644bd776173c8666a93c16f59157c2630a098db620fb35be6436b4cab37fcc951898bff1d617684e2d5e2ef5e724d73053daa2642d3acc1c4eb0927aef18858261cd039d17fb88cc04e5b72ec6d054303836b1e9649a6c80144f65e0ec66abc72af2463790d2231934e4757683afc95e25ef8d903d50974ed29c6a7dc7299d416e651387f612fa8341616c31fc3abdf9831521325993719b559bc5ab96e5e680c71b98c45ca893bda357b83eade6681b2a4118f28a28e9e66f42385ebc9a6c7472d6ba0f41875ff000923ae319ef3fa3e5f19c18975fc01d9022efaacc44f080f26fcda0f0a5989f9cfef6e8e93136ecc4f315253080ce1d8efc0ae1bea6928663e32a7d46400453fd79952dd634d77a2980adc294044ed0eacc1b3b5ea1c85c5eddeeb3876362869fb6ff6491fe137ec5124e32b9bdc8183c49d56ca1b1afd2e3b9dfa096a096149d4c2b7f96d2a9b2baf5184f43892e125627d0f55c61bceda34b14d038358a522ed7c9904fde2f51a28cd4c403f6896cc3fe1b9a0d1d94e08bd711c2d967d484f1e600afb3fac72fdf8d2f154b443437930924ef58581dc63be39f5d4828dd6cfbbbad1a2b71e0ff5474e1d518a8aa66b60bf7ac6d68f4e76a5d7fedffd0df04db7624440fd6d44579ac69922ab3ac3c65d61ffcac026219ef1ba02c715b4a77f7aff53b1ef7942bd2c7543d5b8551b74f3e95a980d8680fbad3f3023c05e3b64a129ffe2b5589cf2212689688dc97c7b1ba42ca40f7504b42626033e39198d16b34e8ad30b77d7ca231eea8ba69a68355deeecd2675ccc4e3485826182dca7ccec8489bbbce47627d35f08a51757e7114c69cb14e988d664ae3c096e2a2030c7460d302789d056316489bacc14a9491a0b3e4e139d1b796925ad92c66f66eb58f0ec5d7297c158799992f19c3f1d35267ff3c6ae40049dd8516cc23446c70302686c92d882157295d593675cd86ef1c6cbe667d37bdd389eb4e8888747727a0283ac78cb857912fd03a424adfde6a482634c03b2a30586c7d6c8211a2c889f8da24ccfc293f564029b0a644b6a40750a373560723734b85a9419a8a108418f227ccda2ba1c589f8efb2f61277be68a5f11d47bb1849a4a6860909781a97d429c38a801ba3513f4fd63e961413990e2bc00bd30b1ff93d333eff1be56e43860c147151b57182126b29f03186e1c6942046737eaed7220350fcc984bbc8f6e2566bed2ce0471721fd3440db595b793774132ba9089f1d4145666ddaf1a64e9d40d8c2834732861a1d61e71f98c0bd1dad1b3a66bce4dd211f917a0e079cdef89d209978a1bcb486b4e7330b1d0057a90c992ae730b686fb5486954745252e4ae212fcaafd232e12d84d2015b824b015d5da836041f8287071aa4a6fd33fde66fbd6ef0e519799e76395ed7e18e055f7ce686c531daf9b3972b448a1d5a53f9f1e2664455f7f37803fa0a98c42731aa74d6878a9f5486ffcc8efd186cfcb6411fc227373af397de33d23931f738eab3c9bba02624465b6d966cd4689cb21fb4f03f6afbbdd3d4c18f4b454d82229fa833839e2432ebb92c4a27f2f71b6da334c55716907c89d68bbc985d30ac6f2d7ea720ca43fec4e4969a1a646899a37dc3ba64b3d91009fc0e82136a9ad5c129342e445c2405a9890515d8b02c9063ae679a0df8c059f4b71bbffcbd91a4a6eba9046f456291f4f674614a3208a9838cc982c24cd323641a266a5a4f2a521a2bd2b30733ec435b5b7a833a78f5343f82356dde89d33d74e41327f1d95cb2a9a0996e97d8d146b36b5753f122cd600e5aea7ca4161fea9ec6db3613ff00db373124ac8e192d65854b486f7d17fe02bc3d24569b9c977a356fb1805f2445df4e2be8a556928ae57d5878a37af72db0c5f2c5e07f44c94eb5c5a0cbe62e01052f14c6aedff92295fc155f114a0254b484a25a11bf832ad558ed0b8c6bce9db6fa369150ccbb9eb0070af9d19dfd09726c294d0c5fd2b6c0abe0cc6854b4fd72a0ed615a7bab072604b5b402b12c925c6ea2d1753035cdbbccad3f16bb6b8c8e05ef116b442355a38ea347a0406fcd986f3a080d2e2ebe483c2eb1e5aa04ac3f138a5d39f42777fc5cff53cf783eee7508f14645be98472cafd977031aec3f053dfedb7512454486bae8bcea41a6ae27b214d1be78d47a08cb1d4a14cf4ac1f2bc620896fd0db25d42ae0312a32ba786616b141cf1bdb4d38433949cf46bfb0021c01657dbdd74ab5669bc061f724932187ed925b490855a45cec65ede190d208415937b77615927898af92a95173acd0e549975bbcfe6aee610feba1ca7c9a272d70a7db5af47e0734aaa0fa105b6b38922dd9b9fc83cf9ce78a1979a3100ad4aff9d5af1b89e22b0c5b3b4accf60f5b1caed173529b386b39626a21ac656a9e0e341c4ed0503f4e2edc35f55c52fea0f23e89caec38d7353d3d7eedb7c42a198233a2c436f7b294633401c3538b723035459a345f01c9941aaa7a1d09b70d273d691534ac2d2d14cee88e30dce325bdffa563236d362e20a143ba39ef09beb2e5897cc31e74f229d7138d3e9785b5577490056031914f11e396089e818760242595845d0613736ae880bb62dd77f62776816a22c07da0bbe3780bd31a7d7bf06d2e2ab6c5c79dfb0c8c791c9e13f37bbe5b17d1335c6f47ec10a311b64463f41c03eaf50828cae99d4884032f5fa4cae193958b554dfe789318ca081c78c9309d513fff49a4e372d4b5c5f8397aabb9b741348aaf5209f0aa9f5f6c6973464badd24ca606de805700bee98da49a153a8ab92d3f7681c79ded287ce7d38446bf0994e8baf02b9c5890f79adc85809c2c05fb7179816f94c5cd1f9f4bf34016de439a18bdcb371c7132008745fb537dd8dd241a3617e315cd3e693819c10111832c5f60108216886ce9ea42e488bb64ea77abaf877663506f0d3e6fc8ac2d932e20eddeeb4e69e5c8bf9fccfae44303f2d31343042959b34eb4bea6d98ec1d3339c113f3a78fa8198e1e8ec5f7a45b9d55f52519c73c698e8c8c0afce708f6d38e865cb5453052baae22d78c3e9118e1f73b76b58b272211754e850bc7b21a413fc8c45362f0b7171092d118fd8c53a4fb3ff6769c5cdfa82cb571c6706033eb070d0b1dc15050c44b327030fa4438ae189dbda0ba3b4d11b9ececb2c287a2b513b86a4ba3e7e6a20bbf81e9ba2f3b4ba3da79f23f24ddb08a56637170552cfea2d7b53de03b20bfbe5f95460a7fe78b7623b1180598232f4db2ad721f56c6d466111cc64992cc1bcc967825c1fa1ed4da11b4975ab3e209a4df16fb2cb5d8672a0fcc4202250ec9ce15d94f3c844a69bbccdf8a1b971428c9ffb80420d3dfc5f9528e92ade663fbbf1181ba1062204aa355d0d40579f60860f38be42eeb075cb58ccbdc2323a3690de0563746174f3939f9b70648c0a209455f0262f586277d722f8acbfddc8916b8efa35e3c4168e858df1a695bb199a7f5683c82a61dedf314ad6e9cae1b68d79b12d6c164bb3b4918ce30e033814fe35d5753cf230d4e39f39d14a8f61093974161dd1ce333b247c7a8ce3a23b28face5532249e691cc03aa5b19cd5a7dff113209469987c93f85e1556bf729d8824031d8ead4619b5dfe2f8d1411926b79375fffb14f896b7096be7c3e18a90c3e8ae9342f424e46f2ae6a16e16e45b73706f69cc06dd6acbfa8c8f71f09f0306b6c13a3e4648d3deed4286125252d28b73a68c297209317ee06054c4e9bbdcd15030fbc90e73c45d6ff67e5e4844302c1511bc6ce3e681743637eb9f0dc837c674c13e4d9f3ac157d9329a8589e54db6c17da337be48b30aeb771bf26c40c2cd257842e14e575d5f035bf29ca7a7c4f7d0059edd43ee3322f94593b23cbf3e5c1c7c16460b57a0966c217c0b97d4da264f890e4889f657bfde95b78f15e349cd4a9bee9306617104e0d4f1cf7b98701ac00d66e452e441e90692f1318028d534cf67439297b6b6f0fdf8e434bb45189ddb8c62266be90f51995607a08059f9568cde6fce8ab116a3e8015d815925438f3caa55f911d9d2583f947ab1af72a0ba335a75632c31d251e77ba9f3e851841396be1c7c00e71d02df83b02f32d41b6fc00d2d0ff8079797d1eb2538ae048d4e141bc50c91eea86e5ee742bf592751abccafb5776cd646ba02e296ba454e5ed8b7012ffd8ce5a9663e8741467b04f44a236b5ae8a742b8250e519c5af7c28f21ea88021b29813138ddfa2abff6c9e26d7f49576de01974731086131e5f78584c54c54298a437f7edb6cd807baf816ae6998c14a19bb60d75b2092cfc9c0f6dcca35411d66be5a991eb9b01e9bb9c4ef106d09fcf073d66ba8c0ae3c11375645c48b74bc8cdfa11b8e8d6e2eeffd5725f41a720b8e76c19856db14384304fdefd91bce3e13a04c790e0364f6305fa6dc91a6d5c2a370f4f42f10cd998a340d8c0962c0aa6c46e9600cc36237eeeae719a78aaf8d285a0e53330caaf4dba0b1b66e2e3bdf719f622c004bda9d07deee3c419a2b88352fd94ecf324b1d9f1772ed602f43c4947a27658ab868722c8659ac4dae18f130be753f9a0bd4e98d0b715a5ed9dc9df2e9fe38af035c15b179382f10fd563548cedb6265d05ad69e97798f46b71dce2c8b8e42d4524a9bf4497f049eab0a384de61e087854eacafdf3d482fb9c2a9c44238833b0e5a628188afee46d0bb799d0f9145e2a07f1121d8b1d9754aabd3f5b8d883629730f7b094f1256724f27b3656f6b9d12c83e4077898e08d3106eb0788ca30b1a234da65182470d8791da5d8c6de5497f7d908563dae430f4bd22f551b82b4a70ff2be87efdfe1a43233aee6d3d4596232ded54e495bd4cb6737058aee82d277f9dbaffdfa04da8c3277d5aa9762eadd1ea759c15a9da6c4da09a1b5f54396cbef8a83e544a01dd464113ecd6b2037c2c90253a64a97c7c4d8b5fa458e1f8109dd7900af620605d3920e49e4e4ca2fd09c09d6ef580ba02f2df5007e81f0222a3e0a78a958ecb175922713e01f567a402c101e09b6e69298ace1150b0f442941c9005238325fa6b44b6d61ce97f6f95cb564a49f69f97f0b427831d683a93bc00ff79612629e59ad23979a9e943d5512d66e65585d955ff217f10091cda8643252132d24129100a301adfd2abee98e86503c3bbc79a3924d02bacc67481a7ac3deafd60d9f5a012df689f41587810e9ab524864d1aedfc90f56ab42ca5074d5174b841c28919d56f7ea852a8a3af516fdca33ae99a4c16d3d93186a34da627791fb37fd712cb91ef4e70af48364ccda35c43b4ac2433875ad41af98805bcd25fbe4ff6a4d721459fc08afe330952d411a6e40d649d90d20c82d34cb25d890e747b7e7a5e0acf9d8351a9b3fd943f766401e9650b7b1f980552a97b8830a12ef69308377d8e398ac235d362191443dc7ead6670e23bf1b6eb585e3333abf77e6893c71f2b779e64b1622483fb346c80b6a9b55a5bd35009a7e60529350bec9518133fc3aa1151f1e67b082953508030212153a4c5f6790f00499248e0b2b9c72d57aa6d2c96c268bdcb3c5d9556372351ae333a0c1e2c075fb6df7133991c3d2bd4c78b86a7263bfebb3c185b87d7f0feab899d1ff6dbb346e44e93324cc4fbce648020ec18f0bc15013df7d207027263bf4c47de18da81dd832a2346b37cbeb2ea8603ae5fc17cf556b776256145d9b3b084087a483508719bab1253c3aee44b085e7a0e523dfb944afa183827519c196a8f3625af4e1a626e79cdcfe02ea467b6f09937dea8cb61c7ac1cba6791b1fc2276b7bb0736b8e4ad7aa59b1bdcfe88e91bc25c1095f1bf0d6ef5112f4e5a32b17e706e343ddb62bc39ba921fd38b29b9a66b507ad4554d670a4800448a4f4176b197cc1fb794adb5a3b85c2099809450456717a6ec7dbc0557088d8c3cf8206663907f2f86f0f8c36ba83b1ac74addaa92f49a15fee8d271af770a6345a135ae84ba0ddc56465e9660b32b49d4a5ca77b2def5a4f8bacf5f86636267d312956343ba22c455b18252e94253e14033b803f840d012bc7113123c572ee55412ff4280ee43a8e740c56a796b57d661fde9f189dfe7b886cc23fade177b0ab6d200c35edb7e25a44bcb9f36c5c102ddd73849a458c9cdf3bef459f27c48cb2df36821afefc4dff29a601c1982509ca055431226c8c68afd7372eee235892a59b361e7ab85afdc49fbedb060bb8d336acf0a29d0a50b92330ba1091969e3ec61924ed777dbc8dfb05813f03a6a914cf63abcdbacd4d3c365cf699bc8027bf6bd32cf7cebd7245298983d33883ac6c031620c10d4551acb8ad34f51d65d97324c5fe15d62c67e9fa0e138fbb5b35282d93b264e4d9b9ba30e4194b8079eda473a3207d43f5970562f2547bce2a772fe86b9330bf5ed4100e761871088c298c74fd999227b3c118c3d4fd415d1c868ec147863d182da1942761efc959eb784552422cfb356b839704eef3a8163a37ba328f81bf4ce7367a7f2f6f55041906189cac846531d35b27e72208791a74162b4d7fd2c281e48e38110f1a447477358145cbe24e61535ab4177be66fe16b2b8915f3aa2d550338a1f81565d198915f30b06c8ded39dfe9be2eede1a13b4df590f4d5c79192d56048cca5c95fa6456f0035d0d5b3331b13ef65574a5bc99a37b212507ffb973c340c36e55f7c150a0c797dbf98e4d1ad036bba4f4b52810496f33dd142fedfba12614cfec5a187745d32189346a7653a566489d21c5e1d809dc1efb06a5caca5476f7317c392a71d6dfe6a4adcab351f154cee38d006bb1ad0ff33da687565cd34c235a3e90924ab7e4020f23681ad587601726ea1fca1709ec37b81f0efdafd401d27fc5d58516b3a5fbb194aea836e90eb3d642555daa03fb30dec8b321481ea637da13b2da91f5f34f214f7c077a4937c74a74f696aaa431d7a36763a5741207976c696c12c3f437105d24cb80677a3baa14bb2962ad2ba15e2db1305fb1fbd7edaf6fd30ee6435f04996602a21f1be0473519e61e4072f0df8485347a3a64b914b1620b8915f45c664fc7c2bb7ab457480c850274fc9b0efa04a60848c0fca7c8e82ece95a157b7bcc21116053540b392d48f2d7576de35a6ee274b587c591151cd5f9df00ddb65efbc8662af8cb252e1bd558f24839327115b50b3c3140282970a2edd889ab9f308788d8e1542c8660f2c062ca5f66f53a7f65b7b3d8d8edfbc947a0b949e879223474bdc7a1c4b0c0e17d40cfed2d145e8e72568538e796a647bf2a2887437f4a4e816338f08d97f1e8898e164c697b069e870e81d6b8a6cf26ccf3dbc3a01f1961496d44c20ada8f43e5c7fe5561d10fff3e533a29759bfe80b9398ae74b5a30a9b1a48c1aff17d38ee0b905c11bf95c29bc4dec36e6a5696a1f24cb3802d92bc9e921503f2bf287b7b728f66e2c6ffd60a6675e3a8fd179bb6be9d6876fb0d02e9fdfd53a0ddd0c19db6b656cd618a2d06f6f5029acbaaff7cd2b4e9e89f24a700dea9990fea810a8f58d855b6474760de6a92d67357b30ecfde77e3bf724ed8b5273eeb95db6c89894326c58ec174cc4ab7066db4d74d6b4cbdeda5acc50025946857e475528b770699ecfd5956c5602af858c95dae7da885eea852dc9de661e566eaf095f3cbd5f642d9272cb9dbb78ca6cf804d5423d210dff58c61736226dc988dd8af36b6bedf8333f99d9bbf13a6cfd554fce31fa5dc2e4fcfe3996ae11020178664a259084f93b39661da03e7cfdbf8d19eb752e05c0c6c535a43f0af6876d0aa1a75c44f6f004339cf9f9e657ca6abed3cb643653738e52dc5eb1a81a60f39fda46c03de1ca3002c19fd9d990277cf0a8f25a78898dfe086b6c18e5af49014c72a87c63a5edeaa4621a8a20bc71818feb6f266a3ca769b9b1ca18dbe4a9ff105ddb8927649deb904a71ef3666684854bb26e6682cbaaf8686ba37d96cd015096edd24404096f9485178a0f8fb2c5657180506963b88248abf4e74ad67368e5202c2efc632cec8db1ae6d9f7bab76f227f00718b00e9c9648e25679e6b36b0d3c85ebe7bcf37abfb9929e9356e7738e35726db18ab1a2973fcb28bb555c8d2e4e6b16ffd3f8feea4932170765bc4ff4c3170f007aaaf1b94e42fa85a7daac68a142f5f3b9ceb54ab4ed677720bd2231f8084657f5ec72dd4cf85cd95e826ab3e6f980e5ac27498d1ce43ab07476cd511b346d58bd5d394814abd2785a1f7f3a6c1f768136f8740d87b5f4ba45df39097cc60461c5eecfacc8df9cd1ee52664c9109e758d5dca4f6cb488c0dcc027a04aed7926f387fd14354673c0ccf6c913bfb12285b93417951322e3befe418c9646f3a024f9a6960232923d181bc18f8513c5eb3dc5b5d2652d50f92a175237ef871242af39d2557b51d66690e796bf8d9aa7ce7da6b82225479722441e323541d2c27b766b229b3617e69b7c891242e314e6b6bd4b589ca82fe5672314bc813d67da085dee48b83073d4bdda3e0e0a6029816f8e9f17c238af55e32c02b7418fb962e1b274c30fef0867fa1fb15c8b357bbf09790cd978e27e67e2a15356e0ca11bc6e21c74c5e57f22525b7298b54a6764b113122349b4665561725dcc818fa0a044b67bda17cc8089d0c52958cae7bdd2de9e61ca80484069e4f4eb0d5213cf17fd5f4a5b9fa152f2a4fb5bff9be24f678482fc7541887fb21bb67bc4b2eb5efccf2b8665621542bca515d9302695c564dc2a484f78a8a845c4d0ed0d6505801561664c9f10903b341d6c8e945d2dcf104d12ef661f443890d55d3319c221a3d2da624fef774b769fe34471152f5ee8c8b835233fb0a662ef405adc3ed4208f6be8a3a1bf61b38aa3bbd20e572563efc4d1c8d3d52c35b59b27c64b3a35579292c4598a8614c05d752006463a174f9869683329db72fd60e18bc9f5c2a3126f6071cde1dc3f3531daa65d2f4a6c53a2026d138cc160835f6501a213b3035b70caeefe330d483f140606d370c3a515e285ac8ddc867da0c6f17268083842f4d4f3f003df17d03277bcddb1a8731ff76f068b38a2c0a6bc4371c70017b085bdc3089681cd4c7ba10baf1fa8d91dc1141615d7dafdfe54b15a4ed990ef338a7d24b54ed9b5079d5a1da33b6c2aa5b7d4c2bcf715c68f5e4cdddb2cc95c4b61e3572982d4349bea6ad7927fb69d3761e196561688c609f0d98ae4eaec0b29dd8aab6fad68670eb0f2f4f2527e14bb40df90f854b25606da5556f5f363b5f477dfe42009e5d6bf0ef65743520e1797fd248144348eab668d57ce0bd2f112ef474fdf849d735eb2c49e20fd72dd9c81eb65c2dda7be534d1b3fdf88da8134e7772ac3ff3383434760bc3c62d9863a75ebcdaf82765963945b51142730cd33da304a992babeaf84268076e88a8569e5a4f635e1383f8fa4fdb297d0ffa9ed7839c77b290fd7b62ca5518438f21bbeb8943ba7a386f3771d1b93cca2b82ce11c41498c2a8173329c976e8a78184f5198e8207e0b1f1e9fdcf7ff2d2758e95d42306247c1bdd1142889e7a7d500100f09e7a5fa0406c61875bf9913be23292a7642e2681054ef6e0fea3beee21df2dc8b8ec08755b4b7163f806c8cb68bf15d95834bec711befaa59a2d1864c4a85fd3973f4d3a4185c7d8cef51d7310bb9d47e455a8251f6063733c9c7b4b52ad0a9a4e3fd5b7b898fc473826057d0161805699fbd6ecb99d7c19db0be43204f1945a2ec9d637029fff892c33f3bc5f6479ac24b99e38d6ca42095c16579756245fe6ca40812e9e5699d0d62ac9001da39fe76cc6cfd3ee7cf87baf336beb9733b9244683639993d10dd1c732cf0a4626d80e5085d90c674803b399dc48c9e17c3a89b39971be3273e0f5790d4d1604a66e92ec6495db1954caf9d266011876114a948a6bdf002b8f8c743c6c86681544464198758bac7542c2d2e2f8ea8db57bc635067a33da7afcef8989b16fe738e40b84e50e409daa0643f45b2f999109cdc9198757f7cb3a9cae870a2f79705a01dd2f48f51865c0eb007a9f2b981b7f7f83f70836e18c3f7b925c81ef9d58fe1335ea7685e1b1cdbf1db50517858722e1c5547f27d1344b135538e6ee69bc1f1409972b29ca6f7541c432adc8dad43fdeaf2b3f9820b70b5e979ab5ebe6618fb610b8aae3547e8e94f8caa660f3802597048980756127fcb858a7216c8939f39874f90af0654311dade81c5e38cf8fdc625e5761ff28ecfb7f3ef6b855fc616aaa95aa08021ee2432cbcaf794ab1abc857c3175c051132582126c88be2c645768a74dc92772cdcc30b2ac99fd4ccb5469866f605c8fe31060fb69a9928befc901b0c6b97b6333d40167010f06088680d863da5a4b58bcc557f8e642f729712645780737560de62045d37fee2159bc2b3563a61f778a9fac8a9fd2560c09ef320f239a42f661605edae2689192be4b40a6220b9218eafc876a80e99785c38e2fb914460b226168ab67b124cbab44295e14d57a5ca42f69fab1d8c950206af44e60e440d3cb29a860d69bfc148cf7f74037f7531a55973bcc99562f2975c6a972481f606a89e5af934c4859fbd2e87d3e10ead3e48d9a031772270cf7e89e1de1a1c9bffef138e664b45218113d344df139eb4c9e2d2fb83286ada2d4a487aafb92a1848547d6f148dddbed41fb017748da836746c11ea3c1cafa315d691240faa84543b9bb2cfae6771fe5b2280e814f15e7f19f32dfde5b0783c76925bee81c92e89ee15cbc6b02e68c26390d9eacb28d42cc9975ae8577de34afbd0d698441dcff1b906c31edcda971f3cc9e76efcc2049e9eb538e715321cd64854512d8de3315542686bcce3a074df7ace610c9a29e12a00d2d1f0a86e8b26e1cd3afc3570521f90e64785d76a8fb9ec4d4fd7bdc7ea3b53eb6ce74ab0c9ea7bb8800d79a496317d5dd17bfbd2d5305afa515d0b87e922d84a03782b43ff46c728d34a3b8d18b8d588546f20ce61d2ef273fff2ca509394e4bdaadaea6ea410794c5189dbe08c348942b4e6e21d5b52b7412340247a27c4ae1a33c87da24fe2fe2cdacb7c3f8985b9bc868de856ff6d29c57385dc672c5fb5246a7cc0f778287ab5c77335df65272149ceddba8bdae18d03bcfd357df524c082fd7d0bb8bf9fc27301f8054656718940ceff728d0cf53f0afff91e77885e4524b9aed42bb933c6710b5ca58dfb8909e621f938a20f06c572d25b599a2503c3df55e9f7365017a40a4753764d11c0a6db174497acaf8c6d9bfc23bbe2b9bfe7641b8c03b79b77b31fa1bc8ae88a065a4fcdc6d23ecd11a44301aebc116bc775ff969d19c4d93b3635dc46f00f19bf1ff52ff8fef11770d8270d3fe4e6ded0664ec7bbf687e430940b5185e4ef76cf2c12c0f20e21e201b7b318e9dbd6d259a7d697ea0340858f2a5553e84636d56962ec93e0898315e1af643a9ed75dbb8c29cbd5b54dd43812f1136ca4412604636e0b5321f0e5dc3a2b7d9db4303d09ae2f1e49744577b1ded3dfffd3c0bb9fb4398fe36874ce87e2510f86b4917788c8be0e935980fc263d4b9efbaf35b1e85f93bb41f56f1e1c1f4f406227b7299317ce139a6c062b572db6156f0341602b2c4c97605126ba82d6d83bff7c813a69b089a7501ded7fd7166d0fa1bdff2bfc29b4f158caaeafbc0d82ef3454297be4888869f7af70fbbdafcb3e70f69341ef31907165817207a195708bd80f990041cf3c1c042503800daf0e7ebc3be8879cbe765fc373e1767d5cb3165861d625bf43a9b78da7e3ab5707356558851f281c1e77524ed94af96d5106aca95b71ee175b1e517c03e871c6b1bc3b4c160612307c84c33f62d87263a80ca53a0cb7d0a75d377a42b2714c7a63807cc4b1a59cfeb9919f32697f174abe67536b42cf0a456d5edeb9766e7c601fbe8ef10c04da5fa4ad881df91aa4005a8f116d1a2c0e77e544261cac1326a8a460f699f9eaf99aa3d3ab52e7b550d14966a656328b8396d93f646e27a191660dba4249a58770d9b10d30d54ecea8823e8240e0bb38b4d1c52634d8d5e1cec65d8260a5f8a9ff11add67b5f268764b97176af59e0f25d8a2b0ac7ea546cd8bb57f819fb6cd576fe83745e957318696d30cb6bfdd0a8c22e8aac673784af1f970a336bd117df57fbf88c165d89d91a6b03d1c3506c73e8114c09e468358cde0941ed644488029905baf8b48ab0e827b1e6292d565205a641e6236127c80eadb6897bf4752f9444181d39f51201bebf0948083e8da592e80dcb6ebe9e726a9acd8ca236c25dc3cb747e6ca055fcd42e873e78768ab3fffdd4c303083d8fd1c85b09a2e0d611cf05635d59ccdaf2a7864d4cfeecc1a98d794cdadf0fe028b7a64e43719d01813f61cde374f6ffb6815190b9efdd858bdbf810c1977cb93cd7a99003a5cb31917cfc678740870ec0376e14528dcaff41d477542d7ea37119b3a2bc213b7f393e59dece0e30e6fc10cbbbe1aca38f791347222c36824ae5da28951324378a020b9055aa77a0fffd0d3b691328759aad556ea8d531e3b93aceec86926b2bf811c716f1bfd482cfeb1c4e0c493cc162773528c8731f2bb7383717f8837557de33cba8e65c838ab9c95865f8956f4b3368beef9a219801e4c8722407dff2bd9cf20c8d831f4c8d1c8a53390f5751c5bf68374dda6fd4a10aee491b9593b0e863e5964bb9264cfee3b4bbda19f87762e7c392c2b58c65624a2d49f10214bdf77cefd90fd46c0b67a2f7d61877d8925315fc3e81b044dd82dde9da6a8d459b1575fa0a94a1e8d08b997cbe3ba27b2e0ff6b67677103462c9aa44d9507a8f2a8d7c56473315a4846d6bffe3ef4a770a9c43693c600c8e62713f63705cd36e68ca6ae9c90dda6ce945a1d560a7f6836cc85586c21e2136177467adf6463a7d05ffee2ab0f2ed0ecf87a7a3b25f880c9a355f414e37971ec111d43dcd7a317d04f137c2d113c811558d716785a98b8e5b0f31b03519794a799bbcc4409b02c6aed8e31e5ff9429b71cb55ffe99196a85708b47c91643de5d3821ac0351f3d195c7f995c5c012d9435c86ee0424465ce60bdf419dcf1bc60e8d75a0dcfabf09efb33066072af552406667d7371f4bcd8e500ff69c19c8a03062365211cf8372ad61c901ca6a68fa56ade875aa3d5b89b5e88abf6a399bea598ca456427a6ec1136d32efd6c33ce0fbb8f07739a5ad4f1cc6148b50c8b7681e244480eca4c6f9c40cfb5c07e44fc4e028eb55c3af49a1f243f68955f38c092e1732f4cf95b678c13461f80e32e2bb2b6588f9b07122915a03599e0654d244460db8d974e37413658dcaf53b8d7c82b651f90b7ce13910967e1c77296444e9f38da7d3d9cee61d79a60a729413e7cb037ce34cba4b48727df90a6fbabcc5a5fd266aa26b196bdb84c2d3ecc6969e45bf5aaf996d733c59349a21e7a8d54e9505b7aafb5b96516e758409973ce917ac6b48758229f2e1544e0b0c1568f52e41c7de442cc84f345782e049e31821e91b3f63531f5c17799d88973a12f4054624fe19ffe7474822434c7b519b1ca1ebb68164d18432e40a2819a5635c207a5809ed819d06f4316a3543afce5af092f88dbfc95b097b7732b398aeb345a512aec08a9700775d3830c0d9766b4cc83944ff178202d8de4789d287cda584553daf75d240b1b63318e6fb01c945be314bfc8d4d4884cc72de1dfc3b5bb7b39738e9c0119795fff83b1c19d21b2d89efe0269f81bce137bcac8196c5a475ea5d77c311648151bf80912528ad3164eefa84332819c573ed8a12dd47ffa0036473f278128e44d35b7160622f672a948437e9434bf9b27fdaf629da5ea07162e633e664c6661ab82470bbad548a95a1bbe41a69711f940a626e6602b0e5efca362adfbdad4a2adbfc2fbd4ed80d4a20df4ccc9c0504430ec6370296f8946f19fca8484cc7b2320ead31d23adac9ce1a504b71d7724ebaed61f9a80e4a651e83eb6ee48ff57ce75d8d472c3d51418f261d04f61d128aab78ab04dfa8255a628183fce897ab15fa428467b380d0534025eeba9eb6d153bd8c9401fb6a7e9af62e4f102e486c8ec4cf5ec2df625a3085c3ab492cd03ec63fdd213de8ec35f72a5b46769d791ca17904076649ca619acf0e7ca7e9944f3a78db1a79d21b53d4bec99aef2a1d74313fcff966ef2861a84c1396a188f300298a601b4e3c067a18c2b8fb82b80dcac52347d00550d94eec32ad81b476b805a25a9061de85594d73d45dbeb02dd81102433c92c1077cb8e65c129541e39464a2aa923f7604c3d22ba3751d11d385283ec6f3a8abca9be4a78cd5515a776f21c2eafc6058d879c527df940876ab1ee7499db4e6006755636b5e0c3c90ec44a8608b8b526d24497613f4f4405eaf21cf2987a1f975b0212714e58d6ecbb5ac38b70eaf54b8859e8be548e032463302ffbe38a6edc292bf40eacea210a03b5c65cdfd8cefef1055ef11792dce54b81f2bd9c3f8ec173e8ebcf32411cca015d7ac22c7fdb1ee38364f5648c673d0c6eb2384ac060c046877093dd7b54415164ea1fe3e48d997bb90f6e6a09aee83b01156546ead54685aac047b8bb3042e06ea17e52f3549807c22715a9da0a37db748fc3d1735eb713bb7f49544faf886986e2db9ddd8f98607817764abd11f62b2f5a5502320fd1ff2e40589073729b9d3bb7c46c4931bafb8b659d3935cfea51c2e79eaef007753fbe4e77acc465462089c01e26889b2656d1f98d4749c817344a48746ecd29627b9643c014416e710c23932fd5ab8e1447288a3613b9b9f65517f2814759d94a4b575fe6b2a226e14d333068074cc4c105d701663b2d24ed1c58bb3f63861eb1fcd3ecdec26c337dc243718d13fb5a55f59da3964bbbb96cbc0591399736523d98cb3faf4d7b5075b3112bff6b1068e0e666f5e8c4c787bf57debef54a3e6159f387774e79003cf9021e5158cefb1c797670616579ba91b4ebbd70d30e36d4e8d4b5018da7eedc160ef458b38c05cafba155e8a1baff412f16340311eb8dd0c71698422b3fdc0f4ecf4259af3fe8e191d3a7b60b9aa58d5ce0282ec79dfc8db9a31a317f18fe55cb75a95371fbb64ad1a95d3a0058a598b67f670959956a20d6d75757cc10bbc15fb06876a5ca569c1da3974ad6fdee893d7f81dc3c5fd9d31c29e6f067308596d67bbb6b4b3355f9250b21bbee6af71917fdaafba810e3ef458894dbee1d8a600960bb88009e9fad9c49f30090de62009065161108b463bf0cf1f8dac466accef73ed93696ed3d80b07fa69c49fb39dc21af0987ddf989951e827415c8dbb7f46ea3987fcf6becc90128dfe7388dce35991a70c2e66ac996669ac5aac2057aaa4f8403ac9551cefd2c0ec69ef808785fea643f09f8bc5dbcee3034fb596c2839983f2b05938f9ce599460fc8d7485ed2cd3ae9418d9ab03b2afbe74b95c6ea40e250e6de87529851f3fdc1d521448b2d7cbeaae61e34fd02c7ad6e0d97c41fe29983580ab1a50528b36d37bec36f3dbb795c3d42583fb0a9069814328ceacbef0ad594638a34da090f5bebc228c80fb72216b1691603926893f53188ff58bc819b41971d566aac1cb021798fd66e3114cecd656cf9a4450de25462f05d07f1b6511f89b90e5f39458aee89dd38757d613eac5f5ba8ec8da145abed021f1dc7ece1bff0eb9dbc6c5484bb789b063ab9c4354d0dc0d64cc8a98eea5f490b85a743925c7a41103b5664015d66c30cce24935a7572275d60a4e493ed145f2e3c92ffa0466f6c795903925cdb51ad79fb149a3a8bce363a833e2d951811522f0792d5f60e7c471ea6cb0d35894d55db3fae79276460a058c46cdb079ca7f3a7c163360da11469950dde580ababdd058ccb7f14fc22b01a3c8cf044d255b718fd6123311160e4eead195a3ff6dd9e1f6e0e2da30a934858c7887c7ce1e1ebdbab8a51f09b2810078daa3f82320171292893e0c62ca0db4538c5842dc83e5267a2c21077f20add46a709aadc5a265a2d8035bc631a24de5b4a0c41f873462dca75f631dad3413ebc6a28aeedba560549986aabaa7d54a89fe77d6431a2153c462faa82a66455504c904ad971763eee4981379e613c96e1e2dd93efc342e9bd7466473c35df6ca88334208087797e0b8dfe4e8fb9bd9e4b3bcf79caa894e3ebca5d7280c756679f9f18f7debeadf09c1159afa77392d1b19eafa98c238f61a4783094f6a347534882ce2be9c6e692202c19b3874311bbf4024d38c86d9233fb8fdae45a703a854764cc2b3c57c1d686feaba700b91b0ed8c284a17d5a03d576a0237d676bacccb7e610299e2368e617e8cc4cfcfe1bb49c96eef5b285ee9d8454c892","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"051b7d13619ff65e3d738eb770c1f84d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
