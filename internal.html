<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"74d3ae6c2b687f511a109507453064fa82b0deef9e4cff692426fc93fa4c677fced46476b57022dae897313134f3e0c4d0b547261cc487f80c571f9d4efa7e6d2beca05588e6fd806259ec9e713eb768d83853a4c1de8065a344015f01994e185dd54db847ff14e89c836b1a2751a4e4691c34dc4e67bae29b8e979b4c28ec85e2bff4fb6667bd38699b5251bafcf49307f2e2d430cc74ff8eef21a392e2b6c3a169be1a0a2c3cfebd892bc78ab09b262b97ae297c357cfe867054d336eaae3192524f76661fd68393a62fcf23f9516c442e79ef523d30c3ddf6b08f1617fe4b3bf852f7b56dfb26f6c9f2cf0486ae2c8831a91183defbe69ac55d4f9e62152b3308e1a5acafd8d2b48096a49d924d295b38d43d2a0b2b40c7744a4019a530bfd91369ddcbe1e98b427a0c424c27d89c90f629b52d75ab8adfaf4da90e0a439de5e7142a473fa041b00cdc69969dadaebb31d395e267aa86063576d25879335f7098a44d729530ac4cb1e876797224fdbdbf381ce28faabe5093e14f6c27bfb946d0aa0debfe884d1a0559fb22c66ca413478637ce0e158ec70c5ed22214b91385de4da7005ba69f7d8219d95e4bef51dbf59e55535c70b4593131d7c732f5173b42a6d1b8e5dce7b83a2f9db5e3acb8808ea565e33431f3bfac23fc396de0b958dc55ad7dad3f74556f0f17465ffefff993dd8597647b531cac43062afca5a3bce00dd5a0054aa57d9c143b67012e2b9b379aa5c2b5e8d2612563c576113088ffce427a44b7eac6fc5e9212bec5ee26aaa70864c5f3c9eb82449f58f9ec12e6b66882cdb81f8a23f38956354ab2c75ee4a8c51fb2422cca691e94ea4b5f5a536c7122b167960888bb61f844ca01c76a906f3326c8d97288f7967e82044ad4259333e5c5e837217ef6d4bcccd68f54f38afaaf46e4034d460fe2143a576015d30428a75d6a2617b4c8e85e1271ff24adc4ce209d164711eb65af05d8dc5154781d0c9e729236eee5dcca3fd30da5783b263080803aa0e54291ac850c83e7d06b7001fc9bd7b1544d2a6132a37ea901e03f9a137b3788e94129a66e6de683373a66b5ae80b0ed7ac100f624ea903877e2f8e722181756037be49b94d489e6315ff19e389f20af32d1eee58d2e00ca628b19545cc012c50d4d14b8e5a61fdc9f1d04731370b3c6af7455fd2936f9cb01225be4a24b0608e5e1ad21d49f06dca9125c999788d21933917193459cfcc43a7cedff8cbe61c003e1d2a7727bd849b397523ee7e07600756f879691873c2fbccfb2942c6cf453c9930bdf5677fc3e381b799a670840da182e96959e2bf256cb31c4d983de806bf4ffcb8f9fdeec14f63ff0af8e9f3ff0a32058cd09c295d444b999164002edd366ebf86bf6909bdd461585539e13f4d3f2ae6781bd8fafefd570305b38e7a9bf489c05dc1e9bbac0417d0f97f3b68db239f7ccaaf990d0d885ed8822d55de331678fccd31c702ed2021ee04237dce55c9d2134eda684aefba04489c56656767d993203f2b07e2b8a6de06d2eb067c8de8154a802e86a201a28874ac1e36f3696926234c14fef3ce692f65baacafa79d79ba231838cc1fd1598b6bad83a6288838e04a3fbcb26d3090d08ecf3f5a8ed908a9e0f0a3a4e38ab219b2c9314978e77844d289077d04796584ec7ae721f133567737c2cb8084277ca38df05642aced7dd78c1c712fd15e83fb9c2d5325073585b8c1a9a1295af182e04712be2960c111f2b103900183153036ebcf3a3b1e3f8cf64c597e00cf4175144c6d3ae2fcad855db1b9c6bd763cbdce7ef6fa503f3d48afacbca812019a89cdc153c2e319b834db1538d49cdaca30ee463e101bcc19c634f1bc9b1f1460dffe2752642e3923d901f2ed0554d975863cb03d7d8713d695fecdd5d57971d00a146492d0f46513500869c8ba2208a190dc10b6370058c227a5a671afb4ec265629bb62d2a3d7e6c9d22b9274277f402a0e503234b8906766a0f0d58f4e452bcab4a765a406422ddd06529def2ca0762d6a53f837b3b41c7a65b779a5a911fb679cddfe63504200c29c8928fca3222562fb3266a1605762939fcac5bee7864ffef0954e6db9d14dd20d24a4986c1ea7018cd4a7be118459e43322c0ae75ad50c8a65fc2314883ff98f5647818ca86b1fc9e845e758a8b7189dff0352e76a387a1cc87251f5a60fcaa55b4c7ebfb8bacdb46f8a99e1e43d525ed71d05627fbd153c3aee8ad2505b6c0cb2aa64a2e4cdcf2a5b86330e87c37731cbcae2d955d81d1f705650de8302d0358708e62325ee98182a232bcbdd3af2520b7dff1709160a824ec06f942d2055612e8dc6e60711ae49e04806969effeb6ced4170bbfa012d2a8004d9bdd8efff5f1c9b27af3a4ee6dae8486341f4d9fb432a9b68cb77f0a7b7ddec174bd6aefcf10a91f60ba12d039f9ef36006062cbdb99de45660a5b2a2c6762021a8c488f4dddfa8562910799dd5ce75595d932caae5199e1c4d498580fa7a83248ea3e0b4d7dd061d4fc619d40c4ac085e6f6275ae1be1b192b3d79954afcdc4480a4f52bf894ed4e09560ef949f2375f1ea83b957052f12f05e826292549dfdda0d84d1cb4dadc8454ccecb9ef0fcd9e7a756b2c792a0cef52a15d1ee52fd11f5935056d14e220be932bc85f28e6e0abe03682360713cdb9e65f7a8db179438cf09769cd881cb6fc5ddcde83c398e75fa2e6b54aae6c63a5f34a1288d7192c64eb33db2ccbdfbfc8d89a39faf57b8ee09310bd84f239c81166aefdf1a4c5d49643132bf7b4ffdd5cda00bb6343fbaa6d9c0f29d183fd2267abe9570f4133b1f953cf0564d69f093d7568b3bcda0c2771d87dd5fd06a787cb1e851f2f6016664d20a3514aeffd6ded76418dc0e382ba1ab731b2b8211c0fff52b960d1916ccabef38ad3d7de6558c857b6d38003b617a400f01c031996dbc42ffd62e9ac569b473074d86e2b577a2804c6bdc5d6b621409d378f6284e20bf4e7f918cf4543385a3af28efd0ac262c1131d88981b6968fe8d9ae516724c72c619b19b936a1f722ac71f6b833b39d141e02a7ab4d4bb922fa60b92a447fb7f68133a2896f800a30c38e4a78c95a5dc1255420f6f84cf92b76ac733baf9011cdf58e267dd2ca03cb96ab2723dbacd4f134f66f8cc321e44b917f18ec9dd7c5e28d4813332df42e10e974dbec85e9a36d8c1e277c6f09d4f75f8b7da1c934baa780fbe7d5379afeee77f4873cfe9afd25c23992dd4f26ea1a4efcfc0b8715f69f8b4e744a4344bd5c71c749d99312eb44741c86e59e93f63c9df3d568ecb77725fd9444cfcc6722cade3c9b30510a37f5a05c9fbefdc919bbbeaaee92d196adf9e1732959971c55d48d39aeb7518720424d48adfd052ea0bbf9d496927eb06eb232ead94b0542ed03629fdcd54cb12a1edb1c481646e008f2819c03f3de53a95fcec37e7f94e44042ab292215be10704f11ac782618307685c192392a0fd11c736f886949b7f9d01127f4bc72f732898030e62aa57a44eab4d5f7bbc3c7046306be507b1a16ae8e0ae5962605a055e4faf902ffb91a24850c777ee69a394fbb936251219d08b3021bfdb75c3f085226dabcbf41d812ca0373b8aa0c52698224fd249fa190d2f8673db6a0b0b799e30067a9fadcd80455f4ca6bb07c82d54befcb8e3ba635a9dcae16ef50c15fbd6f16d7b1c1aedb2a96a9161599809c3aadea5c5e2e2a6c25645b840464883c9a527e396057d593ea9f8aeb578f2ba9bebd65e5723b1f50b262ae15bbb9e1d9509e111eb5eec2d3a5d2c1f40001ef773ff27abc9a24c87915bd83c080a580365fadf9469f78fb3db7d915341effe938a0982c53afde7b39a63a3e9612a628c023e66b879da47d46edecd761673121321285ab804f113f99d4f7db3fd9c8b4533b09b9aa4b0c4fa2066e2883bf06438972f18a24f1f86d5cd00d18794c8bcef582b0c46d2c4587a158d82439bd737e12a85ff28bacd5e90d3b0053adb1765968b91b64020a3d3ae19e0adebb6181b338b75f6174ad7e2cfad27b30e7c047bc3a0f13a14479058fe049344cc4009bd9d042f675fe466a9ad1552714e53e93d773a49776b80e5359c38ac42177c87026a0bd688026c2b9f088255461b4d5645c00c54009a2e37b7d7c0e3f5083e14dd8f3a35b67e28d1bd62cab7cf682af70c13ab166cf250e624e360a5644ae8112838ecd1632eb1ef5b13e0366d478bdf71a6b2bef5be0f430779ee9be144751ec0a44b5df55c62daa37f182b76a4fbc70de682ca8e23290e77ccb77d4ae87b645ba779a6c47114e77a9250553b2ceb01b40c0d44c572cb80137a91535bb33edf9cf445eb00c5cde886987e3544ec00305b355946d9ef6a79e44b98ee538fcee3fe6675fedad1cfe9181afd4a55db4e3e1fab6fb17f69de119b526456fd52e8325c6b22d865321001927f1494b755907b8579422f76264d25e2d1f22cda2f64d467cb610f62030f1e2ff8d7f850bccfdf401dc685bc2ac5e3f7e019de024dc1cfa8b6b918562b346b1120102c0a9ae34940e32766836965a4ccfa9a50034ed2a16256f8a1a034a11b871c003b5d92c88aea4d4e3216b61f3723f310c70e817612d413ef956d95a30bde21d7eb63ca9e85d6f4f98bfc60862dec49bebdb0507f6308b36a97e981f7ae809378f084499e217422f1cac7a4a9702566161bff1b34281c94750f7d0f3c7367d2cef8d7d2b6d2fa95253b2a46ddcc099e1cede1d248b6630194dc34091045933cdff7dd66bfc840734c80c0a85e523c18ed388ba188ce52def94f3e133df24d249e39bf46ecce1e74a69995e0f6018901977cf3e0618df0258db5acbc4378790c6fedab513749dc9903fe09f5c362b23914b44f2df17d11078178a0233d8081f2545e693b694e7812a691d41319608d5a806d375e69273227e31a2d00f5aa4f2992a0c355291702f1ba3361e1b5b8c865a82d739ace3f2f3b21666455c00afcb90a019b93c99d89a4e933774071851c8c15204eb60bce2e92530f073d9bc8c6b01bbfd3102be83e15c81bbb303932418eb4fe6313e27a23a796d6a374276480ca3a818fef9a20f458c3dea02a72d6802f1af573accfb8c32f0ad1c552cfd6ed21ced7cc3f40eb11f13d209c042760d4a3ca96ae598317de83b3982337cc3bbd0694572fc4273cb9729f7935f09291b8817982bffc1b79a28cf990fde6ebb079d55caf0a56bfe04f2912f5e7b3c22b797ed5fe249d1e9d84ea0c9da6569f7dc02c0994067bcd0955e28ebe85c5b658e9d468df453f7f490c91ac19280b6df0e842f106b903ea793c3c8ee3ac37cc806767418f559a24b7a1e77a31806d6819fc1321bf380877617bd5e6c20338368540548ded37829a14524765ed376ecc9c5a372740c78b5bb7572c20c82c4d805788f07274c0a2327fb9f1064ddcc587595d3074e90006d922d052ba9b9426ae66afffcb1e4a2070291b850f1765b1929c0c03cca37af0076987f3ea59439ff0124d166948bb08f778dda3ee89ac810f65f79924a9d8dbd190e9fec2bbdcb4b3275020928e6d564346e6b4ccb8d4447de15e976680e457bb1248b11dfa47a3e3524915528f53936a93ca045601a99e6553519e45e4273a2a058aef2b05d0179e20b42432b97d179e4e17bc8139891a0e3e3726cca900e1304ad3c9bdb55a5af11046f0adcbe168b20681a20067023b924cea2d4534ff1874246a60668110a9e312880f2448abe225fa51ed28da1998a0b5670c0e282060cd58e6fa7f93adb5c7ff14fd660b21291e298aee7cb7df6b63c7215a6fdab26d7e16b758f2a3aaf6db4aab2bdb7b40433aff97d10ab339b788cbd9bfbb9655f575035ca9abf9ad1d786dabe74a3f070bf879e850b590581b6531663b4d3bdecad82f2653e15ab9f65b00dbe9eadd8eb679ec0230c99b5816b70de74bc7ee6378130cb8583ed20b2c0268fd6e2e0d9e928e0aff0b25f746630aefcce4bb12061513127e939edb99d242f48c08bc746c5d5f3a07eff55996f576a042bda376c5891b68760a65b82a2002dd43fa0dd0f70067f9baf16f7bc69517f5261d0c78c616495081b1eebff6471e89094a4f2e1977fca35a6cf3cbf99579d7093089b381d1d0346b0942a3425b015faf8252b9272f71336784ae44297bbd1070f62771d1ff99f4bef335752a0d90301381536e172026edafd43262dcaa27627037056eda04ca749d07fb6036102c49eaa9b2099b1cc123f6f730cedfe4bd321f041a7e36e35f8d8a6b3fdfc11ae5a04c9e3adf22eec2e23b51f68e793009f27179e7577ed412bbdbadee2e6a1d29a65f7b7fc201b84d9bffab6fb9cb7c7309b8580a9915711ba92ce664349b94ca0d50d712c683de977a50a45c7abbb263b80e7f7c4376cf868634290616f35303fda726a7ec44e4dfdbd9ab46bdef33fe253a310bd90c3c76f1352133efea6356549c2100a740f9dc9368dde646f0ae3c48b954c101b7357d8dc1ff7eb2a2bb0ae589301defd55d8b4f9247e5fe03a4210deb08dacc373d01f7ef3eaf0a84a9190b90c44970eae108c61c790a674b1bff9fa90403256caebae9e117d8be85d64a8273bc2063cf166b5842d2de2edfe3998c8b856865fd39b94166186106004cc0aa5cf7b5667f831dbb98acf5bcef53c016a3a75b5a6d91837e3f03339c67e01c4f8da70ca5cff0babe0b8716664c59cee27c6d09a77b1e3159bbaa59a0c0b47f736c258719c1813455be822aa2821fb16655ca818ef66b3b357861362444aee8ccf89e870a9d04036e2f0320d1aad0319551fe2b82e3a3234e3cc3635dddc57b03323aeb6ee18d14eeb84e99091ebf5531098385863b111b92d910a949996a7777bb01dcffba073f76abee96d8e71070bfec70dd302ebd64eec763de5386fabadddd21f8830b6c06511b41b8e4b0a250edfeff602ad70c196539effc060681066afbef155a4eb60fc67497d361a24d60a7a2926d1436b9bb4a5efb8cfd4146d5655ad92e7045e44bdb5d81ed5dfa45803247deee64fb419820d896fe278d9eec7a6dedb76349d7b6e7d1852c37d9f7fc16777f67b165832c11f5a78516ac59f79d76d0038f9469d26806a6cd5ed5748519d576a57f4405399d9dab797f86848a091c7e16d532b0a79f88a5ba81cca49b098890ebac4e911b44bb5a6e344a260ca7c6fa81aa45f5cf3eae28e5cc5c6fbc6f4c043f4603ddc89aa29a2901f6e00cace8371daa9f7fbc791d19b212523cde3a5bd76ad3d830ba748293dab70148d64076358cd70af170e016611082888eccee01ca0fa737109a577b5142afb201ffec1ff5a46d89326ef0dd0cd4dcef591def255000ea54d4966ee90af8bb3b8c216c1c1f9863b9daabc97532263538e03a669d68afc3026a4247bc2c7a5923e83cd89ef939797694274a8e27204e252d2eb4358f17605e2ff0977e1a334b0426316c8a20b882f6cdf66d5fdf92e0157981fc55092901e636e11103e9848a4778039c196a72b53c936578e6b38c7634b37f484bdbeb6c3ac9c25b874152f49b81d1a56ea1df26c0f7ded0da20c1f7be01eaf9cce766de3842cf69e71341da9061e52ae6c2a9cdedd27d3e03dd99d32af50b6d08cf990c17096745a537ec73803acb05dfe18693f96bd0eafbae34918e35ea63dbdfebcbd3b1afa760f83d72c3fd0a3a6023431ad216261f9bb5ecebc77a3f48e19b58212ebf3dc766e358525f4d1481594e590bee83b2f8287f18c6cbb8371478d8adfefa90a9093623255266d5e530579e5f04e94a6ad6a5cb8d69db0a2e7a31edd4b8eb71fdafe47be0bb4cafaa2ee9ef62f6f9974779494a8448a1b70b67b31a0b2b2a7f6c5be71a50745fc699c6ca5a47c3fccdcd31d088f378532039af0383026bbbabc2075533b985381f89e1ca5d2de2b11beb949d139c4f667b45c92f5b303c6bca66eb85a539aead26a51b14fcbc98d37f98a02af9d25b571194f571ac81d1c902408f91b400e91d36613065684c5f50686cab7857e5b3891508c02c48e640fc8ec1be75169c670daaf5cd60b1494d0b654c3d3775aa54a3a7c1c42083f7eb460f9b669fa434b5608049247a21492b9d3949197fac1feb3e13da90ac4132b6c6d8aa864c086d085989df884ded825f9850da388373311e71257898281f54fdd5fb022ae9f1086ab2ddee5e711d41ed28d499e4f246cebb26ca337d2843bd8507db549d9ae32d7b7d553c81a174b7c027c593a9e6e07e198bb78d0f5919ae73807b32e9050456d5f1a515b6cf201543afcfba88cbca46bb64c01f8cf78a74755c4db4648b4a42dff3084877d4defee9c92e29cb4b1493f007f87449ab1189482d487dcf533dfeef8ad44389a3e83c13484ee90c9900ad22f1fff9394085efa07f6bb84d7233b2d9083aaffe36ef539da5020a3272368b14bd418be570b4f3f58c6c8383f21beca748537ca0d7f27905ad624e964d58fded5379545a0517d417b7583167131269c577830de684d870e56af28c55f7371af66cf37d285daefc70ccff47d4d4a393431d6f2f8d4e5b02a14c6f20a490961ed6b2fb84a3f10e8f4fa74bd45d9e8bdf3f1d1d9085b2e43bdb5f96068b149ff32e77aeb82331aa2f05adbfa8c3076d749f0731ce4c1f7f175f69fc5943a9c4ae8cb50d95a49576f922d03b6633e49c2e92f85a55e5f63e6d7edaff2a6f6471f2be3f1a01e5bb9a07e499465dd9904e7e66f716b14257c6bd5fd991fb99e9a8d26f26d22193c61114b8b45bd560b1f557f902317f1a1ec634667c0b8bad9c8e7c5d73c6832c3a31f61513b907dcf7a85c47304a99e02dd8f4e20669e08b7c9163d1ad4fe985b48fb089c87516f3d0a0af423116569e80e361e9c69227f4cd231cc97f7d5862c9e88890f61545927d86c79376fa500c529405eaf9a0fd5dc1615abdf066d4fda3beb746a9220a2743f9ac8a8d9de93d37f86fb564a08e3256e66a7698a3e7afc6df8b3111bc2ff813ffe7a16fca77f45ad32e7eebd36954276ea3e5f38e86cfc3779f41da05c4c922d9a5e522eff3b11b83c2ddc4f18774b2158c9f53058106f85a7d40cb1dccca8f78584612fb33e20718acf743782cb1c879c1efe7fc5ef6cdeecbaa0da207589e201cc52a13b2de344877cef1973143599e7a55350bc1bf87733e8d86809f752880782b94cd804120e2db5db47d9ccabb2f91353064cc9fea5dded957b025607bdd81d8b67c5102fa35187537cc753bf64065bd94ddfba2de24f94f12c96ec1fcdbccd2f21ab1d1a81573da010057a5851f40bcf21ac9715baf495dc700054134316697dc0d63211678dc921f9245ad3b17f2c6779326a3da0b634a6243cbafe895cd0caacac596f432fef44a059c7ee22d112b256cf296416b521e3931b7020cadfa165e367a98ef383e04e5ab9259573e5db0639bd65446599e5a07eee000bfc67b19564e22ba2fc229df65a629f2bea14cfbe131ebb87a197e26bb0e0c3f16b8130b586c92a488a9ccec2eaa4a050d626b2f5f0486abc3a50991e94dffcd9daa727edd8bdaf732d70ceb57e1b41b7cae6b42237e8103fda6245958a057c8adee847a618dde171bd242109dc19faef51bf730c5277eb1c685ec65c4342b84735e21715187ab7d392d10ecb4dc99362f036cc708bbfd61bb5250017a62005c8fe7cec936d09f953ecc72e259933f5d6e6e8ef9480233ae91b95c274562b8b3f7a916306c4460520b32c74f9e984d75e1f28eac0ae474c644a0384879e3023ea2cb981d1a5bc90c08c98a0a41b01a86a6e163483fac14a026c6d20a64a136c08b58caab92a1e0c7271a0a605853c0a36f54ad3faa8f4a7f2689a1534dd919fdd761ffcfd804ca33c16d961208b8009f444ba1504b40f6e4ab4b4abd2341a2f205a87e03f6ba3d2cb6e9f94b3ca26151399537960ea9d6f7854f5798f0cca5cf82247ea3fd53fa07bdf3bbc47e49842d05020c55b156c35ea902b89c5e7c05c53d3a14b73c6e061a2ee7d802685fdb03bc8e2d563ec5e4e137c37c3080f761d4ec946cf3434a006427f990dff52d507b1dfa551f068b8fba95c50ed544ce4507147929cb5f704d429d881e4bc532b6a1d73d641e92fba7659729935e449e2527f0f018870e82076ec977d156d66d36f3d83d44fe0016180127b0893ad27332ee2dab753acf25bf16094e029c426a37c31e4ee41a24a0e4dd8f48d021a71c401b565dd22fa93f1314f2afa020a84eb50f31c4212c971b813935516b9bc1f3dfde0ad49c90ea2ebdf02c2c2c3cc01bb6cbb18e6c76a75a6780aaac02610af8b95b7b7ce2e4f427d9e2675c839af84794648f02b5cd372d1d2d9ad2ec1a66b6918113c6f53245f8fa1c45fb9265dbe020ef3ae4f6d64e24e5c8fca5c04ea7315d495c0042f56834e360af18a540371604fdc324d25558d353e8e6e2e8251a628dce428ab99f65c5623205489a1e8f7e80129f904b7b09609e7a59fab3254e43a16f5d727e36d0bf73788a2d7d03e60ae1596ad285b403d1e4f1d01458aa353dc875bf81a1e0c117d297ad22b865cba1a884f912d65517ad87684b8c5f9420a73e468308866fdad4bb08f2579e491fa57000dd2175142c3df8a98cac3a9994361ac1435adedde86cfccdff0de2c2f36de50fdf393a795fd0eaadf56e147402f3a2103faa8aca969229dbebc6140722bb316168eb7905f46d89a6efcd890d3787d18b77455f7aaa23f3625465ff06690fbdc519729e32615025c1d90e4d0f3d64154da3a40f07b7fed8e5638f72d7b68ab963c7bb0ac41667f40d854e5446a4fb2d394f9ab8b18fbd2a8517e791dc5b794842eba265a46c3e3211579681415eedcd9c6d2b6accd3a54832c65c483448567122a9aa9ce2525840f4e36de372c9fadee16e9fe0dfcac2e9059313aa09eadc519bac09deb0f745d7ca869dc0596d742e1fbf93adc232f48501be2aa4e768beb13afb3728353f650560c982bcf04a5e0f875d8b7630aabd4bb40d04b93d75bc67c38a7984215583c25c6c620c418bbddd48dc5ec985d1eeb7501ce62af4e8e22b77c032775e0723b1b1022abe78550f0bfd0ee2c6ffba35acb3509e9b3755a6677f9f34fbf583def2f462b3e4fc5172bf90a26d25be92cba5f625f02065819ecc0d6a82f2afa578820e081939238c3a22ec0a8316544e2f9e80ef0d3ab36cc322edbb04d74f91ae9bc3a69a0a860da3e82575d85ed5ee81e6d8f28dd213a51d7bda5c2a05e90e799a0e1b01a4d2c35951179b22c731f39d68de4a0060df0a1e354cf8581d18a56440d965691a5e4378aa195b0cbb3d28df7045a788ab7489ff4059292883ad95e41f63a226bd44e1a243b4886da8bde5110043833d278f970625e9bd30113cac0c39b05f7d939294d14ea057de695aa5a8a8ec1651e3b07f3e45b1d81b4762b3defdab2ac4841f843cf74ed080cf346bb1e83a911430da5942f097093bfd0930a8e6c5ce264c498c49bb600025ccfed43c6ebdfaa044123d9e1fc9e31b570e41fa9a789bc2f3fb3a7a65eea87f62311e316180455e28036d5ce8079994f1cc85361d0c06d0fa20a48bd90cc3f1dd4fcdbea7272fa11addc7d178941d6c146f9d466a4a354d3f9be34126206e499d84f028e854c458a33d49701a36cf4d4cab7ed98fe5d5d29fe03e64ba74c4133d6821596cfca04e3b8598cc3ac8a5a031011194069a868231c7886139634a6667882d11c99f3a864584f04f5b6c57216f4f990791eca95d5661f0bf0f3f9b1c5d7e6a26d4e2dad512acdc8e5a847ebd539d6378bf283029fd2b3d75e1d152cb5de06c343f00e691dd4fd3d8157b812121383aa4d78e5cfb3dc2f5e59cfbdb33140ae74e0030d12fad6bc9dcf543fceab65ad98dbc23a722c79691ba2be7bbb15ceb75035ee6739ebb057fe11b76faa7a4146d23fbc0cd4664f697da8c72e39e9167343f19856f1aa36b0c19b03deb1f839cd0968c7548c1642357dadc2f3db579ef4705cc39ae64d52b6548a0e2c28bef8dab6833edf94f3aee08a71d95b8eb4cb9c2f11ace36195d23028434250bf2026c0eb114501552a9a6f19c83073039243ad0c93597f1aab4773d92d2fbafd64868ac322570e904f116d446a97357d62b3e4fc8dd018b712be2c6f91d2e0f1be9bcee03fb5812bba44f988bed147e56ea42351860688f567359dc33b44745857843173df185491531250397cd9b67816e0dcbf32a864fa2c286c77d2324add68b77b3b9812f4788713401c35095d82668dd4fce64d64f909dab17016cb8bcf3d4fff3ea5903e51578d99b9c9bf33ebd2bc996ca9f99aacc5303265cc70a24308748d861aeecea61abc89836daa8593a5f1491dfd18a5e12ac2c96b6fae797ddb2644181efb72d321598f00ede4941e1c65cc33c3fe44d298d3f6820ef9948e5c43530635a8090d6b108004b5ceb616a8603f90909a7103c4c4d25fb55ba81148a51847a6e899c411afd0b049abce598087e07bd32d39562f97219ad0a990435f1a84d65cf5b2749de28e1bfbef07494a7651698035262f5208f7f1edd2ba9330f2de9c5d7e3bc8961e7da1cbeb24b95cc6edfffbe67e3f601d902f5476b915f73068772e959ed0893a4891182d36d36e5df9fce7edcc439892b67c90f6405c3da6b17ebe5a1da19e5eecf67d60acfd82d988b6bcee4924598fed6e0b951e306216e7b99749e16932c9c01ad2e7811caefed0abca67ae39d7e1610a38e44160585a255c3eae90cc4e99c009d480adfd466bd171af776ddd38a2a069090ed55bfae4efbef3c3f2390b4834cf05555540e763c897b381cce586f3370d0dddcdec6a5b114ca7482c50157c69ae3518e3ac682fec10fb47090d1dfe1b198e4ca6ee5a51829e7f404a6dd5b361393239e6392c8a3a9c78ab41fa1a29705b0ebc297466ca434f7488a922e6e66acb4f95cd2d8dfab5f8ebb7f78a8a7d56fe3e838b7f0a6018866d4676658d0ff57ca74c81c33f77c8bdc41632f9e94d7ebb1fb1ecbc39964350bfb3dde3a5ede43b1efb24c4cef3ff36f1af0c24168daea5c170ad8879b9fcb33f7026c2e4175e6ddc416ad49b0b8e1155892bd3b2b7d2bb20fe2a1f091a4a11d94d482db0287d516fd76ade00e42e7c4fc56bbe8ed499192a44f5f0cb0ed53b9b4b0a73339de71919e125b0ee83ea11c992eaa592e77cf7472b1c9fc815d30c29cfd09890d3c32d2fb6423d5e8bfcc31d2a086c2d2f01cd4657150a7eba182f85917e933efe6fd7e51c5f26789920ecd2a19dc20e8dc2b651927c1c06c48f362ef729fb5f80524bb2e4e4df03bd4ea37b5d1e560961478b1f71867e5a2a4f93f2b21321775b5f1c58cc0038ce93e8bf95bcaba05d5fb5b1eb4876a3dca0b8dd96975ca81a84db67e77a8a059b476d3ade482b11d00e6ec53b84bf8511eb40724587a15d302e89800e1bbca66ea7886c2583e1d40fe38a7702f97e998f63eb87ae5bf2a50304014ee1419d56d6a2d0113a6d48b7ea48bd6224532a0c839528353b6962b5ed194dab6f24f4b00209f09325d3aa858811cf844cf80d31259e86b859aee731f1aea3b6ebf21950708e175911ee222ad8c50390344f813232c08ba930f2e0037c66d8ba465886c0baa5707589fc495816042afbf5569d06e6e36a4fd6a0158ec08c36ef5fca29288310fa1e322d7beeb7a40e7518e22a916b1d287b46ded56f23b14270039835db4b168ff9bbb6cdadb889f1ec9fc6f1becb56a326f0cc0d0afe4ecd50aad7131cac459cf2f6d91e47bbe5af7ded0e2f5d4edbb16dd35f272b6ae2fee55b8e421c9eb90a027e6597a40fc20b59bfe9df15ab426b9916ea749dfa47049dc82b9dd4272002402903edf5234a8920c2fdbccd9c37634ab1046360cfda34b7daa400d5bfc703b73534916b21a05c71558e97c350ca3c07512ba855612a65654f6bffb0fc5f65ed0c117bca47f6399cab9ef92790f7cddbb69949b5fffddd0d5a2ab277de064de2ecf263650230ea005acfde473dbd758f3c191544f30adf12d8514d5afeddeae85ff4d4c2fe2920a0c3e41830390698b6a6d5feb3dcc12fdb9e3e564845ce8a2d7f513ab4d475f2937b62c18c60b0ae59f8dd7b6d83edd44f7784dca0039055a009a77c6c7815d17c707f537d68623618c7c078ba1cd1f35cc08a136a3ac8755eb0f0aee1badb77c5f164ebfb7b1017c675b2f222314112e04af1e3f8345e14f66b549ef325ef93d0ed7c66bd9cd223d10ba00689c092325cef8c7701bdd972909120747f25012451c06401f30411f470520f06466d413fd669c4c492827d735499ae577e51e90a8ea07ea76aeb2ed8558494020474f4635731d3dcf63f14a60fca6ae9a534ad9384aaefd5f072a7b8f79c7809299f0f885c4bb58bb44d64f7f19eed8ce0962f71e8b3c507e79f5c3d8a3f4d9d8003865a4d9d46a70ff20ae9145810e696a441aa0db0ec674c4e4ee8d48876fc31295265ec61266d7db72d8736af70e6b1a11f5c8bace8b91ebef5e1e72d080483e14d0a5718cd02b2b233ac4b3ba0633974c61af0e25e28ef6043d7c1f7b03e6716e0c33de410ad9941e7bfe63bcf4bf5f6a93236b94e5141829af7ef633bdaa36aaf9badafda7bcf16297a60be5efcaf9c52371ab0bd48c9e4fffb0b2acd89759d9febddab6894991e6836890f4fda9f9a38fe268e2f5a81e6d7be9e79fce89d69f651cd3262dcdd71044c822c6aee1064e073993af5e0f28161a19acca2513b27469de36431467545a5050f143c60a6c5764cfb7eaf2ea9d14ddac856cb6e48eb414a7e5784e9968055503802d84b1e966d2c2f8e63d69f6c17b1dc6908302df845ae8c7dcbf3c603a8c8ff2b54d113367626b404fdcd9207e2b048075f9342cd38ff041140643ffaa0f071a8b33b7075f5ac5d808b37440a5be65622bb58f496a8d20d7a3cf9240fe111fe6a7dd08ae02f696587f08a184f61772c1961b2acc1e4c6d0ee6c9fe1a0672766d5dc68f6170ca03d770cc34dc8052b4c2a040df958dde4aace95d1df8613c93840d79d28be4a3c780551a9d0e6d5d6f5fb2ad3eccee0be524cd2459b51bacbf764d165fc21bec86159babd19594bf42e142e79b2af6ef89a6d0c709adf42b3fe2e664595dfa2fc8503b44dbc67c2ee48b4dea651c0748bc1fe46741a40a49181d7e724408ee8311ed9799da42365cd203eca69f6a02b0a882d82710c937bdcd48f5a8eb3d5aea19ecc065befbabf8227f3c37083a676e9a77ed77548c0ebf20bd8f27446ca454a0585b34bac54d45221939515ef8ffe26a67e4ba1811b3fd6c2794c3881912a9dd2d8b5925eb6b57d0f5b8dce82b0621b2a544cd4f5c311ac3f2a40d833e03629cbcc08fcc8dceea01b65e623c33500f6205b84548290e1f90813f8aac69501a42620e085b7fa9fa498c3b0fdbe65dee56915c8e01cbdf4e04d1ad65cdc267e7f0a22c6ad6ee61c69b1448915e434d922b326a3dcefb9b5f23bb4fdb14e2136906ddf3edfb1dcc464bf693d2be5297110cacca7c3f27242cd6d5948432a75748d9cad91c25cad8bcde613117ebc96f77fea53aaa57310c12d8c82740f05b53eed60564af2e4a36665fbfc602b22aed8fdd8504d58b42c5bc5b115dbce4827d568d79c4f2343d4f1ed3371ec145fefe2b395f7f3c38bf4ac32cbb7d5a6f0b6cd539f3b67d31bd594fd9522353a9adff25406b4dcdf421b15a4a4ad750d09df0f5d508cc41260c1d11d59950116bd3cae8803f019dd722c1edd74c423e3f682e785356f9739158bf66e823dd250008cc8b727e08124cb32b0dd4d6c2b19ea7cfb3bbad337516dd6bee740102fee2b257666b2447743348d3835e74506a99dbdcaecd14351432a7976ef5e51d858b6f1a40070fdbbb653279ff58ee01ccc9a25a5376cfa6115c24e0cb100c496be5a8212946300ed99048d3aac0e81b7c2083e359874f39bef1adafd2962a259c5b35b35505c71776d1ef8bf39f9ab60a75b12931aa84075bd3c23ad7f059f5ece78909f361d4fd7a5d99f5cabdd44af25b37e43c20d78df4db9d90539d470094c367b01bb51d0e89838a8eab2045e72b1930027a38e1205673729ea2e897e5c4698e1699d2bf572244eeb8486dad37aeeeb89c3c60479da30965ca4c4d9d7ed34f92666a775f960c71fdab55e30473e680935c4acf94a896a6533995e3d85c72225f11e89948755ecd29acef590186a4f74b35c794f3ead1433ade2d4bb578ec9e9b8388dcf091c63da15ac89a6bdb8345c85f2c8e335100eeeb858af3fbf431000d99975b0f9e0e3b1e2cb6ba28cc5d7adfbee0831536de503cd9491ce72ce2cd567affd95978e7e7639e1876be2a291d666abdff0da630382233e9cfa12ca56eae3346de03477869f2d0aabbe5494ab05b5e499ce8effe8b40b964500348dd2bfb2673a08d8745818fa14ac865e816f9e62f9880bc21bf1206e92a414f630fb555f1ff12d03164815f7a65e11ed238d09e4104b18b81d73cd07eb4a76947a065e7b1c547fda0e71620c6538e82d0699ac938b40efe343a1d9706e64211dd2b41b2f1cae38a54f39b44f5bdab0da8840bfbd925c7118c8b22f62a92675ab7ebd37f0ab6242db820b0ca7d79d36acae89adb5b807327f25f9b6bfc4bcc66d3c4d4c30ff7920375502abd856307c8db7fb1a2091e012ab24c34d734a9308e4a96b6311c9af199e941046332aa57f024b2c701a51b18e72723aeb1803a06b4cc0b5c2884bafa1793ca3097ce8f3539fecb71fa58cdafc9ffd1e9cead2af6fbde4ff16434674b1b12592ffe688ec3ca060e4d1098a14630ab68d79e35928553577a792f492445ad751e355fbf9cbb8a163c6e68da94e8b731a4671089282d5162d39d18a45c7f1ccb0b90c1d0b041b9fafbb61c7315da8583ed69ade6d8e487702fb48e898809af4f18e5e01d157826a5a6748da8a4d4f11cb54f5616785f8568c33ef22fec59e75cf62cc1dace90c32177def8c491edfa2acb2bb917443c41c087c9b260fbd2efcf4408aa958a46e5ab65a9239d05b97f98f53bdec07bca9a7bc478d6ff7778faf0e4fac49c12159869aa568dd48536950bb2d9a1b7b46f05df65266959f84b862ffe956ec16c890576bdaf2a429744a8baacb8f585972635ea3a43cba01414acc4c5dff6f7337e6ee8f87595906cf92824f9d763cef79882f78bdd1bc757bc849c3fe117ad580f6b6fefcd5ee531f5510c5c1afe709fc2fa928b7e79d160d631079d7e16755c44c5be59195161f2bcec652617fd05589926a53e26583cb9e8635f9a616a34c4af60c02bc440800a03c8c178d0cffa8a7804bdbb43715be7fa2f5c7fd2369e070eadcffc8968cee7ba02d7623d6d95c6dc8f29d6b2cc54123fc0e9fcff5d789300735ea5a60341e79264d188a3f6242288533c72adcb3e332f8f91302132bad98d34dd56a41a8ff2e67ec45312ccb9d26f1581cc56330dc0ccd69400fc14e2fb74517e2e4461bf297ad784c503b0a09013294b8f7b4fb439943b86f470cde883317d6535777dc4a0753209b6f97acd4f57e685dc037720d2c50423bccd1725bb47fbea2b676d6b21c434976fb7534661b89beaef40ca154937ab6b1ace084f0b4578202020594c9688dd53ddb8c317ef1fb75501ec1f395baab1acc76d6a854290457d06b5755fa4c4715f871d74e8d53b9bec135a0b56094a5acfc7a0b5ff52a5ee4910eb522cef1deb89de81535acd403f5e4110aecab627c98cb0a203b0a6fae38ed28f3e316311bface98b2b66890637e8da9e0047285a8d61a28cf00ea4591ed7e5bfee391c6c199681249a99c204e37547d79344eb8190aa69f8140ee3090eff0eb865c16bf48e098add6601ee3bb103a2f707ae06b590dcb58df4d4b28a39bb58957cf886157ae38fbe9596efba8137126a4808bda6306daf1c58e8ef70ef6cac878d8a987e93083f95dcd622920cb68a389d24bdcd1d9332bfaf03f744ada6bb91d8f6b8924fc2459778a73e4d78797e30f0d451b6a56582c130a34798c30b2f08e067598df53dce7507da7e4b936bd02ce27a3a409cfcea557e6cd14fee7f339efb7a28e3b0a2a05ad42b542bd95620c54c3511bb6202aeace5c862b6ab28e01d83b94ca0b47be2d2b8bc06d649a0410f4852bd55b6d061b010fc1181892b46fb357ca3d4738aa6963c043f6d566774269c040138b431cacb932f6498dcef11663532f23aa50d65d566d892cb506bec35fbe2652f84ba15f6c6733183985900373e376d3a3e3c92f9332e745e8861bf8e333f73af56d7ab7aaafdc21d0f12847c6401a38fa3af4cc6b7157da244c3a316bda23530059a120d9b11e7e864b6b00645c38b416ffada4c66ab1640df1489602f20576e1f54fc9cc71aa59b6f1176ff741c9f5019a23bb7e9cd2615e5d3a06f6c3c85612bd8065eaa5b701fd548f093b01119d2e4e5a7495c1a0adda5561198c198a8c1d8826711b56e77c8ee8c95aa7172371512573e2ca1d12f068957d73bb9c64f0c497da37162c4d5ec77c77626537d8afff622e88690033500d2f79623978488420fc3a11636d88a62b259312ca4bc7bf226142c765e64cdb50c4feb96018a2ead63dc59358be325d3d8668733ec2fe0677fffa14b1abef6b32a54946951380a127edfe208042cfca60e1574bbe92f2e078429fa41e47a2e4e2353f815cc734f326517ab3c4ee6060283f145cbc8530d59b33af8c216dd589b5070fa8eab41ea8ab7bd7769961f882b22e639a3711751c3d11265f7a658d94e4e812acbc4578a9b390d99afbdedc5a6c221626717f7a9e021e8eda845b0887bc1bd9477af56b95bf60c2533093b78eeca2d5079a9870ff947c1fcbe0bf120f8ebf24cb155047e89db67814f9954c45db00a1a8bfb95f4aa474a432d9842e3afb03bf7eb4d9697d6cb642eaa3d432b953df7d5539c09080b625685f8fb48bebc6fbc5cf80e148c118dccbc9ed87efb345ce523bf98e1fdba524d1b53247fdd6f08bb8bc4e2b79ce71b492a98c71cec8a928d81bb61c501e0942953d37042385865cee96d3f0ca9c59aefbd595313740a0a43da7312160155d4ce5224a93f5f958a3f2bd3dd68e193ddf2f44493526b84fee971f1f31f403f411030965c8426b0261930656f2c7a12b0908feffc292cf0c56a67c74fa7bc40eaf08e097e5327d3786a06650ecf0d8edc890c6d592251c7f62c61cd65cf5e7093f9d64406c9c75d3305d78f10459c087bc28a7b6f824aac8516af5a19cc1c3da7fede5b4a3e9a22be37d922896993e4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"766c99f926b69f3fb3325e9075ba969d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
