<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"739c8fe12854784e741ba1db39fa9150912004d7aa732f35344e6eb5a069ddc0bf44732a27f09abc4dd9ff12ca92baa77152f1db46f572179648b1c2fc35dc19eb54dace140ae45db396175c02d3cd56b6f6e9e9cb381cecfc3a7f2bd0bf377fea7dea42a56932e4cdc814d53917246144461ff82b31930d8431d20a3f618fadc83392d9a59664c877ce8c69da796ef7c16dfa183c7484b985ed40f7d104c533932bbfcc04b044f6d3a21dede25790da7a65748aabeed3361a5bcba72892a863c3022503ccaef36cfda66dc7a1f95ee8ba16e3b3e582f06e5a93726bf1eb73cf62e309d8e60c1ce2169cb45ba326da296392dc7fdcf916efcfb0a9eaab13061152249f7a72eadbac0f36ed9788251412948a5735cc4842ea4f2f06e1e849226a4ba1d508ac35df6e9af94d17d77a1be3e57e36e309e79d6c487f61f312d093bede5324a65b5aa09cd1b395f9b4ba107a3ea296eba5454cdee6ec5fcadac269f8b44de695a6097f8f102da6bc33b9bf6054fd72ad1a6fd6b34b33c9f85b2f21473588b748c5779c6d885140ddab980305ee2c24317cde81fb9254967fb5af947bb4333aa2176af49abab6ea3a07158b748c527b6cf43ada1aa6937b70cbd63f458b14e20e09397b42db70e89688d31146c7919278934778d7bc853ec76982451e6ba52ed11dee3e9f03167266826d3f0fd71e902ae93c9c853f3f7d979ce1a9e6a507058eae5470ed815bd81afa1b5ea15b397a52fa0d012dc76fbf2377a0d6a408b667006eae6ab22ddab2ad1c8371a838620fda10184f8da0a5d5e4715fd01b3021e02aa464f3d18291c5df427404a436f243d24a19d9cce0e26586212edf46e5f4771c0750bc8ca2109d2728619e5f0bf7dd91cfbd46db9dd2f3b792b19a8297b8567e6d34322c3a731f319e5f22ff49ef6d51829e010b41e17c8ae090bc194d48e1ac8e9789fdf95fdc118fb204308e40d937556cb18daad41d757c7b0f93fd2676e1b9a56348734d4ffa02b3cd1d4f8153ac531c2e397b873574dc63c3bb3df4e53557f9dc2fc7c60fd7ec2328150fe4b3792ec7422f9c31c717cf4b1962127b31712e83dcde7b3475dfa566232336e49c7da36cb65e9d5ea388983a23e5b78af23bb1a2aee06c424701f6bedea1c277f2a020548bf3e06f86f5a1d979d48553ca8e705ce7ac9aedee9f5ba80ae7ef45dcd38ae6936bdae73ff0d2746ad16504a65bb15ccd53c9455ace556953cedc93fb1838f07c020cc1ac31ec9c0417e24ea919bb6fe81b93265807529a828124c04431b0104f620e93619f64053c1b7885160e0e0b057dbcfd580c538dcffbc09e8cc7b5aec737f09fe4bda2171506c7fe7a7235c7dea4c68f23b3a4aa4309ebd73b9c5011bd91536427509eca1eba08aa2f576ac37c96fa303bceecb3f741751c67599dca6aeab053b221b75af948f4d04494e95ef74036d95101d90207c6c7408f503074b546f188c5ca03a030063f7d1b62db15137951aa421b5ab077928467c83132f2e5b073ae299a997475eaf04f7b2ef91cdc1e2c3b79f23bf75af00be1d10c2960402681b4d12ccc947572b706c5e8120e112699955d9ac89b335014748720f4b3351f0597d06f4a1127146cd64c15f6518bac28cc9075bd46ac9039a6e84e6b22a3bd9ae27a600cbba472a206ef3f2f63ffdbac63aa302e60811427cf5428f881729e96048077f943ceac1abe6b31a679dd5ef9f8551c839b17a8a60022037bd967e8d2aee285908d1b02d4a2742b100930d9e29b06733039e7c42dfe30c3bb6fc49d5ca5cd60cb76d6876edd9db697de9aafd2e9f8c24a25486fa0cb19bb5c6d531d5b5409ef4ad162a815415366651fcd15b66b86e876cf2acf94bf7708734a05626a13fc5250aee81bbfa495cdba81691fda3718f7ff335d8d535c80de56105cc41edef542a085a321ddf592f246fdfa50484d5f2aeee0e19603ccab88fa227f537388a2aeb17306f17219a900edf32241c553f5d62fca2445a29cdbe8e62ba6a9d55ad65024da44655b732f13e2ec77c28ec41e3add015f1943a3228c792383e5a3f7eeefd2356c34f7176fbf1a40de4efe5ccb2efef9e30cc2f34dff2c4fd07d040b97713045b2dfcedcf15214628036f51241d11dd8d1614d530ebdb17f8c37320ba93950c13211f80045d24f78804ec687ff924609243caf6697b2ad5e4f207650f98825559881043f5f242aeda4fad99583196def97cbb6ce05852a642be99a728af1a1c704abc64128e132dfaea47df5ae1f554e45a4830fb3efc6a8b7488ca8d98c940c4eb67a2d8b5e9ae20914807f510ce71de35546c817d618173500e5a0c74786cd0b7069d1d21a468cba4724d8dc832761edce82283eb3698d0d65a226c3a1221e1ffcd1336408b7c6afcaf248d90212ffafbdce1afa0c7687782df67fb4cbfa8ec985c9d80c8d1f4d2cd6f1d57ebc3437a836204580a0f1f818f282f49b80c7b074479fcf760f78050a85e0f730237d37afedf87579b1799d800c5e4c45f4a5e99cf945afd6f3d5a81411574831b974e175dc9ef07dd633d627b679c9fe54cd38775147706786756ff772d90c73b7865466dbbb2e95475b238468e15b476cc55a04fdd6274f0fa91a557ec46060933743906f369b99b1040255ddec6152600d52ed5949a3415469453f8d289a67f167032135f026b854ed7f3909b7b6dc8d774981d93cb17fab79852c2597c883ed7b023f99af85db6fc2be4012e54d8bdfd05daf1dc27d00798311705e3761a20dee947396b3ded1e1bf4762907317c1dfb89f3b634e6225327a499a72690c99d6ba01941bd29fe1b75cb72773eec05829e6ab6005a15ccb5776f2dacd97c32d4f7c7904f334577387955d281c7e08043703e29310e6970cd3a89cbbb42e9413142d12c99e559cbf3fbc4e52a041559c75fdb48daf4c06093f484568aeee7435f8b2787c538c89481be88457997ab91a8228cd9aea75c6b93741ab5d5697883c0608898680f4403a12c8af298eb9cbb0ba02e35349b329594f73767a617c4e5a7c5bd7d7080fea9354a25f01f5de78a9ea13e3f0eb91403b89e39f5d445052851d070dde6cc19b54b312822f7733b9235fa5d004bf6023a5db387b9b8c3f15eafc43c34feca8d8436d0772f81230ffef7f25c91c54bdb228d5866db03e46e5ba3a971a873f0053f212a9075e048e84db642659285b7427639e9cd0950f72b6208831b5fbd3d3e2f848b974afb568f36cc86990a6ef37f86e7e0674fe1c28e8fb0620979a9411618c44cbe75305435c02700cb008774e27712655572a56e2220f2ae2761b7d387135dd61d42c827e1a8f357f484474262ed40a21f556a23727784f7d7e198747c8755f8cbc6e9a638e1c6bf881725bd00591d93ee5c13145199cab5793b3dfc2b8b8d37d9ab2c18cad409f3c52d18acd8f7beaa579304bd04ea4f4c535ca93b9df4e11aa1b886ac9243027b06f969b86832c01f46a704b219296ce398fc6ac72a8fdc956b6545618d681dd752dffd33dfe54f2880f4a0b7bafed5324c2ffd5f2036258082c25efbb1ec2dfdc2f807f6b2f030aa0f661682ca2febe8948916d3bb36596955e1de605a758eb061e733e40013c30aace53dd4d96700844af8dacf1a07022259f60be05993dd6c9cc930462b356916844044aeae210d6f8867736e047bb61a634ef9f817e83782cfd65d10850e27309bf75b9f2c5902f4bb07e3538e4c5851b9b4ce0b8082524ebd293bf982ceca77172e643aa920d13035207f748ef5f1e5a45e92c61acae747317c5d40a1a3e1f42adf63797bcff411dd48e14dc539786593881a5fca96ecb8ad00d83e35d9ee693e313b07b409bafb4fd1f81e320a5ffce0691ba11a9b656f8c5186c19a1d7dd3042d4b360c9d9f01c78d6ae0478677b08fde6da0621d5e5ea1fe11031c81f55760be4759a81a6e7b146f8e7c3f135498667d78dd2f1e89385b1547856691b5cb125eded153a6d82809c0d3a705431b62a9e70b5bcd85976588278f78957c060f5ac4d6bc868dab612dda09cdecb08715ca082de0a0a8e3432093021d05777f0e0e4e6819640c6a914b25ca63fbbdc2a1cc03b658e1f4d7d9f117b78de2eb1793f85af2a839e3a3446bf5ae65a8aefce66fe5b7c83e7bfb54c0e13dd90c43ba433eb08cf7991e81370cd47d7dabbb43227d5e798ad55882936eb057f9d3eee733efa2b0679b43ae3d99978e7fe8edc5379f8fc17eac485ebed7712c823737a6d1bac7121eaf6d2994272f083b0bd542236d0f06e33f3694c0c0d4a3d23ffd501c0a087a3379f64baba1f87271517beb417a6fa0198d1aafdfee391690599aa3bc218bd591813455d4c263e3bd22b722368d44145e541da919c6039e9958875a376cf3ac393fd534680c803da3269197087e559d2639dce5f11ed33fe0f11baeece32b73ae04f0f515732c269b8da825f14ed8c8da266bd13024fe043ba281b7f2c2467d07a3993808db7b50b915c88f3a15c9817b5c21c1d4a414aa04d28df56e4d849b38b9e2f449faf9b82f7693a703b8c9cda28e9bc123d188a84ef7e11794dbe715e392a40ea5b002f57651694698093d4cc4e8db6e712e5f5decaac47424a271755b8b0fe4786a06ca7f52b0da0c8c6e6bafee5ede24674dd26e4ccd90370757b1cba81079de7dc2f02c182070383a333d9ca277921cee8b4424833cb516771389724c3397b3d97d4b29326041819c9342449da6f76d56e0f42a3fbb3ed6692c92b856431bd61e3ff5b0f93518d0f87ef2f6a209b91b84fdd0cf00695238d7150a69098eb2fbd5d97fc8d915ae6e58bda99df778f802dadcc5c82cf60f881f20db5bcba331d2b366df5358b25ac1d7d38fa1dded39396403486d12f46bd72ce2930acd7a606c628ee83f038784d898b17f125355aa70feecdcebf7d4fcbffebc34cc2025fa55d109fbca249a8fca7332e7f7658249ca95b744f7f0015a0b59634a11c95d1394427e72d94f031679f2de358f74a934fe51ff00169fa494f9706a6d72703e496509d8aaf251d36ded6597ddcbe49ec76573ad4cedf8fa51568e672cf19daff4a51ca4c889abdba3c81d5b2f9a041e4b951db36fd312c08dd8af8695731b34fa94b1d81ae3d9300fef16df47b325b31029a3cb31d719383874e87a94668d101c12c0071d08018d8a9edfdcf73821e1fdd2cfff8175f8908fc2fa07a5367fb9d33868e0bf2943d329aedd7d2cab4a796de25483094c23081fd134c41724884b20dcbbf33558f3ca1bd9f28f7f414dda8808017172540d64f1acde3a5918ff851d891b35e20762d903691832b6a08f23af1cba51bcfd0786d165f5b5bbbce036d95b31affdf710763a628e9d4914ae995015a5e2f270fd9061f37a8fb68eed0112d0c6422df9d90fff0817f7760cf199c463440897cc11bf8713202adcc800a7cc097fd2bc0ba9fecf2b7bad6ee1d9247fe43eed51b56c60f5ccba54fe4c0ce0a9e6dbb7f720c40b2d9eb8221a105b7fbd248922f139e48d65185b5967c06e12b4ff09593ba181cec223bed0224c3b2a5d9726f94cbec16eab06bf59691fbfd6849f443d0e07b1aeeff114d93a94fcdfee04cfcd5d6de09d10fc459b7614bc0f2129148dcc016d80496051e44faf8ffd9aaf2d2453fb7c838607be5021d93baf0b54d84b15677446d0cc8efbacbab0e7539430c7754224bd5e5b6acf2a82e5560ec6ed127c3a51f2435ddcbd7b45b001be8121e9b78ffe00593e7b1a342925025fa3b665c09fec674228d54ea76a15032568c4244612c24eebee4f56caa7e10765fc4bcbc5d9ba8fc3b78a5d5b2d4e263f002475efc99ea96ef87a2bba04a1b455fa22af4dd555616e56e8c42c053b3058d4a3cbcade14fa798ab6dfd890c65303fce51ba8d0e588355ffcb21931fb4f8b7d4c4b748ed53dd1f7e4804d36119c4c4930e1d7a0988afce477996f611d103b2b44208c69df1059175ee824feab64c63d6c7e414090d53b8792dfb71ef54365cd6c5f86a5de37de746872d0052c3dfdacb3c6a74a7a1291c35cf9c0bf422294d11adf82e2417146e402e9673d210893df6f58b04a87993433a944b775e88ef057ace2c57b4242b0844758a614510f3e7dccb432b18ee388a784e1d948af7f3815a00a21a95dbf89d0bd6138cae2ed0bfad4b379498c56fd4b9e461418dbfe82a9803ba769737c3904059275a4e175b1ec9f60df40fe0f953e95c2d53b859952b4aeb5dc32f0ca0eac2dd9d830ce8ce186c777c17a79014bc51aebee36e374f086272987633ea94fd5b0b4888a5b86200b44811cf4241baeb7fdbfcc457c09d302e2b121283d0c80bd081d348628b986801f05fb4f616d6d6e373f64f4c4f3cc6b15c4568f512e68786ae621f58ac00bf7276e98d29c0f03260cb0f9eadd2cc921871d56863607bd41fad6daef8303e25041f296f8d42afbb1cc7dfa8fe1f58952461a070ec71b39b96dbac1a9895c5a18b9bb59c9fad59127446dfecd02eb22139627abf66c2c8b5f03a8c099896a03097d16234de89490e31e89e22730280b518520c1d9f0a91612203c029a06bbaf20b1616326857a442792f0be37b465a82c4417d6f880c7cfd23f68cf160eb9efb64b746fb0048a81e12f62078dc52fbf8a78c285e57d36fe2ee09e07b7918b836e8864a40b6eb367be428dc0cd93a4a5ee8173d9f959021316b2f08cf0201f61725a3c55ecd4f455cfed9315ac5aecdbf79c43917280527af9d619cdaf2d34da1d905ba83daa2413f704690b98fd03a059c347510abc92e8943f0982bb85226c222a3c84aafb880023b4142508d6e42b00f825044d041fc8f4e86555ee8390f52a92d4d9fddac78383890348e763c5453cc509f1c38059430743f7471fbdd94c2b91e883abfa277481b5fc67ab9a0756939e7d3ae587860f8ed4eff9b32196b861c8015df6d484910ad6e4019637037d4ded76176b18e8040459b52df8cb557496a67bec3431bc568628108d3988c719d2720b4717471d219eade6c6303a04fbb8622c51fc191be316e19c44247beb3df41d59a5b42bdcd75567118a113823609fc55dd0583afe4ea0e9941c12f133e7f1ec4af7c21881f7c2c72ff5bd2ebdc679eb67ea932a399ae05a3d4a13004be67b1411feb6f2237bf1dca0cea61f0448b50953cacf85db869900f8dad1098b4dd0c3de663e1499f90cc1754e0d3482aa4a3e40eec23dc601c55f12d69bd20cccf33dfcf7ed47d0aba69f32e44cceb60c2e6b776ddd946914b08a5b003c5fceabef26da563f8de4261eb30057df07b5671b848d30fc6445bb68f213177a7c9d5ec148186b7d386d600f98254d33c9b1d8ff640776a2d4ef835017bb78d651e2d80835ae025131edf5fedae5dcd22e850ccac8fb08cf51af61fc5e661424eba3a56972a89d3a42a6c09e3415d488947d5d491a0b92433741d9c89610a2358249d1cc84ba41b64073139fa65c2fd2d5c21e9f06dd63d6aae7dbf3d6fbaa3d8ba041abb4fba6c834c352cc363a2423dd879b959faa7b34ae4a735eb6c7b004b0b0613972c60e0875977fba9605d8448ee5d71f5308c5abdf373e33d7f46c9813dbf04392102f78458ff1e391b41c61706650992f3c42bd9e523beb43584478352538890462def9c1774fc8a7ecd587e717ceca0e1fe6b5bfee976f53ff0ead1b995edd60494dc8575ca32303e350573830a90cf0f1b1abef9bcc18a7af055ded98cff80a1039caad1afa389a7c650b372863a5937f34701a877f34fcb56b894b2f04516b1bc567c59c22017e58c32be06353025266171d0c0132b45f31e61aa13d87475a52e475b30a68d4b541bfd0d8820f7accb9c21d8705db4d458a0ec6bb474c0323f415d7de2d8590c00f5453b40ad6f19e4004eb03e4558a837e4c6d1bae17d8b15cd3526b4bea4864e7ebbfda1092e5ed615e04c48009db3e368a1f26a8147dae8faa756001ea34dbf7bfbd5724e969e3389d50da17989258e87e64e0ac52781d9eb8a8152b0ef0acefc4c54970dbba28347375cae42ce95839007df5630b7fc7c30ccde1bc1b5d2906028eae5e076f98099dbef0b65290f8d3fa7b4c339e94fed3fcf85543234d5a2f3551559186b18b3ae8c5c866f6f162aea26f587f12609bc6934097a3f818693307db5bfb89a2b5026837110eb2ccf040986baf820c6c6e9fecf1491f780559040328887fb467f3fe7482f6be22862b35cccbb3fd4b4bf3e48717e355976a142f8569f73c4538ca1d0046e8095ac6484be7a2e30afde19b057464a12db95bece44b6c279fad2906f264a432809540e82e7ab36af9fa3b97f513a2c81329b15b4b2a47b50f695264ca864dd101226c2e0de434476f45e01bea04b454a636696f2a94791172ed3c1b5ff0be52247028bbd27516fad2eb38962bd9dd585b13c63cc5205b45f4ba7fbc224d462a8ba599008c20fc50a6114fe053ef2c7b68b97035e0bc2316729c9cdb6243c3a05df1e27a140f220b54d221b2000b5b522f63f5dc68ae81e69675866ae8b238bc1f1b2c47db57d83d465bbb0e956e282d411058f4144c1059b37a4dea1be3a5e45715cc14db641e2872ae0e787bd6cc61e7b3ab53e1c1a787f3cc38a368fa852ba5b881127c52a5e0696880b8ffeaedbdacfb5c71f71bad0aeedfee2a3d641d805f01b66d8677d534e09d94bbde169f4e3c3976fedb82cd39d433d30cd398650607c6da54d0473442e090195e577ad544cd53bcf50d883ef0c64491e9f1e594b3ebb91fd114a32c490dda3852422c87c4f15c017a11ed588b4240c447f7ddf0dcdd7a5eb3a4de3753114900f3c2e67ad7ac89836033a50fb1bead0bd69b26bd87c3a0ead07645316a4a6c8d731ddda40e9c52d21b59fb2ba716ec6ce097a040bcdb07b74eeff6d5d32558e1d6e6c279faad58ae33589cc115baaae99d6c76e5e4ebcc144c73b5fee2cb1eae0577643c85c1f4405f219fb00f90cf7497d1a66f239895fc01e89dccd729246482d491512e1278aeb00efead12c04310f496e7346572362bc77f3336c23383370b3eec8d792234c2e252dfe4dcbf4d37952d2fd8cd65722063c4e4d2be463529437597cd87d12b0bbd6464da2aa73773a53ccc2e10db1ce27ef3280829b34e0beade496b5c72b34311f2ce22d3252ae4120e278e4a0bfc5e46b28868318e98fee243a57cbf983f271cfdd31a3990f00edfb04c7bc2fb79ec92dfa499ba54e7757d96b622b55fa1cb0afe5b0ab8fbd2a3ef12b7873ce0074043e40787e1a3c2d89d9a025015503e6122996793417f67cfef7821c9c195498b517464c969b46752cdddd4279f07f86a71e895136ee528888dea3e5bda298faded8ecaf26e8032a4b450706dbf47e40c189a01916a7654d4e5d7f670b8a26b6f3c9528bad97c9415125b224f89b9e68559b01f9a4239e5d1a7716b576f1cb6d6f6cb92feac5b71374c72541b28ec540647dbff4efc1a6a8b10444e104b0c8fd2c88477c4221c4a8425830b3c0c99ea4ba23310bd4fb7bc4b3864207a6127a4c568c1464eec22b83d7e51294e2ee63ecda1abd8ab5879d0f5da4f9bc416eb21d4f341b8630f393c43aaf81b17f6f85e51213f628a21109d66f47ff91ca9b476faa850854ddb68d940281e586264874ca86753a12a7d1de495971ffcd35c44281d5990f94d6ea6e9f69b6cf61da021859c6d6fc76483e6db1bc422a38af34406583ae690b76bb0c2e6a1b6c558b3fea6d37898788c9998978e2aa2a1f9a27841e4a9b03eb5be0b60da5837697eb408302a59756352fe1bbc2e715d96b3493d3236bb0dd35b8371c2c199fd12e6bdb0658b6addea094a1e8aea06755fc553c2b463366517eaef0d11d761579a3ac06037b40e11b7e9b93c3bba1484a19e714bd80f9fac56ff412830523f42335051635a7d7312e1f1adaef88a026fcda6ac6d038c05ac3702960ade6cc663ea100456ff5e9f132f3792d10cebdb30189366ceaadda7c95771eb5aa9d7114bfe19f698a34cadc1c11590df0bce4623fb0217a783fb088bcd356a544f2bf6d4507e91a8e69801f716b20b25cba3a056948967e70d78a89a4239066663253e2f9dde4f7d44d8d614e9657d6f8918402796717118e4d068e0cec102cdc13b37e83ce2ed345a8ace3513c556b2934055f28a61e7d1b1d92b874ad9d6a5021fb29a74a5cf01c95f8b7900ed865baae787cb6087cf77160f32d76a7dc70ba938b08b8bd8a2f606abe986cdc35f228e2d322e730c9869763ee03a5f04a946db3ab1a7cd4bd35e374dfc62899c8b96c710aadda92545878df78db7ad8f3e388855496b571ca77eae553f6df888e12d78edffde4e6a7baaf2ec1b67115f3f61aa174d65f373a11caad4c99460df0587ede0bfd2bbb3af0630b591f4b78cd52823c8d8e530500f11a5f5453fdd8e209b3b9668caed1c3cfacc1900ac00c4e80bb1c55e537b022716ba1bdbc2c60fdf166b678f343aa40edd1c0da5a99b6bb80195ad21b9fe804fcbe3aa1023584b50f391d752c279fc3c1d35166eec096b6a9eb721814b68d6c9870cde72465b0825afefc4051f05bc44ac110e5b0d20e97358111d229f1a30b94a3e0f0384ba6d50120758a8b7951adb721b804eb6a6d025e14fe6809385f71d17f690ec13ad7bda60153168a5a8f968ad038269d5a0fdf3b92c371ec8bf20f3d69fdf931b839ffb08af7e648f4c4ae309a7d12da177e7ef6b7aa5d040644acd29d5e497b0db866688feba3e95713976bc3e1530cbb264ad4fc15fb86877ae4d62d1e2571de9b9ea111f9d3eef5c4aeb04f00555684e419ba9dd8fee52b6568c07fcca9626f19a0563720a9557b345b8266c873d339c5c5048dbdbe9822eb8274e27459b3756b8f8e69af413e4634e59476d1a0956b76f0ce6149cb152771b8560b64f3070fc125f97e10e7dcc204124a41ddfdae7aa0ed281e5b2a91a27bb179307d88e5e738b37aca2c72900eb66216071976dd07ab2d6fda2de94caf4079e5c7ecee8140f2ee88674fd50afbc194d0e45addcbaa972c309201afe431e4352e4b42c3c7793ca60483d8fc95cfce7f256000fdb952e51721258507b84acac35a62e0a51380477b53c7f259ea59fee491fba04ef3c1360ba78f2c9c0c08015b8a0318917d93d1857b360b55c270b9eeb60ea42c43b4d79235e183ad946611bd1aed551db34a3995aadafc126769843f7c1fa13bd22542e14623385f857a2f0fdb8978032ba3a8e0f067fe8927388b64a218fb3cdfd4c0c82783ca9bd0216b391028b80cf1de7d0414aff3826dca95b97e8ca3edba7930897322648f3d06a0c2cb3574e36a935c741ea424d2eff303a24f8b9b8931445d6330367b8c05ac810cb404a2968f2a74f9a8b8aeb2c3901552fa609387a864cf8d0198ad924d44e9d3e89db38db3115180e7cccbf75e500881bdb0e8e745118399cae818eaf330ec74ebb22dae9a151904880fc594c5d11a3a372286ae86e0b9de7fe6a6a39d60d0733ad911b0f22d7ccdc6dc43be11320372a6286753717f8b22c30cdab5cae5646b6d463e3188ba49171142f684f9ac68a08d5de6e00b6e77fd6fd311089347fc0b4450ad5b3c332029bd71b932bd85fc4ea6568577fbd42bb29984edfda53402ce89a49ae04f4fd2107e1edf0da9d1abf8f2f4732fdcaa64ba8ea49a29a6071a11987f783295f0d1936976f04f9fc527000848064deab3e7c110102676d4cecb6aa159c44fe37142b288e8efd2a5490d74c24085a7d456e1600eb6ff83cae75b241191253c73636884e9bd3835f51841533c6c7a07fc2f7adf90a260d0593b91e3468555bbd333768c3dca60a45a9846b2578a6f6174fd217b6b7f31ccdf07e9911545bcc24845f4adc323e0d3562f761ca574d31e55d47779815685d152d070832074381399bfac263efd7071728b137a708f800a10d014056c10eec067d7cf8d707f746751f1e115dbafc02177301950d65ca386cd7cf9c1fc2bcaa7852c2cdaef8f82b998c7588b12aac85ce1eddb2f57296c9149ca408abfb47de927255f41ab3ef52c8724a061e3b3551a865452dddb2b99a8e246cacdfa3113985f151a0945a101404539772481c695a5a195796b4af5fdb61c7b6c858c2be121c4a56139c156a20c4d4ebb07f560265b9540a3e6302bc5cb64ae0d29dc3b2e6282b42c08616083b10a0a4f76640808d256457b5796ea16f3a64f97bd9013fedfd8ef5687f88d46e069e03d9cbf6d506de6d568752336020afcd684e3da221295095768f58c2ad96a42a680c81dd7eb4b94a7a80d797dc6996437f4501ed59482e5fdec0a79241a1d61a26c388758ab350012a2ef051548913150218d0d9a1a2e55d15430cb6d8a80d65d37c9064a2703256e89abbcc350dfc453f3961f5ffcb8083eb12299a985ea22444165d696bad007494ac5fe66a05c26f8eb0f94d73244c9f5dd27434447ab7396222103ad4348d9708ec5557c5c391a64da6c8a33271d0d4be779d3c2879906332cd0e8e1052336f1938aba7e71fb0a04bf16980b258d56fdea79b666a3ca442f9e1c4ffeb6303174979869b904fec9423094164459607bab41ea7d8ebac5cedbcdecf280fcfb057b1d86713673895127636cb4cd32f7a2201fd772145df52650a0728ad8f49dddcf257803cac19d559d8b1bb6e20edc516958ec25c7c62367c3ff43005cefd8ce16af545422bcf8ddf17cffac9ae5ea803ada005472f541e3494fb62d82bcd492c734e6b9c7ae0b64c707b8a2952748eb3e9704177e64c0e23740c1a773d9cfb6f81dc23b51bfa49de9a8930e698a222001e7b3f8942575fb3d3e324c8637408b3897e3b12692ec142888ae70cab3bfd4fa47d25bc2d6829f4cb734dd98710de5ffef83fbf691285e8f35c856b392402e5728f047a4a084d64e7feed4e4fe25855d58a15e13e2e530182406f8084a1e43f53c3a2c9f7465f94519bf52141118561a16cb032ade63248cea75bbf58e20d9fc7d7ac1a1e79a297020c736af0f32ca60f073520f435b74244d14270ec1b5be4ec2d08dadc72a0e6e79d092f159f067ed0f997bb135b7a9b4bf535c810c0e3bdb40e19c25cf0077a3df570fa11e6dd0a8016323053807ff93e50cf03f9bce9fb94d508f82215c86d1f4c4bb7d9b6d7948d7af43c1ab4184033f15b2c3c7ff5ef62aea4929d02897104df97f552fd589e40ac124c269f0969b8486f9ad20d0d6e35f214eb670d9fa3484c696ccf0d464025d8cb4e0f994520108388821a14c984a0ff142574cd6deccb9da453bcc0bc6bc66d989ae9b2336468da26bc4eccd241945c9ed90c9c8bbcfa627c14e6e64a8eeeac960db203305e78fb7c27aba58d629829f533933a56e68c8a093993ef109ff77186956f5c3b932f39c6e0f3b91b22214529a94d819467847b1cacd6647e62965d8aba6871e37e546a6cad54ec5d13d3e0e466ca2cb045fafc719b61ddc8c9716f42ce792f4e9b348d54dbf0691a2b3a75880e3bf0db913b0e35109183c1d8a4d13925125d205b1869a4ebbe43708c9501f434057051a51eea62dae184c18f5658d6205b13db292f940046d786cd9b17e51541e9e9246d1ea9358959ec4225b321e8ed8ea818a41a5c65a5aee2be2137f201b9ef01b9f15748393d3303e3f6f453c15bde51e68ddd85b3ff7ca255a7223d8155ef53ef9257f9887416c46cd248e543b530af463d2156af8b3046ea1fcc158eea44e5006484c5edc441ba6db4762f71e327d1ba8faa722b250a0d9e9c458734d920b5193174d427ed2868c7df36210e9ff8d191d05b9e0c6232148a73d01e7f1c507b3d5f78e4f16d40713fc334f594a7d7b5a380409af33149b0cefd4d3866b23fa7a7c2790f707444369b15409afb3e6572f3a7c9d01280bd5fc4fe0e69eedcd1432ffd2077198ed5c56239d16fbfa8c32a387702eb0e20d8318fd709d6e365f68ff5f64511849628f9f2f49c0b866146cd4f3beab63d8fefda763c6410b3b75f90025430193d5eb9757a973b9cac73907a2e03119b10a7ec6c6e26ba16f0f4c19d6ba6a373b0aa4fab57376095aa313080932b52b66bf2dd4436815ea8db303e506b0f3164317f2a3a5baa63e644e2c2672729b52a48dd76b21ea8686dff2831533bdb9466756569c323ee6669041828a0b02085283803ce75a0754c707288533fe06317e7b9266f9632f950a38d50438b7aed47adab94e1ee4b14257e6be8c859a5da73b65dcc2c12c6bf5ecdbaa18298186f8ff74cfd0edbc81c1bb94d9ba779c3191bdd0643e69b40549ea9570daca623e7fec03bc56a7d56021d22290b586ef1f17560bb8e020f534d5f0f3ce76067b9a81d4df0679ad3d489c2994152acd5a0c74457bff04c6d8469201e535c73afdf1d4aab2f7b6d5ee217a6ac758506b9783c26f02997d0a4bda6b447542a6572dab38abb1664259ccfff4d6dffb8293db60a69f3c26450223aaeed3d4b12949f01595f08704424eda9d2a8868ba8a0a159bf6160cad9bac0ad727332487feb7b608df62386e54a07819b46d8dc6f9ee20c9b9d916f33f75764d8f1b30a54fe8cc699f0c4f415160fcdb11c42891400d437f6ecc4ff990138907e62d45890421fd575dd61c71dc9e09dedb99eb3f5be4d1f8581cae30a4f9751349e863ca8f458178d905611e4b6b2372c06aec5c89f7cdfe0d183a38563d9d69d92171044a5e04a7589714df297bc3bafc8e45ec92b7c2dc78418ccef234636aed807ce370a9b549ab50051bef7f6911fec22a1a5bbdfa0d0e27dd1040931e0621c87b74772685aef5f4678fe4d3aaddbf97619211da8f658831f861fc0aee68cef0df0f32b0a7afc2b6a093b5159e6c99c9d9b640d993b9b4990ab116dbc4a3c1ff980a7f20867b1f27564ede960e2c5001aa13933aae5b8eec1122291b19548ca7226829275ba7c46c6991321c46ec7714f852b5edb71f472e36ae5c33bc0cc7999ac65834c27096664d1258cf7cfde1f00bfa91094f4a967983c0ae3284ceb19f13aa6f635762026dee3e60f09a84c35a5523aad59463009fe9487e9520af581ded91e572705b3230ec9d7ff64b48c6046c8f7a40deef7371b17a087fe162bd2dae2ee59dbeb306f2838d8755af5ca94268574ed22287d5873586f44dc43f324c873092fbcf9e633c368d38d288c7f9c030b29ababc18fee349d14a610604572cd7c412431d6ac6b7f27814a3d68ce791eacf2a6a22dd261edbcc3c5e4e84903dbc8d0464b4f11b3e2fec19cf1b6c4d5624365e923cf1a94972aa9367938980db6bbf8506d5fbb033150deb09e594562f6d01df920a1a99bd824013bcad755fde8d26a34c76441498c6017e9820b3f006765ade1f13aa3588d624ac224b9bccc79b97a3475c6b5c9d86709a77258eb6aabe62b787f00f500eba57c1eeae93635b694deed274ef3be78b6f61d74825cc7ca1b608a56a83c71fece436be40bc805de317ab9e653742de75cd6016af144763b1b77cec55ce5e49c9dfbb7e6ea335ec596ac7b04609dd9c9806c8b2a5f57d9ddb181f998b1d9be9b3b2f14a1b73bad3eea7465c16e807a8e0f10467ce386d001dedda78805568f6759138551f7aa5d9bed75d652ce4a42b9a6fe3bfef578a7618592e4619e759ba452fe7191784b6efd3b65c6da2d54c8fad4b2e156e7c9d98c0ca8a22c7e1adf9e066a7df8b66375fbd9bdcda7cf1ed1ec1f102cba0f6026f44fa117cde032a1c85799f9d5b37aa576420df27f85c9d059a450628cd760a84b0d8706ef8a35a25923de70465a3ca941d538706283b78ee4bc718e40234fd7d207fbbc342f57e8ded98ac2cf082cc4149c428f0b59383a85332669e21aa6fc1b91d2fae55d3a88991ddc151f29806241399e15f68ef7ea3040823b8e4d6c8f2d82696e9cc3e16c2f97788c2b064bcacf079a85df4dada8e016296b5607c48b162313d4dca14013195562ba5fb5ad16b49aef004f152d13b79c919ac0597e34e75f055a909d4a0536eef88ebe2f41a8ac13800955d21d8334dc365150fc46091009a7bb31c7aa0a3623809773b9c096d6bef54d3c717966f8c0e789821b1dd27990840339014037a965cf86d56b2b1640e9a733b58b4f6dd7bb932a3890ca6d68bfc8426848f7fa7d204ec7e4ca1e1c99ba6fbdd3ff8fe784ec8c73a12eef0b34146176c36cac336f79719e0937555d8d9d6c9f18359803660e79f27101b0a7b7eaa5a05d9e0cf2768c6829f205c3f8727783baf1a3bdc4c6b735d0c71f4d53c18dba73c26b5bc24c09b873c661aada144674e22a107e5ef8a296f949572b14894d7afc14e410452b0cf38804177c9e30d54e8a787a52b33e8209eaf1679f71fc6043182c03d0e88183bf1c147dc407bec71ac1934ce6e60fdb2c73083be72a3dbf0a9156e552bc8f948103f00debd92cb7ef8e2cf1ccad2a88741d0916b5af13605ec7a7a3258eb929b79f53d6aaa4d629611edac49ec70c99f47b33f8c2bcf5816b28683c4c4d32e28d0cb4129d353a9c799878a5a47879305c0c2c52316fa9a1a4180ddbcb16d74bfe4aa0b046461ab3cde1a0d093221679dfcbf32e316d58e1f037848eef0739773ded075484fb55f3518ec00522af8fb3ec66dc9fbf3eb48c7c90d1f8c7c89668eecd6351b492dae22c77fc2d2118b64661df755bc1b54f68f1ecfb13b01147fab82a3240b9086f5f88c6256f62bc65e7663740639538843044477e2d281987035efb0f7f4f5bb0256dda4a0902df4a25d61dd79008709dd0b79bf17522df3c47bd30d9afff082707b4b3f838b9d787a337f3d97326a6f5d8c181d9b326d78dfc7b12c85831996b15419ead25cff6fd23be90a3d114d9a4ce897303420ba38e2daa77d017af738ca70d3ba1159a9e08201b750cfdddb8e0b8d291deeb0888c2abab7aaebdb81928c3aa8a20994bdcb1dd559111b39103f3c16b27c5f878b37f1ae43082b16e95762fa1dc6b24be4cfc2c58d584f01de6760c97ac33f332a11b52c99b4def0931192f4008df07fb7e8b27f821a4dc5ab0b4426b18e182c7393afbaeb9ba65cc5e0160a784f15cbf6eea81685c704583c70cca48cd49f8440d8f744fdba56021a1f78465594564778669ee525f59af09550ee7d282c8757efb7f88a768fa5e9bc12acbb0b12d864fa3b3a64d4cec8a8df79d66cd9ca77ad38b8ebd81289725f8dff5bd86745d424d355800c0a2a9e1dff3b238e01e72b9b2dedb61fb7b1fcd231f402da0c8ed2db020faf80f5b867912ef10c0133a20b7b471dec8ad0bd3d22d37cd2733adfa8daf8b96ac24579588fc60b952adaf6adc3b93e9020c81ad42d66f443582bcb2d7795cf6c2c6c0e9545c026fdf36c792b7b3302cec78e26a5428441f775e3071f0bb5a8ed1cd9ec3a7e946a2f491a3507228f288a7e14dfcc87f4e4365ef866c56ab57dc20a570c00389355883f975fda1b089548aa977c16a56ac422b95bb16f34f70c1fc43e1b819354c66a99b72dae1b610ef200e343e90461ea552b62f35a4f5dce2cc8f5e2aaa5cd351adbb0aa85693453a6420fa82a1a2af6c170cacec08782cbda3b39fa4dddd06859782448e84833f74c6da0241a314a820786d2a461004ebaa8e6b7f2ab66c8e581d9c2bfa8ab424662ea0cf019ea04c2b3c0203ae2e581b600d449383b7b7723225d1f6d0d22bc87b0ee6e56f2568bba0a6d57e873049d89d510fdc31057b4e7f5c290d41401725dfa4dc2407cee162fdb340a37b8ab88b1c9f72bff87b422063e5c607de370320b09dd7627250627689f36ee4b57d10edaa4dd22afda0edd7876fad19c8ea33601dafd07081c1ea6850280e94f6f58b21d5a9d04b05318e2c61967023ba0247723d8d89ce0186b23e38fc53133bae5add4cba9531411be91b0a173c583c138884648ff56380e84993deda0b98e68efc03e6b6b2dbecc0361a7a90947640182622675a7d945689cd41bc6b5c828db729eda80e893b9d5c0f40531bcfcbaaf4aaf0d8304fceaa8752f3a77a7cf77953fb5e53cb7b3c2e6fea06157d851de00c7b3a528e8e8b5e1ae8293fcaff5e73034dae24997b70153292e8f5aa87ae05c434c18a1f06a7d3d2d8903ec91a85533efd2525e545f88426dfb77ba8a6393fda73fbba89f4c05ffb6e63a9236e5dc1c9b4862809eec3970772fc50d3becbccbb2838b6c771d517c6fcfbeafe446af1a2776d357897dee78263c811f197f0371b8742c7347b56a586f976208e5b8e4db52dcf07d8c2bee3763cdb8ce84e6fe3dd4263a54b14c5ad1446ee0d699fd88c87fdb68ba2a8af51ef0d8523b26fab38d28d8d0662ebcd2fb9fd8c04b4b293b1125b72218c93a6e824ca2f991780f367e624a1aeef0234c4f08a717d8711c9aff580a3a495cc14a56740d8d66975b1701befd15d311f9ef6a70a190f8cd67d7c7e94bde3505a39421c35d52eb018391879503be3c80d228ff8d53d0ea39398dd1b48a3815a73128240afda875749d63ae20dd112e8a6dfbbb26f3aba448aabffdb0c7e118822e3b0bbdb834628ca72484d18cac26fde1cb2f6fc36b84549427ce3293753cadd43b70b4aa6f2eee41775b716f5244ec90933230d39d2aa7362eac6b00066f9b8870ef84b219a55247f14eb67bae037a56bda6fb287c08548903416294acacd26e2e3b4f6417df8fe4302e2796a0395b4a57f99c2953f3d62a7efe18f57ccbb33c0740a68b53","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a8bf4a62b25b255b9125cdf25816d9e0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
