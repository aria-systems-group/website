<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5d455f6237e03a471e0360d81f04e0666dadd855df2d8afec0f6f14575acd1175ea2c1d64f8cf5123b688218f7b49dac4814bf6132ccfce54c4128fca50b5818bdcb16f4996ad62612897967682ed1611e9c5cb2cf5785a7905ea4f6227a529f5246c2f6dea405f016ef3ef0850255986500cee66f082577e7d6dc89b83ed91d3955792ee0f1d9e90c92df1847680b9c096242b8856eefa0cb24570bb60da641f4046dfb928ea9fb6ae1ca1d539cb7e524b8c30f01d818abf7b98d2c3cee1d7e91deddb5489e43b3a91ec41e38e2552d40bfa4b764dbdfee4cbbfdb1ee67f60e43a2055efc286344db5208828f538420d1cf5b6aa6484585395f81cfd56aea1aaedacd59e611fa744190ec7e690d794db8f7597b6ef179ca5af495d406a8d0159cdbdce70850f2c7b9ce93a62bb3918afc90c31efeaeb0e437962bc220749075b446840005d734ab88a478371ab380c42b05fe38783fbe1238b25437d7b76710906eab9e89d55e636bd09098f64e96d27e047e8004c1e46932e613a033e7d1ec69da2c7e76d656c4597630c2ef86327cc4fb7d728f6c83fcb85b07a141a82e136ff9b118c7e98abc2075d23d98e0c1716c8be1de1b5a4b92b4c6a3b7b6ccf3194e2d7b4320073157c2acb083acae82109d846ae8afcf2f53f1efbe63635de06457cf60e03fff08677eadcfcd3bdbdac7497bccb9dd3eef91caeb1d2b6611f2b877255c423692cd3dd885bdc8e69e32b10000035a52359b90c3a8f158e5480e5341cf932df0344bcc6c46a634722a444d5d32da5bfcab1f7064b506561b94f5229ca80fc42c31ed1cbc8bbe286f0774a9e5e8576a5bc38ed756b85bb7034efc403d55f5fdb13f994c060b0facc68e0f5b65147b23cfd3262460c40f393757f8f4df3673a643bc8781c841455ae2a87fa17a4044a3635503639cb032b948fd69591d37f9bafce52a998f3a35a89dda30ad36df35c186a66aa224ba1a57be5f033c69e75e149de247533672df0faa179d647cb7007ec0d967386f174cf95bb2431de93fd2c425542d465a7b01fa65762a838378ef2dea2ca15562fd8f72ee396fb732ff62fd4173fe2d05ff5c9dd6b3c146eca7ae82af10c7ec6a6d273a1397b1f0eabc9739eda1265db206f5825b7f6457b16461aa0a77012a4d6a4983ef2dfb81ecced5f2a75ac7f374f29a3872113c3d2d5b5aeff3e6ab81a4952258d53dce372cb5c0a4df06f73854fa028bd998dac9173125e7c07c145e59aee78c2912833c322dea6ca040de5209ec4d07b534428f5218cc2f2f2fd607ee8060b802631458badc04546ec2352e7a6fde5d78b04aeba358bd3629886415bd334840eee21dc7168444e3205a072130e4f592b59adbbbb33b3e56e8485e875fd153f18e40a29d89794c96f4b4aae41459ca2f8736c904524940b837c3281c6b2bd061795bbc9cdd8923748bb9443a2eb2310bd4fa12013cf1827e7863686b566cf78e878ec883a966b957a38759e5b644202d995edfdde3b9b9ee59b1545fbedf1c744ad8db9758c18eb0a65626e1c251975404ac4e2d7b05d38e6b480f79c3e20d94dd22dac758ebe02f065b3f2e91a9cfacfc8750226793a828d7aa156808015223efe6a44a8d34e0608c0496a6b8a301e2b47053690be5e0e8f8aac3089457e7336233368a8d1a4e9e0690abb2d6eecb44c23daa39da7c88468dc1234297fbb82355090c19ce405261b77845ff2c1fdab6f7e54e079070016797d6e0ff495c75b537ebe8e16a629e5ed27de1cd3fbed327b2fbe60f12fbcd54ab06ed0f6903633143b1794d749c40dfa64931d2a276a75794e4a10eadb3a99bdd508eec11ac233f84cc5e6bab374901cf31a9102818d8a2d43ef79706f08d241f0df6dc25f1db5d7b143c41bad307e3a6987bbabeda19b83ff518b002274121e3c54c4aabeb9c11c2992b86856b1969c6a88e359084ff642ef96e38b422c7ae53c77cab1c8733e77e9241bdc431ce540c2c9d05aa8e5a1d096e882b90e9afcc04a2e0fa36cc37a38ce40c1a024f277e6593018b111e0edda9cd8c47eab86245f18c141334b0b101f3c45410757978546109c85160947cc140faafaa3a2fce0da97b5c3fdbc1c57b556f0afe95a00b64f9bce91c2f81798aed0662768083a5530e4628dc761d337458acdabbcf673c4a046047aa96cb3709e53ce509046306021176331b786b7ea8f8cd74d8446808cec95074d2eb98ce891df65501d397a934c614aa57b086320fb89fec34232b3b81ea33278b52c0cd656b28ddef79ec950b481836ec1920d53f4af479f88f935efd966f74e62da8941aeeba4baf306b6ec035aa3597508ff20ac1d43766c2b560d9b1edfde49ade796bd00f904321a07e9e5c256683c7d9e40b5a5b9826f6cd5b645d4719f9e72cf02191c1655b24fe4cc135305817e457cd8b0265e4d3c7868bb9509f7c74f8d4669df3cd56648e824a75d6675ae82ec68b00d283fbed0cf05a1d1004b164cbb11bf4ccab9d889478e77a1cad592d0db10eda9c704cbf6585f0fbd1131014ca461897f03d7653ebd7570edbb66a6bbe3e6d38b91d4af40f33dd97c9993547bbab335834c62e359bfe325b033e14ea943d313066dda152e2a57e21434325f774bd6a69adf068e7d13c530781d7d658207817c62eb3f91c0f0f3f7a4288548a525c953099ac5b17d13cbc3cee8ffc0ec8f71cce3dfb08b937e4ad98cb3a6f7e099f78ad7ccce01369dcc114be07109ebd03b42bdfbe9fe8a5b642d846b740c6deeb0f6ff5904f23d9aa566387c8df6552cfb3a209bde4d97a7109ed88f4ac518e2b2885a59c9b472de2025f6132525be79480356ba010c0468d7b7db9a77c05d272539905659dccf5d95abd6c49f74b4c376948cbb6ee5ddbd780b4b3920f15a242b63a2c22340aaea4bd92cb8fd1322962db326204f06f0f317d200834d2ae3195ebd5edab153ac865690aa807b344cd4970aee4089c1036bc0e79271fa6c0d42f84a37f5265f6bae8bcb40ad0a504d0347d91369e88523f41491c5c81adafa8019d556c06022b950a9992f304a218a967eb9f17556347665120dded1587548da53a7a1003c69bb04abc134819be68524c838209dc71c6047f28308639508a1cf266988ad83a5852673cb1ee48dfefba47f6bc8e9a7d55e9b446e790eb980314d686b7108430cebf745d41eae2c7ee330a66bbc3125bee749290e0a0ec54f0acdfd3371315e8b3de1515e42dd5a751d79c7be9e7bdf806308f71d9ea4b904d78aea9cb11aac80f17229102526adcfe9643b739b71589c77c6401dacccd1c14200c129129798c604a60cf4edd2abd98ffc798dce8f20c371dcf85878d0b50b04b1177c64b51b740fa5794c98256735e3c373104e3c7c09d01770661a9c036b7f16cf761792bf4f4a0357e1cc4bf0945444e5ff4c6a5e168f9a95690cc67f3f235d95fcc3fc53098aef5e4c512a7f628e598ace22228464f7101c48f631eb804f89728cc03567f7e9242501319a8ce82c239a905659c4c8b3fa9fb05d6518386797a405284abf6c5a058c669b20a4f504be9f214660f16ad50e8c5ac92bb97898ad9caa94dfd4e820a7540fa1ccb1719620f47027678e28382740e1d8299cacd93c50fdd5241267e05f5a90621ff961ce3299d419470db8d0b0a3746ede51e6cc1a7cfff8432eae8ac48c2115e367a50446a582e68a7e02297720ab713a7175c7243d4b2f4883eb7b1a9f4abca28fa4af9e370a3e7ea8fd150930c2a13586728f758834fbfdb42cb52e39a5fa07200d6aa79baa02c2d5e711b5cd9029d54acae7c6a0345da582d9a143a8aee66a640219873775955f9c6e9d9e6682b680dc753ee9cd52a179aff0f4ad716b089d74a5418264911288df29e1be05e667d02ccb54ac373b7f6c3c3c154339b95b0e755111e41ee8d216f7e1f41d0d34fc83e394e9eca93a11a16a982272a43ed67dea85d1e8a5aac8e7a33aeaa53e859778477864591e7d14c7f55def8223f2dc415dfd51cf4639c744cf3cfd14f37c1cc3f34534671425cb5bc80ca17b6c440843cc5513dc7a27fb04584fb81809ddaae7b3258d96e51e4cc437fdc4627436cd995fd3fee774ddf8561d7cb1c9776299517f5a4dd836a992c8de24a8d40fae7e6494e5d98e4674e4606a84b5fdec842847d4fcbc48d53b1af0b5b0b3eb634cd415f7583fe818e0998a0865a1f450364bebb725cbf63f470fce4efb86f2b37a8e2a48ee1ba45d74bfe6a4335fbfebe4c1916f4b06b7895307eba7ba82a717dd4f776ec2f3a571ffab71dcf6b7cf282348d5514077706d7ac1d2a768da0628a64f613a9c4aa286021ef93e545038af5f82f478a6d1d7810bf83620a4a72b33481fbb74d701ecc028ec1a1e0271959e4c63fab276859948a52d93405402a39088b172ffd96961efbde3a607b92f6184a7889d67c332296c8122980e39464aab6437845f5bc217897c662887b151c55ce3fb1edae965ef4f8dae18c26aaa4fc7b42ee4b7a81ecf3ac77b43f9ae7fea63f5850f0c497a2cdb589ce1e4d8d83289f0270144d4236664bd9b188e4be940724fb1f61fcfc81ee8cf9a53d568320d925cb4ed67eb4a43aef6ecd2a01ad21e3a2502a473f509b8b0456d46306dfb114e5ef943d548853c6b197cf9b1f598d995196cf2ade804a0d020f00c86e1b77d4037a86481a99bcc86cdc807d760fc255704c16ad46bee9fb177e2aec4d84643e6124ff858bcd730b4a58d98f7049ad3329573f01e64f16931e472c3ac8c6e41f972c29375719bdef4b098b05fb02cc46a5da79fea2065a777fe798dafdc12ba0cd9551a504302b3ca78797a8f262ef5df113e2167c7c933edd134622e7aaa7fbe3c18443ade7a029173ae04378a07485825d1cf9d49ead525f6161e0fc13edd9bf91fdf9539ecade5a9f186c87b88829c042bba3431782f6d2f5aa7a2ad7e99497640f71c4396c2b2ca0bb2d68594caab2fbdee27f2d20a661aba0687b1f9929e3f13eaa26c53805cd85bf9c4d975845e608b55aed01085fd2e90af49656b5c49722fbab18e1c9cf4eef9a184c25893a7383c82e849368749c7c5a0913c9d4cfd1644327d05708dcfd130e4ab251e7455ce7bc0e7e9188501a9e1350c30e7a517f6d6e267ae922460105f8a39ffe73c0e1f75716853122d7fe091a3767e17a7eca334d7198870674de69b72ae301e49cd885201a43b77ebcbc6db9991e10d8331c8e612317487fa5c836bbcd9859222ca918a8c0f17ba5172f71610bfd45be930a9348efb99daca9d082c418cb19b7cf2a57cc48a53722d7e9d90b70f823bdaee9e195e3217878370d4503b1138f6ad609c0f73827499f399c9feabe84c01c18ecf8db7663dba4b4a59eab7a0c453e525fd462a4b93144b917e70f1fe8f33037be10410cb08e1e5e14156385b836c465c3fe999ec340560d42862de7d3e88ba2f51bb9053ad545b9dd0f5ebf721651bfefa563143446c17df827511329a00e16319e01d342523d8a1de5bb63c5abd0a3b370ef8d6c3f2fa929723608b51d120bfbdbfcd53a72209ae54f0e45b8ca8da8e0d4802cd89a7f660a3682d28d400ac44e3329fb09dade59ad4a1a26aac9c23d21b9c5836c267f0f643ea93daaecd7cdc57a2688cce7d9fe00e1a94f2225fa970718aef7d912979b0295e54df34d6dc7832ff6733aad424fc4713873e9a54e745f472372c08571d2b5eb9d7b9f2ecd2e8d09b571ed30b0a6c931dac6c642fb2b5e8f4c1b970a54a734a1aa7ea4893a69a1766fa40f38ecda58b65156ff1c71e6d5902bb829c7f9310826b5e3700fd0b08bbb6f3b20a0daa1bd59ef6e4db132ce8032ed60874a59233f502ea762e50daf54a9d9e4e3d7741f7ea54fe266562d0e82551a9dcca8105a3f769e95f7fcdc92f37a08117d74932bb9d55eb4bf24b2e0ce197ef7126c8134da1a3fead038494d0689956e92331c1cdb2d7e50eb02a047fc0388ee84254a1d925cb2ba1c9b5c7d06709050723d27ec1bd4343323d62208e85bb6332555c45048cddfea136e177764d8c016e460307af7cfcdee78a7d814575f2af4ba037fa6e4bff2f6a0f9b58d07da309dec227d35301f96c105fa59d47f872887606760930675da3016ae4d86260e0e0b6be0d3e5dd1c4f9aa64aa39fb0de34934690755c96efdea3e6f0236cb5d0b60a0551db2f01ce8b038a3b79632feaf160b452eb30a840174a4af541940a8b1f0801ccd473bd73534f5ee43c5e694b281d55b098e99060dc12833520792e1e0ac9e0e81f108aee4605baee0457a4f9235941322e62f6849a6de4c44a75e4d0c8bff66b49adb2c8b7f5edab7a8e33c8c8007c1ae1557bfd5efa8196b90e5effc9e14145d7d77ea5bf15867d377ff9d6aeb21cf689a317ed7c7fa0170e3058ea63d45a8c6ff1b071bb4289c6b96514f547ae0e8d443c6e0e40736c851cf7751ab784e27124e9b06b0d6627dbb18a75df4662509844168e374ec1a645190a651489cd323bf5bc232e01d74ca1a4697f19c74760216428eb71154575b0677f14ee1f0542b7eb38c80beffc00bf6b7f3667b87037a5eff028948d4291faa233224271e7e06a3faf4894fcf8401af56ff45e9ba68cccff4f67c12112888bd54cb0cdf02510e276d1c2a181e2cf6148670940a0c7f08df0db1eea0ba092f4428f99cbefd065c9beea55c93d0e3ecad2d99abfdc7e85c6e7a7e0a47211446b0ed07c9d4c2a890e00db3c51d092a4f60abb359969ef737c327496bffe342b55621966a557ba91355e1b7de5a985cc2aca1aedf3d0db5ad80288f0cc9edf9ebdfb5a3818df273bf76c210845ead49e1485fb6ba0dd5444e0490e6dba5ac33529c646e559adeeb55298b2bee73332059d5a2fcd92d7c5af36f689e0bb1ab81e534a63b53271b8812440d5bc181f7f6bc8342f6bbc7174953cf631679b6215f7223b28b29a8a765e9e2bf5ef65d677077ee537105065d6710bb5098b7aa1be5a23114bbfdd4d45c70b99243366e259f0bd79ffb22fbcea8727137e66b405654dc9a3b2504f33271dc2e541be68c60a9cb9027b9d168b9cf9375d397c735d83b4278ae742d9b06c0c8fec5c8e51b0385bdfe4e0d2b945db20a5d7550b8ee4c8681a72d0cd744aaea322e8218d44158dc0a31c76bc4c1b029af645393fa62b82a36ccce49147470707d0ce5a6e2461285093de042997c7cd2e4ded16c1e52014902a04cc7ab511aa65ea7e5ce7bac1cacfc89896df223dc1d10161a05db22396c521542239a2beb9f5f0e0f28f8c29c5f9687650c82afd2e2f1cfda8dd0c73d8517af193b833ebbb36625f62c54feca35ea94bc946242893c1c456f62727c454c124b1a58936e44063b92cbfe034a8e4c1d771d29892892108bb8b5b6a0fcea7247e9e2abe83371c0bcae5c73eaa2c9f9f71515da04d991515acd71ab3d4a6d7a0749727f6766c4293fa002696e50644100d99ffc7979937dda2d4eb4297ec0ca939a591a898c956d17102798d2cf1f00fe46f52c6d72d095567225c18801706701e557184d2c7f73fc8cd5f3fca46fa614806be01b7e424de50a38ad762e6ef6f309712442f105af18b7092600c3dfe2daa4a3ec27537d907af299ba304ec059e27611a4ecc9c6a5024887f5f0cc0336b84915f24683d7372d6c244ac3167b4f552c8bb0db27b849f19253c37853bceab44c722e22e954bb505004487e4c780aa65f29f436966c661506440cc7cd4856a63aaee9ba0dd7312fe558dc8e53f63018f2a57e6cb31e917ae3c7e4e8954577116a334efe0eee26f5db36798791b36e4d930bca95f67ee79376bd837439adbacccf675b05c9c01c81935a3fbbcafe8e6d6a07c64e2e3a6aa4f7661167efb7350a16f36b778d79378e3bfd2050ed54911ca75d14d750e73af570bf6a0952d1fc2fecffc7bbfc1e9cc3b8627cb2dee9c6cee30bfadf9cacab9ddf6dc55db1c82bfd29100601b3767e4e7fc10813d3f7ee39d2e049fdebd9a040f932e31e855cc9a9452c81fe483d0da73bea7d056625266399bd144d463aab1a7264383f5e873c719388c7e8afb1a5caa9cd7a07797747f92adc7f2c84f4ab6bf79337e162eb380f17bc05ed799ebb3c5a3a08e79afc9d4efcff04832b3629fe7cd34153fdf55600a358a5e277ef03b4472deec43f2f5aad47525e22f045945856e4f98b1ca5178ee1c3ccc17a2ed8881a59bf976432d680bde23fc317fe1b51c4d3e074fd0153f4576aabfb7c40e51265ab38225bb89879afba609decae6c4dff5eb82a861e0e5db09de6d189c14c249ddfe1468568add60e0ec90f352b14834c5975a86d3699b454b9cd5795e43d62fefcf3c30077ddffecc772b6e21cc640e3895b497ee6f712aee76caa681823425988301faeabbd40ccb316c6943f57e2599121a84f5cf6462191f5b99a28170c7653de3ae848307833dabf5016d9e7103f7f08508fc7e3c722881dcd1fa2e256d9b907a25d1210e85d7d8350154f95f298f78a0b2153ed0be7516599c4edc6716ca1bfa9e781ae7dd8ff40e45ad68605187ee6709d7d347b835feadb3c6730f394a11383d2757b9e91f1f4f52148cd2dbb6026f0c366b9cebac87295bb6cbef1d77826964aef37cb8b09a78b07ac39abfbb78ec0bd603b02b81a77e2a77d30b5de78af445c29c67803ef2d1cad9f02b82d7a1df86cff57f90694c934f8e162c1ecdf878cdd6d79d9c8cc54f9a5f7c62bed4c831ea66c8d6de2f571bfc21fb023ac8602d4839dc23eb486ee4bcae622a2d97bbb96a477e83c903be4e051127d786bcdac12eb20c0edf65572008447eecd3dca8966c814ecfbe6d8ed23ef007b8a35796dabdbdb39932373eeae97e3acf499399f3fd012ac624f249caa660f51881476b5e869de4cc5b1dad54b706762efc133cb90ad25a3309fccef9f3912bfb5a86df86a79c2904cf76fa8efd8078e9d83ebad2a7e55ec505d528b069c20c35446e972273fcb488655557bcecc34bb9a6c1d3ccf14729fa99ed6502d446ddbafdea1f82bbfa0b9d7605b7af743178845d1ba91d7dc432197a8acbdb22f3c9d33474758da8f7281abb84b88fcd242774ac0680c7592ecc49b9267f15e859ba7190b3fd4d07c75bbf37a126425f5581d0e6529cfc12a04c288f40964724c06a37351f67d65685ffb2b04bdc790a60aa7d927d80a29043d20cdaf1f975589410581cb1beae502aa6125f147ecaf0fbb6bf091c515b50e1256b021080715e54589a13819bec59a2f8a553dd2c5f53bac9e4512111927f9c694c3ccd434b4a2c6005ec5c30f184c02da0e93c3d4f09308d3616b46b8e06a7113b44670d4e6d1dbac16bdbd4ec0edfbf4bc45ddd37ed62acafae2cafb477b89953b679e901b7581eb0746ddbc5549bc2ed22d8782ef47631222b8261edd543426fdc8b2b28580d01378f5e617bd3f691d721687975fb5610e356c9d15b8abb948e54ceb03e235766420a57e7ff4f7721bcaf9de874469f8e2ed541889b4d695f2f742ab350ece152e34d80c284405abcc93bc837759b59791ea2e8761403f42c4cd51ec72b4755498089bc0669c5cd509167b19440d077cc67383af887a7eb487fbae208e67a9bb6a40a8efe97b8adb0391e91e5ef22ce625ad1ec03dcf43c0672b6deefdf8d015592bee64a3b3a8ce89541b00f8808ee8fe9e9077c05bc8f98dd2564892b2a96effe335234f83009fe18171468f5a70b9d99d2ab53da1c502ba775a10ffca1bd03350ad7cc76f0a605f477b468b4a134872458e958318919ffd0fba41fefe67026f459e0fc080386089ed5187e2edc20365b4b185c870316217590c54b2bb0367ae39d2ce39ea21736bfe898c4347fa5d5c115019b10347839ec313f5ccf3f0731a54fe70739b7a9c2d72aa832dd669356f0a35ac12834e5a6c036344b27f9003a0eb11e6dd35c38bee61e7f1f2a4a103b5ad71eb85c9ebd6943f94dc52828a86f5308cb4e9baa803d3398a3a1895973c1accb6df97c179928b59c1af9447c2d1a810b1bd7cc9d38ca3fa02d41d4a7c8c0064508366711441cbd37c5511c82f9138b16b2132388c334363ca5bea8cc58a2eeaf15f53a1ff4440a51f12796a2af389466a9e195f105a657da5617a942602d717778de3d0f39ce4aa40d482516dd876ac4c883126727bee56b0a7ed40f0d0282f38f0da28fe807438b6361a619d51a29ae97c22994107eeb9af5927c9fb78adb3fba3124b661397373afed0b3575c1f0d617a0f76a582042f3993d04c5a92d2e3acecbc024ab94fe22cc9735194db0e233d4e1ccf66c0c831de828ee966b0b3f9492315299097d981f068a1b200f18857d093da644b5bf7c218e403859fa39b732c77697cdd639630570cf08f7a437b08ebf45ac64394dd270a9804197a34645f361548338fbad4fd108583f3501579d3124b984124774b12562427a74c8c4e64fecfaaee4b694438abc80faf31b1399a8d5a314b89ae4ba97cf8b7099ee379be423284aa8a800a557225c87e0f3691f5a801e8a212c71207d307037e8c594aec6097adfd6891339b5dc351c6b833da6c3eb85cd4d41c3ee8b18995c44dd1a9d1076263db97184da50b8b5a256f5b33e1cfaf23e2a2f4182483eeda3262dbe50f1b62db24157c9d064f4aef0532e8df0b77e65f676de7fc8417f5c2da89f1f47463819898b6242dbf0d058274926963e665854accea5d3df3e1a077a0ce9bce475c229013bf0f0f06f68ee2e23023119ce4db07292893e91f27602a7c8da2484eaad4dc8c40cb539310da7847038526bc4093bc02ec68e161fd7bd9626c8cce365dca2bcf483a7b0aa42f78683cb27ed041407ad2d06b18253ef9bddeeb114a1e43d139aab99c36d7d440cc076ae4f9126c8726cc11e8b0b581d98d1b3b8db9e8f134e900c721515f9cfcf0237ab9ff42db2fc1734ea7e93ed05723987f7323b9186f7acfaaa0bbcc1e98f83abce4924eb2dc1ec5ae6ea101170e7cadc2581ff3c614397b285176d0a5ecec5f294937b82d43abe41ce43950cc29e4348952a7e48475311cb36b9903fab5b4e5060f557b348920e9e1a2be440da87c15250db4cc01061d18d09a4fed0b4b6200d43feb084302e66fddac54db4a1eb81235a5869cf03302dce69832b21bda45a933880337fbf48289c6887337aca4292351adad4398c4bf46f443178cf4183bd875297649418c91709826c9f16a50d6af53460472f68f3f326c8f4f60e5c8ab7229de117cc4a28a6f5eb437448533fbae725d46992165c249606aebd6d104624f63b49b3389178c3947b3bf67b9d0a25baaf2b49652c5603b0150a0c7e3efba39e7a2e2bd43e730918273ea8eda6a97822236c2624c0542b23356919b053fdda07448bee515e352b03e6d2044f9dd784ff35ca673391e73d245b7992baa109ba2ce25b7eb888509dc58bdbeded91249ccf590bbf734933c16ac17b774fe566da3c5c17b13facbf8b71d2819bac16214278f33670bd6119212ac7a1acf4fc4c312f82e409edc4b9637efc639d187d3b8e85a78f69c819be3762d03b87b2b5bdf3b54732218eb1bea6fcb602765efe0f6cc33fcc8e9eef58123ed2696698dfdb9182a2067f046d220a35ce9c3f2d758be8bd074534055f7fe82b6e095eab18a0e6898a2624641d5962faf2efdfe591803c3bc61a22517b11acd060096910b2d1cf1cab94405e765d5b95976efea586e4c1d49d40eb8464aedbe557f09cd56ed292feba532be5e4cf2b5318db8f72903f0f0ce70ed3b931bb4fb256c5787c1a622d544c72898e4fca9d72553b40872751fec9cc483963e1581536a5685b46a2dae5c3aff93ffc2feedbbfe762d03969dc6be0d4ff04fa7f35b42c67074ad1b95d071e8ee5e9af6917b14a830cb3dd0832c2c30a41bb0ac27fa30e2bba39ce1a1eaebad8e373bf16097e2d89ae727cf8628bd49d938bb6fe5c05bbd218ede7896530d21d48664d645a2e9486f1f7942329d0a320ddab9f9df3b189ab9e0d36904c6b2200f127e2409c587045a40db30133eed5fdf0c6c07ec719d0a643987789a637196db18cd9327dfba3ba1a8af00081489ad7b9f01a73e281649d443160265a05d4e12ec2fcc4371d2e357e775a10e60c1c2da4b415e20e6124e1dcb5b4ffffd960ecfb75d06dbb8d12c58da2f77aaba7f5e63992e89a2f7f7458a2fb09ae4e00788d2989cca0092fc79af64f408e4b93038f2267b7d906ef48e6ca25d73afcc58952596447c2c6fef01c28175a32658947f74214a0ef3d39972d15d1afb50062b09f0e085273a258d11d8a6b35e4bcae14b4cd623271ce974d4aef6ca0e19dcc3dd03cba062358600c17fca9a9206c8807187c1f7a837c6069d2e969ddb39a92f570b49ef8faf8fe112335593a3183ba45c47bb4faf7f0dad1ec550041b1fbdb7e855330a46d3a60a8ea81a3078763ae13b491edffcd151ad2d1046ca7a89a10929c2f04cbf4a6d7d6ac0d6a3bbd156c46aa1b5720d8a0547221b522b03ab85c7b86bc71cac4412921b18e4fcd9c3e3862ab6d0522d01647da23e17e30f9913fa0fa84c6bca0e717fedf3ab3099ab46185052dac97b814d6daa3b98e226897b1eee92aa519f19f4be7db7df663eb361ec49175fcc5b2baf086dd662453262dab21842f890cf275bfeb526a1befcebb27b66cdfbfebf0671ffab710c4a9ef605eda7bacf20a23ae556d981a43825948a783c9692b8d0feb355a9ae8cb6b23dffa3b3034cddf300a37b20b3c153daf1c642dad6eff3d17e2f0d0bc427c62029b516e5eef91823db6f8038ed27c09ae20a8821257a00335ce95365e82d4f057af5dcbb15ee21b5d2a41224084558accbe907ebb3061a292e2cb062357657b466b9ce0c2c7f9aef3d5f0cd9b508f42b630606242af7dd19283359423219e106768fdb5e141323b1bbe5f1c5fce7451e6a92b78a463803f3dfbff2ac9243c40ce2195c0f7dfe524ec97c9963a3fe11e5cf14c327a69c0d7e92b01bd6a2b11c609c7d8c9e395d24b1c80dd556152ae10366b5f02ef7c567153b9895eae38785d45c07701f26924b737a96064a3b4e48603a872b7a332376135c748004f0b29ace061a85e661730e05a09c200f4139994df8900db2e24eef2b810489c0c5c351c0a2c6fca1f6f6c22eff1256fbe7a7481bbd030b9dcbb2a9d04f4d0170512e0a491463942f1c59e52ede37663f1edf6f1ff6bfca7f27c44ec601b4a5bcb8dd351ec4faf34f6e9e1beed43acd50c8cdd4fc5df44a77bd2b7fc5e37c41966e409bc11d7cec9cf654cc2832af08fd07e1af4c50868238b0502faccec159158a05a5d287837d3610b6e8459701743e0c168e1758113660a816864d5b64c6e1ad79e1df0c67836d8fa318e1259d8b85b9acc9e062bc44c35dcd09bd70f39d38ccdd2e81e1d8484001013bf29f64e2bec3470f54f0cb6bed19c51cd84e7b5bd2792b907ea6c426dad53de0faada2111425d176bd7df4e6f95e7968c0fad6968134bcbb2cf80a462daf6b479ac4961c8700da540ea8f18f1150afed7f2b0180fc6b7ae324a12cfbf9b6ac4fb63f150fa8068756af687c4775a5c42543e5a9052a11a4665ed70f7ad35765215e34fe2ad39688ff2fb5aeb6b67a75f0812c945e93ece983e70ec03080a72d692af1b4e8e7b7987c864d3472cfe6d13102fa1c5debcec01db58a76b2c93ccd26ed29d1d6203f444160070eb0e50d0b81df6acded17c4dbf9ff7e15913fc4de5c0015d206921b84f5aed68cb7812695674c5a2538e142a3c51a74af38aa98251454ee5b69fd970d794c5446c6178294c2514f94295e8965a2db661147092b586fa1eb0bc099ba880023ffeaee94c12a0f6c8297a625d0175496b5996c21dcf9691a1ec1c84a9679cdbd3f2a6f1341c94a2646166e4714dbd39ca3c6040a8b47af901b30b2579cdf2e9266ef5db5529d74d8ab64b04a408467f46d123f8bf1531c4baa8803356a4b0073ea024dd7bf7ef3c9a204ac3391ecd5b2699e6fcfdc4fd48cb3e31e84989198ad4eff94e34bdcd7857064564715aef6f25752fa15a1c1c5cea2efe5c0b2b26e7266ba679335cc4ce66418ec9c6253d302376746f6659f9f708e60319f476d12e047147acb479b578c0ea5b4291a930b706faf07c019c3d2d8a8edcae37a898ff77e92959798510a37e900b71817818bfe6ae5a1266029731ab0f46612363a0346970618dd11de4bad7e796c45dfd96f5defb75793fc750f6ed1fd1b466fae213f0a7a099ebf9c7dc9db7ea06545f5d82fb7b294ff01230c7ac2fd69d3a884f09efa80e58faf8cf42680e814c93d0defc30cee2efdd523ab922bdffa25ee4bf402095788b03435de05132972e493abfc5f57cc68b268a54ef360aacf36b5b8d7ab6ad81fcbcc44114b7e82d1368d7914195fc412bef080066ffd38bfd9e5fc22300f2813caaa540256b213a2465ad987be20c498762ad6367755896e1e6accff806eef904cc37a58b167cd4d4ee4e185b70c136bc19c92fbf7d33677b6252ddd2b703427cd8f4faa23a2e0d9e7adbae8deb170ba01316d4462c64b2b2d5db2cd1485b0e54fe95e271324c7f26d4411c1915696e9686f2841510e510615f62b8fb0fb699eeb2c9681fec743b349369c9e15083ae4e54bb8f1a4b64c58f65137ec7d0549136e7177bd4ac3f5275b41a9e973c0ac95bdcd3001529a097329706ef18a5c6f5c5de93e469f069ff176f6ad86a239c827ac841ff0d6e44a1b7a6f59bb49dd3f78df6156ff0762c371209cd1bf48c84b77bb6f60aa7119bfda201cbdcf28e8652f9550b3a369a921c954b934b97405022fcd87a3257f5c720a9fcb47f9a0eb51cc7f0e2835af6b62d22bbbad20f3c79ac2ee621b9bc37ca2c2fa3a9d864d832818a739938637f3aa2134f78b096110c65359f7ee83562dbad5c2a3134029206f584f7aefc5f3653f24ce031c77e5e3dc174f392548af876236345fc275523cbcdea33d2e77af3701465ae51eb23d64c9e0334469ac235b08b0b7715fe5335d76a4714487d1c46f794c0c34b7a779fb89b94f1230e44025a91690c995aed12d42e84993883feb53c4868b489107b78012aac80622bdd8aeebbb81273254d4e812be699f4707aa9e24c853274e585f9a768d7476fa959a112bdfeac7eb84a917d1c5fa0eeeb6eb721df4adf361201ce60af799b776496737b01ffb70f66b3902b3a52940594e423fdb5687c9b6140a2a7190d9638f12d095da8ebbfaf2c4fc5916ada9664b06643cc3dc4235ed8ebec14d6e835b2e42b3135489403e082464502579835aa161b1affde55a247b47421ddf2ab19561238312633f5bf3b0b82052b594ce806743514aff3ad144e35d181038c0d48c09d49332b62b21ec3832bc932d757336a0beb9848d034cb6af24181c8ff58b3635a12eb3b77eea08e3e27eab9a32a9d37326d1f814ea3c64c1019cc761200ec3f38d5bbc4b53b5c31d99144b0d8c70528e7e9f12a61e70d9f23269e33235849c5e4044daf382ca2b6622926f615d3f85c5614f6b174fd5c6f84408bb55d1f4dd6265d737f9d448ceff5a10a25a7e81255410b6b3204f7dabe85b76a05c0a265018f0146dc32352546403974a31252da7aa1934c3685bdea93cbfaf273a2543bbc70cc198e12c5f9636c18da2201550831fdebea7584b1659cc2477e8bc63159f55a5f9a6ba82798b16e26113ded2de1cc677f20fcae0e00d4bafce2cfbceb646e1849e967027d3b9fd44cd2c1cdadb940eed6a6dd190c09ad7f6edf71859f16b6dd88586ec99feaabaa82f3ba02566cd98fbbf9553a5484a4bede3de656e1901ad9cf6c2620065c704a79b59df622e30479e64c6884d31d5a5aae7d4fc9d2f3a9c53859ccd8fdb08c723cfd696113ff02bd58c70f63886ed960538b74a8495525f70808ad8fdd2a7fd10c1d7db555909f32c5d8e1314b48a7cb4df49165177e4b55eb1f4e95b582d4af1c9a5a9bfe002b1e0e3649be467dc80b75b8b1059e4474d44ee3728d4040b7313df3e406340a58c3e343418a4789386078f2123c49aaeaf1b685c68831593c73e4588ef84f2f5484ade891dc7d9725ee2be2fc7cfbdfb67ab9e5d459cdacc4abb62daf7b3cbc4e1a01781ba1128365947a3a11b968a459da69303e6fc895f25b26954551f2d9751c698042a478fff7835a9963d2198aa0250312ba33ee718657768f7673954a3f783a8175cf4dc4b124753ec1b71d027d9fd445e52e57d65e9447f35cd9d65a6e20b39df84876a54aa04fa5b492b683ce9be8055b660b099aac7472236b60ffaebf48dd824fec8bf3c5189e4c64ab83c91d607b3795ae989e3aa73ae01e99fe999e80e02d4238c36a43b20a77cefb40437409fe0fc9e2c49f7a04269837694a201272d0208844d6fd3791c800365f041e8f932eb331d9758323ec9d393ca5e9f6944ce002a726bccf5ffd8ec5ea54aea1d668ef02aa2d091bf716c7179452836a0daddca06778f2afec0a69a997bd71cf5ed1435460bcd579a350e44fbcf2a1c31cdcf386d3b4e0a8794b8a06033c12a7490b8e6ffa7d9fcb274773d084ad4c5faa977a237c28a5740678b13391056520f7f8fb6b78e23294825ef01a9896e4c307ff9b4662a0288feed47a4870cb447565177aa3bc7277235b5455506026673fa6618f6fb8a3b7cdbb5c76f2652f086f4755ab1380ae2023e733c487c84dc1793b0d2ec3240edaa18c261ae6f4a241beb8d2b97af01a72fc8fd12f3774b0f83e3223eba111bd678c98d89729de341449eb357c76c4ced30211a751b9a11214a752d4980792ef75f438d00a43dac2707040cc3a826b96319c9e32d00219b95c3583a0740c53ea87afe4d2baa6354206613eb66803bb6a386e82005b27242b81998618a829931748c36431b23ec283e72505985b96c536ae5253b3ab478767c3618b588374c6d2159811a448d954e92e82355ed8c782925ced988bbb422e5e0dd85b3c1a7643f6dc008239e6cf39fdd3840f05fb416ce5649a0bb50f74953ec96ce7089aad184963c6de30e14aa349937a3d2fa7c0fd25c3e29aa332f47d3b253d2f36667a4f402b04a8b49f8b00dd8824029b83e7d1a9e56c7ed5b93d4afda6e83fdc0d614fdd3ef8c1f0007db7115513f5110aba3d67b9f9f6ff65936cb43e6d4f9546d2546e0cd012b5084fa51751fc3be1694cdd9c5bad650c2219d246f563c368361b0bcf4d409c2961ec5990aef06dc734a509248283bbce20490777521f54aeb38b2adea2bdf077f3ed46a5aa5b327046e1177069f47d9da65489e770cfced40c08154d253e846ed9ce49ab38217e985e77d142eefb95d73ee71106176f4c7c697bbcfe08743ff503b12977aa026862773f59d9c363df42f10cb926b1157fdf42ee73eab316426651dcc3f0243329b2b87467d04cf21105474c19dcb0cf700cfc1cd31eadb46dab56a4220e9bec61e5c3a08a18db324faad96c7c8435bf86b250fb7d01d26dfbd7484a72798ba84503a3db30192a3f065ff9a0adb4d45eee6bb3a015c4210b6059fe3e4339985a97c3fdfbf1e5ab962de9de66f6595af1a177023e5b00e60c2dd916923552951226f2e9f23ce7d696064c59c7a486fea1e88f01707e25c56aaec734450268c04f753a98bb636f9d225c166238a1a073ea74070fd778ff957107389b9f27f50de2b79cb850f32fe32aad30463d3caf133d331fe07f100d30c7abb4f4a68fc03cca24b986053eb67164af7f4b10d8bb37554c5be6a36d5ebca9e328641241e3e68f11c2a17508d66e486bee323ec3820e00fb2c9b95f7910a89fab995ce05485f4df20572b30ce4b218e977081b07e5fe473c43394663f177d582c0ccfec4ba7d365a4cd23cebe9e09587dbb627438a7d33353cf5241c72819ea3fe85a9a2cb4ddfb491b09a4db77a36e6ad1ceb6a51365c07bdd0eec6a27c6193642731568ba8611fbb7385d6ae1848bf0e3fc5846c4854131f289bed41f79f36aed3a23ce53dd8e67a322d74645067abd1687b7c8f18551f662bfea4e9652ab0d17123b189a034f859fceb6ec9767ca088e25674432da412371f7fe3730f0d5a9ed4d290d46b296b32e21f34feb5463abbb702d50a7045ca876874f868c08d99730a6d09939c5ca4ef95a2f85a37d2de09580ca08faf267bcb6c1af17ce88353f432efcc38eada67a73a1cbc89174f483de40708d8cf234bb62abb7d71c21e0b74dc7160a4400da7a2b1426fca49acc3b2c3cea92a4be0ab6ef942b32834a36ce1ea160bbd4677de9c5a835a3932089ff89f3ab211831b976060789cfe98f8c302a239a0a68cde50ba8d2096eaa023a291dd55e07d0a55d24db4c8125258b2d0f21b5c35261079890c6404b94df55fd47c5067ec2c995510aebc4e58e18561f9fd59b51ed257b79346325e819e0d7de1ab482716e8051cf24b21e8e51043733519e0e70c54fbf4f948d6d1df645660db2bda91406d8f6fc0be40685c57fa9d5f72c27c1dcc211b42b07157a61ee23460a7a0fe49c4fd2f9b96654ace3ce74f48dfb763d5d7440da28a7b94f32e9841dc3d22dcebef9c2c1b10f23667543a72785066c210a936fbed997fec72abf9261cb76d6d2cc6b32d4028af51ef18d3ba82ce9890ae754b734d9a6db90dd7149dac77c5a3c97750cd2d49ece1920389a0e30daf2ef6490e9af73b45b7ca618a4e9ade43072707449bae32017bf3c36e6e568834bbc4197dd6e78beeb6111b6bc2522c21180028947b3f8877787e5b197552ebe6b7e235be7f4260f9cfb5c76b31b5c3e1897b26db30d71fba4cebfc7bf4045397eb33ceabcd0907c7417caa760a27d651aa4819d45f248670852c251f53e75ecb090ac893ed9b8c6ef313469fa65444f1b28e8a646dc8ad76569ca6e4956d866e7f91600445eb144deb6413d001b9a44802495203da2cc722f5977502aa29f62b722902760b0b36dbcbce27c0ac58bfc52813825a8878af946c81fce2363ab796395238625b7ae5d61f8d57b4af05fc136c8fd78844c63fbced8b068fb9473504f1d6acee63e85d1f8a5cd6ed2b37aeed9213f630c37a3f7422f743d4adbf625142901f3e8e5b8474cdf6d00cbc41dca0e8d58a61d34e1f8fbc4ed40bf2445904e26c350b78a887139d96fdac71e26069aa6c4ce8069b6aede6695a9449dc918688e3be9f7ac5661d112a5553958cb629d5695bc29a049f4725ee7a807b82c7b776d08f1fc5f596ea1517afafaa79177e27fe96586cde651768652bd439a3f89a44837f6aeb01cc5ea7a2167cbab2c1","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"0f54f79a69813e23c42d210dba711888"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
