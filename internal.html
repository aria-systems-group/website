<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"65a234e57db5aab6d8a5288fb9690c3e90ba8bff9df79880b003b157ef68478dffe4b629398894ad52b84ddf330dfc0d4695b8d6dcad63be442380d873b698f9986a1476e3453c832b3007337fa4d719a90f553273e3c4e7154502eac5873b12cad84af8e442b6ebd858056c738260ef2e957f7291a93c2fe54c8873caf2ad2b52496eb86dcc21e372c4bb28611780374e954d8daf2e09a8b1dbb31eb37436be7648f44d8ad57d43fa0c425f917b4c1c689ba33b23d9f7b5bc4c70b13ce1140e935d044fb3467eeb22662828901d0413ce071f28ed8968b61be70d719f44c94cf5eeef71bb01e008213670c68ce18bfa903e8f0c788ecb1b9bb3db25c4465d48c240acdb600b68e2d708885182b8fa70dbbbc44cc3f251ecaaaad05ed93c5807d68c8007c1a5c200e677069260d0d12bb8d7d92dc7c77e33063664cc7e043e9c38b9471538b19a2c62f196bbb3fb13f4fa4fe228549654638566c389d02d47594fb65ef6586e02a5b80c86c4265092bfe65e4b0ba26017cb8102cc9591d064770a8a011bd5b9fa78d109994a6d30ad7d2eccf943db12be3b36b86d476f4564fe4d0a0daf5150b7c70c05847cf1bdede77d27e83c534db11937a4ceb5917963ff741227bc7684ba42b6b2c2b8db1690dc10f2d303bff6824f1f06c7414f8186c86a8e717eca1ef594be342265699e4c13f31d181f8b8b5ad8796ab11888b2376df95f18d47b3683a6940b20154b899bf8c3398cbfa4663e31c869b5ed7ef00bc660ed78761379955da112ad887f2a04e5ce7b618dcda27476200970386c23e7d065247ad7cf51bdb87b95abc050b9c116ea53027a16c76deaf23cc90bb0cd5c297c68bb91ab223049dc806d8b5b63d6d110499709dd5ad0e1e557625615e083f3d69e0d690dc3dc047e12da7be86e1034f7f1ba6acc78929f62cd71bfef5e39fdbed8e8320edb3007b1301860fe61142e807337ccca817a9d33bf038fd8cfface705bd30c6fc627260a1d33a3136e6290441790c1dcc160455ea627ebba0bcc3bd78317956865432412a72c50bad2c29ca3b558ec4d60ca7a13b918771898e38df071fd6e00c2788ad940c0a564842b317a3edc3b754ec01bf44766bd1c0d1722a198fb9cf41432033225dd78975817456f2259c9f411cb3671ceae3cfb76daf58b2612dbafa5f407c5812a536d9c64b3c95dcd2fc06a57597e02cc39ffb4f28f1220266b90d167fb6fc5dd9b04aea44fdfda54cf57550ab1f02a0b812f50954a4f91864028b592b8a7651aa7a84186dacd2936f2765fb353581779d7725876210d822852717f165736f00db6c99decee80ed2b873c013a4697eabd8e0edfcea8044098afb03a7f2d6088830cac7d350690f8e9e7af51669cc5c8fc88390d30b945532005f1c32e3be01c4e9e728ce0bb02f89fc3ccb241e93b56fc7eff2d003c7c30cdbc255844203ceef6911a7860bfbbe72107ca947b15ba7e789244650faebeba47da6e7d21466235735498a5345e1e2f128a009ec790940c503b6d6eb5aeed8521b3e912978c9f207f5f1b230d0bb50cab6ad303c4d71e6e423294cfdbd491a19df3d051a7aae3cd3bd7a316349341ecfa71b14a8c394e7da3d1467054134e3b79e817c70a9717fb1d60b4eda4d1dffe93a89cad17a2f7c52119caeb5bf8b7517f7a6b7ec053c4df2f88a407e8236c43072558603d3aa512c03a61b8dbbc2ba507e2a31eade38175514816cf62d7ad530d6c2a98038572c9959bfbc1d275a36604aee2dc8bf71e761830f1e7a18ca0c669bb1c38229f4801079916dd6a3273a5fc6e2961c073bc0dfb6b35d9efdd9dd90e4d3445b6535f1c105622bffd7cbe1b844a4bc869e68c64128716710c2c5128f52daae315cd7f708003f76aad91324261feb7e30905f5b8b190efbbccdb6500da26ae50cad9aec99c1f21e939db0b094b0b408ae41f07c130b5ca31c2d649e00bf2a38e6752d2c5ea01c2ad67948bc74cde27db4b600a19dd9edf142e1b3daf5158fd7567ba62efc0b6fdefda9b83632e405735ea703284a743bdb5faa156ca20703dec4ecdfe2d7ec95c245897d6e963232470cd457e8ebf1259a536d4e228d5a0b77a5c2dbe15772f95ca62a5f0c59788c84e756e1aed68e1f993826b39b64a44b95d55f787505141c0e17285d4e5a1ef988c8cea7861a932c27194be45b03f318d3714115ca5ae23d1789944e8cb949b7340fc054c6d686a86743554f26b8c0aa9cd1372d4c58f18788f6e770f163b2b83272ac778f30a0d0c1b7aab286b5fb303b170df5dc4bf62aec3a630e5e05568c54c4c522259a401121952d39e6e2a846b35523a4b82decb13f1569c2f886511cd89fb24acf7cfdeada82b32f7996292b1e937b0c54a727d70ab695ea01f2612c7857ac8f7f144694a246cf6dc53041f8e8356f81f4c0255aa22e2608b6f005a5d9ccd70234cef151be00e2418a8ae74f0692675ddece02f708b877c4d385642712a7db5f46d7877121c8e0a42fddb4b5abe8bd008cdb7f7f0eca531b05b890cb898d8e490cefb541f2c87bc78190343cda289da1bb8db8dc90b1ee9aeb4078336c37347279762f3adb808d896f640d9718033337730587f3e37e8c9e4aa2aad2e1f018da78e25fc18c093ad68378be83455c611c0a7a513c0451280cf70e67c55ecb1b63affd4d1a4165810d31a1896d10490b9f9bdf60f388d41aaa43e3a5bcb8151549b76ae5f8588a8b31e03e160fc37dc6730f91f8311ef377d37d31c9908fe2d420291a5c163f901d27c5b5fc549a689ad0b02b2dd05b93eae8afe3c3f287b30e23f06f90136f4ba85409b6233f47c4f764a734582a0fc7a880d5a31f8bc11f461eae4f56aa53c348fad684811647b4d4f60c3526608c35651af72738cd1403ce8594f0d2f1b93f1ec322a24830aa3807ef2972ba4ce307a132de2df0815b5dca471e9d341b8517422c41c401c6844f109e8bb5018df0f5477c108fbaa65629779f3e573b351d1fdda5a6e5e9ae86dcb5e7e15170127081b973effea9b659661b41cbabb5985634f4a25a5b3fa23cac0ba90403a2982aedc35913aad3b00a16854460cf7c54c99bbc0f5a5dc2ecdd4b3682ce5c080ecd891cb734dca5af838d4e29ee18eba13de2514fb0a1f7529c1a5c79be74b139b2b9c3dab423e80df840d32d5e6abd60191e84f0975fb27e244b4566f7007c0689377bbf7414796bcb636e123616a09cfb4112247d4f998d4520a5a3270b90a34acbd0d0a36f06eb91941805581cf2b9d58d61c6f7a528c98653050ebd5e82eb7f8ff53b9ceccadbc9d011ddb8aa1f600d1eb247bf08705f864043169077b5a3fd203e4abd99b433a0fcf4781c310f96566b3c12061781f8dc2b07b5242b592338224d546316b894d9976d67b33c5d05e680b859d2ae966cc0e6cb611e64e61ec7431b9db70812a883dccd2b16dcaf2e94b329393fef3bde4712eda3671d8ffa5c0c8e86881e2e929a8171d312719c5184fe83d5bac409160c2e7eb3e60bc3e541df4b0c7a1fba454cc923521c73c9435c8b710250fda432860ef715f59306b2a885d971f9de644338a25c1e4969e90f569e146f2f92840830fb1e622fab9f35e87aae8c74181af687583d7d76532775c07a15ff253c44b8d1e01ec632262c03064596e1a418c8bf634cf22f794a6f64be5614687ff28aff3f3b74c5052ef2572fe8db0feaff1fdd5e869ad538fdad3b5e9213c57f04d3b2f0e2f74ff75d3a6948338f3b43b45531e9e072c4f6ff997d977aaf613088a3b95f987855cb7ab217d3d50b748df5ba5684719b7234c79381ad33b3559faa00ef194dbe9ad1b99584aed353ee144453d74da3ea687c508a790cf984cb31bf1a5518268f5e802034c69879230b616524e1a74336060ce2773364339aeb5608fd6e8b0bd29f411a8df0d9855e7646db41f8c18720415810f03b3a2d5934718c5bb9dec21168e14e80104791ac2c9ece4cd8479c81ced0044f7233b8b987bd3bb3bf86bead8e9f4670d44c656a23c4836ecc04a3f070701cfd19b5b06d775a8f52233627e9f92a6dd1c761ed4136db9695c7eda3110c6b608ec39cfbb58f85473a505808ca274458b4bd7ffb736c69ccccd5f590205a45d1c5a79b4176784c72bf2734aec791238b48021d545dc9199e38ae22628cdca9f2199c03287161269cd70755388e78cf53ff64f96f9f037785c51e885be070d70ea313a6948262794084e2fd6a71e7fb7cbcd4884a25ee7622fd207cecf894022f11db31cde21f464e7519d87d471bdc84892127f9cee2cd9c7bfd0571e886e487fc0f2c2eb2fe3870c2b9110d4ebc9a48effb2210b95b8183898c2a9d0561c4acb0ecce78fe1cbbf046b7c6ab0ff84844354b8e008149156a12b674b77785c0b6baf84b37fda6ca36614a3be4aea37edef40114258b9786aead85726e7797a7360b6d0ad317c8646e8010976ec54ec3950006815c112c8f23e3ed8b763a61f96d41d1c30340d928d7003db2da63d70406ae7f304a2b2b28b3f09505bc086e0ebaf8205f12fedd463b87a3b43447d12c9700173849409c4364eeebf32d625bd411033ec009e04cee1882d708082571e10e705f94b504901a3108ca24965a3d2662da389ab6189cdbddb0640b21652845c72da15151b0ccbe0970722c691f36dbf41e6a8a7fab265d792ada9b425b0b2d4fcdddf7ca8f2774702837c78874e3cfa93150a56aaddc93d87112050e10b50e729484b1675dafe86e1bfb49a80a0665fa4a12f89c498f5354b0e24d3833b563a8301574f6d549891a88e0172e22221244df4e6af289f672422f8430e599818ebac0f35427034638877f1a199a57ea3d1a80dbf48326713271571b1cfb31d7c6be4f124e17d662c4dc12f50bdfadb432e7a283ed606f857b6056da2c5f604f06bb8d781f2dfce9a037ddc0a68d8639072d977c362b79f8ebfdc5e73acfc2545d6ce8c84df44cd65791167ef81899c82cdafb6add74109be4afae03717d353f8d4c541c540cafbfc08cc82b32040fcaf20ee667c0eb89765f915ad76c3aee9ecb420834ed16d07fb878d2fa1fd2d25459b0436e8406e8cdc3781811247e3ff1a551a971853ebaa49de7787c430f8837f375b3f4d5fdae48083687c312f11deeb15952219f7e70ee35367394ec0f8f1fb95e3a4d4eb923fc6fe2895cf4effeb41aa540e5dff49559a7132ae0c425e8466fef37bfe7b22b080d62d810847e3c914feee76968fd028b83672f0f4e7bc81da9d347bf5911ef03b4bed53e6a47fce0e516c3ca02e0cb6dd4ce502b4bfc56ee0c1775860ca16f4ea81dfde54e1af1e92065e11eef604db6d63213445759eef7cde1d4d38cd7218d4a1aba28f03a42c9f33f0b9815299326d208e3dff5617957a91975d676c11233dc28943bff2fc145129d18c6a230c22a238bbaaafb7c954bff0f8d55497ee08edf71e6f68f598afc610d8e8160318703bd6fe7e7551fb6bdcedab19f274e4b44c3a8420a5559d9a286494495c2d81f60b189d1e4fad37c36b4fdf52ba1e9fb0316beb76c9461da53a81da4352f9740518e284f07df4397239cd41fb2a1a2591d2bd7c6ae785e52b0aa59ef7ed850827a2355878f612130f8c88b9438f09fc70cd51b571a1d1fff7f3198d75ce4243e8504a2906cda905c000bf2ae4fc9698cd783b8a90d665359753d585c7acee77793dc4515a1e65025d93fcd5f3ccd6327ca6079e5bf48cc46800f6896827e30e3481c2e5df5b2b8f84b629c684a3d55574cd0ad88396c89fa61d079b37aa8fe20ec9d89969a943d07c87fcd21bfddfe4982d1a50751550cacabf775806c42e5bee6e92f387205d906a2497b8e308f147ec7df5ddfee674ec08eeca026c94bb49c0256058a8c6221e35f888fcb78e1a4f8b0f1982bb8c9e31c73757bc2d188c1fc68ba9e1a3c95b6eaab63a23bd4136b42543081f2636c36dbefba0100a6cf96759e4bd2de2a5641b48f61853d7d53da5c221678a79ca8915b7a518d62a50b1229840ec7b83e54ceb0cfda8ba42e96b731b7bcab065337c87c904a51dda9383167cc52ab3bb41fd1e8579b7ef8a6c309f83022e692bf93e56bdf6892fd868bbe759089ffe94422153ad27d92222cf4de7dc556a6efce6670d86f3e22ca2387ee4a5be5dcce9e682e83ecd30d0c51ce5e441e548412d05b20d653d3909e83ce9b4d1f63aa440301b1cddf2ec8ab847307a15c95be8c29eda041dae1ac59db64bb4b998636d363872ac2d6bb4b8376ac8bbb9ae2f219792909081f3826c125cf9e4f78952d46b31e522ccb6ccbfbeaae45ae9a9e2aad22d8ada0a059d9d12cf3238ad912ff530edec9be8e59d839dd3deba8e4bfe3d4309da362c7c367d48dcd18a35bac4a3a2f4012bdd8a9e1e3615116ab86f6296f5fa9cd9ff83d477919999d154cc40ba5871e839ccc028b93f20b49a07568b58f99f86f91320a96f48be6e7f5de981d69c17942eb658c67bbdce0157be11c4ee1748e483707733d8e0de2a02a1def25d39844e53129836befaa39b0459d85022d0541ba51b24f094085cb5f01276e0d186b928e8aba0a84f75c61dfa37d17e9c931c089a6f6802a3a8eda2488bef2d24641118ada9f4dabcde2bf940ee241e3b0f1f930bd485292080c4364be2c05918a4f938dc40f6996286f9a42d6c3f6bb8eb31c860c2335deac9fa28d1e8c1693675d166ef75fec3f5b0f2b1eda4b2a331890c56d2f7e5add76fb1ab8777150e5ddd58bcdc10d1816ec2ecff056b752c137fb29ad07bad07e7d0e87cc52b03808349798d6ecfc071875b933966aa3b3c367fe3f51b09c8f9e156b90b2efb0366cd128cabbc7d1885d06430163e95d927eb393c6f061f58e6bbcaf0e62545678e3d19bd4c6d63e0d0c946b0e4e5898b962eb1f9fca44df1b8d1ae1b8ce34ea6f55f8664c0c58487ef0aba9d3c24db342a0dfac9cabfa0f7c1b895554a32a1d5a500f5b130f29e3c3967b924c73d6c76f329c983502dbeaa961d5e74e7353a2ec28c92e5775f90498b47c4073a7c13fc3381a647906c0f3cb9ae6f0c66e091b53693afc9cc855afba6c0cf48f256a02a8973aaea371e4093b71f7aa0c1d835aeb4748ebc3d8010ee8e1961f29d1e7130a8bbf87e89f3aa4f14e6d43ca4960c1031abcd3777f17746b4801be4e7875d7a92edc2c1f7171d8aeab89d9306806c6ccc9dcb7a1919a81363f49d2fd05e8a1c8b45c8e4ae8cf2f52c6b8bfaf5ced9cf6a314ef87e591d1474f052f06c234827566fa0e15182e42906ae8b1d8ea6f4b6ad6ac278c96a59052db37e1c81e162ac19c9ddcc7ac15874b26b0aeb55b34cffcb8f0650dcf2b81d7c1694fa54172990b22ac21bf8967ed7de92d170292809135980a8b2172ef6bd6123a43d2fc9ddcb3b262a6f53f5c42b74384a66de408d626cf3e288949e7fe141b0cc501c413f5f6c872398acd530175e59556a9b1adf5c153ed97ac449835656b333eca1c488d1325b207261a396b0935259ba5faa84be1505865d1cebd2c9c20816a157194094781350474ff1da117a12ec071a509e98279dfd49ed01acd0378413632c5919d2a803928deac26d64c60a595aec1d1643be562672947565f1ce4d76e875d2c8eef758acade5a9391257252c490d1e2baab1dabd56969697eb5caeeacadfe15b5382edbf53a832381937f2d9cec17708717af04202ce0a5b672f2914b8be38bf8f71806d80a4020cc6405316096f765a93470f3ca43097caf1c800de5fb1c915312cad8fd4860c23d4e57bcfd988d5e303a892e85a0922d678ad81138090d2b5bf3d74b10f426d57dcbc2e12a63f0106450fa254707e508666ad4968817a87ef054cf6caa8c3e1ab75da3b4393a9ada096f90b8defbeecdd2a5adfb41a5207dcadc6d688d950e61a685ca84d81dc97810c78e66821eac3250feb4e39f3948a9d565f380b3bed0ef030c7fd5332d36db17c2610597598b7c1e1a01be29bdb055b9cc3ee6e304cf720f5ddd422901d71d58fc701a018c4661d7ff260dd100272babebb011a6e18dd61fa19a889580c061aa8ba71b4140419ed2ac69aa2714eb6a88b642cf9952ddb0fec8bd3f258bc24906ec46c7835963fa0aabcc99afd3011809a91d4c1b0f01321a2b91944fbaa9c7d4726928b5bc66c8abc6d2c8d12501b6949aec83dc748e0bc04846b6bc6eed768d4c3732cb5c5336c24f3b4a57d2c03276cdf779076bf9113e0134133a63edfb8dacc3780b4b30c93a39445977a181df9b97931f0d4d1ee77311e6d2dfdfd086b72a36b6f00bdce02967b29afa969ef21164efc81a3f5a04b8169b5af24d9df77b2ab5841e4f9528570c149c1b19fbc2adce361df6f4280c856d85a59e9735e9c22e7260bc5cb2e1295084c962a377f9da9347a0b5490c0b90b40490ddf10d754b94b66f171948e05895093e7cf19fac7ea40400e4b7edbcb5518a423314b8ebf70163bf4adb7faa2a0b8f25a2e79107ccde57477177c5770236336e4e25ff14f40548bfd020d6a8aa9b04ac11618a399c72eb290d2c54da10e0f5e4d910f4bf6ea60e2446ac54a1b127772f710e929525488adcbb7f61286db5aec1ac9a066b306affb9826adf24862064e6447b6693a578961b73f4d67962d94dd212d42ebbee4919fc5f6887ede7d17b18ea5c989a8c8a0d548de31a50ee14a15ea2404231cc5e359bebaea16bcfc4c5c4f4307f81d04fdab41144eb7218d29a7eb6b13f0ece1e19cd9904b2594308c8dda6e6cbe669298fd6c5229ec74e14c92997aca28903cf1aac0c82b92720002dc805f3560b08808821694c8a2ea8aa5f3f2df2fb176a0d315ec7172601e7eb865a5fa51e31e01930b0291fedb8bb331214abfed54ae4260fdaf3e3ae665b91a3619081999d0a242316c9a60c0b44d2bb0d573d75df6dffa86cee272024ef096471fb19693c2e0f47c56180fcff1479f822639d2275140fa55b2b4cb290f0b2825de4510d13dd35ffe2b205ff70c0eeb426299ee3831b4080f829c8906a4fdcb958db5d0f769e226cba7af617f8e3fcd33f5ffc1dc38dfebf3983e3237f3726fbde05a74fff1b3526422f90913677a9faed6a0a5a2585005cdd5405a6d0ebf0284b8e961822c992d3a9e4271f98bbf026f79bce0e2d3df091affb6c274df2876205b5277b2add481ff75541f9981e612d7d876ded6907063855f7f697d5f4a79e753ebba5268f9dabc63cdef9a3f82039817237da19658602dd3466784cc47e296755d50aa1e1d93d0003c611aedfa0371877fd6ea44159b3df6cb1b718b7be287100f2b72efdd7e5de5718d6ddfebcc30ba0f9c9033e348cd4ff6afb5682f36d958091b1064636f67c7583b91a06f0d7fb928e1125646b5e725ebafe7c466ba750cc69efe1dd1eeefdc86ff5fb49a071c413a2262de3998f1c79b9dd3aec65353a0ae2926259f55923d0b43719bf608e5e2f232649ac4845b3b9606c8e4bcfee4a92e38c6afa30b1d18016355b966005d68b586a395a0d0b64d8d45b37ff8e650fb26e31f147837afcc87dd903f91f276e670403f35744111e381b10b6ce9ce5f418720dde13e6ad6b23afd5f572cf2f197c932a19f6760b911000f896bf7d529f223941f495eb3424b680fe48a594576bffcb4bd47f4dcb505d6348be22cf6dff0579002fb2fea791e2a22a84c93c4d4586895632b115838ccdd51456a2bda9c47bca62b76924a4b4c147b1d21341b3582009ba9a9efe330d309fcb28fb7298b6efbcb006ea0be2342df32eab80611608d7cd798311adf2600690637d89d1e30006b2a659fee640ee44e3fc206c67aa6eec73294444814cf8422292ffa10303b828f9f02d8cbf56c1523de21f19b523d4cae9f6cf3ea6c0ca4f6736e8feecd651c5c3db6c7c1f74a3e47127f6d5a49065e35994e4e21db9acf3b95e36ff43dacba8b9574fd3ea6ca5fbab83efa28db4bb84bfcfdae37a1d738ed83d9341151deb63d3e1376b1112f3f9cef78fc0b5f69c9297ac2e016b07d49ec749debf8f9a40125e5587e67e62566d319f230592a69f696845da8341a92be5e19675c312d2860385932c04b91a8fc965348a27ec6844f0ddd04c3a759b0deb2f488a1262a3b9e4707c0b8a3eebf850e40d7c5460e01d23add355d83e849d79c2526114221e5e03a974695d8d6da7ff39b40c86fcf6f4e059e0f34eeabd7f1805695a247dc5e0b992ee46abb112ccecbde7e04485082e47d20e51c9e75cfc740c31f29920978f6380f2cd7f0adefb561bf2125ebdef5ef0fc3a8b76b9569baf4b29b2d83ad3589578f5d6864c05533d89a092caf01b4c670dfa470745ec7e62d0a7c96b343ec19e3260dda4bf100fd0ec43d2b14854917d3e255045aab5585a3b9fe9c7bb24f75dd5720ddaf433a0c93ee0ce0d6be2d7379e7f263b46e7b05516d1f9d99ecfc0066955f36d3ccd1f41a919623c0a10d804eefaf5843de6d4f6ebc0343d610c4353b706e07c063d97b7068515a53c44e78a5b0ef16914ca89b44001249bc9ba837eafb870c2ddd1848ddf470cd49c36b2f3f022cd68cfc40eaed348ba699b6af99b71a39b830f1456b5381148fb99d9f1fd534d1b628d109e6f209f72a1d18b091270db523d63377af45bb67dc8ab66cb6da4bbe1080820176ca0ab211d3b0939c13fb1575f3fef327ca89c0b8e7f90acb3df3660ed31685460c647cf60cd782b32eff092408124a988f734a492a67592071f0952689927037229958f0347b4003913563961bc86bf96f052cc14eb0f2ad0499b6e7ce5bed1b6e183fedc48de76a6d2b54d4ca93ae1b28cf2d6e37a223844dd62f72eb081c1b2986902884a9becefa3a7d4f42a8416bceafc287f49c4e3700c89ca9c3626d71b142e04360e2648563ee9fa60569a9d49e0ef941827fa07e83366d642224a4aabe086db6f2ed55b764eadc5a12a1e38d5a8e70e5052fe18a012a70e4b6feeb33e9fcdd5060e4648cdac2da377b9d569d7a2ef7b705fb4b9a41bba9e0862b93e0f6f67ae4d2ea121ffcf36a9cab6c3eba4c29fcf812bac3d7b52a0861ff93ef99c6cb9692a9c6fbab67248009e730cce4ae5f634503b17db0d9340dd97bbd08c31feabe16ec3fd1483569ad60847fb34d3af28191510abc80e518cf32de9d2e9c9e26462133888d1751da2d2aa66546e64cc1ca23350a5d75b950e3c9e69315a1d01412173f2246e57d8ddc88f2f371d078ed37b7359801bc940319067b80ddf7344647737bdd6381cb89eb3493b3d4b0960ad066cfcc0da113942eebb52f0b144023c9252342189cd17555693d4c8729fa981ddc2c54b52763e3c57a29e649b781c9b38a7bec9795639256355116b9615734b175e1e1812b0a5d36f3c2cf7aa8fd02f794236c38507c7b6421c66fc8b68b50d34edc5aea957dcedb212690a5cd5858e85bcdad7d00a9bf8896e5f6f685d9bbe06ac16fa42e20c5503b90d67af82ca25b4cf818b6e8deeb5b48545332a8edaf5002e167fb4564689d6f42081f24ec6fabaf96d8424666348c400c4e8944ce6c5ffb003d36eb80b104136725b4a3b7b3ac74514497ff02e08093a8ced2634b19362841420ad60a184fe949815996a455e65db44f1cb27083a01a49db7b15b26fca807fe30c028cb0451b1367b2806de396d3e4816d87409ee946e3cda30df72cc10b309d9b71c62edd24bfaaac2bbe2189a5ccbf76512e2a46b6fbae5ca10ea95dffe884e6363083b6e2eed0ef414f99cae09715aa5b348c03aab7c3a7b4e9a3fdbfdc5bce6613fa42921ec74d699b676c83fecaffae83a046a98f4054880209362bcd6fb477ba493f9dbf8e58f28ed54a63dbd0f84c4e583e48dab9c35308b20bea549eed0e49311df149f4de3b55780ba945aefd3390eea4c4c105bf30904fdb9ee3874e73fbba4c98b2105b6d8c85c16574a9a5f8230e65d4a42c7f86e70a8db02978be437e0cbfe83763f2a629c7b0e632d994a028202a360f501c223037182bc967a08e399112c56d329ac4394d51e6d87d359dee9a38f57172a44b616880f56f12f2b1d9b89e08bf08a8bb755a6859e6874ee6beb135f2705a2030ececd1a269b8f20d8c4cef0d9bd7ebf87ee10e1b475d53fda48d81d8c0f2c267ee99a6e6303fca9c9308dda8fe6a9bdb3e346b864af718dceaa145aff61ea0edd39d2ef047bedc195e23d7a8dd9dbff85cbd3d7383f207c7c7b35c5fd0da9600da3c2cc4911791447c63ae3a68548a66874699515cffe5bbb5c2b2bd82e5800570c8a43ec2dacb2f34feb2271b85581e636fa29c3616fac3fb5cc71b5b43bca9066132a5dd740bff8c158bbf13d3012a9dec78d4e0caaebe7abc8f1eaaae072920ab9034cfcad5359eb7d0767be27cc784c1aa54b429173562fd4585efba302d774fafe800c603d8604449551001b4eda863f93b66d5aa06f4a25f1cd8418c74274a380069f0d6a115ab306081c3b3edfced83bab7237b408ce382d441afbd5b87200790e919fb8a370251117d28798c542dee1fb24cf933ab40ad79752db50006639f25b2ecb29cde2f5cdcbbd8bc4081f5d75ce7f4e9c7b6ae40a8748559e8e532930cfe7e0530109ce5d52d00207b86a15706cc973ee8853ff06acbf5cba6d21bfaf5b8aa41927fd7b6f32b0ce3b9b8e9ef6b4a16ecc5991ae58b9b4d2523355edd49a463528dce10b73e8573e03215b45769b726c5a69df27c41b02ae376bbd0687072ce83bef49dda4848bf33817e02e75483368c361894e8d1362d28f9dbe52f3900711b277e9a67784ed50270edc2142fba76f965a02aa1d66671cc327065eb2bbbfe9aa126b3a3e2a9fb5a7bb014bb43ccbaef1f709efe81d6093077d3e9fd696165f9180a5f73e5b1e2c3503be84c45f224208bcf2eb7d1c418eea64b3266481684babb1ac7e425f4ddd03c6dab6592512d3bfd0075bcfdbd0c12a5b545fc07c307c1115700d9fa240c1b6cf01075c4ee5e10d09a1776562d6732f50ee957217585b51ed5c30b4291482638fa537ddff3963f07fafba60dc573790b9e4334b9ba7ef160bb7c990505dcaaed27180680f5179f6596a6ba8f21630e93e0818edd87fe228f72eb257435b2461bde1d943075ef6fdbb0c0b3a77416795d44816d11c6def4d3662a5794bc9634fa661bc5566693f5dea3e8aecfc4903a527e71bbe32f87ce14f8dcb0f3775a5e6417baf6d6f645669420d7e9aa10628ac123f19f846019012b5418241a77adee9c4803b0a922b627ae05c483bd196a7b390365e714b0b5b3c722f69ed5f9f1c58b2c364c666873a623d8a22323b49af21879c9d8d287ddbd8d012378835521ecaca98e525d08904550e3944a3b1fb5ba70258ccfe52ec2a53d84484ba7f2babd34faf879d8c659b9891d242981138894705eebeffaf9d5f2602bc8a47ebeff91a9305bd754593b71e92a48d113d3ce893e52b6cccbddadc0d09966263026cefb1fe0bedc2ec221b8659d81969b6454dfd88edc4699277fb0ace1d707514d61ee6517a533919fc230e77f8bd996367f0867a0a2b8df0ee28752e4ac2800aab2508f80e4de19718ee0a29a81f7a4646cf00e0ff2264af28fd5997526578b04b712a808650b898095f46c60db08d37585e22741158725821cb6d62f7a7a8bbc1099e96c4c0b942c3dd6f065faf308be6a438df034f6c1021ee6c181ca761b01c1e4f334ed20d654f93e25d88d7cb0ecbf79dc8cec9deb73ab0150bb38c33e22c03c20fb829ff52cb074aa9e3a9144c0d08bc416646e23f5d02962d86d8241d8b4d3dc4174a43074d08bae91924f9494ac59a62276ed12969cce46d16caaa8fa32d035de0dc975a30e585357fc44e5b07ca47c037fbce662eb6ac542f290615cdb3711e6ed01672e459a80a4ea1b246d48569eaa546075dfb255d0fcde5afafea7657b49449d635210537410b6e069c3ec57dc4baf57c6a5705e9ac57f2f504192d718547eea8bfe71189edf1d87c801533d6e4c608dcbd616e0fce4bb908c8651d96f7750dfe42b9f224274a9e504dbf672094eb971b9bd43f875acc36c94dd720fb94788c2b47bd1002831628f456f0fac1cbc4d76a16c0576a54cbee2af4d89f89f42d39a4fe17064eac11abc7aaee5339a476adee63c46e99d56bd818e3dc4fa339f973853440d3587881e709dc7c0a5f947dd768bfde227fbdb81e90a5f0bc56a8efc22ece51a18938a16932e86feac7ed91a44558f7367a91aa6027d2434bb4839398c86d972ddfcbe60bf95b6ab2a93ed7aa7aeb8857bd1ccd591fd37e54bd033a965c861ced5f3aa77bfc504a783f57a67833dcc70f8fa594d3ee138a3e8a160249e62a4c5b6dccf7ec1dbe0163f29ddd31d1449dbb5f9b27ba012abe9c4d80a6b71823eb68fbebf67851d292b9017dd7aeb0321340994d653ea30c829cd84aaa872ca2c6f9f2cfb1b54ca88ae087e63421d2a086be025a2f7c34fb7b9c890ef8686b19a5d15fd246d8ec6ad3413f7fb8bb5d0a73410a854ce29f6291b2fa7dde4048dcc8418b4b8b2306eab98344d144a9ea465b857947cf76168ff968281ab11dd99a60c3ce7dd6f3d2310fc7f65c358d8c12ef42034db91899af9030893a6e9e91bf267f91bd0dacee90494f40df0509bf2c41b3dc4c9b58feb7101518fe8e20e18e01d0e1e4d2d16cb54b7099a4d6edfc4cf37a6770213efd400b616a6908a91f6bfd30c7b6d7108f1325b645c1717a31f0c6c39e7ecfbb12b653adc4f28f5b6f45aa0cfbadd4e0c4908c7c7547afe376e6768d5bb81eb0c20877a1d0228dbfeae2be320a585c83f9798ead5be8f750d7942ce7d8413a1b3583774e800ececaa22d9907fe9ee82d2d7f34477ef587809a353388332b296b1b2a4c27dc4e2264f04a38628217e72d1f8f6cbb3f4fb65ff8b6dce9a3eb135c60508047abac02455c57fa4795aebdfd4ab3d1d0d0e54458150c2a986c5114bb332c3fcf96c1f48d998c1550ddfb4c18e93dd1d43ad497f195e793e32dfe9d8273522aaf5a2171e8767f53df69d56cb61e6c4f9b62ced304eb87d1ca91a3897f455622aa1eaa02592e2b8c7cb4769b63c244f30f170f24704a693f32c3c2a9efdfbdf0d6707074c7b73cb9847126944d6655ce9cff17f38b6c24224e43dfbc425f81837f65365178d77540b6366ab2f2fdbed39177aa367f2ed0d3d6cce668cd736bb8caff1260e305961be012ed3e3a5d298ddc41e5eddcf23614a5ee959b741dab81193fce743bd3fc908d2474adc2473892cc55081fa9005f683b011f4e2de4810d42da6448eb3017edf7c0b205b62fa4130cb9d77a8adebe7d6ef3b630401f3aca21604a0198e7a868bb6297211981abaf795ca3ed1346982f9e1b68a50adf88c3bcd8f814dd73e26dd9decaca0d19531a6e87a0278aa82358419f612bb9cbbcd3a0e58b2bbee9336f67057b3983532ed85630f554a911d198cfa673e311740165e07724d0168605cbeefb5faa6dd79c47252ec47bedbbfbc419caa3212cc7685ce12e2adf0f466b9ea330dcf06003b750f65f0e0c6f814e61952a6fd07b9a78ffffa837435370d6fd623fd1a7ce814c2c75d68ee3dda47be5b6fb15700b8a8281b88e4a7faf4144761cb0c80c236df7de7e59d6242234669b62f8d95e7569e05961827cf65fa2e1f3a1937518a8091e1c655d42cb183f002d10565f8aa216b0bc6c657ae877dc4d8a59d9042d5aee8972187c94b4ff1e2d7344d7ad3d1d8059cdfd45c28a0b3da66b3ea2998d9ed0d0727eab229f477c1a7c35373973d7473d4b7e86ccd8bc069869a45af16e6db63d2d9263da474b73d2ff954d7c159dbff89657c3f009024ec61b19e666541914c64bfcc1b5aeed9f5942ed0a6f29e8fd776af5c39f4294340be95d4f4c3c78544a3869c2c4f678e9181490e0774b4f94548d2e52115a0327ba47e0b7a2429f25dbd15efeeee784a73e1c75a11c4f276ee9388e988b19c357ee4d40636519bbb9890fa474b960a6191de1747f45cd589bfe0e46e603f6e951e1a7cfe32e894890e5be1488af53bf8ec53c87ec790590e100ae4532e3de9c19a6eb9fb466ab9ada65bcd013914f8ccaa5a09774285e818e79076595e17c4ae380710ab8168256b8614e51d3cadabf60ee0905ff0cd19943725c785d3ef7949e557979a7a2f3e9969ebf613b1312fb4cd010996d30fb1f4cded04685444d7b06691e91af5639317d234fb58d7ed14a266d6543aee68c9bd3d2a4a6c6b68efc9f5596de1d9dd9bc3379ac4c8ad7dbc6c3d09b3a8c44e27ec22257c50f95f78dd13f190547a5d1cc46c2c36222c439ec0fd942fc90cfa558b914c8f4e767d525334e6d679f292d69a4ef5798d5bf8af44b796a87f59f453791f9961299fbf27ccf413e439142f8525b2c6fe644005bcfe8197c7b2993555f9c6b1c9a152b33cff560350a654ef3c826fb164406f1676847bcda48bcdf2d5f9253bd87066b2bd58063f3c2deceafdc404e45d0ccadc61e2e500dd82c32229509ece9d189e1997c23e9033400c66047d3c12774b122b01a596a596810312b1d46f858a11a076fed8be677e9e4e4c10abd31ec7f912b5b8301c74b36126fe1a62c3111c93a5b192ab143e259f2556e0cea60249b6e2e817236b493d6787a4d3706425770747c5a7c0d94b506818c3dcaae4926cf3e0fa0aeea019ba5bb98e2b4b36e6dcf202fae413f9895dbb184e75de9d6302642a93295b3510e65a2c6255924b04e0b1aa683f4d77e2ef40a5f8063c2ebabf53a995b5c6e805b2ffce4380616d7b9553f14ad17492e99d8cdb0b5806dbf8aa8be1d71c31c50071f3def0c80b712a00a4439ad75a52a678135ca561c0e2192b92115c2978c0242e27043d1e6d76442f90ce9f96ab93b5cec73595574a9c92372c23aefc5ca2660636e9e4bcab24334b004400b623f6b84ece635996b5450f8cc5362e59ae96214d9a3d56f9e4aea64ce35399e0ab7ae6935452e6940cb5dc21497d6b6435e6e5fa3d3eced690874075db8af3fa52d4d4ad4b93a874f05db947f03f9d0cba251fa97fafe85e49a5960c685280fbbc4f56f3e65b651c6be422c5cbb305cbddf0eb83ff2f16dff12990610289a499277bd2ca2d467e1460f5da89deffd1d4c12396068cdbfb7b63acbf7963e994aa955979293205cf00230c2b807aafb0f8e040a5b5ca4763099e94c64f7a79efe554138ba18f661d8e4f60071e340ca2d79cf8f569b0be9c47620be63f32312e93d96ca76bc06984e1c8fe15a92bc5474d1384932fd0980ffc04b67364a8a6983277961162f5232ec1e692f93e0cd92fbc5036726977c2842ecb9f1e172e4dda3c724e633dc3282f78e3d99d37343bc2d98be345cd75f19b38d093fa8b046ad324ff683287e6e1bf1400c34d493dc9a22726e3793e823b52f5d5e688ca6e650951568ebe8870047d4d5d94bfb296a1295ffe888b83b480dd5d1135910184899010f6652a612050286ff89d525723c781550b8672038498afc4970921b67091f05799e17bae8cfc9bd68d46e877402a742e61e61cc901c3015af1094e93464aae422c230829957b1bcb2448a2208543cfecbeebacaf7eabec2e4678baf26b8e7badcd5567068c4d221e30ccb9eb0ca3a23c6f550aa61a91cfb4131b39a08410cecaf3cf4b6644802c2b84959a79c482f57db5f6d9aa8f4fe7d84d42636bc809b457f847d3fdcf98ac5f148f4b14b23dbe9f0a839ebec082920c2292d510ff8d3e2b71fc265b276b7063bcae2177d84026ed87d20cc30b986643f09659a24b85c27587f4c5a48627c71645e552f967fb408e770015149ae27f97e5be01103ff451dcd55f5b7fbd02815d89c3c528c7802c902e7f7fb7937105610a972c04a8ca93fbd4f305ec9ffb31e331f8158225f252a05efaa15b598d57c0d06c1e97d678b02ac183090dc81824b478e29de92cce52ee40b0be56f3c5ee162782fc548cf9bcabac1ecd8982488b37584fb80c95d335094753d7fa4cac25dbeb89de11845911a29a64b2f40c26fcc43f49cc31157d18cc422df64545e9e529e88986bc749e3397a2d76abf3805a0591411a63e1be1c21437915d3c4dbceaa5c39afcc4b237682ac5e958ca96982934bce076b56c0e66fcd5fd928849271528294bac30499f3ae2cae8791a1b08246a333e9e32e850671695a154ffafd6a45791451bea6881771a09c0a3395ffb3eeb475072a2b19b6ccd7a226eae86e803c47e54ff61f625b2b2adfd39009b0191ecf30528b02f1620acbaaf131aba137546a8f41bdd22f1542d3a7ab595c3923c56dae3fddf7cd8b4d7a4801c9c3abdcf93cd1a4e2201de6583aea072fa03707f4720a3929b18f2c32b3e1118213008ba7522bbe82a538ae39171971df6fbe2dc4d076ac1f029d268be6abdf549cb066d54b1dba9c94c4186e17a13c649413e0fa037c0bb2d30f6c2009c97c47652f8c26ac6f17fd6865d6ec37606b09c92594acc5ee38a9c18a9e4bf97d9f4e8b20fadf8db0345457bca86f3e01218e2374c8cc87b5057ceb1fb7d336ba64330dca3d4dfb4121dc1be73aec206622be8037d6ea0b53280a32f6abcc39e256b6033ce09fb2e159f8ca37b5aa3a9b28c4c2d541a7bfdfe4b01b65c9a1abc1a8977217fb449888b4ba70279a2eac0077b8da0b23912fb7dfb555b9bac40b30a526e01a0fee92499609a9f366f4d7a96c56f20d01e70f4d050621472ee7c23ad3b3cf3c6a5d1114257bf79922c38abfe27b68145626e268905882622b26a267e359b87250aa4bc7581b361cdd0d70271ff5806cbb81cccf30da9f0b00991cc9a2d127a02bf1c13596711937b9d9bd756554fb4c77ba0cab601cab0def69413b932a26467f275b041f2b1e8e077e457c8baa8e5585dd205a5ddd015827902951c28d54e5bf1112852bc074626a04a60385f4b5c5e31912d7aa1ee46a84afc61a0135c04baa58e7dfd817832ab93c72b01c5adcd2c19000d14babffa0f21cf6fe59d7a45e14ec874a802b0ae28284d285aa82826c819dd9051f553ef93f596ddd76817da9bef9c1767a237ebe8a68e7e7aa4ce0a151006c0a58739969263362961968e658d29b1ad016d18ee67b118ac8293140c3260fb1dc2b3595ae1d5e1e134d7b68c0155481e4307cc75503c43b51e90b1f820f91bca83adbaec60ceeb23257855ac00d825bb24bcce3eb9d6ab5716073b14c7421d2748f97868b4f25fbeb60a70a5fe2fce86dc3915061eec091d1ba6ee1b6d1c73c5b863ac0c398a9c7a286440350408d39852af2768d27a25f9ebcf400adb1694c4ad","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"4dbb1bd76985864d82d28c027b0d0a82"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
