<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a3fa69af8d2684ad26f4845a3010f302e48838536eb44f6c854c7089515808e2f6cd3e766d0df92aef2c77ede51a1a4a481e69513ef09f8e0c22baa59026441a48dc4db7ca1859a664626838e57d59561b761c5e2258e24d1ae1b4b0f63537b8c97142114f50c079666ea7482ff11cf88dbe1d446d032d4fa38ffd8b253545237093e7544baae52924a48107e76b8d90fa5437ed2823c3f9066557c7ba8dec2a2c1322f5f45e326fd5fca3f9c06219c5f29dc50a15af584d1d76f14932ea452ecff44f581d7645c00d18e32fec7ed79ce01c69cbe582615bdccc120d412e7abd3059d823493836d12b06194662f294ddc5ce1469c98e0a7b48905da052a4f846fbfc1601aaa61294c2016b3e32a883eb2269450a13d05c9af6f4700403d1fd2f281ea5a11547c8d168a14c859d2c1ea31ff837e351dd3db2751473a78fbfc2a48c8ad33f52474fd9e6753768f92619c8ebcf80929bba54bbdf2517dc06fca88b4a9ed6b287a80c0e2c5f3e4dcdbebc6074efce9b31523e2f8fbc4acb8435e33304e9bdd6a0ac39682ce1e59bd84b11775535046699bb76881897101cce8b1b83481a1a40b64d5a81a645e688fb8785a0e328563a64d86de82c05ee6595c3fecc19ea19b1ad1b3dd05c61d4037f7280ec99f0ea41ec4e14f1ad62387475509b1224ee7ffec38afd84c955e850c3ba6c4d26c411d5055b9e4f284059dbaa2af4fe0be6f39d4b61703287121db5ff3fd700c725acd3f33d968bf4836ea6bfd23d65aa2eca3a603e1a5d4a6521cbe2b6efc690ec761aa7a08a6a87f7cb498fb5ae08f0bcc918bc2c6e919298df176206be3428dc6b82e2fc5fdb883cf65e1d82e06aaa96ba5a3fcc41f427b3e7596efa1fb6aacf12966ef431f58bfa9c513594ef29d3f74dbcfadec88a0dd7e6c7fcd8f240b76c0ce9241eb48db3a9a862301c02503f6d99bda16b93fa1388dfc9907bc806e241e853fa1f8ba1117197d63f6412e0ff94f92827e7177de36e3c4bb4d04e5bc90d124cac2f897d8e81051a8ce7d345eee591b6eca69d15f78c809685d935e4a192c1e16932e886b7dfc1cd77198af7aa22231fee8ce0a066b3db9aa90ce15dbaf6696d1637cde85d3d01e86f883c5cac4b9e7a452d2ac631db3c3eed6015efd0971a70aa20e12bd1c06f8c2a274b7f8c38dc61ae5d74e060aa5c8cabb4de40441059d0f9e95e204ab929c8d0c2fe08d730b485aed9be169b98af223cae779e55bb5e25a078c5375768e057ef66343af496f6b61ed02a3ef5a6ef3a382e21935bc712c2465c3fbd78571bbe7b16af4b7e4692bde4274b228c295c857724adc97fb871d717824854550a4e43e36642f210de728577099a4759716d8ced925e423b1eb9c625a842a44539e275bec4e13735e661a93e1cc1a98ba3b07c36cfa353882223e5d43dff7efd93af2dce00df7578d07022e4694a4a00c19db035ee85bdefe280c8333a22b976206d64858bc107935ae14cbd4ed6290c7bfffd253e87d3b92b9cae8b161e2d1b10137c1c2bceb7093283bc809c55de37921a48eb4b31bec58e7dc964129d91f4fa033241d95e3a26e7fabd5d160a172b2fa02abaf7bcff81ca5b06ef933d2e9b0d1edf97c1bbb807799302cb0fb435562c53cdc1614d0ac2b0462ab26d4a2d1f9898aff5431ffb5d46038a5761299154386dc1e0f4bc03f87fbc30ee4171da24a7a329d7d9bf984859451776ffd9091dab937928485f2a44fba81673acecc0750c51da17d291fd51b05bb4cc5c0715503d5530597e4394a1224dac8be7944a64f957e82c42d688f8f211976d661734475dfcd5051593a3ae339da88ffd7f9dbb5d7cb6a2f3f70516fd61d4c55b0b983e644caec25f6e4eb9858c5a6004ed8395bd30cfb78319d789eba5dbd4e1d9382ea86c197f9a86a29fcf7262aee1fed511f2ab471409cc895a4d64143d5a53c7a485dad3daf436e8f955f9626a561d8de2a071d300c7023a1e251c11503ad1f75e7898699b4a3dc523bc2c518cb542e5666b2d390ed50871f38350e7596771b915793e2008285f665870b10c08e6cc6fd8553cce93be8f50a392037a8131e24396f3559050a9ddc042fc47e3e51a27554590e934693a7291101418760c551bae728db01b68f6efd00a8bbf64c73ef3cc234d9a81103c997e141017688a8f56380a4f95e4c2db9d3c57d15e9e378b70d50f20c712866dd8bf1c0ab78a234cc09ff39d55e87f7c730a979ab6f3d92892f3400ea444c088f8f167ef8fbe914eb3b57ef9a0c645bb16af81e7ae885ac0a47d2dca7867b58fbc20f6980c673373aa9c39a3c7cc563d1e5ab6189877341e14d28247961e214c1a439d84bb55e16ca216570f8f5fec093348c918e9fbf7c7525a0abdc0e2587964b2e708fd7ef5922685006fc6b7bbf408acbf575ed364164250e0f35d332c400f25e516274c354e8dfebd422f8a931570e3c1a31e5e332bdfdaedd833d8adcba6fb0563ba82ac761c392bd6099d7397ca2f3b96f82f1d87456ab24dfe047544aeb48732e9f75d6e9001fcd6455cc7db42a858cfc2915c60dfa0e22536a6d3fcfcf0a936e57da549298c8c908ddccfe7d9cafab8594acc4aafbce7dfad3eb65776f0cfba0190da1e6e8ce80168ca67f5119feda50540ce5f87c13f5f1ffbb57bfb8b504b3e7cf4122241e4decde04841072495845f42f21f3ea1eb8f0bb11a73add8c5d0eeb08166ffc3197cb2a884c91659e45acda64019559e04683c706a8f4ba18060aa24decf80fc5611b08b7b2eaf318c403ae97c4376a306107f359cad45ac61d10cc8af2d3c9e6e178fbab9e9a4c2328309dace83d47a2b81844d0daf1ca1dffd933ea9be068c416f316bec4e0b87dd5ad2f043b52a922fcbbe119a3553763a787aa2451186b117e14fa901b64dc286e9357ea8ff5462715b35e5da8cb589f75cf101225a1e06772db72c330b441cd431a2d59a05a64fbd0b6c18be5b18ed38c172b415bef11650551a9194779528777d6f0923641273fb0850db64f545209c249a67f91e8a5d5a43b50f0734ae64f1e071ea2252a3c3756f4cb05c11992dcd096f1215305925737726b275f481efa3991980cfd0c0696a1d51fe5a5f48ab161b67432282df070d1466ab679dbcea3263c40093d7d971a1a614cb5b5bae0ba29e5ba4a3be3bccce7f779f54dd8bdf13020120baab4849f665f777cd75e648cf38c3ca8fed3d002e1286bac73752ad4a02542856357aba39eb90f42ca3c6b0d7262b84c407942d8b0ee0499c1040a05f689ca1abeb4f1ae5f2e020fd431d6397c4cd20de93befb6b26e99118718498e569e42a079ef4e13db0c954783af8a10ab8bd0ce8c924bdacef5525ddebec9ab4eac49997e051338c609ca1bf992c87d67ad1f197b17f271e7b61f21763a6238c159bdb6685e65b181501fef20f6f5056eb7f10da96ed5d61fefbca13ab8b7644a51fed705e3a8f2953412a34c8785008d6ee816c6f3e92c3deef379587396b83e84520f4a0473b4d8908151f2c645bbde4a2812e7d764c6c0990f9dd3fea0c0a477ae2c2a500107f5d4e075b7493dc01855f5fde62c3b524074907aca835844defc3fa424a99fe5a6242a1a00580df0d89f923d4be9ee7e86b7d161dcdbe593e0f94d07f05beac02e7096ce3283ad6c81b8c4052bd8d51c28dcbbe66df9f810d96935790d29a668fb4f049217b9569b8b3c2bd59c98f7011210ebb7364dd1dabc7477e8415596012d29dffdd7bab54d2e8dfebc163f4705f6f9fdfd44ddda85c8b3e1d5fea4c51bbac7bbc1540efdf9b8d7e5f3d41a457c5e733f40b3258bf363245d92c8fa95fd4b6521c921f89f608a810fef5b444f85dc0235ae0cd254312d08461b73d982e33b4b336ca8caa980688e74d61e8499f202afac779c74e951d4d6cb871a2f6e46e2bd7311c4038f51475226834970580a47baa26d4ccf34c8549b2d9970bc18051c3a1e4c68d20efd2359c1766b4ffa6a579e0e12f726682420f44833614a00f021d32c63d1392812f9a63d6b3efd852278bb44266950fb602beca52258ac57a839b59e381981b6cb4e570cd09f22cc4a7676faa486d0959f5338c611ad69eb74eb8090c5988f0e8b380919bd275a13eb81ec149bc3d3da033c55e4d926e063bade08549e2eae46a7b9565ad72e7444d01eb580935cc3c6f906488c721e04af143d4aa43caed28badd6a7d863ed3be00e61179ff26872ab50546d30f478e94037dbad1353869441459b8a616989d4834701aca7997c226552b87a84d0982916c4598210134a7ac9dfe70a971c57a34e2aedc74b2a1cb7126f7f169046db169558220fddfce99e034c688aedb51a59bdd672d512eb2c128d056384ea5dea810a6c6cf6afc95ff5a4e27feb1e55da27cc81eff01f3d13d7daa8e0ac779bc68069ac667745c482028b15221f38c5a15f9cd60c69251ab8fb036a1c1867657d0141f7e0bd910822df967ff52c66d3a34b6a5d96b6e6aad7d871b9a3b902a26fb19578641c971cabdced52d1fa160c52ab1f6e2a41403835f59b0b3bfd7959b06acbe306513b56831e6dad33a6d4207428be271eaad927f465f22df92d09afbccaafbd4fa1897f8740ec6348b94a1508370fe0d3b889f404edf232c5730af66dfbf03bcea2cdc419eddc4494337b58b361b5fea89d1946c4529d7529381a637b5799a11f44c099ad9826e0565e7885d6ad588b73e330d72af1f99ed76bff06c3aee972c0e27fc2759baa8525b8f124e7b44e970e780f89cec0aac3d832dccf9342c7222c98f34d09a60a0873464ff482d196f35ea3a2020ae490f1b80520b101d9eed33abb5fa69a8f80a15477954864f96cf13922077295914a90e6eab8396964802302e61f7b4f65e7ce1dfdfb56aaa6c60edeb42ce5e1881977ecc9d9e36b2b6bb9365f28acaf4a191e39e4da1dd558abc2e30cd7c77f51e4f5ace2d66d374252baacb37fbc5143317b49a11ea7f785112c13165bc77f5fd9509032c62a5e12e012b6d84c8c29a0294b8e98d0cff937ddfff7e1ec49ae08699447a6d85a16f5c683c908ff405e4d4162c4c685a9c852667f3487cbcc6ff902e42c94a1730c7c2db5c0686d45605d091bec1d9f22f3f5fc662648b420f66d70739adfd46015143f998667763407373b3dbe47d497e3ca551f7b26f5ce8f474cd6acf609aa4d815371025b55bcd2924b38f422f62be3fc1998aebeeda9c506a0aa0b1ec8460bc25383ee408a91030e491a8c606e71d796707b5223ca26b714711433823f01590899d7a7fa8b3cd7d68ec9eb8c6ee9aeae6658bb663095d22c57ebfb78e7a8779fbfdcb9bb373aed8079019eaa79de8e7929ca66dec38e8565715ba8277a7c24e56f9c8a8198929bc43dda4c643bbb3c2472fe52a6238df7335206257ad90ceb0fbccbf536c855def38991f4e97eeac85cd77b7f101d9eb7e2672423f248e23e72f481f2ea55cb5ea75dbdc511473b3c1da0256431cef47c79a07ee36b531dcca92c61a10b71f2157df1fcf9e6fb810e7f8491ef7dcdfd76c12048e53a52bae4f906ab55a3fef24e4704c87fca114015c9b4b64d69153a9dcc657be9b82cc1928492e48bcea6f73538545bb4fd0ee7e308b2d6fdd7f20fbe0583094f94f62cfe1491f010b87c48365f382cd66bbf53397ef112f4071f1fb392f80370bce2a44097a0e7d8597aebd5e36bac740b9a82dbdf3e840276837483ae1493caeff59a474d13145430a590d960e74d483ace7a0c392e17314149394bd80e87d433cbca79fe307bb3f8438f4754d254fb8c51e1fea527ec49e4cd37e49b2269856fd57abad83f99901cad8e4bafe385953613a1508c8666f14ffbe05b718e21f52c8ad144a72375355ac1bcc0ecc8de119f4da7408ee0e00fe53bbf7abe3461ba568ae1733d24b8ec2f821906bce290899eb43b308160400aef085009472fa7e60dddb36016175afb0614ae00fd6ed2febfb026e2d0fb3e84e3ab68f092eada9d56348a758867bdb81b8013c2872912f6d9496eb13c65c3d16978b47eedfde7f875d270f19c5e97827d605461204617294229c9e472f1db4f90ea201118c8f838a09fed2e335bae77a1226a577c63a8d7e377a35436c631beee9b16e0580d1f37a71a51f512f2563f2727b2aeb86c323ef348bf3825409b85c0b972cacca851980576b203baecb4da4421865d6faf76b94f3986f3986bc2d86d496f28b6be1e4b6f97af566edabb1ea3ca7ea7a5019f61c5804757e2dabd7dce98786a8c0fc507f5d4e34ed4bee56dbd1704740b0c0e3dc3d195ff642a780bd4501b258361d20c95e8caac4edf1b7f2299e22cf0c5e26321bd7782daab112c3add2133e1364d315f22e08a87f0780a122d8cd3bf846807c2065d8e4b073444969bbbf5da226c58ff8421c90a325bdcdd08171bfcfbffcb7fa08367ea228155510ea0e036ba52d1c4df7066e8162f53ac10c3f05255777f111babc5aa687ce7479d3a52ef19f9599f34869891ceeeab97d21385131d57136478d9e34dbf1ba780a06e78d64da4ed07ca0cf58785dd7e1f1526eae8112f0f583462ef8803e7e12ebd32398ac43925cba8e5040166c3056370609814b538c456d998128eef2319df68ef44c8894ffa378f451b8226671bee00bb72a990a394053e5147ced08d7eaae8d82ad42327fcd437c71a8f3444c877ce28a4de55ced077320fc970adf388af6ecdee34a35acfff5768be5d71f9aaba82d488037815e943c7e483199951a1580405ed82d784bbda59739f6b6721ead8d55ff0bef500a4f49149cca88bd6c0a754db3b0799cbcbf9dfb09825977f6a7d89efe41e77abd773dce1d698eb41172d814aa3632eb64f5449d9b8f1386429a8dc3d285cb76d916d8facc1089bde05e483a72013985e8683f1a32eaea3cfeca41ca40bbe6220846300bffd99e105149db483ae656bf395900c80f3cc6409634c61d3fb14387727023b62e07ac790b4cb2bcd871eae59dcde37d44186af2e80e5be11b7bc8498af6e019122be9fe774837c2a1161b6e2bc07ff6ec440ef53f1abc1b8a67ddafaaa32feae6c0b73c6fa9c799542a428c38b060e6c9475ade2fa7ffcbca715fe0239db360fad870f4477510eef7b55b5a5c5aab8071cbbd67d7218b0b5e7477f8f3095c8f124992590f290edba99bdde8ddf5bcdcf9bbe170855d381b8adfa8aea8df72100839b18d9a05944b14c08fe5b44e34cab04b6bf4c88359eaf01a24510440f3a5874576d463667b08bc01e96ef1e3006bc6a592618bdc0857e936ca5dbdf4b52c7d21e56057cfd2ed3f7dcacd7195dfa0c050c4cc7086c18c5ce6f4a530c15c77fd9245eb1f73d840885e88766a9f06569c462120d6e7c19e3d76c5e8cb1b19312527bc03abc4839251fee64f048a453314d911c0f3642c2dfdcf9169057f42c0974cf6cca9055448066f15f0a6a018ae460791b4b14434d528c5e5bb60271bcfb0c9cb8d5160588637c6a954715c2b69331197de9e1c878e3b5342b6b55c82769b06347215a795756a7d276239a8258cc90567bb96e119b89aefa5213bc949de8400d62dc9193f6de31db3d9b65594b2edd10872c5be188de5ab989d1bedc6fb301d8aa494cc995d8c72072ca3d7ff01658a43c072886fc66f399d6fb5cf1bfad8b397f37514c241dc6234f0ecd2dc034aa9910984bc9cffded0bbf32374ddfbc41e8a2e2f8b8fadcec1d52ea0604bcd551b46a6774202bb73f4b9892ef53a7522ed2ad9fda41f3b7141e4f151b1c88348f3ffe3293fa6a4cc24cf1f38a562d5a21fbb32db5dc0f308c391306913c21990ba8a5051b9613fc2f2ab6fb0a9761b6db30d83b288c7a3c7a8a89463b836909e49f919a9875dd4ed8266d4f09afb4fff89f1751a1209a8d44400c0cf5c672906659c31ace98b9eee4ce2c17868c757ce6ac707145a998664b32d8442f42768a65077e4279310cc8a6e6b40871e545f4fe8cf6cc3c8be1a5aeea107554507465098af959a616c03b90618bcc037ceda2028fa1d3bbafe7ff2cc926e1f2fbffc1a4c85aeb7b0813691d00d046eec994a7be0c75b7f794f73685d695725854577202421b3650797bb87cc060c65d85a787c9c6f411ccd508022c0189562d87eb7489c5cd28867918e4fc5378c99b6afb5b020c14d9614c81fd8f4e69bdb0f5756152ebb382f55c79cfb27d1d41571448949b8976d2d1bd18f32308e8574e664870afa26c9622e15d59284ee186734d4c6ae9c39a683aa5ca7663d0924724a8b6fe141dc9829fab83d6e29a32475bd76b0d73e3d3dc611fa2cf701fb6ab9c85e66314ebc67280f09257ab8d232a3555eadc2a712424b75dde0d1da3017e634ff55d01c124e7a63acd7bc16821b1a77e3d8564606cee7b7da47b01d434fdcda070b5e5f8f24cc8fcd20ed72d7c8bc8d8284ebdcbaed2983c496218810d83621ffa69342242d5fbfcb9b03f2f2384af9f6989ffa7941e45bcd256baf2fdf70f7ef3990e2ccec554f9d5401b7fe9ef5c8dcdfffb9e6d4d87d9d7043f0751dda382085dc6bede94410292c21c8673bfc47bdb438b2d2bef99439c785eaa38c80d90160fc2ff2dfa5ef9e109115a067a4ed10b9b972ae03c3be093d08b279a113a08c82edde8cf1271bdcfb49be7b654c860228a8d0599704cdca55591691960a91f5710de3c7c8008b182c43f982b9d4f0cbd560fd317ebdd22ca0ffda1bc6432c59dee6a6cce2d8d8679d3b8148e2244e477cc2bffabd54ee74083ddbabf90341bdc7063e63e19e947001ca121f790e7d3d5be6eaa5de14a3be9e0a46860f76bae0a208f8ad7e7e601cf2c090b34bc95081ef51c8de3c4a1e026df9ce3a2072725cb33a90a933694b70c87ba5e95fc65162f2be92db6847edae6ef9b025c85665b745a78e163058cb0857604ba91b70f76881aadf4a167942a1e8b3928b9f407645c40fe3cbbba074622cb3934116159aa047327ec7de37aaab5915ed7336759db4056b24c0930bce60974f35b23bfb8f0ffc57254e931b50aacaf450ac256274c68e245f93e9e5e72b99aee93957de627533e699d6c32bee7a9ad9ca581c8c23129629d270264fdcf5775c3271f5f170b77e9bd243c34a8849c2054bf57459f5a7e3d9f9ff5e2b29e6a31869eba6b8cd63a8a56567410ee00a6a1cca6ee5f67408b43f2f064e8aa0a2ddfd2a6cafeb4971f7108a55bb520abbffcd54ae40a5e7690aeebcca59c195283b86b38faf887ba27611f68b8c36bd41c70febd29d7f8b83f0e27453ce2a01e23da3865b2e1de34072f454358b8052211a3a99bfc2eb7484e68633b3bd8d8135afd4a159a47df6e0897bda5a93e7e7fac51be4637edfda62ea60157c0eafaab2dd0e2e4aa6b5f6f190a6d5c77e6c494a5ab57c34250c3c43f649af1466ac08a2df9e6d18b1a483122bf1410086346c84ca551c313de7b74619553aab65534a61f281f05e58f7a51a0f39809af9399b1e3ddec433c6706f4158d422cc3b2e9652a87e905544a164e253ecb61b071215367c43732cda06669f1fdba002e83b2e7e2c8bbcebc73aca47b07dd9741e2afbffc3b712cabb65c9f68acac3b36df81b45f9c32ca98b1e3642d0119e602632b61fb199d88f0f22f269a32914661b0dddfee0d2e450a4ccb0cfaad0629d5e77dc36650839d47c4e0f803ea59abf8781402038543f65e42c5dd465ddd0e85a86fbd66658e08fb343da3bf2f0dc8d7988f834ac1d1a999de287462e09138e622fbb84a8cce4913bfc6ff954e8960e1ee12a7a33898b43c16d2ff95d2c7dfb32be9af94d018e21ea8a8bfce66688d1102ac0eae24302c79df373556e12cca57eb58fa247484f857d0ffd83350e864e856a7bab3c425a808a589adb35d0bc93c44c49daa9c6c52bac5bec1914520ad26dd2bd6fdb67ad83aa56103ec9fee0370e64504f773bea804d1c88ec359ca8e2939a7dfb54dcd7e2e658bf7f890873d1b567a1b3b3da424858be48a91f31339c6e2361e96941758cfdc2922b5e64a3a8a4e256ee979b9f1f7142b9c74ae78f44cedc143983ca50f17054b0b2aa5702f3582a612c6c4678a18aa6ef31c2c1512b0e608cdaf57af28f84a2fa8fd109f9a43903a71ce9f1bc3872f1d699122005eab810e266890b4d402fb162f509c7d6c0b2b7f610397f32f3aea24c37a77cd9983080ab7fc56f918f741446d2b01ded7b3f190a8fa65e6ded027193f7268048bfec11354d591246a90ed03cb0267b585055e144bde7ae4c275a8a66a04b695ccf1a0dcbb02698e7ebceb4c374712e5a9d41a641f92bbbf8a2aaab4fe6e1c3984a39d3df0debd0c21c8d2dff4758ed8fb04e76cb8d53df7c74329a81046a2ce2667f14ccb1e61fc2ad90c508491dbba25fe79447802d53b6bb809881eff3516302364dcdda80eaee3ded9e9e6c5ff4c73f19ae830bd31e93875fa655d55e41a1433267a480a9bf35e3e423311cc3279ec4e1b1cbceea5ea29829d36c08cf96c28f9ec99c6391478aba6071dbc9aab1b7658cc3b74b7e7623079492769d4e4a1aef24189fc9dd67b5c9f490045fe657d10fe758c73bec496bdecc8b520a586d723abb7fb19330c61df8d383883c864cdcc261b6b37dbac9075fef9a89b43edb827dc4762f83c9796498d8aca97a629df0ba6da87f28b4c95791077e104f6b889628d46e1f380502df665287997209bc0925aa56106aa9b6ea9a687cf7493c2ac6f7f92c78fa00258f091bf1747b649a24839e685fc093b2c5b9cf34264d524950670b6df86dd5b623d1e91a33c8ae7919a3b421579f5a9e1ffa1773d5c3f45d2c8247332de0b3dda3cdec963ee6877e9db8cea07848710c6b8896ee4f8519b7b841bb5540df74cc5b1c73ca8786312e905d85f2dff8757e2888a75a56da401c8f70b2fe93fb8a0be05c69c5850ae6dd974694c758cb073ffd9d005d38031a8caff22b98e7209a6dbc1fc7f522a3797f0f8ee69adb286728d8419378f8b23bd91be89b82c730299edd616c0eab844d1266305051c87ba5b0e507b812a02071203510bd7f8aa96fb9ed692875a0c561f444532ec58b4599b59eac61e6db255d3b10de59c52ae41cf8184807430ce967dbd628664225af34a681b24eba160964e182ad69606e683698a8a6b7d498db14a661d276ee1be3df0acd75dcb3f77f905ab057ccd76c1bd266de6948c2f0d3a0202ff51f9808584130880b34be209a4f515bd74865f4fec2ba5497522fe9396aad0a9e688b4724e2779de0866ed9c1ae42810d45d45e5bc891e043aa3cf9cbf2231feec0d2d9c364bcd74417f3ab05235736be93d8abacc2740294a641c88079670ba3eb079dd849bd3514b08b4f4f55d76e7224c7d8242a92aa37007f5d30c862c3359a6b1bf6ad23d1d7d7df0fb3e8aa8378b294b161a490cf9ae27747d1e7a632337d0fc31e6be063b416ed76f68574325f6c88b2e23e0910f9cf3188c572e731a0659e32b37a03222d71dfb34a4b56bae0bbc7f16149ace4e9414227430a9de9c138e48d13fd29f9dda6cfe608ec118b1e53a298cc3d8ec8fb917ff404ece258ef281273bcffc07481ae2999ef6f3dd9f46a65bdb82b86273909a5c0af4685c5d799d5788fab2b475d0f9ef0c3f780b96a6a43382cde1062e3a492b8b277b91fed511c2ec10759b1c305f4734e2715e0a1ff5982ce37a2cb5b7549029990bd0b460c7640b4f0c1547b1f9ab48ec39c489663413f88bf1cec6ca1ed193239f746b330344f734c28b646fe5b59cd5b6d3659bbe6b9a3375ff41d2597ea118645ed59a2638958bf6be977b5e36f9b67e95ea9a1240fa4bf69bdcbc8f48c6e48ef007053321336df8a18865ce75c8ac3e446d0ac04c24af4faafa2949803648468ab0bcf22b415e9eec9197156cb317e192e37876c143ac1d034ade682837d1c691cd251ea4e13bbdf8831cf8854b8d3a26685ee049af8174d2b1dd558911a0a922e36f961daecb32108af1049fba61899d2f90a97cfc3fa883f193c10ae7ee860cc3e856395d1be18a2b0e8bb3f4b284f2f1c83166b0f7c5bc01b0a7d5637ee1a1ec2670fe6e2bc3247113c660540a1d2c53159061afbebaeefc446aff6661264f5fe0c45c0765c8403587745f62199b84c69e9cbc399bdc16c2250481c8ea6a600c2e2c98fc1c93a3e27915b19f61f67fafe5f2bf04e2be5d985043d13b2c48cae162be2740652b36a1158ff75b18c99fbaafcb3519affa8b01f137ddb39061a661c2f372688995e236a6cdc0155a477742a0bdf1689a19741754c767e43571a0887644b77153918093b34bda58bdb55d1810576ec0b1ea4943c9f0c12d4858fc8c69f8e451afd3b9cb3478771ec1cf6a20ef8e14abc20600da8885757b181616621f0a274f83881277b1f9966b63ed82ce46a8d16b932f15d2c60d8dd915068fd04af76bff2b1eba753c227f9e963901bd5ad50d9c89f0c07fca9442f0e1eb977f1239200b97af815f9b5a171236fe87e693eacd04f7d99df9341deb3e61d4c40c6d6a906b5ef371e29cc0819306277a94bda6e846a8d118cf7c72f55b669e10967acac6c5b1cdf442945c182ae8c84f7040c73040e6730db9e1be4e0908a2190ecd4ee7b44a91624e790c7ad49bd8e14c85e1938be277825ce2024a396a8165def95a86f4b75a1803aa706a5599819cf78d17c16db53e44782412cc0301d3d61b85045d6497b8d2c834762de5833b88c16743f19d123c675ae21efef58a09a871c7e8b5230954709c0012f595e25e8b5bf29198afc6f9d95903a04cba302ea8dee70fbd449b4bf4fd09ced5f051554e817c11251fdee2e07d39a3ca039ca0b78455ffa6d4f702fe633cd73a71ff25736be8fcd8dc82f8d654a60a684c3dad9d1f44e1c899290522a341d345bc58bd56aba909b2dde5328b4acaf85be256fe4e5c047c58c52b28e331f77aa555a6044157a3792aa2b52fb037fafeb2ecfb5c9ab08911e4bafd19e9726c22c8c024974689129094dc1106b671eee72599c034fd0bfd25ae8111f9f7c8121f96d41668271ab905913e92cb13746e81c236a2fda8d5f563bf7c016ac7dddbb5a43d2284976d666ed2ffcc77f3d450cb2c3865058894439e6248c0272491fab1c5092a269351f8c94d822b1bae04f611129fbf07a06e11fd8d728f9ae089081fdeac0860755ac824ed6dc2da17a6d485d82893992816233cc48baa1274f082ce91bcb0ca0cc8c6db96d9858bb46c35755fd00716ed50c3192eb43510becb35dcfe907545f87a4a5860bcb5486346742d095a4ad304a0f8d97b6f092f67bc63033b30bdfab151897208d6a6f5a9947c0a45ed5c84c7febc318e368f220a7d4677c0d86ae526e55f04eeb9562d421988aa73acd84d58f0ea44188cea91b20923e0cc4a46e861c4b0e95c0ebaef97ac6bff7689754dfbd2bcf59caa1e3c2b0281b610ba55418ec1eb4668d96ce9c8cac71eca49855a61d0a3881353d0bed0461720012c550bd9d6c3a8a1ec0542e8b7de5d5c8a0cf28eb275a598bacae0ea5dc6b997367823a4717332ee4d0dbc2c6ebce57bbc148ebc03c1ce2b21cb5bf569d86459592ceee2dec3a0244d3474f0fa81c0f7118bde7033d74e08035f838e51dc1ffbae46093cb69fc3701a4fb32c4843af4be2a03e094fd3c6249235b8d1a64d6cb86982e33514845a92974177ae8fb28bc6b1ef6d4119912f238742e9e3aca1a05d934925e2f06377e1284a3a309fc2892c586f1a8fbe752b31442b87dd5394213e080b0cbfa218388852eec446df40ca0d4ab58e66157b9c341425ae4398a3ca3d499ec3b83080bfe3e0d01db7dbd327348453ee8017fae408ee781cfb7e467e067b542395e70ec2425b0f157c67befa7023399506ca6d1d96c7064f9592c63efc2b42f95f750b6115e1a37086d8629b3c4df0245eaeeef8e4092cb2381b66562f411f3b3514b0f41d93234ce0b4389376d979e007f3ed861691c329b8de3b3d81878d97b166ffdea06c362890f1b9be9b89683c84e793775816471605365ccaafe5c6d258f6f1be4f3a158c5a6ab4d960551c6fbc56cbb11f3636e58fa475cae491a8582e04e832c66f6705ce509fbb43784e0bf8f3631591130addc0a11b87a5cdaa902d0c92b990c676ea9c908ac7af0ad64de89c9c8b924ceeeea11559e86a150ce42b55ae893fb044866ac574f6445616faa2558a3e46d2f1d5eaa26df991ba4bfce53b25c84a14d70d33f90a8fdc365b55871e4cebeb01b2bb606d8170ae4ee5527dc12b24403761adce3be8b637b2bfee777e39033b737d2b5ae1ac44985ee7a67a514bb5cb4822515f3b3abdcfba27cb0f89d8d53b6970b7fd7d66a49054fc0a95a175a6cdd563743e01637761dbb4b5ba377eb274aa7f01cecd8dccbc4ebe132db757592f23434a3a67ddb2fe5f859ca8cda10fb1ede79df8f919660699a8c35880ce3d8b0f069ebdf7f6ee1b7f6bd9a6bc539e88b66ee747394b55d8656fbf28d6bc6136c55a7795d8284901fd3fa1806eb2c442a205f53555487590329b0351fdf591066093150624190cf595edc0c53cd01a6a6554235cd3e560d8943d477947da8eedad3a070df8f52c3e8c9f8bbcf66a505c5ccc72e4f5bcf57d408ef5abb7c610c9600fed6813ddf95bd51a1184fd3166503311e451e17a9616d16ecb6c9aae3ec7c39bd0aa4b44e3a09649892e711e9cd72300e16ff70e34722297e9effdba4a15812159395878e956d240bf16aa4f3e5669f955fb7efc709b85f2ce64d8f7f27001941b6e13224b964aa13bc0f012aeae2f0a589465e3f27b382dbab54e8bc84ab9e6f3cbb6508f9c7cede03dcc37b943c28662529a3c2939798785ce54ebecf355459cd3233756a09aebe5ffca1afe0be7672d4642a39267722e3fc4cceb0d1e03b0893f00bc1afffdba445d3249383d7cf0beda5f20bb412126ce91782c4e9a6f1dc9c98975ba59033d6bb73ff3e79a819c90c54e2c634285358c5c21fc58e93ced48946b2f28d1ec1506f78681821bdc9c44c8c2aa8c554418e0dd08d4905b8071385cbde7ea4252484b95b2f8892834b3df7ef70e7f653b9f1040c0cd1f76feee94e33b0aad107e207cd4cc01e9d592b897566bd8c3c5d399eec58042e677fa0e2f91d78c5a5eb43ffa36f10aae7c82a1cd75be5e57bbb56319abe24261f740f7f1b594f6a8175af991bd4b6a99620d662e67069fa97a2297c50d89e8fafd1ee183c205f032c8da6c59f41d08ff739c58551b419d00a8c23a3e4772a8233887d7c9a68c36dc43feba65c6acf97f92136090b715a718b14641a891972b1b3333232587ce9f281f01f3f0be29e3cb5a73d2e05b22823cd8d7db63092bf57aba1b1363d7405e3fffe658be31c72dababe7bc689cbe826ac5b16bd04348df4d4ae199c6038b5c8246518cd0ac7d7fad33353c41e62d8e2e819e9141d5c4d4e9d6cea201544b6a3fa7b58f5e8e35bf66a0afdf03a2b36211f10da91819abd16bf5619a1c7d6f3d3a631c69df7517411d421c4e4188745bc735d25894ce348080697e444185bc162300e7baf52f936de16267e39828f0e60638ec60342eb791d49c6ee2cc32e5346f5a9c41124dbc2b2db691beb7470e5ecf2645c04994253ebf407ba306b12bb03b4fcde5db68dfd3a135db8c854e689480e5a78a908cbd9801d4d5cd5f8173f48428315461a7d275aa7a8555553d1ae5025cd3dbb278853eb574875f17327c1f8ac50879f842ed7d7666e82c30d55a77f370473e4b29533979a15e02322194b7f49305b8fe53aefbbf34e14735bfa887411bda9bd1d42e27e3b73e23cf100dec174648eac97d07d58609ba4619287412731d60a3e9594ffc63176a916ed9fe0d72379bf7c1ce0531a6b1cd6c9ccc55d70ce157bcc2fc094f2b40b5349c59e4d7441a8fbcedb63504eba62c4647951e67a6bdd178fccf8ef7552976bf795b4090f6234c1e02e5403d4b579de1da82fb5cbd6f90de871bacd2227e407356def9c1249a333df7ba86c5a0c59fffd90109d23bc438a2cbb8354bf9f579c871e51784d3d2a39b3cdf5232eb6ff30b7c654e3be779ecf6f645e8f596ef07274a57576cb449763cf581af10f5b7cdd77a2d0b317083001d688dc21d6bc30db5e6ef725cd5bf505891078d18c8a9f2c453d2852b900274bd9ebc1b94dfc79c083b98616e0242101da55e47e43d0862addb682034a5133bd154c4e1e39c543451bac96d208d06b997177e98ff7c5e25b72cb222e256144ed2d3a3c4b6992e31317857f7600c17565d8d6e9b98d17e5e97ead11994e375c88b5f1cb6a80684c5b4b0c5cb2b85563b1f78dee1a6fb770ee3efb29879f2d760c2bd84ae3ecc2c438c64aae08ae3ff908787737834430e1e88efd38159d27822260d3fbfc59dc5924772d856b5d7db9e7cb92075bd8a41069c9d0eb19134f5fc3accf2d9f6314e0db846565533fc8fc00402a19bec42bda1766de66b2ccd1b23f7f45d498c59a587fa8d9e23d287b2d53a9c395e56e2717ab7836b887b241511c4ae5b9836e945cb6cd37c9b8f2fbb4f58e4ee0457eb65e16decaf6fc11c8b8397a2f730f23346a9ed3a1dddd3b3d9adeef3a7abc5d78707a9565dee203573092ed4e81897702708146e8c72ff75d464f52fee9e5d62315e335267a793fd74254c8b1443a418d161faa0b776e4eeaf16e8ee838cdc942efe389fa78455beb64bb25bc57f795f44b301219b2b34de2314905aa5f72712e2337682f0f9ec44a7e8845b6781f4101085751f26d0cf112bfd3a9aae769161139931c4a23f0beb3b19a0e2c0881777864ff471c6dbff65c6508ee4ab93e857e181e630a1844076fbca4f57255a93e77ab70bcbf6a53ce3774534a83dcf0d76f214d8ce76e3e2ec1efa75287c2dfcd89a966696019249092d950a59142aa27093069b6acd396e99ba42f15957ca23b0ff83170df97e0bee8cab55ac51615627f7cdbb6029e68bc0e9cd803f54d8468c4a3b43cc630964c13e2f1a5a7a2da8c67561410090634e3e4ea775d27325d9a809018d6d50ce8db769b5a33aa2f07b575800cfeec3b638645bfa185b58cc5928a5f54acbd1d869c13cde0049a152bc66464d3784058a57ec179f880abedb4ba42edcba14c693847d9a8fc0338beaf80bf3b7e9ecb49db5fb3df2969dfd38cab1506342d4158cca81bb1dbf1f5a87c902e75a35f1a540b0e78692174d1589a9618a62da8e075fceff1a9edf9426f9fe44498d20ec8e26ddae04ecf591a83ece27d39211b5f1fc38d2b2c19b227b213cf4db54825312da03974ca98c9ccc5e7a178203b99fd6b531e0fb51b3018a7d9e699586f44f143337a97da657968ade36887c0f1bf954b489ad52be4c3e7968cffc3455483cfeef1764b0c58f7e6a1548d895e83f999010d2e5a661328f8440ae7147bd49022dfc8c5ae754bed4d39476e423226947bd8bdd15c135eb1d106270f874a9c6d81c2fd0a6c293baf9d10cd56a77e5d53c344cf7b01a427cb050fa26ee66b4deb6492f481f41afc1ecf0b32659dd0f7035d99c39b6202eb11186d8a8d5e3d3ce03a93d6ad19c4c765716dd76c47bba4aac233e67aa23a5448d3003daa504cba2386a7666886e5038fee53316b3f04a1ceede2f23b7db5abda9ab62a19d07a5594a77fb7a30b98efc5342cca781f48bd808ea4e8c261f772796b3df07420721dbbefcf910e73ba5cdee2f47faa7cc9226467cc5187774f67d8352d1e95ff6bfc8e5d85a732b90aa3a6400aab81c531d301d301dcfc27373c9cf6c68dfbb6623f85c2f765b698d97af021172abf59737d21af79ca8b9a31e586f33d78728ddcba795f2c740516e920817939be5b69e41b6f3993e2564319550015f54068caadd015e39e358c58a310d9c4730dab460d0b010b8a358ca8dacc297e77d79bd95a2d0bf188cc0a00b8e6394e7afd9d357e519df718669b452c782ae2f8bfd7d69687d4c416a3adc66adb9a12d9ab24bed1c85038642253a438a005e1eab9295fb039108782ad4c5bdb35de51a909d84ce0a85eedb739f2dec8ff162ebabdd3de45af9f13a36872edbe11e9f04e11bb52115da4f7746dcc59cbd5c050d1de9ee606b50a8d4a0310d2df1f97b7ea4422cfd631d1482896ee062d1c5b1cd597635e4cd9150ad8450954aa6b37277c6b169756f98fd7d2e019e78284e7bbbde2ae5fc3002bdcb8a5504928ef5d1bd6db8ae9cb06be2b36635bec3f4e549a68639d0df1282f975f9de34b7ed557039ae91ff6bea22f1fd18c6621f75a22a39808d52626338b69bd9aa228ad0a9df72c80b5291880919ba9c48b59e01dc918e9da0df4e56412762f997b99dfdf17b7c1fb30437ba29b14d29227e91942114f24395a616e0b994858b07f45e59102da924537a1c0be3c4be3682003016f40a7eaf464eca6428ba691fbfc43502b2d74601d2154e4c8a0b985ecc3a5b5c74f65abfb70a2ac8d00c2866d0d2acccdbb4679bd2872e41429445523ea1d87a419f69ab4fc7cdf9b39af77cc5b4dfcddd5b37dd5f191bfe13dacb6f213fe28f643cf38ddd70157f09686d17f93f49f72f140672ffdc052959929a4a47c4989e41e0e30b236f31af04a6b18388fd1d6a3b765521dfe7cc582e0ec49c0bbb4a78a6f4f3ed496554fc2612a00a4d4c70bc0f90c0a09dee70ac9659b4b85d1a18d74450be14f10a1f181f1c10b4163e7ca83dbf3e37d9f6f3519ef1b9d43ca","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"819c3f9eddab31553cb38d997a8a5bf5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
