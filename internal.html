<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fc034ca29c58e20dfc8b8ae2be1801f4f7583c63182a8c4c492fed703cb22316400631c86fb318a639bda4fdcf2e779691a288744e548fa171787f539b61c77b453e5dddb6caf0598af670c2a7d0124a8543c1d524b30d8be6411ad05494f133db39fdce7b9a31c984f5e37de55094e9bfdd56b5de481365584b4f126fe0e616e8688de6b505860e26b8fd6dbfd4720d18a3054dd3658d5f52ab56081d5d1d30ab4832c94353fdb49f341c1772c96115feb2cb18347e1cd2e7d18ee91c5c301b894c87eaa919235b5dcc2ca6d8e3c480615d4c5e296053729ddff0aa69dc66e5d4eab447fa9a5a90f91b473edda18351461762f1ffe76cb375e82f61044ba01d2750e38e03ead2116e565be745c795ae49237786e8f859c903c99c85ea1357b376c600c932021988a40c4233364496992756d8cb570fe870ddb0f07da7f170264fe205f27de00884d4a6f8428ba7f452566f31dd2f29fc6de3a1f2d76acc09ac6d54e2e11f82a5a09e67709de68d3bdf04bd62f8a694c80b22d54bd2bde28f30359b30f59e574347ea60261ecbeb6ac3c09d3f81a689bc52c4a9defd620f10d88efebf137c115391ad71b71f23a00012581ffc2bf7deaf6a41aaf2e025fea70fd661ad284746a933e89ce8ff955bd4739e8bc48398ebbae25154fbeabd8723ef5d845fc9a2da729e6227455b51fcf014e2845df92926550f63e295a6e4840035ee7f5aef63b501118a9464b7e3aa5e21f44020b6aee1edb789f2ad37736012d102613153a2923db013e75b83094722bc03a92386073ebe1c02237cb94cc5723d8db930a77a40298f2fca4c1513adb7409af584dde0bcd360a85582ede8677fd268db52c29097379e18a35b65dc4272af75545992e4324a460c361ed1f0cb15ecd6c1f9e8662b6b34178d5dade14b70546eb39f3d5c2a70509e3a1a309fdaf160246df2d050cb6150bb014fa9961bdf01035b2b4736007edbea25e980b9fa1bf1388dcde02530ac482248daaca1bda5edbe7de6f4d439f60160a9bb511cf2185dec4ab34601c05c270c968df1db61c194b51a2fb44118dd93c5bfb2984c9de5db4679aa7863e5237769098594653d9faea1aa0d531fdf24f4c67bf7078ae4810bcdfe69ee1da2dc7384ce8b950f4b1c8b92fe2f89e37dc418eda1f01e07a78dc8d39c381e1b3b7d7e2fb26ea5885a721bc7b766e71f36f2bb1c5a0bdfb459932e0af6c7f41f7817a117373655e485c5db2b979cb1bf129478848e0b9efbc6d186cf02b4c9b1713266a5ff6b252306b52d1f001e50a184f9bbdb9c74345f21bb0387bb841e0eabdf831567f7fa8a20654b32b9036b58e307d90f506769446c3e2efd9471383ac7821552b5cdfaa96634a1144036172686ab0fcceec3e3c10f357a0344a68d71cb39fa8073f6a14e6e42f7ec5e08be6401ca29bc1e311dcee518fbc66f72be4f1d3e68874ff3809ac90298f4c2d2e23bfd312fd5430965c3093a881ae872fd8dd2d36419f1c437fdbf3b8d525d4f905dbf6f7a374e0a7bf7a8ba410dd4fbf0171fa03bc8a5423cad78082cc69613140b548fd8da2a2115895b4261f06935dfbc4b19006d880ba1f883849268fc903bddfd61836a24ac5046d71428baa60918ef7e459a75d9ccbec433fa7617e97879c0d4f4f5d5803b8805eaf5b51b7e3499ed09386fe4d7ab16daa3bdc1ebfb0c7a411a52ed0de864a08467ef0881dae863ccf2fceb95344a2bd5da77c9f20490c7b5ba7028c255f20bf54c32dfcf4f05866d75bcc8569ab6d4ff2bed306d5dab89a541718ab2bba9af143c38a90ca89e6c0109d5bc220362e68daf12a3822cd4abf5f7db2723d55e4dbfb40b053ada5793fd9cb417c51d1cf81d0bd6fc47d1bbcfeed6003de4ffc082cac792dccc306fc98a4bb87e5a877cb50cbc7b8a19e6927687298eceb38cf247a1b53a446082a0be7877ae4c8d38f5543ef30340e545544c29e2ed3768669eebd8165e8610aa36a83310c15d5d5d048c6a34102489b5bec40a80fbcd5d8daabe654ec043217fbcff9dc1d4f933015ed9fd1000114373f1af39c8f023ede8ca20897f8b36a9d96b24f4d7c1bea0d9254fb1a83341f0c047aa30a2d8df94dad89ee1b9ffb37f873289478ba109406bc16f67f725d7702469adcea6ebe108c0ca4b214a6a22451b2b1a614736e6fbd63192cc9ceb28d989a2b1a39d1085599c000c9912292f102477ce73f3f477cfd98deb3f1174edf89dd6e3a5c596040f2bb0915ab6a9d4ab4bff4e2d0a179468f6f1dece0fa8b88d817c7e5ee0d31dd7950ce3575c5b222f6147e016e42084e6f0e00f425eb1380787337176de717e6dda6bd4bc8e4da7ede419cc97bb0538525128b52dfb8ee42b8e28ccd5d76784d8c4518dcdbc44fa90a87de44bc995ff3393728f0549a83708a54fabe84bffa57d2da763703b4ba31b130ee624577b847e30df587173137bc34ed3018257b50ee5c1f5c5543b6d7975d07d9a71531ec979e0b22eb9b9af4facdee09c9296ba38df537c16c8a36edede6904303e747a706e7444ebaa6ac21be15fbe95dd30d728c409c4b851bf330c475b2d2de4b45bef6b1b8e094f7d5a4f11d64e74ec9168462454cadf3ddec112ebd9e65a2fb9b07847f585b4f91a3759a2bd976ffd752a75653e21c41ebd4dced59dc03cf65b27f4a937491cbcf98ddada1664215607ee95e5b82c99468be89fa75d8ba54689f0cb6d6967da9fa4db7f064b744dfa815f77aa5a185f16da01169808b570b2e5c1967b4b5e9a87374ad89d60efed780e4ba5b83aecee90622ea590082732bcc570241dbff9e67d6a31ca8919fc5fece62ddbeee6c82be14a3c22f496f771a946cca6fd64336f6734493db35fa6ce201858560e5a60978a11f761aff26c9a9dd0b0e1da132e13c4b1c07482c038ae476e377f1ff690d14cab6cf5da1b1afb7937c4fcb9f18aac37dc9f3a3a19ee89459c6d5dfbdae1f2c782f984ca4f870b253fb9204fcad043ae601f936742507f31a0e7b5b0bc969071d77892c9219fabb2c3d6c82814feb2869c54bffb9f575e1975bb06791e2384c880223c04a452e50bfbaae42eb0125992e5c69a39cde27ca59f461bdb49bea36a8b01b0b845d5b162ffc83a5d890441ff5b4fa077d0baca97598e82cc6f22ebf445371494002ab2990d4ef21b8326746281a40cb6f35f9895b7f79e732a411a91989b63047fe656074ff3da6505f4f67d34d0d5bb724929816d17d09d49592891919c47e9c339b0b8331b2422a9fdc341d285b4a03b7e984b3213ca63bf3c1606fe11fb7f5e4a21760578aefdb12b16fbb2f45ce4b930b355e79f31755830404d049a1c12267a2c187adcd0ef142e93e287542c48a13d933656a0b4c11615c886ca36d60a8f2e1ebc02a5fb242acb29246149408d84de1d64192a9de58b3fb0b1a7e3f5d90a1a4eae6dae2ab27c2bea639dc9426601d73ad9cd12b81d80e7f4b98b1144c82e42b8623b7f7fd06ccd627b7cefc0bd3cf5a8a964d1cf5291beefd8d686b5ff488894af04ef0f9335c59554a9e286e2b1204dad0b050edb896f15d8eca213d5ac0ebcd5a717029ff59b6b88fc6e99a0a5f732f423e3c001b99a86c24074452add4d2c3e1509ce98e94b20232b89a0fe076dc7ce30352a50a00cf19b2166e7627276cd9468c3415faa1140a32bb755f3e70caa28409e6a5693293d685cf57de2f760c903a7c2d437f9ea0251eff0ae8f2b43f3105d78a7e0737c7e11eee4f0c3c5530a69c9ea4298bc65eb42e906b122d2658db701a7615c7cdb850cc7f47a0022ea3c19246268ebf1b77eba50f8d2958de5e6ac51d4ced8b28c4290d0d1fdcdd15f2a1207ad9c5a2b4515be56490c22a7fd6406c9ef0eb82a2e6eab4bac565a3f50b3ba349d48cd89f04055d2490b1c2da718ad6ad6d7a6879ef1517c98f81c656d173f534c966807c58f7686ce2c747bc3a1ee9fcc7ae36a082b6dff5d48a600429241be5607a411078b679f0c3fce8d929398e56f4ab559adccef8747792a75030e821a7a880ba6d7f6eb667d800b3b7352e188d84f4477dc4321cbc883477d5600238a8d96b41af71575044505d74d85eea1f8bd9d99e88b26a4bcead1e4f5a79eb25bfdc188524778e201e8c3adac52a04cc1e5664b79422da8f9b98a95e8dc5ee1d1ab31b85b4a12575ae979d04a075a6fccdd5bf1c7b5abe8bac7c6bf13fbc48bb40fa801321ae35bb63a82c205cd978d03747e027d7fe929eede2cf96817c568a008767e39ee91109f6fd34b482e1f121745c71f3348d3912d4b927344d4cafdf6f74be16070bc941f503cb068560814448597b12feea56c209a083fcb9894913569ed01bdb0f91a9c7cf96e427583b7c9087a0cae6f161c1a4255f43dd913654e7286ae8f6fcbd5b399eac422aa6c0bd3e47c0650adfe84434612cef6669fcc03263e4eb059962f52e7fb39b3b0ee2dc477f1aab91859b363aa04e51204ac003f8ba2f4c7f86d0bacb60a5b7283d2411209d4fe7e7b9466fda01986c6a32b51879b763d702b9a13d9549eba89d424b816efb1cdd3c3e7578d38505ffb7e65e3d4809f50f0550ad9ec7942197fef0d4981171018041bae1741d17f9eff306008b2ddf5aa7c26a040821b897e4d34c5f0e140a21356cd60f19d99cf46d9e60d4cdc4feae134658670035510b6059d95d5dcf934fe664c4d039915b2252f075507ed36a3136aac95100193ce19399772e20770e8d154b141224cf610ad212190124720b3489cc449e6556e9b65df8ccd7cec471388ba0101e8c44bcf7121cb845d2abc1f9d3166e870967301b06334c04eb13e91f722456e3b1eb453453d07eb75c5714e7dba180013475a651ce8c6cec590f0e1d7a5621d8a3b355c7ecee023b922e85f58e79a1a215ab0e9349ac2eaa131cdab5d4cfe395da4ead27b233fbb5192c76e39e4524df7415953718e5ad50eca005d51bd8167d830584beecc4e1cc607dc4fc791dc19d4dc13d0b1cb2bd1a95d5041b3fcd81afab4dc3da254b111d68d23a14b476d5173747be95f7be6f67794ce29473085f6ba5b89b8b16d3faa74ffdb628f1c3f79fb46b89882ed17284661e1348f8dddd968400fabc1fc873fbaf8ff166a077cdff514cfbd34f40d45d78976796c91f16ce91006b3419ea86f32aa0c2265c6259e5c7f27c97a652e89c1068a153c00f37db1b31783f0d349a61d4c59aa9039065592ad98bbdf96c8d867c1392140481310a2c3e0e1ca40a135199788a32820507797b6791269896d000f204f1a67e9963cf40556dc9d842c19312dbbe5b282dd054213dc0a888432badb804a0fd7720bf7862c39a97a9c6e8a930f816482762d875b00173d39aa1348636dab9e041509320843746d054fb19f19981675afe82ec1933e18a2dee297a66b3cb79bc67fca5d31abda4594a6db9073ef8472fd9097effba1c99e8da5fb6d7a4724c10fb8b49159d4202f228c59266f104d20e2706642037cfa87dfc2965ccf2b3205fbd3ae5a50e6299de3bc0a812a199c9acb3905f5cf5df41bf4cb5cf603762c2ea2768472e5f672a9464135b1e42b6be4f3d112cf7d538166bc91cd252e57edd6a9f1b0ef6c9dd369ff1c8cd24d5a7c1649edb6f1a4721a1bbd736aac0a958b9518573702832b838269dc4ecaa1f7209514d0307076b7a0a617421e201c8785d2d3a63cbc80933327b7bfec93b5d803c03cd8065004e23bc5de418e26065edc30b53d90945b5ef92a3729e39184e7aa65e870e6e48259dab6a4a5ac7740b4781c82254cf6c547fc0fc2b70c13bf022ecbd22bfac6e59f499a390cc8b6f804824e261f81c10238ca6d1101478f10b625142503e73390074e6d03f010e937d7027b751bccc9a9875cf5eb3e2897a54cf9241f9d79c0be21e3f6f8e305d176b5018308e4b5d25db3e21428898f96dbf69b5bdb54d9301e07060fb8257097c14eabf47f9d1de879b81a8d8ae787fb46baa8db8998cd796636f7df94219183ba1e4432396355233be09fd98e1da558cdd069d11d0333b5d4d6d12a6f7cb0dc3473989dfebac612e7b8175ea055f8f14e67721df95849beafcec277c93aebf14463f888d22d2f7908a1c8a1f9015045336b4b9f8a02ee681cef786c89cfb2d6d36e9b004966de58abb35436b154b8c3c9e5279309e180dbf995adbfe8393f712f44adbbfae9d026de13c09fbfeed24265fa010b0cb1a5ab9bc49ac678fd45a0b2ee1d1270919c400cdf55cb942d98e8c26c310bc54d6869fb03f2819b864f49944177c1e17d29ce655ca47ec531538d07982276c7136d7f1408cd8df338dba7696c6136c8918dafff6c96448259225436f39819e7e91641c7bd5a9d0e48aa15ba62bbffe0d737fe678f285dc72cef01fc73d5616cc78941bdb3d87444a92d647e6ec422f0cf93db0008d22e9c78beed5c28a5474ec4ef70deadd254c986aee844576ef06638794c9d5a870cc708a32e374e9fea711d046e6e15e55ecd17172a020b9b28b6e1c61e9194d84d846a9c3b373502708c90b90b8149b7a4491763355811fa0eb70d1b28e746507236ac63ebb253179cdd094cfc09a7c5af0e43e51a80155d043823b8be667a09a379f824145bffe1b1bdfd1fd5339d3485103571db4fa8c5961596f7a7f017bf2571a87816417459c266597526da1cd311ff9b89bdbc93889d5d53e5860d36625ac8c03ca60009627059ae64645bb15759c50d7d8aabf4a04a627472d5a2a003d39ded88daa7fac4c74ac02d718044cf9186222bd32e2d1bc2d02a31f1d9febbc2e3b87596927ac2c76ae876af43d02612fe1ba8680859cdaaa248e1335ba9962b0a9792341a2860c568d9ac0d855fc4db48291d231674e109e439a2dce5e53d5e0d860ecc89959eedacc20e39bf5824f4f67d9006fc7161229913068a0ae6317e546caa6122910b4a87247307b8ced0e7f017d1a80f84a7ccd03786f3b799675659b367caee3c37bd6ac1144ea3916012dda9a4af7cf017b28baabc04f9b3e0f1833b4212a748b86c78ca75ac7fff5746f2d4c27c9faa820344016931c57ea5d537c0b948ce5168941d52bc71b2fce4f1c499483ad07bf1851a5679da5e0b20e49d322fda547a785cebf1dc47bf81afffe98e6862346f81d78d9510bd8ad0c93337b740ec8989b016d6d5d4476f187adf0289ddf3e1a6d052898279226991b9f16b8faf904ae3f0c2d1c708e8cb1796204bcff9a056ce69c72918c8aaa45dfcfde23437be6ec8497f1d9a5020a5af6ec6e99f7ddbf6fd7cf0087cbeac2bc7dae86b9ab0c56d4e90646ed63a5be00822e6551cf2a958f2b854d175dc855437e73748ab5ed2876284e2c77835e8fec163c7bc0d26423f37feb5a1e20d6535ce1dbb2ce1adee6aafc266306ebb827d1bf39088d9e22d9335ba9d4f005477b88ea5598b264a8699e1daa1e5f74b6abc3db265c6b962dbd609007624ed69e393f0637e9044eb5acdf1393bd73f96fc253385a462000c3037358da979a7900e23894720363b7738a730d520291e927043d4b7ec8ea933cb303c80aeb85d2f29d05964bb5b72ffd80d0df37f4f54c6ea19513ba5cca1e06388fe6642de75857dab7bc0cad1e9dc11b9407a97080e307d3d2e71e03ff933dff1664d90a656bf7c0313f9b02039884def01e37a3e69eaf16a2497452d47d765ee3f8c9731a50800c9a5439955a3859e9594211e4a97bfe2214a93cb53c751d1444075576bd7a9e2d1dc7dffd8433af09d6f56e70c2fe103e2618d27b53581ab2d00c1139db6192864de8b8151f4fc023fd935ff710c661314b2da2ccb6be925041cf3c0d1274ca50874c2edb5cb565ece62e3dd26e0187893805a841ec26ad1547aa93745016f48b51546ddb2f02b36d7cc4489d8536f95a71479ee563f87f27da41b2ca7e18552c64c23f1191cf68493c43021f66e959e37ba126fa536cda7c3d1e9d0633010d5e0043c9e30d1fa43a4d7a5f58b1a2fbe6a91e51fcd7329844ea672991d06451168818d3416d93cad64dc4bb091dbca4034676f84118578ef471e970878c500d0d04b23aad593f897784c2d2b0d088e2eaaba6b28c0cc10037293ade0d5c79170c7e651bc5fe5ec6c4c615d3a6af0397d2a6e930c251e5df5b99ab1241e6897069cd2f051e0afae2780d0b618bf6c9c165dcb317d5d648cc0a5c1be7b3f8558bca09d11c84338ff2271e29fe9c800834044f4835dd6fcbb9d5a812d0f08d91b62490f8d14f785894765734c932de0b5d8534790e21c9b25825a9a3f8bb12adecf3f66d557611eefcee6f46d293eaa860351effc1dad3468d8b357c87f91c41a3eb67599f5f93c55da97ef0c796e81f2c9103c2b6f83cfd5809a18a23924a203f00767abba94910881d625b029e27791d5f6833a4e24cbd91ef9ba3e1634f8beb82fa7f37952d3b0975b7476beca10f3237505c778c92d7db227e4faab2fb6d9990402ca60cf7ab9327559889e11d67f0c129a35362657a130c2ceb52b6e9fcfbcaec8105ae363b4f2843ef08a0dd6b1370b2cbfd8f4911c34086500f00ea24bcaf4fe76aac01d4ceb359813dfd1fdf1a54a75981090476a098a394a23b1c30b31cbc63b8288e637ef4b1e39db3e607baa4e343f573c5b0b9bb75144ea1a11ff2bac67ca8cc25256120893ea04e8ea8d39f610655d6e5ca5ab9935d0f0d505370e1f01ceb5e30e043a2cd27bb6ea30b52aae4013f23d0aed98e71e701b0af6caffda7e1268d4d25196d500b153a5337ac8eddc6b688cccd5f629a38eb37c7b00553876d68e8a2cf1b355b10f489d386b19f4e1b3f25222f2a036f218d97e1c25a9ea9a58bbb9499d28e57ed9053e20756234967dfd18ff95748cf0b9c3c061ac962450f911c0ddc998f4d5541da89cf385a6cc7de06148f6bd58fe9f29ce2179fa9b8fdb5d8cab8df69a82952ee7f1f4907e427196cfc04ca8f1a153c39e86a8d47a9c423fea489fdb61552447061bb842940d713954517984505ac94f24c0732f3a8a3cd0c77b915312dae0419f25fb21241d4159b66c7d87ef1781104d6c486220e147f6e9b7e68515c4e0cf4d34fbb312d6ca4355aeceaa8b5bf51cfdfe7ceb319677f8ca9ae77e8fbcd576843b927378c0a45760c3cf2465c7aa856681eba3e9c7dbe9765f66a64120bb061456fc57de7d4243e3e2dee64ecfbe02a7b365ec86bd8b5494f1b525953cd3558a64b092c0ce27d39e28604399b25bb9c8a9fd09254b9152832d59bca5fd09f49ff2a51ec43149b7bc34550cbe1ae207e5f5da1bc50a77eb0fe8f73ed5a45639b93e0861144ec95d231028c34541d00bd39bdf44023f211e0d10d64d958e5b2c0c82fd65e77dbf3e7b38d806de308cbccdb1aa315c32dcd2224c3d5b9a172d7831d733027edda81e414c33bc34cf9f8ea14daee571b44ed5b36d087b8185667c6e0db8263ad7d2c5e771b4820e279f2996f4108226f817b10e1ffaa87fc25b162eb4f6aaee3aebe4969c94f5de2485e56d5aaf6e50e249872e1d23b7126098a0dff0124ea2ebcb9b71bded3df6cd760ed6acee923c376d2f91a21bf5b9fa5da220f758582927df404edb5e77a292708a07135c5f4cee124b5035d200d8ca7d69a50f563bf4259e27b255a69d04b48a4b42c66d071c6879eda067890cb74a59ff8ffef150800e7484c356e04f10c5ab85c7937f51d61fa71a0015f115058e3c3e48b58f41bdee5ce2fc2b55dd9454c7c7f3ee6cfe5713db17f3955ce265299f8dd627a41971a04e026269d2e39ba226028855993974204f4db464a7a6aac978651d17d45672a025222c13a7af4562e173f242ba9eb49ea6dce6d4664ddd864d8a24ba7f5ee3c488fc1bc23daad568337f6c99c9caef569a485ed035eea5c198d07e5bd1ccc77829925f65e27e1701e572f04627d64c1049701d20b31a41c4c3dfb523ac52adaf5c32ac7a8db859ba3fab74a15ce766eab29ae4702317ff345e9a6c02c7595a929615a6759b4b7452d85122fcdab2f2eea10b3761b44264f419e287a393adae0406e8f8628d777e46e0c7ace4826efaf90eae514bf2845d6def4e2aadfa49696e9e1ef014bc8c55894d42365252d71f32d59329440e24ac925fe70a35b9aeb8b8cf4646451556d4e5a05697dec65e48a2766dfa721e87a10fbfe831198d5e7eedd5dc8e210cecab3b83e885957148e79d92f243e7adc156e7d3bbb5e81ddebd935ec76a252e53e95e465b9195c455710d5950e741a295306f2c90f64dad303793d9f7566ecdeff6256277a3405d8fd31b72fe59c43f8d8f221b3defbbd66ba39335e4c634fcc39d00bf1bdba9e33541f780c75963c8a070cb1cb7134e1c3ca91fa8fd6b2c53a438e4f701c26aab55a8cd0fee75ff9a5164da0f40d3cb62e7f3cd7ec5f10ac14c7dbe7432fd7dde11f803feb182923f76eb293f515b9f252737a479eb066ee52918218923fe14ab243ac5a4de5e8647bb5a24dedbd06c6409a137d88f368956fb42f6c1cfd848b1fb71019b6581ca283c819591819f2103ed68b850613b8770ab67dc711a2c958e0ee0c5f1b27a15aa02aa11657a4d0db27eb913f82f7bb2f6d4cb9f8b1fb263737b17b6843c6fc66f06b6699938553ed9f6210ccf7f0116f991637d2d003f73f716630be73f0b06c94610ef81ce4c596f1d10ffad958ec91fba36b414397ab9553bb3da44bccddf7ca3ba22cece191569b96ab624ea4fb439f3a4b39fa3d02a57aac0aa81225b652032c52f326824cb827e9294ca48cab60b92c5233d4a0aaa2ebd0e6f8fd1f03d8f1d2379232dda3265f5acd25a805ac63acfde5d16d4fa0968b5a7bd81362787040d620f7139ce6c2017a49188d759e53d6f1d210edeee52f7fe4aed2ed8d0bf24055dd64d454f8026080137bb4cc53531af1c2669639429932594fbb406721fd7141c7b291342fb1d4b97c48dbe6179e20c3078e13b83323606dc973a7ec10a287df189e4366b35fc99a858fbefef2e71895113ddafce5fe01bb9999a9613d115d5bc07ba021d0936cb36a2d0ecbc6f79b84f5bc9af358b29cfb5eb07aa32c0b630ddb856795327add1213a20e6ab08ab1532a8291d3415efa15778a0886fd8465b7958352d47bf905b9e0a725efa4036d7314a25daae6bd5673fab6a69c54afce60d2771be8febc755e771d14e28edf784b9daf30276d846b9f55a1bb1c78d1a154c2575e40120a30654d0d14de28505da533017f2f578a73d46d90e749604350b8d680f0ece03cf584f182e285e51336b53acc0a609220f56556305249c3542ec523a78cb7f04abaf98e2ecab0b5f3eb5f4e1b55bb8d7974e49efd420af9b8b0a1bbb7e79b67a6b19524e6705ea6f4522acb6c635accc935a62cb8f185fb5a106e57a259dbfe7b42d827994973f12e3c9725ed94c49ac1c3029d423d886a14a27322c3fba6e0564efb1ff86444b92895a7afa098808edcbfe36c1ad6f42f301e92f6364ba3380b6d1f7b4b94f1354ce2fc9679870c504a1e2033ade1bd950b738b58bc393c6425af7dcaa5545cd4cbeee5730055added3d580d3f95bbf561a9c885dc97a569f7dba879f18ffe5ed1143882b0d306b02e847da9d2d83d218137e813272bd2d259265a80aa26e3deb3a04390456f49fa827d05099e57b6e946c389d91c80c448e616d1273e0a63ffa5c22579a7ca9a3b3ab6b4bdb8ba07393ea9794b2cd9a817441ab158fa64cb5d829befdfd9d7efd9a574e509c83e7bda1bdd7e42b1f96841be22ecfb6c5c7d688a093b8a8565b11abb87d258844ed3e38375703b1d71eb8155e10014c768e0aaf94c1e8e32518ba30e9a191c50378bf3d1452809e49ca066238ce74578d68309446a920e79bbc471541948a897377feda889107d7f23e79d45fe2425e0a4c5efb2b96759f07f69e626a2b02a3996a226a8cf589804c16304bcfa34d4eb46d4f9a34fd1acefc1a81093449bc29a79907870e9095f00e7f1e40bebd4850c29def9e5c2649b826376c620913f8809cb4e521e2a68d376fe7887d10198e886fba0b09442591a136b5105fb3b94927b38f8abfcf7befaa8cbd72b05f173c7f81fa18261c21c882ce7fc61ca8b15c52a8393e8fdbfb9a3ffa0d947a311150268157a9f7f37074f0a47f53ffab127d5de550d0e9055c1489466bf945db495a7d960d1936d3da908e77eefee772a989c2afdbbf45489e79a8b8ffa72500bb9c67d2e77758af27f8587a96a999cd6bc093303d9ca0cec857d1e134730f967697dff2416d9fcc1da2d95c85a3e4d0e82027a5d0c08cc39ac34b6c56a199e65bf9f054d9b0d1f93c58e6c9dd8af60db5afdd37e89cf79130cadbb4cc380a6efbacf6f17e948b949e1d5fe649d73f457a2a53b0153e4c9280b4b4f2f2b1bf9fbab3f54cc9d0eb0b8a036f4e33a138ff59dd697099afa4c9eeef8faced09ebfd08660d52a8ff0fe3d2c323ccf351a7873575b07a1e17f64f9cc080647f7cb98e7db63226365e1a193397358c5b0259cbf875501ffb6ceef5dda8de47896ac38c2338c70c9fc179de84fa58fc11bef9154a1958da2bfe7ed1c7d36b908c4749d4e4d93e37fa04a99113741df74ad7964aebf9b357f7ac5271b253ec72090d8310af09e182fc4d7f0a90b41635d85b302d61e297f77b9214979e39fb19963d75a0ce990eb39685bd13306dc31ec17c84f3d7c5a16d18b0db34d5b43ee5f4734134479ebf25fc0b389a6769a8b52dbde0dbd9243685a1d61f46525784e8395d6de31dcaec8cdc93eac34b094a4677ff09835b6687e27f236625b034fec65db84bc355a00201662887936b0a2bba1c20085475fcafd149186ba5fc2f91701d47cf80dbaea2aa91b5dd936b0e7bd57e6541ed2992ffd5af5ed50f2f085377bc26287e46edca4f6c6d818a0451bbab111650e188160df483181ed2c6fe4407f2e819bfd454d7725761c6e8bf6190c28790996b5a0452e8d20eddf1bb640a985a1a697c69d1bc3862213760f8c4621e286e0fecce340dae31be0c907815bc71db15af1a6a6282642a91f1be4c8897e8c6a41da2b95aa99681a98591b278d7483ef18c212d0bc9aadc273d9cb622c426a1b22144e0da4684a72b082f097872b8613df958d4008d09f60edb6293a8cee84ed2a5feb5e6cba86e563cdbb716d8f6f418550f8dc7a5a92eceadb98bc91f028c0b55255dbfa16a688e854c8afd9781b1f5818b0a97502014d91a4dd5496b3e39bda9d97f8349391318dc3ab61065ce1198f38f8603fd1e32622184a6a5f8f95271840588834bb4cc616589141b0661a2d22e7ea1155db933064c66e5d9806fd7b088d6d9f59ed87a8b8e977f5ef297fae8d8d4a912e7c7b6a23c28cddba97cfed5c0f17da082460db4892d895faaf772a7fd3e113a99e2017a296517a51a0aca2eec89dfd2a7bc2b7b619de3b19cf1c9e23eb6833c85da09727368fd80cf321db0f50c2015b1d2c199755130c5009fdadf90e6374c4f8cb9fac3cab8e6aaf3f9002445be9a3a9cfcd2661145ebe1f6a65e09315f1b333f019c861175328c729b41bc87c7c13935850baedf3406b4a0e3b9f2eb4c760ac5797216efcde13764e08b6cd9eaed625569b467cc289135ade1b8a652a5ab00edbc0076871deadd6845875c174f63b98e5a70d69b946d91337c3c558b9f80255669df281a660ee5e70d60308b5bcbab59a74f4d834abfe70f918eb3f71c63fba1fcad0f53c1ef028e5e35ede60f562514339f61794b4b9f6b42412177ea7fdeaaa2753d82a6c5887c56ec5ffa30a753dd1a53f866da7f1a93263f8e804bcdeae6a126466c69649e95ee49859c2f7013251f126c3db3d52a4798cc944d4cfa50b0db73efb508615ff0c0efd0c2a923a54d9507a65f8b7bada90eb755198be326bdd625543feb4771d3d10260a1eb5e50ba97a552da62f843f31cb2a473412c444e56fcce84313f21e5a470fdc7daded8452dd31bfadfc548e67b441981b0726440ddc883641c1972f0c3ed5e3c87610f6bcc85bee1632db841ba4b51d2f46a5745aa5fd379cf4aad4f5ba68a8013ed2c3ae2c6582e4dced280c04547489f7152ca3e203bc2ae40777d6e82533b186f4624126551c1ab96d6a14fd7f964d8680b373bb86e69819d44f990c513bc047813c4e0a72b65c85aa1b66de0d64e2734ee3b991e4a5778e6ae0f66a1cb1edeb0dc0a4c654c028dfd26cfd9804911bff1a4b53a3942755689ccc131fa1b3eb53a94572721656b87b92eab1bfd6b869e89a9ba35aab2b90cc800b0be415dba8d256f43807bed103241229d13b03e649bd1e15350a452eed3a9968659f5e153e8b73cf0cabff75850cfb18ab60dfab6046ba9ec07ce4637e5765750fb2d23df8e2cb3f021b8e7fd16cf2c78b5f4a34433312524af5d7a294d3cfe13a5fcee81247b3a953884ee02ef90d2b30b730bbda031ca31adac4433b8647bab3f9badb9746ef66151fd11b6dedb183279f00648935774c6d63ab236381093b04f94de3716cbc5b49215da5b915f5b738967154775d69ca7bbb6f75a16908aa80657f06cf88ef20c0813f07f6c816b5a7c8b7912df355456c4d1f9e4a71b008cfd3b6d9356ca853be29fb6545f3a5f99d54aa003e3bf7342a035b2a72b3286256969f3dde8a4c32a9e6bea12c3ca35c553eb5bda2638beea26bc82c252da143e7a01159c4ff387ad24e84f08f77757f696cbc8a93ae44e6e44c18d646cff74496491b115b631c3c57ac45db13aa396a63d686e1d6d672c9d406b24c1ca6b681bcdd16fee20c527f0bcf906ba8abd2aaa09733ee79966796f21d96f4b33913b2ba852747cf58b2ec0870c8b9bd2650b88d1dd076a94872384aff9ccc96b9408f23fadb23dd2acc2463d64465a39d406d7fbf612880d28af67bf2ea06e0a051b7982c6d59b33500eb2cb5a6c4b9bc2ad8cceab9cebccd3417f1eb9ff75fe447ab8214d0107057d94c437296a6789f0f138c6c2727790094a1fa349bdbcff4f15fe800d3876c463b417ebfb93acd1bedc3608fe67ebc3c66e3610d050d54cae7c4653e4545645f8c2fd436c76612051c8a3b30d3d0539f631e417997dc9057aca37e965a5d6603c9e9b2b4500fe587273919393a8b3b888aed45aed4468b6eee1fedb3dda7f429a83c98df486550c2f73ab77177334f75dcfafdf00917cbf7fbc2524e94ce0f72521d26ac5bb5f9958d27871e6943c3ee36040a397a98f6a56273d9b4a1f28cd310e2fcbd9520a3aa9e0fa8f6124afd1751b091eb33d31b2105bc1c556eae32e1639dd7a32579b691e79704f07fe376229e897cc740f23537d867c85c9367e2c28960d055c8accb867f9268aba8462d6b8acee595372e11d6f96be226dc4806edd7e2f7d0443e9478f75d32f71209bebe74ac0cf2c8a4237fca3d8a07adda0b889d90366be2d780365af76e95c0ba1b35a56a7057142e2f2b7b15bda69d10d0c1575e34fbf0cfa9142c3bbd8643980a78f6923c0524d707b39f4371ea057de57d8e57c58b4ab3a33f965b56c9a665cb89dffb52f00c7070035e34dc698fcb707f490dc5b1c100ca4b77d2c29aa296ff53b5f6a5753dfff19a12506de17eb0efe3df8c93c6e3390a3da21c4e7ca4948d69e2a5662399ae20bbc1c4158d326b71028eee4fddba36d20a557746437c9c403e2930bd179717fc117506de8dc195179ce47f34190e13ad92fa340d5bbd590e57f84faa1fdbb51badda8cd2d49aaa5e06e46aced2f96418373520158bbceadfadc51fc72b1daf96ebd514e261e1783e381537fffab0e80e4b8833eb4730f1e654fc185589421b92d8476ce4e0651beffa2cc8e14b3bc32ff3ec47c4c2cebdc2d49d6b1b8b4b7cfdb1ba82eff25c217b9a5fbb038a828662590422cdb6ad50035a555ecb97bce168f3459b32b0a8b28f9621e75a5c93e4c0cdde7b2ea7c5f8b21b700751496e5487f73134c7bee8e855cc4219f14f836acad8970deed326b03c560f510097ee4da78ab1c686b37e5ad79d51e29da91c519c34367d5bb76f02bd3e1207aa9fdc958978c751552a5fd2857d367c6ef8446794f3d15d059b4ae643a90abf862eb1c7ab611ef44a2d9feb69b6b892956feac6f90becb008e959f93611680373d84a68573b960fc33892d48994bd64a0baf56cabb0999ea0ed8fee639ecab62678ed5420907478886375cdbe10d60f87e0b69bb7148e939bdb25e16ef2100488056337aae38114665e36a7db8a2be6eed88e2b56d5113c644448b2c723633cf91b056835ba49d0e57f16d52399b1cf5fff86bf16671e5a67121ce1ef5cf10db525db8e12ff4584260acaa1204f6c17118cc9706082a46b236121cacd56e6df45b03c0865206f508f9104842dd2e15f6b6e5aa4405a42e4213a54d0e725431417e856eaceec5599a96cd38b4e30bd1a08cb43a2a2589c78513518230f4b31a89aecdeb106dcd379db0c3134acab2e826d1babeab4f3ad9bd671fa687aeb84691ef0cf0c81c7f4e8f8c39610a80e4f7782b783f50c2fc688023742e71e462aa7855eb4955789160c72072517357de4eb8922adfcfa475891eb1bec5a2f2031d1ca1b9622791c38ac784572631bd44dcb8c8927583b7c2ba84323544e18dc44f70311d4ffed172314326aec804d9347430d76b7395eb222214fb09fee3fe2e1af8a1172b3bb290e8cc5f1c0f85661fdd4ce2d0a72834cf8b14e461cb479be001085607537cc628a85d005dc628c0cea7f1bd83f27d8a42fab60a37b474482bd42b195c99225ccc88a13e67849fad4cce3957904c0e87343fa56cc50cae6dd8a32b745199e2928264ac1736cc4ba7325f00334a2ca7d017e31fa23d6e7006b9efbb86eef2467eba32cfb541a322ff5d3d0a115b74440c7e8fb9744d5193bdc2c8e2738433526a52bb22afb936145700f51194bd8d13d7a5614a3073373b7b991fb6e167fb33e8bf8c55c3e16d165f4f2d09e07a08605f3cab5f3f4b1e918499d23d722d2548660abc9c043bbea2b582170b976ee1aa4f1a89d7f06178fc279bd964467486db34bd2b7affe9da3b732498c3312bf5d8ab2cfbbba405df8514970581b1d00619acbf5c0a2b01ffa4194f37bb16e7ee62e72423cc711d737c4f23442aa872799209fe3b317304450ddb7081e2c87293d8a07c55e23239d321a7f5a182638f63c1186985823767a755a99eb62777c6a439ed2c09670bbcca6677da5d71429ee6e3465de1c4fb73926b7c343a8b3c673991cad9954f0d3e9c09123e30c1bed8c2dfafb34524903feb2d2e6891c510d089527cc4eca2402e9584a2ca7ec80869f681164dfccbf863260b05499264c611c8d517c12ae392b20ab85c97ac9d7fcaf227cba533ef4a87d88a80b16b4afbc01450a4e4109996d3a002998fa914b34deb7ada34969e60bc97c615988f578582cdf007d86ef1befce8d6a4de84585b1dcad0505cf5f469ee83c787a41f81ca1a8e4a11dc6942c818af84d313ae6660a6d61062686855e4f460881a8f9ad565794662c90fd6323a55db91327ad9b361338efee0b05bc938335023a9c01c159eacb6debcfe0ef15182cc0252548571e967bb93277742c02822b4c73c9a6e860ea2d1c7556a526c9dea4d50ab8dc066ebacafbfbc42587e7b116d1e11873dfc690866c151a2b810323bcdb61b27229f5e27411e6911e9dc4144449e93a05225674daf01f73b89c7f3809352e6350c2c2a039e7214dd0284455caf67af94ccdbeee3ec48c443afbc85f44895032beae0866c27e3f47ac871877e56bcab1789d8a5ee94bf508aaa767f22d60e205ce79915844b99a58de1c2ec3180c1203071b87818738052f7a9a9c740fd6fa60a7a75640c330fb14aaef1783b6a40d16ba5006fd9d78457bdd67c413d2ca831c83c850da6c30a58c6ef55aa4be21c43b7d66925e217bb2a139e8a68e1efb5e0f3211ce4eac5d384d91c47c3af12f995c9f47ceed230ac8fcc010e13aca5ba900e63f22e097bafc5eb6820af2a1f5285c30e30302c5d52dae31e34a1e33774039155fc21fb9f076761adc6725d055fe477c1b1f85a9265ee45100a5236171ae7411d09db808bea7b89cd85ddd210e87a430f99973af3657599b318e431b771f1088bcfe6c4edda289924e7c7333863931723ac6ec7da95dda7c3bc238f38649f04a20e47dbc890f37552ac1a8b8809b2479c5c43d34e45af6b33e39317a56be45d271e5cce2c72eecf41096b4b2d007bf5cfe2338b683bf7dc6525aea7332437c0776cfdf1aa04fa1de23b58ad7c1e6522262bfe3b0d06655aad1205e91824a2d987c28e9717fb78cb36d01e916664a8825baf35bf31d5a8678b13340c124064f63219c9f3aaaa61aed4493052dfc7344ef8547c804f2e11c6d8e291b8894829ec25adda7a532e3a7b7b6a4bae8c871949180bba86791abf82d35f0f365196fc0990b950e7ba0d14ea42411a8d9722a1667879e67492a1d305e17f36c05e731b9caae88a1cc279115e802b81366029fe6d88adf1fb86ffa8f7757688cf333576d5202620bfc8ded60d5dcd60f5d4a14626412aad1b34fa9a54a0561405b6e62ad19a778debf68b769b97a2c436eb262e8657c559bca40f79ae9a35d3a74db27a9fe894f45e84e8826c64b7e635942122ca0769d766c26e4bff124901fc9838ddb8034e4d415e388b398c95ac70b55faf9309a1dd7e0c54998675d49e01358a883f5ac75c824c5d85a7ca13a59f66e5f68c4ae522af9064d8794447975abca6bedf3a33fbe9c3bb1eaedaeb8b8908b19de246b14674b6b67bc67284c21ae13ebba2d57703c9059c88036b661201b3cbc4b39da15435f3d615f9b6b025851608577462eafed5ba4aeaefaf0bfeebb341b117e55846ea24c9c0f24443a37d41994659f825bd90847f94291ad1e9f5660ec227ea291c9ce223ecb63670683f378a5319b65f7519b80ba3942e238246708bd72996243f2a3a453ad1db62ea8a7c596759169a4fe2535bf927b75bf2448e459b5dcdaf9c9ef1405257a9de9b3a6a5c2dadc6505b752a738c3ecf6b1960033b9192e5bc66326be75ac48bfe07474bcc2fd5241498f104518060f3eded53ffb8fad230c6654b9eb304e1721c9014cba063fa80258211ea62eef7040b3e9c2adfe21ec285cafc6ef60751288e4395dd9662a9ce967b3b97c16eeb4dac6a7ea2131389344c4542a038f496445bc44b919913419b842d65f3f6618241921fdd2d4ae18e50f9066569cf9680e8806f8ffcb8bab140bcb19fe4f868f46230303dba20ebaf70a783cb47019cd15f8f95419a0d55a6b821a7c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"0271e3e7e99b09bce9055ec9773e8a03"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
