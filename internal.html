<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e74d54b5cf3dc4ae360041d640882771d3145910570cba94e33b49b7c9f4421d18379bee383f59165fa63f208bab852a1f863026cad2b7c70e49b4685b12c8547de39cab477bbde9e70b9a0a9b72162d7272c3ab555e79af083e0d19830589fa9fb33981cf58d508f25ef99dec67dbf57abf2dd7c90d86f44deaa73106668940e30481b5bd9c21dceeebf081bb85b75d803d65e34ec50c51a073c12acfde1807e076d47f7472fb17eed649233718f7d8dc4ebdff4e745c101f3cceeb379979061ac9f010ef30f4f1e0a2b0ec78b1cbaa91b266cb2255ba556344aacb63a531f2bcb5499bb0326e322ab60ac626b76ce9b0427a2ceca957ea915d1193b92109a67755b8f4a96107e057cdc931dc3e25b96f18cfd0d5fcf1784bc35212d4b1f67ebb8e0d1ebbdc1fa0cf1c4569b0aa42aee65b72a6b3826a01de3fe06699a29e77f92b2e9e568bdde5075295cfa29f2a526f6f3e833b3e1d4444f0d9b953fbe5b36e4d352044e61d1beeff5c692dccc2d11a028c9bb7b084db303c030d00050db88cbcf6427bef5663a788ae7ddb85839897548d780fc726e7ebcadb9bba0aa6ffcb097f15496d89a4f5b9401cd2405c37d7b5dd785099ea9c74c67856366f473bd94cbb61500a5cebc10e0f2f12279fa8076066a9a06b3c1221c9a08ac1479d23308542f4705e9c23c24d8d1da2a6cce12b92f4c3f5f371cba2559cc25d31af14ec206e5d306d0e2e98cb83a9eb9edddc9277f6bde568fef49d1477fb18647e714cdd694bc2d162f2d867d08a56b4258a8ccb373fe4c7815d6ad86a348da00d6a41847b934560f0274b1b5106ddaf6b9b1e6d5cc34f82d6f180deb349092aecc6987d9d105a71f4fb1410d38c699fa373fd48f6ecd5607cca5fcb3f3239144826f219c291c31e8a08e3f49936f9e25affa2a12b52d5374db50b6d07975a2afde46d5badfcc2de81cb8f0698478f10d45952171af3e76e2472009d3937c8e0832edfd29a5303e44e561dddac29db5279ef12250228782c9744343d9fb210b83454841fe3a2c25d84306ef9df52c6aa074ffb40d91c1b2c54b439be0c209777f8c2ce643e1979acc1f28d8687aa26958cba8f621f4a1655e725d09956780deab75db5e452da6439b0624c326d183194149dfd49d7fa1a4ce483440674f72378ee9020e3dc4f12c78600bb14444260e7128bc03be169d7ebe6858b623284467be7d225cf6c6e9f7ab18c821cd4fc99a848f10aab8ee9897e48717bb4dfc7e75a4601d7846c324b92d896b585073425826f10d4c7e37d0f80318b4443e053ddd4e510aa509cfa494f73b45e570ed71eafe22527447c314463e68132371a22800d08911d840efc19ab9b769032306bb5f632771b3efa8d6ed2803eb50ac5dac2677e2a9c2a01fdedf1874064a8c4cfd6a8572b2fd6c7ffdba410b01a0af6ae6a123ef7d4324c8645e0164f55d04e4fa60aa10b272c26b96e66199c1775b77176fb1d81868ad747fab7487f4f52e5224b4a6c492d77b3c1a6d8fa7e319a9f82eb90b73d90a0e62a23f4d6c41e4334d3aa64b63327d889a090b94a016131b6b084db297e0ee0d975c15a69cbfb585bd09f42fabeb18734fd840a20502344d46b840a48aaf98324b1ab4f59c64e495245c4182578e3f346554bb1fdbb7dd7fa25b962bb5f0b0494fa01da978c004adc20d1fce51f49b8432b431255d1bcd3ce5fc5cf46d21e4d8788980c372f24d50c1a6917d34296f4653d1d1620117fee2f751e0d338079ce94cb98287fd16fa2a2a296ccbece56ef42110774016013fdb2ac8340c1de0a72905a8ff29fb854dd6cedb5b7786a7a123f0b9de2882969603b7421777f7c79e96694d9d55e99d73bea246c1f0b0b1222ed772e24e0b1702cec17d07f26c91705b4b7282f3f981cff5f9c87d329c8c11d145ef6c097234c3b3d718250f436d1d60a589b889a5ae45217444f64f39a3865cb29f05a53dcec4281753b97dcb3c0f87c8bf31347d25327c8dcecf679264c96e1248d88cf497292cc18be792cbdd042e98767774d407aaf5916f1ef9b9d0eefd26bc63f0ec2f7010f3586a3456a18d7cc8007762e5bd6133468b5bd9ef77ce9ae49a4ce93c3f925d474fdfc7e29ed7434deb84e9e711269d25c20608a12e7901aa7266d67852c30d75be9f6c2b6bfdb96b5e9c85a88ed892700a493f07454819af39b5137cf5c8582c133ecc2b2bde127fb1d9244e56fcc9ddaf8d58f13145fa051a23686f0ef724fafc03778f8f780fbac89caa3c4d136215e03d00fe0d98f3e41d72ab0e2d8e7a10254c1e6feb35a24304e465ba7e74ad7d4625412ae5d96f831f224cfef70446726d2e503e40e4922d68504c562233acbd2bd7115371f88ded3ed28002053e65189d4d9c2609da4cdc875b89543315b37669e51c34b06d6dcdccf74c692163cd8eaeb6d20723e83ff44e7ea656fb38a5622210582da226a5df1f9f9b814669c202fcfa8b2deb29dbd32f3bb4e8c43661a89c3864b9481b354b03d5c624fd79a4dda5babc67eed53b7880e1bcd1768abfdbb3b4f9b1b9a6a6d727e846323f050009374c70806b6dfbd4f1d01d3ed85ae5bc02f65eecc72a53ca3fb4cc0aa962e471c49e8273df64b00f1cb46e8e3d476a288a0254206f677bb4067c2119ed14fb7dfe76adf39c897fb594e3ab093c34ca9a3ba24f2534cce93e61a7ad5c6a6f665ffc65798accfde9fdaebfaa89075e45c1dc7c626c3a3a4ce477e504554d6880ebd6892181cb8c575b768738e52bd766376962f915df45215f1a2f2387db9410301a2113e9bf9359da2737353ecc2564d5490616fa9c852169d3f606b9277e71d29eb9ee5c5ff4c2fc49fd29db23f815b6b93eac7d9f8f52da7e06f51031e89060d9c5bfc3d01275c07fa9dc0ceea8eca98ae8a79a52adc9610cc8445cb8eee31058ab858dae6712511d656f81b2a615724b45ae49bef59f0e6f39640e68775ad1660909e2ef17606c94df3fac7c8ccb032df15787214e7f79518ec43545497906907c2bc45febc377cae073bb892b222ee859f8d76c9cc4cfb2408d04276ec7ba28c60192b2c33571d36261108899a3740f6b5dd1d725069fede5e8e277cfe2f2b944b657c340875f1b3240daa4b3ea868139a86795f97e3982f3ec04ddf1e57a11dc2cd8af537398ef5583fcde27547bba7cf7116e409b7a612de35c668186fadc322f027f4b700587e1d510a60d85991c5d3bcf767b6ded4c3f82dca8edc028abad200d07b032d517c2119141069dbc263a9fd75bd815c2a1adf995964c9cfc9128342463d283d8f6f21a792fe25bc2d259026882ced630ed59eb3b825f33a0e1f06defb9cf7fa6d6a4f04b76b7044ebb5ddb760f2c55b3379be6aadbff1230ac60349a3284f77803866f72c88b9ae6fe593ae53d3cdf36df26d5726907c8cd1157b9ac6c6788495b8e0719f7a1f13074b7d7e7d0ea7d95291a89b6a0c2871ed62ec388fe3ee3e4ed707c9010cf8e3fed573097c1f95517d0b3046573d769d61b70ad0538a6fb798e9c9d327f4fa422b199fbfb2701ee45df6af7017e7dc1fce76de8fcc112c981b9241321ba44b8e22b15348cf832a88f14cb8aa22d6563d5a05c3c8f7da847b54af4c3e3ca0994b1337c39f533ffc4620eb6e0759f34a2ce02b9cb3c272a806c0d44736f2d175bc3b10c1562246182bb0ae1d22ab707f9058892d06330a8966ed3180daf42d433f2bb7d66d2eb4fa393d8ccea0cb7206fa56ddaaafa1f20f9a56a4e725bfdfec5279a945f97748f21391d62f50a283e6f9a341dc4a60d9e3a614ba359204e203a2055a2c8303d8d2c6e20c2bd9c0d0ac1dc13140f53f0d00f3244e56b19986196f7103bff446cfd3195c79eb17b94bf9c8858833a77918e4f9a05dfd7d4f7981515e4aa99020f0d0cdb62b7829501484191d719045763e45f5ea57af29877e351a08e3d9d57cab9c2229dbb1bc744fa618579e6e7aea9c0050b4551297b0acd6d3ea4336f86cd71ddd8b0d413e9895d330fc1810ce46f4fda4b4a087ebb1c3ce0e786fbf362d5b69f12c57b7c10ded799ecf55a6f200d0ebb765211bb6baad67d8b97512b5fd2f570ac7573dfe5e4b11f254fde8e3ffa3ddaa9f7667062c6b1c2f937709c7fb823ac223fcf26f1165a669c88ba3aa2fe971b9bf20414d273cbe0206b6c9e7845464b987016b34205b3de90333502efaf1830b1c798cc09505b84fa48bc0b8b13e96b3b1e0f8791b25bfae714401a0216a0596971403769aeb9920cecdfeb17eefd73fcf93baa9264ccd9e9dbbee78ed3600c4220764338cab9833760e481ab789cc345c91d7fb3ad3f1904d3c97b3826fefffc52bd3a6c9acaf49d75cfa155fdfdef15e42749d6f186e4fed2b6fe11dcf087e4a8628d7a94e4854efa54b98686fd3ce5ef0b73477c6c2c5855a16d58a2cd845d5429d20a5f9902774e55a0b173e70a337d16be75cafe6123fc65577c19331211bf14dc0141a291024aa6ff035b3719b3b9eb6ef7da1f6cb887212643293276a7ffc3b3da49b5b30d639ab488f739196f8deb0cb184eba1864832eb29fc96b6b29a79e2efefd461d18a738d7a42681dabba339fc28adcba23244c059c7e1b4192eaec32efaff7790d6d22420394699782394dfa9f06c7fef958a2fcfbc0cdf8f4d17885b2ed3504c886347c39520a0b6fc4525fc835d36692b76c2758488c9bcb1a1b3fa5f5e7f651fe5165f934568cf9dc79392ce40b5bd46265d448c98a4c7a34c6d91227ab79f10642dbc8121a0e378ce76e2bd2a2845847b8b17de7ada52f1f3c3c94f70c5e500989a65cc073e177aa1b384f3531aedbb6c9a676923a168089fe42247886ee2ee8c56fdfed1d110aa5e1b320ce044a5a62c45581075c15d0e0d57316e07feb6e203444bbe16ea14c1751fa4771fb46d8e0a4a86d099a29096213372013b7f05038456f21eebde0e153153b724aae7c449c4eace977b96b048d49faa0fd0538e211fd3251b58b78111200a0d809457b14a2482e3f2b0339d3053ed357639e9ef1cb3ea9bfb8e3eb7dee063436a3a850745fd4730713782e87aba1c46b6c115b76ad1d426656c32463adddd8f098400781c34048536f2b5ec5c5285373641db7f397a4452d42e995e74b6498b979ca50985a7cb99dfe3ac541633a698ec5db0d2eca04b2d5b7d818ea1c6cb1fedcf5c2281223955a33ca14bd5980df49ddb63f366db11f3987e1829a7076448b33e30feec84c74c8e71309a505a85e90ca21d74bee3e4f3193da2a9d5e6ef0a39af4cd7fa5fc785b24c728826ef5fef8feabb180461f47263143f557e698de26fe454d117cb0925ed27103a2e034a75b3c98de2058ac8acd632c7b3377301dae7729788a98514b154912228df169c495eda5e1e593c78c58f98b7004423240e00f284d9617165e62b92f347049c5bb7873564e9e7cb9b95628a0a203595254a8bd92f74fcdfdc11c912c6bca9a7cb16060b09a74d07b7c64c8d3a4d7504922dd94836ef41daaa4cd69ce286aaa85972f192cdbdc691b0ddad303630a4adfa6449a9cba02f58fac97855c9d1153928a67aa8fee257cfca681654e07fd404daaafde1dc5b5740ccb37ebd549c9352a47128871ece838672d1515751a692a2ec0c337aec412a8952aaf15c27ce20bf098af356321fd90ed85e2d1c428c0896b7635e0de295200fe89d6765c2f600aa8252f02d40251451b7c3c88de82a66359e7a8ab910e6291608a7ca11dbf17728b619c7f2ef5a6f430a43849bdbc3659c82d67a41de885f07bc9add7e7f4ced95d8581f8b21f115e1190edd28a34aa93bd9931e706141df9bccb6fc85e9325d8e8792693a37f9dba672e99d70be78d663f73aab18baf43db1b934fcbcd4eb83e882301f42dd85aa0a76658c5b7c54b53a76c7ba0399781ea5a99eeb43ec4e796902e56d72d97dd7a959b42f5e3832cbbe74e458e14de30b42e1ca4a5247a3737697f75271f1d4a4ec8df254da8d1cb7a3fc8ce5fc39f733bfcade969a68c537d132ff19b09520a8cab923d004eecc202a9097088099fe84d69a1234a8f6fdc3763ff128c385c3093cdb8623adb3f7ba86e0f33fd507914af3eacb6b3509b73b7b143d23f33e90df15976b118844cd205b70fe55f2c84518d135fe3929ab864b36ada05219e6bdeffb20f04eec262d5dac145aaeb5407d5a05bc665b92ad9d6e0482a5c28b1b611caf41b33a90b1a3351d0962f17e811a734779a7ebdaa7b007a103913ddf22cc677d3436dfc630a4852120e2cbc587ef375df4a9de2649dd06799561ba07644dfe50309aea55cf30a4a4fd2d1bc7063d3824f5e71a5c173f717166a4253a45dfc31b788e1f227dfe50673ae5da23d4e0ba5bfdf069e8bac46024cb038f709472becda0cd380fa77796d1acecfe6b9f3e836c6f02f8d0ee4a798ea9e9dfd45979b22dbca0acf4041bb1c5e2e6564d2458843c8ffc169018eb6a0c26782664b3a6acbc17a5a0927b4f548c921a7b26140b1494aee845809007a851bd40d273108e08cff85b884b5dceec5e0c2d0352646a8a51221be58d773811bebbc6ef5361f273bc978d7831004641959fe418992f665cc3e0cd45e10096bfd24758cc855cfdfe807a04ede3f1557225075d82264cc3fd9f049cc6d5bd2fecab524f56288dadc2e367c30e49fadf214867d8080756f3582e00fa6d5c04f19001098889612e2dba7bcb20d1c3c8250e2e4d11d492358f280b6825c836b6803a2a94a916fb73f430fbf98beb6d1f3a0cd5e7b987a6d3e65607e2158e97d6c90ac96fac4702c51f2bbab4e2bb24eed1e4e8463836146f76771b770f40581856e9310c0e5faed1795c2ff6695867ffb0fc1e159b3cdb04898ce6bc8faa552762fececc43a736e7c7bc446223076e36fd16121767d1277aa454527a5c212698160d4c84b985a604a5669a4497d7b8db64dac0d40526eef7149eeaf18e179da1f0fe616de2845cf484806bbe291ed440af9c454da925b176fd29dbe07e66d8e3743063d08a743e6b4c6691b315e50254cdfe8017c20987e5ffcadaf140a380d16b607f9b3e1689e189d0486d08c2963b8aea547c9a013afa2e130a30c2e52d906616185243db9e99d123ed0fdceac217bb1f83a68f2ab8211ec072f81082a6106febb8ed50d1701944ceed6f05057646eac86644fcaee92f3ec6c8447457912ce098ceaee5fee586d3b3ffbbc1ebe6408bcbe7ec31d453936e50ac849e396574b993772ceb39a82783b1e9df176a19a18d6d359506afe22f9a5a88a7ea8c70dd0876cc6adc1de97b987780e6ead6cc12690cf6113a88e4dfc6789ed83b797369e2f3f1b26868a98af036f2363a321fde45bd9f8e7fc9f4c7dc0ba42531791ca7777a6db4044e3ba0686caf6eb6126438ef3c6d950ea5f033520e93d7c4bc35edffcfa3dc923360297078783372dabed96b8cbdfaed78e9e7e4d316289e131794d1863ebd385650e611df7c6ee0d181fb5dd6f37ad0b7ee21f44af8b000fc6e1efcc7cc389aa14762512f08d6f8d36f3ab217dfe9885b7865faddd2652f71433407dab6f28737687bf51f4881b6926050f726089eabee5f2be103fbdb64fb07fe63e875e801f8324f54dc019cebcbc92bb794589fe5d7adee3ec2925472975c9a8744c93abd606e80ba503f59830980ef5def6ab1e9264f84101c61ce4395da835fb16efff542ca1bf8d800de0f0e9f889bc3df3edb0592a5c888cdd768cb1c1b5b24293e868f8cf634890165901a59df5c77a88430edd1e83b43cb891424e91827b11e6d69f4953143849881493f7aec635c5a50a6bc332eafa3807687539ba67b4fbdfd76999bd442b7ea7e3708ed92095c52787b644ebdb467158ada933374f84784afa5abef5feaee67b31b8d27a2d63714593078b69802baeb47d80daa38f639698d4024a3e3b9def9f38fab7cd0b69e503ce79f12a196c78d919d551998d4d56a0c097cd522e942ceafc4455f02ebb3a8d67bf67486a1fb40aade59fc6e8f849ba32cc372ead052b5109d557ce0b6c5743017ba6f561ad0a9dda2cd2b648d39ebe1184d7730f93d58997a0728453a787f9072a274518a5f2eaaa577e3f7b7d165a7cb0cd7e2a118ba9fe0910df272043c4f7d05a83d0c2769d1263980084d3fd2e84e0314d9e8e52be85e27e803277804308237d32e1a586bebdc624632738af231a52f67dd78a0ca4f191fe57cfce9008d2d99a91130f34655cd921fff1d8cf27775dfff44cd8b1c338ab8373a49c30c8f8e8ca1a199692fcb8c8362b576507b4438f27cd4d75e46649737a2b5a23521f92ade0e013efcebb7614b5cc0c929696b8a40261648bc5b630a8970accdae46015c8fe69c1e477e102ac2992e5cc31e84287ccd2d0cf30385afc9e1b13ff124330ba1e4f613639391224fcd2d31f51e73fccd90b778e24895cf85c5c30d6c2a47660261506a57c0e76b9ae96beaf3b3176383af14e1f216b0f65d8f1185458a052ed8383065ab29707f952bef7031fceedf3d8a48641ee8413fb31228cdbb879a02dbf0ca0dc8e9f3b6b5ebb90528211e7177a394191d0423c4eb0ca33fca39edc58ba79e56d5b14493f74c44c158e236527a6ade518ae139e19dc1adf6d9cadf91b2846ba7269399b66e245cceddf9cdfc3c3dd4a652666bf73846042026e94ec8a5fbea9dae8368dca184b95255fa4c80a54e2450b81c05fbad0412b6b6983033ad66c13d1ea4fd02b7f6d3eecdf8bb56483c5996fc099999455d3afbc5e16ae6fc88ce412a58164b1359f4215c42b874e89dcb08effe93cb8eab7d50f7412536abadd4b2a95b0b329a140e7569a85704dd59215c7cbbc02c1e41163de70ddcbd52aac3cf29bc62d667991512496c682397a66c4546bf5a1711d8b1cd8b5c84838f70e2c5de90285f537a882daa240c0eca6be552253293e3abe3f7341691c97e94c4d7c7a6f23445369b71578a9a1f5d15a9dcbf8210cc8497fbe3ae0ae151fbb632e530344721613d68ff5c8fe9e3d782e9d0f3a5e199f85541b1f2c0d489db84fe7b717785981fea2f152a1980ededa9f228d716be34d74d68fada3077259dcc08c7e0c88f77b2182ccdbe2b80adecc9b790721035362666880850860274e4977648dfbb3a47161d9c90e68dd85963d4fe1a8b6585cfafc15ac799cd45c755d6b4bc78c2ba42c7053ffefe700c3090e0ef5368d576ea900450ec179faaf2ec020b18c8b8f525bfc8d15e5406853a974d250e1c8609af5b5eb8004cbf2e7b28a4a6476f124c0691904bc4f4bbf6af9906e2c4eee26ecef6348995bc81d2a403b5656b3260ab9cd5c8e0a65fc135884a98eb295ee9f73615c7f1b55975e60f0aa7ac7382e69888b03f4321357b66223b69fa63edbbff8159c7e8cf843e33f0ec6d05f6eb0d7ee29b3979cf315423052b4b44cf1ee28dac0707c0c9a18dbfd9c7822dc37f8bafe737496ebff69794b0f80a2b5eaaa2692558a1d7281c5c74de5fc6bea3cf5a228d756e23163270d86669a4e1ca5b35c61d339d76c44941e968c457e4372e5bd245c7e699f8ca2b9881278d92cfd6ebff454b97fabf71aadbf367dd0df33fa9c10ab63540d8d1c20830ed138757c2148eb1833a12a0d14453402b00fc186dd957e02a46aec696d01026602b5fea430d8ba7549229781137027a1754ab3ff2e842870f9c772f8fadc28be8d397e8bcb2bf6fdb8b0ad8eb22419486d1981cb20aa8425b838f32787089af5c8546743c779f51998dbb3741c509540bc35776a5034338cbe2242782be4c2b9b653dc7d53708c5a49e3212a7b9f95e80963a26d6b5ac4d72f11d5679f58ed5d00e06d804567643717824efcaa852e14b006c70415cf30cc3f509de8abce316425528738a91a8c93db93f13b587e0f221fbc448669d2ae762861c7de17228beaee8a716ca30eabcf308f3f5584ba82d99e894fcaf5ad2e2fdec101d332d0465aab7e81a5d1ba5be2746b9ca43a6108665695dff3558cd1f2b685077f9b74cb463e85ea8834d7e053d5f7b9fb7a7b0b6703d1996756294a3b1547128266658dc89cbfa2ac79eb958dd966ac0a37a3f51768600652e75f2f131eea4778ba6019242835ff0dd824a3ea8aa6e2bcc48d7faeb5019703633d0fdb5eb4262e6520ffd59fc3bd6da6661b5833ceba498c9143cf7a02502a2d165316a6dc5db44805633b297c4de65ad59b4c5bdbc76f03a2c591be72f1dceaa4c9524a688eab375fdcb0b0b51fa08db33ef29529ec874ea7b8dca449f56394d82fa71861e92db6b9fd206a15b906ec31aa2b61c686021d1bc63b0460df7df215a7c64d911ba747d546708edf3be944016a3ecb843b340b7bf0c6f7d7e9d45ed4a403ce7ab851393136b9033b391e25af692af7242f8ff94370aecf47dd1ab59ace34a34f648b33c3afbae8236943f8b8a9812800863e75aae1881412822280204bd1751a7be55cefaa64f969f9c7aeb7e168165466af1fbcb7dac7c701c47e8ebf1a05d317127dbe2a988e0e35c3c10b9f17efad7d4d6638d399d03a8abe5127d0b05cfc7a0574a67e875d1e100a810d99b136e0d9d204382be985a2e27e2d8eb28d1935e44e43ff50816dc00127535bd8394a6262b2e0d91165fa325dae21e549a7bd093fd901c3f7f42f5b5e1497b28a088afabfa14bf437485d38b68bff336b7805350adbe78d482b15a3cfc0214e78f9b40eebf7b4ccb3ab8ccc55ee6610808f4172aab08034b64ccef92e9be8fc6b367dcd339e44e87bf26f3e4bb3105d03cba22db24a508c545759963c0cf1673176129ff1300664b3cba75fab64dc4e5851b669794f6ba3c36950b6a7d75c5b6a8c66c1e025fcb22341b9470c221a3c452e30ed9a0dbd55641edbe7f61f38b3538d844b1d9a401594329e46c678fcc7ec3f67f607ec50d9f8c74bdfc968e62636200dc03fb86e3df29296cfdfba7057280cd9dbc96e26acfb22f3d1d07d9ad00cc576a90a0c3097dd2f1a3a1413e1978ae9ee947291c4c08c2692ce75fb9505ea5a645b0fd5e06792ca6abc167f920bcd1f0fd49790a36dad6d1e22f2f5bb9b0162ba1de6a318d52f099f7e80e23a6b317ebf5fc068ec4001c257e005043fe7d8ddcc646a80cadef2fce476d84988ba28cb1e78cccfeb3db2f94f444a073d8d868ed28f825da0507cdaae9143b614daf9f44da6c658376e4e7bf68dc535f17bf108c12f4629faaeec0531e46e81061035d6b46f6d78e0d68ec5d4ffe92e3d217519648adb4fcb8a2c056349e0998fb2820cc36d7e20f6e556c03cbbc762c15255ae7a864166fcdf0dafb8ea4d3d8e8ed8436befb946123b2fbf694fff18d0a4748838ddf1218934eec323591781c37eda1b8b842cbbe6709c8e86b70c7681fd91f40be9c49b825b1e44cb9b5737d29b52514fc9495a1b4b0a82693495a781a79c3ee1c8a4fb1d06d77809531349e59907ee9942af465a5feb1389056f3ed0a8212014e41f01a94060d9bf483e1db4fde1be82c24ceee9989591caf8cd8ab4793c70ae11aaae41c88db5e88e26390eeecf9759b48c6db80de7bdc7ae247ed462fb9c02609095c15596d5879e4b05a2b35d1a7bfd754668b3b47b889a34a11a4ee31e0dfd87ce86f778e3d6d7484690f96e602c420590b38ad9decd053491e1fa38b629363c9b1df18160b718ce05fc3cec9e4ad0aadc1ca6ff0aede92bbf42b64e464ee2b62c12d279b0495dfa483393ec1a7c18175d165233624b7e6ef1edd7cdd202a67dcabffa98fb35cc46f3ad826e26f2e1a229fac148bd2c3f91a0d4e0d0cb49a1747740b29280de5f88b33647e50297fbc1b23222bf2cb77c0989a6830c56958a141f536fefc44c65e82b665c8554ccd3d2a7e89cce99a10e1c6f3571a5a505e23c85ce3a9f9646549801fd60824e1934a6480c78e290b4168183bb09af218d049c860162bdf752cda453b7af02932793b96b849483f9c87a099d1afbfe0ea14247afc6c4408e9b465ea74ba38e8d9310dfc3f58aa4adaf2d7d0a0a9c302c239ded7aa2837c8b1bb333b63362c29761c61ce445586794d0c01eab02691b9a5977d5a983ca62f86cf994e26097abf6ce9b9984320104a12ff2073899d8a4e5801d1710f3da186dce502abf0798f842996ed3eea90ecdc8b1b61e583fbfdac585e18724eb29c5c751593af7e9e60112405d85cfbc22a423fdb9e9fa73871c2f2778d75fbdd31b0bbca6508e3a53df2c8c48deac1bd2c88b9171a18069c81db52c82c3672e70f2ca87509007479e04198463075515c7f1320cb86e1edef77d03e987e4e0179c04596823f07c938fb92014ed6d91e8e72860393d98997d49658b004e9c4a46c2e2870ba039e136cfbd001dd708fda2d1ed50f47c974b7c04dc574819de890e326d5644e491a81f8ed67f42ffabb3341b8be3a17e05f4f6fc944f8f524ac0fd2ee4af6df0ddf47a40a0c4a4ce688ab191dc6d9ea1098508bc756e3ed1133520fbbe370a0ebdd0c49b4edec767dbddceb4de90579436649d9ac868f97e23f692b2580d046cc40091d9f923c83cde12d9cbbc9e784c107473a9c4dea78c5e99dee6d9b99882cd93ac7e31ee74dad4de77d965858925118af53c1d6ff06c912e74a5acebcf4d2469e9ce41b13be1ae7ec658dc51e043cb917b4800f22d78e6c28b96b49e035d6a259d221219ccaface3a8a3bf7c9107e3196a33d97eef27c961da08eef51c0b1cbe90cace51f3b8d44b4317c94ce30a18dc52f94564d4b30981bffa2665ffeccad736d2f222bd91b97e67a27718507f936012ac30145bc28120e31facf7fe233f9a53dc0cb41ebd9eb038a7603a452a79322fac5fab6d1467e3374af80d31490adec1137fae86d33d16886e066416a1d62768c8af76227c418d64c87fa704f90909d41550e38f77cfef43d2cdb488055354a03e20d034ba3cb453a80bd87b40c5c259317eecaa127500a2ddf8db8eedd90689bb9d455f44f7173138879ab3267852da00d75ca18fa099b7ca21d79ff3018a5882e45ace273536bb103c3ad5ac9322776de0ea68e7ca3c6ca1450c9dac0f03a37f8bd991dadcfe540a9a84ee8cbf796fb61fbfeb01872e8ddc36f332ac697710bedebea5409fad9bced09e82c9baf34a2d26bfe560bd76d9eeae867718764860a1c71ac91dd73681cb18c082e8830d4fc2172a7e9d540af057f72ac17aa9601ecb7f3d338bb3c50400c82c51572cb3c4876bbe09c02cc4f609aad26b70ae8a3e81c33d4f04579648263d445c027486d2c8a2f32e60ca3dbeb896200d9ce1e77ea26789939157cfe9904220e11c83025844af8c8d0e1133a2acd16c3a277ea020664cd46bdb4f4a7e450ab667b3a790d348e7b00c9b5d3c11311c7951f9f01200e698ff5507d997e62be3ba4677e7dde4be610900d59b039f200c22f7989d606c99f8e544b6b3a60fd8b9761a11d76a921729eb36969e540f657d9eb04d5c4f74b5d6b94e9724d9d92219c6ab10c4df3e5ed8a258a1d241b20cb1c9f7b4f26149b581a1907cf32364112fade34df6ead989193ea0503bef47a165e85e91ae9b60a514095d4502df4c4223ed102b2ad116f52fd717ec092d23c40ff8c6fd168662d57332fe9ce9780818975b43b07a9ea59c44d032255ac6022f98e956aa87013c26d1a2e566f0094fad67a71543fb7b0d4d7ba9f12cafc7fe4df0bf823626d047a4df630f43810ea8bea9d71b368e4d4f3e1313af1a20d318fbf3421b4fe2a0d9ba900653d642fcc19c501e4ed6a92c422150aaf0e0c1a210f5a4957dd23ac4b3f43b60ea81d7d0a6a07ba57cfac61b62e9b86f34c5a94197f520d0a11f515edde0b53cc338e6ad7cadfd0344e91f6b021a7edce4b0b60c7d50e5bd5d95a9df15161c0db6933c88c86d6b83ce11ec152a352165e6aab2a434e2946968809c17574bce4e2c24153a97b7a5e090e5d7d8d86fc7ca1a23e8255cb9c9d55b6d37b9e219a7abb666c0efdc69031e3246f447abe3ac391cc6887ee3e04bd6b7158603d6abc422181cdbf43689ebbbc8c7569236073fb457670ca1a3a6111710e4759bfbdd68e4b61eb6796ecbdc2841277989c43901ea6d33ffbd1ecde16b453635a554fc9fc16811d3489f88c22336a2d7c604f7843d9d0dfa9f63b7a38054daa828fa6a4b1a0a1e3104b7e80610aceacff83b87f3984ba619ef20d3dc16b88173f27fb3f253c34389c78a0f498d9d4bc2dbc68376d1f7d3e43be32ca8ea146be8bc4ab4b6d0c2a5e8758b60aefadbe5fc26a88df255dc8b1bf0127014613f3c3f2209548518d7e51499ffc80ae674b4bd76f68cc15be70c6e9f323b47fce60459109ccaf2f7f898235815f601aa987211dcc78a19405d831a90deb50eac83334bff6eb8936433de28855157a0dee9ef9eacc3d4ba69794f8d933c014f62ed76abb11001f13fa6c756e0a8188c83b432f2d7cb390ba29e9ddbe76953afeb2fa1672d065e8100eb02cf72d6efec0144c4189e47371300695e25ce2f033989f75ac59f4f6bb6415e175444539d14586e10bb43e44c6929f9d3e60fa31c940e1f6a92a2a075f13dd6c9e48cbbf7a98faeea505689a70b76f8f026495ecfbdd6fb0037b3f45ac81ecad58fed3e0e3756ce2a80b81730aeebf78fba31108681e0ae11c918735c718c33649444a3b42e698fc3f10e5f91bb6bdfa9ba745baeb87478c510630474f12bb581b07d120c4479c8aa95d947982df6acbfeddb9527fdc3f9f1afdac39ab871ac9770b8803dc27ade19f6a74d7e9c4bc2826090f0a3b09c5219886033c19116a707cb4142ce55e123d19cfda26512e058df9821162b7baae99f15fd94b5c7645fd524ca8965b57df81f9e4004679dc8feb22fdf2e1d8b23310eaee6cb2fbc893346b8347792481c5e8996594af84366dbcfadb7a600f58cb3c8caa348bc3b84c0b8f8525cb891cff99b8805223e68fa7c47b1aea1e35e469c3c08bc7e85982f046e02b05d58622cd55406c48c8cb1492d930fae9bcd8f7596c05f423415d1f05da23f9d31166bfe22e672aa534fc1b12a228bb443dc7be29e17510ca901380f07124377935c8f0a4a65aace2b7060f5445e2d23c5e7a2a57a35091949e8bc037ccea459cb5f2a754f9be38f38608d3fcaebf2f5b6cd020d3e58e5aa735aeb9c5f76ad1640fb18dd509673a2826a90c79211ca0ded9de2b5253548d316865a9046312e49d9b676a2485c3168a8be770ae6b676f97f0c8a1d48242900678b3f2a8ff340ed14586b93adfc206db9544575a892164fe7652c9439a4c5af6b9c75562b0b63c9455d2c7cd0db04284cc1bebbae8b32a89448e0140e0a1c187eea9b1ec3261c33e402bac548665492a06062118346cb284c07181e581a0a47480119b7bd16170121d40ff4241967eee610476d6eba328c4403842fd7e7df842dfe76a772d8c1c2177b7ad6957999565ad32f34a2aa65a12096e587f683d40a4c6ca82803f8412377045ae220724386374f1eedc02dc2a7b2a3a0dc11c6fe5a39d407a5f24825962795449b211d2a24711568e6dbf4353473a006ac8fc09451eeb611d798eeb36cb575c0123523d690abc5569c45f71a299299b1147b67ca6732f0ac463e8b48cfd9d165ea7a8079af3ef5e9e9ad3c73eacd0357a9c741086394b5581ff2a38f4ec7598e10404071f0ec333631fc414b8931592220aaa3fa8a4af4cd370dd35a75bdd2d6ac5278bf00d26f46d11dcc478f3a9802f04d928cde216d41075e07b9ebb914a22cdd8ea4ad6c1f5513e79db7f4720963638fd4bae18fdffc544c1e734f8151a06663935f3c210db789a1bf3d1a0c8297ac73d24f133362d6372b8905207d44114c5f83ab1b3973a8b9d0f8d79e45f5d1cdeffddbdfa7648d15749e0020aa5c3a55054e255c5455b61986b02d20038e5090619cf7f9c898255e60d924a539f97ea3caf09d006de2bb919019d4f81b994dbebc635012ae44e4a402d4e68bf1fbb3f6e3a1130585546891498ce1ddb243b7e5bf25895c4733af57902135c870aff2f9d758d7a0f7624bc8d502564fcf304734e094f570946af491280e9f0962f135869bd5a1038913a1cce439236b7bb05406908e51bb1c81354a8fbe0fcc4887943e7512fcbb9e8af245eb061bfb5160c074fc1370b90e7a4e5163e1707ddcd815c3a8ed79ae00bce279fc6b26cbabb1f8fc859517de3a47ee42a1f57aa48fdc9b7dea8e0e437d57f19cfd660f58f9c56446717ea45abaf0af171c812353014b9667f0fd19ff27bb3ff483c07c65a15e69d52ad5d1627f7185583dfc4b1d079c2a9681ae3a6190b40a524b8052f688ea60ced74c56f2a057880cc018e23296c6e674d1436fba6031565f3e278c4747c577cd1b73a55c23d3dc3e4ba064efda1ee3297958d15857e50e9085a2ebc39ddbdfb7627eb8b2f2041246e061f396938b04c8ee65595bc43e23a4793efaeba8c595b4019c97f15e6365337c6546ce8e7fce13b264356e47bc8c9ed6bdf27212f25dfff4a4b90db650daf3f82bb1f759a222ddc5442391777da3e7683a0be67d2c11872647e4f660257124de3e5f57a64e40464324b47c225590d3d0b0db64585901c4d2dd712097d2812b84ad5757209b0501eff1b644644e517855874fd10e47de412eeca7db80c772a7599f8edebcec45ef2df1b70af8897980654ab4256b87d730ed23c97ffd6a854fe0ce5097a05480686088cacdf75061af47c8c25602a3c7cef5b156832e2955cb6345e8703faf97aeba267f04e44ce045e3e65bef16413d00df8d5034accd68d066a82fa7e39492dad06d026191e41aa0f7bbbec2dffe786d59364dfb7dae9629427fa9522ae90a15bcadf8e1bd2f61b51db57481fb984e7c945aae91dc460ed5403b0c7c52d96840fedca4447cc82a186b57ccbea4f9e44b292ed25bf57efc21c79aa321847fc280c46f2c52d60ad7200c175469947a1e9bca7966b5ce108e99ab46ce66717bf7eb05b947cd20062a2682e8c0565ab9bbb43aceb780842719e7eb1e624e9a6a684b8c25bdfdb4c28938dd4b3faf79428f0985d092aa3c3655c334cf4ae7ea270efeda889fdefab59df9291f32d8f768aa150957c5c210ce217bfd0438cace50b1632d458d3d7f7b66de8cee50a6a985c6104bfa527beb934c32ed184f4c234e2df17cf7e2bcb99f3f168483d80af14df024c04768db65ac9da179ca23fe0e2155c727f3eac221ed493fa9704f42c43184f0b7b323a9624c3b88b7b2fc0bcbcee95c38ccfaf282a8cd020b57295d3cb91350129946765754e98902c8e75bfb9d8d741d5c6fbd47f16ca630ac79fcdab14ab905b632ec5e4dae4f4ef4b41b27ae1be41a3d19c2c72959a5fd53486094516782908b480c2a788e1f4055be0d7d398645fc859579b6868c8ab4adbdb8324637907211da31e33343898aa37e4b39865e94b9b0123ddd35a1734653dcd4691d7efa4df5469ad358db29c4f2cadff172f5c2f2d2d14e6de27ca5982e87ffdb86f184689113815759301b427f54c8290ad18cfe56445ba1888f9a08095576b1f91ee5cfc1b9c5d85fe0e69cf922fca33669183f2105b3b70848632523b3056a0191c81838758b14e66fd61e1d2c2d3e78cb3813f3a98f5518f4a048691c19a4c4ed3a5194577aebd3b8cd0ddee2fa7480221bf7e22a1f3b7e6a980d3941cbef6c28bad677fd3af473833fe965c0919bed439b129201014e65889e6a5dbdbaf1306db7f4af9b0e3fd8e450aab07dc72ebd36358599e9f198329a8c44fa58fb721a9c22eaf845e9b44ada799d700f78de8483fb0f31079d87513f1be3e547fdf7192b02883bf2427d439bc8fc336291d82b230507ae4377f66a03c21054cc9333cd5f93208d5fc150a0b29f7f9bc259aa2fc770035541c890de69b3720eb714fd928b1e1bde0eb3a76f87fc395c93a8c3b033605c28d224ad095c2f291914356afdad7e6ea89c385e9f8e054eb4257198849e6bbdc94129e8229b2bd9b277553d297a8a7fa484ab3a5f4426eb58ca189fb4da7383aa48a0a8ede6173192e49ec5a7204c9590b776eb02127bb6266950bb92c5d439c4e1963215ea1cf8916cf9688371b8d510dec52ecc11c46c560f71f47abd8a42ead2f2a62dcc001b236798309b7f5fa7e4c95084ba0384d5602086099f41df7971448ec335c4acaf740964cf8b99efc110ed243289c5727be3f82fdd6b8d2073efb28340bd3e2984f7316b7ca1221365d6aff2d2faff7379a4dbfa7e7a560603f460ab14c985f471771dcee1199a57171884bcbc611107459d1dd7bdea03e224b7cae1632fe98976f6c7785a2b76994acf0138d8a491dcd97f9bfa923606468e74635f59387e84076309b78f165f823dcc6b7842bb26ef67e1fbe2620e6692c2e2e5b9b5e1858e5785e30aae555c86222242f81f4e9e572804bb0c8da21794cd511d4969d747bf8692b9361452fd3f227a296eb2745d089b14baf095ae4b68bdac14b91ab9bddda7f23941fb2312d7785ec2af8f85af1ffa1bea71b8ebdcb44603bcfe3f9232479333f744132dc451c551c7174fba06d37cdbf95cb3bf769751fcbc27386d611bf4f741bf7859ba9fd53cd5a5893a560796dcb07c22ccc0f96b2744dba4ccad7e43dd4a0e4f9b442fc79ac9a8a1d08d68657045c0e1641bc4bae27c81d6922648cbb0d8d0d402da7d73a56cd91e64cefc848b88929151b675bbb71803ba6c02973fa33721686e0a11cadcfb9909e0a7241c9463dd6c066611c8648c6da9aba24111db0a019dd579eb33abd2df8e7c1191f14dbf0dfe6dff5af3cc04a44d78a0ec0054c0b9f9ff9d5c0198ee5ddff9630dc1cf434569f1594e7891b63f986114494889819709f9d01eee2d4a5550bf1f9b4e79939c44219923b2a72e7da5a2a4ce358fcdf89406ce4478af79aaa39f42e245a21aa29d14171ca35da6c9cf78e2b09df64122d9607684c0a2771c9c198a68eec66dff149c9d9f3e250f9e1eb719d0be6b8330c9e24600756520654b49a3574f1b38c2f5d29a6d419d871af75779897e6d1ff755243ee6c5959aee6d276ba01cb341eb5cf91d91d0bebd67745fe90413d620fe2f3e9169acfcccbfc4c9d263c41a18254947a77d0e1a8179a16c35a571e5070bbd49c03a7e84deafcd7c2fea8a669e78d1a7c748399065c3898aa2c2e7022c38500a9c6a48ef95fbc65741918781459f7501694b1cee02957769b1d08c7eb8d0e1981a9ace3978432a4a1610303e9239331eb55c95e010e0ac3ca5f9b51ba59934b85c7507fe7f719037e0ced9ae4d2c45ace14a8cc5557403cc1d7fe809c01d7dec13126d6ea2c5a75ab259b59cd638bca6142f1cc4669d69c9711906a7c4f3dd1a8e0154e0d1c2e9441282f2d45c258bc975bd7d68ec64dd48a159c42060a5db8c21c6b001efd5a73a1fe91602670cf281c174078666a2733371122b09288e9688873b767c67a740654810639f201784d6bbfecb0559b58e7ae3a5f9ffec4f42be3840a684ac848579f10a1a0d15595cc5cc4f6dc2543fdea389a9a1b5827d469933556d15ffef3a8da944ceb449ac07f5764d6765f7a24ae5cb5e94a61095026f26f32ef62875b234345b9fc900847bcbc916d432e64c6f6bc0582e333af0bd4a142ab301cf464453b95e04572b7b75ac47420b36c5477daed5cc95fe1a4c137f6ba8eacb1451b67821b27ac38e190ce2df48b0b4fa5bfd526da9c2b17a27fa760147dc176a84634daa4e0ba","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"126be1cc19a89dabdc0212ac8debf80d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
