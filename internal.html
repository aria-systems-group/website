<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6631f6813e59583574cd965d26e0a457401e446f0c8bd5e6089f5076c3e9a7a96262ba55153fc2eda26b21f9e9f03a0632189fe4da3f00e41f0ec7d2e5a481fce9998921d5e51fa7eca864acd155aae25d747d203f23dcec56341a46e8b777d142e9d10839f291afc717194bf65b81457ac07a030c80bd54623f6debf6c6064758bef903c0b2a7215d411379f1ee4c24d0cc22ed09adbf2f7f7c167c2e4f1e11caa2a0d3dc344992f7201c4eb15046650f80a7345dc27ab864a127e8e60854b707fefc07464340d4a423c7892186dc633063ef6a24ccb7e22d5a9173850fc9d4d016af387ac37d5cacb439fad8f8be1077b6c7da718a4102512618425e62a37b14846481f36e26757527a57644d43ceb829eda01a8255d92a07bbe284d8b029c6513b9ddaf4ccd5053d4027c17a7dfb9be433986cfdcf2b25a85e05c5e90a6cc77c820f966d01c21ce3c0c570fc42dc02714e845d27b051aacb3325dc9fdef200057f323215d91cf385d26b8482aa7398b8b2e87b14908fa0fab35998bf350cd74aac17d9f417988949d17cd2b05dd61b36baa0e4f942f555d261ee80847a75686e4816eac8c5b04d9ad7dea9b9b179ad2367976b78e74e47fb8eb123a61a5a44314ec29fd2a739bfa1beaac9c93a1574f4561bbf480c33d7e956287f1b43d385240e0b2fb3e8731796c7662837d6c80c4aea825b380880b50582f6924c6b8a2ffefe03d578485a64eaf10fc80ebc5bccc825a71ba46c96d8fc1a6a6c6406a4c1a6475471fa7e84a04afc028f25061ee570a844a3f15c67942fb8805c820fa417eec5b4f4ec0510bde0b588b9faf8cb424a77324fa88ee7ce3c921c0ec49ce45e28b7668a85e5cfa1a754c6b7ec50ff6e10d902865305b436ef03597cb8c61017271bc9ea89b238e136a8d116a85239e104c01d502ad71dfc75e6d15ceabdfd81b3c273b331935d021868810c49141ae19fb505e2c0b6f3963b36f1635071bee645a336ace2b432bdcd703d405803fa6e336f261048f0e949a7eefb0313a5f39c786f9438985927819b4aa6cea84e3a1ded77e8cc4eea77b6baf604b9c45cc16d223f59e4252ac0935a52b2a3626cae9636aa6cb6c04e3dd830908de31a7eaf00e048057d4b4f0af69a08030caf0e58be2f3b64b6d03b63f7677e2b282dcec83ed1f9fd2ff1e42da3617d3c29cce1606e5672545f5bffe6dcc28c952e3e4e7849a8ea5c2526d2239fb553de471c2952332595885dc554a787ccd08c807145e7e7a2911b54da24c07fe9f93caa005e7cc87f26181b3ff43508dba117603c8074d2a7f92d1bd66819b74b4c2f35589e12644f70bbb2fcd0b030f233b2a2562354cf8a72b24961feb2f13d30686e4fdf1b4befda65d089aabd6e769c3d0cdfac47ea681f87209a0f072cd5c18be325b239c8d9920f3e6396fc25e7ecf64d98ec2b0dcabb37247a8046738744ac212c94567a67d590471397adaf6e81daa66f3f856fa7d2e5656c0d245a22137fd09046b677297fa23b6e4ee9a3687ede489cce6c721fda8414cca959a7e3492935d9898c526cac39ea6cef37391a712a61f6466e1b04cdc9a7f8a223c66b7abe3d7519fb1e33e42a23173bc0b4433b452bc69af0d41fb214940dcb3eecbd2c397f5924626fb94cf86d3e9e99c433ce9a6fb47f598e6ba9108649e710a989206eb9cf7e32ebba83b67e87407800aac925a3fd1c5b3b5ab643c2286c91cda8583060e82da445828f9987b924b2c8e55670f58adffc12813a6f9baadcd449fabf7834af9fbbbdbac0144ca583ac07fc56a1d1682fcebc4c070eeb845302f87a49caf9acb16b4a13e8de53e997663870ced2de744e0dc35aa681cf65ab525389507786b3fa59cddf2975b7d661453d6cfb7d43c699da1bd8036dacfca4d8db781cd6d5ddc657c9b67a811163a66dc3d43e61c34f557364abaccddda6b53926c8aa2702bf8bfaa87c4eadc334ff6d639cc3392e8ef3934b10722e6d27f79bdb1c94b957d647e7dc97ba7f774dd6209f79553fed52b1cafe0d240bbff4c730baf29d3b31ca8a03567d191820e72b7d4225dc219a2186cdba7b35e7e685281aa9d1e2fa68a1447bfbcbf9be94ad491f0d784b3c491602998efd0af3c4c1c370825ba86595b4851a19ce88d556ddd0d2b9f0b7792f8a62adbb31d59a25130a3350d76645183213e60d8d062d97e01e0717cdcdab05568a3f63e50f87badce54074fbca23641d25ee61323808a3dada44fb173530d4bfcbd76a62bb33b9e9c050a518b5de8b9390eb2ee4e60f088be964e8f7e36d46eac96cc54e970cb09712dc53d265eea07319636383a6b4eeb1c9dfa3f9ff2b4d74ad026577ced34a9e03cb0aa3ddfe3667f23d8c6246103b5d36b6836a58ca2a7a3665ce7f223bec2c1914e366afb7be7495c00eedf464dc57569dd8c8e13d907ada7bb5f51e094a63d800969907ab6832bd661a67d6477dd4b9dc184d4236336b9fde94f0eaed223ceda7c26bdb97c510a3479535992ad843690a95c4f3effa69fff6e73c5ecd728b6f3ff14f1362e5c7e04b554662b28244c9456a62a27029cc1234c54befcf1029593b7144d422f28fc15651d5263b3c1bfec1eeaf0204d433d1d27b5f1fba380d72277d28fa8e7d8ca64e8ebda3471d6a46c63c2d6c39956f98a41d7f9090424c110207be04011d1fed2fde897d52aeb727ec2eed43fe16be8bbdf1682f374d66f01688eb074df844dd6a5cced684d4e898da72ababf5fc4b739785087f73d2390c8e857d2a1e4891916f5c443d155951fff0e9ea4228bea687c3b01508ed7e0fd75e09cdd41903091c15f59e2333cf9d8adca3a61306f39e46fbd95dd32e576e3cac8da1d6fd3323d111e7480023788800923c77bb985b819f5d1856b2fe20f7971a3a015a58952d9e7e303545eb0a114a7287b3c7c7fbd844267d6edfe896e949c5b31a9318a6b89ee125881f4e70a44efdf1d6c71d0f113b6abb60ef66d9950130782197d4da9d5c84c27f2657373a9b8ec15c3afb4edeef98053ff2ba96da975f3413fd2ebf1b2bc99d65e7b5915926ea0f83209a55bb5c327b0f7327a4b3de4e5671b5e76b998001812c5703e5f3dd80d5c0f79c7c1dd5ae2fc2c54d3318dfdbf3b9071d2857e46c9d6be8b6d05b9fa61aff768d4eba3a407f2b113d38104a57968d0a60f21a24db446474aacb719117775adcde2251d528331c8304aecb7b2166d4601e333a2743d9a2fabb5ecf0105ab82614230d1bb60fe9d85700027a1d86eb12dbb84d07dec8404b1692788f6967b6185d7d0752e120ea7e9388a0061433cb6ae16a9a0ff161f6511d005f9f0779ef162994305f2f56e041460a24e308c5525e19ec302e2d23fbfeed35291016cbd7e63e4254ed9ce1c5c334e99c3e90a2b8790b49bac83ba2cbc1534870b7354d700211a3b239a779a724439f3f2a89698f3ee86efdfc7620d7e0ad099c5018af51f2d187d649536ab26936721338293e07f333a2b6ebeb874d8d4af01ba2bf6fa159a0fb457c84814cb8bf0582b3f06512930b5f560ab7e77e27bf4f038da0e1615562ca9c7dd44aa2f17c6f7d919f62654e79734b3c7567886a54e9910c806b78290b634ef29b81c7104400fe310728ffb805dd8506e3c867f41cdc255dcad91f054d486df27efe647f1232aba8b65cc9d4c23b56f79f2b381748655b5ff88d91930d5687ff18e22fa3f898d0929792cb45d458a9af1848ebe2ef9da850f62e380939cc69cd145db47d5b015374f8fa7a0a2218065489ed3ebf8d34fefdc9e31067427d8cfb17b7c3bfabc5ec1679537ffeb27029ec36613defbd074ff34c6ac978120a9a19421c621ea1523be8452f59da1ba3dfccb72052756c03cb068e12d2c32592b318b43017d33d15decdbe95fe02b26d52e2332930d4d7bd1875a899e1f95c39939e9c08ae489ac826cd0a1573b1ca9f447139cb73836b5c280e82ef5a39e548c7625498d39abc0bb77a8b771e89c82f3170fa91bc5b45bd6ed7d6f96f996ee618d3f3d449bcbaf6f9534f80de234986257567f8bc0cdaa364aa278aa6118c546097877ae345af20d9d40a7e0ade633e770e9fffa3a1f943bee52715fbf660389a23736fb880f1b3b80e9da952df0c6f54bc90457b1b5fb516a64dc2d58ace859fe97128a9713d92666153e0e6ab014f318558b2097126942c6d9bf1ef6d19e102413bddf99af3d3c53ecae67e48356a78f6b5b0681e5f732367f16185a52afc43f43679c68f7f2ea967c29ec930d0ec29961e7c31f4748850f27e8895bb0b90c22e105a0f58e80d4f1917eb313c9aecc80bc59ea4767aa923ddec93af8f311ac4ef27cfd2af39b70866cc2bde1cdd65bcf20b773737acbe9bcd98d475c7b37d97c03f78bee3fea1df8450d625b01a31e61fe90c92a6ce6e180c2576550b33c03e522ec98929de54a5ef6b971834f56faa2b4b38f02373901df8886f33bc6b7f920c46f697457b53df9158c3c2483679d64b4dde8f3527742d8d0d6eb292ab00c5c1fc991aaa21f93c4489acef252047c0002a7b2ded2012e8c74b9d97d6c955930ed33ff6b7b7ae2920390a84ef38c16d551d9e36fad75bf15949a6404062a06f8889249362a16c5cfdf0e9c89275e51b998afab56cbcea17a256cc4ceadddeba1083f7c9dc8b65f0ced8eb80e34ab4e1994fb47f7e7e840e22ad3e8bf43e1da25a97bf254cbc4000ecb282ea74327bb9832fc075f68f0435d06cf49e83cb1170ebaee0d34a4b07d2f2ea8e7445d9933c7d99c38c9125f4b5ba4d5bbe57ce5f0577d1fe4630a61b4086c58018fcf51b1b02ad9f18d55c5fc26ff96d05ba720515f798ec6f70dadb03c26cb833607fd3531989ea2c3cf747f1c7a2a285fa789da6a0a827a95ec3b7e6a2fe5870478065d7441ca3d18bab88210dc3994341a6f6e51ed6efd589c0f125fb8dca81e40080bf9c211edcd8bc8eb8bbea49976a937823c9ffd71aa14c5b7d002dd4f45e1851f2933732b34a816d0fbb2bb72791991fa0544e9766d32dc1fa280c501c1e4a92fd9a0fd2c045e1b0a9df599bf6756b56e42bcc8646e188f9d6f468ca98309da0bfd5bd9bd91e0cbb171bbaff671c94c2d83fed544a50ceb498b60c316f0d1ed329bd3ac3844bbbee5b80b3ff35abffb0cb65324d4860461e10cfb8eb714fdc4797b50fbf1af1867e4362b0ef17212e3c22ffa5d1297652b30f6163c06aa37a7766015c01e0f03c508a0222a722ecd559b6e039a9bfb2fb2f27d9a9d667bd356b7e705ea9af58cbf0ff7bd8eb2326d03a3e38862b1e2809d3af802760897db264180aa1444561418f801582fc25881c290e9c21b01d2bb86bab40bd49438f67a9c9af9c65f145da1eb978b472b5f8a08e4f2387448c3e1a1aef294f1a41efa029e567bfe05f96ebc1fd8364ca1fa1fc1e1136f924bcd75f8d637bf541bc086deb991f75b75d6b0a1357368d94867af4a8c47974e01ae547ac3e177c6e7512bc464926c1a88d6c065c7d5cbcde010b03119359f463fb9cad9202348fe405236bdd2db942dda205bca84a541143b5c7cd476c5e59aa50178d7b2b84feb6399fe516b8efc6f9b81e969339f5500553259eaca98270170efe25eadd8aeccb0d72c29037920506148bb0dfbdc32d97085b0b560bd8f79406b083513501feda554fdc46c299723d3c87349b7ffdfbb57a65c8990ba780317ebbe42b3d172493ce69294f85caa08c98349f377c3c899b88d2432d6bd5633b176ec117c6e499e7409dc546869e281f85a3998985f06181e34c56ba40b5f06924bf4d3a992c340c1b05c3483460106183de4fd01a2c87990a4792ab8bcb9c84f68e092a8359f1ff44d60838dcd591c0e37b82d52c45c5968f11f77be9cb6a8dc111edfe7042750ad0939c14aa19f03046c5c109dd62548327cac913504369d313fce6dae0929b34e2e4f98ac6de400002d9f0ac8dae3016188b1876c26d3ce0c037116964249ad515987dce81256013b7569ff186a7226b574ffe309a976a8afc3e8a3773d0000b0f03c284ed330ac6a87de4281588fb99ca43fda9ead6faf499416ccee4ece48a27b0a095c808f42c620ae2764b23679201f6d194e783dec26060f5629b3f051548d798350e79b2f689e29a832c85d47aeebfa563e1e1bbccd29cf42b34bb78e3fa6525b1303d42a0914be31224d17c2ac5e2a6a0cf73638c731a96a222ef6c5addfda6092078761a0c50f818b091738ed05674131d8f29803cd4c30000904e4942a5ee8f89e83c834ab3f26edcb3df9090b886dfcd8d9a5d5a6f6d6bfed3be193e64c8c5d32fd6420d2308cbc82b468d7172b4ad18192709a1e23a2733195732a8a15a7a41e2efb48a5caf90e1ba6f880b2d1caacad706ec42bd6888788930a5214bb6cccc4e4efb404b692fa915ee683494cc28278ea83fe7a47eb952695be5ce6b209eb2f64cfc4103a146e9df33123996ce0074960aaec4883623d9128acc6bc3cc56fb4182ee26363d80b8749d2a3826597ee863280bc0fe47b2dbb953b7f9fa9d8ac30842b54cc0654fc61a1a01b43bdb90ff2736b6b9faaee372b14a6e080dc2b6b1d6e565e144b0080b7f7f3645d82d9cb745622a3bd1e2dbb424831dcb3c818a4e92010d0c3d957eadaba89f46832d620bce62b85848634d13e1e21894219b6f21305b07d5418e20b25ea1eecba415b1177181626882af8f2fa8993e96b6ffb80f76593e52e43626f4150df3c7e4dd0b5ef8e170aec754d1dc2a10117c2c7c9b8b5aebde75240e24cbf26661ad6ca60d51424c34b8ca8d6be8e11423672628c971b9da7fb0aa6d6d34dc94bb51d5a9bf28a7750edf915c3fce6953f20eb20bfa3877f621d563545071af8d381cdd44e378571c1c84e72d7f77b6ce2e1a1977b351d2fe5d14b87bb9c3ab72171cd255d5c87ab047f3cb345b0aea0ad4febca6375076842e5682f4c9f7a72b8045f58ba1bfd7ecd44f5a44ba95a6821e4f0151e598f972168d863fa6042c7d40deaf8352ee31c036bf28596acbf2b42dc0654dc0a440b73d27cda6310eaaf1555438e3d4459637a00b56dc06d8997a997fb6cdfe1c14663888afa97e57a124e8a479c048cd51a5cdbc982507e77ca0872437958dfa972190cce932362cef2a5756756e60f6e279a36668cfe5b94543184bc94d263e9656bf581b53a1e17123d0f48778614d4ba7a9399f8b2bbc4bb57afde980f761cf81417b11d9545fbf55ed3faa527ddf5e725b284e349a7c8d894f3f862af4409a5c169a0aa6d29043c2056a712734256601619a7b543884a3dde1325eb0d6d56e0b06f0877a099b0011c6d7163858790be80216061e39710b3856133047a5c281bf840bab74c779c3844b0764f2b7c705372911e977cfaee9985b50a4150e936da3bf71ea21fba4cb5c1d0b61e496c1c7bc54756509bb8c2db1912ee700f292e3d6c06b080298ddeadc37db83072142c9af065b0cb5fc3a770d13f74f7ada9e0b32dfb4d49bbcbe2f166394b56f525ca209f9fd77fe70a38c83ec5f73f679fff72a68091ef53a3000b8bf11aa1954f8e0dd21f6222dc52d119324f409ba260b678945e896bb63068428f587beb6708cd71e1feb26dc9b7aac9533d7bbec8fb7c020e696007bf1d464c7bb15615b9d9dc519cc19fee7d9196c2288bd5d071638e3484c001013bacbed1116edf9e03b7980594863ba5b7b0322ce3edbb9934b9021127d4923e33b797a22bb8fae52422f2bee46c47a754c344be3b18088b5a9891defc8d7b909b489d720825bf307241ab7bf56f0a953c07863c963b02d6f06f14e6722ca17eab440f8bfbb36610307775036605f03cad1319231c7d5809578e525a44589ad76481d5acf280cf5116200a5bbed434a149117f3e6cbc4345cbe390f5c7e101bbe4db0620501805edfe3f798688fbd01cae321a4111a5c702bdcbff94170e6d754a65bcad3cde33a411444e790e1049e20a5740e87b14db0aeb5f605f052def558f3d262f27a40a849c3ea747ef632795880632203d12b27bee888a40f5e79231209d131051cc2a9434e6fecfda225d9a6f13f122920d7248abfebe6809b57558e93e36bba2c8e695da274aba0c49ddc864ee61029c36d20a19a8d7e916ad03544157d9c04ef4b90a6b66131f4307464183993dc7d32a1d4f32fa0fc2e7ed3c24a1defcd21c70793b0bf401a9a3d48860af61dc45a4fd548ed465f281dfbdf953a102cb698eea6c961a91275e48ea66a63ebeb21455a879f6957bbd6e3c38d41d1780f0614cecac25c2c6998489ff398c7c7b3576291f388af159970bd401929f9210d007c2df32919990c9302d2da07ebc9defc70e95f0446158091b430fd44ecf0ab78d54b7286b2d1c34304a45a39106b8f2bf038508cee91b5de3fb5310c472cd47e4b0a7eca0dbf54d1aa5deef1f517ff275abe27e7d43fc0256398376d21c57f9d0d4014d7a4c035d7de56bc2aa0df89f6bb708f51168d619771a0d253d4e71bfe141813a3c6fc63d781d586ee9c58f79cbbd525ad96df3c09d3109e645dd7e4fe895ddffb9b2f69aef907b578dc566002fbbb7074920bd510bf341e73c3c0845f6e15601552899d24b4837ccae2625fed7f694c94718617ad96ca6aa7b84862c1485df646861ea70708362bd51b43422fa204aad98427b82cdc3a08400b7bfb359ab1572a9941c28dd4784d0218b23748923c0539b2310baa14be266f3fe68be1359cf8f5f6c1b32adacd678230c4d0c80291bae866be1a89dbe1a6ffd7993d41c84209b1f5aa5b2434f542a2e1e0370c76f83194d9087a1fcf2b56740a6ab268b6cef06f6b0906ee57ee33e6218d4bdc0bb5944b65b9fa1b81137dbbc639da103c8fe742088a5bdb26252c5a22aaecf381588917d45092de4bf65a31de402e71304e5c159ae62161ead691b72977a508e43e0652e3f338fe8b7d9d8e00f5595fcc9d84e0b05fb94387437bddd01b54b5716be6ca93326db499ba3243026c1b13ed0c58052fb4a3f1457f83c2da86a57c26422220d582bbe07f6b7d59566369f4334d58ed4b9087523711cdc96219508ef0906ace8cf1aac4496a4b311658a7d640bcd73a5882ea0f8ba00c7300560fc537b506a58576771c38c6140957e276483aecdb86a8aae53a5c51622d93c5bbcca9f5ba1b8fc425f2b8b194e01c104a2bee5af6f33c72789d58e71cfce17ec9d196e9f941dcbfa73f63a15835c9bd7b9a34d36dd73c13fb12f2b78cbc20a41e780d33749557ae6a6da9834bf9f3d71258792be0cd1836dcd3cb89246636411f48fa5b9dbe1456a14edebd774d40bd8c9c70c75216f9bcb32037e43478300f9d65608edd0822297661b1b586ad942729f1f40a689df3d5e9dee1ca3b50d5944fdd6be4a92586f86e304cd1f56f6d8e4a8591fe4ed32b5819dcafd08970ae6b90e6d941aad2afb58e891140b93aaaca5d95174781240fe1b506d8d1bc1d6c1f0f087591270319aab4bf4db9ed34a06f7f22532707bbaf8d76d6b3ac73abe03064182b1c9e2dcdf84a3b1c0ad312848672313473d93ec97a10f4cfb1f710a0d724d9149addd5148cbb5fab0471275b31ae3be17e479086ceae2d8c89aa0d44724e4bcc623245ae9937f31436239033820e5a2d5be918ecc27746254a1a0353994f7dd2d01dbccee039e56f43cd448750f3cfa87856e35f0256aecef470a4086e33da9ac4f376b34951b672b56e64eacd78e35f812a7558b799d173a34678bee75d97bc440f8393565c6b2ddc8bc91458c3dfdf9bd10fea6db0e48cf8385c4dd06247937a52c9be8428e8d9b90c1ebf750d70592b690e63c5ffc06922e72fa61eabd0c94265231b63b5ae2c19940d471119e307f75f806a97154983c76ad7fd3580aa8c2b6cc30159c48815b9463d21b53aa258650ea869940a490a67b9c27909308fb0a4b874cd1bf3834a7e63029955c451fd15e6e0a01247036d8476a7d3b73d2e083271bd6a64dad3debcf2aaba3e13ae8e769fbcf4e2478c7e22e9b46cf76dc0282d29faa18f81eae2feb83b4528b5abe5e1e6601e764062f10598b0c0edebd63741db850c173fb86c3060381d508bbc3a942578aa909f1a42382298eabe836944d3b99672a30e4d3ce4b9b00b9c73df137b52fb77a1ac68e58ae86d17df36608f6633eb65945c7f3d1a15db274eec8f437bb4d3d2a99db76abd589895bc67d2cbfd907b8ff186a9581278079e4acbf2e63517e1a7bdc52d73ab2e2b4a55b84ac27097b7434e0feb1c93fbfe08bfb1621f309c21da11736311bbe5cb9c2892ebb1fe2ef8abde9a097b0209aa3cca39f297bdbd1a6d588915cbedd90b5c0c76a61b92063ebcdcb8c33ca125282dcd4140742d8c40dea995e6db1f975e72f5378a63ce5d6375c609d6bb6bc9f09c71fe88618428f3c204cbdf7dcc0a3d075138d3b2e45b21d6b4e649abc2126c091968cb5a01684f403fb1eaaf846e5476219569fee913a476276fb8e890eb47b1a1c670956794df41693b656a0b32356a07f03e948635e0b30c0017710d87eef6e49e1a83a2f1273c5289d61fe49de461ef542039f339fd762a074098f7decf3189ab8de3749c3c4466a036a7d5a9b80df628503eaddde1ea7bdddbfe4f2d7bc95101ab9ebdbe4793d84c662e0a35a2d9bba9e4206dc0d50c47eeccbb8545a6553a1677a00bb9024d0538e03ea08f2c58068f448dc1b1dff7b67610ff1aae5cd765b9fe6e50c489f7d39ced712d8d2da1dcbd8ea5c7d7b18da89673945876a6771bf1ce242c203826c9cf9d3827034b566de04068dcb83bf947d13573220d95918cb74ee5ca897bd970e14357da004fa8333905135f4566c65a90d72ff2a92cb3c9cb6a3abce8fda9469d6ca28a0a6cc91ae2e162ff57bb6753a9f06f20292fe2758c5647a5a12c11fe14f70b28b0c1f21e5df830a56b40e8a8317a9dd20c655ef6ae46bd742f3c8593cd9c62cea87c9d636faa64bb11794cf328c9a8dca76a4f64e7de707d58b7719827c02855887b48e6ce134f3d6738743e9fd208e5e3ea79eb856426f1ad7ff1d895deb6073c84a88347e8e84efb7b537f0282e0436c358218e14e2dfb30ecb6527f67d17e22ffdd26fec05b686ad9d352e6d5f8eeea8cee48ec843b6d7af375967d0cff5afaf19cc032a95408dbdc7d7dfa7198ecb4ac0b280287f53f230a8c69ee4b86c89cb743c32d0aac587628905ba96ce7fe507e6552065f40b4fb444c66d387f3c3d233a5efb1e96aab7e868dee8c3f5a2d252804aac46649171e6e9beff38128d7c3606607020826430ae24add2af5836148f6d87b0b496c23c124fd6d1fbd8b7ea2645301c6331d0d78f5b2740168c0bcb0c67b9a20af4237309485a2a34305ed928904997aaca6d368f026e4b7a842288273f2fe23c7bc39a2580109977499729f9427a70d4da4c48cfea41d5ff3f068b53532d9d52fc37598876af661eab7fd01eaba2d36f07f20be49bee7681b7fe7d75e58e1c98a0dc6111cd43b8a4fb1e62f1254e52d32ceb59da80aac2a6f599da8f5cbc81547d46cd04dad7d83168bb3af64a14e387b5cc596e063411d3ca2eaf82ccb404bc5486f9319c4ec58afb4667ab65c4647a5a9e4ce2711f2262ab8bd2d152c85d5825caad58cb76ebadc1538167924506a19ca0731e6cde15354a690a231753d8edcb9bd1def847c8445c9f75f16a47a081dd25ea0faebf143c80d7f558716f2a6d15f95984ff3c9fe052af6122e4bf06b47c349c4781515cb03ba4ab62a16d0c2a74e2ab4dbf3eb7c44d28d589f05c3b159b1ecb7596e2004a98d244b285d1b7b73e8d1389339b58c249a3f8cb0965ec3c09639881b306b7b7b86d5bd088b08c762b6005012f3110c9473448c75a8f8b8f992d61da5fdd98327fc72d5afe198fa1459541fdbfcafd23cb96300c95ee8b0b2e387006b38fc4283ef86bf83f7fa2016641dd07dcb441b898abedd644f440eeea488d42d279f2651db4086f44ba3167929c3f3c496628d4cda8fb133df250ff4a3f4378936105965c0ccedc4b14fdabc0485be6747792ff001f14cf1da9a3056f681417b42dc5487942f49c2d2bc17919dd9299f8a87040930b3e22e95de5c60633711fc78336902c3d5cd2fc93bbe308e2fb5bb6259da0b17961c7a81ea568307c681aa25b4ebac34247dc72e14be412d012eaf5b3f134ea8c4f85ffaf354bc37ab7178e73e2590d19e4c84386a0c9202ebdf7ff3891ba4e8a0913476076a28eb6e2b073ab114962b92813069e65fffa6966d6e65b9594ce5dfb7b6686d5f267035b2653c91c8685a8584969ff52bc1aad2322c95cb48a596fe23bbacc69f6fe8083f18e2b1fe8e8bbdc1b628739eeaae5a9e4dd1913c9faeeffe942fe254bb4fa2ecec0c9a8b106dd68a764cc5614cdff677d1be5038ffebcfb63ad86134000b9450f3a70c3837f8f5ac3a3fd14f7faf7c7c863627d50e2130c5a2fdd5f6ee82310e7ff49b06a4fe855b4f03a3eb376e4bcb750904aa0bab5e56e8887b849546cf9afe5a05787194580619f835faa29b09e438fa063a4a0f0454f03584b6651811fe4b88bee250474a1f0f0573f02ef195c4a4951e272d1575b33b35113d00605f9a55c361f23d95303ee8451e547aad612a8bf69953b4c5f29702d4456d90f26880945a304a749aac13a0afb6bc4ea5a0166ccc6c97176bd11f0b6629d0483245100caf5007e653831ff5f32bb6bd4131aa5eafd04999c5f6de1c9d6ad2f564c44a24d94389f8cfa4e794d28dc1b92b391ee0b82c29bc10286f0d9d45bdb0aaae58a6ce773978b9bf9b4cc00280fbb7b0463baffcac2f3b5c9d71588f0ff652efa719bbddb45d58bc2888e59a96384eebc6b7246f0ce831871f67c5d595552b89a1614871e2e0d9ee82d2ff48c1045d7b1dc7a34cda1c1519f01397d84b5fa0bddeda6846aaa7167bfa09acc3f707dc8376b59ec342938dc3bdc2838fcef59cca8b3009812ae6b0208abf2d8093eb987d89d0501a7bf6c5be6c89ed27469b54b3b22c54c2feef7bba5bceaebc46bee12c40b9a0b8171dd4ed41ada5ace095575789db1baf86cf3854fc2916e633f8c8ea5c3366350ca5fc378c31532bbce1b5c76d67d0d40c281611e3cf99804c36215ab95c7fe0df8c069bb6e645edbb443e329006b322a6713f912c0724c1f7b60420f4c090e5eeb2cd6f3cb84ccf4665426dd27b38583f8f10b076b085c0d8c93829a1329955e84e573f0009803ef902c4551c2df98f66999ba9a1bfee5a9f2de31d6745b7ab4fbcf6099efcf3fec42aa2d81cadf4ab624efc3fd7c90a5074a2b87abd175248eb3d70070d55ae2fbdf18b40fd4b2ff6b2b083bd749e79aa9cb5fbb7aa22387056ac39f775021215e17af5dd4d8e3e1b75a5126d0a32ad342673c958aecd123bee7580be6869102bad7274da3d7c3facc6d0dcc128efb5aa3ccbc96c4e5abd72f8534c5becdf5a164842606d0566a6a21021f1111f323da68546b93461e2f6ca1225569be267baeade88f4655ea69fbfbb72c937e846514e99b312f41980067c3b1fef0c3708e82a3c7fd886140e80a011553e19d94573ab86f90a22abf5b0c3d12223a50fe56ab3c9ae33b1b9cc06982c0bc434d9ba111f9894d90afac5f5a04b882e6716d6b3f6d83a5ae9c4a87525fc68e680781d3b85179b83d82e0e7a9435af786509c9d699a129262361bf54d2bb3cf7c3d7bd11046d514b6688c563e6fe45142a5e958b710558f475c8c12390fe69b7e37e3cc7e6a529212e05c4601f51c36ecd0f1f9e2ec52b63e1928986203525d39a3f50ba3531bd0b3814f050155bf7f29f88106c6cf4de53ecc6f39a2bec620fd4df6e8c5dd9201665035f61f84ac680fb3c0dcb655de0961bd7fcc071bf53c90c4f61cc3915347417261c80a8a56e9f62699e9b82e0a3578ba624e78ff063d1f71bd4b82cef3a7543747b79c81242bfe6aacaacb680b8ac813023a88782d966206b6d1c53c8b1293be52c204f6ba8c779565e54058b27f38f5ada69258b22b8cd82ae68b2df882024a388cb4946d0a3f207b3311c3e592d9564ada62ce7905f7dfd496b1662749ba3ad48672adfa7e56045d65346c72e61b897f6455e2098f7fb8fa94d094f0ab32691b4ca24cc9207fbc5f03e351d405b329a1355c3ef18fef3e4eae129907f4ca4717156fbf900eaf686f108b8ac0c9d6f2179e73ea3f7ed7b24319d8ad2b3aedf6658d7d2987d18938a2f405d1224f267d73c6dbd8ead49e2e4d4dce4c623e6d245e6b77507c7be710bb5e99645898bab49333d666396ef39cfe7f797c9a8f7ef73a79fbde6b535debbdc3a2960fd9938bff5ed7715924fd6c9e5d64cf21320c045d8d8632249990417a5b8a06258cfd733476ee374787a9977af30594014a3dd980b69da9c86b4e7f623e01b1666fe78f23a4a7729eed65147a92482d549dc4569963a6107c710c060e0927c8945d2849b88a59a1d91582814d66dfdfb4f9cf5a88ee85da8ada611947aa422aa28b4155762b6f282fb0abd140b95dab37029c58b3c28d2635b810cdfd65a999ab4fd230a3b2ea2240b2b5d95b595c96d2b83258d44598f63090baacb355067e8c85fbdeee1bd15cfbf731e6143362fd7dde1c4225f9934cf2f803ccc11810b5069ec5cdf20084a60c5603e202ccf4e0a8e5ba54626b4de64e82b82e836a73eb8b0de2e8962650cb977e6c6caa6019c75903dd0a85a86e80cf668fd1bf23a51a2a4f5669039f65a86d64381448f5b87e29a8810bff93c00d210928c07610c7d944aff8e5fa320044cc4f47c73912e981e1e4b83a44d29e7000e1c58a105bdc26bc97b0f78c0315a687e98e5384ea142a6d0ff57dacacfa10f90d6f2f4b3804bdb00cccf169072391ba6f1a0515a2c9cd3d22528e8bbcd6e7d17145e4f1c308d7aa01f836da941c5beb8c7a186c1128adcacebac106ae090f85792db02a300b43b76de0e9aca38188a9124769d7530bf7921593fcb055ace5970c1783371a7c4b7fd043a5f0c1e061385a73d27fb59ec891d843a279b985ebd21d99c68fee788de670f9ca11013a1236da458237f0a010f21eed76b331b4e4eb39c5d0d135763852a45d62ae3034866a0b57def8cc1d3d3afe9652959e0867b82b645f040fa205d01e518ee4e3de12a18d60114532fef2ea251e4ba1d35615a7d8cc8462df1286a082dfcd9fc28ddea7a2043fe51271f5c4756556c9117e2b24f03a68dee131953c36bdb721041362f4763948d2bf519d5d17d192f71beabda31daf29cf68d5fa83e27ecbe4d8c7ad44eb8b4099cc5951e79dd1fb0e5a054dd9f7bf379cb43b099654651edc687ba452f10b5a30897bc481148268ef0e27d3b53ab142503b8d1f0b104c6eb8c9ed1b769358aac0a89956b4c220ae7b39c5b9472c3bba5413739720c894a781796eb487895b79da290cfc9ab02213ffa5933859e19829d59d11509eee9995c4363fb5a35e1e5a267db89b1b26fbbc26f6454df454e234020da774815dbaf11724997890f8b61ac4b7a5aff17928ebabfcd39caed8b59226a893ac5aae922a7f4649517996cbfa793d58b542561aa5c71349cb0c7a302404f06cdae4af657988981ac529dcacea4a35869937783fbccf4db51c25d864a8aff4ceab13c175e77ff507e4e4a26cc65c34624d4e504a8e38994638adfc75769428bff39aa4fb272ba02c8dcd293b559fc686e1248906fdc1cd3ba52eb5f7c6b1eef05e9ab6ac0e63c89f2e40c9ea77edd455d4d8e7b6ea51db4038672aa7501c0e2cc9ed5e22a7cbd1d802ae4f516deb2af1fca16b9c6012790636531b51c3415645e238360ba983314d2e30ffcb653d62d436424ff6f2f5aa939a08c96c2dac16a8cd065d66fa6bee356cf7d9987ce4c78da3e67db7b3ba8416d943dec5f671eb46f3f148b3da9a19486ddd872c5bf74f8412a77f6ac0431d97ea32270bb76a45646942be8afc2eb5c375bc3dfd0a3c20ee51703156f1297a04752371a0bdae145a5003765ca7dd3ea1842e7d214774bc6932211bd47d4f8261af8054d37abcc3060cf90187dd3aeb23dea96809d7e9833be403c1ebe872431176899d8b70b5634a36420ec3d3ea346db75b0be5d64edf0151c49612b60ad04abcfee27487252b8f2eff7c860b2d6c44b4d4167c65c5ed97bcc52e33ef90218f706a6bb9bd795e0d253953f248552501593a13a1efd2372d8b9451e317a651955bc2ae984858ddda18e0f7db271d0d5e342634d804e98d1b134cf9b4ec762a93cdff7a349968f44cfe9038444387d5e8f08af62e642f9124698481d332851fa171238069d500ff8ea96896d534f3d7d32b0d18b4dbd292bab403685230fb71e9d02ee3a623408d2d699ce8d232e8cc865f6540b91b70baa4e323b163da2859e427aeb2c72617a64b3878e482bdf7973e53edf36485a0ac6148e76f2a137856d1bff34670d5968782879d650a9db535239769b2de2c4aec1014c599161885d342b218dbf90b53add18368299b0dabe49316da336bd6b6fcb6e478c4a18c2c302eb7abd2e6f9a33f05cede98cc7401f041d04852245405e4905fbf7812375830e69d25620a674e893e27def0984a5c9a895e14021c24b6d7ae7ea165781e0ae5f00c8d414b305b3e331ae71844e0fa318eb0c05b7efe86f42145a89efae7349f61543550621456e5a4062b9e8d0d22ae66c56f388dac301240958f8d1f21ea1daf9ece760e53bbb1cdcf8d932f85b8e8a4d71811b8f630b8d4db26a998ac722f68d1d88d6d00754cedaecb14c0eab7037eca3f5f751c27fa90efdd543613f3fe5a44a5e50fd27375efab13a2f90ff60ee582d08d26089bd24be6df30300416c67e9ce61edce4fc0d44dd1a393cbc2441f98a6bac4d83cb62c5f1b1757bba2cfcfc46d34dcc921bb6fd687de985397882c4a9dc8e3cbf87e8fd6471dbe8543c27658a26e534823e8c377ed7e763c9f24ef4823dac69f69cb6762b79aff9174f300548911c3f4e7f66056155cc87af05ac716764eb260f69cbfae25a02d146de5397204339f87e114da1648e249b1b0891d22e14456d38b861e7ed4c3299b26a4b3df06af7bf8f34245444149cf8bb286a057f94884443080ac162b94aad1511a6548e91412d94bdbfb5c8a0d2606ad8065bb47ab36a5deb2f17bc2f13ca57fbd9af238ccf372f23953c2d0eb029ff39d3d04cf116537fe0422df1de8996d1820621bc10e784aa01ad522db82710b6ece81e3d7115b7201be45206f1166e53888781a171ac520a68ff0b87de8d0531d1fc24a4d1dbb433189f0eedd8541fd7c021fb14f0f6b38855843b17a918a0ecb04d6c4d1df7e2a9f155ac992f7df3264df7a2ac80a68ddafcb5fe9c26fc2188bdccf3e78bc2e9547cd8cad9cd1fb9282fa23dc73b417fd7865b3d54a230ed9e64c22d562dc48d40ab4050e2ab6b958fb01190c63c8586fa1e88bbba938a43a1bafc0c44813c205b59a64f3eefa2e639a6301670cbbc4d5e12f5f58eb1f4b9723af4a5276a28ac98eddbb7cf84ec1c3a85d6b317cdeb6a7ef802efef510b72c282e160d66c02f6a7dc3449978e47d329e04e6a03da8b58c3d350dd4105a99991b08d1c392cd6c160793c3e558f0bd2d36cd5e5b85d573d365ab269e8a118cb2093d1717c4844bdcff6a4e1665ac26b82dd1b6a4a0a4afca9ff52021c0374de0ddf6bd99ef7cc256ef4c24d10b2e978b0d57d35c08d7561d959df9f13ac8e3260645853fdf9f7cd4e350a0de7fcbc1b959366ee25a5954e92226610ab544aa913ba04893cf75e5be3315846a7f4129d4c055624c1f90c46cd4e7000f25506607fbabe8203bf17d75143d892ee2567359163b85e7967db77f2fa592f293501e9ed2f95f091281d859c9274783fae1f0ca42b9a83cc86470b80e653b53202d9591a484256d59c30c798852a3ca4abac3a6203c6cf356d7fb7071d0acc97adfc0d8f143dff78150c4fd3e866fc91e5950e5548a315c60fec37210fb460d651e7d28215baace26ff64ef9c77486bb4fc212361577a492434214977ba92a71d7e1e7e96af48cecde3889198e2d5b285d5c333703647aa6fa7778e712d6b193488d6491b37859d5423a0de828aafadd8a43ae652ece7b4264d7d371053e3b5f77d7a9a8203e7696ae41c5ebd5c9cffb67df906dc74f016b113d8838ea5c519ffc32163a0aabc31afa625cc29db0aec2c64e6be70da71aadedf1b9088c37439525fab1080515ab08405734b2f6514fc12a1a0b2dae4cf460be352da701bc8714073a31dcc4a763e12e48dcc92226300c1e93abe6dc65ae52a492963e5df194170b996d6804b9e120d522ff9beff104a2bbe1cb49dc912c429ff7ca9b95aa5c2ebfaf0cdc3cdd497afc9efc0784c0f6751b1eccce0ff58afe8e1e3ffea170b74f203df361fefc9be1126408c7a82d96d64e45295eb5c444b0682c020ae63d3cfd9251fa43baeeec64b77d0c519a0da109242c23a803f31edcb053930c495e2bf2435989a6c66631c59ff7d2dfe9ffe8dfa1fd8204cfcd852666279e739bfdcdf5db57a620616d4366e25091144a63b772c5c4da2aa188f0022b913ace7af8423507dd58220504c5bce4be543aca4dd1a47970359868c85876f46b82c82bca0fe3f54e4252c44903807d93384bc0bc4e34b6aa4dcc9492e66e0b80a32d34dae154a8c100514f64ead73ab2aed056a483f7b181c45b0c3fadcfda0c35b","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3848a769d7526cc65ce97995ed87ca00"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
