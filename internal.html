<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"765718ab65975a10ac47641696bf66776116f09f64bbebd697722128588c24dd8364122ec878018edc49e3a86a52198cdded2eca23cf50faa75f1f3b7abaef461950411d3d0b4c9d63634b1ae8aefc16e48877c1c134e0544fb40abda31f25709bc205811233dec6487c29f25e9ed13525b3de5dbe42a15ec8b1354d9f204fb1a99de75ec0f4b712ef897f90ad36627532719dd7d75ebee8b317678cd426ed19f6f0bb29a8e36bf308fb3f4633c01ccfd4357ecbfa28a676d632dc84ba87d30e51c867e765769c0034ed18e9c91affaca046f7362a11b2198b6d5d5dd6e7f943ab8a3f0920589aa16658d0e9334128110c78d8dbd1bf58ceddca02ed1a16bd12de7141f24158ff9f2265ec6e101012a9b9add676c4b825be1164c3556367869bddcbdc0a0e765a3965fd92434a3a02b13358343c74312afdb45c1b6bca0c9946732945382e566694d506c0871bf2c347febb0674c7b76ce620fec579dcf4add00609c31bad01b977a2db0ac21fb20c2620aa23b266e437d993eff177cdfd3310c481bffd7fe3e8bfd368cfd36fb4677dc78ebd3a10fe6956113a080e99d68164a345a35a3014af9a8f79ee3929375815b85f4a405ec8b21580959c3592004bf214112e0b4f5695d5b978829c404ef1c78a7d17ab2d7c5b1db2539761edc920c8d4ed81fcd9d9208b3c4317016a5ef3298ac817ac4dc6a3b75b04f9680139c4ad6b81a005d85a324d388292b8bab5d4b4df60db00fae7d87864390b94d37748618c52b54e76d72bb44878277f1b643804d36b0970f80f665c9eb994ae3af2d4a2424e8ac55cfb8adfb6a20d2a8394af292c6dce1d94b96446dacec8425a025ab7f24ac08e6b8a5146ae44be9769322e21dfdefc93be4cecfdd3d5e01817f6c77aeb46044525aab7354ea046a6d804df3ef4c7f9b518bb602224ed84ccade3084862bddc020ed15750c9527ebf61b1deb7719bc0ca2a423f84b1af87724ee4646acac02a1248931fbd9bcdc280ff1654f08d4c0f02dea5911855fdfa4e1c260dd466b22f97ed2bbf9e172e019c49adc797b790604218af9f0104fcbd78e3465ae0f631128b472d47eafb4869c3aa8bba239575b02f707a1f1c64a672ad3ca49accc856c8b789947bcf5c143c7fae0265a66e26a0267d4ef2c3ac3483ecf75ced0b6f4110631038a3f9120f216ca56093b8301d7facd62b2fa891aa1e68cca99679d9c8278766237656e98085224f794021c33e101900b8c42fb6e35afc15385df01e58584ad0f2c15da68c20d04dd44d3461620b37153a92037d58111e495ac48417f162937a3272ab8dd41293e7b576cee683f7234060cb410163c2e63459eae600866cd9f08e5e77adaf32c74cdbcee5560041507acd2bf0ac19b619a9073d824ebec88faae73946c5b96e607cd5edecdaff93a89329e507b07db85c6fb5a4b965176c19a8d75980cb74e3f99784de0fc2458b03d4c3b60ba8f26ee4e1dda4398a1e35ef451ea505cf31026ec444abe60b52989c56cb8540c2aa26b9b11e42929bb7e2dab2713a98982fd801b570b5820287ad2e92f7ec2fc15210a2f2fcc22544ae2d13de029891fc60da7656558c4d26f969987fa6a748fdb6beec5d449c5e019e25adebdbe7c1142e85f74a9fed792bdb794be70a58997af6de0e6cc404722b299398a867b1a7078db5afa9a9e56b2c1cf88777469b3498d6bc23b37cdd1b61de3c2cc245f5a28991640a829d50a67a73cd10d4a6b4ae2e6d1c10b807dc7d98b4128b1a863a44ad0d0fccf024d3e9efe7bd32e229fe507d68065cff5eb3fb98ddeacf9a19df22b242d7239711bd3621a3b52ed445e763788e3a60eee0691687efee9b693f82e90087fbb08f72707bd8dc36e0c7d3914aec98a021d819853b3237dba20eafe4cc02e86cba2c3d2dbf4a71f544ad3f75ad6ffc2d1b813416bcc2677e7643548c9ca0b7424415728f3fd7cc9a324ee55d4ee94747d86628db906fed7bca2d93c44b97a30d5326d9aa7a447f321d02345ed4432f220cfb353ca06cfab154e2f6bca060aa6154731d98f0fdb538091a5070a1212036e0cc3b9b5d9280cdbb195b12e07633c8079daf5358fb32d2c3ff2c649f7ff4e461701fe985d634ada61c34523694a42e2dfa11e9ba2b718323b6d6ecc120ac671e91a36c9eda549fd38963a0cc6f6df290034670be138bf35c984baec6204f8ac9b41d2f96f08812b96b9ea10d7ecce54ba8b1f5a23684a18e473b4f3f26aac43c5a33db2a247e28b5838dcf071742c77a7aab31cd31afa9c06b846975baa35eea62c74608f7b10ef97fcdad949f312374217aa2325b199eaa45544962cdd38a36d69d01351bf36cec351ae50261872c90c64fefbff744ded48b607f7b7e588a5f4dbd041461b8b6a96e73695c1d1557d67f831cab32317c63c15b6422c4bc335cdcee99538ec46f4bd7449da0b1a3ac825b63579fb8df0d03ca51c336fa0d9592f2a4a6a9653b725a25daeb10e1cf5b3b011618f00ce812de6175f762abb8bf60f0e7105bc398215f37ec4fdd00378fd9f008053d4689fc57de740a3f54457223bb398cacd284b46a639c3d6bd300c93fffa568f7ab9aebd96dc3dc315a3b16ad70b17eae92974d98a7f26f8bde9dbd05bc067be822b16add246fbd510a77bebaa0ba3fcccfcfe76a9ffec7446080f095d9097b9dddfc15c35386d65d47fbcca1ec51fd753faef37d583bb8fb97e5082bf6537aa5bd58b16418833675b192fbf362d6bb7f5d1a962794e7847659c927bed67b135e6a66c7c728ad972ba734a4fb45b48b08d074328248240a531412f87bd3688ef9c11cb2632fa5ebfcf70328c87b2c0a9de8183e58cbb529fdbf1cd7837cabfef235b2c0a00a2b223dee97b439e7ad2229b5d7bd8c338cd446049f3f574273088986c7bab08555ec4b0fc3c89839cf4018adb3ffcf633dd547c0c67bfae65dda4655ca03912789eec41b9f65970b95238fd354c881cc0e57d969b8512a1358feab40eef60a06a56a771c248c96fdada5250546fb476b929e09b87676ce767af48e883ee3a01a11a98f65fa608782d9eac9c09aae9140234b952a10776e8978e9bf1529c40b696900c24434e7bbedfa8ee612b84db10cd6a8704ccfcc9067ead244377426f3a612b581cdeda364a5188916b38f5c59efac151ff279f4a3c0500b95db641fc2e953f249ff9ceed62ff3c8970f9ae0da911cd3adcda195085de32ad5da5390a37c96637bcd36c9a2b1ff024b5be3c55ebee24b98be6441f47cee122ca3d144719321c7465c633507c7dbfa41b67a5cc48ee74601f062685351e186fdebb5aa80eed93002b2e2a207a1c40ddd258a63c773b7a87e1de18ae99e2fedb2e04e443c4acac8739cb4e34f4285535a6b53ba68a6b759b55340e9b07d0d704d1f22801c1efa143434164a79621551a3d01e2043dddd4fe82cde91355a23e00b3764aed33be8db37ee1d2a0ed28653f4117af51eb82c69a732476dad752fac5565d2d7acd0cff3ec9667e8b0a2b6d5eb37b56b5c079e97040497f9b073981606119a4903ab268b564d1bd279e8d33e74ea9923e91f42cb7462249d66a433ccfae7f3e05937c08993da3d145c041b32502b19a37b6d31dd1498d1152b1a634924b91bbb7e0ee958f98b02c917820f8cc1b77a8e54482a59eb58c72d33c2fe36c2e0b062f41d23d1f614a3bac5e47283c67c0daec94866ebaef8312eafbc1b3173657feb7a697a2f6a7db0f328cf2fcdbeab788a3d98a7761fe508573c129a43cba629e4a2b3a4aaea20c69ec30a82c30fe3db999df4d857ad6084ba263f61e1c7702ac04acb66c5e155a02ec2a95df4d72da201b88e7915fdd08cdfff2c0bebb88912c1a42a2ba2818f83227c8faf033823d08771aaf0d9c81c9a06e2aea9a54edc4b820daa5f22d0a73ae31be351076e455ac80bd056bc6eeed36361c54a0372b0aebcc64bca6ed584aab1de01d1baffb08e2a9a8953cf77193141e71ce87a68815cedd57989a7101b4e14ab7b5456608436ce73f7d48263c67e5ae5d1e8419ac4470033a991a325369775fc52890d8f6f039b4d600ba9c7d2f826b98090360865d7c5b924ed1b9108053710ab0e8bc197d7bded7fd4dd3f253e5c0f15cfeaf8d5294ba3a27176bb671e0113c686cfd582984215b166ab9179eb6df7b24c391eaab0e055ccdf88d01fce1c70900ec48a00d3bdd9a7428b5f7c112c7b1af2f7691744b4c8ddc5a2a5473c7b7f3ab9f7b558c9c07fb9a3eb06d26c343d50d04552902635bd3a8b152e20da7d33b0432d42fd87dde9e3d192c504f6e1d357fc69c0dc0746494231421a7bde63ee21ef52726083f868dd8fa2f341d7cffefa61bfafcde8a24d8b84940c7db66ba686a0dd539478523badbb5093680a08f71185f35c42e2aa83614ba63a7e4d3f0946d36ba941ffa00f10a1e56bbf2d7744a8e5052481398a4debe536ab2610a4d26944aca5d207283c64e26d3732f8811a2ed1f01cc22ac5b621a1b1c555ef1fb2743ffa209a523dfa6401cc5b2aac8cd92866be1147bfad7d7147690f733606589f37ebca93ffbf2683905d5a6c1952683c11e93102ec29cec27fd286f41b79235bf9fe387e28a5ebe067b4e8cf38aca4f68430e60fe4e585a649cceee47a6a981d85ce909295c6ac3c1513851f88de52a72d1df63b7fbdc3780bf2ee7a6aba7fd5d3f2e2e1416ddb4271cabe42f391e4d8e528bd5e5a9cbdfc2a026c1da0f2a2dd38ed1128abe76e6089036a84b61c9ef1921d3dea1dafde7ab553bd0c1b3f1649f29b1f3e81bdfefc812bb1f1bc28233b7258d062b14a9f9a0f4039ba25aba7c33c8e88baa62b8655cc15832bad9a69a7bf2294837859dab8a2a0923f71f2e05c745351ca73e7d87bb8a8a9f7f13c5a1d3ea069868b746563c3752153b9489bc48ee6b5c083125573a2f8f50559977f6161e64dfe684e7d23501e3e543dfdb110ebd40bde1f7b248cbd02d92e84e956cf6d3af645b9ee19e5fb5d725b1ce22fc20d2588d1afc87aaf75d7683ac9c99ca6c936779cf57dcc837a4d8256b9d0c7ee252c0a9171e882964d3152beee843da84c7c7a45574731da1e0f8e2c46daa0f99aada7aa4257853fe7491ae021aa8d8a752fc42c47578b5f8dfe17ca4da483b159656345c98046a9c33540a375aee7bfc33bac05ee8474d15410b9498a10853af37e06183a66ecec3af57ed893d7c8e82d0ad54476aadeda4bb9cd5b42409efed22ecf98d47c6b32c4c1bdb031b2b50a8b8a063e016cae3bc368f23c0edd9690cddf1387e504958407cebf36fff471a62e4749ce5ec10cd42230cab4a20ed2f130af6595cde9d4c22fdcf71481d82d1610c3edcfaadc6e798c33536cc39da77067d960e79465bfbd567c7b615d14403775dc04c2631346c33796aade8b15ed3b09804d9630996e70815ee9b90e3509c57ed2f0ccf137a2f30aac43fbb3f184f74a3c93ed12f7fe36e0a6a6134ed6a03756ffda982917c22a13e01b2ddbbb1ecd162eb089c6f110ee9f2a19544ac9f500ff573c54113586a1daa908d82debdbef463d6ce876b8e47de8c3bd64100804c6b20df8b9d37f68fd53566a20569f810d8d68095c7d4aab1913f934f66f0a66f94422f4c9e38fbc4f86b818c5f43841069010b36accc25ed4b516be6a60c6c18768dc6e5ed84e2d6a8cc8b404c507ddc1622b9725bfdf8ac07f0b995d022b1cb4f89df706adb1b0de5aec471b23736057ee2901f42e90c36dac825408aafde5d002ba590e19511f5c9782813344830515231b39028766e572718af806f717f1a62ff642d5da35caaf08fb212ad8ecd145242bbdb28fd1fc076a5cd8ace9f56bd9faf5f69a2c125ee6c23280901b342cf28d53e9fc55a4c8462bd1eea60a79108811304ee0f6a5fe5d5aba982468bca0b8a38ca9ab3483ccdf37564403c0f6296867d3a5ddb0dae80e62d8d276e506f8acca57dfce4448a4f9eedcb7e7255223882a32a1be8f36f4d031c11ac9293cb84472762d08f34ec94e267b4c5e4dae1c2411cb672e20a3eb66e372a124b29bf9cc154935a6f80debccff54717604758c3fb6034cc5eba55756ecb144390e17d3e85bb858a392ea346df756f952f9be88c9fda60fb7fb42605b78d59b954a8ae5ee00ca0d14374634c757aa8f91a90379d2b38241f751af726346939fa844b1aa8005a5fa86da80124bf9c9a6ab925e91a867b756ad2e211322f23edb475ca5c2bb0b235274a997c21c20a9170648e3f3061d3882482b658cf30cb3b7157a1de41110d6186258c9d037e87f74ce829f3a2608de67ebfff10f98d5158129aff9d2b6cce7c4617453083e60098c8496752cb7bf19b8cb68b80b3584592b49048536aa358f1df7da665b30be98740ab872e07e077412294a424e1bbfac6b409bbb149099e252fcf08fbb2e4063b65970ce573179f667d32950c9b2f3df722141325e7e43ea375b30d3dd295965e9e4458b1c5481cc6699986d4327160a48a2a8a4b71868a1aa8197d304c604624ca08abcf9eaeda1900d3296445c45b9ee0d1de94c94521221fa92b6ec3f141cae6171da7cfbcfd18f2e5f2fbf14af96a43f66a0f517843619eb47b5fd7a2102ed65cb29a941fb2b6690c553ee1710f33c8d4022885dc738f7b3c75468cddc99124276f772f1b122ba7fd0fb01ca7887e5e3417d7b0ba2dfa018f4840ada09abdde3b1fba29e0726589ddaac8010a7ebfff63edb671008d42a886e2c15e77b679db72dd198983bea210e6f226d918e854dc6eb099cf0fb6fc7ae1405d1ee7b06eb2f29c2b244eaa1e9d4cd000616e9706e3302ffed6b094fea2a91cfb7bf9302f3b629392ce8ba745cb6787c5a358763bd6403923aa451f4f4a42a87f112f765ae3ff41b05d4d73fed04401b33a299c6baf6cbe8faa174954dbf9c13f2ed2744b2fb57d6bbeb5e10319ddd58732fc2c8282b7d5290cab25c1d8770c828c62b9ae122cf3799962a6bff689258f13513520e5b52fda52719636823193d295fe6c3866329122fbea986d0181c3717c5348a57eb91e0c403ae778fd9f568d7ee4eb77e2e327725bb9f8c1a6c00ca1710ad614f42a15d3b543d0ea7df24924f88b8952cc66dd0849008ad6cf91c2c2bf9468434c3cdd7f0c937190bcc1332063ef44b1712bcfe01340f30ce9b46b2f9b08d81dcbad670a1488ae65f4b06b84c607775ec23da35250db7dcc096b3cad6cc2bef95e6cdfbb046554e3cd71c04447ffae968fd10f1c5892353e06c27ad580747d21460a60bc77ef7866c8deea128dff00636a0364215b1f803b24692c516f6fdb607313860ba6d89b72f9b4750b445e7413c998dd84dffd3b8ffe216eb0c678e9b2b5129af8e563e362a83cbeb0184c0b0764c28c065c8db9c63f635632cf9bf748b9a3332ef15ad6ceed64f521395d4e4fcb5dc85fa0540be661e07bf82237218a7c55602150af32d3b2e0a9cabb22b21400e71c32f2e6c96798730e82734362e3ae465c308ccb5e3e1c4500c1efdc8c29a04138216724c7fb5d4978051e4d6754b6a75e46d73b78186461b9f0ebd8855f26442710579d6044250a3f9cb8c1fa8f6ae1f6478037ff3c16532ab51c52486d2995ba2ca78bf6ed75f62eab70e5a55fd4eb7c896931575a694bd70a1918c9a9d0a46d4dc04afe2a641495a25b0f41c8a5323b1e55cb936d9ae25a67120a878081f7999deb55c7ba93f4692b77397ac8c99eb05b3f7debbce869074d999d5cb9582095a854a4fd9b7822c6a33d4f32ea8437dfe33a7b91dec86e3eafd2a433abbecc869a0a776879e2f82711dd600d3f74d311a5d2f6c0a0ab1b0dcc0b209f6ba5f3efc938876f641acce52e375701444c278f32b31e85e7efda86c0ca848381d6dd575649a59a0509e55f300db461983345e7c80f1ef37b30321b5120f03eef2605547229e41a697a0edefaf4fc7d5cceb5a007fddf56858178c3a663a9c5be8a2f8502c79d84c7d756c6ecc6f05dc943eb7191e1518465b6637b4a21639f78f428fa2b994a3a3da0772995fec49e1619281b4d59c9a90f4e9985a5505bce36629509d111de83bd6f8041179623b010cf4851987a5906f02cf2c8f084955447dd173d20c78e94013f634f62deff0f78aa664b09ab980ceee5551011148ffaada7425b3cc7763490e5e127de4626098f89c55b84f603f20802f8e6f49a2d92b330b655eba68c2aef772d4141c0038c1d11ff0199f96aaf102138ca823deadead8e871b5c14f0da736e1a1114b9c1415ac739ecbf6f3ab915ade4f15c6c2728a451b1b3803a3dcd7361b068d05fb37019b2384d1f881ba1f296e0aa79e2a0630c647551e58c522e2af89b5509ca0e4bb21427efb75edcf9ec8a16446517e33992c19488893c679fa8f2eb474ad27209b34dc9c386519d55867968a81abf839baac5201900ad72e62b3d8592e11170722da26168d0fcd0cb62899dd4a27ea2f992faf9311d0100ba3b5d925a8a73bfa917eca971b3fc62b80b929d276560bda535360d54e9aa14bfcdfda36fe6b7bf16e0477a833aa82fc0cfb8d6674cc508819e8a4dcdade5bf659f1db0994dc80fe5f978dc6623b8b59b7320f95ee15ca1c6a7072f78b88076cbac132dc65b5ffbba0856a20dcf87e1c78328b43b82d0e4fa17cafcd69b223c4f797fa77caba54756e11dabf3199f33679bb211d676e118ef07aa3d4985e9798f0683e632070d52b698ac64a03e8b89fc5e1c9669bf89df1b967ce7f05986bcf10362e9cedb74a3e5297ce5524c675bb03874ba046d543be027d37807e7ea7f223707ed75adf7ecc9e07a6575e0b3e14e3df22e0a1c45761bbcbcd9b84c6e567e68d2fd30b4c23cdecc9f7d8efb133fa3800fe6a1d5f47269508fc095fd89ae6d8803b25c369e36717549231de17c13f446a9f8d3e00c30bc7df5d9baa058bd72d6a5f2fe2bff188b887c6edc9509531922f2212cc9ef02a5999b32894ff1d849255d0e11866ce7cca3e98a7d5c03674b0c596c76beeec7e1ab891ef35c14a5feed4d9800e86909d0798337584da278a8506fa1dd92c0a56359bfe0a0ced43719e990fe921d82ab7047f65e16269d9a3c18b359be05d270db1cdb7ea36996e17cacd45414a68d189c17ade5ddf7bd42bdc16460959a5aa9237e94bcf77c140f7ffb1e41c57bc8050b2a0924ffe69b76c47fc10bb2e8c495f92454c40a85c1e75ad1b4a0f0b966686160537cec34c4f03893b108fca246034740504b9df3bab81c76ac9b0ecb8f018fc835426ce69750fa18f862f75a48fca30e23bc3f807279d45d7dafc46b0b60caf642119acf718b217c913b58d3c7d14578ddfd2f824597833a9fd015c73ff4ce2604b5c34d80cd6ae967fce3053251e4df7c411522d0b32bd696a1ed570c3af539558863e706f03f4ebab34d58f0a470ee59d1042ac09dedb75188a033bde89abfe0a16033f981a7af2856dbb1fa35734ccc14d1910ee7ecf74329d8eb03c626bcc707707a50cb74b9bb888885feee46650039c3466b9bf36eede3c33f655faefeeecc131da497b343880e2ac6bfd8a2a800d075a1a616801307225294c2eb49c93e7207c1685978969022b5d5bf22a551199644c1897411ed2f25a2a34ab07cb852e20d10d11ab2a6c19fa32f5bc7b9f8a9aecc78c15eee4ac34c60d51b68ff5218b7480a568498b4acd7608d42351443ba00a712253d2756bc6c2784c6495ffe4861da564dcb2c3e884d57db79781540ef71a58e59c74cfc72edfee93965ede2ba4b05716c378411e807bed9ab9c36dea6af919f3063c62c1aae4622b36c8be1792c4be70f2c499bd55be73526236bb9d449c5fb549da61a5638719f22b681c8eb971017a29d4151dc680378f3a6894eb511bb0ce65a293b4c4d885ef15b1bbf6804bcbb414ed91e14850be4bd85250031b7f9dbf432511822ced53932751f0f65070b9b3c133c8ce4af5e5b53445f3f8da224b591d148cfa1cc00ae2321b95af40c0a5fb60b69afb7b614bad6a314cfc89487a9294f00346b2c6d9d7fab30352a0cf32ce60bd442f8e640dcb06b76bddb7caa9c25359b3b4d208cf2b1fe9a677d09b132d857a37110ad3d8f1f4a8df3ae11fa37216ee3a8df2ab8d2a47b5c6a2ea1cd379d28e2283241778286745e93f2bcf4af10e3f625c807059bb7ef2b52bbeb538eae5f7a8f7b5d4bb182b66bdcf7a317e0e94645b1e3e5046454a0e7bd8d5eded5a720ab7857e6bf5575d438d653ec45b8fe66ac3facdd032321b485b7b659b235cefcced56d347731364a213642653693491e64dd9c589fc5e04bcb2ea4a2814aaa8caf6743c679fea0d7debd9045201593f740f4883b1b00691b8002b3a67d31abdc2c59a3528f568822182e1a1fefd6d6f4433c5caf8514b3a0aec895567b6c558bed609a80416a8a922f8d6daf359619267b13659263114c3773c3b6ebe5698f8467eb23a7e29a0cdf45ad0950188f9208059b45f59b56fafee93192b46a81332da097bd648617e2292de7b870da09e52892235ee1bca8dfddd33ec1968231a2a5500b45c21a900a9104b524678d472f7d856f8891266e610e444420e3b464ab67913525b25c184c0775528f106ea751dc86b040119011610fff2992dc21eba0ff10b94138fc98632a85b2ea9b312fd0abe2086bdf1449e29604d5593699ac48ef9047196696dd172703f5ad045cc005ad9fe599ee656e1153ee380ed07d14b4ad92455bd619355147d323f9f4a7e6918de51e8fd2cfe10f550b5e1eb6ca743c2b9710765c23eb67f477057d9f44cefff14f6b75455bc1af9fb73afed89b51a51944db7820a94d1f6ffba257423d48498a50ba6c467bab752b176dccd1586bdaef5fefa8dae33fedd96e93177b10fced4e87a74e4b8ef09bc8e444eb94753b722b453c3d5229a4ca81ade1eed21a45f429b626a4f13564bd33d5d59a90cd57353a9c3bac51a6407469af86960db11e8f4f2b8acf6fa6b255218477eb9dde33688bed3518d488bf6623cae49089d21b4e738b8e863e991428eb66bff81ec5c0d09f0b3ceca240953e827d5574134d1878538dd9a00582651fa0259106d5bb51c18227f4c88533af502cd3eec1ca9974b2918a6cff8c6686eaab057e63a1cba9c4f54e99b8cef7cddcb09443eeeab675d9dc19fca59085db19091e270a5b7e0bb0623a9236b09041905c33ce7e192202526855c4033b7d15e654394be35f4b0acec196dbfabe6afaac647fb0516f388d2cf1c2acfefb8c7e0dd05111964f4fc3608569efef16c258236bf6e1211f87b3e00035ed002131c56807bdcb09a92f3c8bc3b5fe4637a8ffc2cb4f2f284127128c2368439b676b9a6dba2c7635b339038b291e9cba29977b0807dfb727a5ccdc929213a69e83a38853a11a94edcfda0cd4b2ae399df32078d5ada6dcab7678d2ea5266c10660ab123ce9d5350061a32bf545bffb6e88585df41a3cc67acda3d3da0a8e5e367b50425c978b5a688897268f511c9e8d8f574e6374af7b98a51c91e30db61a3546dd438cbc6bc13221cb3f8aad6253f9a53548fd6ab7d7c824441a63c4bd82470026f34cfd2768f1cabd65710017cb9c9a50c8a5993bcc24361a450b9b8d2c13bf83223750e74a0226be572be16923d7f44c82adf62b1d0102f72679e9cf5fe5072b3a6a108859f7e913582aedb83b853231b86aafcf88d32e4990093161295f053e2af6824bea8eded8aabd4e7ff2e6dedc581e478be5cb925fef7ecf36e39aac6e338cdb8c171a80103e5dff861fd80f1f29a3308a8b9ab3c4fe6c6fb947710f88b9e4948e1a1a5a5a2346897a14a64edb81a0d47d6d6c8c95486e8ccd55c7d5b9bd1d197ae56d61111e3b4ee4dcf14a3bbd4940bb4f854590db235f5990303dc8e58ec2f5ad779336c7a7927cadd76cd15930fa8809c8e53a26d65a32f6a8a31b6911a6e6c5ca64762fc74a9c24b17d14a18706cb9665cd35b199e8cbbc77bdd5ec08d77961d9de1b105c4100b1c9f2250d3c863c1220b3bc04e8daae08911f1d2ad634af2733bfc1a0be65a623d0bc3152e154c8ae761bf56e15c295377169c868418a835b7a244b46529f64d34f48488700ed93d56c909839900258fec3ef34bc1d1c82de188cd13122c06523c9b33aa5d45312537089b1b426452922af1e6c3b1592a32b609206e6862b77d53eefd9fe0c24f9720c825eac5e868f4b6717d36f528fdb83ef56c50b0825b4954ef687aadcee4fe47d43194b805025e1a312e902b30af6b5921c8d4e2dfb839ab5fc26cc719785b2279a0428eb675f4c98bf395c87aebd98a15a85ce2b355bbeb76dd9b0b7a8f8b660411fe448e7fd3088571b80d4f0f720f84f927e6f4bd2d421a74c47363ac17097e0fd78f73d1758ab91cc91b09f13bade3a38284d346d07e728037bbdcf39c1986718ba8ce9e9aef58290c238b3fba0b96cc577dce0b50eeca6f20e5d13e069043b6f16aa4b4559d9ab75030295dbbd99b311714568eb2fae86ed3affb9c52fbdb921326457752fd2816a52f9c4c38fd3161f5894073be40db85c001eb347e17601a5c525148cac832368a6a268c740735781ce0d0dd6e3d1906458ba9b67289143c849b8c63ee18ce9061b80c9cea2c0aa33826e91e640356c5da0c97c8824d233fdbb5b1c0464278414faf650d922379d60cf215c9659ec1c6d99c98c906202784f6ed891b96d97a3be7569bbff1a50b254760282b6b315eb908e163951c26eadb888920f481bf0be62809ad569d7d9e72c4d984d62a8102ec0e509a700c90d5c2c7d80ce1be54dd5bd17497364275399133837e0dc9bbe3a361c5f7f06bf1854edce0f8008fe6e0d1cff7c1ab6c59e8df6e1aa8aefa67f7bd05bfb1dd30b6238c2cf923636dd9d7981d770a3b4986624c8a9f2d09b97e92062bca1bb3bb72f3da792bbfbb060dc8ed8edbd6f64fc1c67ea8c904abbb5f9f3dc55d7a3a6071be390a2f493729acf0c50adee25acd76959a84742a39ed8b54bdf89b2f92b205a2cbb34dcd65e9d7a13b6acb86f4592a0711fe6dd032a97895043eaec88a71aa1a472ca015238181b4b2e2095dfbdfd3ff3eb38da3ce1a734123c2e91432a07e0590065e511d672be5f9d8c47aa366765740685f8095e9c6995c8771bfcc63f9e95dc91181ea23b9e6ce481b90390f493facd847340ebcc75de4c30e0bcd5f361dff3a0ceb7a272806f7a9acec8ba39d9b23b9ff654e031719a33019d542199128c78a20981f98926fc2d26f6d361d8f7dd3389ced4193b2fe69cf6e6866be3d4e7ad2c26ecf9ba347c174a9090951edd005f39fb222607d87df152cb3a41c396ed5fbfdb8e2ef4ab5df65f277f900f5b4d59feec967a763c302821f1dba90130a7d2b19b9a8cd05e936701fa22e068498c3cbe327fd914b7c350a899f733c962c6197cf5c41876d18365c70501451dcc369468b071467655e3120183b4d9d1c4b1af7dfcd18241f453e889f33450af92ecc78029cf41e27121b696c1043c683aefc1a2d93f762dff0967789a484cdd80eb0aeae1b73f390c5f3189bb6bf6a849f43714a168e5cdb66f4b1b1dfcea0b4c880ed20bc45f92a930f07a9d72b734691b1bbf7b83d6cca359093f03c21ceadcfa4129e3f7e05f2766026adb8132f3731270a2395e9ea124735c1b4904e8f46fb8d01117e2b8ad9b927d0f0f515c92589e93f9c789678d30c0b1f376a291589eff227c2ed94c7171f682c6a29205561711bde6033e55a79fab31505e0d2d80dc8802df694a74f8e4d95209d8d95ee49929dc6399634a02b0b407c208a5fad0a29cfe2a5ff031fc5c47a63d5a7bc203769323c420597d671259f5c44bb1bdf412e57e79a1c391c969a04cd7c5e881afe4d2e924c9af9ad7a253d19dff9e7e9b19cf8f29c1add9709e9c9c8e7bb0e80978843103e337e65fb02224be40452ed75d53b96add8f76c063fc33a0f4ecb84d04333eec263c11801f061e26105216d17d929c30ea81dd24ae2a561d52aa506f9e489e76fc62df31c420cfc8ac5ff860aec877982d8b276279be58aa68acfd45b8033b8a57d6bdb3fa6fbf5642181911821a8ddf4ae7aafbc94d03af3a689e241b84d4eb4ee8ba6682d38d6b9ea5ed6327388b1adf09fb58e01fae02faf9bc89f0451f0820e7ff0ba47ab2b9f11586bef07278e860fca0997e6c671a186da673e933c77bd4fdf375c57719532287ded9addf02107fbcaf4376d9a3e91124b53de5f8cb7858233c69a85a24acdf1dbabcc6b502b26896aca25bd57fd2680dc34c8805bd21cda1aca837f32ee4421ccf57d5b8cfde17dbfb725acd2fb62efec903084bff241d2a518d245fc4df745d642a921fe4fd3aceca058bb2fd7c77bb4fae9194d6e4bf0aaee8735be000775cb96ffb4e50f160479d49ce2942ff99606b0ba976f76d1b769cad6376dea88832895c302e0db33bc203d736593ad76d42ec2bc59d7d849b92a3da10fde006e2b3b6a2d58d6ae78904bb96cd3911a2e86767bb293702fc22bfce1296f01e690fcbbd44b8be79dc4fd80d99a2828ebcc148d4626414cee4c965c28c7acf21e372a9a909adab55274c98068556d80f2959cc16d2f52fb13cc384d4b79fab0ef6dac48667b6e6bf22511667e548de84b27eedfc42e78436ddd30013ac892ceee4ad0d7f347a6cc32066540ada958d51efaa29a113ffffb208ad51a9f1e9eb8eef18634204bc3f0b8c1b1ff5116010167f30509bb56ab4d7310275f4d7b2e54eb13b6541073cc70beb5a188fd926fb08eadd296fe3c3bcf8c1d15512e9ba89102cce2a26352a1f6335ce2b28afce75a54322abb90831d3bff2dbf9a07a41861ead254177583eac80e8ce884a23f450efbce9910353afae002db2641470916753f071add8ece6caa59c283067c22fab168b4e0b14cee20c4456d4fcb22f256622e170d5712e9cc5ee3cda10f8e4c9024e73e7ddbadccd8d13d2a75c75f0869c20ff69e1344d93dd405a595f8787eb495959d27a8f833de9b0676170b991eb617f4a14888b2f6c255781eeddfdeb5e1c309ae9e316167ef507b26801b2df0745af0947f7884181d9c33f644a7b61cbe30f471422d0bf112a7fdb96caddab84d2e87374fd2ecb3699846b459efb7a326d2dcbf544def383a1bb519e08ee3b1db0d42840b89237511b1e13c2bf232c821df8cc501734e382f4ecedeb41feb018f57241bdb5c4922f28af6a85aed953b8baf0e16cfd1f055f9aabfb7a7d48539a639c901164f42228b2dcc79941a16aaffb7e6dacd4628afb1c2ee96ea7a4e2b81256baca1ba20e1cc3be724bb435c51718e4f401ba5bee2b537cccff063386181f4530142c32d8787e577f791cb4e03d946e5e4b5a4fd79b92d0533905f8c29fed8ab49cd74987d2249e34cd445db590a8c7154cfb6fa78f5836e9f3617d0edbbc8bbebcf3bc88cbc96599c15d7174532228b7835c2cd9a4b9fb661b125ce17275c7a4f761ea239898fe1b9869db300fb9230a17ac9367590279a41376434ca4adb2396b8ee58f10146711e47cc806ae9baca7a70de8b9bc36a58a446674da8579b3eba695c762b3f2ad7d648e780c53bcea78c01a5ba2d001e64957962c1224622496553c42ed4cb1be9502a1f326d1c847121617b8a69a06515f7070c96dd797c940476131a2182e431d4e4373c86e43802621a4263400c5e2db34060bf109b1172fa3951f3fd66c2cc08a06cbea1e1d5f0600269fc9a005e7b1e57829c8bca559a52131728bf602068e25c0ee22bc501f6532de20251ed32a94a1816c9f1f623648c35f60102034e078c260bce7e25625497212b1fff68c18b0941213944f3f056f8b2264fef214e7c7244cb7799ba681318d7baafb2d571ba9267cfa5313d56d74adec811f523cd51a0e8e2d019eed92c73f5b0049e3ceb07717a9764bccf9ba76f4ad131c64683b8bfc550a0e2bd8f7658a4e9dc71dec281f1f2c7e218a1750ca01ffc738e787a4d90e4bd25490f875858726932f06da74e337cc6439f0144043828b325c668e2feac968e1a67007c82d553785e71db737d5eac393ea6ed2e48ecbce51b2c8df849da51bf2649f401407543e66f5540b3f7991709d2dd8fc79079dd5fc822f0dd4a57621c9dc60467aa9a92e6ed97aadd1a88fc264aadfb4551421b1d56e9a06d6156cc0af85f30f3c8ae2d0c226b4424520e7f34604947ecba0181417cdb4eec47c0b320c551a943d0544e7c7d92898fefb2b8dd000bce56fcb0559f6eb216cc5cd3914a5fa7674a783108830495c213877e6bc85f498ef06fb1ceac8d96bb43758ba1fedda5f5ddbd4691882e5aff374d5d0752fc9dd5b505fb2d328ec693445acd6fe1bebb91254ea6b1d2771642fd3b9a815d67014c638ee7cb71edee90003f0e9c8267087858f976dfeab0715821d2d431a26f24b99e66658140cbcb7a76b06b98875023d47002804c86280ec2da95835eb58fd1b684ad3ef14239f139eb78392c4268444c77beaf07ccbf7281b99380465bd676564831ec33db9aeabd94c21b3f423e0d77fdb731c0abed15581153c2a86beb916cec4a2e25cbf683dff86f17d0e016f4fb10629d00401c3a411958e678299394bd598e0f12d0a3ccd7ccc0fbdc5d69a73b153ac2ade52541d7399624a7f52b80398151a3b1be01963fa4ccfb3a6c097d3d797a787190e1e2c8f6bebc8c1d5c7535988c63295620025e3419f1c62c1bc88b47bcbaf5d06416cf87bc8a73c789e1e2ddba3a6cbff82ac667aa23bcfd1135abd2af942b4508c953620eb32d876744875bad4d15f5584177e6798994dcde3c701922af6b0f965789d956f3aa20977958dc53705c463494aafbb63c111da766cd903900de5574cd31ac8cc57aeaabb680e2cc9bc2b41b991ee245366e0d8d18402f512ec5e3bd98eab44d243f68c8d9781bbaa650b22a20453fb0a22b3fc2a7b36161dd6fd379a74fafee443115480e7166a4f9040aefdc4328e1febf1e1bd6f0ba203fbde75cb1242010ed74d9b6806f46383d6799f5ff0e84e7c9d9728c2c5b61d3f7f3a790a1a0239cef0361155ffb50d5dee7f28de4c706dba7d735f34b0c1f962979144736ea3c423a25ff61c5c40afa60274ae9305cb2a21c8d463c975c77d02c3acf711749ec478b73b3b707b7c4c9bd2cc2f0827154e05267f7f398b1a8e4b6364961659875eab28807b431842050dd3bd5f51a03bfda021030faa892f97aa5b421fdaa919fee36c06a28254a6127687ba3ae4f40ff80d69b02535ca5b42bcdff1f1bf868cb28db8ae30436ef25c4f764c14ef4f1f7804118532e89dbb886fd04243e1f25f7f93fa6391690c7e8376d58ddca7fa1dd09e1254f61e909e75e210ec8903b3bcbeab48f0e1261ed9b9eb8c1224268f5f7e42c56f07be57d01fe40956ef14cf312e61056259a9e36b9e9e5182209f79a41c00e3acf59886a4c634ff713398967963bac853ff2947bfac0d22c3f06fa79db142a94ced56b652d718ddfb3dd857675b8abc5c1cc94fef2a07b40ee09ca968be3f8dcdd504d7e14ec94c3f50cc446f4a7e07f3d71e636e8c3a9eb614f413bc9e0b91429287ef56e6fce52a05dd893eb49b03eac0463228ca5a193609c1e2f3483dd15dab343092425e51f7f55cd2f55eb5af92249aa3c8edf9e2d0ce3de1f4c2e307784be437096a7afe375b13be5250f239efde449845fb80b3e1ba2d86c9cfefe51e8aef7ef514d7fc2c85e2943d24c329dc8b1ee082071077b4158deb32d8cb2c6d5331abbe55499cd9a0c13004e8b950b84027dc29202c5069d4a3d3b57628f1056f62f0ad2e516aa3aec967dea76f7e9089df907c397b3efb2b5eabfee1f02c2688a1155e658315e795b7c9639de1ae0eef1f0b0bddf6b6882ef6ec0be1550c22471bb8d261ed9f144fec2fb153b1088adc24baa72f1286932d0cf53b38a79869d9dcf9dc23787ada66be681a4e6f3e470848f39a7619556e377d6996219863326179bbc9855332e2d9776959c8ec8026775bc5b8fdb9fd145982d212c21768de266756634da9ff2e9542c2881c6a1c1e1ace928ab17fc1a0902d5aaa19144602a1d1709ee9742e932e37737b5eb3cfe8bbc1617f6163a7a2bfccb0aa1ba7312a0ea1cc9ba0d451ddceaca766061fc348a571151a4247ca8a3f49e86eff0ed6ee4379f7caf5fe1ce614848de5ffbad39d7100421ea2c038a6099dfc373b1654bc00ee5bb4b56fbb25670009aecb2803fe05dd3a826651de22c91f1e025c5c9ad99e52ce2b4dd459fe8e4375a9e968e66f52fa65083604f5993dffe370d4632462da1a65754123b20b4dfda54b6d51a3bce056d7385b2807e149d1e74fd10580c436ca35588ee68323b307d6575bb3339a97b1e4d1847b0e49db9c6fbbb5a7fb247b5218bffdb892eb44968b6040ca3f9df0eaa441a89cb2e7c746b762861edf5c044fe572088cdd52580090d453c746ade3cf7eed9bd92a123ca654e299e9715d9fd233313699eb565faf56a4ca6274e8fb5659021794b4155725075f0848bdbc6eb1fd459e91b8b2eefee3809d9fdb7e5a4c75eedea9d76e843d69a921ac1ac1d577bc3cb87e483ca00d5424d253ed049c3c890fd0e1367ade94692f67ce9e2ff5baa669124d9c262f1e8488d565ad43c87793c567799fffc997a341957eaffb77028d4115f68d36ce978d6a1c8537086ae215e769ef134772fda85b0f903cad3d6908909c21467d0adb703ad28bed8dfa8028beef9c0f0713208d249f97441fabd387e2a1495cb910795f27c113829d56c2d49dfa7749ff56cb47c83011d300f95b3e1a889573136204ead901f8dc2df794f8064701da5af53a91e04348943da93dced6bf1a89123bc5737ad1026d49dbee076d0d5e2392c62b33b77630450d3662d0a505cd4b46bad99a0ec96a1de7d50531068d6ee7a14c3457b650121baeb946c8be59f34e45af1416d8a6bef889f7456a53e0c410b03c6b16bc5c9b033ade0b914377ad50451e2bcbda19e5458f7c51a397fdddbf24f665dbce03c36327ac453a63342166879d947256316c4effacfb540bbc5f73c8e6cd6012adc28d34190162fc03dd8bf8d320e726e387592925576d558e78e1968baa42138cc35b19ac34429c98e955a39344b492f81c3c39194f8e710bb350d0b3238b9586c28c9802e0f669eb91767aab6b64dd5952746f5b9c7361fdccbcb615ff5fc92b039a31be5132d99bef09c538c5311ac8487acedef6a544f2b1062f8cd055e9199a2b2ead7db838be30ae2305eb4dc4c976d1aaa14d944073fb5732ed23522bdf8e89b08fca96cce3e2ac1c58c757a0cd2a0eb1a4db4fa7f8f0b17ceef855d3f364e586e5444ae09c2c2f1cd8f18c91589f0fac2c182f642858791b0959cb9cd9f6c30ebde0ad31f6020d98db2a0a6dbf0ddcc9452c0f14623310c15135f32099db19dfdb608dc00425a0d54e0238e89bbc54397dac1fc85acd95c6c6b5998552937ebe17545977feef30d3ac8f0c335a8c53c3c2315cf04fcb5a3463f00ed7bdb157a8203ccf67ce5fc698dd46233dbe5b41ada38b985fabd5e9660dbd989c603e813c1e3749f82dac95a27b23ea0622e01e2740307c553765d644db40a2b2cb0a60f249620e3cdad08e1952d2cc543c04245ab3fa2ad9cdbb34290ea9a5e0efcc135ea2f97e034a06647bf28cde59e3786dc3371bb823b1e9497a26a437226772833f49388dea27587f4e2252dcbfbb5f7d675d532","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"f179d8f54f24f9084c08e63ed326f709"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
