<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b09ed460eb999e654221f14047ac76c2f06fecec612ecb65942eddfdcd876ffb5fe1932f4d5128f3cd615e22a3b8eec9ae1aa0176a7fb5e2347ce34b42acb59a9c45904d58c95d2c2077f00b898b26616a9074a6608a2077294be83a1a2b90ef759562b0ede936a9351102107b82f0c28cb7225a43fe579e32caa63788bb56df8745fb14561f9098adfbfce326feddb2fc541233e3ee39ca814c5931d3875df81b36c6a07455ee237ea7c1ed2c785a96424baab35b39eaa2a018f5df3afd3abc7e4647b9a59d60ec18ee8871d43db8010487bfbe7f80e1685261b887c3069bebc3c8cb6ec1c6af400c3af3738479ced12e0f17a9f0b68ac1947876b28ae9cf34837804ebd92b4b349ff5dc246f3a5d18ece13d1e1a95113ef38486b3c83238fc15897415a8009e148cd0da3d0c1ebfebde3362226bc508dcd27a3b6fd98189a3fb5c564d0efabe9cfb119983087454ea57f29c16932145c48d611784d95fe5aa13000515c78b8e07a86e1f76a4cf1b20bc760f172753019e9f800f6d0d96007a8f8c5f0e2833a2a7b661802dd33685e6bffaf94ae3d2a0f354cb02cf47291e9e131d9f07699598b094636a516c5532840d800bb50c4a936ba1a936001e861588d8cabb165965d5877694b2a37f6183e40d4e00a8d723f24419048cab266fccc3d0a6bd60f2e1e758d49dbd261367bee2fe1e43f10b35ef77740f44e04e67a63a386e539886b49ba6f9fbc70098bf463eaeffee1b1c90a8316505d3aabcddbe165d37dcf1025bf8e7c7bde7a93ea8342ee0b8dc5ad4345cdccc485d4b3fb84e8dff61409916baf001628f7fcf391a920c9ae5d3470e03fc546e1cfefbe31c568a0d98cee7d2e6bc7c1daa5d8e1f32564e26dec668dc945047bcceed23bb32159d5077cc246694649a5c45e993418ed7ab4793d1f441a6230970696c3185035f57ab57257814848b9230d7dd1813669bc435648bcd5b0034894cd685e6a645544630367fd041a88a458c83c9913f8bed0f5afc1e697dc34655cdf4c3626607910b30eee87ca5429be72aff41d560832b4e981bb81c03bccdc71fd642bb1263a16687abcfbde51fbba39859da94145dbd42cfb5912cb60b45d71a2469436fcbcabf0a84fd02aa1398e5c69d56ecf09f3423c8f65f4e5d7f3daaaf7deb1f7b07e6f8ba9dd238aac94bb8561cdc87bcae0a8613f5ed02198159556850010755150a68126f688880181c9d058a797b97029966fca13d1868903423e7948c4c256d9dd4dd2e0d7f4bd64988330fc21a2db2122f4ee3cb1b96813b2bf92a69a4ee04e768634eee1a32e1c3b9218a4868faabf0106e2b35bb58db2df966ff41bbba8adab22cdea0d6153f2bfd4abb99d2b3f7cc70dc0a93c8cf91f0f448ecb58c7b355aa4808667ee5ecdc8dbd853a2d0425780b609c9af329ace4b3153520b99fb96df84ae73c73905e865d76d908455d9323f9a63b648de901a8b2d0ad62b153d5c166f81e72dd4db2ab7395861c866c71aa66e1a7e62b77d0c6e64236e9192191ae48774998e881f5e27846854d53bd6802187618957231f16855dfe39445a647a5eaedc8771b29224ab998ef16b3d0032c4f09d1b01ec08b08b97068780a310cf9502e45e5a151fd07d00244144746cd30b5bf51fef0bc1f6416a14925302f86d7ce58e94608a49b24991640da26b90204608ee7d7ee17223420fa75b8a12928172c1800f7176fe656c7a526b600ce22c3234a6db6ca1fd1de6287d26dd5bbd5b29454d71e687b0c05e0474157ce8f74eca115dabd70ebcf715fda64e97c0ed74dac3fee666b3bc2eaf4e3d1653dbc96716303fa666737302cdc981ca8b8ab28529565c2f7f2248102f7e7bdd5d5ad4662f508ee136a5dc5caf5fd2dbe5b227b0111187ed97cc16f3a38176137c7c98d628b5cfd9b766c8843fb9d07c7a8107b276ca75b4bda26754e7de42b80209c2e10e3199c50e4cbcebd077e2e8719aed4342634fb6082ba98ed36248abb55f95b950c9357691a46ae4923d6630f1081524391f2b2df09d94ea18c0b99764783883489396cc184b353e58613992cbd619787e146f8d52e1cfb563ed0fab33569d47c3a07d521730cb52cf297a5367aced97c56c12c960001c0bd8be0d245eaa8058e5b51e8f6ef785d5c1b7539056ee4a3a4d0f305ca0fd88a6dbcddd5b77e17b1190d334f674bbdf1a273a941de7f89d5ff7ee7da4603a2887521a12c64833c1d041662bd524c137515fd461408cc206362dbffe602f3b2017ef729edc51afacc5fcf2010800d0e0e9e0b4b095305831f707eb545b707719d16eac7c455d62ca287f9b621f11b5ae826a2d610dd875bfbc6280e21a2e8416c7f48d5218191680c2be0d5930bb1b5feabf9f1d2e0ca280f8fc2546ffd688d84b81f8efbd330a89bbe4febee9913f3ae66f818191bff1994b359baddcd2f834c883a9e175405243496e9e9f40df4136ee3a4972fa35def7170beb6585cbbe69d253a2944dba5611ac4af355b75d2619b7fab5373eb653865676a0c5ea7b6c800d8759b7a5b5b816166a80b2fbbf3edeccdcbb267d5a76333104339aa422a519d21e748b49f77a69d48cfeb71012c321de3ab598eda22c5845efbf006e2ebad9639aea0da1be9cce1a0939f119e6bc7a0cd3ce68cd60cf475e38a1ae65f0971b9de116f7b64504ea22110ff376a26c92c996748db7a1af2f396731e595c0b3cb23f03e2e30da4db2c459519c331db56eb485b60945a3249815325caa39c08beb9c5ed7381b46b6793cb522bed552516f363b32aa14481b0be6524cca7f1e2d47956a5864bd793838d8edfb0c8b099002137c06befbc86c41b21136400372592aec10ab1274745a90057e27796e4cba45d3366b73368b6b6414165a9d075b6aee7c9ec1a509d8823b05da5ba8d830990db66c24e0ec3a2e95cceb21d5e6de1bab94cea5fc5b971660901cd985dc82a90d8b9d012ccdcd17291af30daa2896b9282c0bc04c4740daf5424aed00606b369a114e00ae90984b6b2e8dd497696618fc7fe604690ff234578a9619ca0726e170967a75b69a85eb5fac3946d2e6e619cb64b011ac385f5de012d3fdefd31078a6765568593dbbe3f7739d08ddcf2a7e24153785510e8345adf7ff7ba6cb84605b7ea2df6ba91f93411010d41294ad15fd9accaef3dd89fa5821d9234356855fb16cbd5a339a7fca1067f20982fa5062117aa72e7baf1473aee85addf3b76aaf62a5027b8ad45731a1d4d60fcf14890a9596b72078055428708e49b37934cf58b217452ecca7955b8db67720bc3b2f10ef341e48228eb974d7300227ffa8782fa86e13fa2bf4bb4b7d80af93071fcc94a7a2b8a97a1a51959fa440341afc89568b8f0faa1566dbc59019193549a29a36bccd833edae63b8b47d29020d48cf77828d0b68fd1f80efed0bb56b4a5e96121fbf2e5bbd740d3909479a4c8dea9eb4dd382b148cc97f0f2a4046751753b04bfdf9507590bb326c4519248e0922d36f9b3e144dd837a39fc6611f6abd84c1ecfa4d1ff7efdcc3eefec2636b862d7ff0a1c86f30efd7539a7666fb83d84732ffe2554ef6f924bd6746fa60c9da3ebcd8a0ba375b7437b525894cba047874eb7daeaef6ea98fef2b04168605fc1502a668a0f8c2b36ca36fc80f122ffc3a7e01c7312eb8e377bf7b974988c6948e0f9f6439d450f59c43c0ab344db8917ae6084d73b18211e87f25116eab9cf6c83ee636a8b722bcb1e4ff04c41ba1c114918637bc1d37f25e73a12665c647ae475853e34d4b424636b09bbc81a490aab8b3e3aaebe196dd7c66b46c5a63942de257865e37c5a5c3b5b1aabe1240725d3f4255caa44a093c0c0e9ee8ac64ed028807a730ee12890148e0c8a7cf2e1e1671ef8bffb3d97406b4a0fea6114a93297ce38bc468ef6997f05d03152b6750314316ed9f96521634469a240290ce8d5dd79e8870eb157af202992ad94670ae32101888cfbf708a7c0e50618c641c176ab99e3ec0e5273a0b64f2de1a0ad6991a3d133971f4f1f70876f3fd60f4c88755460ad337fe78c9ea35f16ad2dc74275134bcd09962de41313b993497cc0b9ab81dde02a6b9b92a34c876624d8f393d33b14f47d408756dfbd7bedcaa2db088dc1b1991d94407e66c217ac7f8edc3b98d02a073116502b0e890f1edce9bcdd08318908d17004dcabedf7060f97a71a711730da190244516f232c25c344176228cbe97558d85e2ffdbe95f6a8dd7c3fb4bd4d1ee2b4d90172613aa0da13cff6f58de59768243299b73b2a7b9aa840b568360b0ba879cd7deda41377a0ed0a427d58f6445f3b5aca2b04ee1a3ab357977073e843b56059e1b7c8d9360c379556e42ab613c9ae2fcf7e190a9cd097ddda26d3764610985dcbecbb6e4dd18773072ba5af1377300e98fb714ca1d8e8e3828e75bcbe8fbdde338d71a60315e5356a0e3b9931e151e54cb9ca4d41317169238af6cf666ca22197d0fa68ad4a50b6c2479c3d18c74c5ef7e298e17dc0e2b533de23bc46647d188fe625071afe20f9f7cf9fcec1f264e037de50138e68a5c8d1f5f1fba2387ab9b8c034dea66180001f2d9f79c0b88ecc164462315b8efe85261b6413e288378bd4e8dde8097b7b109b31c45e92ce0a0e236c97fecc91637732d34feca7c75bd2e8a3aafcd8fd2c22b943cfaf0b1306b082b26c41b23fa088a5d62903c899e8b06ae8851fc5930baf975dd7e63f3f37112bf1867058d6ec93ebeab67aeefd3d5f891cea56effe3b7b2fb051ab6b04772fb4296084a0784c3b1ae907ce059ab71f7be41b34c7edfdf3068c4568f107129ed0e88dc55bbc0a0f9f39f15510e5790694622e1217ab18517728e6277705467d63b01ff6a08d052d1595d878ede97705ba130b8ef30dac3fdb062f828ebeb054173a28b277f9a474d379743214a1f192aa6d34cbd3778414884cb6a95faa7771800409fd9d66d829f22c043f72c91fabd82cc5d5c3a2121d73d35a0e2ea1ef30ee4d2ffcbc62003c4885dc71777ca93dfec5a5220b5aba9d0027b587f69ef68a7e01f888041761c9382cd8df57e317ca0390b86dbc4b4d60490e80a69a45834e8df713dba401423a4fce0274657e7695f416ac9204df6a84798444227352661d026efce57f85eb47732162e00c6acb84d8d6add3145fdf3879560fd9b775de9218c369170ea8d7cd240e7efff7cd27e365333adaac76de864f0abd17c4d841649d9d1c60981daa1b4eb16fcdeb26c395ee4d78c2aab7607a58d38dc692888bfc4e21309e3114b147edf77947627fe5d931bcec3872cac54ecb28c46abdf645f975badadc2f3c6d98395efe074da92f8951fcc81ab3851897f5e4873939c961382c5ba1a12e81e53764d840593b49959b078b59e5b45ce803630cd15639549eb0a567094357d14bb06d8b0ce84594c0968413032dcd61874ca5e8ee0fbb5ba8b073ac5934555003c105efd7e13e7a7b0eade686b1702b64adefba2c1b1775a540b2a2a0c79869bc08c3740e34e5c2d943c953cace8238595fd27684ee273830a4c649fe4660af40d6fc5c1b2e451944b78a38fab433c2190d354e9dcacd996cf6711b7323ffbaee6db7459e7bb2433022cae5352e43bcf1725ddc5ab85f46e641ef36afb92267a6df121c4e6c995b65e95c27045b696372f6a3d3aeec0e0abb630fd5abc34d9e04a517ecc1fa0a3e785b4bd7581b621a42124965942715b3a14953400914e31def8bf090b30893721a821a7421758d7673f7f97a2af5241c846c87c97e9f1c14492d21ea026a0f2119fb06ad2073282f03a6d92c5bd030bcc38db943d1ea5355a2378d7ff6329ee7e4fb50b2e46eb7296621f89bebf1e61195bfb21c057b39c79a43f7d704c19b05eca55e2597f717da916962a93f7005535ea3fff2ef649d3366d2ffda4abaea096d088cebde4b039ceeae12ea811dd4e9bae960f99cd4ddd299c7043710067fe683440d76368b6cdeb7bcf5eb5e842ec852b0e0ec43762cc773b1c91cbfda650d353da71fea89d7bb909197b4eeca3a2cab8a226acccd3717e6d84376eb171df6a86b7b57a61f4c7a886180c12c6b8ad419d604b281e8302accb329118da5ddcd2dd9debf94ef79f8d15ffb54998c6530440012110cc0d51f29d37543a2216f39f4abec91eaa8054632623c1548cc340a7c1a7e092857a534ae9d05aa8e3eb9b8517b7f15a7f5afafe6253f0e9bd6f27eec16f3ecc534401032e90d25a68628433f6e68b74f04323e004915629de83552240fab4a88b717ec411840d41097bf2fb24367a038b50989df79518a16ce372d8ea3e753812885d1ea2b19ff16fcd698f6e3bf291433f6e84ac2dcfc17357a253d1c7caa89346d3235efc7726b236b3db54f15edf9faed99dc188c88831ba5d8052f147f7689be2f93ff67ac758c36cf0a2d855e28983d80c2f942cbde2c2018ee3cff0e41601783f8f311aed760dfb9387e72e386b28c5d85da68a1cc7cb572e11fab22ff3420c3794cd3e8cdcfcb0573db355d9c60b09a750e8fc404e54d189dbf214584909473dd95efd7de40dce2825096f5ae963547fd5eb25d913d66099c27e7a58e512b5ec6d1d7186e447de9261c840b7f68496051c27a5b8c32c25e4b93c498866fe4cc48a67edc78c9bda77e5ced441c14021f9e4764eff4151ebda5c9bb2a3a79479f6579fc703da2b5e46962ef4048ee7eb2837cc2608be5f55e97f2c1197cda2fa2d907efa208ba2cff1d117d957590def0b988d8d65458c1f3c5a18d2dac96d516aa953d9bafe9f03c982b10c1e4c1333d01df0bfce3e8aac4b1eaa7816c2e01dd7d5a6da91ff171b97bf5be52e9b4b35a472db13e2fb886366de9535483d6883a1c7530f15e570ff433310c328a53805da9f54240402e7cadc3caeacabd7ae7304d171d20c06e7b08b241ec5a17cca6aae70891544342fcbc5dbd379d27e00711e44238e5c86cd07894690703cdd81df09237dd49cf7b0892819c4f5a13e47ef0dbc3a8aecab32b11f0eaf2d5728631e471755770adfaf3d6751b9677b1a3e3f791c044afe13a2ef384c2aad49e863306afbb0e0c3a8284f90aa78cb0705de30cb0b7e1a130edf3d6eed04c587bb22ff8eb8fa69595dd91b40a7c076ba5943fd8da1e34441514c7c6aa24651c3c95b18cc783726348dc9fa76c0cb231f73d0bdadec0a9b87a4e1da8a7ccf4188284414698fbcbc65690feab044d7583b434ef25bd8f22eea020565ca9f197cfd5a11b75ad68dc7e289bbd3a9532b822a77595014d2fff1aa4afd48c48e031a4699f8468f13fde44215fd603f91d2958e75a3a7071a3052d873fb258c9c2e6541895dbd37cdb9c32df097d8f3377b06f8de83f35ff36f2890cb809d1b47043400df01fd7e2d5b6461a05ec23d791c1fb04281c13cb2436911685147a9c937e70699ddbabf13b0b447d22adbb5ae1c195edce2f6105e266602eb94e6bf0b3041d37d10f99a7a97dfb0f71aa3fce59cedb23fb1796c8d8333644c6035d5cd332283a16c3300adeb7ffd55fc62ca5438902bb0f9ff94c15f3cbec9d46a994d21f9804caff05a22950bc1ecd4cd17a4e525771f18e6ef698489a89be8b933c4473edca75296fb423aa068fa7775587700be6f1db30c9b3046ff25c0344f3afbd6b4a5f6d63935bdb949dff37736a6536db69c5093142e0fb4015bdfa862bd3c45e48beeebca304b495d5c007c7555b212a1a1c4d72f9e26d4ad6678a0a7463ccaf9c2fb05405d6537cc2ab64bb138e3597936d7774d56bef7fa763e4b42dda5ca3884045f297b89a3874765b11e2d3647f667350d232645e9e07e7dd73c0a3ef3e45198980939eac433e40ce6f6523f6f51d0acf0dfc52aacad2451a335625499a8304a7b4fd494bb356aa6cc2d2097cc8c4b9a64c698d206064212d237e5c21e06febb688d5b19509015d83e1ed3efd3b94a7e1517ff1494d00e9750bfbf57ad24f99405e1833936910e890e78d8373740c0f4970cbfb71e19cab2b49a878946c16799dbf93568ad1709bf9c205e51f899b55e96b653e18b104a3d203b73dad7124051075ca9ad0a9af776f60a5ad57c1293e8049f956dd50d6fbd9d253f5b2f861b683bafb4ffa523b70e9c1b05e6c70e07babb8ba300d67525bff433bec573bccc209106e1c50a15c90a6ff1da962a663064fc4a74d8c4bb15cceeb5a36eaeacbce01571a59470a6505ada3cc82a8fa2213a0c221b277656af336677504faf145e6801c7179dce04639690ab7db418855445e20df0269422f12843dd8083f54f6cddfced8d206a3a5c70941075da1085e016eb2968b1b66c634d9a9f677a0c2996efc82676d2732b9d0db0159e848d623d13026d164a7541c31978cf745c45d29a29030503cb694f87032f069dc9038dab287dd20a5dc1dca9cb72d9a626391492b34ffff45e34b54a2fa2fa016e47459f19a8ce461ba51a8ec63d87d787e5788e5a56dd0e8a737d6599482223b7c2f5d8f13f40e95b3cf6e56b2de1780778e792c01f0d81a7e46e29d569db9f9d63cc3e3e130145959a48e504c60c1770bdb304efcd797fee594ca7a223e281090f0f0f4c5e7b57f01c3929f757e73f93dcfb0ea79588d8cd0cf9666f5ca616d603191d240d8d4624f924dc068b84b8da50a94f0f12d56d8bd323605419d2d7f64abacf2abd29a09a86c442411c63d7c7f771aaa8f9b3985ab7f9f0387f420d2b80a00e3ba4659a6bb18e113c11a704306505c653630ea0ff2197e62c4949911c4b38c3120d1fcf848fa4f32a3ee0bbaa145c364febe24243c0a967f27f77b5e09d3bdb701cc32ea1a61d629a658e06b129e4a79b9eef44bb7a922bbca6d89c6e64173019326e32966c182a73f0f5d6b6d6594384a4e2a1963651c21b3130b7383c65354cd19f89aa671bcca169f8a7b35175d3a0c784c347be71e7b936868ca06652602991db9e4d2880eb9218824d94fe48a8ce6dfb1197ad45cc0b9e39b8bdf1cf6a6686e96f1c65430062d741dcda1c7a9e3cf550022a8b1bca54cc2ceefc5b9381747921ae5e19ec4058332348d85ec4f0a2edac7f62310813f1c7cb8635cb23256c2ae90c3f6378788412d4595d199f74f688d0a110689769d1a48a291c9bc8f19e8c3388ce9092a4a3b307a78b8825632437dc88bddc391632a522a1ed052ef828de11212d3b4690c7261909b0c0e7825a6eb6c9db633528bdf52ba80bfc6c165ba2db29b7dd1725a9b8d27fa4877eb405f54d2dea8b4990b1bc283477b9bf2c1ba1e99b8a227a39be1e61820f7c1ecc60a495fbe5f2c5c06d37fd772b8d30238f543674dde4ed9c184eadf6bd24d806484e4b2ac0279cbb0674b7b6d28389da72a28b6b9e0ab775a87c390d3e6dcddccdf8df4358093897cc8699d5345c89ad1aee0e8c243f0acbedc7ea3165d38faf9bfd642d2dffc1abb886155377ad7993f356538eec2adad1381b7ccbdd9f8ab3ec6adc6edcbc295f41c780724d1db814f742cb16d8d00738fa7d3fadbd0242f3105ec5d60a0e37f2131db250ae6a111c80afd65f2a495d9d6bad93b5074c215111a1e7295ebe1fc1ff6635665ab2685599c14076d957cbab72a84ee0a45b05edc2c921349cf3d9632c7014121bd8260870482e93cdaa36e206ef7cc034361c72d69cd5a9dc206cdb917012817cfaa9e5b5d5316ef2d5ffefbae8e60c3c4ed45c3e9c3eea788352b16db959560de202d7bfaadf1f3c77023ec4caaa16561768df5b6a349246dd340b7804bfeedc8694e623eb3847790bb76af93353c8318b990d3283186eaf5594f145aa6a008e93662ef7332eec9a5c943c707e35e1c1c638cf3723fe1ef9f38defcdb98239d9123d696b80fb88bd07ff76adaea28eff443a8ebf8e5fde3ecae65b2b7ad4026386e9363b87735e3fa1c8c2573280c0fa0e7b47e59cfca957dc74ddf3715a1de5f04736c95b5153fc7523f9bd48b9de48f89c7cbbe2791b2613014e863b4038b5ce306cf8d07eaaec118611abe2495829aafd1f978db5f4d031acad58f41e6868864c5ac2d2150793bb2d3c8a33a25cf53592cb58c063d8cca94323dbf39972bcc132240e8cf34f87158dfa8713e92067e13a68739117cff6e9855dd847524c11dfcbc05ce862cf938049d8b35e76857bca0d86ade6a102307e3de0ca21df6fb27dca8f07406db1be6fb88d39186d162baa6c0bae0476ff0b5736c02b878e8fdc04b8cb609c7f578c10269dc1d343e75501ae925ce397bc94a389043df6b09995e36ef3a59bf3d7c861c932841503b282d62e85bcded957edd26047ec3f68cf2c2645ad7b8f024492c593db2ec360c9469ee0968bbff6efb25d412d824888f0c937af2082fe2c20a91af336b5ae87fdf95f1559d6bc0b066ea0dac4acfcbea8354c4f002571c4c72e875c240ce9917adfaae481200d91f67fdc3f077951c6c1f6129a3113078f924ad4f7e3a5ff7deca18be14b8c2753f93fd7163522a2a511aceb0284f8d0a749f7333375bc6313e7f4954ff079640d1e0b394c2ebaea19794ad481533f98c98946aff0e7634ce68a89608c98e54db8c3f7d76388f1ddef525712326d8a7202ac28df104f913b80ced47814e4498a82395890c842e999d15b2dae3c0abd4beef17d9e43aaef564a0d94d05f16d02defdd6c3f386c8e507d2b5250ad43f405a6b1c8227789bf59aa77c3c989f48b462d13f596bc8506eb5f6761890ebfc1279acf1a0e2c33c1829e7a4691d1f3e201a6d1a2c3368099362ff205dc9a6e4ea595f36024e90291d50e6b8e1c32fa4ea10adfac292a63d619a6c21093e6e930a4705a32e0eb7139d302c269949982be514399075f9341762ce98bd2ea57d77cb55cc65af2b9d1b320b0cdb3cded0180cd71c776b35d8d2f0c975a99764b6ea8b2bc8caa549b88a50efd2fe08b56246a65f7f797eed3eb50c1c5996043f7a47eaba677d6ff9496fa770d2716cf692ff5a09c35823084d842754680bac6d5284e86fe18de24dbe2be7038231c508f32db209d0f2e06dd5e2ad5c8d7083434d27a7fdb2ccde85e7a7a3676edfcdf0e453b323f8fced75de6690057c5d97e0ff696e66023f26203e8dc201e484a55029631b848604d2219fc6c7fefe3fc553742084a31328e1459181797cda7c900838152cebc07ff6bafca72061d7cc68af5a6a2b3409ebbdd244932f0d0f098499f600954b04e85ed12efe44a27d3b5fe6fab1cfe40ff2027e7f0bfbcc93f09e57b72b98f6fbb2dd0d6d3287f6e5d8ce4926831b4fe288f1f4b3368148abee8cb88d4a72ac328f5bc1deec46777ff9672c4166abe0df1d3a882375c32d1509810c20a5960c31fc50940e89923f07f0b7419a9d76ebb9d49b9064d41259d9a7741ea06f8db81bad6974cf1bbf12df6e9de9a0adfad0f77e4c28872a9b22b2693bbc5f982814456358c4be48f59c68e0766bbbf387e66155005650411b84671366a1e22f030e9f8574a58d22e1a6d08b9e5eae4dae253ec0de1e5e6e3e06045be973c78fbbe68a8c12694d1b145c8f8ad9ee3130c1da45c0ff979aea1fc10bcb1ec8b681e6bdb4120fbf1799729acfea88581be5dcc53afdded962b670163d930b4300cc28b4be0fe301d95b761fe81cbfc6b0c5c269c83ef69b10b746671cf951e24b253284763faf257f4932aac000cefb37f1d56ad65e00fc1ec08a447ebc009f106f424da7d9aec4e0f648d8faddcd753a33987b702ceef00e12b640c91db4738ada775159deedeb985cd403fdc0fc2df23888a13a60f0c00242004052e1b5d50923128ebcb106878d41f81e6e7bc8012a87490ad04069311af535cb9db48e91010d0aa16b8b1b4b8ccb43d2c36ca2800d1401a21b5534bbb4add22619221dc87b0167ffce3a9e4513e7530d44fa26c9509dae3ca1db6f5cacd7dc71504789758bd5eca295bc4e7c8fd1de853001ce5395ac25b2f8d1d90cb9c6b045c3fd6db2ae4ae888b31215f906e8877ddae8296108957638831101989cf55fb2aca5f4719e9d649ed5df987bd8830f55bbf1abe5613d77b69fc3ef1c7ed8defb8d895bc2e97f1141fd71fe61213f3ddda40499de0f3adb49cb042d14c24699ddaee17964f44d4cc23ca5ee9257f091d40b42baf4473821a3b1da4167af69a499feab214be3c2074756da6afaa00fd6b3512a4c401c5ddb5fbe215dcc3839fd46ea02bf1aa704a7d6917314a5db2708c73a6996ae5202cc86be0b10bb3486a273d4d913db19ebb82f977581b6e3254c79ba9cf3175fd70ff38f8d620787c8316775ab44a22bba8ddd0e5688c60ec2e7238593f9e88c6c097e00859132e1912b6e9d237e0b79c60ec8d1e2c23cbed5ea6fc877d379b1c9ada56bd6604f32b2dfe3d53bec15bec468963e69c1e4ffadbb7a4bcd0cfdd69a19ef4b608321b3ae1f481be2f48cd1b4425d6d5e722ef4563d1245354e4f6319d6d073aa3b0a18e4e1de267ed0acf0b946e1ca0212ac3c068deff57fce9fbc187da7dd456b73436d1f8e97a6f1f9a5fa57e4428562fef6407b727e614e663d77061753cd816a495cb4bb916edc44e069cba73f10dcc7ee3c061bb75f3ae15e0f06a54955ce60147e58e28b691a894b338d19acaa69348b64667f0ac2867b2bd011e3a0a2bf4e2c4e55aea448e637e2b736c35e05c852763a15428f5655bc9cb1733a57f94bcd46911a897e70b39b3bc2f1a824a721abe26b220c4ed2b492dfc7d9b2358bdf21396c2019b182eb4cc6d224b5ea815bb025aff1dfcb553758df122e9294a6006d6d538e51bc256b6bd9b0ddd5dc1940bc11f8f09ab56077a35b78581d8c701b74650b33ea05a722a7525b4e0de9812dfd791d05954bc07e17f6d89c9b711560923196604b68323c0d3714ba76699a452e7644bb088995414491c71b5aad3929e45bd113b4dd17f110d76571db69153a444dc9eff75fdc2decc25613a13ef30a737f857b5f665400dd6e9bfc256bc6573a876c4953fc218cf7e9d80af87b2b350b6dd111dd9a5f5c0e19095412e0073f08efdbcbacbf84668fd33ae463daf45e0384f213134a9c8c62ddfaebbf14da5e9513019ce044c3b16ada3720db9d439d3d8fb8498344e5242926c3237bb6f872ce6e10b13bad15ddd2e8dad71ed9c449429c9ceb8ce013532ccb974cd20af9df4f6f2a5ffc68f3f5ac0441581dfb462c5afea572514826f65ce4d1753a7c7ec4af678ede4eab37acc8b1197152b32f81acd1d19b552fe6e3f8c25d555bdfad9f0041a0cf2c12ab07fa4cd6fb48d4604a421e098b6df013c84525ff270c49b37cf91240d38b3a1f89b87e9704c94e71c3ab282dd0afd781091f1a1fa4b5823f35be7bbab33ab8c64f38b5a691162e1a971eb6cd06bd06d2fcb62a968889c0a943178e5057510ab712dffcb9d49ff6e206f64d471b77b60b708b0d09b507c18e3939d6d27e945f8a72d199f8b4189b9d238c50b7a514b5aeeabd96013f67c7e1763995a29c990b45e3dc9cf007c2f184ab7bf84274754ad0c70ba7dd2189745d078c6519a8912b5d530acc67c17c3d4b702bb4982342aef7a41d6ecb19f88aff0ea3cd59df4fde0703bbcd8548652c9b2b4700c079875e83b52dc406b099b4d412944470f5b73ea54e88d603f372144681e67adc1299ee983ee221d97fb3b6244487d5cecaaedfc825d44f743aab04d3e1ccf370c2b61a6fb80f51dc5adf08375ee242b41c1745585ffc2ba08719d9a15fc718e1ade7bb1b9af5e9c0e7fa89b587ad2e425e3ae67fc300c24729509586e59eeac831ea7db30efdc020856713a6431aa50b38714649d6048e123564864d4815c228cbb93e3d530c2c369a915ee81d405a0758e8eb5af2754e91b050fa61598468e75eb8fd4f640575a508ba0014eefa1c8540c89daf60179bbec804f40d29233809e26931d66c4be9bdac3d722a99d16c27a2a03755c979e9cd3fa09dcda21d9c47c464fdbde46ca1dfb7c9291e8088bcd213986eebb238345992ab80f823f9ab5069dfff5e4cfe52d9a1d4a01a9ee189f58d2f6700cc11c91409e0ad91403c3830c3f8ddcae470f64b3936258d8d4d0bf900fda2f22aaf07d2c250dd2b071dd307248db3830f2f2339dd318f2cca5a27a38df333068943443881a5b4c81bc70a8cdf50bf0a1d8ce1ebd691b5692401280965b8c46a1510c569d5e2f31f10a300be74a3be323148e834dcb5c71c5d7f6d7f64bea227db8eae6813805d74fff0b7bf32b10c6f20472a9a7c26719c47b1a7f51645393ce778812c9cb5573963dc30db5fce42ed82cc15f53586cca7b25f2b6c0aa831d670eaf5ceb894b24cfe3d1ca509f9d1647181570ca643cc3bb6be6ee4f8221ff14e5eb47f9399c526e458194e4771c9428b3e367720d719eee1496e077ba70f12f7bffab9fefbc557c3c0b37884f13442a44788c4258e4c283914a573bfa5a79b350088c1020c04f1882e36791d11447dc9d5eed91a6902ebceca5154e5d77837dd5a7c6b5562306e033e3f64d11124526ed89520dfaee3c9fbf18e97ba0e0699ce609134c7d9e4ec78b55cfde67d328e2f87469b091a27d05fb01d4f54ca5ea2072ca7c9dae472f44d92fde021e077515d94399a11f7cf7c932e2d59ddae05d9fb7f3a51a056e17de209b4898dedcfe4e642364f351246804ce41905436db83b355cfa58828195615f0ce8463ccb054b33b639b9e02548601b86737af774ca3760c45ec1cec5740df066cb763d72edb493847ef8cfdf7d052bde4e386977697b51c7232d75719a47a4e9e0032b96d8d75a7d82cf9d1c91e0891c4360570db68262b9786f0e92a46f415a13cd70d89277cc9377b9b94c5d20384ff0ce9a53a42c41bf615b7b3c4a7022e4dc06945544765a167a9109d18668ff095ec94799ec2bdee0b4c690cb6f0c3934181a0f51ba31886803813734c04bd9403159ebe5d56c8a7423ea7ab5e0bd9bed93f28751b74cd7e4f7a79de987102fc89d6bfa98dd04a2e502876d5bc6aa8ae4b2701ca8dfad0f7fcf6d802bc1768cb931eb60e1f2adb71674fef0fe47012c1ef4531429916708f7926dbdfd0058ae11df5d4cada1e598893b78e8396a1fd1d98b59d4e7049867957bdf88bc1428a1a35d7b88bc773e363524d039bff4e5f5fdcae07ec62c855bd3230e288831c5f0880a9fe0a3e1b656f657c47b76902d5e8d1988da419b0421d37e36f1a285aacd47aa333efd6635a98e7b52660894da681c8e3bbf072e7891b6919e4732aa686ce5408574fb12b41a3ebd01f3b16e129b1cd21219f5b2d5a115322063c8b5e611952f083716c9c0bea58e2da21ed38be4c91d0a42a49001f30eabee403c0b0dd5a740dc3a4946901df7053ba47b1c23e02f9185d0c9b95471e84a4cbae2e67052f3d97bb99a5987f972266fcbd938040bb3172139c349be39f99f359cd51dd3c976aefe5e62b92fd0c04927d01150808772ce7766228d0462d61ebc88e4cdc6dbcd0400762f209c00a73d1fe695695e50f354b76597b8a21c2ca25f148800fe2ddcb0455b14c291aae3c87353e6e5ed061dc4ee7e56cb34ad9bb25204810f5e0b57cc41b6bc512b8e8c8baea02a356162a0743ba87ec1a2222c0af2e349ceecc9d8a21a3710538e50e7242d2747d8331f7e3644adb2f4629728db8c2af8668570d2e8914021e06c06dd47c6762d6132fc0940d5e1fb380a7a53245c513377f16ca404963ac82262243b3a8f6eb33f664de32f777250f05be63d9abc7ec2e8edd7374b4e53f420127ca64f5544bd359c7cefdd70e84c990ffbc7e4bfa460c95a86b376cd9c2a3b65861c9a55acdabef4dfc899380efc6b3d2eab470d5a79d8492def19dc6f899e57382ea5c887156cabc40e4e75f2428e1be2618eec5d096752de0813bad4aafd1da4282133e3089e94901de74dc537ed2281bad2d4fb71b0c02c68461db891a3be8c0f63bafbd5c46c296456ee97b95a77f27368c808c9221423a72ad98223210dd5ba54c6ef61782f4d3d8b7ce94c7183c5648cdc8c46cb025f4fc273e4881ad591f88f3b9657f95f30e63d2f7d911c75d238d7b664e7bacb61a365738dacc477723d3cd823d20d0c23fbffbfb1e2351ebf83d571c35bbc8f807676bea4cf49e623880ecbb654a849e8f9daccf9163b91d91fdcc3ef0541f529176b35574e9bcb7780a44760d941930d8cabe8572486b65de09d9b3caad7f479b1bab542a8351a918a71fdde96fc51a96b94c2389e6041fe3d8a94a3816faa1452f7d131d1147245e59a9a2ac316299ad6bc38e6f043218d665db160a3ee40601f7a5ba7b44708a291cecab20fe0e6c8a586b22e4af0969998a2a31e111512a08b03bd15689cd8be7b0f9673880ecf8f2fbcd4b6c8ae8cf6351cf8265606fe65025db95ffb0911cc56c471fa75147e730b8f173890570fe1337a31c91edc1400fab499dad7157ddd66242852ba600bca53359770ca9efb95a7b53ce64e5d83f0a64f1341ad2441554843362a1e7eb8413238d42fcdbbb7d7a7524fd44a1a7664377d43153a624c7c854ccf4ef82ddfb27ba97ae1997ef0d5301b916ccbf6ee64bc7c96fa7c27a9f443dd348f8701a131c18c4d672fc6e3012d99caf5b02d166ea513c665ab59c2ff5098db78851d1d90d8f69ed7e2850840140efc84c9768da2fbfd2ce2d385a08bda8127710949610a8f9ddd8619e713f464375061272042469d8a6916fcbd796943a5e040c6e86026ec68378760d1bea1a9781c8b595d8d9af9e62b7b9e31221e54f46c183159f0d5f3f7fd47e12b5c03b048f008bdd2e6254bb90f5f6b917f5a6006e17dd6bfbfa9786a683c137879b36bd2fe35ceba0cbe169feb9423c6869388f894777141d1e9b0d1c84690b08b629a44d8f5d5cd353c1fedd2ce586c8f9d2579ee77da7280c9a96ba5b8b88c33cc8dede5bdb73f8c4b0cb060adf0a50013cd985f245a45bdcee07e878568183651c8fa06c2cba8b3dd42c07ca83ca2933863dafbdc0c0e2d01ed15c5b25891b41b6f2dde280862d7eb7f5401a45a296967e15f1002d842c94236a3d8e93ecd5e33abc963afc0be70e023b913087ee5de613dc509aebfdeab782fa2099398cf19b5a2bcba64684855bab8488098eb66e17166e0e4c457003db592ab1dcd9e5e875bf0477eb78c7fee1054bb0b27b3080332877f147cd3ab562ed61d2781627fd3be85d34a9e2a49af407da4d8677d9781b3934dc04f8485b99a15a5b09e820490ed84a6c4941bca870d8be055edfc80398c532d9c703712dee9938f979bb5bd07cc22e5382ff0c60c5e727a2e0f5fa96aa29a885130c4c34590d863ad791abfabbb5d9b014d3589f22e0725d2d70d8df56b35b7d56340ff395fc105d6e8fd355ae03924826e95a7d8cafb392e62c20447927ec45fd47fcd86b9945b9414cd8968755c8f93144d66babc7ec4ac0aa92c242c9945f9fc3d1566e35937503007c9de4ce568ceca0f53c590fbfc4e9118bc870a6b4f4c0abd200e5c8baba8501463c7bbf95031ed6c19a6f16f347fd0c2a3bcfa912ffb6c63d47b581012986e25a895aeccd84125da42f10bf9a0d88637e9f5332099bd8cefb5d6f83962cdefbf891088adef29a752c9938f6972c75738e002d8ec74b2024da762bd2bdc3dbd47afcde7084c1e0369fc288d5c54703f77d4d902bac73babe6acc627387d9697ec915444322f07b921be180a613a468b061465743849a8aa6478afbc5148c20792d13b0ec5ad8f581f682894c6246e985891211b298b2a45774a61ed4b07fa2385f39d438c8e13811d400e76bde48b2fe5ebad3fbdf54b4d63775d5a68c7b70f6f1a11ec56a28578c1afc8a64f5f0b234d1b38a4fed575ef9300985921765911510e3a216bdd825816aaacc55a8d31688aee77434f3b683f510b166f13463e037f8074979df78e56a99308a555259405618205f5cd90af54daf2112eb8e0e84e388d19f586b4260d87132395d43d81d4d052fe92fb9394702438f16ba1eac413be63f8f9bc287259cdcde5efd8c2a47e07edc2d499984b7773ed063c3ca25d354879c2253dd2651de0c1742a704e36d4e40fd624ce3006d02cdee6baacb269559f9bf6f55c643564146ff38230ef85fbd4a8c6cf59af52d326085cd2bd7caaf893061d90a1eaeb5b74721741409702d4357fd8309d9ef660324cf89c49bcd2010028d5dc6c375ed7924eb9a640cbd6e2b91af788da25b3c303f9025179a56ac8b7a0b08683cb287e22b7141a1a78e31ec60066d72b8d96c9f0a989d3bef48cd65f2cc0092abaf18f2b0c3ae60ebd8df37d19bbf4f82b816499b71f72e5a204fb74cc6e42ff782572b680870aff1fd2c3957ba4268e780a68d6f6cb59590c41eee109e43b5ffe7c6fad71d8cb9ac75700689c01abf3119a3c539fb4fb0bfee63edb5ec5e65d41f65a662d673b9c011ad34623426d26069010ae5f591f118c8c6ee45e050a79f5b32848297eac840abae669100c6a7a9a0dcf6ab57f50637ace28ec77d3ed268d069c0af1b467d147e6ad9b0a43778ef7a3c608522eda3e6bf71e18eddf91dbb8045dbdbda5d827c8305aa7e9f9344a5439c7d039cb697b93cb2362ac79d577976e0099b24f3513443e16af19f76c5be74b5695162d094af1e5efd7411b70c405e83001c8faa598e74cd41d4985ab22ddfc36bd8c98269e346519828b0e6996deda0d85059a0d9f865786dcca3e535b71c49867d68b7efc096","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"8d0e3980732270d990e150529e390f0b"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
