<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d27ce39de618ee432e9c7d61fb355927b1ec44f3720c6a13ff1b5d2773503714ea838a244960a20297ad0554ff41046696982575e9afb86e464f41e82c821dc3cb143e6492260e86e14fe198f46e9afe297f34f1ada1bd75cd81339716565cd52be91f72f7d927912aa669daed00f6c6f6caeae28ff5c0a0fedd6f97531ab2504593d9178e2007b63b094cccaf04669cfb524fcf97794c4b16318f60d60f8538eeeefcc1df21e6aaf8b07ab13134575d705107f0a24ed26991c0da1317e0fdf4e4c26e58a842fdcc0b0e203af415f5fb8f556126319433509eda4910f46ea3c87c317c229aac37b8b1e9ccc26e2c9aa4845af00a8da1e0917a5892a2c6dedb5e460d96dc5776ab7d3d2e7710827b81f5b0d7c30f7ad4ede49d128776cbf9029baa480bf9e7c76661758bf10f63184ef36a476b6482128865063e7d8f8f37ec03f892f17a7a90dea7e9a4f6dafcd94571ac381283c69df74a192518445d92b1bf173cff2d5c2927ea748566fb20f5c9e3919eaf76a406dec8876fc6e41415104410f469a9c738bb244424a374fb6bb1d83abda2e505a8404af200b1abf37ca3cc1b69e8a252b938e40b52d855f78c8764cb3e29268514daffa539a21930e32111dd228432f987e5cfdd04a71c8305e7fea75ff13214e71df327c9824770394d10f146ea07938f132e098e6c2e0849ae4955d6056224c0f7956ab522bae4e4608b23d182efff2912f887b91cc7f22995ec3acda0997d5fc095ffffefcdd95d2c5c11f0ac3a49e915ebdb14b4ddb5e80c2f3730bc74e1b95196914b899b17613a13cc9ea31d1a53903a2b586d898ede1c4143d23719b8550b2f8cd4859a930e9e9e67e1f79b120fb7efb9b27f5300c58bdbe7d3497111b41860938a817d57c3acc139ee96f9ad3c608aefa4671a178a9b515adf2ced34d8d6e84939156294e559e760a8df681ece92e0fa4b979ad8d4f1b6bd38407d6b335b1959e719a1d7d232bb543d8b204406b9b50ab86175f76ecfdd3005b8cae19bf51a383d6170843275a8ece7ebd2c0711a1bacf55a326e3123cdae714e06d51e9bc1fa8cda81733d87501c5552b6d41a5d94a459a69a971885331381b11515f2fbfdcf12005adefd0f1455da1eea8f56aa0073588829992f978b771f95b4303b48b3a5d51faf02606e3d6bb5ba6722c1105c339e046d08c70a0ed2e7e40932991e80c67f16c041c1d3bc10793cd50be92ef5ffcdfeb91d0f623681fe85aec2b5a18566ef9e858b4ab30ef1fcb59983dfde9325b87de803b8e951cc754077d2f8b380ec7efffb8e824f44ecaaa9eb89585cfbdfe113efc90ceec3d9b4cac6f63ef33b1fc33c05c55d9b39039af48f08af6126429d4f99e63eab69a5b79be83022fdf14c283ee4b3f4f9f6a1c1f2bc91faac125164725ae7476862e517b4b33f620dc97798fdfd80081a16146b1d0d6541048a04511d22b6609ad337d22a93a4c4675c506c741f2608f303977c62a2ea2554f877c0bface212481725347d353cca6f866db2b58b6cdadb2571f491c9f69ee055b041736095d7cbbe7608513c3c00a563074cd8e9a309624c1061307f6fa6179de38707953d3fe58377ea2e50d0cb5e4b2d541502af90a32c4e42d7f8ac849712fa2f110cb90641614801ab83a78bd3a81212f19bb99beabfc37861673ac33f99f861cba3065a09422fc57c8aba61297c5815fb4c5e7366791b2daf1fc02edf7e1be4901093e087105881efa15ecf43caf75a2bff1e5a8c49e337f7605ad27dd2ce453a0ac28bf1c56b24ff3f86f8c090992b56a31b6b71a8378d87f47f1cf7732043f93bc627a0097e764a6ed60b5e1d3abd1028eff857d8332758cc3590720c77736b403ac710e196450845bcfc0ff6d9d9dd6788a3e57866b1991897618bee4e2e6792d949fc2da90198d5b67305ac727b9557ba7b8249d483c7b81538d54eb7b245dacdcce2b75359f02e7a9f70f7b3526a1f5faabad88bdc0ca561389f8683d473128ac1041cb2f5328bfc6d1382b70f8874b4f9b57f51d6f80033d17de0e64bba4d67734f6a0415553e35bd0b521fb1be0ef4c43d169c53a3085771555dcb9f287ada48b71c4f265413da0d9fcc56e804a31aa97888336c126ec83a1839ef3c4fcae5cd3ded77fc8f353f23e4fff2c06a3b1d4ab13fe5b14b451b70b4eef62d8b432ae19476f4dd7dc1534a9050dc20c313e95eeb5dc1b9423897fcee77e364701827732bd59f3ff6985ffa787ff3c2dcc73d7f5467bd3f29ad559fde87aa653b6e2cb80c2c71bda3032af2689910020f42c0188b1b923085bcafaa5aa8aed25bd602424581c5ebda7d276188de2c21abba48b9d485ae0f8712eb66d5b9a6291fad339c38f6e6aa58f1b1a458175e9d222e5431a6c243a410ac1ca8dd2738b448baa0cff25eb5ce4e500112cd27da0290d971d2ce84a98d1798f88341468b62fd1cb86867016bc5e1eda0b7ecaa016cc30532c1a0c2c579ea49ed805d43765696eddebd23a0ced7b6b5af5241fe0966564f6f618d900eb68fadfea43b12953c5d11050ac43a22aa1e367dfcb2a5da69ae19fbb8c2b8ccb1f7ab137097f8f2d4a1db1f66034ffb5237d0c4d6a0d4d8072aad5c9787390830a0e8da4a153b0054602209a8057aa90b9d9d7c8f209faabfaa82569fa185d3365ea09fe52154955dee52b09160bc0f24cd8c9b0c52fe3da5f54ce355f9b865a704a62c792d0e3e2973aedb336842472f37061dc478552e7e3ec724584e34dccfd268f528bd77f195fba195308b0736abd6db1a0ffd2ed00f0a4ce4d8bbcbe0d14f4b291cedef6f50623393e72aee01e28c9c1b6d2ecb9b8ab4c2cf8e77ae8d7a37c2d3faae1b19b65fc803c4b32ecf98008bc3f793eb881900c04ca410e9347773216423c7f1cc6c9bc6d07420d529e3adfbcb6cb56e4d981cb51acafb990c8674e30b571edf0fd082356fd7da00aa56ef9044f57055db4689a186567e7a7bd9bdf3309024724e490de9a0dd8d630347067caf65b1d23f70d74acbaccfd5cef7fb1c9fe382d03ffe560bb4952b06e51ec929368255ae3383d3c66ceb6cdd2e36d606956bdfbf7c51ead0141a6887f22bd019e17a14a060f3057aed76a2177e8ff450629a536085cdaf621bb7874f25b4c65b1af04aa037688ec6320ea13a1ed1368301e534951b95f528edd20e92534915879bc5bf9b188cdceb14c63aa7ba1042fea0c7a42a5491f024a86c5edbcb5db42e04e39e78056b81582031f9b814ca26764dbb4f566d2d6de70e44ae8e4fe5f37584c1982fc9f0fcc013ff175e7e58014df2c138c0fbbdc7b1fc978d8f77af6f0b2d64148657e5b4948f48587bc2ff479baca0fec9946e3ce5a7658d020cdbf24595097bca8d372ceb784ab14476e940eac02a0fed5a17c9927c2b7866b41d215ea1639e7b7b1dbe02c7298a38722aa15983c1fcfb11cc3acdbd282345e662e81d7e3f94264552199fc221cbdb2d47ee5ab6a52e26fa4671db7bcaa8d5592292c29950b4bc0607fa25851c7604643a768695e63810a40b66288a8ffb875acefee185c78f7c2bec7fb1b06038fa80fdbf15bce6a8f46454ca75c860f1017de0acf9ab76ad01397f015725728a3fd1165a10403c4f9a0c0b4689560e4f50faca7a35428296fef245a5831d0bfb47b52dfa3775ccbfbb0c98810a68b25fcbc286bf43e6a4ad8054f9e1d61219c92e62f625a9310742d2c724b1ab765b0981ecd05ca5ba2da3b7eef403d220680c875c59797fbd4295bb7d8234baec3b4eac356fa344d644966254da8f055cec22cc1f796d21b0318b9dedcee2ce01c9bbfa6e65825fa1b3b63e24c191ca04f769a7b1a7d7202dea425c026facc27844b6fa0ed1e2e3c917b2725d201910bd3811698c7d67a0c9eb845559af59982e24d0b753b5e36fe6f685145d2bc75ec344d7303a7e90f4f845393c274c63eed864646dd1761dc43e495810496f033ea28e009c6ae5859d30ffb8691dd9fae0b769fdce4a75c9d42a9454fbdab3b06781aa7eaa70a9c181884f8d402c327761802aa658ba6c21104c27da7ab542fc06ef5618262ca409b6de94e1f54bca7823c3738a58b1b54f1ff007dc005a397b579c1b499098b4ed0df2528acb30d6cf08aa7d5901e59ba2101bbad2735c5bab680108a5a7f972492fe3f112db728cb181b81d1f4981477a8b738c273866be0a9324f8dcbfac0356d2d08b351620c6154de84d23135d896d8ae8241a91aaee9c5f53f7e41a173b41976dad8ce4fbf80c80105e81407611391ce33fc51a7f7107196242999433ca3435c71b0f785828de14f5a9af1a1a0ca218fed003bc5f52c14e6a05425981334250734993aed86195765658a68e7de75d802fd93835dd13a683c30a0b4e138a010457817af618e16f4f53229e6a0badfb989ee314e4c68b6672d2400fb4e5389e997555359cba367413f1bd98221050ba04ce45517401bb6b07796c01026c4483d1e035164b82365786d7a308631083a8cfd27e7720c21eb162f5d9eedfb874570f84bfa265e9e8c6213c82bab2d0388d102e1967f1142853787ca8e5767cbd462a5a46838eb1657b3aacdac499b0f091080e8863d8fc9660d2a480352440c8d00e980988d746505de8378c3954a83406e67bd02b6b02feecc673b916b76e4a1fa181e793dc579be0aa1ff467555190d1a7b52095af3968e76e0b1d4ac62ee37089c5ad4783f1d2c34a2d769bd2f787a4956a99ec401fc086da4902d1cfd6acf55aa20061769dcddfb216f84d68a42d3a31305c04f5cd66c041c8ba77174b1b84db633fa6f9db60fc034c6dcb4b55488e4996e8135c08fdf071a80381fd34ecc75f2a0bdcfb1ac8e5b7a4ef5efa42724901a3fc4714da2f2faea0e6bb028fc118980d1b95206dad0af2532db0c2080be7ea44087502dcd0be94f01156628357cbb90f1f731bc071845e02128ea86c3c6e5ae7e7ff965b1238f1b9a327511364c7a171471ad0ebe27f44620954f426a5f06dc5974973d63cdbae2071204ff1e14e827ffe3778843782f3e17c9e8ae9a2c551e92536e6c2afe6c0398931a4570afefce2c5a7b0e1a9c3a3329791d5d6dfcb8ae6cfe104891c3a038cd39cc9e9455adbff9000b3896fc50518828527ae5873652da35270b1853e3dab30e676f56713fd106f65497843f3abf07f56fe33fe7bdbd83ae19508a639f76d097b14d49b76cdac19de3d4f67a330448101480a508a719eb7ae7837e8ad722ca9a419a3fe45cfd030db4190c6ed81cf2dd5dc7fb3cb5b5ce90386f21e5d8e5d8f9597b60af73f36626ab40318b2eb6f970545053b11caaa101f214ee46623c845ae8e102897248a962b91ef462829a92f65919c8e559dc26976fa9d07ed5f2fa6f9a4933597ebb3e3570ad2bb01dcc98f482270ec959d7cd989c46d8b1787ffb457fd292398c418640a2c49136eded2ab1efef1fe1fae138ae42a8473432fcdc1b5bae8a360b4890296c857c8490f488b9381b1285875981f5fcc62258165b8979a10e97480e6eeb2d7a8494d0b05d7d52e650653195ec4238ae13b55a17dfb7c6a483650088ac599b3602314dc096e9afb21aff2930a6fe2f9851802ebb1a5eebb93270bf3dfad4f52ad6151577ce9d0acb16a7521010d6e1ff4c0c2cbfeccfc023d7e9349e7251810e48c8f1596da292e7e6ae5c9ca0f49487bc8c31fe3ffc416e36c83a1dfbfe22fa88b62a6d0ff8f09e9468612e5f2f63a1dae478269c9c7d1f930b76e524edb2bef631310949417c21138cc7d8aee3261c1f941207126c684336ffda23d3b55d13d00dc4a629e0780cc5eb19875930f2f08c309aadac1170d33174cab145e3ff27bb3f09dd20ff017283ed9b094169e815aeb4b19134cf9aaa2f34f3ab760814509c51c2ba2f63742227fe65cb7ecd039736da14f65fd242bfbf08d683cba375d2c8e06225dbc62075a4b3650b92e2fec9a380925067e7bce9874f49e2876235c79130b991e485c00d4442cf5bd413bf609914aea2069cb4bd6d7ae1f467124d131c7bd3b0dd310260aa9a528a73ef8f594d1dd4bb714e0487ed2325c823737119afb80f3b04072dc1110ea0e7c1861e43e214db46167a2c9e6a9f36100a90a7e18afa80c3b5eb552be4feaf04ffe017035ba404017985e4ff3393aa7ea2ceef83209632cadac4d86e6da863cb7931728b91217661b93c027b6082543488a353b2e42c2864a2ab82a0f08bf553b78702b554b07a9c4a61eeb16ed023ac45bc9f8574cca6b20e4184e8383cf36665705d22b145530dc96e4aa7a3e3b60d697c6e3a00518b7162223f51764feae65cbda4f1d21e7f554ded07a290757aad04eab11c9e22bfd410527065cdd3646d00e4c7eacd2f9eff9f7d709ed1cb5c155b5d190828eb2e5b63ccbe37aa7174504ae086f64b7dbc4e2bd01ee59334ba660a8c14c4f2ebb586dd227fa2ee1ae4e18dfb5525dc7888dddd11573d4e51f2e1e69b95e195ab2903c9790070eff2dbd868dc7838cc5ea4f03a5527e985f9f7cac7323676863157aa2f90dc171da9303311888dca05ff46dcffb8a891b0d5d6bc81e4f2fcb9c6a9648f952ea0fdeca8fdb60967e08cf58bd9b3448bf8f66b67a3b9f9e02c3766ba708d6b0bc4f8d93a7a46dc41ade17056457047e1764e6cb24ba2712a9894d83da9c17b2840052d50abd58b63f28309a7346f8097598b74b999e40b46e0d95a835173a0107270fe82e4148c350c3f03a9b614fdc29d2df4739551ff40a8398b554fdc046654254cdbf6f5798c74cd29d47f2fd7261af5a2d3e9e81a55bdc1073417b7b33b02096f7b446cad8a80d2418ae36c21d18e75dad1d2c1b5f1803b121b4f0272c70f1afeb8290394423444feced4c9be66c9b7c1fd348645b8f4833d32eb9c3b432ea9a013806db47164dc76d40fea7d2abec14c856c7885ba4212dacf06c4315b623202a8cbbb4c063aa369dc406fdd5563b327a0a20a875950417708c5b44cc9228771393519b8e9c7dc41b766ed171335a81eafcc04c61f02cc3ac895c2510d2b33cded99b4407583a67727ce821680008f5bbe4b04631dcd581c67d8e7d2e92b5a3cc2d4f4a8f82616d8e7dffc8df16156aef8360f353b0f3c10f10b37bfc3b0c0ff32dafc9f674001ca5fe0687dbd87ac3bb1a955caf60e0a2ad640124c0718e6e8e4cf635f91383fe50cd23795efe0297cc1118fcc30283c60395026ccc25f1a05d43403ca2aa686c67ad15fdf6fb655fe28ee7a35095a44c0ed10cf2b01cfb96d21812a3b2f9a9d4a838817b7d24ff12bcd177afa5a3c813cd34bd9456169f5d325a416c36bceb65a5826cb2b531906b6307bd9dfb0e4d2e635c4ecc6dd74abf14119336c52dfa8d4c3759996333278bd9cd76c23548a10b77534fca45f503cca0907c9c3ff08b1743cf1a0cbcabfadf8c6644dd83426d2e7657732998ecd4402b658fb41f64cd8a2e2b3df594c8985952fd3b2587a58c78a1367281d23f0fa1b219870c0dee7cd872646ad055db5315b6c9495995848c32188a7308aad5e00575ea7ece6801d6b6aa5147c054cf64d01a5e13824b1150ccb00454bde6d94a4a01b050a0377ba6b8b11b7319704aac4f689bbf1cedf05c72f5253e8fef31da324bc3dcd8babf28e83e1504759c5b68df4b9b31320377a29e4dc2a4ea4487815733a7e97b522bee8e1ea850d194b5bb833168aec47f4d18c2fa3ef63eaec218c8c4b7fa1f7aceadd6e22c7c08b0ccf7fb4e2b4c86d7782ff08723bc6410ab310f3f0f1b95012a88addf98a9f8562de030e59715c3622913dcdec61ab74305856de3289be23c4ed8d792a904ea5ec8f84b3a316d6593c42d97a514f19b5e8f7ad253b401e331768f6c2d521966024acf60deda9f5c6373de5d78d17431ceda4ea973d83a10b01a466798a661344e241d61cb76e52178375ec4bc8cbb86f2cf71fbe6ddfb3a00ade3df680b964270fcb1947ae498bbea197ea02401629776ea8ae3271c7adb56fb39fea5a6387bc1c5502bcad790eeb213cc95d16aa9ac42027706f5f60d68f6a8fa0319e356f8945f07c4381623ec4e05a1860ef236b3e210662edf3ff0a135dcb6724acfe6bda7e961a8f72c5a2b8d7c0f1019fedf3e0a636c30c095d9b9f30e7c0b06f22bc12bf2027a16be76e1c178d1993c96cc40f9c5ac3a5ebe905738a54a66314ed806e52d8184da6d4286eb171a6f2f2fa02cb4c07d78fadd11071564d2a33d514a125f6862f8814bffcf28362190ed7b6f973543091e4b4221f4bf91de25771281fa8af7a4b3c84cc5d542b828b4ad5f000440545ee734502b4a21ced287adbc43def9e7df7c7cd9d0e49275868fbd1d26a4923917dfc02af34cb30a5007f8371bb11d1e5e580005a786786a3a5ed3b3a18aa9f1d8aa1fee452c7bc78d965e363d7bdd81ff4bf5a03a4f0268018cbb1a71c9b6203bfe3374154f7b66e303f8942ba03f1e2de4307cfbacadcc858e4edfbb063a3fb1979e8e2203dd66f353654eecf7825062a0fe8b8fe80ed1ea6910e00c0beaece3c25ff9804bdb2830a48534aa74118b20e228b7e3102c79eea73f56617b42e71c5553a4281f22d48cb58e397d63ec967f0777ad1f3fa53103898664c793d1aac5f202f96adde5ef325d1878fd58604f5fb9acba730bb4d20b87df87bf3b0d71e5e6530eb20d49893697e395dd5fe697403a4bd99e8d74df11727f03ab5a55362658098dcb4d7e9cdcfa6c8ad689a12a7a1de08632e284bd3599865dc6fd7fe5b238a5720a392d12fe08c25477603895306074d3952327fae7d239fbfc9a6a8ef631ae8f1d03807e388d699feb5a984c0b08f441168070a467fc574e83c3158f2669ab2ff8535d435ddc4a528d7a94eac49d97fc02f382aa1f3baa836687466dcbc4f226466bf7cfb91d36448917eb12e9c1b0eec06bea4271801ad429491812f0196d74c364505897e46f297fbc6939dedccc7789a6a3f1ca588d88fc2d4d24da6e2b62a51030fc5da257474daa347d80ffa8c5236b8a749909bf596ba0594a74ebebb41f772cc28d9aec0aee1fff50577debe89fa6cf1dd4745d196b2171053ad8fad25c05d925dae47ab3c7e833b0484675439d2a2f1facc67bafd9dcec34e6a4b62b206ec3ac11b40a8107d2e58c4ca8948584b4e165923e0292cbfab5650e9b1c1e1c2ee3e27365535a58b7b078055824ae25ad04d827dccc41fac44a9003eebb996d9214003c4dcd63e0adaf721dfd1c995e428209a79bd04c5dd7a1c99b8d2b618541a8860b878843d86cce9c3467e7fd388cde2c8a149125c5564ccb9ec2021ed0dc8536ec8653456473ad107f7a2e6bd4e3caca685357adbff4c4ee28cfb883f536a67cc7ecbb33287af50c0ee854e1f7a0c34c096590fca07ff757a6ae7b42be6beee996b4be5702191dee3b8a5ed459c8bd22bd3c30fa76c5964f5c602e632a146b9328ad547016c0e7bac0803718a1b4592b225976ef52fcfd7ea97da95086f38315cae959e3844b1028935f1943f4d2dadbcffc4e14db9b94bc27449b29281e08f57fed92eec848bda01c23b721237ec15f87ffd7dd1ee29b20c874b01d82bb37b19cd78e3f63f8ede331f899dd6497bff6cde55941908f3e6053595d2394dbd7a5e3b02bc3cd78df22d49e8b002a7a1732f375b13f8f118db4e41536f952a42d4bc5ba4b9ef6805b7ec53410a3f365cfc366b38e899fa357d6de45877d41f166dd372a2111ce7aec61c2c6885a2de0db15b41b0355a6f4ad289a234cd5d4dcaf16baef8bde99cd99131ef7ca79a9184d9c6d91bc07866108302b5c7790b0c9ec6e1e2fb89b3fce600e101c9ca6be7ef2ede197c8c77b00382314dba94eaecc8255c4a3c41aff2945fb91e4f7415a6a20712574476f76aa377a68ac2d49a95e1cfa6d2f7c931a90101065f2a5a99d8e3bbbd2a6c6b06df31f751f430b664d5274b07d8590d07c64cb2d9760f0760dff4d9e37ed7aba5c9bbd86b6ef052d5d5331ea6bb5169ea318718846dcd72d271d4b307d4fc569647a79de0fc4351590b4ef8f099e1746f9e1252b19cc7d4288e3104e1257c94cd7abc8b9670ca28c1445d82c0a0f23221bc258693dccfcb10680dafa90333673195e5c9413d06059d8dfa83ea35b319d2397df028bea53b974cf5a39dd69de741ad9798641e4724e502b11148f5cff95968b6564502fb3013a520e183d73ad925823541840a353be01d89ad55a580b6c38dfa8af33ce6a4f3f9096aa69d9232c3fe0df70639dda6db0b70387a53908a93c4944d681b8bec4a2aa07f6cd068705e7fab6df5d19ba10e81ed1de7f99ee7184f4f58e50a3337197450db1f95d91fccc1a7d66e6d8c6e7b8bea76bdee494cbbd85d0b66ac74f198c102500b67738f14b7869010ad5b6263f6400cff2a4fd4e29cdf2ad0484ec7c3f2e4c50062a72f5b51c20e54cb525e22ced3eb81a63fef7ff8f3be48413da51b91a231b0b7b15b47ecad5f6d38427174ef5fb76592d88baa076c1a25cee91c72560f9a30c89cdc811883ecb6ca4900fd91371391f643a0a49c41e7827acff64407ac42fe55b3c80cc1be487fbed000c6fce329404fe415488d47e61115f9cb522488c91daf6e659714851671e74960103a15e3c132f74e01e28083566f97434c1696c936dfdf3fdc0b19281ee541e51cfdd85e4984f937ecaead7edd273d3a62e04f6773a761db22912df3eaf1e558c8e129d71260c3d16e56ab6cac25930b48b57f63102a4cd0c1204e30d362d74bf7600dd9e7e82f9eac9c82c2cee760738eed9f8f77f38b2ececa2b3ad9d00a7df7b65d4f01db365cc608769917708dc14783a8850ebecfdbf9d067979a6f48306ca3f9f1205f7a6ae15c5d2f5f9cced5fe3c7d84014d8603db1b07b9a004368d0adfd0c3acaeda353ab434ab97654d31d447a74e746aebfe791258419e2eecde784121d2834924bbf6671ddb5365f9ebc9c0330a36a50c937643c4f084188519a5dfc1b6ce1de86bb3460c6730e1ad4ea01097b649dff19568685bf0498001ce72cb992b6b91a8a432ec14e1b153deda100064b0e981a994e2f12ed877ee9079a1ea196681dd09d69773bb17c4ab60b0f003e2eb47ca094d86d7c1687b64e356f71229fca53b4515112ffdf217ed8df65638bac44840113c1955dd836e0e0d5dc1c1e854435d949e93d5b6d21052bf91bb2af4df9d31e574feb53c41c0797676b5fbaa4a0ca2c67a9ed3cc01f26b8e37594b5cb788808f6f455d263ab22f97cf1f56e20149b50edb3ad82239f925a66e9b61326216b49fcc4f46d8bc8865255fdb41de504362995e10e91a2f24b0bba0aed78d9d6136ffd39d0d22d392bd80ea8c09f6deedf455d145e320f964c2b83f75eccd059a7f8a55c5a53a0d3fc70442d74a7d1668251b6d9d6964f86aaea0b08d806c7664dfd0c53469d4e91b8ce4c1212ae3f495da948a773cd6101f4d1813a5fdace4b99207ae2629aa226cdb098b334da2636bdb7a7ec45644c8e4408b50ae0c666572f5094c80dd7818b220202977f0b35e849d43fd32de57d13fcf52f98eaca69b44d66702f9db08be4c33dad403ddf662be6fc3ea3e39df704b03d962583688ddcb9b312abc4e8e3e1dba66a3f0690fd9175e4cc1b927766e1d902344c52ca9e09cc22605d59f1d4ebbf4185b1631cf2f8e7ec7c0db7c919804c96f998142de050b31509fd7a1ab2e9d91771120fa77df146d59484b438a7c2f60e94ccedacff893b350f1bdaf7f59cf23f61004742bff5548c1481efb07b0c17e41770f0a7ad0c357594ede7c7acb32950827ea727aa12edbbc30198a35289d5af8d219636bd0b2d9b3598b075c2744779ca4f686cb65a1cd1d197f4f588228ecc2a219c97c1d324e131f9d0c6048f22ab37cb1a439c9cd1d082bd5783b1881bca5cc9d10733cbd4e186a61835fca00e48506cede0eace9a3b02166f181e64229a15f005922590dd48b13412269e4e66173593691d1f2e7b88e63fcb06d7107e5594e21dcf5f40e89ef12fe88c20682264d738746afd05797d8dd3b807f63a8acff7dfc8c5946021aa7bdbd957e2c693cc57b627e16e356b4e7dc28fdcde8b8db36149f5e9a7dd51dead066595bee6adae8c6ddd2bd4f725bab92d393c89106ad921cc52f7d3c3da3c5d101e26c2c34d29473f94ef205299107ebc1eefd639a121c161e0c0a9cdcf62e471e49a613d040b93ad5e8abed1c59b4bfc10ad1df6bd9fbc7c129028561cd28620ad2ca03eb5bf5c4a0fef6431ace777351a26ddcf199f295db9c3fa23101f7fcac79d2e78be154b0323f5304634fc3c35b83c3b762814f0e45c2391ee59a82a15bcf3b169eacbe9c4b1586f50a0e5a4c8c6e548cc82d4ace5f4a04c6a4f483526401987953ab892de14331c17ea18c63bed78051452dccdfeb6b69b4df9c8ef583fc5fbf8734c5b4eb46dc3c3aeb23b8e86c8bcdb215269885dec7b14546daa192e8228850781ac40da140683381497e271315268defff5df667bd2141a95a6f061ca69bf1a40f5e741075e7858b0f19cb6d19272fde5d23ce5ce5cd723d431de08ab2d95f35259e26fc12870f150b2549bb752ef217fd0ea45bd1460523e6593f181906b2989f110f486dc9ee61d990c79a6e3fb48f9d4f857b843763f8c47b13c89e27d74c917765f6d00f17b6e64d5c5b5303c50a8c8aae03f97ee95da5f525dd98e08d3f28ad3960a543a9fdc12c90f02d80e36b4a6639954304cb618fcfc476387ab4f8631a07528d4635bd70f42bea5319977c6a650f3ea8955405f6a291cc6a43b34b9dcd767a8d1f233d915144a28b0c86c14e65453ef5fc971f790b0da7abf73d96843ec409aa6220b06a4f42ee2e1adeef409d66494cbb85e42ec9ba5a21ab43b0a045ba9d6ab8e0a94e14487a9a1c9403b38c0987defa8a00ffc334226b1898ea0b3c4f4fe12bd416cafb703084e5fa02af60d4d4d2d6a938bda8b769bd6e8de61601a15c913b811cfed261c819e49372de5d0581a7e8dab14c7f08ab82caf4d99765fc9d8d2af6ee509909d645b53d37f97f524ca2df6fb7281a3a122133cfed3127cc6373a06f3c0ccb4c8ab4cf344a0f3b3461029bee079cc05c67c216c7eec2f89afc5e6713f196e002df84deb56bddb610b28aaed197b1893d5225ed0177f30315be10527454d2d341fc9f59a81ce58588ae99923b4a3320bf6ce125597cd7da1442f764ee1716f9366406c1440915b08d33f9a17a5b2417c29538e8a8751b2f0a806631491a4bee6ccee232e5e4d998cb7646918f9bfc2d794095f31aa20034ccce8d6c489195476b4db5c3549ee2e23d7ef8f8b7f1288fa5d312cac7a8c4320a30388f415fa878c1bada5827519375820f01fdd3d5c837a00bee27d5425efc8709ee232a967d3f07c16067f5ea5a81ea4b3deaa8a6b1b995cfcea875263de18f6f1507bd661512f82687a286551bb98a93457836a8db820715f5f8a5b3f774dfca6d953833cf2b56abc21891d4df6c1683f1a1ef5732aec20ad61e417b0a6ca008b86e09e89daa87ed7c4684408ca4e63caf33c1fc2ea02bbec87b9db76b81449e0da7562de80983606af827c76df998fb57da4868663266687155e97941b5a068091b1359444f38a2f260e471e5fe2d85fcddb9eb87c60e2bb707dc50b8a0bc9dbaba12fc7c14bfdb9bc9e322d1c866676257c5f3ad78aabf11ee1155124ebd30750890be637dd7b448cc1214b3ee39587ffdb200c16c8d1b7dedc192ef6b6718756ec0986769e6556593e7a252f2d6835861d1e0e8196bb5917b9c51f5ad7db4f8050de04e96c460f917f4d73cac3840b5862b8013bcd3a1ac886dff4756fb7ec7b73fbfec3fbd485c00b732aef22fb58613975b633532b5ad1a30f0bfe5b526fc6ceda2b8f7184393bc3f6a82ab2bf1aa5ddb48ff1d04e35eed0bd9cc72742a1a5edc9b686c749fb05150710a9c6d3aa126479e6b7b02ca43f63570075c7411f4f481e59aa6553b42899c0d8d1a0ded8ea97a59e62dedfbc3cd3270430bc36365d74632f36c777b2a6f055e85bd4b70b7c572e287d60e4622d5b66e16208821c36cc42876d76e44b647c8f041bb846fbeda0ef99f56e8eb994874deefd55b8f91ba6e75edecdb9f8a2423460d2f18755e2011b5bc5f8ba05e7664e7f65da605a1354afbd6840843d31f818570bb3d92b42c1ecd6083d9b7c0aed106ffe5a59bd02fa2f3852956fcb28a84c91691274db7278a91df22d7fd64cfbfdf69a89f7a6c3d5ef6700cd0d9d89c5ea24d6c7c30409a549c31bc5840302ee4c701f92d4aca674a2d9df9dce81ff8bd40b91e41551664553cf11bad05d63530a47c8acff9932c6495e121ae7664108b4910263a8b73ef31d154c47ac3184e12f0f4fbab73b80c6474624c0c1ce4d37962ffffaebd28f6e6035bd57334778bccff58080cbbb512c73e35889e83b328ec9750ab4418e72063a9f73ffdf39de937944633bbae36174f5d18685ed48bbba7a51dc14a75f160e0aa1a3bf93554e64e90e6348709ce2f8315144e59816b3df541a316167a5268ad76061f5378b6a1e6ebd5abb506d5c20b7e759cb8090394eda1c081736137311417c76da717f381e102a0eba577661f4d2942cbab71f9120d28d02d8a8f2a90f95e7ee9559de78bbb01c7f58cdd1d0df415ef35f943cd529cf2347a9ff7127fe813384bf46e4d6e0e314a31a1d6047856f0599296347626e7eb19c59823534ccbd49918c2a288ca1e76aeb3c9d1fcbe74b450668ae99e1a31411cd7c866f0254e1a4425ccec412f73fdf6af252de1f2e44c110362c001179287c076a05735833f7cf1d6daba3932cc5323d63d7bcb7adc2fd0d73a5fb763d08d3049d471d9d01238a27ee0b2aeeeb518441f131c55192a56a05df48ee9a19e930eea03149a5ef475cd8dcc212c91b5e338fac3bc916d8fd05c4faf1186ff67d87803915f17cf0eb16d2956bfb117746af5e6ca776a8f012e8269e79250c96298fe0d24b6c6cd7a61d77025320548d57c9ca54cd96dc0a177c9eb49de5d1147f184ec37dc1b3e60080e1aa58b91cd0ff4c11ca8c5cebef5a69031561fae4926d6bae1d28c06674f5e9982b5fcbdc79aecb55e4f91e28da862d63aacd15ddd8dc6c8e3371e0e5f884863ec5de35ef42bc9d2e70f7f5d0a0dbfe74826e5e0294e898bad9254438d94ef501c36cabcba4fd3a096e52eb87d17d49f4c5daf7f85b45c874fc72fd9a5120926ba22803dd546aa5e840a01d5f093c4824173d63888ed637b2edcd5dc36db9e592b08d266405aa0e548c1e716a7738186b6fd38941120ef2041304fec3aeb3dfd95551f4c8d5f2a89ef744b35b367ff7b28a064f679d48c07b3f04dca8140f30f3f189f3732223f47b555144685081852246a5de162e7a2fec6e600510adcec3441bcd56273f4637c0e16ae3a90219f6a1b1213a885742d2a1d316766824ce1c64556123cd9e7a2f41f486975a529962c96f667dff36533a17167c6e98388cd4c20d17af01c1918b5fcc3a612e31976679d89c099836396ca90c512bf424aa4771b9d89ec7686dea6baa3d7c8313b89b12c089664bc0206b77a9e8849e9d8e70a32eb912a1a9a2762a2159056b9d8f4666b22631ff87f7df6c3893753b028938c3951dabbab6ce99c5694032ca1f383c9506b7890fb595ff95af2032fc1e54288129d5cd07dbc6203b5bfba68f80471f817a85d82a84f7938632115ff9794fe4b4a574295fb2d739eaf7ed4c704fc143b8cd245fe63056633162917c91ba2c90eeba9b41df73f28f5d9ba74e8bf2862be07239e911b7f7b366c1d8c9e88d428fb89bf4eff2f64a56ca471aee60f91987383ee400b213b20ee50e49e8b59a5ec27619c6e368bccefc403af316a4fb03caca3c9ab9b7ab60ae08a202d05890677b2239c51e15761f086d112f505282eb54fcce3d51c63befc28ead49667fff2f1f4c2ae44f1605dc96acaf2619b27cce475c78853d9069260309521ce73b9e75ebdbc6ef75fac931016bfcbe9561ffff2e18eaee2935fc4417f9fdee0c46bbeca73dae4c8a6ef90d9b78b43dc3ce245c52454c2db11a4a1cd0944f345a79b581b7b70587ba712975ccaa7cba127329fa3d4b3cc4ae282f4434ce5c9952981e51ee77da42c250d788fb8d165f1ef4a52998f27bf8a384cf2f1359026f7e3239b2b37b189a8b1228faf1230fd91ded6f9942ebe0f4e5b0e42eef4189d97075929e9cb36a04b7e765ed22048307cbb8452f2aebfb27a40f3dbdfe466003523efa6cbcd4328d0ec6276bf194db3e2948f44eb81a734f7a71c6f3d3d0b2a6c3eb34f995226434505b3ef9445292d40cf48165b10a6c0e72d82dbac1c92b444a52df35c9723a10e872a4d3b45bee88cde7da82b9e655b57c41e140fb3ef6a82281bb6b9ba56e10fc6d0b1306d87b7c0fb0f1b81e18ba3bb36db078c9f0ed20b43eff6c196fa6b0c58916547cc3b8dd0974bc90e0ee209ae3257c84a65fd0d190f7bf2ac266c423a79c5de4edf153c12f59a234b88f9cb431aa80a25fb105b68e8c8ba9c1dc5ffe9b168c9807c4b5ed25399f8edadc7806b3baa9b405a8ebceadf45b3925abc0571c31e1a104145ad6436340e438f24591c35aa50b2b3f31fc3b3a3851c27a9228700ef6c7dd24065015dfe269cb7ecd5b243dc8b166079accb2c64a876c9693a915283fad23e1b1a0a4119f3c6985e5eb4586843c4ea996be2b470b448d49b57003151d26eee25e3fd33bc85d5154daeeb0d8bc06a99927a1d21c37cef168e58dcd5e228a303b4e0618161d1d0e67133a6064c6f80ca2d92e7d564e4bc3318710d132f1f33cc3321800abbecae2d54b831c6e930f82f9a195e91d906845d69d0aaaedc66972a0a92f690820e98dbbe1a9d367f21e840c672f4919bc6cc0beb5ed1408aba81bbaec6aef41dfb83d081be86c7381c88f81e8b92873dd5d132c20a774b2fc3e3cb11ba3727679f41a53a4b4b7a72d0d0f2ec1ade45525dda734a2476456174c94673477c828c49556dca7a6ed6050aad99035aa17c6349f0f3eea58978c657da731349e91bc4ed7f4d4b3f0152b330dc63110b1c9e8a75bc32151e3caa61084e6111148e3c745180d87dac7e28a4982343bfbfb97cb6d9e7dfddf88d92a71c5db1e804dd7e85473b626b42e33a7e58136a142dbb4b0527701d60b2bb96456433076d21d3ad7a8911a1f11164b5a62449161996e70f296ca3a6b72e7c0be9b217fd28099616324805d18a7753946ef88ea1a3ae472086fc8c23a1707ec5c8dd635a16cea77ec9492813f733d774cdb2915d9da0d0f91c31d84229021561f6d7d2bfbcf6255f6c6b607997f1b714a571a36a30b6e559120fa3ddc2d99ec4c91e2963664a9ed2389dbb5f271987fc3246b3a381269d66d4a9ff18e08563460c84d9504d4d6a1d13d4b15ec4321b32a9739dd7dcdaebe5852709961177863f623b08bdc9825d81a9640ca1406034ac3f9acafb68fdca2780e7c1aa92f28469ae2073b4bcd406f7675a973b765a2bf725279aaea28c2d804e8a6b912194d93dcc8aacd4488fea8eba6879b1054fe0ad89a056af619bda71a2cf29fa431b434eaec99a1771d041c9149499e3543bf0e43ad238e7f17725833ecc6c1aad609b4eddeee7f3b8aa06731a9a6086dea64279123478259f2e8e09558cad03b6d00d8f10a21da34b0cc37e588bf6274f5156542c5bcfbe32b9e46775f3cc55ce4b4b40263df511c20dbc8a3ba049c576d67c53b37bd21511fc8f69aee001e612d3100ea634e1ee30d565c6d0baad888f436236d69b00a6ba138aa0450eb1e6e915cf252c3aaa0c547ce6ae605da8d35410cf9a21fe1e2872a642b2726a2555803815fb00ea8b01219a9d782236015363c82cdcc5885c1b8c0968d12a6db07cc1ddedf42fa827b67a19bba34a13aa881f63d2a484ca6bc71ef67b284ffe5e4ddcb4a99580bb529cfda8f79c544b7fb5f90dc441bc6930ccee5df1e6ff4da4401b3e044f5174108f1a24cbea69916b0a4f7662cc5fb4eefebea1ff5df1960a3b6014c608447fbe7a2721428f7a8137e6a615e47545af5628741829503e1dca4dd26d42f5d416c9b0a19b3a621d34214449ac158f816db476c05c367bdcc950033dbb68d9fee0a8f8f2450764c1db9dd1ce9d91a86a4506f15db41c3cd97499a528d42ce39ba8f4a6c21a42c3d9088a29952eb376d2db6e010c2c21f0b8c6899890990b01e3160b1e70350bd04644e9ec799b3c4063cad3fcf38190c146f9be2b0c4d80db3165bb896b2e0b396d1e7561f3d56fb130148eb2aee67f7043febf67eb0906155291cfc6483aac5bdf961ee415664eebd0f7ff886744560db6eb402967c4269b282e60343bb9575426d26424676fd6e0495efcaa2afe465d07f9baa4708c9e1f8a02756f8eac8943897e6a3e172ced3c2b50a0292fd972cff41433a57252888edb284710071b41a12a404f0699971e56d63cc977f4ba0bb13887ffe5ad68624a724c14260f617b030a915f6d0e3d226adff8e145c4a627f7b7817b2e76450af4428e9930dd4ede24c181b1cc64559461c657b3524137dc66b5eb706340316f908dbfded0fbc8d6c6b031cf5d792988ed948c93e6c33897b77824f7d41a942725d4daba4d0aca86b7c853ba16361deb478b24ab01825e71bca1913d9464f67d6e1cb40ba1d4adc1aed69e1c61621709f0838db44c614dec081f5ee6d7224853d75775b1b257180da7fdeb59d5c016a483f2c45aacc6ce43ef4307bdc5cdab14be7d4440359e8ffac05b25c1f37fca58229ebb161315ad44d4b9cb619aae62f79c9a63273d9cb8673a1e8b9e68f68d24eaf37fcceae5346026f55a669b75197b2f52a64a94b221eeb635fd5fa22dbf327a7fbc106f0417d09cd0987003ddbd4cfc24febace412c764a1d36386191642dc9d1ccd4099bbd09642421a505c00d0352ddaab92dd8632012f19427ad492dd9887b1c0b2a5a9ea17f4b4fa8d6fcb8b164743793b76feda4182051504e7706db63bfb697ffe266cc10b3702abf42cfaefe3d6e0d613e7715dcac0afd2f73e71b67ba22d0b1138a49fe425229f843ce9244aed56b57ec968092727c5dbc908f42043053973ed69dd0cbffb516bbd3262839478b0862aa9c6358de7cb8808cf894921415da9d7df2c75aa12402188ed43ebcf25fda0abf7bc6b41edfa6491fdae75b21692dbc34cd5a2d79fd82bcbb1807500ee4d4be3125015978014284bf68a7183d18c73b85bc1df5397fbc0e47d4854038665","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"2fe92032f8bb884e686d5b4cd6d2f899"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
