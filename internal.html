<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b175f71b1c787f9bf613febf523cf9ef6bf20807d0142552d71a004dc7b2ca0bef40368aa4063bb80eb219029e04f41d9ba0975331cfa235a7a34b689bccecb5e991cc3630d8b55758c496110949559f8bc729d6f10bf9cd4cce927b34a6fb6343b3f6def652ae4fe9455e7cefa287344e8169c9a6f4d16cfcea76ecd556014059b3725b4a080b580fee0c53d79cf6cf7ad9631b5e0e1fe6c65d0a703bb82ae816304ee6d58ff0576fe24e90ac31533ea75de209a77ff0d23ea4987f46e534b28a4b7c80f030d46d99b2a036b8ce23af9fe18cecb97083d7427b364936a72db61df29123bfd272b053b8bfe39fa9e1895326b2cb0d8e344970d1901bdf4cca99410e077157101bcaf73836068ee958b1be5157aff6f656586366aaa48d4c82bd8ce1f194c693c2d950b4885d5ba957a3bb849f9f4deb2d31cfc05aa4ea88005d7be3e1193e99cfbebef023d68dac86380bb3e13bc54760f0b4422269522596d8d3eca6691b9a13b2e4e26fb526774725a68182620abfc2d94bb4a87aa0e03553f7535e762c7cda72b76641a2dfd64fd7c3393ebb60f84de8c08c2c32bcbb9aef06a92f35dd715228167d4afe8c4614501d84c9d64a7510348aa4ad31a14a2abf7e536fc3b3bf26fb314ee3262927c4182c630871484e159ce6cfeb03dfcbcfb14a3b48f86c9067c8a5a993d9d83c486c55c88a6b9eb1d3ca6b17f8343d1a44685bacd5edaad876d469f45dc39a74c0147fc2cdee6187d28ec6360bbae104f3e933cf2bc14f563dd715eac1642bf91a6bf862dbab159f9e813091fab757f38c952ddc8fc05ae04b5299216b2eb40d59bb53061a331e61b7b0bbbe435aa67e8a5bb0c2c941bb1e1deeacc9af368810c24a6a9e0552f7df08b2fc8f6f660f4b8d28641e23d9d7b7962bb805afe52c7aa251ed82ce91f05859775b6b33ca3662e67565e7f8460f4fbe0dc47e02d05ef0f2b2afd057f1f02d4811c8284d62eadcc4e6988a03f969de318aa37d6ae4769808fa0940b188f60b14373750ed9de5fef697dc12d18881f986a154d5e0098a771991d1c8fc9157593d5a0f0d4f5abe5e38359f496b572a90be7fc83ef55f85d45200af978fb6ff9362a5e3e8055343a05f26caa73647ed7d287c8243a4f14ffe975a74979e482dfac9084d062d5c3398604c9a81409320aa5090373ecfdd053483cca743c0bc3586d6e131f96e59a890a04e332762f114d9513876c3635d6b4f0db1f759a2d898f79878062e484dbe83407ad5321dd94815582f9dd4e312a2a5174538da575cf466906ace628b0b570745bb10c132c9513f54cecc6fa8a0d174ceeacfd57f7fb7fadb38b3a5e07d926da5ed496ed746054af47c324ad57bb79fdde17bb3c9270fa1669796e20a94e45ab17e3d1d5b41ed8696bbbe01048a0f82437db8e542407f8a530ff6e9f180b17b4412cb69aa458f9a227469112c694bfe2a9c8406cd88f53b95379507ab81b4ab603028a6367c83d8f8e4f2a113f7c745c28b2e2f3d9ee267d8290b277aab4cd6d3156240ce33d82fbfdd65fb37793535a2610add046738d4f9bca17512ff3453804b77eae16b8b9a3d7cddd4f42f284b6d7792e7cb1eacd1d56da30e173b47d6c12a2eedfae56e1ebab592e50f8b1d7174d713042decfc92e2f4270ca21aacc604b19458a648f6f2c511b0e2faa96fd9660fa330b3a7a43b634056b7896cd46a67b2b0cf074d5f3e28326d9ad4ccfb58e1a55242a2201f4ee0b8cf17de61039e51ca35e078a7d7ef95152f502a32a0d360697409c7fd58993662f24522f08908798cf87540c2adb7083017e42597deec6f8d0e7a5fbf8c20a5644f9dd823df2c5771764bb172938f5299eb8f43ac9d8166427509f351275eb3261cd130324ed5f3b78f6418111c98e44d1c1dac6d434461080b20f79cbab808c9b0dc9a0250bc3645d737f9c8d2af0e0264b62fc81fdaed1084df943d4c12a57ba4325ce0ead53e17eec2bab5c60cc7d2c2bd4715ceccb6598d0ee1fef741f8969bd7c35ac11af62418c52bd5bd40614ab9b15e6da0ab34b9e992918d9593e30707a71274a689b307642d887a238ddc16a95a004aac8ba69053294d7154ac37f09737788e1e44a814d182debb9d0e7b0e7b61af6f6a30d8742edbf6f0b7d15206dc73800b1eb69a9a3ea86dacab8e07e577515cb937cd4ef9d8e418316eaffa69dc9ef0ab18f70a2973de3dad0dcac20cd21ed11d3e49824b312d7e3e5b13dd6023f47fbcd2992db6e53daed2b6804185cb3f61defa23ff3c202bb9910f29ac657eb551bc5f5b684904aa3925c26759cf839942db137dcf566808c711c49117473af51eb594fbb408adc8881dedf29c04866c2161904e83ae27c3393526b827fa7435f86bb184bde902492dd2a1601c72f8b0db0d75b328945eb22dfb08b6c8c6d105f784203982e4ddc913fd8b77c08ad804e48ed6599c378e323d8f5c98b420727b4d08bf709fef211a197d111dfe229db873a1918b6cead60fa955d3a6df35f7ce4e98af92b0d3f956053acdbd9b3cc6cd84ffbcb73287b007425b093eeb9be8e343daa7d594b839af2335115aef1a16a410529a361522b963a45b6440df77889b0e4697e71acd2710fcd7ee34c36f74a736b7a55adcc4ee9a035dbb33b09087e0030f01cc2a8ac7541581008bd7a19a164c1c16a04651aba20550604b500a604718eebb6af8e8649ee87d5e3dcb89609bdac71505d4a63d66665b641ca61d94352f6d9f7b381474dfa8424eb90332ed7cc875a59764b22f453cad859ea79438c1cddd209b88eee8800b6fd34ccb841ce67593b05a5cf6ffe699aa02a8160480dee489a46bc9023c51ac101ec5cf985ef5078d55eb51d5913e830ba128c6a733846afe79a7d4a3b4b73aa6dfc3eb8f14012b4a216a96d2c026acfbf8d88c85b1fd9c4474d5a11e5f462d80ca5dde3eb66af1746e778b674eaeb24385569ffad23dae92747a1b5b019b962731eea3734d535dd2c5e8120235c2740485cb2d7f0a17d054c031b53f2aa23995c1d980bc420d8fb4d7cbb7cec45c83b9e9b20bdd06cae4aa7fa8bfb7e458b5dcdd0299711a3cded4e08f86b28c8b85853b3ec493c67169709ab248d550423c3d25a10670309e5c57920b0e0acbb44da0d59fbd7c34b378b903325c4401f7500103d8ff42edf637410daebafc64ce8e76e99164f8f088e90076dd5bd2e3d4cb5f29a29e4dbd99fd946a7db301d8bc669bec42d8f1d78ee7e96e76183e006a36b4c9460d2b59327025dd1f53b6eabd514c774690eafaa602af5d2a182ae9ff7c968bd513f7b81f0c089e156eeff44ccc454ce8d9106690d4af2d21740aaa095d386fe0b9a065975691ec4d20ea2b6598d9fef0d4d7fcbf8f0a8971e2f428368eafda60551daa960942ca57af973f0f9a5afe5bfd8a9893d5bb19806666a435d8b74cb3a67fa96ca525733a364d904e968c30a24ecefb67223fc57e600e909e45964a3904f08dd2efaf18406e2ced9bc7bbbb31418d008958bd12fc936a186867b63b73bcce2de6ca65870a45e605f582aec8c9e397784f35575af3e4c464a8a53396fb4f3faf05a8dbf87c93be9e3092e594bf329275a6ed30d731a0aef22a71f7250a6373de00b5016a27c75617f3866c3899000eff672268a6bc05c8558adfffd0924c0b8641ca9b57050754c64416f4962364ca706c38ed46e6022849373690cc58548990cd7842e28fb7b0460c1efb6fa60eaa10c8b752e4a00d21a9a9a956b677887d8dc7d8666265c99412f9b3f5157e0416c2fecfa8fe0ce8a718a77ef0465f7e479fcc4e114b41d4fa70c59d353310bc6bffb331ba7916ce070f18807823ce3fa3ccaedfeb406146482ad0b1aa3f111a85c08869fb021a6c9e6774ff01b94aa6e09b55a47ed794ab81d7945033dc6c1a41d9457cfbde49f066478707131ae03d450fade6ab2b2c14692e470be6b1f041432314f9f1ef59bedc265cebdce017f84da3cb1e3b3122ac4027c2c24b1d79a927660041b8c03cb856fb5377db181029c04c497fbd91fcfc54f3cc99f1ffe814fc7938aec30b3fe61ef55c47fa795d07d17acc9c9bf11b7ac387cc53ed42f88f9bd093bf003468e6b3ce10cc5f7051f1cbe5a4493ca66d8514e13f0fff9a44b02d15e518ae8fde29793feb31d53695896af3de8e52d50094c48c77d9ce6f6eefa28f772e1e85992c67c91079a57e0a84439fcda6ea0b3a5013c8b762f01b8b7e4c7d3fb150de6daff3c7d206f984276dabe2554e400b15fa3f49fc7b8e4264de59dc82ae3a94a4b9133ac920672beb9bafc5633ea5f863402e2ba94cba3bbdf98760bc5f1f7c776c6d230358695e7ad2fe452a941de027a939e54298f6c54e3ca48d4982ee6067483e9a62e716b748ff3713e7b522330e80498735e7a28c0eb23fabc0121fe3fc1470d3f65cb9d4e3c21e7e70e344533957d4cf6a7bf870a54d981b12d37f2dee0f5203da6f5d0d0842ae918f1bbe4506f9b2f0eed459e182340cfd437eabf1428df41fc4147d4ca07aa5d7a6d00a6c999be5af0576060545789f0b143c0d68ed9533cb097fdcb79b82112e760797a836f6fc7e12578aa0e4fe0d4d9b30009fe2d69beb69e7bf7cd93d6ff7d96a9f24b466a85d8072afebddff4930a8732e49db4ddbf4786bee06afa6f923ea54d5d52b7f7467239f431c02e3cd1a92d1a52b21ceef3cc34ecdf84c62053b9aa13dc02addca86d3777835087a1c20970f14b836b12a36d6fc1102282cd464a1c5376d3571b47a6dde3fa9fa3bad5ecb0afc76fc9ca4dd438fcdf9a77e808ff20f6bc547ce630b0125ed8c3fc42809e04d6f42cd3778ed9e9a8b1ea1a5c5f1f7cf903009ee0f003de8d21d51b51f473a5ec90e09ff86aabe3b5547b8044cb6982136379330407786802480c87607d6e23200adeb2c4a87951d519e34155c60b78d2bcf89dba06a8d30c3774b245f2e98e51ebe0570022c94b64019ae1740a9e32f452a63089a348582d6c56bdde9ec79a3bd46ab67de26eeee1557e58aa6682ab687fd9a82503bc0e337182fee24fc6dd30605379b37281c04b8758e74bca0c8867af20fb2a6fc97cd95b013f3e4339581931515abafbfa16f9ead2db8b0097879aa9dd0deca7adedb95cc410213286e6722fd7461388c2a566c93f7afaa86f0d2106e74a4db4302f98479ccf7dfb78109b0b5b76a55cda3a8106ae2fc6b79f6e0936afef9701f10535d6ea1a9507acd0ec3cfc0e6bd70059a6e06db1f3730b7d1d28cf7b3306e95ffa87f13e2dca7f4b59f90ee7fc5f2c445c5558a2a55ee95751b36802633920c98e9302cf0cb43c834cb55c4e2aa1e2e4d87ec3c5b786d62f62c89eaad0f60bde1d78365e1f5c482f9309d9025e8b06f716233c18a5319a7eb2611dd553a672260a1358024bfc7d3118d21baa7ff908aadf3a8184ee0c79dc5571d9203e388254d927a8a1eb009c66d5692735e90941343b4576e453c411e487d1ebc616f542f2a2053f930c713296f1600f5c887dfb806a59e61a64b0bdd0b87a2b1536560eb7663de3a997ae4c0ef23507f9972ab501f140409028f03785922736614ec2397a2eae64925bb37706fb435e9e893acb211482fe50b5012b94aedc58d8ee898898ded76b4f9f6f5d00ba136b2998ae72c5bb8302268ba4506ffe41efec588ae4ff382a4cad0504f9e9bfb13b4802ff7aa5c1480dd6c3297970e6abc0d981ec08c4eeba7b543d5ad7803fda69b190663444a859992b12f1a0d1d516836585094ad7cbd97a86cab262a13c578718f8fd78d2ebeb548866d6ab345a01f6a62be709dd3a069561c2b0194af65bb41f505018b243230150fdcbed268b659a395ca46ad0727ee690b571863cef49d2b9ec1cee0424fa95aab9a99f3b64d826a1340269690711df81572c281d205d91d4ff445764090a7d53e4b069f909a1f5aa25a8a5f1b5fa1033fed42ca015bb42fd84446c4c738e97535b1901ce7447aab70352b5ebc79efc2160e0867a641f4f7b8b9a931a3cbddc3557b82598ea844a4ba3889f855c25a0f92481e408a4c9fc143f6152ec79d169442428521f295841fee1000710b384677f098e8cf735fb649193857c74e71b16aa5016e66c92c63a4e6c263ac7d32ee73a055d4918676d96b2e50104732d6be28a26e1b9b462eb16230d5ce613687ecfe0426c3bfa1fa54cf123b31013d7ff7ea46faf684aedf59869172ba2ae9256996a99d1477c770389b6e6f48e6d9f00e41c37e4733accb814294902c83238da61a25cf6877ecce3b6f949b0a707f818cdf73c4505a2c35200102ed7a515bb8779af2889a33affd18f4f7d8c7f46116f1bbe38a3702dd0b53d753d9920ae7a692ec75e129af914064e8f456317ba0b7ca30d901bd862dd95093aeda93dc019926d5f55f9326427a7930f1cefda837fbed65c60cd9787ff3cff226aa8dad784598499cb930423b54b81b8d74ce82f32c3ab83bad437d7fc5776052ab749c406f5ae55a806b2ce1602c90376e9ca85f6fd5fed45b3e75205c367b3d146c8eea1c9c798ec0623ff97fb2c56683978043c473e57e6b5568e2d427bedaaeaa56668788c6c87493ee30778965a7106c9c0718208f23cdc39ccc455637629c37244d51b0aecfc9cf6a174fc97bd34dd1ac14d5243c4763a3bd76d4d805a29f15043acd38bc70feb48751a6bc1194ec5361f5c55d69287ad0063e759c38dfc31e31e6aaa0bdbe33afa7393cf84c6b86ad00af8c3ba1511488324405fc22f80373305a5fd859b99e03299cf0bc5e7222f3316b1922af9dd43b6270c47ee51231f0b4893334c48269ba3089310fe90d9b22f7aa1145212b77e297ecafc18fadefd379cab831f4ef1ab6c82303376f5d962970061a90e5f69bccf700734c03d3123a89e728774d65cf43c625298d5da2d01a0935e1a02131547d57348312ed3d9ef7c416442ad4132779c5b57b476ed8d0410593d8535837fb8a310ed30626c30849a0848196d786e8d8d26b8637ccf303acd1d2a61a40e95a0cc40f300f6efb004681a44418c3d6186b1fda297478bc6ee1ce1848446f4f0595c9a45bb6d407c4b5676f4511a5626aae34b5726a7e5e65ce16182606b88ee8dd9a9a59dfb15a415ae86be253bf9a511490c8dcd87f27a1323de666110cd9ceac51d170d15476fcaa2cc58a40c4c845bbff54555dbc15c9fd6a2010dced07a78c47113ab91db0ae2333602a6c7b0c10ca0ba8a70359153611b4e7f1c44da79aeefc8b7af1d7d7f6eb6da27ea528aadfc07c0180ebe7778aba8d07835d465a4f60ad2bc8307c9c451bad1e9f7253c41e54e8305bce42ac48c732386562b5cad08b7df862cf63f789636b436885f02bab3ee07474abdbdd69d1f00063ddf780227550255abdcdda57480c60da9ddabfacf1f387c9e9d299191d8c87e75dfee105dc66b8cd0bb4b5dfd580e5ce0cc908e48ca50e4269b5732b4c89f711b0de6fd8d10762a17ead1b61e853976d3475aefde1e850574d919c54edb5671063f6e886cbf41f55f3264bd0e0431c21334aff14382b9b63cc5107b1fe302be1aeb207453356efc2f6fa91d736465a4a2cf666f672d1d486af1583c89a076df6b2f6e58afc346e733168ad40ec53eb6f083a4555d1d50d3420a1308a023ee389044fdad2874b0475f2f0d6bd815e10e5eafde5f04c47a8da7180f57e8142ef78ff017bf50c9d4e70d918cacadff9ee0143156dc99c5e81f669247c1d0fed2d06768d4362b5fc693df6862434d7096ef2fbcc4de63b77cc900a4c8f51b4b45bb6fad3501d46937962d8ddc35a068697e96aa5c347445416b85e26a917d190e1f1332799b635b4fac053f1ad57a02db2b4b67d3690d4a9c5eaeb29376daf1f95693c4dbd787ccbe6809ca5b7a6ce4847ced99a0b6732df3f1b32da2e97e26f7fa44251dc8bd2c488310d1f16a583b5048de08f42a5520cc10f1a0fd4d2a38cd58a32d039d15e10f24bef243a5308a8b64d0c78a89a0225fc9b8cb9c767945ab670e58650319a799269879002b5e534365f66ed9450282a1d7cae2d538f4d4f7d07a6604606debe55b6aa6e11f28e5c996b838d299a0fb959ed70505427d24c64108fc448e2f031c4a98eadf965d1a34db4a6623e192feecc02576e1d51680ebd210dcf6bde0f6f83575f8feb275f86c7dc2c83a14f9d2859a67092e19c30b6def9b25f52426b077f0d5d53101b4eb4cab74f757d0c952def6174be8311f39665aba40f624341768062d4e94c6a9192be9091fecdd95709d35622a1127a6075ddd77b2c7967860fc49089521811d9e3e0c7cfa11f266dab33865eb9e6d8bc34e372d57ae48d06e73cacc418fe8f5143353f8322d683efdd0c71583ddebdfda221c551f6ebe73670a9615e52573dd92baa40c3e7d38945599ff86a634f1122cc2e167a1eade3901024a1c69c246b57e0b7d19eb2d6f290f389d7e68739ef832e8954d98fe6e5050f4d6dcc964c59405011f6c1e1c2559da46419a3b568474f9e2a787c39e25488d7078ff8fe9ff3dedc9334f93b2ddf47d42cf6eab8a3c4532db935a479d122ebae95fcc492ff1657d353db6ff7f4a693d637ed89ea8f2c0dffe8a493dfe2e3827bbfd76502761aceaa132c1ade1b78e78ac0f0aa30f33a8340a28f9418846234215b9ac2cd4a7dfc4921dea59789f8e007bc8334a2f0dc60452403fe87984de41f4e31cd427a323a44efe733fa16096d5efec678cc84cc7f7f1e23c2dc390e167021c3bb15f4f94d0d96e207743e995fd8e1cce869612be55557d44bf9524afb36858becf0159b85b9a1efae14d409a7a7e46766a69d807abd1b6dd0a080bf0e9d98930e6141d3fb7aa3d079f56722c624cd0ee8cb7a4b92e7ba4a7d5a2efd3b4b5880ef3a93cbac41b2e0aa403c5caf1edaf135093097abb93c1f9ed7dec1e71210ae56ba3c7c871046444c2abdd11a3e187d599307274955b10b54effb15a7eae6d838d76bb4e7fcf1c1a0ef3154f3409ce7a6f421bdb8c81459af0a8156ef21399cb6bb9124563723d7755c01373f19e6bcadd0ac446641e3ea9518131715c9f0bc38827f291129a45ec83c635d5b0dfe8f7323498835947800b3e6fd4aa68ee645725d85ece2ab9212c2abc32ca54eabcde5d204bf101ee754098c71d87262aedf7191e382704fa2de9f87eb77072ee0b6f83e0b6b666d983425e296788d70f3a5bdd315251d767dedc683a77b935466a6dff705391bcee83bcf221caa2b8c6a1726d2c7812ae6d62e9dd50d64fa34ee4793812a66e5a70ab78c370e1f823a654c50cfef0eb024ed489eb1071c0378223f4e1a78042d38367c1803b7e7f1e6bacf5d11846a68a2e65a7c493f9a6d42cc6c91519d4d171a5f3fa36f1e2fc98fd2b22de9da18dbc02f2c462ffd16dde1db9ea8c5033e162d0a67aa3be05961d08b149527878db4b3bf6513b64fa8622ec815503ddb389e129d2fadd132b2fc41e084841419a5d7b29352f07e6fd7c76448c5624a69d18612f26da19c72a4f66557c9593fe90d4d8a965b7ffcfdfd4d7754d7514f99eff645d7c0157900d4c9a8ea702d0e3ce59834c776fb52fc4d9ee778ef2e0b317758cfa5418aa85718ef8bd5ce57d8374a0d436becf3d1bc88e506c1b3271518e7f8e2c8e20b66d7f654966de981d1c8b80664db403bbd7ae32c3455d7980c1c9fe93bc0291ca292985c63f2a3c12e7310f41b5a599e4883573a7c53a8aa3e9147dc2d82bf4d6ae0a78d520f39f993be2a99d7394a70bfb1d9baa568431ae9819d8cd4cf94e1a78593a964c6afe226631e82868a3772eff540bedde8f3f51e8ebb960bf526c94fe3d498186477fceba285acd4fb57a7045059a71ab47046a4f2ccd70ed2799235156a18754d6d577dabaee34c79c223fa4f6e47b2f277092fa178d93ae45c3a499bf9d0f0d945ceb6eaf7baada79f84f7abb407db429f81b57d62d40b8094da491cebd3ea5a3d7ce3f18d9510eb390769e721c0f6a9358d93da2fa787301dd50477fd726927a9d3520b81484066cf99ef93b0d5a83394e0d503dc52eb845804db4739b6d532869076706eddf42c9f93d4c0e563d76148f283b109fdbe19941b2390636c5d7a5e1da6b56eecdd71f2ccf3908bc01bff09124fc5cee74c1926205f591a5774110d78d5d6793871d8f5bfe8bb77599ee0368ee488644b9a5c55855f22d9f517d4953005a5ec608cb86d87361102e7f804f0632d37c07ce6c2fb396f783aba589a3773b4c513f50cf93ac78865ace6c82fb20d0e1ab6a810282f7fdbe48070771e623da08772b779847be9e844d3a68a23766eeb3e25284240a6cd5bad63cd4ba5689848a70c91bcb702f280ec1408c449d226fe7bd25402b0e9c41cf9d3ce35a422a7c78724090a323804e40cd4d492421e2cd7c9974b274e51f0120bedc312d6d2ffbd36de19ae0bafaaa15f93f059bee80e0b298eef06638941d646fb9d3584e0ec49dc3d8f26242b5d54b950855b6fd7b0d454e7c60fd23853529852c8067111e3520fce794318ec77fdd3961b131d1fcc070cf4e7bc853f684b5730d7903de2c671ca34273fa83fdd3d14b3657b7f1441d00139e86ef13b783102e41d86e3f2b05020dcbc30eedd9ebc8e6bcadeeda1c0f69e316d89860fc332c519e23e0d33d09f0301087d5347ebf346881479e96b2760786022ed762d63ec08f16fc99871a30a123142fe59a9149b63af2b451c4fb20fe81ddd9cbda01817c6d544bd33b1674c0a4d7a58c03d19b9c574ed106a12c449fba60bd89c8972957e7985eea6c5c9550bb0388b2e65b5718176398a8df45e84d8123bf593ad337d83e89880fdbd50a5e609c37477b01f2fc5fe1d9bea1616a87fda24986e28975c753553b39a214aa96a820fbf4e24111f657c78476740a5f03f5c83ee594bfea1c0e3751153db3bcaee9b5da9a78e7775b4d47bdcf02342666c76f6e84ab8abe3f6bf8fcf151e828696b37101dbdd0402bcd5ec0a56a986d1f85513957b1b561bf191221f6c69507be1387caad13cc52b0cb5a5a20896f4c2c580a1887aa7c9d9f3736e820c87d495ccb1d52d3c9ded660bafc25c9cdc71466ee2793da0da289a2fc9bd5bb96a06c1ef1adfe79052e5e4bce09d2f43253f56ea37f3322d879cd992dadaf3aed60f6120a0d533572df938f181de3a5b7ae2711a3ff6e211d5bb71d9517954621eb60c9794162c82a64beded09580f0118f7a7628c1506a176c848488136c4d69c604c4ac8353754c46c8f5e782821165383f58674f324d544353ee3091ae6b20ce08d0dff97457930b6b675c142b6a58f4f991238468dbdce119d09aadd8fc8c8e91553bf9769fd0e14e9987b1b90b623bf459b08dc84caac0e31f18de1bf27ac13cc729b90458b6581fd8530e022eb61798b5f68dcccf30f12ecf6f5649477124f282ff9a4fb98484b1a03d0ad6703e957898a494d643664accf2c733437d8b02be8cd56d1213e11785bafeb9ef7fd94ba347cab46c4101d6eb6ce6354c2591bccd7e673cc975d64831976c64a2c5560f985b4d148ae933e8bcfbd3459d1dc35a8673fb4277c8fd681b870fb156e9aeb25a7833b4cdd816e0ec586f65edcd2a2215605c93322a76bb95aa19930109ee68edec0875f5a27f94fb8c17aa25938725d0034be5e438755ec822dd505d241d73ec38d2697d3abc88299d52cf016403399ff22dfa7b8028dd3b5d76ec0560f1d78cdab5164f7b321cb9ac981ad3c80caefed16feaab6c52c0208cdecc205f1d0363b07a63a278df5b46793798bdfb088603e8dd454a74f5eed90407e4a8b7c54b373f8cb5bd8a7cc31304379dc6d036664d68add01f550ed2cb10af015155baae28272035ce1733a542a17d04a8ae9bebae0f23f58f1500dd91467c8150af75da7ee2602590c0c550c0b237279c8beeb360cdfd7a31b60e58c054428f52bcf2a13677fb2c43a5e1bf543826f3017f3fbfc6f7f421b9a7fd458b6fc952d773f36ed9c76d1469911e79c87787127914c7ff2f790d05ce4e696db59d435d80eb0a6c3e9890394aa9771ef04fff8d77b6a9c534644eeefaa0e4679296919e2bffc1a30ad13fbefe775ff6ce5642d6d245b93aa2b8804a7620e61ef866478498173559537b24a950070c79101e5ea31f34e6da5745bd8b8c6d25f01755577d6b9b1a8603567d893ae9faf9ec4632d6ec78f77d8969360b129cd9dda28abc119978ad77681bf4f809e7edd24304df4106f67364b46d4147099ce23319b5769809aa6c49d72f237ffb97d68a5227e4b6d4db2efe66fe1ebeeba84774117496ea7ca556d322d398f179c9133e00e86d760c4526c90d0fc2e3df4117aa3fbfb1955b9506d9c86a7413c906cccfa9334a64c1fe50b20186e9f6e0480c8c2cdfe951504d50d22ce96a134d1d5ca5ffa4c49414a7c3e66a9708eb3885ec35ff67461bee475a908e69818cc1f718e3a12dc6e79446e80b4082b8e8648942622fd0d4e9ee907ee88bc0fec47f3a8536813f86f36e233daee3e1bcbcc9af355be366886a876e66809cfd89784a008039a55e6e147bfe6e7914ba9d64eb3d7736aad1a0ca702ca609f561027fedf1c533a8e579d5aeb88575432acf0ac8c1518aecadef0bb1b65b168fcde6cc19c256abfab61720a6bbb0d67444897c7c59d4da2d8d4738d82ded6c24d1602a791c642410e874b97c3b6c9d07a42fa5686216f6c918c48560035f1d1ee7ecf00fbdc73e346614d5ded5972ab9471b799996fd16a2f1f48b5eb3d76aa3615d73be19a93e2496402c1ad8edafbe88680290c755f1f218953f60791ff5561ca04b5b6a03b806c2039768c35fd0cb06b6117e09b0883e78b2d9930b59c3c3dbcf5c188f9bcd392c2394a8334c69db787b02432e7c41b05c7b72df927bb80713d16554637919b7382241553b18d67d95a2e0b68f8943d14cf2220abf7a53f469ac6bca2712c8684abea52c5b84939533224b286f5f76f2c90148227fd0969cd5c71dc0ccd8f5924e79c8d8a854dfea93f95fbc6659644717af853a94ba5788bede8353b28e8a527b820218d6c73de4e5b7e3f1996bf7365801d520886ce4774ea949b285f337c2f94660974483c4b1ff8a0d037fbb67f61cce05bf9a2326b2c9c5cafbf2579d288cc413126be075f0d77d9e7231a5d8f72d5ef93ff251a8bdc8f1854f44190f2277a714608c4d5cf984ade7ef66ee2cd9e518ca696f05b48fd2cdca92d30486ba43b05dafd5e1eab64bab7c14ee0efe595a78ca95e6db8b28bda2c9c4b81cd35a03a2b7b494e7fc9e1b21aa7b4e4abe4f3b477c99f643faf54c16af8b5389141261c363b8dd9dd189d0ca069eeddabefbabc707193bf8dd47497c8af478e75532d803b78f8aa73a2b6aac519fdc288107e64efc6bd276cd2c207eb87649e7c0f04ad0ea18ba14d9aa9438d4c3b2db5a16515647ccfe3184e43c9f5f7ecf3be9bc8b41635b20bac5ab7bcd44c1a53444398cc3b08585cfccd3c559918970beea409fb5652926798b6c99cde34008b7e0d71179ae7e17e4f2effd87261fec23a5659d1c128edcc6d6cbd166abbcf5af34c623537f39654e543ee1d59ccf64a57dcc09e56e4d613888c90cb11d73787ba32cc2f47efa1f14687ae9ffdfe4d1a8b25afb70d3bf7382c256f1b788e16ee8ff3cb725acfeaf4f470d3a3267e983be3317a07fa0ca54b5d2e0b4fc9d26a7c84a14bd182a979d1688dd2efecb8b1d83ddefb9566a631feb872955ea3524613b3e0c83c78373e43e723871bbfaac31b7aa4c9033c0f7f3c70400507976f625bfdcb2d69c2d93e3b8af0ba606eb47cfa0b2e0733b2d38298221595a808af7906f535fc60bed4c2e6d6805cb375f8f31a551375b754dfd90404e0bc39a4f2920a5e847234b6b8cbdcfae0f45aa73a457a75e3ab0dd53fc8bfa2acf3ee534670c8f0194ac36537172ba71d03ec9a5483f8b600c23426fd25f83fff90a80b3e83be7f6318f4f104639a179dcbe15f12579c4a7875b0b320822863c37c74cb5543fd4d421153a3aaf53a1e525b9fa9338a726012946d66786b47dcb624ab6e496a536adead739f7f2ab42aec4679191f73ac45492a7bf2625390bd694a28cafe1dc9213d49d8e75c1a3e708902a2439dd537b3b54ee52d9f6f56ee7e0cec6d09501d4f697b9264d707b4862c14302d909837043c0b970d6b2bc2f538802d698032180e739b39bf2c4a16f6890992870e32cc8e9f063db282547a4bc2919c911a24cf824a6b3f52ed0e3303ac59d23eb2ffa8eeab91772bbc3d56cfd624e29bd5e917cae82b430c512288501e399747d2ed69f1232e9662caa505580e81fc16a1616136afbb060e26840a6d0e5d45f32342b8ae98d84cba6aac220e1cc4af384273d9d43fe5fe6173b012f9f25ca7fbd6f922d213cb470b2a4de59dafb836270c4bfd7cfd7fa3fef6900fc766c6fac551c4bada15b604836fa2c9af81f9eb2fecd83745cf14babdef21a90e8a3fb44d04dea27ae3495d24ebea25498f6743634049e6b96a4024551d056bfb76f2209bd781ebe9042e5125fed486e1d3e4c38f62bd707c83f5cba2d81de2c8ce8b1df303eaa37de6890140863ea54180fa018207a3b005c9426b81927f8eed334dfc3735c090c515692bf3574358d0e0ab462ba643c9874bb775fcbaf474c404188e59b0acb170a6a772274ff72c9b7f310bcb5616cf968b1758ce0b9ca497c96f835e7768b75af5c467731562226f9fa47f40bf5c7f5cc9cfd8c3653400228e878554541eaaf43f3ff763aaececc0e4b3c48d6b12aadfaaeb0f220f5c54bdb6e23c10e270375ff30641f0e3ec2fc72980103bb997bf5fbfb4dfc9b44c1e0671382b06c2ca1ff6d009853c713af8dc829c0849d0562d3bb43679a23067f24117ab4bb2fbcbb1b5188ba4bd0a11b06f455168ca5f313cdad58b3bce8fe955ec67c8dcf2c89b3901afb9a9f9f79fbda153e380bf300a15936e49a3b1fa736a8d26452038d22c4f76abcc4dc1b06e48fe646911f9062f3572e54eebcfb4f2123e9adac74149ec2ba4fb1ede45616e76c1bb9160863d0d7b2096b716bc2caaa925d3404292a4b322744414e1004a93f5676b10affea50d13e93c668f05b09c1e92dcc55d1785121feea27c8fa3b867368e9e6e27f69ce490011ba74f49d3c14d5297481c601d5b8499963106cbd220939f45309a22499290209324e701fffa9c744bc41e7975145e9ab3fa22493a3c59bc47dbee6f83732a14f3b58fd50008d56cd5baecbb9d741b05ad64b57ae3318e3254b7018e6acc4c10c76615810dd4aecab7558f4b7e420a463679cdab5409ba8abba663e023fb428d93fadb7a237d20c65e5a3eac273968727582e19b23542acbfab08c7d3ec606e6f3f9637aa101bdcd4ff87ec90c0205aa965e047a31963c35b54ba1f11aca1a166ff59311ba6ae4f80df740e3eba51c036ad0eb5446cce2419e98364505568da1ce98367f55e81725bacec4ae6cf1b2e0060107c62035e3165347f790303b08a8d33da7cf0dd230e7960ae6a53084e7f4b51df53d89eb6834a3263c41cfbe8f6a3f32b8ffcef556c2c3adb0fe30f5cfdee93a29f1f71b037b28b371d8b2b92a3da2a0f1ded29e452eb13f5bc61dc11ade858ff941f2e746d06bb42239c34c719d7d53e512c5f198bc5d032fc3bbdc0d74554df7f436e1ec98e69f0e5b206591eb22e66cdcc1a3f4d62ecb575c95da94aa94508f370933488d1ce5cb996f011b53525f2c84a4f10b984b3b99ecddc62b8000ca38e103298dc413fb403e7b9013e88e9cb896165673e6c243f7e0aa61e96c59c137429a40d23cf4d8b060007ede9744c5adfb7358b46b131b650d93ba38cc1e95d31d06e09fb9335ddfc0c99c9c258d67c107d4a3c076164f87349c1355227b28ed03cb340e3d100179d989de0a02fccce8b3581783379c19eff240a79c4068a8237966f08e2ad1555173f8453bbdd9973a1aae08e339e1e6a21a8a403e7a74e7fba2312f4be9214591ae8c3753563f704ad2f223f215bf93dfa813ade5986c848aaa630563b2948e36967ec3583b1df946445a1cd37a7f08f4f4c3eae630443f6cfa307e99b80b2f51146b315aa2d43f121895f9310d535fe2b7b1adad137aeade0363e705712144846691290e25ca6314cd06715152c5e00e0917f8525138c06c9e8bbd4f2c9de0a0b1235bf6765ccd4cb2d617b17fa5849aa1dabcdd5e7e4c1d62a13b5f61acb2b9aa9c21984b1c5925ac556ed99a6d1190e2ae6ff4172a51f86091bb1a49a4f2dc961e14ea25a8a9f3a0e0b86bac7802b48b7ded114680ac1f938ce8ea1f90d83a52493f7d3d2c58e50248357222369de8c83ea1571f487a3c22a6b482e69a478df8ed8abfcfa9140a5167ee22cc400ffe3846a2f840253a76fd3d30ccc327f12c746cf86c7e1f66f1e4efd9225a8c0e7f5137fe03b3ec61d576cc6acfee28c0a3dc3e312b5fea07fe2f32294f47598e8f698b70fb7d95155e3f9de6de6ebd2dea70a05b0e5365999a6385bd95854eab6044fc1a313c4e95afa537059f475b393860117ce4ad8bc12f47dd1cb0e77b15a6e91e6f99146be7994fe64b892403e841b210f8ba307ae9c2a85dda35c0d60a3f92d24e5baa1aeac069054054299d4ee282243bbe7ed89d5d58f1487f57f84117380c42e243183ba580e0bcb57404ec42dd648340c3ff25d41d860c11b9663aa11bf0f8f190bc9de7b3979efe0093176908d50403e9e495ad279a98a2d276b01653b1ed58a8734b128820496e65b6352baa89443c44b5732b1932bd6cd35b880bcf5cf7a9029c2a2a3aac25241c0e350bbd996ec1250aa4c3d060bfcea6d4f607351016714029c620d0342ee6030444ed1545d1f3d471bd88d118c29b4c2cbf7a18f1885cc0a406ed9b7bb08cdb29ed1025b20c6e3b83e7c723e5a3ed6cc254078a584a34c3b77ed4909f422066bc44655eadfd9171eaf9e7b9484d93beebee8c6370a9173c6943afa8944e8866e2963d41524dafbec511f993a606b86af5ee8659934cf9ad8c27475d2df4d8f872246b956f702448466cccc5636a674f3869cea34bdd124acf0a6cded57332137b63ab037c1a997265a42990fed86464aef2563ad0474cb2801eb6fbc54d9e6dd9245fe84c0ed954c78d91326cfd80b9d81ea2a1083aee60fe39c7a1a7e9bcc769c1dcd683993a216af17323a2a24ef2a1254d7366a813eaa66b7cb6b5b4229e05dcdf5fe9e1eba054a7e4a95169ebaf16dbc82f646ab0b2b55f79f9f8bf31a6a2f1779feb42191cf793e50e86512f7b332f33bd2932a6469a248a25d3463474646e0b68f714e94ad3085b0ea0e7f557b6c9ffbeaff346505232d1d9cd1afe1a4a4f4b5935da01615d9ebed4a77510eb22c22c47e9f33ebca10d31d03f3c6727fff6f4ba27e9520f7fa3394127c976dcdb12dd6acee5d89b68edfd9d8d345bc2f25f92fea552be7412a44d90bf7b330eb7cc8ee6a0af389da0bdfc81daafdc37e83123f4c0e39af9bd67473ad940999ecd767c0ec71471de942d5e324be9a9f78715440a6cc928045c9f43feb8950e27fa62fd48d879f96435ba70735fc2508883c2ffa0170c2f1464dbd74ec0b052d6cf89866864dd825204d36d813eae3dc480cc39627af162fb51777dd6ef473604fecd863d1f4aa20afc9cdb470e91bdabe49e7c653035ed4a2fe90538e3f04cd3141b1301d9f69c88e829df50c95c8b24d8121579e6bd564b3d597a300c1104432523426dd8583084fe1cd7d815dc54f5a3b9305c82b44db9b87432c5e15755592fe41b0d4b2958c717232a2a9a074fbc24ed8906b57ca3db8d170710675a30b7be5195bf78f0a2dbfeeae8415ae001dd280c1003137fdb4b5a5b3ef0d9d025051658e8f75e92015240d401d15aea986f5221b272c5145e4add5fc9950985db9adeb0f4d133b9047362a42a4542aec6536c2d0e1de352067ce2728a333d18f388a1031b88f510fd21979d7c67cbeda312ba7cdaf53b06ba431432a154dd0804e759dbe804181fccb37c469b38e06fd230c7fbdc1668ba21c232337e2baf656bdebfed5f8691b27abb7bdf2adc21d0f6e3b23f54b766e079d8f2bb9ef2a7f8dbd7c3734ebeea0b92e15cbfa549b01840c34575829e6a3453fbd18d161865764dfb748d83245b31fd9890926c802513c4583c47979fb2c113a27ac1dc16b8c380e7e820d74dac8f95858185891127ba3e0639f4f2ffebce102658ae520538e2cb9a574630c712e94d96793b74adda07bbc9032eb7c190664083aeddd0df51226a0ea6eb00b9015c5d4905e5e7c0e83cadb0e87ae225ca61c9b79f888786677973a8a34bc52dcfec7e2d11cb780ebd331abaccac3a4abfbe7c0c9d2415d66268daff669dc79f76acb2b0dd1419e838809340261e7f915e05ac858e9e48b36ccd1777d67316572e86efd01d8e7dd3f814b515fb5fe9514fabbf96e2cfae0821aeb0f6fae69b9dac75f8175358249aaaf1ea68f3e045de7a7140b6c0bc092dd4b69cf4cb4f39058daf4457d510fab1dad8b86be04f2a8e5411468fc6f50b839ff0279b875b3947211af7b61f9b773062e99f6148c64357f50a8cc5cf1dab4dfbc4efb381bf5909279b449710af57462eb8c815f48bbd83a16b4543cb0df9d86413d2f0955ca0f0a8ce4f6dbabf313daece414c30fe09df31caa4c6683ed44ede0444e8683b8778b2564057dc0a3662388ddaaf786239add6d9ec30d96972cf705aa63725d48f57c893e7b934a6a8cb799d0347c64616fc2c4deb9ba69990d6e18c01da13bb88b1813373abdd433f1a1688df4d78c5ef9031a15d8ddeb2359b5d1bf75c2bd54b4914eaaca5713e582118284d37afe30c51f7308063a79c90f9dfe02bf3461263f871eaba42415ffe7909d7e1933c1f8d7d651d7afc60bab508765bf3af12bf5939d6575ea9885dc165edfee9ef4945382070e0b5c5b6d71bc2edbcb6c3d9b813d4cf53223d59a372aec50a6e24156afd7e2924a52aa05f551806d45ec10bf6bf4afd594fa8ee4a6bc0bf5a685ee5feeb2c62730e2d72fcf10a0925122a6a6f55aebc255fc5a512e679f23cb04a07fac7eca4730ea0ae04fee782c03c6992c86ffea5d493f19c442b2d3bf2865f316e0c65a4643ff14d9164bdc2ca33d6df3085f02122ae5c81c03e4bd9bac4ca8f2b4fe55d5f89dc28ebd4eacc2944d1b0f5dc0b79ffc82272232e212b693f4a894b9fd7e74b69d1d1144de69201ce763fe15e492067cd7b6c97961bcca8394ec0d3414fa7d318a408ffacd9f82b4f71dedef23af5a971d32226ea2b15560666ee4ded48","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a77348d65f1e9354c96c8c88be2e42df"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
