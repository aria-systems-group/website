<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e4785b05abeaf37d214fcb28b7ca05b905d810ade222c0ed37005e0e408014f557005f1e11ede9550380e906742dbe8e0b25cbc9c6ba0ea7e01607e04aec9b15ba8bc0a90feea0e83446e154b10e4a7928e65f4580fb93e670d3c4c2101f5302236bff5ae8ba3b41a58567bfb5cf5ba0a5fa5ca2632387d5954a48df0bfd2aa6fc3b1652ab9886da511ee7ba3c8196e2859123445252e5a38571951cfedabb21ba7a4ab96c24e5efe542ffff304dc75c8749f528f8a8f9d627caef5f6f373cdf7b4b3a51e8e4ebe7aaca0df1a745046562f122e09965f1b82efedccff6d2da798f203696a426e0bdd22fd7209f2dcf0128c7d411f7318b36e2d098b273aacfbdb066404f6bd7cd180f7ca8fada7a79f12c936c67021d58fd95daf4790bb2e0a2c073d63e063ba9613476a69aaaa292b0d4e9a8437bc73cd05ef7d9ed09caf5e3ee17b39eb9db33ae18c0f764d50e9c56a038fdbca421d2168493d0ded6db2b16299ea24bbd8bcbbbfc2e53c4eaefd417bd1d2aac6f8e11e43d39d52b10f1f800d4bfcf093e62dc62156429b9fd3134cb758f7b4e96cc34a92e85b41b7f1b18a81ae6721e6e23fe1d6d931f2ad50fb72a9e0203f19ba9ad1aea578bffb17512c72ddbd0211ea1da54e3c187198e346e86cb5ef478dfccf372573e3ec38e2d3c0b3cf1077c3108e97c48f5130c8d9f421c34c35f5de9a28fdf8876ebe9b95a4e4f7f50b43e5f1d6c2c042ca4208cd97df9d34276ef848a30382207fd9d64642932cf499334b927fddfb49fd6c5006ddcf0f5d7027630626ae088ce274a9c05bc0cb146816e65f56670631ac9e07bb8a83788ccb034fbe9e6e38f82cf1c31223fdcd037cd8294900d222672fbb1c40abe358ec4fa3847e6a59f3d889e3efb0a9f3f336de86642cc8a6ab77d31f64a137b69e48a7023ba12936086d23ee98df4a01b48b2a1a908bf0cf3254fd9a1aba8188961fa1308cc437fd70a0dcec1b30fff33ae027d0462b7dd7a8e9f4c5c6338e0b4fb2464c25e86d96b645f5a9dc02fb6321cd11ecddfd49506ce81616916751e01977884151d46e909d91ab25a9c280891b2edf3e35e91c39c65f627861449f30f672b6e24ab26b94564c2b7fc2f65592e65b3e85a120c69697154790f63e7dab357dd525df748165ce80aeaa23b0017325867f3d685a6bce01e0884dc18c1ca8a1c9388d64de09b6d3afbae1578fa954c29c251822329db68b3b729649fc53c630800602786c57c96bb041abb35dab1058432755823e6df1795504754174b6253e7b175f6b1103ef9b738b48424060d9f65ccb337601da7df8ff48fa768ec6c9df9936e9fc08df3d6d972922f64079a19fd59994085d319eaf4fb338fd0eb6d20b4f8a8f54255b821fafc918a09403ef71a9d5ccd1827f38b862a8a718e9dba1cec34d3c2e6b955cc2ca3fdebb82584e762e08ad5de946b76ae8dba703a4b06d9e83b351cffb9a5ea3d3a9648d998f78ac8b7fe858441664c40a0eb3745ebfad3c5caac5bd446defae79b888f57ed633ed571ddb171aae7fb463aa863c178052bcef91d8395826ca8962dacdb2e161bd50a8dc09a511f15d1642b1253afc6324a091e2f50c4e1923d1e0e7b9b315017bac4cd587166c6e497d25e66fb5d43e19f0c04864fa084091940b50a6a6b31f031be391b4404de229ae02614139352e5e46672302d1e9d35560f7df22daef1f0d8c4324f88816c8aa0e0cffbfc9ea7144d769c39e1aa4db75b65cea9b4556000864d374bbf3e34c534530940960c6b5d3b8434a0039dd6b20902e2789bdae86cb64a3dbca87a9e0d5cd210ae82d05ffb518fa710e065706a120ba6d6e9f4ae98a621584a63ff289f9320115384c61be175b400205b260a63e63dd82d949bceb1dded7094c4b5c49c6260b1c035b43df99839e79b22316e1f36a42ca223a7e2125fab1663d54a1d3ce92cdf1311bb37b23ff4e056e38950b2429d60d7992f88a40821b93bceb946c2aefb30e2ca96c56e4ec3d7474ef19106aa62e29233c6665886b4ea789fa7e19ada2d73f659aaddf5186c4feeae47decadd8d051de43c6da394036f16865c36b56194605f202b1add7515d11a64e661620f9c8945161f8c092c491ecf872257e387bd76fea9047df2d7a8ad71e05f8d4d1f930652ecfc8bea28d2ea698c57001c5d04b58cd98500e21765bba6b841d9917db6f80500a41d996d3e77984afc366b120c26a86bd240ee13780e9a52de53a385f479346abef8cc6c34887f162fb4efb0564e28f83db8a469d4a3cd13bb01ea6d8836d41b391015c42cc9288a0e0242692ec27caa9b4648ff248d7198268bc71b1292ebc2c76d390b0c7e16c7c0021d3b961d209c37098bad70ff1ec26bbb4dcf4ac8b10a652d3f6eef63249d6aa7c902d72f077897b97158843f8d7e736e2738d5558697eb56563263d731b8986629fdcc8bd59f8eb343f00bcc9b5c16d701d1faea7c2e3caacf6521bce954801651bfafd97e03eaba3438b9585a09f6265c9393a4fb4bff292ca40f043e8e7a623b27acbc5c7da3c605d01ba007aa765d785d2e4f9de81eef289b10a05f133bae6954d480a40d26b0e6e7e2c47086908de1fb8601a56e3906500e3bbd9412f35e2eb006798fc01614fa8cabf90fe3e544d47881f2c8cf800ba2b34829ad8729128f38dd6555c625bf695984014b29195c2cf2b4894b184bba6f0be0883b076eefb5f62d84bf9553d282f8b2a38743ec2218f4cef5ac523cadc5462a4745ab2fc32b9e0ac2fb23e1c36d172a11dfadd877c997afe029dc28826724abfb491d909bdbb8216a063f58ef21d1e98e713f3da35085affc634c4bf64dcf862f4a95b588d55fda47dea296cc7bbf8c617bc5fecdb391cefb7d983648c26f7b16a8adf23074ce706ac3df1d427d508ac60c672d7e0371670488de1400fb4d7d9d3cc7ca55ee94a76affa92dda4f40c5ddd0b8ca86367305d35b50bd460d1f09c4e7916d71f08deceef1c6cfc39da0481c89511a54313101c8bfa10638a1c8c20c0588645d5fee093dc0f6742c2f3a6204943bc0f8bad3fd10c8f7e2786312a5c9f4e7da4199fd09c3f5ecbdda29a8d18b2da69f4fc4943bd67e4ea74556e0ea0b7a7ce4b7df9193f1b2e537e654ac0d07650c47fc9c1cc696c991d2feb35287034bc5abc9b16073d9ae9884f187540e9a7073c7de41d0281828e2f93698004a913d71fede7649f06cb016c427809441078c14625e9b0b9704e3db702f73bc61c77509922a9ade51f99f25babee963b617bda39cb6a5ad4cec31fbfb89c7315c52b07ced1a4b691d04a725bc3d7992721ee5d3d04ce3f75ee7f5dd0ab9be5b238d571cb16dae0e39b0590cfe29cc7634c1fc0e96f7ae6e1ab96edd81f956187b6c01c55697d8c58a57addf2d9b20da7b908f7ddd78f33c1a827f2471e249471db8a5aeae9d0127066c144ba153a0a0cb6e3f0c8b689aeb6ffadb2144393b66801f22ccd8d1ff38d6624296531ad510549463184561dca2fc1e056d4c5736253a48f203bfba4a200ad4507f03a326c417df47a70a6645090625d9232003ed0a03cc7c15bc3ee10f7df816c5192ad1b379c0f242e4112f2ea52e9585f42aa22663f63932c5b5fafddfe076c1638eab233a386eecb6403f750d77001d5ac9bcbc01b4b36ef79c4a4662e4e65ed719a21fc9f7a31452083da220ab315c4467ba741f3f775e09d28a0dcf49405c5f4d13d994eaed5e6ebeab9eb1baf06506aa670a28a3b71e5f3cd38ee92f4e30bd014000283946c354e53f94d7ff79c2425e471ae7934ea7a1751b8a34af4d18737343f013b7880cef3ddaaa866ecf5652821d45b4cbe0c7e67aa9157265ab357ec426801db16d329e5bda396064ebb4b287cd3338880187350f06e8159ee7449df2d0a1fa63a89ab90b093b36c2b49b0db5ddb8dfb06b401e59b7e7a9fde58ae92f3a7d8c8f6ac937c955882a77beb7dd87dc215d24caeffd9e5bdcabc4b2c22266fcde25c094ae15b8af3ec5320fc017d0de3d71cb313a89d38bef6b9202cc90f1a4840f2eeb31e65faaa69a0ec0434f2f9cc35d56e1d9adf958268f37f9d3fbebbddb6f2f2a05160ba13fd08d582d8339e6c37f3f32b6326cb41ef3fa2d8853d408cd254f0faada60dfb5fc38028e6e92ec1aa9b6c64ca7671fac4a5549c6d2f1f151140f523db9bc0c8992eebab3200e6bf0b8b0769b7f52b7d73464344dd52b96dcac14ecd20153fc337b74dd18479153ad055cd7782fbedb8befabbde3534159b47879a37484976b6d349c0ed95ec0f94a58733652889e3f6c54e8928046f28d766448e5fbb4f10e32f47b8a37c031bc8af90357229ac14bffeb020fd2c53a3f659cc1b6cfd0a5592f13e9e27a93006cfccc743ddbdede4110eaad7a37956425c973654167ef6ff47cac4ca701e13be244694a8704c27934412f58733d9b977ef0598b822f7681661c6988c536acde45eaea9a15fa69b282b8fe77a0acfe2e6c54fd601dc1fb364f3c8d527aa3e57812442bceb5ca724319719f392e9f66ebbdbdd8b23f21ae60f44983919f50a4aa05586114a57a9cc6c07f1a855fa9a4b2495f7779abed30fc14435a658fba857bf2b4809c9530129dc62c160ca1e4111ecebb0449a5f5b203f427dbe11b15177f66488246b93d82272420095d74265fcb48b6b5dace4c45ebfe14e4f9f6e23b8433767f0e0d3436075782867a164e4e64e211d7efc4c46d4e98ce2a4923f6ee252e423c9aec73dd661953a904a4a0bb98252b51a0495db33eb18f5401a3880ea3df641235c85510a37d33217175cdcf8e025b9ec78353ad40faed95aced7fb803b044cc5ec19df962236d7224c1899da720e49c65525996121a95958d377e0bb31065aca4592eceff7a80e6603f57c4d7ba95989995613dafd5fe096ff613897fe17ed566617b52277690acc80d44dd03b3237a0a452217ad9e1083d7671b95ba83eb43c0f3390a3487ae77195534ab0ac681ff2b5b14dc26d1e6e7a9de92e5f4e4521c416cdfbedf60c80bfebbcba67842f9b2af057e74c0671a63974d9b196b8ae8f2247cf6f366131f05d67d9767462fd05612d4dc905f64fdbc82309c11dfcea4e5529da9dd7eeb85067330689ed5f957df239e767e924539649f1ffd089fa35cb35f4a71358583d06359599b119d04a08a634c12fabd38746ec7cfe5edea22094d969d9995006eef4e7a5fcbd1de67af3c08aa460775678b49ef88bb520d76babd97c2ff37749306c6b128e26a3909c1cc85fb169bedef93f15dd14093a71eaf4fc6fb5e2f856707d54d7261fb8de784eb3196359192fdb23bc6036fd667bb3d7acf174883e63805a3195111570b7994e60cab3ec0ee44c9d857af8f55462c3db72780729b5a1e74d9ef8d57a2a498011d03e42fd0e98db92f47c9967bbc57d8cb6b2edf3e494ebc22b9c6874fb11ce7db892bc2b81bd482c6509ed02fb4b3e7c13188f34308680ff53c486d1340a633fb60ab5d93b71297556229be6358c51de93818b0d6cadf5745db77367dff892b6900b5e59a52b9055fd6d0f9d8b7901438b78485092ead94be16fd202f32f8ff0688ca6b62cd98c6d6790a398001f44da634b4d9b805c7e63da2b25ab172a2140e33baaf20996a583283b2ac919fabfe4f402827cf7834a2bb274627cc1cb5871b357623b2f8249af3387ca28120294f0d165f97cbb6d02a7f60fb249551baac7d63c8f89e9021200b610cb348e7db3993d00b12f8d4435a5e209ee14bd3887827849fc0df14adbdeaa0130cb97912d21ba134b83dd257ba9add635c3cae751a02afca613416148d3e1781f2111746bf1fd7a4cdf4adc1a72fe70f5007cbf5e10ecfa8a4a7cf99b87f52b6b00aecfc68c1dcacd1c1beb9206ffd53b40a0f96a0d3815e4f233d8b30e86f99ec9be06ea313b1293c7dd1d8888d54d09ad903065795b18b9b1759e5a448232b6148c07ed60878b1073709cb43eb0d39f0c2d2179239763117b7ec2766313a6311c6fc7d4d77f3a74948f57943fa1b1922ea85580819b02550ecbbf4ab0c869211d20b12ed6c07a2a3602acb59ea448cc9b81f76cb410b1d4338cd3c48fbc709ba6c2a74bee026d8aee50930a5beb4429607bd929e1dc12516b93ce760cf821679792a634fe54e0c9538e285e25a82d7a56e5bf274f1f5c7fecb48a9d87cec7a9c95fe73538c6342b00c87be97b6d94271735ea288e3df06ff36bf70a3fd72d336ecf346bc739c32a9a84b483182fe2116a3516345f6c0f9737f5efb6d481bec49fe9d32cbbb2f8f2b9e5f640bc4890804c02859c5ff1e2263e547a75a6f4dd584da8d57313248f8f4e897298979c330b543e292d4d0df0b36fdd00d2e1e5b93d7d1837518c7adff92160320840627ba15adc7bde504add0b555d357a1b8b4b31e07bec12f493fcf690f997e6fea4142236aa84c94b94ed42aa9392c949462767f518420ae2521551720e78fcd8e74c22c70382c38b54ec2808cd8553164ec512b076502cdf81c299606f1b46886a858631a5aeecf307db3009fbb11d81b8b2980a3b82cd801e6a97253dc94207d4f93a5ac1e2ce88f05cfb68d76860d640300af48a73fcdae07dd993487048785ba40daab66fc93538ebe53f515a3299d72b1ac1b81dbfe8a38d63e6792d90b472b70834cad956f1f32488dde9e13c4dc35d51cf6e7f9aa9a1040ae4e059bcde54ff03c9a79f100fec9631aa53be3b4a775b2ba4c8362743b025d8d4d51375b7567a51599a01d2508bb2ad81e3d69ff30e3094507b209dcc6cbff51f5cecbfa2c65c85cb73764c7fbb886019ef6eca862badf7c7c0d6a74a0e717579767a60f3a863ba96caf952faa52b288c51fc0a9f0ace986386c9eabcb53903c003c9fdf63c65d641ac1c4363ddacf9a7a07513077608eea995dd01967f3b70bfa213c917a4fdb410b7ef55057b4fd0d0443653799e277cba2f0124fc3b990ef95cb02fb8ae8f7c2379a1ac082ba678a61864394de40b3e3a50e4133bbb7737527be7f0d2ee0bbec67464b31e75b737da5152cbb298e4bc22e50b22a48ba1d71e9650982c0c8bc73d484e02ee17a131e01b13a61d2100a252ff65a530b5f5907a2ab477bb09d19c72ce9c1c1c5214791da242c627495bdd9bb3c05fa52d4655fd483d0d68ed6b123d7c51413659ef66a25cb1e569266719d91fbd9ca3855ab1311859bb95851d49cec14866561672ec3cb0912a00d82d43a103ff15fac90a4d037d0fcaa74e5c51d80eb57c3a28768901b76d27a6c62eaaeb78ac708ec2059abb5037b232987379faa0e4a3bbb6a53d29280a88becf682e28e2b9de1c01a033e6e2540f46ff83d807a0c494e470065f2a1f03b48a6196d0613635d0a86bc9e72a6cf2083b5ad167577d22cdbdf3f39764988ee9fc4e017864981a94f70589a4043e2b146654fecaa964a25fd968313cac0d8ea83fe9d3aede071c8901d4d98e628bc37a88efd6d0359dcbdcf74a27543a017e34583fe4293e05bba3003c6c050060de51a1017927b5252df6bca3902d1dfce8980b2bbeb5d8c1d5ce8bf28be7f2a52f6bd5f0398e1201ce93f980e5044189f522beea8e73043b793754dbbec9fb4db26f3cd5580c7c8dc93e1c40e52406700d4de9b271046a998371ed75a9201967faa1a561c238a36d5136badb6a9b24ad1f2dcc38b3053d321af36fbad4e5d175691ff2704079ad7ae9879b12217705b22cd20b5a65808b518f76108b51ae5e451910de01eb4d0799cc0f0b694468ecbba5787868db48da748014b58a479834dfc74e3de94b068c5d81dea102ab1791322c16bd1f961621286e43b323399f5e305ed4336bdb09dd60896a0ac6d5548a2477fcbd51febce49b65ddf7024bd5429ad549f7404f690204719b8d9504055191c96e9aecd6d685e5f713f04e970e5baec7fe21f8b8ca03c4b295c0d7a7a3efd8b4de7e0e668b17d64a5874f64b57837149342bd7e1e3c5eb8e28bb4dd38f5676a6dbedf1a787fdf8f5e713823c9819a3024a75ee57a9702b81299ee775c6b35d596e7d3e5d7f43d7aaf41135559dd1597648cc4239d6dedf3db280c752c47021963fa537e80e9115c2a5fcce3eb2c42d710dc6af80f4ec302c7dcbfbeb4485fa156cb9db282503e02ca84d13c9a02627407f2c69bf562cea4faf3d4c5ac9649c80f3433809e0315dbad7a2f7c375d5eaa893eb629e368aea973993dd1f60deeca70bd611a10e0103a8b29c4709674081a86987c9506ed26afb716af2aa4d223bab867ce1749b439e1c95e4e4e34c5c4766cae65461e178428f859757561954255b5de40842ebfc5c2e7f8b27d9d91d6e8501000b583cf24a27924b085add0ea44bb798a67f9171f897b4e7ecdeeb579114b9efe120f58c86bc68b617366366781fd294f2fe74970552d3fc6b3729ed86ecdad5c6e7214331ffa73df484df43838c841933adfa0f266b83d22879f6f83bee78eea4766c387fab777783ea687e2ac7265eaabd09127e60af88507a3a4ec73da7a1da2553c3b08effe6cc6afb0e1d9185a98a96681e653d82c40fc81d15742b301e840165dfc180544a7c46f7af42dce404b4266ebd6626bc6eea7104b3d4d216981adbc0fe2ab90d29968c3453090d95703373a1849acbf58c18ac498dbbd5d19eaffeff206073eb3d0c279ae759037561c2b01ebfcb24721787f35ad3b75f7ae85c82d678464fd6c421c27bad85ae039673beb8f86aed2dad44691f6e8918c9ac4cf9ab6c702cdc4cde32bd6fd4477093650a3f729fafafd5ee00fc0d5c58206bfbfd1d12c4979065597faaa75573ee70b5507516acb83b3a4336b1b7e37a789876db750e2943f4a68c5ee3fb7ec5e03027b65978d765bd34f8a2a0c9306262294fed1edf224654af1988cbd9d8feefcd33e9392db25cdb0116d10991bca0baa55d9341eb85da8ab4bc7934d7dfb86922a7c8bbe74bdd43977fcda946eb7b05db4240431650bf79fe1954fe4643c3b60802a4f6d003089f6fb637771c2ef98a7ec44db3f707ad455b4f587231ca62a7d99a95965a65abe8249c2078f5ac498415d31f6c3a6feb3ffc7064d1b839f2c99d5a4724a06d02d448c3a4fca087bf81c382f1fb0cfd490f428c7114f234d80e7ab44025117b174d5bc379c44ec894754f3d070e9999c8661dad5f154ed64aa6fb28cc73288ec935dcae73279581afc9bdaa16a0a63bedb3073a8e18b23642d61acbb5c586488a3686cb14b6da73552762724cc820fa833042c7cc5d726a6475d3a2f0dcca37b5de5a4e78ea03c3a811a4e485c602c63f2432d33c83c1885c4b2b77a1a99480ea4cba34df3a4828d4fd6b6fc1d79c233e679d04e181db7428cea5babd0019b354cada426faca0b509fd23aa520d20474b07d359000886e0887056669c367cde7b2323f23c46b5faf3aeca298e4826de95207116fb543940ba0f07411973d33c29446a1481c5df1eb72a122a0f1810bbc547922c6dab68bf61e49e32616f952fb28ac84749d813e8199188c2945de9f05958c9f418e9623267bfbab8130ab37a95fc201c70aca7ee60f47949c59f30fff727af35e05b36e09233516ea22c2932051d2b13137d5f5f833ce3e9163ab547e5685e2267db5cd4bc05ee077cfc4d98c64c8083fcc1e0278b4334a9628fb3e198496f2464d0916ebf7725a59db7e0ea0920a7109b216cb46d8e52710075b216c75774eb6236e45647e9ad05f8c9622fdbf7d19e8432a3bc237e7c25c7b3e058755fa180d18d56e5546dd15089e55b206a5b676d4c874306f93a96a960775880af962564795decf8ba688bb2c7f72b219d9a9721a2ab47452f22fa43506f473103c564aae12201b3b408060ef99a7df19a6f476a936cda3094a05aaeac5f96976ca0a89ab27f9e27500245d1149e2d98ddc64d626b0fd277f5ec6ac83a5780004c21c9d164a3239b4c0dda7406336d2570b657d6da2eb9b55a0f03f30061b6382ff233cefb8547206372fd10290b5be18ccc720b33fdace05d796ddf6b6de4779947706fd90b2eb17413189cab3512862ec6b036ab3be151db5318d51b3ad42fd3edf89e52ef325ff8e59808f61981ac3edaf617af32a12ce622df6baee3677278fa0ce64f8e8623c7795ef59f910b4ae5e21f5b92704f56bc162de2ba6d09c08bffcff171ff8570b334cc69cdd9d1c4943a66c967f7abce57ba72050788f7cad00f333ef7777274c8de831ef4017c3f7e69b71fbd525238019a486a5256f61fe9f4abad696bb38014a4c1dcb932cd8f66177a4acfe5a0e4acfc2459328f0d6ea5974f422c0fbaded5882bcfeda4bf4d0fbf6f45251c67f1d4d916d9a639930d1afe5e3619459df4ca9e5bbf82656ae73fcb70ee073faf9d5e9d23fd14fd8d6f31013e2d4849f554a21a772ea6d45339ea3a95c9dd293245eeda90ad6b688a56f6549f998bc2f6ccbfe50f7295cab02a6f682692ebbcb7445592d1da23dc04a68effaa69bf9ce6c63c624cb2f01986fcdd173a2b62e1c5342c0c2917693246615fd4d8d1e24fa8b25fa0c30139ebf2558b260aa418e9162f7d2f0d67ad9c7c31e97948c417b58daa44e529c396f315729c37fc425e0f2b220408edbfbe7e207c5720d799d0bebc1073a6811b2f24807e667cc025c78bbec61839677b34b2bd4fc88221c5a8bfbc59dbfea1dee93b69f50d8701c8a33a2e74b2462fdf6ebc0120917147e84abd09aaa481a747c1c57358b12af88ce0a22062fb48578f05af89455e2d3bdf7fa51384dec5ddf7287b6bdf263e5285701a162b0271920d7aaca16e95409ac97fd429b216cdd5bb88c48d9832e0122ae12296e4d6ffddb3ef1bc200eb8fcc8fdaf55f98c8dfd477d84c50ca386afe4345df20f2b97e94218100673280502252f6a2a406ad78d0bab9977ceedc684a72214421bb20ce9787b7b396305a53a8461eb2750fbdf1c9d1f573d54a9f379525e6d1f8bfb6e7f1ba08bf8eea6f4c61b88b92958a7f58d1233a322cb51efe4bb3491da3f36dd228c3287fca4f40a2ea1322f58f063e3baf60182b3f714dcb2e0827533333fab781e9aed54a1c4e54ce59b177e7afdcb1500297f9e627901650f18196427281548a829796e17f0ecd0c0f175ca3156ccf3ee48a4b59a47c7989161a94845fcd7319b6fb4018b8901dbb11419b39e65a0ac049601892d389b87deec46ca3df38e305348e1e9a754f5f5554c01782f17dbddc1c66186288c37f41d62cb765d0c17465c6bb6755049d28ad23430d6e5a5ac586ed123f6a98c864a4a30e78808dbaea287b928b83146b9e7768612b4816143e914fee79d6fabd0f410733308d527e8e68c3506ca76cbaf956e37bf5c8773a1f7e98334f5adc4a500e1cca5ac505e274871ae0beb9d886319b21048451cff9b7c27dca7c6d900983ab0f06927910da33df2ab9870613d96c34608ab54264ef25a3f403222b2347a3c8dc2a91b003e57ab337e0d2b13396cf05dc7888a8f076c9d8667eea2211c63f0bd5fd38134dab52e7f71697e94e32c9a6f94e0474541d4607c595318dec9e546b779f8b99b1279caf3111e4d22fecf59cae6530454416dc0bcfa5115e682d9c51cd00bce36bbc1ccb28d98ee838fa471c582a610f3446d4e51021810c30cca24202b8f0ba503e2a984bbe106b0e0a057036ae1646e135e1c0423e56bfbf0d233c868030c49b239b13851133002089fb1d1f2187fc2d723f05fbc3e4f2fd3c84c3a09baf8c665138ff5e17d82bce5242bf2bf5637c79a7378b917b0ee34b6bebf81a5b3a43785f9ded2f327b85c38fc4239f69be370928dbe9cb884b81f3a841392c1b49facee5130c9fa6d4e8c186ff0f2ee0218785060c30b33e29857ec9ce1d267b12a1d9c39e12b90ed413bc5ca6c9a88578eb897a7fa95da916460194a5b3c5704eb085da5b7a5cf22f8f9197462525646f54e5bed28294cbd1df86c233811c9ec35a6f2d20e6f50260aebb678b4f63df08dc6931f6639bcc01c2c0ff306a5da5fd9bd328c22d96e6065b66c6de71a8190a640b41195a5406273ec72678c39bb1d68ca1c4f503c930040c70617d0ba0606ce06febd338bdfc3d81934bb61ad436d9b10df464fdd3bde8f56a8037061e461d1ff1681377092736e0557a13a266337edb929b257a69689e9a569b38d23c02f5989ff57cd3f109800954890c4269b024cf2633971e90a6de37664d3288f393a83204fbdd61d29008e976ec704e2ca9d905603f588bb8f8bbb20582e1478e8c6a7f4739cd90c169a348b9b993c0886f34c183fade853cd6c784f3baaa38005b41724276eadb30c2fbd74795248390c7075137fccf75824e7546b32d2190ae360b91bddc014cb3a0305d9fe71a94632702c16e6e70eaa03dc6c30767437408a4cb97a3bfb90467bf1a286ef3c1522d8511f308c7495544e3a441a0031abf0972d3d205b8c78b022d092917695f77ebb5d9523fd6f895b480c9e23474ac73769fff674434374b9ea43fe183b50bc1d155cba4924111b293ed744cfdb121ed8aecfb05c124d1cbf1b03b9bd6a0a7ef7e0d73690eb139419fce922a1d68f7ddd57a29b0144bd8aa49cc90537437798e1e33c4e8fa33114bb1dcf4af6e65b6ffea7c711269cb7e3f2250ca22dfe2fb44690ae7147270acd8f490ff71601bfd475128cc22013b4a90b89a428f61c6b3545c566fc9bbf3acbe6f5fbd35934abbaf5c367efc57fde4dd7ee1adbf4cdd4978750a317dea719a166145eda9253cdea1fc5a415a9a33d550b8f1b015c02f94cc5d38287198c5224d005b244682c85a1118279eb8dc17f72bd9953b209387e39922f731ebdc47f49f920cf75e002f04f131d56868cfe84f3c21b1f30c0102de7515f93b66c18af6cd930112308bf0784b47fcec88d9a53b2428b130ec8db376caf771b641ce8205695a67c0c652b6c099c5b98f28723a715ac35ea6aee928e02d5525872fa564744bc6cdff91c365dc66d3540af2fb7c8b7147e3b1a27875ee09e30a70e9f49d858838f889944c80c8f605057536a8247db749bc5075c475d6ba739469a480b7397db05567fb18e37fdf64053afb8f7345293f3b7fb3aa33e6e1d72f16bc52009eab933711b201e753317db3fb54fedd125b181dd606a2d6ca70c9884c004fabadd8b2aaa0b39c4bae41cc31fe5df03a82463b101d4e2130afa782d9eb8ff34cb571ccb35729dff6fc590e82db6218f81e76a917f89c0d9740327a30829f4290f2c337185d1d740ecfdea83812fb430e04bf3aa8d90d8f09ecf3cca99353588269c4d388d4f83ba165d0bd94459d97602842799acf20e416388805faf38a3ef87941ead323c7e14f803d4d958ea3a80594e6bcf2fa5b97e221b169a31692286f87cb5f9cef6ccf3e1d41b946bd512e52a1efebbe88d3c8547311eae525dbf2d1a254f8a323bfccbd10d7176d13127fa3381fe9a348390f97505bd2ffd1e31aaa3c7d996a67aaa174d800aa74df515518baf50d7a2a56a9738d3ea77454bea8b3b4c747e9c1ba12b78a9081c055dcd1ee3fc726a2503fc491221c5f0da9a1d34a47062b322ef0d6159cd05c2d290bdd92e87c8c181861949abab1a55b1ede9a36e3fcdb9d0fe00357fa17b40050fe7be08edc571658146426effc7f9a04092c5e2ed81fd0ebd8f9c6a7884e36b97417a11404a7403ed4998727351cca627fcdc8013efd31d0947d6d7a83be9509e3479e3133080a972b7d9ef5d1eb14c426a2aaa9b32bd96a86c5f1940660215089367b802b62dfcc230347316cd8ab10807846d3aba060a082895ba43124158c057b35e28c6a5a815314820d024d3b094a3f11a1d68912b041a11faea1bf6e650a07ef45196bca36b91c8cba8425bc721d6448022295aaaf2edd1baefe7d98604f0aa8bf7a00b889fea2b8167f4a81bf1997bad8f9e3b3253d3577b5d85c30486ffa48ec3c364e6485b6dee5ce5c24daf58e3bf0d6fb867e03314ab00cd970a402d96b928aab5ea1b1294160e28dbb85327574f3dd2328ded7c85e24a4812535351c9d8e1d96c558eaba3ab4a1ca21a1725e9f7ee18659a97c18941b90a4092421a1f59031fa4c0669367966db0b028c643c85011ccac06f93d923588915db04b50ae70809004f165368f535eb941841b3aecd0bb86c94284db84a531b7233c971258a70851181aa73162500ca044b28daf477c0c3a645d8e599d38bbd33e3a2e63dce12142cf5d38de1ab9d6a19e9f67d9428002b00c1bd8593312933408a7a5df1e0df77a2ddb9d6609c703550caf41b05b8d86b86746fa3e60e5d3dbe1268d11a674b39a07ffbbc9d7f26fe5b32530198aefac38c87295bcfce30d48224132dc2bf568d9931d9b757b6aa288b046e029d78c1c1408a81819f8652c54343056f852479ceb78e1df4f6073e29c5ea6fc378efe00af2073ec9b47a246a1412683e0571b50f839229446f065bab392e91373d760f3171dc8f468cfbf05390d3232d98377c4d0b4e7e0575d8bd67f2a6b6d067cc0c385401663ebc7926ca63148aeebde67e2713f488d622c90e16441453d6f57551960750477203ec7b09b848dcdf148d322ca546b8f713ca655b251cd29fe7e1b3fb5ecafd8c2388f96e9e8d40711053ecd476b8b4278dbaa55a3f39ed1e0e1b290a9e8c0b327dfb31bfdc5a49bad0715e6f4c4c8757a766d96970f83e361264a00af581e59756a636a4b792d4b6a89fae854e5701dcc6f8893b721316c32f73f841bf3cfc8f70e60a52d27445b0c3173bda893b5e1006228011fd65728360769a9edc214803867d7a6c8540405042a7b96c949cf66b9a53aa6e7605c7db538a956396625767fc17c2e2d3f216c903585c09ffe99788835a72ebbb60d5dc22977a0330bdbb97499227760192b84cf9097df02f0259d7e6967a104df645de813225b5d7d8755b40ff4a4c4a055c6d7cf4777b833072e04a2bf4e415bf901b44b163632babbc7a0a4caeb922f8115bde08dbd5d133f1964975002b74da65d0b5f7f25c789c607cdb0a782dc45776f2916c914bfa891e497eaada6ee1f82ed539ac6b6d2a2fff41145fb075390f42cc96fbe2ce5d521726ecbd1f5dbea89206b57a3f0f89f4bcf04972efac6506d9f7d3b9b325d9389c4bad5d5e393f8a22241bdbd1e6e84e8b5deb2f36374e5fb01cc452e62739c25f9d211e506965ede283368dd8ae02c46bbfff85aa60b25d436eda1bf86fe6afcf73a772d93cc7c9f5ac4cf4d7fbabd891ee8f30457ca0162f132800f8f7ed8aa30a494741a7e551a7dd578c617308206e231adf33d1ccdff464fac60ff6eacab802b4d6e05efff49b6eae7f706c52be540fd44c5b5513547fd6307c0bc4de32830a0672cb8c3f5e004a65ffa886ad512e36f9fda0ce3ba3221cbef2a3f5b298fa6b8a11c4657dedc8c5f59d0c7352df26b41d7be803490c31e6f70742186a86390e655cb704b3bb9e47eff348d47430d3132f9228129978852c43fab305cabc023ec59fa8801f50416636da05b9990a63affa4189de425deedb1eaee181ce15017af46c64ec05d4cdd6d9d2c16222102bcf33eb022c314f037c5704c9d1f4af40c755f5f8277cfe8acce39257ebe1e17f5e78bb50c59ffcd8e95077f7aaf82e393c52d9e1c75bed1ff0acc8d4ba2f23a555c7775ae0361842fa25950ff6dad42a0fb3548a5f7a6c0444813320ff7b3ee7457f5d0670501262e00f2bfd661a59be6346627d67258796589478bbdfd42d1a82ee135dcf5d31df9ea178fb75ad55ccf21b8ac9f0dfd9cf459794f811378e277893e3a1332e4406d67bd2ea39fdabcd82802f5206c470477a777c67ab41cc280b18d464f02dea69f3d7ba9e5add281fcc7d8b0f642ba03378c41c6e477df4c8455ba009980b880b9294af23b117f445638a996917285515ac0f4252b50fcdb9931f49b5fa71e9fd4494880b847dd345e338cc28c0f5c708ad10755da4d78f0ed60c33da5590891780efa778ec3643ad8515f17cd54899ebc13cd03047a9b170ab9ab9677762a0c0ce40b167a790957743e4d9ce0074d204d8d5bfecda17148b1ce415bc7787c9a5b871de6c2d80650fd8e2b32816de8d9a85908aaaf48cd39370759dfdf0ef6845628940fa8ca10a41082bb7be8bdfe05c7f1c14ea723e57e8b30be42bfaa5fc2c49544b76c32ff42d16021b83b25a8efac4f9fa330e863a437dec2b1165f8e6bf8126f205e2f2bc58529b88331ef4566b5059b4db41b9e83fde44f891b8f890303af9f8acfeac85ca28af11a6d9bc97b4a5e4288673d9c6385a6616f536ecb0b51dca05ec9d97e71549d0e17ee2ecc151ac0221e0e08924fbf0431ddf172cf3d358dd6ba5cbef29d5d0b32ca63d8d58a494f064f0553664c6321e69060bcc73a5b0608fb1c55870b29f6df35a78cf3079b2606dd77d2e7b8c0b53f3e32c81b1f398fe37b251e53752e425cebc7991505829587ed120acf040e31ae742c590e754e849d9459a5370d038500f463c91d2641bf38b6ce7e5d01eba8a0e9080f2d39abcf7f915d336ff61ece6fc6d5b3bcc82a29e1e37f029281f9188e10a064acb1bcd96ebbc10955f3d3ea6f7b3d66763df243a12c0f3918cc4c6f68ebf765054396113540e7e5e6a2ada8aeca32536bef6bb4a4552da59653e48fef4f822d370e750fcf44ebbeccc571f78ac63e0f52da701b3c5a05dcc748ae70c9fb585c7180f4031aa6235b9f7b7f874bd5090fb57f26342e3b70588c2b93fe7693ae0e2e76e968f1ff9d52deec5802afd5aba44d0964e37b19c9eed4172abe8126df01c8887cbcde8f65652eaba3225b68b90d6691f6fa3e2d73db27a9e35de938cd573246fb1f7c760462def62ed2fbc5814bef2e359abd2ca85ec03e7d2eef2cfc2076f8aed466f37349648db3297a466d984be5935ab6edb361e71a12c7fec6d2952dd440f4d7d72cb14a1de8cfcfe1e254153287b6565a2ea31805c3a34a8e2d8fc68c6c00076bfd72f43541220c8f0fe0d36041bf6894105540fbc9bf0f3cfb641b64db215d12ceccae9707681d2f1eaba5d838facbe59c90ed55354b4f75014de9e3eeb2a231fd8a322466d62327cd51feee6166a42f1ca9312b219542d4aea2950149708d3c4c4fd3a9221482788b477e1a45d320496e01a9c7ef2364819ef12fb4acbaa3f9bd94efd94301e5c4199cca62046eea2838286a6b6d39e2bd4423a9c716137ca3715b060420ab94428fbaf25f84119d9af6321388eb82625304c8e9e785b248e2e1cb9a8a67f27f7ff7b30079d37050be32fc86f4ec48643b4a028bed7b177935e2a7db21dd757a1d7666523c1e274e527c0a4d2da3e05c74e9d96be307722f8e5d4d9939685686b14cee2e436434f91708f7e8c3a334ebf612913d8f5b7bab834299307f7784489126b0d911e02d6e05268cd8171b467014705c7b4b27b95ef29a2d24a56167331ea1a3fb2f4d9deccb4fe723bbbbfe232d1bd50152fb02d2af26d5dc4ab9debd34dcc04e508d95c48c8651208eb9ea9882dbccf6d174c5dd78f175b52e985392e1b37ede933ec58b761f470c801be8dac978697fd40c6993aab011d5f81afa859eeddcf373b6d9f6899c8c3a19fd7425062ed802ef76d98eaf7df5417990d46fc15e7b64edb9515c22468e6614a4e85f6274e2f3813bca91c421caf6e3b14858df09409ec4591d3f87343686a17498d53596ca2d61ea9294fa949a1486f7680806e3eb6a42b5924a7c56fa7814634fc02e46932bbe314e0c3c73a8628e29f6c9f876c2ac88f3d1c87642e42bf1b25e9df73b14a6bd0d352ee5dbffebaf69088825a3f7e7afd549493a15c37567f00ddc84f6e3a0dadc6ad1909f68ee68646748b495f5a4b20b44fb874e371279ad4ebe9894a49594099079103b03ea20d4e0a177dc0133a6ec77c35b39111983920836e494ccf75ae70b7b15429da04e6f8de9ae770b804d9aec1fa748d452e7ad8341edc1e180ff1c6a8d870236ee69065067f1f533062b421fe99172d45ff729bf8d93d7a113f39a032f9957fa776153fdac2226850f52e37a625f09e5b729851d1ca4ae955515201ab8b1548702a524d4d59aab0c374ba5bdae1787705dc50e936bc59c59d631ef089853434417e15d395b3aeee57cceb4fdb1458661c0eaf6c4ddb8d012b41fb1e55a739ea74f69879b99399c1b05fa702c754ed462ce62620e73e7bee64aedaf4246aead5d5f4700e7527dd6abe281956479881d872bdeb2530794ba13e6593d53d7c27d7133dbf3dbc6336f14204c09063f3103c586177d322a36a50d0dca4ebb1b73939e4b1a25108b40dab6c8a63dc8bde9d45ac93cfad68155912869e1cc1ba365d4d6a2f5cce80195f85e19d662456bad5bc74527668d7e0e444cd6865027e819f2080fa7b2d4accfc3ac2ee03b0d9de45299bfd0c735b9eea8c499619e731e9e6109993a513bc3cf6d3f29da2a790ac9b8eef9542b86a2f43bf39a5c91cf66675e06dacb9818719bdb92ba2b867b811efc053c6a18438168654a0b707e96666a03f20ef070d243b8142847013e065a6e24d62292241bd394997c1fa63e9e58888a8efea9a29faa8fdcaaa6be3b94ec92ee253ad63c46a01deaa1f3a75fc9c0c8fc59f7ad5a37952ad3469fb162ab2434b449f3f576bcc12396142cd95a6a08f83bf1e84108acdee11d8763abcb470855310d1510cb94a80d6e5d393515c91e2996ad33bca06a9437de1ce218ff5f4075d535ee64f0a861e19d74942638117c8ef9b04b618cb4c6a06552eae02ccd362a0074305534c151fea7dbde93063f6f70e9ed1311acba91e617bb1505cb3b7f356cba30e59ec3b2af9bd7abcf38558474ecea14dd2d44c26d0a98ea53a52961e452837b8b109719c32fbb6b3c1843f323292e6a920f11efd48ad50984a425a1d6d55f49ada43804ce3b5dd796d357e610ba1c6bf4e3aa98776de8b055f48d320e8834acb11a895b90536462555474ae5a54cede2912504fd1b696618bc38fdee1d822b61fda9ac49562bc2456b421a428508bd27e568ed92a926969940ef5d69b2d3a86fa790945a75b8542e89a926fd0b82b1afa5a00d63e84e6372200955faa53c1bf4e59e613ac420f8beea0e4bcfa78f021963c5065df7d23d4d56caee7831af51b5d155f3d30b15b6e95230492d3bea2624048355651a1b367d9df799f5d94c3f437d568f990311df9585168c6b84cf63ca1f0e1cbe43c850585d328d260b648306b5811e7196ed7f50210f1b9e1e449e33621473529b7fab830a698cb1bf4587bd529e9012845","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"78b513705f70eb5d697634d260aa15c9"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
