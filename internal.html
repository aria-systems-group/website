<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"84ddf17ba336b5457bac833932ae53c161d14ba2c188630198d425eaba222e88a6661e46642128fe13ec18db6eaba601651e9a75be49de0382db998d26fa2847b5c7cc2862a1112a0f3f24798021210dbbf185ad1e4c5a90768ea4db3ab28e37c63967735b5fa26744b24daf9fe2c9fb9f4bdc5857bf1cb538ca6685a38abf97e12c9dfed1e53bdc837bd0c17a8bc8afdd8515b89d3074b9b79e87b1bbd0e65285fd9ea95f069c3e30f05330eee79f4afabf91761c6384422418251d5536a5cfa93040ea9874878a8cac7634eabf58d471f19e450b9eeb99d6c39b45500da2edc50adf29d1d7631600f4188cf8bfda43303040763b146c6aacae733ccb7539427473580d2dc62b83d300984bbb2de47ae922da876f406c934b6be8f04fd1f1bed25d5d215d9848575c17ce78ebf7209dddb4daa5767a49af4e2e5efb5d3e01ac78e1071afab2d72c0213f52bab425c98258944059cd2b442ee8dd4d26fd10b909b70098d9b06c9f34934596fcb64a8d8f07ed4260f2cb78abdb670faa359c0384612f208f5ff2d511ff27dc835eee603315f6b4f313b1bb4c321974d75da53b3cd5e7e09b36532351e0c463c3bf634d7b11ae991fed4b62cbd62dc24b1d5dfbdccdd9300ce7b7e31ad38135579a8bdcf669a150d77a564a0b5ef02e42b154e583a137656bf0575edca79bddc2233c6be066ab974df45109c8c392af0d34a7ef66f43ef9175f286f6a2ad9fcbce47afec84ce3d7757aece16b440a64134db1a189d4aaacc2804671cfbe6c8ce92274909d6bf9e48779ce7b69218c2d47121a7ecc40cae4b5c9788305d35bb3e59840ca4a970630871fffc244c04f1f8882a5601330ed6387ec35181e55fa9fe3dcae5fc0977980b247a9c85369209b087311d4adeb900f19c9c090aa81be59e607ff33bbb0c724d88716ae44cdb1c185fcfe658a8f29126904917547ecf3b1f956a3aff4ae6a7eb1dac90fa39c8295b8cbb92aedfa7962a6421d230fc0926e819d5f1938e47b0ebbb87883e5b7961f891e26d28ffca50424164018b2cada5ad2e1e5709a52b27fe13ef8f7f8136fa473b30305226c7d5c9c876b1c967c7fe42a3995bd98be5d20a2ab4c1ffc04701ab56e6972e50d949300ceb80681a33bdcea9ae4d4c043e214f8ebe589a34dbd000237ec90dde87dfa1d1487971d1b4d2a6604d02db1c0433fedb38ff2708cc05c610519fa53152b50bd8856c93903154377a118ca09ea616dd3889ff270b8baea9fa266cc98af00ea4696dbcde8793fa234d1ca6e424ad15c829d237f2a61f5f58f1358ed2622b4268c63c62462db0e037b92bb18901153677142333d280d7738880cccc99b64f13cd9838ed1e97f01b24743bc7834c90d409f0094fab738898dee72b75b042e2c809024df2137bb7d06a932a5ab62b1789303767970aed337818aafe1d21ef8dca993148c2726d4aa835289179edfd5f38ff28781b964b3d825ae8ec6ef77f652877c236a763262566359ad9bbc29ee55ed1c54bb85bc591b5c6f103efc4284457630a0ce8ad00e2f393147b7b86ba7b9c8557020c2e72f34385f2446884190ff6a494741a3d3ae2bcab3e699d41de8234a49dfc4f0733f1a13bb029042157d0276c95bfcb993e84dd2209b1857c22e92d31ebcebcf01577bede32246f1e0e7d3f8e205592109bdd2cec38634afe883bf7c1d74de05c79581830bff6adec5d23d903d07ec86080c0379a413e42a9b6675f3373b86a11f62282e921a4475702f5dd5bc01919c6749bbcc479c025edbf0ec741c7d17b043f68ab541a5ea9f74efd2895369f7ab7ddf5f52f85276e9ec89ab97793faf6f31513f2a0a0780c19c5a567b14a003fbfbc475f33d7a70c0faf48512aafc14d2bf7a65eb0f4126cf5541e4971123b1d812bf7bbf04428734b64c887509d5f9982190ab48cc03ed27b414333f6e5f9fc4cbd8793bbc2e7b3e0c64d58e0a239d9a000bb36e5231146d284befa9be717cfd8d2be9a82b49b2526bea3b5260533d5d79110d46275ecc9487bab8c8cbe071d210f096437d22079a19fb2e7b62d5063ad0108a968483253bf59f5d48489b6aa9876ee15880feb3199b4b51a13b3e644c72e79295059dd7b5cb4eb5b2680daf6b043351bc96ebfdbe76648ecbf2bfe555e4874452c5a9a7b832ae6a147e77e4b70d6c9317704d2fdf841f6e1386e4e7e4baa4b210e2955d2e2910147b39d08ed0ad7aeeb293a0d513b22e3d0e1f10eafa52e9f71a08a507a345982f56f8b52736289df4f8e9b42326cf79fd303aafbda23f79692da3d34456cbc8772d1c70499214a89c7edcf73b91679a707bac50160cb5ce4c2736991e5f664691976908d24fd275441b865c3fe11c8837579a12e15774ce2c5a93ce5e9314cc5d05e60368c5587c51d263ab0c051df113cbbf9a2db5d312ee72a988142d227daa5ebefc5018250bc3203a2fb22b83515c93c661bdd1eee7195b598b80c3a417a05a75bb55f271ed27c9bd96b0bc7d641d5dcb2ea9775cae9bc919106a378ec67d998e3b18bb7b7ec809a54935c4b9b409b63fc252baaba970599a9c193555658a41e39926d949eb06281c9364a609addc8d1c9794356e0da7d0d6405cd32007c32ec5e6b8ce3a58242b66e0b85d9986ba6cb2e83cde4160464fd9b79ba25936db5f7287778c08f1571c409b485c963bc6f2d56cd66fc1f9a740dcb17b0bf2b34bc5596434f1abc6d349975fc1bdb7723783e1ae02585e4d647ec1d51dda8f81d2c1c74c9f2558252b258cff663ccaff342bdbe76eb6486e4d04d0e11fe974f6f35fd9f17171e1994dd168775e3440916247efd198cb001f7bc7c6d72b9cbbf2d09e7d50be973204a905a834f41334a9fe296a0ec3212441f820115c207ed301c164df36163e5d5ed37735a69d7b6043d23bed30e99cc2aaf18148060a1d65c3bf30807a1d26dedbaaab2fba52b6e4aa25b242e4de62efd0b2ad7d7125ee903dc334531e8bce475bd431152cc633c02a7e8576f98787f38d41d5b58027b1893d1317e3b2c040f212bd2f90f19b9d623f774d685939ba9950d5100d9026d395a52edd14bd8d0f052b8d8a5d530464e8a7a1911f8b6778af8db008ae6fd3a2cb9ea7dd28877344e147997cd935bd8712bf62fc1c44a2954876caa79995953ecfee9443921e5168814d70fe656cec6234ce1acc17aa785d762fa61dee6a6acb9deef1610677b78ca7ac1b10f45d1698ca375d007acddecf4c8c8d7c68cb174cb3fc6d58ade72847ede48cd93e73c09447919e1d2a220a4a860d23a95d6fcddba7ea7574949203965b72d0ea202677a1ab15511b41280e1c726168f77b565289debc1b0bcb84880bc4d81839aea0e747c4390744d5bc86d4f07897bda53fdf79d828713820ed21d2732cb55611df217407b0ddacf6b967dd118ce1f83d4c8f0a794750cc3b1616b494747aa672a67a25e43e10627d9484f509649f5711be44ee5517d0acaafb4ae65ddfbbfbb812811c28b1be4edce8ea7b9d0bcca3fab0d559fa994d2d80f841fe3709060979b7ae3822a05e4d4090c9564b20dbfc88b2775c71b534f3eede3bf717e944da34273954310c3a1929f8f4a0cc3a657217505b733babf7ab585afeb4b4449a4ecca6fcbb34bc560e03baf11443175669d7bebb66eeded077855548b82b48689876547ef1f409ff719fd6782bd22de9ac164b17412f6c99ff6d41d63c7b83be18aef1c70251b9f1627906042f897223f5cf442ad5c793c07b9e164395b2b17a0caaed732b7c3566e1b65c0447d0b20fa22386f91111cc37b9be4d3c4ab1a34cfe23c0c5ba471ade77cabf4bd6e1cef468728430eb63036ab4e1ad652ac96915e68a63a0ca8a310098a924170c139e6629b7e2f397a09ca44288b5558cb5c4296ba42c9b055c145aed4d8de4cc749c98c68239aabc75df6d9105e1c8373113c40779257fcdb0b97072c44b5700e899d1fb827e60e459f7559cc51f5d4fa74a619be67919132c5374c05f6f9544849c6558527c075d39cf9a990bf12db40db52e92db8ca09f420737c3bf53b10d8c24bcb34e2de83f6d79b50c73ebdc4812582c5026a0c224fef4191944cb4e9852ddde51c0d40e2afc2aa0d20527b70651b92d517ff2c62fbdd614bf51ac989e671fb9b5017c52f91b406ba79f3a10b41b70a492e0fcd17813e97256fa618001ec3900f5aa3c982cfc189d077f1981e6b49f6aac1ffa562bbc1470f9dccc9d4809e6d4f78228a02507b1d895dec6e4ae02d39e3db96ae60d46701513dd5c505b827a798cd769303234f259cc1bfab9489decfe9dc3140851ac0dd66107013a9b5e6e7d2d54e02f84d12c589d2efdb2eae8cba2b99e142f173185bfbc5a63720ef391a024758e30c056b632ccb1b470df8f07b0154bab2f84169e75e59f627030986fdec1795f9bb31be80e941155ded25c59b010942035517c2cc0ef34485722791de9cf081b6637e3ca2d6f8413422a786bb754c25f70d3d7a789350e815d8c84f5b23fd0235b7ac7c7f7fd16b8f590237cb2276b921640d37dd89042e76e4dba28ee4114c8380ed9d1b57ec7ea0ceb8e34ad0fbf40763e0f4cd7557f386364492d5898e7fcf5166ab66230d9f589783bb5dc2446d28c57c817817e1e7d56cd1a733fc5ab2bc66293038fa2a5683b81758476aa1a869943dfd1f6a1929367ffabbbd9f5ca64272a831f1154839972bc96b343a989c1e590d866ccee40ef81afcf4efb5becbea6a71dbd039b0f59729a3acf9c37d7ddcd949c40a4c1091afc6b86d55ba889ea9ea00f314bc1a0deb6f6ac308d6a6089c1a8326c5adb6d10d5eec4680cafa5ac4f0f9c00ce240d6a26d77ab7146ec7f6d8cad28ec51c8617c8d4c48fd68f6e5d7c39c9ec83f262e31b8c1872760e2899d366df6702d5869ca5230f569f73cba118afb8c9223bc44996c5f96a8716ad790c21b8ed1363868040a95f0aed66ad4be38a28badd023aa7bc9641d9835778b3bb47afdb9ac1debb6ea571a037b52e8b41d5f791b55c4f1bbcf9caf5866ddb7ee2010ad46abe1b9210c73ed508ab09a9eded7786389e487728a908bbafb121f2cff64fbf0f05097d92c87cc86a2cf4dc23faba9d0f608f9bf306f7c98e8c3ebfa07817993bfa6bad48089cc87b996d6c49fcd16a0b53304277a1c1be4d36b6cfd431c10602c3cb467cd2056d05c2260a9fe33bdee174b79b1dec28e13c5a3ca0d8281fab30363bf470b98a63eb954f3c48bdd64d2031a7e7ff2850ff366ef56bc6e316d7ea5867a7284e150f2570503cabac7bb578327fc7620375005005690ca63627e32a40863deb5af83de65ebabd8af3ff33a2e5124608fb89c24fe3bfdb9d3902834e676e37b170a6e61587ccab72245b212b5a36db22c9a40dad01133451412449ed48d7b032423e1d043949b99372af898f84f28e353b24f3a637bcb8a00e8d9f9d7433e28bb2317fc1d1ec0f23e9dd850ec129cb95981cb2e595a81e42f08144f89711cc99d1905e9625680db3c137f1eb02a8ebd79501bc767fe44ab635a7cafbe4add7c12e682e0401ae208bba3e4613a7aa06bfe8078b03ae13cc0585f9d2fa93107d62cb2613c0462f58d9779f42a0c5e3c4706a8580e6897d7a9c73ca27ee92d90d54dfb8264c611d7d173df334907a0826624a951a1ba550ef40232369646814745eec360e6aaac314eea4528a292c8555af20ae9420ce58e6f08d350caa50da1801fea5f6160e59f150e99af5add7541d091836d578b19b81fac24f5cd2d93e36b36211c9cf94634381ddddc38913a9921cf3c05904b641031fb835f386f8789b1d622312c9514b875ebc17651c34855488fd1b743c5bd9cfe8544eb136e615c76812b32e59b9adfe3258732951226249ce4d319078345b48d1e4f1e48fa5d98ceceb9b97773aa968f92900e7e5d580b4d62c2e9b3e5293893d57e4a61e98a96d483ebe677ed297a99b6c051fb141e1291efbbb5399f7eaf853d0aba7344405ab213a3ab038c44be574026d930c44181b67663252f3af67f8d15e484245383afa64ce41c10ae57b302b69913c4725124a9db04076fca05257797038d75cf99818f6317ea9336b2dae98fc44a55152f16741463196549d4d9edd2bca7b80e8dd1bcbb275476baaf180d461beed83dd3066d6333fad4b2e0f5c7157a498e28746ba478a8ee69394f3c46ddc644d97937acc8d1d76d1ca631151a3c2c3d1b069bf5bdf907395fca88c9791885c28356df1accc27aad5c2699e530a40aae780f846b24e04d1352a6f633f74267ea1060366fba76e7f607b8b8acfc608f0719c4527dd05034ba20a6b5b9b92aec96da5c846b60ea1289bed3b2ca4407e8c02d02a1eb17f4efdc186c4862b5802f12bc35f8913c8c290b13d9ee0037b1f23980b7c4a8e068828f2500ac8739b9faae0ee1700c6a3d08db86107ede2eee562e6b0889dbf4e5711208d3a8ecb6c2814922c91cf7c2749dc8e6b6e7ba1bc8d29ce361d4f08b6d6d20c0bdffdbeaaf29cebba0ad90822979caea8fc68c306ae34960f03ca258c4a54b8beb8c626dfd80a21c7943496ef2f64548e202785c4c5b8b2a70641fe10e463ce12988e45a6114dbdbf574160b9dde064a4c74f95012b70bbfaf3c509d4ae93a0ae2e04af8a543add24239e590f9f6a8b5247463af01fa8db8ad4e586365613b499fc041a37f88a33d1cdc0169b78a1e34fe61c0f159792063836bb10d2242b4d7c99b992c4af7efd6ac1047fe60288e0409d285e0dbd499eb1d72a182b2b4c0d310c386e542d4dd93b9128649296866913bbe15457b06b2dde7adcb5138866c66997259ffacf77bb6efb3ec0fb2eba6c6564d77321cc81d79d39f73ebd91ed9af3d2f88c8c04e963f3f85185d0bab1ae1080df300f06a4a3e26e7f940f2204321eac3a7beefa926a90558bd58f16fe0731814a52a39bace58caddb1366e20d003612fdcb40efd0fc7a352d32e1e29b70e07a9afc1d1df97589adc9e8c412c385646f59fed6d65a390b87a20767d53e9bc75f39fafc1c3c45dbccd25ba372727ea349c9cdfff89411feb5e407d7524c90774deaba060a3d8f3ecc1d6e9d1e64238f8c91a79739f087ad15516cb5896fa16e555374ab23666b71401e18d0c8ee0a0598223c15361a4022aadde951c096f94d46aeb930760f5d6ad1f7ef7724872aab312be57d4a75f983806b4e08e9e98a3079278793e73feb6486876cd39eab0805c04c7a41a7ea21cb61db543ddfd1ea7fd8815a43b6a8ba779f186aeabd9416bf3aaaa101af77bf224c41921b646976adf4439d3ef38d2805d7840aa0185daab30d0aa48d2aa68dcc9f8cbcf3939271d566ca65aef240b896df972c12376a05dcdc123464274fac859e8744d1a3efc0dff11d3cf4aa504d374c35922250e5503cf369930d70f3d9aafc904a47aa90c16eeaee2a816ea5b4f6bde1aa2c948f357fe2a5d33de3f4deb55debb5a2277e725cb374f526a91326252f60bf2630ddbb34e464fb071b03ef4df4d3b7926dbaebde6609393edc424aee61e97ce18a0ee855fb3fbf56d9af81bb2a46a7c406c5ac4dd734882ed4c0d5164d0301dc67e6f2f59c24dc0b95d7440bd7a8e91ce430e8266fca2fb34ac191a43a1934e59128302a8d0067577ab2a5d7d91c42c9bf9c034e3bac544e368e249cc681c1884ffbdb43185fdbcafdfe7dfc7a65fa54bda80af452d24422610afeee217fe8607e949537bf3c38ec30b907facae4f82adc93f1b913559f4662fca345e711fb4254d672839ca9584312f02d148d79bd0f623009ea08edeacefb2f78ad3edf2d3a4437fffde6e5e7ccbac540f1be200ed71d1aadda653b10b56ac1f509c67f6ccd53f9db5570fa2c0602ae146d227e4122417a81ca0830c50b4aa71b13b695ed780510bc85815e105c15afaa3e33bb47d6a5896bc05e95e8b235d727c4b0c1635ecf68058c44f50559d90da5ab614f1bc1208e0d375bf866796507bc5feda181772401c86f7c33a235671323afdea5f620b587c246c65b5119f8ff248024929a4586b8aa1bda6103d77c6a828f72bd2a8ba9a365a4f5bc9302253997362db2dc662074d54f253776fe5a3a0246e5c7fe0b80bb764a54496af0b43d53cb32299ff8fe85b0f93f6f4d49fa28c7b69c4571a67c0245984206a5fc9751f3e159c23c14031ec970a7ed17473a4662ab90964ab2a20ebe627742cafa1159b1dde0c9cdc05d29e9d1c58bd2602a7bd501d8f6c17f515128851a9705dfa4af001e24ef7856e9762bf2063bdfdadcc4b3d91b78b04f9e65901b8214c7ebd1b3ab34b113a6e723d817e10983a8911ae6eb25f98a705dd946ded44be843c9579c1d03efdcab058b881002f75b9762c48ccc5e256c4cd8bc524f79bdc6efe110c255e8a1b8415ffd0b884e91407c7da7300e448b541e40fc8d795e6b189fc4117d0259c6eb3fabb4c002df8e0998c22b2ae620cd6a502813a06133eb9c96493f9ecb136634d2c96bf63e536ef66f1f1646d4508a9a91ee28a3c8e162096dec4052359f59db57b6dafe319bb4456f59cf6c2f8715dfbc5a78e5c54e5bd28075797a6f8f8012dc58c0dbd27731d32d6d2f705bb362f8c4e1989d39c771509e7b26fd366acce625319e7dacea1b731f1ac03a7a506ef01c8b7f51f978193394fe8aeaec328009f4bf5d07fd9284023bda834bacd24535da9bb8970271cb63f1fcf10b254f5db69b70cf1b6ee160e06f1e17d8a0b3ef88c228c998afdac679132998beabe5dae73019bd83996fa2e7cfbffcd572505657468b11ecc7b84b10d21ed2b4b38f71edaef00f3de226192880fd2286c9a2c4d4ca1ee2b91e738afc70c7642d26b2e941c2f5dc2d3e2177ce88220a6b24a0ce5a5cff6ac1773f1692df5323a34e495f46b237f24dfa0e39153ec82aa692696dd49c73c9e3234ed0de8934cf72e86bcb4e4f7955a1b65ea4645b358753f872a2eb168073fe2c80ffd2820938d6504aae58867bc3ba14f1e0d5c7ec59b8ae3c0d3955dc1eecd7d52a483058e7e1870fa92badfbe0693070d2a0c4f20800f8905c458ada90dd42cdaaca1aa54ceea52bfcc94f238e68f2c7d1ef481b7db4b57dc3821b45649ffa3785edd333aaccb7fbd08f0f4486da7a4b3964ee277f7917e9f63605f7151a0b9e00e9ca789da56d0e1ce9e19ada0e140555ce740eec18d5fcbfba553fc1924617bdebd023a771622910c423c3dc86063869cc58eec7bafb5e2184a126289f06a59471c40ee8ad1162fcf0c29518959a4160d1b0bac4ff9fb79301b6a41fd8208fdbd974e7ae958d61edffb84b99496587d82572ed964d7b14ed27dd93892be9bc669e013ad5393aa714085c56bb9fc96ae1b5334e6b78ca57f5147f87808e214f9ec797e80ee584b20605d19de7805177d52f8c256bb386143c2c4275f3ebcf2a4bedfcf18f4d43b1ee3fbfc5d73015cb94dd7c3ccb27f73308e669b2b107e0dcc5986a5cd3af6132dd9161609a6e82c64bfe9e188bae3c8c8782c403cfd88b53433b46cb4b141fdfd3af6947c657e2c0e35b079d2dffa8a2862d43018d09c1a0efde0a4bc591bf5867d8475ec08d7ee0280308694c7fea508a66e224075940fb4591e47e06829932b26da2269e4eb8509881ebeb7d2260ec84572f72b4452f675b5ddc1707fd8cdb71c31105ef8503423e547d1cfaacf8bd7380c2b142710c44dca55ad446d12409bbb0f72bf8d18d61874341a3e1496e553fa4b358dee4d3830c88a12d1a6ba87d26513987354b4173bcbcbeaa2649a58e21113da2a76cf5152bc110a7b8f8ba42e838d540335a52c4b26218e54b4f785a3409a01ef3ab09630bd7b8e3cd0228eb9cd90816bc28e38a2b66cac0926ba82a7f1e2f99f952150ca27614507f61a582e1f4525da8f6060f64eb38523b80589cff132919d1d67c0750f3cf730ab7a663ee4dad389e98b44614a2dbb3888210af3dbc42675833a4d75a1f84f33ba2fb65d6e6150a70afea201fa48dcbccdaf81e4e6551b84a5b7c9b283a7cb68a435bd1fa748d395dbd3ec3973aa326a356f94f603e6e9d735ca3afbb83e363e33ab174d1d9fe0de75d6444119691758e3c6012123bec1ae0fd110d3ed876ac384f77efbcab551e0a4db44b7804db079247f607b632408a43084addd1485060cc11c44964343538bceb2b1053a0d9c2a38ef95011a0595d95289b756862a1d6f4ada87653d451a8a452223aa4d47bae78c537404c6ed3e5990fd5f99934afc718d597d1312630cfa98c309828daef5a202fb2800075b430e893bb8f98c58ecffb7f089b7b6118c3469a920e3f293ceab121448d0ce534a93b8c29f64842ad97cd0b098523681edf66b5297c848d7dc86a7d3d262e5b502b2f8d345e104971960c013068d80daa0a4ff5635f119c1c252e69dd770595526994856e92f82ff7093664ad4a0fb27c340eff69f1076f2b6cf66ff82d2bd57da72a7cd493f4af1ef172089d372102b50dad5c8824c9cb10716c520c2d191b34bc75ec1b3788ce03a8a7b363c1acda0655223e3ace4364fb44003bad206344aff1005d36273e77cfd1382479188c8926b56230f0eaca4357d38e0bcb0e5f8c150aeb9ff1004f390628db5f28011bbd63c53c7a4828285bce4ef4b35272ec8f0b3ffdbbfbb939e83a169fb42f45d8a2b5ba4024c04db57f55c659ba6832633e299c533fb5d74840c542dacd2bbd75ad60978815242630e4fb1d22cff499390849174a468427ca01fb49a68f54b3715e1aaece44d3b452ded7beed39828102233bfc9b86d3358b895846ff32a2e8fdef57b5b35e32e33f10c1a61e2797a8fe5b758eb595c0101decdb28b18b3b18b7a1ba65fbc3d83e924d46a72878b85890215ec1f0aaaf3d957a26119b2e572b57164f3fbf99e51b462184449d7665c4b44c65ef318bc025c7a5cfae0751de8a3d6d791e3bcd366072bf4772bbb5dcf429b3f958da2c8eac9ffe6b2dedb530c4ff2bccf1fc1aee34516981b6237d7bdcc7b18ed86709c05e894f92b0a97795f14c84e6b8963d09483b8f79bf2196e4756e8aa97cd3b667134d066b5a7a4bf7dbd5ae685ca7cbbc36b0f7be089a9d820e8e4be75a7ce66ff2d0a118ac5c8c4e3ed9e830d47add0457dedbe208307bbf10f916762f4c553b5655a5e6ef30428a7d5c9f921afc6288c76ba7e09ee875656baec4f38d13591d4e3335ed0b4667fc18464dc5cd60a728177fb8a3c18c90cca19acabcbd7c7d074b1d534a8bc90eb5273971bb5cab8639edd963c0888a26932dfa7af8610c3afbd5f9ac4e24c721f6eac817faf31fc204f9d02e14fcb18c910b656c4065e73e08955629961e26af4026e2469a9184130942049599cbd87b04b9ab78d642f5584be483a687d9a1422986ef282cf7a8156b2e2a083205274f3d9b97cd06dd852a5eafd0615a88ce8e9fe4ecec4b6fd46949d599b9943a6449fc0300fde8cec013507977ad16b264808c94bf1af2a3e1870f7243282e47ea8e4c83ebc02dbb2a1e41d6346366ac503749eff9cebeb2cd34d7c872f2f03e4a1947a3638653b7868e7cb6959728a940a27426df4126df704bd11b978b5dbce4fdc322bbedc78e11363ed895fc93d2dffac6dc8e5835fd63616126af7d00ced184e31478bc4cdcb56b81fc8d11a0f02c5977bf098763a1bb07a2a4837fb74a2b25cef95aff9646313032539df458e31b1391b8ca8f59a30d31bbe4cd2a2c6e02de2e898e52f9842468e35a1dddafe7edfc78183efbbbfee505dd1c3d96d72a0a4b141716171b5770ec4928bb2bab4e1c1e79499f3963035246406223bb9bd70a15e8f74075a77c1d3ee22144713c09f3768f21a5eeeb893f5e81acbf6b2c2f32b4f3b64d6f2aff89eacb2c4a8d065f4a9f2b5843e2b65a3fda9046a61099230f6e7c526f15fe707ee4c4e583d4b6fae9e85c21ab67b4e080055d017b1244fcdf2f5e3408f124014edf10c9e5f0de8d83ca0a4c4a40125ec6cc928a3a850199d41866cfcad218ff93abfe0ffd14fcec658979ee10aec8add6b977a0438617fc4c4be51bbbc57f784add239dd8cbf0cbde734246d12ba0f365128ff7feedb8fe05c993cf50dac0e8f4823ee020932adfb579f0c94e0ca5103b19eb4d8fbdb6b4e591b9bb3b1db7db0593b53e4d18eec471e88055619d9a8bb5600bcab9a0c73a1cd5fff33a9b60741b61f7d617fba5de894354d6581b4579d4b98bf9d7483372dfebc0d15083c2d721a1ba649069b0a23f7b431262d05f715f057b4dddb5b95c002aec0e9c7133d936afdc778739f29fc1e75be3b442627985a20c88e86f387246d410e305b5be3f94fa4d365f534ff0e16fc12ff3936e98268fee4a8fa99959be8529bd24c12da5454239f4f1cc5e6b3e8015a69887be13ba47e64acf61c6ed1b3e4abe2cb7da6314769ba46b55a900ee5323b9c27ef8f0827d37b8f710b4ca2afde0f32977f07052db09044922c71b6d1ebb93794b7913f2558a07146c3d3b68ba65d1e7710acd7cf4bbeaf8545614aae9c6248f0973f7e67a8b717841f8f8ff73e9da348f7432a0a54601c024ac5a10b3ab19d6c53e187aedb78081c2ccf909a09f4f0c86d408cb945b0b9684c782825a99362b939ea187e32225fbf8481e9d578461b2c869953767fecaf8e76fc3d63161b3f0d2b9c48d130b066b79a7bb4e75659f9ce060bb614935f83fda0a9177167412777527c61e375ae528acee476ba871875b389aa925b00920bc9bb515b156aedbd1e3aa63c7078196e6c52f38fcd21178ef1ef1088da252b3b7ad8450073e656fb40855b21abe0468194a789e462e547117627f0a2ec78b63455ecca2af06dcbf2cebd25a17196c4075bfe0a32fa111652216e00be993605d14da4d2a64715b2d6c4c4b502a56bc3d580846c859e529158d3838d8e82007ae739719ddee70792107d8f8082b5be036d65258a3e59417d6240f8eebd5c9b205aa075d26906c8367e87877cd702625770ba4814d1b6f4971c2857c4f843842850e64c11e9cecd59d719e91f7ef1499857cc388ff99deeabfa7603722bc954b768916927e78904215acb851ccdd2accacc2934149269a4e079069765b0db45db478c27b71faad95a22a66669570e93b977220b56ad1a08d76e43428b4506ccc79c460c803529185b0f9e9c0b46b93716cc7be315e08783066111a9c981ab261c03bdbd7a36c84e9f42f9f5a8ad81846a405e33a543c46edf1a5b1245a937e0653cc80aa6182403342b92663791391c63a550e4e7310380260a91d53b5864a9b933991fb962a39cb5c2adf0e50c3478b093364ef8621fc61eafc6d5340dd38238311b99ea8195317544e5f54ac078b5874e0003561143a2f66987d961677efd14453237e964a7e88459b8c2daf9ee1e7e59735fdef6b837387864fd47d0a5153ee1e7f0302e93f11faaa5c4619a1a82d87123c02b76a903d238be09b875132f99621c0ef2408602f3c712fc4dd7d978a5c4b602dadc85f03d59e4a8886c1603a2bd0e3aead4d53a7835b7b34c82e6a61c4a66b6679d8953a63668ffae670d850700c9dcc1b2fc138315ddb75442aa554a2beb63a6ac7918da6987ff7489972052ae3f03f0de602f94547cbe885b61cc84a394b7feeab3bab337b2d0e310039828029b5481701ab287a764ecb651f58507202f6393b1bf9bd890d97723d6ad49b1e30a7b8a2eb1af05347ea6adcbf966396b588a2971d3fa0ed759ed8dae0c68a8fd47a38d89922439222cd8eb12e5a7a2c519b60b161bc5201fb2c95d2a47c38d29681775664a0dcf4291fa9d1a7b3199331ffb9c969ba403ece5c0bbe9a47c4e331c55c08bd83b339624f83494ef41a70fc850a372846b22cc4a5719781f2fa0e3c885e56795b5dfaa88ce64fd440e0cd3037e787d3984140872c0049cf21fa74550e7eba9cf44359e983cfb09fbbd0640c092bf309122decd5517a4263349955a8e12033d32cb368380da402c27872aadad0466c9c22ddc5238444fdc894a1f0888b8038f0537f617a16325f7204f76add1738d2cc6aba7b2be31d5628c4badf4f7726b9e65bff1186fe25f8f5c347b1b604081a6f11a1165547f60c72ae8dde0eeacb00fb0fb0b90e18f27d80625c0daa994d4345f051c08368f45faf3978e094a6c88a49c53365708a9e270de6deaa0a6ffe1f1541055f4dfc6247ebfd3b583a124ebf45d9c9689305ef2de728307fc3441ee5898e6059d6a76061935ca5515d095bcba9085b795fea6411051089c2af1e1c62ccd590bdbaf915799d7c29a810a28184b8a091d6774278ba17c6bf91970dc89f96ad31aa1493b2d2f30a0575db9bde07d528c0ce1ba0777ee2268588346ab9cf824b0c5643adbcb3635ec7bdb15f960731cadf45895a612554dd22df8ea675769e8e3d63e99ddd30b0c2b2afefc71c2ee9514bfef7898d46a6b6d254dede4ca33eb578f2985d8ae3e361b0bb6c05683be532c3aafeb9e3bd3cadcf9486599afe56bf3a9be4473f039b81e08bd2d8088a68587221c4abddad98bb2db00f1edb47bad19f730ff9a4c15aa999856eae608db32879404595adba5afce367cc4c37b69255cb591804e358e9fe1819c68cb216e62620c8ab94328260af4837f2122fd4b8155cc483b574af0c9ecaec01f3e7a38ed85d82b5cd75fc260df7c3ebb2afaad017a50f169acffdb5eed2522ca2888a249378523da7d099e09fb79bbbfbd3cfe3a0f5081b9ef770497e54272e8a634b1f07ddf75ac727982ef986ec1f7d2e47255be9bbd52dff6915e9851d1509ba31556561cead57a6e12aaec2f060d5384158e4f00943d1f1868db59bb3d8b5084ccb100506b11c8a4d3e7f856dd9dd15460d290da6dff0ff71388e674a048f9c67b4b25bfa0d033d2e30b70bd911011e192de051f05995252d49c3a1d62cd79b0ba1b73e779c0cc09dffca32e151ef3246af8a1cce6838046067b951fd1af58c82343597e18fd470c998bf897a29f0e066c7235932be72e70ff0de2fd2999954670f25d8103260680685df18822e0df350fb428c1adc76b09e37b25765e13ed3b42de5f6440c9d5c9803a4258e256bea02f9494a431c5b7ec3cde018460d7fa83fc825b0a6d9342a332048b7deb0529b9405a4d442c9c7e8a96bebe53eda95184833448b5c5a3fd20fd2d4c1659e3af17be2e6fa8c0007362c64f4b31b42372159bd2baad684bb9b097bc896f39f789fe659129a70563b30d25c3bbb4c18368b87bb1b072afc6791228218e0def4ea958ec953a3975d9bbcb263a968f39e49ad7ab13d622fe215b129cebc600762e33d5c61c2cdbc62253de6764f4878da7ce9cdf2cd406e2eef290ca19f7547bad0bf32927b1b521d7db500577d96f432c76868e825150176590701101bf55128f0a1fba01e6f7d394003ad14ca474a0e8ac21ad73a57c0adfff52f6918227553e6bb40c6a52fc3fb4beeb8a6ba233efc7ab4d9c13d695706427f99f16c60afaf9aa18bf995904cb219b687cfbfd600a128f97a16f212bbaec1370d8fd6b5f789552c063e42f47ce3ef07e9fb3025d62147177e0c7ae1b74449af8a0e7a34727e0eec020cad87c808b6e3d50602d019740007b66c961d0cc8bd4324c5d4415323d3ff5fd381b9b694b1cd9601a951dbf69709d95db9ceba9049a38d6c5bc4c217dbc8be03a6d70a2bd67e245d4bf30ca5574ea4a57fd11dcbb548d76ab5fa447f06fbef5849ddab09c725dfc96f938226c2c160e79bb2706836865e6cfe5245178411474891bc6e4cb530d73edfdbdd6562cd653731130ce182beb13278c5d65c977e199af848bc77a1da74b05acb33d92c09950617be890ae20df89e9e1a0350cfc62899b168dea90339cc8a297d62df133db5acd13ef21c3ec06917a8a3402fee3cefb4913ac02b69b7e9239de6cddb9cd0850cfd5c53a469dd73dc3d97378c6b0c7fd13aa4f29f17b113d1cd018e76b9a9348f690bee7d37a0828c1b89630817d2a9e11115982bcabef2e592939861d37c36873359882ac023303b8f8d382ed68b6547ebbed62035558a2d0075c5a4bc52cfe6776cb5ee361cc0640d3460cfdc2e292e4e91335a7d305f7aea48168c10afbafee09950018ae9395e91f50cfa012a5d51a2e050d3f278fae0974cc70cd06d10fd9e7e44fd7b4ae0532611273a86ffef4500e7588731dfe767d1f1337b09d9a149cc42c5d043e069bebe49d3c36ddf3b630c0f7d9e79ba9091efcdb7b0a1c8703c4e70c6714c2ea26343a25f761e1075a3ab18717dd8bd4a1d4fd8dc50e4abdbe0c2f845fe60a414bd254abf020843072a6d097280541c068b668737079a1487ec6ce252649e469470c87d93a055adaa1b480e31dd275929c49071e4f25dd471a7fdf05b6b4bb3bfea5b207affdd474010413d1ef3fbe8b049280bb70cb171773cf71d991e1d1c0ac2ee34e8a9663a8e616f31855c07b750bcf270b6c047720893a216d018a455baca0406ff2942f0edbf0d4bc34d720b010e29158e9c3f1184633b96779422ad27bd1019c2a01835a18811a0b210057bcad551bebbbd16325b98644da808149d236a717d5f9bce9063dd4b84a0e3d8903857ab940ae2d8bb5a26a5aba895b6d574d14ec5ae69fbd2257ff1a380cc631e86ef04b9d74787509a0e152f6d067a07f2791d35e9adbde24549477da6ea0d93020f56995c3491b92c46f93a3c1f26af7ebbd0e4b22b2f47a8b4655280b8cfd7930062070e77a4e06ce566732bd65de5401d7cc2ecb67ebc6c43a23e734c050f775d28b7b6ff6e45cb7f8144acf1e0da316b2d3568f50f83bd694655ba9f52cfd56a7349bc37a4b49c50d000656c93e5831a7820e3e87de24330b4e07f955efde891058afb3225671bbab51260bab656f9184a66c6bec253427635835af918aef33127b9d61790f9aa2c459e8a697bcc7ac95ef8b96de6a44827abec9be17d6dd14f2f9fb034f2ef0b7235d854ea12b8694be00f5b40c3dd0e864c15ac7312db9a1da4c8724f850cb11109e38304b6e44d4346025b1a8b3a9b2da2c5d472fbd7e230b3954841baacf5f9c59113d838bb2e9e96bb6847889719b480b914d4a7ea254285e9194509403472a4fa97d9178044f5ce233be37d71cd0fe36f0c9d2ada76c461774d450e27b48519bcc43bf869e765595a862093cacb32a558a827796d9be8317a891fd6ff8bdd41c195e3210919fa6faa06cfd129826e10fa8d736bdb9ab8c6016f93c47ac9138c467f95b014cbd8bcd6a7edd07a17a1d65e54041fadbb60b67a4d8efd895aee930c07298022083c755782a5c58de17e472b03a05064b044f3565eea99ff8e95b2d480ab0c6692ac75b74e11ab38c2c4853c06a4e6e919bf76f0d9d78b1d7409330e6d7b1b1d5b780508b7e52ead42c042fe7d6931d92a3b251db73a455c5b0346c827bab4d2c088501b363acb2a47ad89c58819016af362fd1c50c825ccea593a43f7e7047439a48c86a6e3c24df2088345c1e7d8ed2a914ba893b4692bc1cd37ca329bfbb9d77cf348903f70282a0af1cb896cae396f0729c5d6858486055b455eec77144359768106870da3ad76b0ab2b024090d57d4a615e28121a7302f99f839392fa6c23c2b56cc2da44b81e0a9ff39b41ee480cf27db5fc76bdba6aadf0676cc47e03ff462964fff870086e3afe4a55e6bde80fc444aad670fccebd3a8cb7e27df0483bc2be5907f2bd528044e025bfae3dee928fee77e4569bdfe9b62a7ea12e65496a74504e6e2a2e7b9945e511f54664a8049ee7693bc50e524e4a2bf38b75726dd442a49bf7929bfc0df82ce1a71b4ce58910f349fe7578763eecc491641d9bbe0da07bd5e057aed83de163a76536715037a75ef3d3ccb804108afb54780610d04ee4d26fd7aeb496b43f617bddbbb0a85c2054dce68dedcaa9c8f6d2cfce97453684c6460b0d43e5e66db07f0d9a9d7c8b286fe1b350a818b0b4b40f352070280ea8e791c043699305923150ee54b9fd1cc7659f37e27d337843660edda78afc5eddba73bacd522513e56038cb3971a1d269531afd841def7ad84ef82ceadbe6c8fc669d8bfc324f8d01bba4008fd541b898010c410d59daceb2a0680335418d1096776cb82022a72a2addbce8d0e739a6270bbbd110f0275a23af6dd942c25944f2c90a4549cb14aa8d95483d4e0bcbcca52161acc66a955d0b58d6ac4ce8f371709eb6ff0fc5e1b43da29d824a6a31381b443aa19fb96517abea93400133c3c95283cccf2cb4872b3435b2b888f52c0c331db6ab756599e3c5b34e665b9525cb5e30ffe47c963f27ca9fbc78f4c03fbf22379b14c82c14171f178c4df4dbf8db27894ee3d1b60041b2c36b187dc1740d3f168f43c859832fd1f3cee6b0cb296f47562663eae325c6af8a934bfd10017231773b8dc156aa29ff48c6f5533c2665fed4b878235d97c9105221a99ec5aa40e31b8cb4723653bbe62da97333e56bf7a5decd6af1788af7451e18226a8c9c010e0ed488b3b9d40f9ba40aa6ee0de49b3fd7139f14501b2a304dbbe51a1529600579d0cc461a812bc9b68fef8ba4184c28fbc9de2f577ef61900894596566b82837e17e255d84d21d192cfb200391597facded35450fc157734f8a50c85d3e94da941cd763b1816a624b1fcb35de6df6d9d79382448163da751421d5f71a3468b04c749764c7d4e6e725341ac5ec8d7758411d69394ab449aff","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a85d36ecf983a5317ba53f3400e02195"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
