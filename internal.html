<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a1f234525b0d926e8a60364203785040b46e7a2fa1c1e675c1a09c0e43e00cdc58dff2d5c4d54859082fe283d252249517aa92b3d7c96adb0023a5d7fc2f4abb98066c9851efd09f0b0a5538ec7c366101f8c4f6edbd8756ff275a33f30e5986ab7acecec7739661ce7b93ddf080ff04125873e3a8b4bc4ce6e4ea38a35b713b97edde0d27bcebbc405a8f88554fd9dc55dd43d738f1c426a2c184fbf80ced5840e2ca6e9477a32e4e0e72d8194ce5ae586f598be56f92a75c7941fd4e235502ed1da4d0adfd7f61f169793436a8cf0b194b8dbc3ca1e78c236782cb4fcc18ce2b9ca53064522c82a98d084b8479a7619fc22a110e95d817251979f646d8110d7e25782b49f2a686c8c4bdebb90732ecb697e0b2890acae65d7bdf556356079c5e5cffa4f1a536c599a40aeca029930537f2f3de5a2bd872ed4974a8b5624101dcf462569d7768ec3d75ae74176b22033279f99316f327a14691af02e87cf17cf58917800290d5e577870bcf88c0a3736738a66a3ad48b92a0ccd9eaa53b775555e3f5eeb7ce42387946e628baeba6fd9d516e5134550d02a2bb2ba69c9786143d07985a3d4654f6dac760f92a89ff415de6bdb709fa9796b3b6fdd395adc3f09e971f4bf1c56f4b70ccbdd683b9ebc4a2fcdac52aa26163ef19b26f342ffac4106aba2bf84d74e0705c8982fc162fd09e4922f87502c96651c1236e0a78eb5d497e2ed07b7fe1f6ebee1706688d8ef9d9551cdd7a3858e39b48ad17c0596d76d9c5c8d4bd77aff1a6f8f8242fae1d41a1e46ff86109f6e30bcd626b8e3fdbfc6e426e2dc146d69607995541a402837b1997f4eee2bd321b644f9af1bddd70b857c155b3755f190c956a565683484cd7d2d9453c4c0c910c48c5cdf6f43753f5c623e84eeaf112911be0658f5f87ae68bb3e0d42f253445aff117bdd8b128fc51f94420425593525e2c3a99fff006651385b080019d09f5778bbec7646d57361d6053ca95d2fc9f0f6554c532eacc791e37440efc18c152b928c39b9db4852052c307af84c6d0b8d741b33f32cbdfbc438bd9bc231cc2a5ec3b2bbf7b58daf125802c270b4cca93201dc837462c765ae2d68b51e2c432cef10e067ad4e319a642c84dbb17021f62314057733cab458f52dcf763be48ebe00a231dd0735cf7bd1ddfa88a6409afe730646afa8e952db37b889a3da7962044b1addb729daeded907a062ac7bad52e0c0e58a136bf65f661b777e7dfa5a2ee920d014dd3887f7befebe6ea51084c5ce5503d070efc06b02bcd40848b758ee9b248cd05a5a3c06d7883984cd771bfb0a120324d08981452c9bb40f195452d7e11103f4c3b24c5b0c42b7bef800dec6f3e668498d880e870fae6aa35a5118074023607065ce890705ca616612e34782871733d9e7f347c3c53aec83760bb6db8ccb248fd90044d59bed629b786bf1b0718a6e6b3ccc49301dd6210dfb5f83dade3d8b42683cbbfb9e8fe019e31198300f54950ea3d784e884d8f5bd87addc8d626bb07939e91c72fd09d323a9203483216a227a2ed1c4f907a0296c56a8bd71b7fbab4e1e866be8c8eb0f3ee004f0dda46670470abf7d2e5fcd98d14f045be09203263aa428218ac1546cc595e5892d7d827caf3d2da7a11cb215c690f01e623e19642ede6b2333ea5a79713b2efa405a09505115fa9118b894a5edfaca3708605fb507d5ef96c84dbd1237525ddda5d6d7f7cd2dcf9de62bd0aa35b6ea4a4c4d1e7e503e029d1a06ce0200940b45a6e9522866a3f6539a9c2747a3ef9b06474ba089d708d95028a85778763ba8ba5350a2b33cf04be1335beb7f7fe2344d94ea2fdcdad470a9e765e1be2af949a2865f4d4130556b6135962347f6805b2df2938b10d4c2355ff477c4db814e9c643dc22ba9ea8aebb440999858c3fefa55146ca81ee108248d14db449d6ea7cf57184d08bf3c799fb0c10bdcaf5e65e40c58fbdab69b880a436858dc9ae26122dec7383767b1a0c118d10ebf3cac69bc0e43a4274cdc3c290320d4df3ff56ea1808ab46f120d0d360a31efc14a8e7b09e5716d8e5a3b02688e196d01844ad74ea2fa7de548e059bd52a92fcffdce3f394408febeb4b48941f0210f407ad6fe972ef7be1d531275b9f73cff879dbdb196302da50d0d286928fae36b7979b2907a1e16f7aadbfbc7e448e401f975375017a7c6dd4428c0ee58ccf0c17af853fb7defb2eb96846fb1e26488fa9ee096db5d1df7db17aa7e32de2d7c8ebe7112822537e5afc07e1c0692f71f0b14f66ad9ce30fc6f95be0ef80423c35c3852cca2e3f99b9df1d51c5080509ddced0fdb02432a1d2a054470f94b3c8803af28fb363e99d6cbd56e3bf9313ffbf4f5daa13086867940bc52b20467985755d184dc8e87e6b1dd9cea10db5419386fccd5313e55105bf74c4aba09d1b2b8c3179cbc158da7b0656c60a766ed69746ff4e5605a89dcc6a126844a4d73b2b3666df02f02d1af5c5dadda30535bf55150f9162f75d97b652e8c5b70d4f7964e51373402b8606094501bba4f9ed3de01b74b783bac90add851997d2bf8f1ca2f54e8a3f4e9475112d7e342b423f7594df0cc51ab3242070a940d12bedebe3443b403ce8173bc225bee0507dd88dab9ac2639e9be35bccbde82398145bba149ba7c708f1755a6553de7313ebe2d6c0461c7e5c23bab87a97b115838321ab39ee9c2cf9a9a595a05d96c34d09f48f5c444435750fb98b8c0964ce874e2129db4d235f996983c5aee171736647294460e34fea5ec2e6c736c267e91b5105e965d6dd205bbf62847436ea91baa2f8d10a60c15e37e70fc7fda7814499cc97d8d40e215a5ba1c89e8bc7bf86b65514d556c8b753fc028748b8cc6364c24ee79efdfbcadb8acd41b671179a4dae61e179f12c2e822d84f65beb9c4cce78a650650539ff8551166975f96dc3dae42314265f92ae50248f0ea537a04197b8d7ac53abcc41cfbdc8af47e389c4b9193efbd1111b63073d269ba7ff56d2e27d51c618a84dd236a93ecd923895e4e71b3631a0bb55f61f8d28b64263f460458044c731d8b1ca2ba30adc47096389dd6d93ce43b0609a8a72017033acb42eaf281aab273e5b3052d80091411866db5a7412bbe15b4c5f03d30ea9c97b5fbf342f7fde453ef17a38a560630db1f6718640f2f7fb627d9e723de95b704e42468dc935526e784720cb314a7332b8caa121d3479039eb6bed8de1d636597c872d96f0c2b11b984c112c1ce8d5e0d7b64a5db229fbb93de804b83f2f92ed3820d37fce3acb7da9785505d256d68efbccd877483e0881cf33e56abbd75ac09d2028b30dfec7c29792e24576663377ef5ed6390464671d8b2aeea18fc0259601fdb950de325e90d6f9aa28833ac0f92afa24a2a71b6b05b479ff3cecdc68206a917e80fcf1959dd477ebc5c329442eecfd004a8d1f703ad258c77717ca298aad46ab9955a6782c2f9a3dc83c0526a71fdfc2f79b54fd969c6d770097e035e13a3aeeb43ca2fb36938aba15ca4519d0d309e33bea74ff7f58ec4580bf7058025fb004c8cd34658c0a7316e7bfc11408af7293471cc47a68fb0a6ca0b9470d26cebf13e781257caa15b11e99fc2c65482fcbbc3054fb81135847004b65bada4008a1cc8c3b052141a3326c680c8a6de503344ef2556da966a32c124662242d515cc3283dd968b1a595ae097914c3bcdff0374889e2027db1a0bd1b59badc8340e0b46d25bd00f37d7e74e2499816a128d5684353cb3c460013ee5eeefe5969d2d2e6e634678aded5d81a08c02958e86ab6e4584c1683d9f397302c8e9eb14778fa8b0d91af18d1f446fe29e8154af98ff8d1980d3f067ed627587c29d566221e132a8c77f5d7079a0417672cc3de1fd26673f13186f3a4362c51d6312f1f60d4bbabb91b95cbb494df8d6074bc8da9888707a88ccffe89c30547edf82a6013d0e8948f7501a8bab51f26f91b1131f606504278fd5670ae2dcf3dc009f34e6c82838c77ddbe1327196ed64468c570359974341a8e73595f8b00cadb84077a44379e3bf2ffa15b72940c2770b250c65d360eb2c41366d4092189f3e091e2a1c0be0cd62f1a73dfd15c4b07680daff69506d0e50d35e781ac70e2a5ad1ac7eb3938fa35414b8d00202d43937c5758e8322f4ee06c374b8dc8275c0689fc8ff5151016e9be9ee33465db980168e14b70aaeb84bf79b9cde2b8f19be818e5a15faba55ff7cf68598f8c345004107c88edeabfb59d02944fa9e9da9864c9e93075330bc2de72cb527ec731e0f8e20b6dc606c81c2c89919945ccd1551108d7ad953c93c2f900721447c39d31c1cd25c148f676d35db97a7234dc862511ad461e9a561aa123314a494ff190ff369f7f8eb780a1deebfef6afc94a9e0948cbe0cd9a855915f9854a18fa5fe57a76e544fdbbdf7f12169d604595ed37c259355056bedfadfa6dd0a325dd96f7b07932c2892c6fcbe6b2d0ddeee13f39f74bbbfe5c107534e6e91b836da7fa2975e67b1c793714bfb16c72291c5b5d3249df871a7c4dfb02d5c93a47535fefb21faeb7a8eeaeed8f8ed4f3cd433b157a599df52167e6e9224faaf7e3db3f0fc81f8e16b55d9f4f8f3b84f00adc5bed547c6bffbb64074c1bb842b62beb53382b33cdcefb0e2ca7f86f5360167df7ff35782795f5cfc817ee67aedac9517b3c4435a30cf4f2ee9a0802447871cc27e4988b09800a92070e2609619effddc7a50675110b330bcfd7ddd76a41828acdcded3f094ca98e74b8e25f4b05684b56df001525010afab5fba021dc2b484bf65ae8dcb2b9b68e9836b7238f53c304b4760577fb859294f47c02df3d3f97444526b7e55eafd3ccca5a6094c3baf21d1de6c186bc03facd05f177b5b65f82f5d7478b4fc3fc6a7b14410ba4a44915990bb5a6efa80b015d6064269ac73906ba09885b4534cedd50da30705eca3b2f5d842e0d0b8453fc6a3ff794b5a69cf50d2f2e9b256ebda4c7ea5151da390cfb9fec74aa3ce2f56aece71f903faa3939bc6197f039d31634ef74637c22cfacdad1431e72cb4137a18236c6d75cbea4d0a877e03a1a05ad575971747d6e1b4b46f2427e9db35da52a312d3cbb04a3678895d771d288e439885ee5f35b816fa32843e823e25e43dd579e2715b7cfe1f5e5853c05b4535d4b2520f3151ab960f70cab9f455a231648ddbe3b8fe4739e74b10214c174cad0b1c29bccfe6b52d8406d940fe8cf83aaa9fd0cf6f46efe8ac9f04ac9fd144262e020db2423f2430438c4f5447d24554bf3950a262751e79ea93cc617713438b26c014b947bf07699862e2c0e5dc429c7432b65bf9aab53074c43795b5b056c8c72a7b2cb0de7e9b2856ab38f283b6d028b6d8b8b387ac3ee074952f5ca72dec6b922e64d41b1b09b7144a7f2ea0493210cce74e8665748f68affe53353050db3bb5f419c8246c2c8532332b0a6f690cf2d7e244098471c8e8e01987058085c353ea82c948a399132fc1cb080b892ed58c9139fc06d169c1eaf30a12148018a60a3739f285ff481a176f21a057495ee33fc6d88e330a649b5d5647b2183212989dd1367a9c7831313d5f5fdb81c2ad481c3c2b265c50738f154fe1b66e372a13e00e01848eaf4c64485f569d0bc2c6bd29c882398fa033f4982ea7aa7a35526d9f606f6a17270d6f5bb64bead55037c57616c4239455a1ccd7658a507d3069779ec3fd79a3d780b8f50046b81bd9cf0fab2fe78c3969ddcf17c67ce942a1949d562a09a72b5f9c4abc6fe11fe221aa8583111bee7cec7a3e76f1ca7164040c88023a1bc4477d46c00d1c013e9c07c4139ada4f0a71a5104d39813d42072a869a6590ff733528a6ac9b14601cd2229267ec62a8edebae4f3d7d21665be182fd58d85fab368bd7802227303ebeb458ccb7b32948873f5b48578216f4b48dc31d966041acbba4736eaed6e3fb2a58b62c1b050ac860dcaae410ce14be2d1f9e79c79fef1650c80ec07d08d68ff698b5d21a4214c5befe21d8af1516fdc51136435446004e2dc422629e4b42072e1b3a9a5ed70c7b813a2c9a8694ffbc3691a6fb792bf85880af7d11bc67e5c66545c7d019198b04ef0e05ce01df4c4b59e9c95807acd12cfe6f57bb67feee6b85455bf52c2c8f3cf18c4c921ae258d9715970384126d8da172f7eca1c34d8792173a62c66fee367a5dbbfdf529c9f0510f4bf6d772f262d56e97c7ab51251d36b4f06797848b0c97665758194e3d56ad1d67223c7b12e8ab9d7192febcc5daa7441e27b9fba17fd502747640c599e1291565706cbd707c4dfcb4b648e8a16a8896a8cd13b3a18351d5a3f3df82fb45209519aeec49fd272faacdc84fce58931db708c42b9a3e3b05f6f88337766d150315d395617dcb5bb42cbd4ac861642279b67a19689b239dedeaf5361d87861c54f3a164067c305c71480018f4cdfc27a508ebab65bc071031775658b3a2d912c0c17700cf0b2e1e19ee75ef5541ccd7c027a115a8a5cc5c60f455b3c6d5a2d9e1e6ca2b7d70d19b57ab39b1ac7342de4fae17c5bb832e9bc9deb43d36d487d5592bb1e6eb65cf46adda7e5af10fb5b2caf1a0bee4aabdd057bd8876b12f9954508dc56fbd0c92a126b8f665a0506e945c2d3d34901bbf9d9ab7267fb286df99213041fd5fe2ffb6b02826401569a14d15806b52db26a930cb919716dbd072ce5a3c029cdc85c758e41bbd9d5e95748795210b9b5755d0fcffd033f51d9d0ee7660ee5e5881ae33b91ede789407cd3c8d40934ea949a3ca3fa189d4126f6487893d287a165611bc525d7ea2970475ff4d3c457686430a5862c94cd3efd3aa3812ae9655fedc317b39b365f773421762702bbc2925b1b9b174b695040fabe4a52b648fb30c94788e741f51c8b23c8d7aabaee2a42934e1f1c4ba7498fe8c0231162d283717284fc27b530e06884b17abaf13e8c082dc6f3b6055c1e61ece0a22de6b8161198402bcc48c472c3483f9225c1723228d0507e8e08df46f2c16fdeaec128a38053899c5f9a3d53186b1db3834764158ba7645b6fe65b7df1d3bce3c0cc5a37236116222aa7c38bd4655f572d88b7b5506e8e109e15acbfffe1372b1f477c3aa52b107a7d148fabb1d736bc595a491a50897e10c0f58cf3b6328ae325f15d093dde59796345cf49cce58d5167e9afcaa62a5ce89e38e0ac1b22211def7ebfa3a8bb10046cf266db7ec852a6f35812377d00768b4d3b369bc286aa3f7d19ee87b22cadf9e87b30a580903ec70a4030bffbb1a0adb935179c814096bf71d0604cb49f14ab4bee9915b7d1a18a012b4569e459cf36982ff1c0c379b563fb4b426d67f36f2978cf1d3a0c0e220d91ab18291b23963102dbaa4f5a3c0515dc9590681a9fd634fb4040dc1def42ffeb2adb83bf0c1f178861376641ca4ab60afc9a160f0deed61dfd7773643b7cf06a5189549354a61eda4d93a61c25caa8a86cf7d4839de3e3c934baa8c7dcf822a75edcae3626100cf791f519c17f22751c6026fbace69a7ff14406a3eda5a5810f02d433c4e14175d09b097afdc0914d6f97f20457f70707b6eb3deed2ef450ffb37584ec4cb4c44022272a529b5bd2f830963c5a1f345a39efbb7e70dc8c42d831a1acec8606c6b9a1c7bb22e479592a8088e21c066c76f40a4c91626d87e690b68ba26e76c3f89ece8b26b6db0f2796b5c514c98001611bf2e94e5919f207b7a2fb570620108be890b87ee4d608ed7361831e227c9907a141e64a436e415b86122d5e4fcc5255f3b1190eddba3a741b5122c597f17a496565c86c0953c49852caa5e236cabacfdcd9fbfe21b03311cc610cd06fedbfbda3b3e5d520f6047e54b7e073cf3b25cae79af5c242411787191cc16e25fb8a0443dccfa6923687831d9bf7360660042b008e95ad721cb9cbbb5b7ac0794e46a394807d32eac7e4ac8dac2575a559c5c83977455901b53c519addecccdb0353536a1d08be15b639aa704ad09c3bae0515f4563075557df1892262a829982873edc0daeda9754bb02d306b91919a69bc6cd05fac327979e6de155afa6b964c15265f117e14e06c6c96edd0e7977942c378331976871da6847494125342f7ca4f13e9a861687f2af8f31baa4f078357a3fc036d7efbcf9851116515c10f4047d63984cffb46b6c470a45dd03bcd74a3c1fbfea0104456df3c817668a90a9c5a03cfe78d05c0465d0302b411bb7d486b84c4ab44b225bf5e5c79558e15d51388099f69c0ed6cb587a79a7074eaa357be2db30800debe497c0aa49a0ebe0bcdcd04de78b6acf05fa70cd262ca1ed8e9924dd0680f2473554da33e22676173e89c63cb2e5cb56c406b33060f7d63d431efbefe93c53110b627f47629fda8541a414a4ed23c91a6a26ba87afd9fdf8b618558b5503a1ad92b236532e1bb1ef5684cd0dc57c53606a5b586b4a33ffe119d60de8221f720851268c789332c65c7755324bd1877f0de4c350bad1bef95c76837bd0f50b0d000302d36672c521dde04ba5600c3f947783e8db098f0b399c74f29e094656f643d659b787023bed32e2341e95e035b36c1be6fa48077fa388375f4e0d56578242bbe3a75071a311870eb5f7185f324878b6c3f6bd7e4984315fb3afb11ad73371ea2a7435e14c9cf97f71d46615ef825496cb620f0f3453c67bb00cbd759de5e906404f8b7e1d288e75ab0b87c1beee94c41f8d2671d6dfc8dc7eda238b9a55b8168574613738cea80d374af590565ab72f7202a30e67888912780c5f827d51c204d3ce5515b4d0987f31642c57255ba4a7de5ea99d1f2c3bc325537d130f4baa5056321f02b904c825f7e2180e0e1bb8a7d81ae5881fc7bbdfdd41fdb8d63df83b96558541273531b4cc1dffc324f693ca0f5d4670d2d6fdefe9a4420b31b174b89c3bfbced26a97338a4ad88e36b92e1658911621389d20a673e0fbc432b9e766d7fba75d173326ec8b9e3666f82806f411656ab50d51bcd76f31f8b9b7f4971854d5796b07f336104091acd3eb290c338704e812d738b44fea1bc3255b2f870403f6fc84e7e07db4a0792acee6cbc525710cf78db294a8d5e543104a9a3c53f317c8e97d6a852cad3af2e9903ecd7490f464d97db9c59f6708a8b20e761e61f79228ee3d3388edb191cf32bbd061409c439a93cb2265cadb2067bb262fda2573a222be34680643f65f87f3a0cd95cd7ff55194d9919964a0ea6b1c17ca0ed3d6a302a8aa8d9f11223489b1245cd6a8818072f5cb627e6ae813d2b0590d30f26ec5732da0f8833b7ad9d94e35864a82bfefba3d9d945532a0ca3d33ec7f9dcb6dc4ba4b8c01172fa9a2e6038d84c3dbdc4cd34efe550736db7cae4904c57791b4e48fde5b6a7d0fd9d76a6356224c63bea823e68560cd0aac4de57e0d93fdddc5c4ea586d1965d88de7ef63d127d14bd6a8b6cf341ef6f96f3aa5fe381c8ba5aa57696a773cefbe88032e588e8aff8b4bfd1a8077c74f6d8083f92eaab0fb74889471de0a180513140051a9a5037ff2d82d1658a913c4412b6f1542124cf5f85885608b3fe11707f5e1b8c1cac1b51a4f0d7d1373b43ba16b67cfa7b41fcda9e95ae5cbd540796a1d3b7150c18e5ee18bc45f06aa07aa54d6f1ddfca6d80ccdea5591bb1038df6c75fdb2d087bcc645fb6995a85a370ec58f7a9c6308120f70ec91db4959075d27287b74411119cc0ad1842b9b6f9f23753c2319807e2bb0cb961151f27db9f44e674b923729d9328c402edc61381c76145217540cd2d8f070f666ef5d10e4dd1874bb0dc06b93ce4a1fb1663bad5a16d303268e80975905a6089d8db71a860c27707394a75de03043ebfb23cdd7fd3bf3761f593acf97c5fe073196df0d455fa3336d91415e46d21964811b27090fc66ed29721d317aae8a909dc78e042ca4c9035382c9137e45a3fe87ca9d1f4f829fb6252d6d621ee4cfaf0b4e8a86fee7c43ad0cafc51ea450a8288e85702a43c0d4efc78eb3fc1f06192ad1d82983d4b1a020fcf501808c86e3c0c7a8f162d10df8826bb741b43ced0382c0cae6b91a47e88d957d8497f2756337f68ea412982d0740724cc21c3213508be4cf21f42690a48e453f5becd0e8af9ba209f2e3b1573adb25383bfc7c056e30e5f3ec8b880539e317bd29b7f1679445f8eb1ae02d3bd6b488f0d8eda48763cd60c0c6ebf6d3d00411474215dbcbbc3c3d5dce3659dadc32a2bb857c2307162531f8a21a00a0cf2021fec2621d0204ab94448eefe2c18cfe95505e031f236aa78c9e2b3de491b7d2839e326350ba495af9f7283e757f9d44b0f1e745bc2ba736f8644358c08879e9e5deb71d27668a51cf866b0f7d211646f9a688a5c22e0e09ee54b892835ed5dcfe85280ef648cc7b68e3875da8cfb31611f2eb1aeb84c6e1d27970695c6fc84e6a733462e65bfabc3c75d0594d835d89925981a46d79bafcaf9ef6bd4684282899d405e503a6599586ef1dbe1af569c13bdf43b2b4fd2fe6058e5e6f72e00f73409faeca7e349745dfe90bcc31b5006b6d6e63a74e12d0190404e19bd0c0c2c9b4654c17c19981a97f7551b4444fef8d6f62be42a058184f245c24d6a111259d7f9647f089e6318d114b64c4513459813c9735e6685d404bf830b7177a80d6172909cd30b75b46807657453e4caaba9d66df964a93990925adfbdf94ab1f61a40774901f5ca861063c3186030b5284d381f35d5b443886ca3d5e03bd47a323be90949c04fff6eb88d852f68047a476f736a4a352bd50e174278ac43a3d4111a4cd1f1304d67a5958f2a30dfe6fe6f71a51695610fb2658d7822f8cf91a103622692fd2641ba51b25b909f9a724840e1c5f49a359168204acd42c783740cbd67020e4dc54e2f59a8b1e8819c4f46cbabeb6e02350b14a91a032275b0bf5beff6074b0a5770ddf1ce609fa1e240cea84f3a838ffc5ead6b2d710c4b3f8d6c891581db39caf910bfed76a2af1be323255c60e12250ba1329bb7a5e7933fccfcc2f06bdc7d1f685d493afad0efe57f9bf8f7edd3db16d72f94c6856dbdd794a3a943f8ab854de6122597bfbf46c949ba9e1303fac9cc76c2ed02354843d483dd04e081ff664bd3ea44a2084fadbaefffa9e1c5319aec0c21168655f12f242d8779cda665468db7547e164af620b43d7af6c3a9e058d2730425153c2b29603d15a1f7950bf153d68bfb98384f3b8a06b4b69b205c3f0bc28fc2b9a0cef6e1f58835266a732a85e6a1f63686c44754c0259dff83c26b59043d0bc055c5194e6b8828d32bd438d1e1694b9bd5e28fbbce12516843acd04388e20fb6138798cafe145ac16c5673ded5bb87cb561608272d67db754a0c37af5ee2a9a57c50ea5446803199eff31bf727692851f32797e55c259b019fe261aa8b3d74c50b8f5d1d804945325a4df74e3d37a3f08e59def02d8122f20ecbcf8e2092a9eb5f61e584054636179127e26f65f6b73bec82cc34c02f7d99ded95e1ac47d147791bec0b6a6046349abf19161203dc01519416a94b6fea9251aa61bcfb9459c4e4276ea228adfd69104a15a131f9da73f9fe24a5260c35a5c7ec4360677407fe7cbe0cca60053af3c61e390e2b48ddfee73aa31dbb2107b2dc98a18848ee412828663865e74d4c2e0bd28bac1a14b9b7ce818c30c9847ef483380e841039442b28c9aece5e082bd90dd1f8f7d95479529adc6dc9ef5e6b3ca4b9f6ee04ec23c7268b14186f2689fc4b9a9e8b44ea2d7679a9010130d67de55835b9e77e8416223656f2730ab7bfd491af0d77ea5f6d45f83c963d41ef13ebe42d6b554f28222988dfcaed042e89dce782bba523093f13a79e3ec9ad0efaab20a75490d05b3d44b3e4432da2d70e314724c7b1f498e447936d729d3ae4f0ef5f2338dda183e00ecb2cf90a25645f430067dff43afde41dea650c3995f200524194bb4e9dd1b0a7877da4372bf484a465ab22d2495e2caab2ef685cf57cc6cd22a3ec298bebc6847f2fdf7eb7d3454f849876dc71f6a43884a8b05c382a4e675e89ed4ad7ca08113baedec2367c02492b6a7efafc19db49af4e665d70758add8cb0c4b09d08c21b15921d36e2e88cec644937c4c8ab7f4739b792badc42c89beae240856be0d4b955b6254e20f09c92f48b6310e59afec65d7016e7e869b9eaf3faa58b125f5581af661ab65092b68a28b00bd63a90a2cf1740bd1a2b336c2ff4682b454c799c0a405701d2bf161fed4eb447a25534e734ee767509ae228ffeabc2c29865034d53903d5c9d161ff9d062aa4983df5bb58f056f824cef9b570005bc8cabadd39a8b1d52b483caecc772e83e68d9884c2639d8c583ad6b5050390b2e87304ba86fdfe293ba52d2caed87be6115e87a792b8e040b78491043f401aba42e30aecface011054ce75b708fb5a61590a5656ebcc337e1abbb351426fc98d190282b06291ec296ffa9dcbe691163b7f2dae56fb17753b6cb76e51c58ad2cf519340ee2dc5e0c2cd4724a34300b50ce7a6aa6e8542499ed9761b709e7a811fa2fcd1bf0c6daec166e9c37acf904f33c1cf111923cdbfb12bad3c8cb4a5fe83428c9488e607b385c021c2870656bfb219e339c1dff8dfaa120f3f0dda19469f9bf35ea626be6c197e5f846a382f50a032fff9121795237bcbbadfde673dbfeb881c9f203f2c6d2d2cc3f2b90c4591444da99f3fd9bef39636c495e7a2072d88b0d06866c1ba3b63bcd5b1bf0aaf7a07e505a0e3f119c7ccaa55da96e3ed5ed732c1c751ee5011757a9e142fcdabcae661a5d4142f900b3da63bdebd1a26da93f6d26298fd6548318479522e16ae544190bfb85ec2a26179bd5018dcb00d76b75bfaf4ac7e79a880f0aa020caf0dcf965804eec8539ce52d845dc8516838cf8d6c6daa182e8d00fc01210c7c493cb13f531a2f5cf35d61bf088202a492271779305b8d984fd20c22094871bd398b7afe66422eaaafc6d61420f0386bc1908f6dfbf7c0b3cc940944270fc7bacc770eb658c2d04d1d30c6cb67ad9a3bcb8bf4ea348546c4a3f79cafb0ea14f0d59814e3a156c39e2ecc8732c66aeab5ad46147ca7f69956dfcd59ba506a8fb87e2a97fc6b8904c5548a16f8c955aa37a5dda9c89f706e612c80c5aa96683441114aa81958af784407efe186d0bcc2aca874ebd50eed4e1a0265a1325b471b3b86c356fe2e7134c474d4c480e21d5d3d82e573b4732e846f575bf34fdf20e58aa90a5e667fdad59b6b07c2cc5b231dfda7ebb0fcec5dac41f54e2cb9957738110ede10604336eee8d785d848d63d782c441cd32e35a48a46ca0504829a982bb05f1bbd7da25c2739f5560f7e24cb93b025bbe8f1ac959a596cec8f98d0d82498a57d6a7742dd63cf96bb6aff0c8562577418280e1a06c1e05d873749b8514d3ef7e6cb65d111a974208636eaf6d26b16b3779d208d74e39fc28004ef4e4708f155747ce462c0e3aa4c5e71899d0a4e284298d3305e3fbde9e18aad0a1932487f5c29fc3d41ff9ce0d6db9b0346c7bfe10f7d385a6073d9d84dbfeeea1a461adc68100775a3776ac29b38bdc337683210c178721eeb52015162f1b93be31659efc04aa47fe37e6d748f6b6842bc99cc83618320969a1142cb01afdc58a9f0cc6ff574ac5f2837e698a996c484f7b6bc6a6e9176c81e7a8c1144f01df72bb09ef431f1c20d7bb66b8f2a9d4a8ea918516e6ee93556433fbad810b0a9588152d84974ce3d981f82432d9a3b4327bdc49aff314e08977299480719bb486dd67a743f6800725d22b33fcd7523efadb1f501fc8515d7a3d41dde930f6e714a84550f0f0a0db0bcc075fae3671de040e8f271f005dbb2927f758c318584e950df90689212b9e7f91e2d86643b337d48a832591bccdf46ce2ae4b7abb3cb4743756ae213886a2ea33455b2743addb8072ba0b7f9b5091126c73cb8c088f69c5d288e2ff2a2f9d386d92d77fecb52128aeb6b6c5e9fa405dac9ca9b2bcaf2584ca8f9ff51090fb37e78e29c11a3e258984e13ec57149e0e2ce4ca81d5dbfb5ce79c722fd66545d8d7abd13a24cba15a9f10e8c45560020b7a547d8229210c8cbb15ee64f3f22bf5b041d205408925a38867358c203cfb4c7da5952b65adb8f819dd5d001e11f70480e5c89cb386838a625f703c6d12b4a6bce1f62432abaf699767bf3d478ef774b76abd7fd851a5cf22ba0080cfe4be629a195eda44d61563369b777fc58d7845aecfef8303b53a7e0fbdc9805c8419f775f9b418d3aa911915ece9822db1b4936b2390b7cc006af910b32612352a5af3bf367ad92c650fabc19c88aeaba08e37a660923b4012f9b37662f7eee045d7b961af8b4974fce3b4cb2990471c1d4345610d340923b5879d5edf87f024bd36f76e8fe7141137fbc0dd5978e3f81d250a5adaf428171fe7bf2cccefa80f0abea9552eb6bfa2cc255f3a162da32463079735748aa02a1b443f5a540de30db6da71306daed960c5f936b03463f177267412955e59338afbfa6afa7cd76f441402a0fc198fde1414803f73618d52c975b297a08403466177b62930830dffd7700371042e26e5dc8b648a23130aa26986c14713957cc4546ecfcbe988f6a9aa63c2e53f930051e9a3c9e063d3848972a6628a140157167f9e8795e2c8cfc8537f11dc78078b21940cd7d1d54c8f86c209e6f951098ee8cbf526e2b515134decd3d63ea5812c1e535d608ad2bd761e6eaccc8430abd30acc88b343b11e8b355528322c8779bec9b3ca81a1f79d9add5cd9e92da4076bb8ed98e442f0e3d4642a8f498d0e8dcecd76c41b654ff0fd53db31d3bd288e774ea0b819df71e82fbfb824a99c462e3ebb27857abc949a7554a2125f0f9adc0f6d01bb926f7e20025e65a46d52c82ea662ff2066d35de57989db1281119a99fe8f95527fb85618acc33d767ca47f6a748fafaa663fc9db251991ebb9158c87d02f738b732cea8c64e7e08f5ff14992639ce3289f7c6f22716291abd1af77e19b2ef30642162cbdb890ea701800ada248c603525ccc6d7fa84bf074465243ff9914a0278b28a38e6bfec71d73c11310e0a9f568f04d62b96cacf4f4688f9cd5ccdd2b91d719fb2b1f53dc10408a52582fa910c3b355c434d57a172ec7a67c48c0b09d4897c28a7dbbe86016e0742fd68c9dd6132c2a7cfabaa391ca0202cba1bf4f79d8531395b8213f2584502031fc813d5fbaf83db62e022683745c132b22885da46e437fc269905ab4457d8481fa51971e836d8414bb04304ed67f1c4d0b5fb18c986efc0b21076c2b49113daeba04f662af471797ba5384186cb2cd6116ae036f402b77636eced35a9c3658425acaa84e7c7351effb1e6778867d499deb3e4d61d857b98ce95cfa31a55e8f1cb8bb2fe0927a80024c174141c8e890d45a1000b7e6b523922dccb2178a1d628b218fa53c623f0fa5a9d2580804ca36269fe23e02a226e214b2389a2fa2e5a1e7c1f65ad60f322d1777707264ceb5555a8e173fcc8a374081e1713231fb14b9dd04157bbebc1946b1e0b7c782e781eee99b53d6e84171aa11e9d3fa382f06ef1faa1754271b0d9b1c91fad4b80b3a4439b88fe538c8e67e66f03a41d72d10c6b6bffc6111a21021fd59a00f341cbd1afd75c3ad3d2ddbc9b4c94b47bdc3ef8ac2e3ff1c1d109484dcbb11879e25da54b7815a45ca63b093bc0f85cd20c4d56c698c0067608a96875a710628dcae6c0045858fd9f0f7244b9bed1fb1927d56238fcce20fb873215b5a109ecebe3a54e5bd2a949a53393e98bec381482c9b5450d1ca3122a1ce016c1f35c9533c64cfb2499235449af663bb4f6ca2bc9cf4c94537f22f8c7de7843cd859614fbfea6524d41b7de334e1320d82b55bb9393943c9b67ae15868baec7ecb649f585f27652274465460ff01db5c6d90db9540e90302b5dd4dc478785eba44c30ebffd928a7c6e486f19dea3f35e9c6f2663be87e9a9380e252fec890d50d6f42e98469a776059d024d93f2c98f89d2102834ea43317cc953bcd60aba23e057aacd941e779a76b986a59098ce62120e2c61291b5c5f9ad71191fa59be4644f2f3367fec6d94ca13fa87a5d31a07647426f34e77aef0c25a32ae8b39da2b235671b3ddc54a957e76a684ea5a8f335af0b3b1bcc920061d4bad5c5972ca08896331c061d730d38f26f7987de1abb7caa31cad120a155b273ef5bd2cea69bd2e29d9676a7ee2b91239637b27ca7285d9a14b218c5b7f569edc9f8dcc8151726455ad9ab5b43f71ea21697d0d92d26a694ae1a49b18f1a574783cba71b69dfc9723a36bf892712f327c286678a004f4362a2c7c0e3c17216e70df19f4468ced18330e831390c1fc0d93d1ed4800316981a9c66140ee792a986d681d07b606010c5d4a199c4dfcff8da55a7f7e86166569533ac47f3aa1bb0f9df57d66dec99cc18e86c52b59f89a82a4cebab51c4b29ce574fd995a4fa0210447fda11efed9415755dcc2fb1b600355e80bd5cdca71f421b4c0e0dcc3d365baed57c69ecdf4da93d4d136861cf86e7b3b3f62d4248b24fecd35f00dd0fa37206830d5fc02a01e6ea00fa497f30a686313e6bf7c6e91a8d851b4b4160730d391dd4dbf71c7b1c566b123da9cb04d0d247ddf7c629565267d699481ebd8d6c1765f48e26ce2b02165ecbf35417b1123854c4d138187fb8fa727266d264a76a3a888163a85e5252401cccbddead051ca5c69cfd61777ea80aebeea0e5bab2fcc75217f7abe584a65f8fa8dde727ee4b880b4766795a8a5ec680c44206fd3b195dec0220d56fe758d1d6fc3998c9428b8719f2efde2d102f44182b39f0c6bd1041fbb09c4ba7a728a902155af0f376ca80c177347a8f421d3722ab563093da9117e5981401fb6a90c9e648a1c566ab1e22e4e4aa3a32d9999a6c72795c41d652d4c5c14133467649206c16a8216276c948bd6dc8005f504376442439be0f915cbe950a400d022b8225321bec94deee2f72e4841935d75435fa2c2a1d0fa2992b7c4555055c36dd1f7dd9ac1f132327d8b5ef394f1ce9d463e3b922dc0c806652d92d6b5d2f1292cd67907b7a9efb1999d7eddd30bcdeb8b346595c713fe9b1d5d61e91c61f4c0a2b4eb577c363f017cb1e6bf3a798a8a1b79f0ff79935416cc6376acda7b34e658605dee2142ebf31a9325222af93f51fc2b3dac22fbacc1dddf89e472b72f970c82709232616bd1365c361601a52d36e73a2b5403c243226ea011c04697832dc986500bc62f01a8de7f741bcb046af63b8eca8aede72349ebeaa49bdd1bbad46b9546d04c3f1ef42e2a95678b136bcca62b9295137331f5ea7a2d2c1a59c7b74fccaa5c85308885b7179cd28a7cf097d0e99ca16b2741bc85a8d99cbf761bd2d5428e5ee228638a718af7b3f5487a5a9e682064c809a51e63a84fd5114516146db697a86d68f2c091030617d702d6aca3b443639306438bad6ac2d1fa84591a80acb1fa7808ed726f1fba44130ae367bc7c31bf62122fa7cb380a5b8bba536b5283ea5e9abe9d07c4c513fbbad58cb63d723591682dbb51593e1442a45ce25dc8651a147ca5d06d9adf429a6c6d929fb46eb8f4b4319890205a1a00f7971fdfff98245fa306db03591ab6ab514917845862a7cffcbb1b7806656dc2585cb88c6098598100e94fe353eb6b81fcccec5bb718444184784c0620bf299f0d64688ee4a3b779960869fef94c7393e3ba1df84e982d9f8d6c4e3e4d58fdcae65db3f3b4b3439219753bb7bb173e5410d65ca91c5a7f4ae77cd7f0d6c91bb60211136f3e4d9752722930ff7a6bea84843d33cef04d4ed2e6ede7432c133d51c885b944cc7f0824ced6840f50044cfb03ef29f11ec521298bd385f752fcfbed64907188aa5c3e324dfcaf85a23b59758073dbaf32c826f0d8bcb8db934d17689ef2d86566edabeeadc9e77a40e328e2cce9d8397d4fa3a57fbcdb26ad8e4ba98db63a61235bbbbff18e2279034ccfef2664d1788868c46ecce5169e83c36dc886ee1323bcb72686f120b59536f88a4daa35fa489c52cbcb00d95816878e2597ea81cd35f6b804ca020df6a371f1f2c8503ae1b4c27319cef2126fddf271bef50f6b5ae2364cc1d0435e380b4b7e4db687edddf1a73d04ca9c1a4818701abb9e605d83d56af760d25afc2cca6e8065595642590f21ddb4b3ea29509f52d76a6bed2c89d6b4fa6065570bfd3adf61f711a73ed1f5e3828cadf84ea3505da451294acf818c80b4b226f45e81998cba3fe22f732f571af5bb214f677458998a5e6194049571370660259a0033134529328dfd616af808587dd4bae220359bc27c502576d0a9cf8a2fa40a47aaf8652c999442f05831fc0caecc5c68a8d3eb5713eb5fd5d85f2a960531a956f2599455c9439fb80753ad6cf96008cb77d1ee8926fc2f89986f7c9bb41bd71eda6bb09efc502ca1e77661f05c62020538bd2538bc6ece0a7282f7c272e1ffff9787d64239ca8baabb4e05f508890cf77cc877beb189e4ba9067347bf08cbf396094a2ec2a1c2f8aaea247b7a21b6f9c42b40e51afe5da862420480f374c4f112f1ba44379c7f4c6680c4d545f043e47ca83bdbf27b2ff762ac79ac58cb8bf6017eac895d1ebb1cb380fabdef7313c225f9b3e287b4e152ae18712dc71fb67b8a7e22149c2dafe6d097fdd93537302a3d9b1a3b32af987192b4460eb0eb6409ddd1a1feb5bbb92e91324ba31d508a54e4a24ccb776ed377136152bc224b04f9bed2d5b113a107bf4a06f6897b7c722ff10d8eba3070ed575bfe86cf9ca6434ab20f781a5d1932a99359871aa065f24d283e659e22c4c174e97652f7b24571049e650c454582220ab3b11f50622abfecff202aeff4265b4c2e5a0cd944fa9457f0c2d5fdaae6e077a17ef5b958d99658277f57681d8feb5314f9091e4503a5011a337c98fe677e3f8090606b9e95c5dc25ead92953e07df1e943dcf5b4ee2253ac0cf91c7658b73744081427a6b54d63fd436e6e5f80b32ca50e80cb85296f4fa2fc21736c711871c849f8efd85ede15b6e3668a0e432f08faf067065caf97206e235d2a3d01931e50f5e0ca1eea74986dc4ac4f54ffc471db979c02f21802dee3ddb54f71a4be5a1588dccedc3124d4c51a7672ab3c0bd5d15d0a68c528a07c798f41a44e1ae2f11b7f2032feffdb4555503abedf454b23a43729288c2546a4cc29d475f4f89ece1fd734c2b435a1662b0ed240276dcfe8b36860c94b5f01f820e33a068951e516769","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"8d5dc240b301b76305eeaf8fc4a34802"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
