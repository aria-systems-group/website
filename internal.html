<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"614899793baed515dee4ee3d28d7b48466819a41b2458c2986f9c8a2e69b67e10c8a47a01978b0d75cd8dee9d7b7c6f3544fb255ce59521cf7b00517cf078d80a1697ebb79385dd36ae14e23e4821ca50ba9bb16807d54531db9b96eea64077968ab228f6d5326482384f31d942d9265d3e218f08c0e87b18787c25f30137e6b4501524919aaa5a8ad433e25025abad75c64649e3bc98115bf317f0c19a9267d41e8e0de0968d82f1499d74efc2a3f8548b0195b6c259bbb0ccc9132bd7c540e4ff6cddb15913a147e6f6509fc283263cb339753bfea1fc8047568599d9c87efc229192a32a0ca6ed45acca86d0aff1ca532ba94dcd5bcc04a7adee375eb4bd7d8f3034d3c6e8053436dc660cdb5fa2cfa9412f10ae3304569336636ae5e39a86a9f444016959ee2fadb792074743d9d35727d886312bf02e01f2735ac8dbf89b468abdef4c2f13dc5cf8955577a82417ab65fea2e19d38acdaf5102bafd16f9aa7b56b8ecb562794d93ec1436b56592b7e098b4c720dc4f9cf473ba49da70560df1d6a660d19febd79bc4aa1cc26d262a132537a2ef805ac6836c22511f7ccbcb1637c72d65d43da32e102ae9d9ffb491d1ef21c26f541f926e50201d26c0ac24bad76f21010b97cbfdbc11fef6fec7ee1f0618e78e9cdeebc388819d24bb7c94fe35bfdab3e1de874c4dc49b4191a83b1bd725c7af33f4d81c1d243c3b490b50e2711f8ab5bbaacaa783ac7c14d896e25002a81b7865bcf72d3a4e58b34e39f69f45231ff5b2aea37514bd68dad574329286e20ce6de42aa4c5590be37e1ad042ed7070e58879668cb16cfde91de76539d49367c4555195f5053227251f6da7b1fb3b9525f9f619c4442ffd4fc734709fec6d8cc7fd51fbde02a2a18055837e528c3174b2f0bdcde961ab31dcb77f0510f81ec33f0fcf66f90737e9f57fe6428a02194c377c7cdecb94d67497984185c067aca4504ad81c10b67088a0e65fc1056288b6a523bb9dcc6508fc17acf6d96400d9ddaa863da4d6adbc9da58ec5e3285a638c3b64864a7d8ba0e0bfc9c924781dedcde9383b5acf70a28d1510486a72867455ba30c17797ed3c94aaaa8c4c16a88269c166a62160b51a0ad86c9dc0c3c24133ca5bbc9b086c07844e04c04b632545d8efc30aa0da2683dcd1efac572fc63733bd9df4773665d267d4b362571af29cc5310aa7a30fbe79c85b9daf2d1bb4adad2d2ae0e613a9c0a8b75749c0ef023c0ed02de2be8c03b473ba4bccf6d06b8e26b01cbc10f06eb1a93eb36d8e4eee1e8ab6a9875a9d4ba8d6f6defda89946209a0ad759703002a0d526d6e1f770174ff61fcc2c53600105d942a5818991b35608fa6f8fb21813dde592f3ba5bf06358f0a4390a026f2ac78b71ad2ccac530e9aca836093fff49caeb12dae1e078357ea8f89e2d8f7c5d027650a32b45631d0c0a6d2270546cce5e7d4fa4587b09900517dcf618082f674daf621a00cd8cd462d3501f7ab3d0aa7c7ccded018fcba609c324c89e8521cf675117fff09ce623c3d03ec7a2755322eeaff6e227db1522734106967bd2256cea7e1d1f59312b6e9eec418daf95897298b284ae6336caca78a321f72794e6c1ecde24cbc6dff246d3728dc59725dd2a6a1046351c2a3b7ef49cb6d7f2ad1070c616aed8d3609af3454d24abfd5e0dc04f9a2c06d2a601ecbc66ef49c7980293cd1c4f0e3929f47a1b401e064ee35e0b4cd6320a0021fb3d62cd57abde68d5e7d22953e754a51ae89adf7aca69ba684c1ee99fcb2f38c3ff3a045271ab85cb973b9a1df9f24f7aad344c39c70b65252011044c6f4b1893ace0ef5839654e6ae8d46f52bbf2d96e0d94a4050b1f94cea75eb811c3caee6bc90325018d7b9013c7a36a4772c123f786a035c7ae6190447b929f8c93031fa57346688ca0cc733a5c4c1c9663d1dcf7e96da0935ac68b968c23cbc05781b9906082c633da99fa65602ad472c90d3684592496f1eefadc7c96341b69575879d3d631fa22dc9141b14b32540b99de7f37bb2588f83e0916a2912dd2b93aecfbdee2aced3dfcf1ba4ab5378311a04af22310fe3d6164d20a304f00abd4af6883af534e9a92be01b8339c85da06d537178f2bc8b1f3a3830dd0a47f61c78742df9d720463ffff9a374fc70a1e1539c9332890854da5e79686e7c11989ed1b085087268832acc9de07bf4eb3b618bce204268514c4b1f6bdd94f88b5f7359443a5a7d152e4c8917c5d01759b18517462d4afad49e19d3b67d31ab8b8f6ee03841b8d63016d0eed645128d51d3a378e764bfa4e336d81e55d199b311fadca209f8ffafe7f36589f9d2d209e1b597ae2d27ee3ffc85091be4cdce683e79ae48b1f6281c0e5e2a3248597bc85bb2b3bcdc09954f8ccefaf5f1db36ccd4c2b48d97c4f23139c7f1be66895fb63aa498e12cfee0a67afabdbb3592c1e35713ad1e36efcd30704d26339c50b92f3453db6af9c07181e4b62635e62129151b0756e166893d69c90d547ecfc34c981cd6971f42e50805f1c5dd0dadd23630fed6204ace50722686e67b43de88fdd413db04b7017c8b96b3979e4918b561011d01f6fca80c9aafc206585d8aa62205636c4ab1e37c1a202776ade665b84d3dd8d63b8d05dd773b2606d77b2a44de28a3ee22a521f04635a164ae7c0d0fafc7cd29bb77c495b294dcf4ae36d342e32c8442a538e84920b1c3d6723de4d4e4105eb9fffe9d5a32aa6e156baccad5ee3a5544d228b32739fbac524d60c928eda1d140c4a21b2286073e25dfcb5e3d9849847ed2d8d34a61d68f033809c235a72926638fffd16a7b2aeb5288a878626b9b8d0cfb397762e705ef72d6bbad07de0e6618d6220cb22be58ddfb02fac044ec978a64bf641b6461c1169ccccd0b4cad23817e40590ebebc4133d1073aff85f53596b140b5ddf3652e967ffe855f89989934d4dcc93f9eab9740956c171614b9b4cac6d91c8036829297be507ac1c484aa52a0eb7daa3dabc292e5c04dfadb1b476eaa9acd6d2d50f6800574decd497609b053bedd2c1b9e80e7b08598bd507de8685aa88539851b98aa2d00ab634d383f22e87e2493059bf5f9599ac35c8a2db29be6f415895fd89d55c790d2e4697246fd79f133efc058d681008e627c323972c9760a668fff474c08dc4c3371a3f069de6f2ad803a7b36ce561db0c4b01238649e35c81c38741b5e94e057273eb1258620f6591b762f7e5bbb6455e6027689d47a36b2c6656dc668fd689cdf77aa237fb1756b431ca129940c1e32cd73d27a3b2dec0b044e02de08be36a333e19a0f84284d3394921d8e3426372c49dd608b564a2b5019bcfd49af82a2dda745a8b07410aad7cb3af55add16c2f301696617e779224b08daa8088df610cc03810cf72dc3ea1bb6c1e4c033a8c91d8d7485aa8d5c9b4daef1c545ae6aa248b886a586152e2670010899c65c43009651cbb80197e55782b9c7dd9b5f440732b65ff23419bbb91fb52405119239ecec5e5e5805dde0cf818ed5cbcc3b98a3faadd0a1f18291cc47aa563380d6610a8c5c92b0694b9f5afb7e51062917913d9a2fee9b6760e4c613d0d78b94270cacb903c9d5aee77a2c17b52b76b2ccd74962771c86dcecaa3989b70dece4c763ace295b0a110c9066f8cb4a88cc1a9d1ffb86aef84b3ccfbea5049793f185924e6abf807bce45ee4c6d63e8ea2ad826ed623373b5f4c992a669f7b58f5f62aba81fb57c9fb6e532988f44bf428937ed459b42801476cfdd65e92308fce9a3175e5da3665a4f401c8d92af72d6e69d608aa6a3ee299af8079a43b83b830dc581fd11a50db966c09caf9cdb7e96ea93b28c4a62aaafc0f0b5c87a45a64cc104b71e46e14237b97daf3cc75932e611dc83ad90d737e1af488646f2f43c28330c211b6b7fb8b414330572d5c13ee8cc70b79b4cd41135ad72ccbf7097f7b3b20d38ec4beffaded668e47fa88d9eb80535e7067bd732f48d647246f5cd734ec2d4658491ce3b22505c3a008ff1ebcca6f30d21095313147744319970c1ab888b5275e01fb210bdab86283152ef11725c1f3b3c72997b2732ac935d1d550c0329f5e5eb500b26804d3cbe4270fda31fc98aa69fb74216342a6fe3ace97ea24926d2d3ad42832ca2af0ef1789094ad70ed8dc5a6b44a7e8df646d37ad11f239a3f8f8780e393e20f94ea4adb94412eaafc957f3041ce36c612d1b3fb16463a390c68d01ad89d8eef9d85b516e4b6e852b7142f51b9c5f5ba5383d6d3e815cda642b89572f98ab76441d6712e591d796c69e455b9b3cccda07cc9d80293b43c0ee0414a74cf2de0cc2a2381604b065271bef800d4e77b5d6476650f2d4797daf1d032dcd2232430ba4e3ad9622074a702b36eaaa77a2dcf876887e619ede9d43cf6942097d399aacd22e26866164d05a98ff54fd0e1644bb58bc596b82292d1a39d3dc5fb5a6c24170b4299b1c3e7c735aaad6f4a951455ae4a9946de8dade327caa388fbd04b0f17613c8f0d92e0fcd65e1d1eaa635cd191261c2b54df742c4ebb7acd7765747b18feb1bcbb50c16cb899a12f8770ac9db6da41f90db9bf6ff0f109f162aa157a91616e28d99c85b68b647d70e9c3496448b3364f648351c878633e1add74ae31ce94a3a31cbd5772a7d0829e2879c4650e15762ebb1c16666bd099dcf35b593a8eda026ae93873594cdae5303caab094a7a7e9a7e400da5c9ddc86e78d743bec07016c26191661ac57ee09bc3a0a3120712d9e6ce2f955fc5f17a9c3436e21603e1cdf237765972f3f9fd3e1cd43203fc9635b1d099b5e9005148f7dc24c7724588087115247a1bc4aeb5e45ff88969f9a47de32626511a79c5f5b2fac094cbe36a708893626255455eb0bd0e20ad605237d04d493f87add1df3d33920988bda2abdcec8138f616a940a4bf2dacbcf4d184a11685b6aa5ea54ae688ae335a2666bbae1954f809ee15da8660d2317e11b0902eaaa88326778538dad2d8ac2d1dc0051070d21cea338205330cc319fe1ee393bb56bf65bd034af52ad8d03e77ee05e966bc5809b6313ed14bbe8af014c4f20a8d3bd3afed30f32644191f392ca572637172d6e82956d62a66eae568e23a2c0e89d0de8b7c98035b611b3950929ddede5211fc451734cd331fc190db4300b92200a2166c75a4e6f0e5241e5ca69fbbaf7daa1d4ee7ad7670bd9fd3b53e2c5536f3cf31e4d4dd6a176e95fd0f1605fa2b8d9f3b4aecfbce2006c8d46fc779c6d945012603e90e313f3da4a4499de5f062a7396387d29aee1cb4f1a40897eb14ef75ac98980cb5eba2f37e5728ee84bcbe6987a9e29f4d38f5fd785f174ae33f8b9e287567a90f77e6cb27ae1f4444e512a03390d48fbbb94f897888dfe23f0cc4e641ad05636708832e78b3c0f43588e62fb9bad5bc23e19151f358e262cb784faa379328ba293a0a6b66e2c468c56b5fbd649dc0c856af86138b7ff9c40785fbd3078f009e5530f18ad299a77c8a48c5b237de4dbce8ad272cf6d5576f4dea0afacfd4d4b6fad78a0fad0dde90b2673600e9ea593119029990fa8a100b537249d077b8250d89466057159cac73a80b03e2f2ca54f93d17b04f71e1990d1f93c805271b32932a39dfb7a4e09f30b1db7d2f843ec96cb64c19686e6cce0505480862ea89adfa3c76479699842d22bf48b5f9247cf2cb3c57ec2dd0576f53ba5e1fd2c54001d4c5c101ab2ef048c18396055a79a733945d3b3a5f37a9f5c1041f48e23ecca0275991a407fcc1eb13a20105b3e534290dda6601e368cb6213f5db4ec05ed3cab300e2652315bee95770ca932a5741697768a3d9d0bcb666c49a69a6eb20639757a2136e09a1df45abb51e1920d176a7e4574b8dd1d8c9ab8efed8953a507da3fef40bbcc06d75e48079be8b55adf6c2186f47c30d2044c88858f20279fcc24453b5cad8bec403463eed46afa990dd996172159124b567e15e9e7cc24e5e1866c1d5d69ce706e3fc971f302221401c35fe497502e04bc039733a6a921a71290d6c9e43c909f7e1e0c48a9f34b472b4df9aaf025d78c282a3cb9524b11e310cf4881134a0a7a79c93a7f316e141d1f12a5facdbf09e951281079d035fb8e95d8b7569f0c8872eecb832a2064a254203ecaa085a3895bee9f400bbb63483945104bab538800001ab72fefd25e96dd7039967b21b326d8bf423077c7ac938342b24b10a2e4e582038a5f5423afe12c4b91e190fe4094fe81e6e9e0acda94ed37a190dbed7dc9355c422d37dcf4031cd55cf5a898fc77b0426885200bd1226bd4c991f52616f92b4dabdac98f8d8ef75501f426d1a9b43eb52cc6d6911b5f9bdef42de788274fd7ae89d5f37ea6cf65c99093dd0f594d3cee6c77e109fb6fe62a74a0c261972e4e03df409ed1e4c8d3a1ea5809a6d3bded41ffc141bc08d05d1a13a29bc051d95ce9a53ad861bbc93c4560c1c6bf1f76ba00bc8629f21325ba8c6268f6892998700dc2239cba0f85a726e5bb751050fedd172beff738fd9b4fb74a970c2fab238ff5fd0530fbdee4188c688e3ce5f93286cc59b96a3c039b182248fb43817a2ad5ee6e991eed5e979f2309422a097ad76bd69cd3f6359286c4b180340683b912fadddafb93038c46de6dc949532097b6afb7f211ba06fe7604d9477394d7907b042549435e8bfdda8064c417d73fd374918083ea7e34258b45af70b9197f08960171bcf9744836b9dbe76430816f675f7437af71adb2c7b853791343630b16d5a5a9bb0d849dc30bb40bd65a533e80d3968aebc4ae1de9aeefd52c5543e8167197ef2c7bc9c64daa8418d732793f7a3906f035c1db2975bd09f92f654ae74cf7e748bc0114b168aa5adac3971aad80112d1b3b95e564546b3e4bd2b97f42fe34b5b34766528063262e503d80c21135c25ff08288a06cd4e3565896fe0c573bd8aedeaa41dc7b264d414420f4ace17561fe992dfe0cb9bbc9f6e19299adbfc3b040cd1a5947fc8eff0c53262cd549f1bd5ddc3507ec0e2c0ec33a87fe84ba6f0ce614859e340290952b453c48d6c28c1f49945cf138edaeda838df40f9d624705c86cc59816f0da915eb97cc999926ac96d19d4a3e3d8150b4f3529dc2ef2c822bebc76cdc53f8289e83747e1ac80e9c2de9b6a3dd7451fc8f3a77f2d9f1cb7e9e66fb1b2d62e67a61f2d8f666ef188c32cc51b16be8a638f299e4d876375f7acc36fa875edd71623c4305cf711878de6d9a9248b58caef02ac6f96d569dffdd62e8140ba6ab9425fe282c6de753d1e5e84afb1643ea894facd834844575de5e1743ceea5b206bf1718fc874554b3adacb917c1691059e5737e0ed3828e5ff121963b7a24316466eeb3ab8f66baf1a67b239fc4575e7454decad849205789bd7d0f855fb13581db00fd7debb70eb5757d14075d280cc27b9713e09c72adbd2c354498d9eaa77a54c1c5195e1011d8d2f76c8693a8097950b1ca3d5e72b1f192f055e29e13a28d1d4717c6ea6f043f108ca4ca943919cfd8b07f72e03fecb8234ca1f9200e4ca286e108b7a95823f653a14103a97ff05e286067a7de8fa5a2e1a90dd99941fe9e5feb59632c0a570ecbfabd669be2693bb2d04a0e96d412646957040fdf89a79717a81742f65ac1cf2de70f91d7d6b8f5290355321edb2e3d042eea596e7f2a1b7e6e182e8fa09f3c4fed9528965d1187da2442888445b3924e01df7136f7c190a1c38674788accff80cde889b0bc7901a88b8530068609f1519ca0e14a1ae6f3edb939b2d017868ed24753ea15cc21b08ce008e0b1612e17b8f1268fc9965ed819f59eb4709be49ea0a55c1615db02473c724129f0ad4cb28658b38a09e8ecd542daa054de0ffb88cb91f14ae13f2e4f225bd5fd594cea584b01aace2a72ec2d4bf06cc7c5c1a28845ab7535e4e180ab1c7447074b410fd6487ad49e103f6a96430959aad8f451f667419878508237febc40d0d7a563af8869e06d46afa3919a1ccecdfa2746ed38f6cb6f7c90290485db6fc6cb7d2b87f3f3018ef6adad5466cdcadcd5f6c7c30e3615ada1ff500a510e6651b13734ccad0ff71b5cd3f563c0786a2d9056a6dbdc74f42b667b39cf4c0f30217a60c144c6c94b67b70385a229a0d176340a47a676d82e42efbf8db7bb3d38c693c28592f5f5b0a56f3df6c1ac39692c1888d186385c1e20061669be8bab3c73d30dc17bc523b8555d8496892637b28c414b62fa676a386dfe4f293e006d8eeb7c51a3e59cdd25373df08dac31e7a7af2883c06a7f3aa3a983c84e52532ff37553984321a40b4e1eaca19c1df20ea2f71e5fbb65eb1a21824118bbf1e138161aacdbb188b7d450db8d06abc1064b3a8b3ec92e91bb3166b8015cf2f110b7700eb617a9324f50e30189d44cebe46e63851b40990fe7f40651b5b05d09e004fc6d6450e56d6c4dd9dcd8a8dedd3a2a481300a33542cb57802ee268c236603489e84768b33132ec6d2ab97e1b8e7953b4658d1a6557a9c5c6c7321a1057ad506a099a793e3c5a117edf45bbf84034039ea70783abbd497b7d4c0fa86da2f83c2c2a7835a485d18319c4b09ac9ff2d3333a1b06c0eb8e067d61541cbcd218e91d1d1004da1cc5633783e9f753f14734753eaaecc28a1c8f8585d1fbb979c7b07ae77f66ad67a89beb2f083559751ddadae43acc356094ccb814ac2e6da7f734e146f31fb5a60998feda548af07d29b1bc63824430218c4b62c6721e616c510993bc79303b9768a6fcac591ecf5e86c68775d9f80162f467116f0a41d9e956aa68999c7455854fff0fd41be53dfe08fedf629ef8856722cfb39f4a21bac34885cd818b2787d6d4b6b1bec5314a20ce43eff039473497ef84a1d15a7dd9f8c1fccbb8fce2b43e318b05200ac0565796dcee9aea8cde3194edce92f69c2588b871d28ab76b6bd4fd640edfdd81a99c60060bf229e447e4f110c6a26327d40e78721c68fe0bc947f4ec20909c7b0b18560fecd489f29f6b85199253b8080bbb571033d4ec27aa1267488cd97c9bd3096efa20fba88be456b5b1dfccdc9133a2d5bbdcbcb5315356b8616df3f8b05df4147f82e05319f0141bd257d7eb6b55be750b9fce3a8e88d13563ceffb4cca932ec6027b128ff1a2449e9898e73b2efe5ee4041a0ac4e51a81a45b68e2b6f3d456d495898bda0ee03665fa1868ff26175931638cf4fecbfc6ce85ee86fabf2b3d4215267463cd2c8e2a326691d61a77e6016416fdc3aa89de3fa067fce9c2076aa5fcda01b63aa237c43e72c7bbe607d7308f728913e3af711e4fdf8f19b8566e664a0aabf33ab6eba10d4c4635bf2ffed707760fa3d8d3e37bf06ebf263394c1ca70909c050290bb16411b99e4bc2b4f7b4b06244ec4ca360843c31cf000804525089a2dd3c3e3ca5c4033e75e32c06d1f907ffe4d779557ba06e4a27164d7c1e6dc7abd4421d1400a5d9f11d5508d3288958a7f6a2609e6346fe41e477f5664d335b54c27e0513d0c09c2a94e5019720cb9a98a6ae39c815559be9d6abbda50622fafcb47f0e0440fb6e86d820bb2492281f419c4b12d827d7ecb10f46973510469e6c047b325a0406ebaf03bd539c1fae7d81037bc357c31f980a34324578cda7b8e8ad94ade51182dca50fe56957abfa82b1544fe60e7b67d05cc86eb11359c9f6f1812e506318b73ff4e8e4acec544a1b0d2215dc75f8d2031542d4468c9c3a54466f1e310501d5c2c0dbeb3bd01f5be004b073111c72bf1723a7221cd338b67b663867bfcb9943be4c84e39489c2665de1256cbb6c73ac231bf9fff7fabff331014959e4c92977d3f2d48186ed264a491a8b99f7e43dd764a61db1f633d9dba00463856b21d0f752e435e35aa7d90beaad0062feb73d244045bb0e605163e4043e3cafc39258df843bcf373c50ba6f4dc1c0ee08a9d6ee631ed4ed3c79ed6d0efabbdb0dd9dceb9986eeaa050b0e562df288e2738459bcea0d141c5d28798e2362ce661b929a58c0aebb18fc4a92c1c96093359b1a40ecb435107b9ef7ca6258cd9a42d62fefb8ad257f822c839eed03e4b5182690e918952df5b4ce19bc05aac8ac1d365401fde4be8ab1fbde33aa0b866b795443969c771ca5bb9fe4769674e27fa4c6eb7e61c64aab5888a0863417aacb25a60402c25119a9d05c5e073e02b361c2f586aa5b4cc3c11d746818de1e4edff61f94d029f9db68888f009aad329b7fc228a6fb11de1f9ac7d1b7c2503b2c43e09c2e7807babfe95abc7e51b42b50e2468339c120f9a0bed03da5e8f47fadc1d3437e664c27fe1ede0193af9eb4597e04d67608a48606aab12f62435561dcc4722b8d471ef29a094f90c504cacee7f64cfd8a48368de4f02acb9fb2ecde3967d6914bf209d99542b1c92fa86400e9da104846b180aa4bc01fb7b8e3f0d4d9608fc80c1f8329a636166cd780d987b7bca236ea9dbebae4ebac66b9240818767fc2f74f7f639162c1987a034786aa611dd4bf84d5ae5ffb419ccb5b285c7801abed65be64180f71cd00cccc4c897fb06636d22371d5b947b3f85dfd852b44c02764db42736392a5c8c75dba85a73020655d717f05b69cded8bd15a68e57c8346eaa1b90bacaf4b9c2911d090aba9183a48b542df73ef17474a6c9d7dd5a17ab987c209e8c1780b0ec37883ac0704948e2a9ce351ae46910919c18054549368a4e91e8a810ae1a40a159d9557ac42230eb460babf8cf8ee69689982e60c853277f15c7ced8e08032bc67e233176e510ade47d38d7836529c07e7b619d3bba8fc64f17ecc5c66ec3218b194417b9b1ea8e4f288108f8de7dbafd6a4d1c17e04f1ef13bd0fc22b46e377606b2b570e823b3c5b670c3318c36a4df4cc023514356ecef212ac4a88cd3697bdc75653969af40c0502bc5cde4c3b4c2fa3732bf754d2117e30affe9d5c9071993c8202a8a02345233b2daafd8faacae9d4fc21727459b4345974cb5907ad6ff783551fa9d072e464ebdbad282383b78d4064155a7783080f83aada49336f3b1a3a69f89e0351db29e76845b0a805ab4e36514c432547f87ed05dd2f179426007a3214c2083587e668013f5e3a931d9d72334caba7c23bcb3b8549f7a12bdbd26a2ec7c6bb5a17893688f9c39c2b536d4827b27809ba594d1036ebbda94aad83a5c517cdffe4ee630e7196e36fc13a2ed5e9fb6456deb329e9420e8e247fc631985a643bfd2f3fea338f855ded80764af68e83295bc6c206fd97f7bbaa7230270f84f2fdb528afc5d5c8f5cf1ac2882b99548014142b2f2ddd58ffcc878d87ffa5874c1c4fa2570d76eb1101f58c705ccc3eaa4ed242dee721aa7e755f057d0bfb9664239edf6f938777a35b5bde06825ccdae7d7015d1285753b7d08401e6a6f35fa57e36257e3d9dd59c49afb3a4d2e2f16d09532ec485d3af7946f2341ee869dcc73e99def6dac5d798eabbc8272e724658e54553a8b58bdef69d52c273c56e0e43cf7149e296777df5f0a1c4a79e6924284a5c2de08563041d1ee060dfd67052d4e3c17c24db9078e37101a1332b68d3013faa63f4a318b8fd39cd5de0292a43aac330d50b3570c637105df9fd32b84ab31f7a77e5ab86b904989f20bed8808bab4f399e83b9c270b442a2999648a42150486d109f0371be7ee027b73f68abdf819829e27894ca1276532dc702deb55005afcf79c714d4e950f3e0fd7d42577467888d8eb47de10f2a40ee5400513dfb3c954a84d80c44b2ee797fce0d80aba2181cae592a23e2e208b3be8b924c59d2b68b5844f1daa87a54109949c975a4834ee89d65fd831867a0d905270cad305d57c79316cd8a7e96e773d2b988d27b8832ce91a769a4192b18193e322a1af96814ddea7c0258c1a2d7c2fcf15bd978d3fd3747316d63a9790f59a32744363c57bb140971dad5ff281a0a7c9bae361db49cc94db4e9772ec28814a54748e5f21e3611ed0f7a1c1d15167d936199663ed89e58baeca2df64f72c41b46c8d6b9ca8a4bf301493335543a5eaf43741cadaa56fd19eefc61dde1dacf1fe4a8c3b5a95ea60bfb00d2ab1e2279df69c2e23c868b6a9a0eb6504235c8c2f6985e3ece81abc05c6bd779bfcda604bf1b1775651181913bb54a35ee30299c7b11b04d574698f19f83e71566043f4fd600d46ed8ef7843e4defdbf7c3d767f8d5f9da8c293d121b635c8ed24980609c24de35df741815d0a23b8fd0cc224479257b7bc4202888789ec08df98f5cd6ab5b494548a49f5134538b23eee93b92c600b499236aec8af6a1f4df368df27ae9a46f2b777954ad6b6b5dc266cb4a0a40add61f7f6980f37a08b92083ab70fe7977565926aa380fab2359b36f7f00c3463997c8abbde1c2f9d6f92c86124a78283b296b19fec48ed982f014d26a6a2e05055641e7b6e379179357355b788e2068d04454e9504533f178151f323874eaaa34341603671bda1f38d8a009e0a73c611b9f44633e284b233e0331e59e53f053571289ca864760d4cf62f61b2f7f25531e4b17b2bf10b266407b1615f132be031cb22bef3eee3fee8e11fb2dcc018cd615dce631c56b8a9487c8642068dd936b24973f52314f7e0005fd5bc3f6ac487e393caa9020bbd1c6add571bf1ee22edde37e5f5a6c86f8993d974e0459ad0ea4dd75b8a0a1bd0f358f7f36006fef9393cd45d41e9df020f6c03673d51552ff5e4d87a443a9a2b27db0322ac600f312d6e57e5d91c0c96cda5281f6bf9aa03303ab3b6771a3b34c736b400c16f01bd511da77a01b66b38de3adc8994f5f94209cc40303ce6e94839ec3474b477475da4753973d37ae10024d203f4342517d8a24baf05d3770f19a9501490a6e4aa6c022a6876b270289fd8c8ed462459d55c6b857ecd6adf5221ada6db37acf7e9ef8629ee96f2d19ccad409a20a130d14960b21e5e36452183c04a07aac1b56b4ec6bd93127a29ff5f5cfb41f775dfa4093a3068c4c71688fd0aa7e0f92fa2eec06b2468a094143ca266d6da6b8065934030ff4ae64c685fb42fa7d3d9c1316e2e0599b9292c2511053809d7ef2801f21102b3850cabeda9dd43f9153c5d1cba74d1a1dce428b389c79d5cfea5c0ff485f352dd77e2b17635a42bd55d7b177e112c7af469f240fc0a23a38700d017efd531ac3fdab5ca48e1bc8b1d201a388aff94c18704ba4f8dc8769ab02175025a45f9f088b95372a19608897f126e0602729efa1e818d777a84054db0dc8af3f31986bf5481873d216a7f6cf920ca03a4a707c5dafdcdbaba2a82b814ce65f81f636d908a7a27a8f990d9b5e27dcb7660d7380929534c46debdc29952f167b8b71f66cc95619d0df14895470678c215c3d6b096f6d4cf0a97958c273dad562256b6597ffb5489ee11f26928c37872c62b97580f31cc9c3a68ebbd1e9dea5c4e82365f6f5902f1e58aeaf500fdb9b11bce70c7feffa0989f9b98816dc3d00dbe39134a51633ed2339b94fe7739480ba5dc4960d7fe0cb6790a5137b5e063f6125d359ea8f184d057fc1069a82aa7c117cd14cf2b16645af74a6e6fb01fe689e7a27d46694e1a39bcd885acad2844b7a19611d457d57c826bc403c1a8f6b32a500540cde7678eeda998aef0fa2c69e90b433d34dff051b88b5473a1e8d0a99ca3053648539294e1bbb2911404b89af7358e6636b424d81477f7f3fa990aba10cb16cb08e7d02ba049d250fa2ca5dc9ade16b5f08695b129446d35a834dc04fffc80eb759bb588a421456556bf9214c85fcb51628a58cf2381f85e2128d9c4f0b862b4a54c73951b5c74b1f02a7768d1af9e631639edd82cb64787770fa6730b71195e6f92b841df7375b7a473337fd01d5620dab9a8d80ae9acf82e05a872772640deb21e0872294c19666fcfd81c7f66b2089a043643af2b181c148999e4e8656399d6f5cdbbdfa45272e77d1b77824cf08b57396f7c02c851e8edbc75e68aa3a14af11a6b6de8bacee4c37f9f958f07fe3f214d0c93df9425a698608c96527300937376d1deb6bc5d0639a26eafd57dab7c3d4063ea740be5352601736dec531114532a8d229a5b697cee5706810c6c3ca843763e73fd55dcd0783c26dc1fa1dccdf88b21140475feb54b9ad37ee894d5822f1e94caf2faebe29225e67a7d039276b8c3860bf6202ebc0ec75bb99f6d6e9d03fe35dca2c4536f9b79d87a68d94f0cc529f45ec9d7a940a8aebc2161f1136341555640b0dc3143b041623a3d8b2c8e53e9c2632d0901edcb2db441e737db01e6dc4e14f53e85c6b40edb0791c415aa1d0f237be99b1a65a19e992add0fa082cafb548cf8079a0c3d74a1e5a8345db9018ddad00b9426b8eedcd7da5dd75bc786180da4ab91b0895eaefe9c708dc134f591625b7ad210606eeabf1fb191f81beaf3ff6a9eb69d0b6929b185ce19d3dd502d8afe42c19d18cfb78fe1f5c9881cca1e6838b03ecbd9e54ca8273ff1fed1b6bc6a520ce60c5a630acdb78d05d18e1f8916138970f96602980cd95f89b9d5e772b4e4679b58fb0e7525eb174653f4b0cac8e9ddf85cc265f1ab5cd55eeab906d8707d883382f85a93d2be33651c7c9f01a7fbece7be96289d36df30d7fcb9dc106514272739581b1fb85f968fcffca4fccbb5b6b53d61306d3fc0e42d6f239c87d1bf09c742327598bdf62d9eab12245f777fa8bf24a2be0e26448201f81fcd50f24d7a5b6d516bb135952bd6b2f4f4801a0c112d38c89362fca46c11265679c0e8d9589e5147068fcc40e0c850b1147d2ec7fa8e034b873df078229f36313ffc9c81dee9e27d0f9271ecaad0d87363f16172fa89bc090e4229ba1de2a756dd8c92c7105334dadef9a4239773cf5a1cb07225db20effdceae37044f1413f34ac50a645d79d91a114f306ffd4a632685be094a1419b9f8ec3d9f5e92e3fc4345ab47022348059f77df2f65d992bddd048477f9cfa7b31652c7514fed07921e4625445db44ea062de3862e4cd6d7598007477fbfd1645105f51a514d38a37aa6d6de6c7f9d3c6796839660f2468288953dd24f6ef0962b717295a5854d097848e05996504b0a3e30ddd0ed5188a77e984f96d4a35b726422f4a6c9d5ad0704701f3c873d74618e759c7ba20af379b23cda352487bb22973066b2a08a49ec6c315d93d183118e0428e157b34336f4f4a9002b22a9c7371aff2c7bf1100f28450964592907c5624373f79ee5391c994029a0ef2fb6702ddd15d3d30759bf1ae8c538e03d98b604fc8d703563baef0f3b883bc29f481d5e20c55b2a5e135564572025e93dbb35ee0982bb37e4794a9e38618f5bd880c3c16b96f7eb950230239d5b1df9ab601d465d7c43527b7f3981dd8f4c44737ddba255727c0b6395f0337dec7e9eeb510750e0b5413109d5a613154a34d2b960103954a17588202cd4b6b496532faa482edfb7b3dd51997eefa3ad3b652bdd16898c5407386c7bcf72977a6532889b33a814e67b5c7bdb53451ef085bd9ed48a03969a3863ce1efe8ec57f8ca391fa1c7b9bee59a90950cb38e9dc728749200bc76a85f647cc8fc78ec66f910fa9989efd3316192f04afd6a8ffc7d4ccc9e6ca75b442874185b859854957d33bbd0e105acfc6fecb9a1b4a3d11ec80cd513a3942aecac6822ba943388bed9c6347d43d37eca79e451b12d013fd748cb943e2565481c58747b19f9752801e0d1363c475ff6ff720dabb79070b92c33351778061817814b83fa18b72a32ff788f237d2f4f1514fa3fdcce6612f07d949bdc00af6def59ba6c209feb0ef4ffd9f8198ff48ea79e6348aba6c676ea6ac2684371d328c3e38b6f711d3c1c20ed48be7e06a720e2f71effe8ddeb3c5999deef29a116de570e716a26312f745a38a221ed26e2e88514f90c8a8c29a3d83ed290113462d110231c24ff90e9901fd8e02645b866d8dacf9d3dba211a7abbdd6b9901923b4ccdc72f65f05061a1ad0d6d8664ecb3f838917dd1f49ac38e74309b41d8b0b0f1e11dd1a6e28ad2206f1178800336988848c72b1366d19e7c3a437d11c473c931d3feb31f7345eb85a624fda28a3494d3bee183bd9f94a44bf92ed71257a6657e90ae5d5c434065c03d5e27a5c86a7a9c7b97160fac503ae6b253d19970217c9176d7c724fc462736b6e99034d46c784bffcff711a9f2d1f6c31092f9d71ff0a9216c4e7781d5ce4479f60029d802b3ee20adb72b5cb865a3ef95b28d4bff66a18afe39512f2fa8c37bee07e36ea8b115a52d6f42a1b3674815b9a0faee65da861effe262d612ab324f74614916874efb1db2d90ffc7def4e34df2bd07d3af06550a83a05425d89bb445d9c3b49e781d8a176d45403c85ee1317f60c8c1689da9c5724562f633d43bd1cc65933ecac069710d05b3d2a78f9a74f5fced87559386c485f2f647ddb22346e6ce51eabeab8770cb146acc1a1d0a431a448f7a60ef2a6565aae8559dd21505c94d779fcb6ba73f9a02d7d8be55ad62e97434ff92b2ae71ccbe522d976b547767a4c0de2d8e9fab9d5dd43843d587a9d1b4ecc904fd39523b0d6f564e452273d04a4c988d1a520d22d41093ea236d267fb1a5e3860d8556f9dce5b08bb0129a8f510a1adef2db99278be7e6b9d03069a8e0ea468d294847059760e129c87c1f477adff660e311c909b1bbbdd59210fa7c57fcee94991f66c02b6427c489a92a861a4962b5ba7e0fa3e6f32c1d3071e4d3541943f9362e3185ead25e05d61e1a795c6d8d22df498029c4f1232698eec962254023a8c94a5ffd37d70ae9ba3923e85b5da1efd07cf618db476ca0acc583b2d0c55024c1438368e6edadde0012b8e6c58fa41c7a7beae133d4097d5ad3eb246d9ec79ee51ccf0fc73225fe150e4ed0ec4f79bd59c9796472ffc19dfa148c2d5a56a0a154f8e350c0ca92b87f04113fb3fef40db0007ee15cedf601e0ce3c03398e075d6843697e2c8feabe3440fb3afa79030f872edae2b89d7d79595e9d5d0290cbbe36545a7f23418b128520776df5bf4c70f2c21601cb6e1f672513bea6e62a5a1f459ddce54616586e45f21e4e9a047e2446b289149e1ff72d849a6ccefadf53b62dbd4c258d08df17025e0904c82690c747bbe8cbdd176339d7e63fcc151d30b721179f7e26cfac64de46c5292581e93e2a884479698fa53fb989e3a350ef1ad6981b781317603e57ea9f944b7e4315a798009c709e32ede39004bc85dc9f5868f7236a75e185c260a04b6cd2bc47859fdd8d2ca015dabfef1bfcee6c76748051bc6359a494a68f933f5d8448f092a7a4f9eacb0a58221fb03e2eec72cbfcdf6e281d5a162d302bc09a5a72fee6d0bfd36e45e58df695ec87133da51ed86ad065bfc98b5e5ec35c9c585fd4501625f299c063c13dcd7fde668fb51783b19e9022807936642e96b9a1a223e131234c855f100e008febcd3b8f7029a6328587525c8dd77d425f1af2da2e07a011c0141cf5508136202954bbd40010541415ed52bdc58bb00d91c2b2c04ea31a74a05a8cfe8df5ebf7bfdfa9ab2f2140858956cee016382e8b355d61855fbde93ba536d549683ce711c93e224beab0964f55e36800c1ccc09f30594844d1588a6508c1ad6453f50e4e39c0be8488144539b6bc69a9d5d0bf1f9ff8b99c482df37003db93680a13468f8465ffc4ac5fbf88a05461201f17b95d1597004f720c27ba23973769d3c76129dc502cb91d211fd25e8260a56d8212150b4c1d5f92847e47cf3ccee06edee90f166b00f1883d2116306ed3615d16cbba99d17ed24e33cc66324e7a0cfafb63e7fab34d99483a16592c0f555bf93d9ee24ba0b14e05a5da3b789e6aa3bb230145df19a7a499a934314f27cf20a0b5e1431e7a802ea377cec84a87b700d47283e00384be428dcf7e4bb3a25e3468c11028653ec83ff442ab08cc7b01cca2f1267c6f33730eecc2a3df2a5307c61bb74ececc89a025663ea0dce10db07e003b8c159104e325db5fb5dda9b95392e5b575e7f51c05252e746f41d1627ce8ee9494978524c33c1bad66015743b90bc77bcba184d06bb1ea3d2f4a7fffa1f8afd584019d2a823433898831f92bc87fa57f3a57f326a0d49428959541c50cf021770565915f613326aaa3e48a82828a70d14e7c7a09ce2a26236d1c83754385a33f01652708f3dc7bfd3157eea1c70c87c7ada0454db770a618e9353a8718130c2214a6adcb0b52d7e3eb3ed89b7fc5256735a2a026b354aeb4d417860ad66fbc35c2febe8cbdda468752ea2c55dc8e61b5695a0aed6c5812f7ee2efd1f231695d73a78c40d61182bcc8488ca981cebb5bfdce4986fb30cda0413483d33bfb65a91c439d1a806bbd16432605c97081b16b83cc43a91f5437a708ec256e8e6ca913ecec96254789b38c4d61d93c8013bcc353b96d49d7954acd35192d7e48ab2e1d9ba62f660336528902dec615dfd1e5ae6b78c641692d41f97497a7a4ca2da712018638d8c38dce29f1c39c105d65ec4fce003856d02e0adfc315d05b13bca83e9f5b38d056421cc1cc738745aeaa5ccd0208b3e89d9824925ff23db6c26b0229d3d33463289e957c6cda8a5da877ac2804aa65b882b2ba0f770c1c4926e5431fee2742dcf36a0d618cbcd5c9b3c1610781d1dba4aaf6e22436722fb498b15904c31205fb687fb7c4918e4bcd74ee12336ae6b17041a2a6fb71adc999b24b81766d0aab83fafe6a96f414c2de361d88","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"6357b687494d7177aaf56b0c44d97ee4"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
