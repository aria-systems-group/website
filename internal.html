<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6c6f835a8a6f97c6a4b73bce97882f95babc81cb55f8b213838196ec2fcf7afc09fc01383343681ca874d8dfa645e36d031320e423a7743537ebe2aa0c0434ab844e357731b333a3e07fe41c1e7ade5fac468dfb62828f3c6b5f8bb568dee5e7ad477c17836b8c5519665d87e4c38ce7b578066f2614b8eea68fd230ab60bf1544b7b2ad9b1eb00fa28ae973c94a642bf15d8413a7c6c4f292e5638f95afcb3508d6773657af3aa32bc92584a665bf0b9fbc68efc0273a490a8a8cc07373e7dde151590deb90fba20a4c442295e0c211ab66a8f74093299193e34ad38a3b763eba903703932ddb2c60f61c928a6c22b4e58783dcf1799db0b6cac5ede8d2e9786b1ab268c33ea0c48071926a5e0b6badfbda0f0477c15806d3ee5ed46f3abdf954bbb807c4c6a2a74fb0bf2f9e565cc0913e0ef180b18436086ef3a0f8bc03f457283f1ae6c256c3f679e7f9186d419a426fb34e0f22ffea40beded65e79b1953ce9f1b545401a69281f06e932483e6c874716c267c11898ec9405132e1f3f5061058477d7e59e08eb3dc5118801ebb05539cb53b1a1a2dfa32e9d8ea567e536167e596bf156b50d51fc4d7dd8c2d1dc116dc8135e004eec19d13114320a5556dfd54d010550efa7a444cc3452dd289441b35a5847a8852e6f40dfa292fa8f3e2b82635c293e7b99f65115b55b66f1a1d7e1ef74ad40e5df4af0326dbc766756e2400f51208b6af3ab78654b386d9d4bb77ba70510b8e19f868c4ef75a46e9d7bf5e10ee6fb20bd0c118af94cf0b3d67d32eb9b2afaa57ba6436c65b3f1ef883fac97d151e892caeca47a3aeba241400b67360903678d2f5e3a51f5c56ca79880a5c536fdf6f28691998cc6f91d620ab827865ebbda79729f2877e55a97b2bcf717ff5cfd361efd0a53c7977e31aa11e5c4339c5d23559d266588e1fe7e3915e8cba2154c3c85c7fb8d595eaae9932b06678f43cb9e5122f484c19a2d78d83e2863ef78dd8c1072351993cd56b926e16a9382224c073cd0d8f04a50a89f8c2b8c4dad92f3eef998a5f1f11a35dfe012c5389b6b0c5474b8b14dcb88c33772d53b05187f76c4c966cc12a0c1b275463a07ee691264bfafbed8fd7d215a018306cb79a269fa65adc93bf1c4fcb59d399bd8af9b6528d1b2b16dd929a6c57f0d9acba5016811831374a6ec583ae816d5bf46d9b34fab88a32c7a8183e5c0ba8ed5448fefde1b14198da7c6ad0417b08fb9f746981b281c3f52e416461770b89638845045662e1f0b3bbc00496bc3e6307ab72ab0fcbc95ee8a6753cd1c7be350433fd3b1754acb96ea5b9f302dc3b7d65c22f04da41c0b2d3aaed8a6a08ebee46a6438867f4ed521004e50a4e3da82cfc55060b0e18c0183f4669503aeb581cc8f76182636562ddd2a977e428a4a0a65d04b843f34f9e6919c4b330702e9c56c918f54b1c9e16a88a57425548855ec01f4722d3782a3dd75d58dfdfc756524740025f9ca2593b5ee0ae361f50d62f848b61ce8137034b761bf5dfdbc6173445b945f6c79e1cd9b785ffd58a4730e180bc56ea48aa7fe38381f0a06233c72a9546f8d4847957b50d15c66ca040354e450439f7d17adb886807910fd9656104299c1f7fa7bc81616bb43e3e8a59284be79674c0cbf0e09b700e89af9393fb3126b0adf2e4bec64f123d34c0b228f0bb242cbe811663f48758894dcd9f39b74069b15ee81661c043a9e35f629a3226117fff88ab47d251f99584cc391a8be74c9263a51c779f9190a7b16eb4217be812b5c79999f87cc0ceddf377413233ca53f7752fe6f6213b1d426e0d0b21d519a86910c8f6a7e45711bebe1b6690edd1d2575e8fc59d9f00de9b67eb15eb5891f2ba6bf0c81f04ec4febf3ec288539de96a81fdc36aad0a57caf1c56c87567c2a93876eb229d801e7b6109a20c63d7f27e9a95d2dda661b269989fce35db831155a4ff5d26d1b9a1c1f7b81a9526d72b3888055b4c6e187847f8f1754b9efa1775edff0b3edd5e88b25f22229a40664f3bbcd044b50ad83e6198105dc7397220fa16630256364eda75224726452a3aba5654041cc44bae361a5d6f962b77a2ebf4f461950e222807b74f3430de7a634bac93ed5ff1f5c749b95ef5769c9e9b23d98a600ffaa13e93ae2e34d8dd4df0b85404d9deecf1b199f739c95b071af9f5d33e35d401ed9490901b5346d99be105c5462d73cfdf983311703013e3a1cfec281ed64bdef4908051698cc1838214c37ac1ce15f4c0d6d6da69657c53b306b7aafe9295f48ec2e2ecad8c67bac845d6756d273bc9775e92d99dc00b3a484c62f74b6e94305439f2b8f99e01d2ce8fb5cf7f5c84f95e44642d2c953a5a6a82e74cdeb504744a0380db03e6ae54e799a751975322c857bcf0b0880ca6fbc401585c4a478df1903d84a534e5988aeb6f2a45064d2fa7b30c8f4b173a4c04950e5c7504e5124a183be952899a228851d0a2e4b0664e0f33a4bcaeafdfedcf14f3580c454a8016343b24078ace28564c23228c08c7a9ed3f23862307f5f9640d7603bac196fe143f2eb04aa942908f902fe3def32060651be2d1b554db0328fffa95672e4490d9a9d81d96abbda8c6bfe6d54eedb08187c9423745f740824f60e63b8f9df70c1ede6898fbea5667cddf62de4fd76f70f720e34508e18b0c7044c66e7682acbf0beb89b8c6d6ff4f6b422a6dcb5148272876ffb9c26cc491b035556ee94bd787e9fc92851bc0ee9dfa7ad0bf0131677111be043e4512a25154fc17ecf98380c92c84c0802e7ec1a439280cdf689f2e9345fe4e5fee2c6b9cfeeb2cb1c998227dd88cb238419d01aa2e797223815a627a59698beba4b588696e31013837a739a6df443fa141097cb195e1ecd637798386d3aeb4aaf1bb68286358bd8886716b8441d2495e3f108359a952840c868329b0dcf202b18fc96f163e1c474a31ddf0cb2a54620e32261587f538ed27052ebca29fae780b2c355e8f51ceba7ab54fc192b1e52bdfdfda88a908f2a1bbba45c581b46a42841348ebc1d0b503bcd40f0e137935230bfaf54e5cc03d5837de3747e5c80410556074ce446f15ecb75b595919aeaef21e73e53246a4fcf7d89fa0b17d8038f434be7c595418ed308396c93b94e2e68cae0d16abb5a28eb31652557dffa9ddf62173eca54e60f7e5a112159c752787cdc8efa5010335add825d348748b2a1d15ac672d5056a9df866681a3a9c938a3d3545c6a335a9ca61997fd1b780e17a41d92027156b471e3a3bdc7e4dfc9edbe04287423833ecb711e6ed4c6eab22426f6384038a0a10cff6468f59b397f598db87a57989d12e9099dd97569bfd826e6b9a598d28d990790e8517644db16fef1f6a33f8b27641b65e08f2bb9313b8dc09692f2f1b9c006509cf6b1dfee49c0b45ad583f2be1c236fea1bb49c7540475e5c035868de2674d6432c00af8a04da3c4358cb3f0850e0a2236b9f0446f23331f1851b8828d09fb1f18da9ed2a62bf846f321264b8366cf733430605c3d4503330f14d0b6cff8846efc14b80f897194d5c4b1ad421a66f94dfba48c57ac7e840da241672962ea7c50bb6e9730198a74bd97eccf7ecb5899e29c2c8478b2ea92da23f1dcc3d393aa027b793d391b74050235cc171206b67dc9df92f8b965b3dcd2fe8636f9f0882ceac17e9d3a459b3aaece8ba6e8781ce8e5a6ddfc56d927cbc33d8f9688a93c9ebc2f6e1b9366a55cb87cf6a9aa334b4eb5ba4ca7794dd7c08abc6d56962f6e12b1b4cdf966fb6b556ddbb5c6941a1bfbffb24db8a279c30da16a4f4ad345285bea7c52bb1fcecdda045f37e8a3f9b2cb7b4650ab2c264aa548e7b83fcb54eabb0edcd368a2b9a0c269567044168d14de7560ea07ffeb98c9f2af2cc77bae2e5e26648e031a9143fe621434f384f128d87b4d64b453b82bdf017b58aa97bddf83f0ddedb8eb4bb3ec57f974c5dd49957a09363df459d55d1bc2dc23bb24c586bb6dd6bf9133774466ef714002b1c1c030eaf11d61ed3b9f6247af2161deb703249c85e32fd671890cb830ca0afe0d586f49860c1c4c9d4346cbf24bcbea5e8b3d3aab34cb637c7f08db452a9f12c67472abbd5ed7810520686a75a55ea91539d9c851873870d99d777f9c313f92732425f88cf032767f8e9e5ae15cc1a7aa1c507c25dcbb31556834d1a46fbdabbc6676692c405a7f05a71a4de63520248d8b51ad738f479281a6cc49cfe5280ac02323cdd7e6e796e89b37a51a9a770dc1b30ae7480680a0da5de9b00e5bc6ed27526555fe22662f5d8fa0cb14a8e9bc1228706750e9fd57c0775a491423c0a6660dfa8fffd4acf1a1d8300b63534fd8efa634c9cf7ce3ed776f86d3f87f6a8facc99000ece61a6433e3233e6529d4fa89e9c2bbcce3089c81bdae72f1fdafba05c432aa6149b1f739c5125c6dd9d2dc43323c770db4640e4d47f6d80b115d36ea3a3e96d5afb496807102e87779b04e5cbde47532f750aa9229f6724efd8e282e52639e64730916d7b89aebc6add05c0feba482f845dd4fdf2182ce96c5b5aff8d7c4d765aa3b179a7be857bb2be86d837e96cbe3101182363d4c800786bc4628fef24a2853849c122579d0e49c6db71b8daf3f98518a48484db87df3f7bbc19694ccb066e2c479b2031359f701c48391ddd5b95f5dfd17eb7eef915a0ac89d910ba21e62db3bc8d5535851f4c63752d0c08521078584240fbb99d0bdf5c26a747d46c729a948f4a5feb281c2489a3f39e1639f4bc73a927c7b916591facdeb5223124eac651ce25db3d6e9d07aab8fd2a2786883a0e909a9880e7fcdf994092f883db0630fe0c1046af2f30d3a242c8be7c2bfad0ce49130753a2d6284441deb382f84a3e3ad820d6aaec375645ac5d01af7a4bb7c95f8414188c6472e1405da8c56fd6fca23b30c1a67bfc9db0437487ae31e7c140a409f8e7e2fad7ea6c53c5fcc441ec237e670888001d67d9272deb9557bef73349d1c62eed274812e136778472d6c9bc535d414ea59f747bad85cd13d10933c7af1d2ee99c47941c238d12e6c40d8f40ba1bd9592e6b105c4a5034788e59becbd93eaef292a5aecd4d583768fe13c2ec0ecfd342446537e9e5c0ec3326ac44e455d6e9144661995b64cf5dee4005507a06e5bac7b3bef145764570c77b0ad0fd6d99492cd199ca35cdc701ca5a4f0bbfd0f4bc82b2a85d08e7b71a18fce1ca932e59d2f829597a0917e1417578be9e1001591d3db72f4cac4375b12b0029814be2d6cb3f085b34e6be50cd22d1aafa3b0dfc0bf40f0266a9542de58e280cb2ea2b5c7ed38b30289b4c428a8d13fab38d3ae423bc5fd7f50e188deaef1bb49be86f700492af09663c852dd6b7477a047198cf31cd550aee675c47f46f5c6c45d92828840022bd293881203e9b535a31e7dc9f20c60c28f76a5b25ee62f6343d300b11b72174a6a35fae7fdeb1315bb93cd1e7446be8df2aa2ddf1b2d9d916738239583814f7924457e9506d114c7bdf0d2f8962f78b180d0e15a44237b09b0d7f922a9dd1d5c9837b9d2c5d5295928f2cc2f0d40bcf886dcc254ecffd330b2443eaa32c1220605dd6df5111b134410de659b132c5eb194e9c4a21f8bb9a26e7e028d2d8690f33a8e1b12a5ac666c53ff1d1b6aad958c4f4cb71916c5a2c8d925c4adadb1a194ac935b28d04ccde243a46ee20b117bc10a570530ac5eabf17d72df1f07b4487aabf6c141f29166ebb47dbcafce61f6ed2850c7bd912b3186921c36b1f5ca1708c7724d537eb4a1941dd1f41f96212d6e61a99fcec354fe1272f894c934b9b67d7c1a5f2dbbce48d697e662b4bb7dea99b1721d98bd4dcb543017a7844093f6bf3c743a2aefba5dc2f9a673ff8d94626e929e6191dd2bab49770887c1025dd72480b27af356b3c8fdaf8b343ec55cdfb2042086109b69a48f0709c9b0d2be27e2b8b4c5ddd007d33afe1a53153cc091c86682c214889648fbe9b95bbcae3148e24107d061cc0f046f596d5cace6cee4ba32f8f48cebfe4bde6994b16aa6e04b8e53b7a2cf9d8bb1e1c2af7ad3c1530024e5af082474c1f22b2ab4537917a00820d0b5d28ca492a2891eff9aedf7a0162b4b02068304267ef28a772b6f76a652255f51b2ff7dc1c8a5df3e76c4fd40dca04ce035a20ccb4e151991b7ed01873aefd8cfb496754c5aa825f77c7b723595b11cc1216e636d8fe9a95d0d1c1af6a654102ae62e2ff6cce0e39473dfc93662841cc286e66e23ae1e5209ca40efb582d989126537c6884b520f257ba402a84aaf77d800a870e0dad174107520d835ebcefce68ebe522abe5e591db8825fc2311e7119a69a99d3ae287349cbea704a05144b90461f5f9b5cc02e93e554a9a05718968cf3fd6043590c15caef7d6c4fe584abf72f7c886a75d9febc1fe61db63bd555a91256a567318eaa4c9ff6edd1992cd7adfa282b07b7ca7b04c5e27416a381f9e3ea19e3154a4d122a3a1494427a1c07b7ee478d4f87c5f5cf513903e737c80503f38be052940f8f19ab9cd7a636254c45983e8cbc9b470406e9176a32d841098028d28c03e549055a6983cd23b8e768074795e890fd6872f0381130289151b4b0103d77f9626d06dead9dc0385ba9165ed1be5839957785f3c037c075b217de6c74ccffefb5f7977844672853b4b459b4078f388de01f91a24deae81fafecd8dcebab8040517b68387ebef24a75e8ab52e31f2bdef3c18d898c5ae67aa2e180a0d02630fbaf048506190e989b8b0184f337263a4c1d43bbbe1bc7ce6b1cc66ef432cb2b32311962ca24ad7c6066f3709b285643eb3642c06f0aa0ee53a67e7e5dc257d9e73838614a84aa888645378170b113cc7511ea19b59b146a4b83655bdf2573640d1a74492ca78705f752c65daba0e6a550c1597d9eb5ce5b451ba42e586a12854e27d31e3f27e7575b00f8aa042aff1691e0ba5f1e193874490c02e77e0aad12771d2c78b96ae4644392af428050796e90c6033e146e7ca204c488bfd2320ac68f104a1a11649a2d789621c35c17837b0a9fcdc92af4f1afc8bb0d1da5b2cf46ba05b864d57d0c5e857429259c801ef9031dbc6aa88b47c12b568fce881e7fb2c37c100b36427b73d7f0b5b0974f65d01bbd32216acc24e86350cb7c50c89708034ec237a08d92bbea8d5c8695a3bb6d30f1f5078124de19dc11e752ac6b497e04db837396f2ef8cfb40cf573187ecf109d2a922f55c4f676e43e746e41fc611f72a1163d100d2cc608a918e774ba9fa8a3d7af68f9a1ad3867ef0f5fc88ee95ef6f7887649aeb7b31db275b36712cc1786f43868a3ea13db91421c57be31bb38b4c9fb8a8d4fad3f242e6dc64211f98fa6cbf0a9ddf76f37b582beb8e52c05e3e312cd2a37f5f2afa3afc650312a165434b18cfa17a9b61238e368c747068dc534ebd7d749150d580aaec01db0f6cf0aeea056d8d4b6ec354276d188d9e238defe7534f7a52b5c4bad44c7e1922a2ae5aafcb3ed622cbc224b9a8243b92c7294d4da215324a6aaf783549575f67b1e9dc835bc806cfe0eb1fb4fff760ff73b1f75545e04ed5462dad8974bbdd56835e56991bbab718860491630077f8b32edf03b27dc6215bbd0692fb397c21f23b74c5bfa12809f98b0e9622e11b7937adc9a5f3ccfa919ef1ca5d65f7bcc4a71b9b123db0450e5a0cbbceb5732a95a9f008dd6694a1fdb10388762f4a8a3fd630520dc4adbe5c84c257ac8dbb745e5cff63434b21ed33dabdf696765b4394d4706e03433cc80c816e83a4dd893d1a41003c02971a274513db0e3b5eba36eaa9c0e935d99729c83f6219a80d238d1437377e02431030b8f2d931152fabbd7e6ba4f111aa277fccf7b8c5910ee04fb9e4d59ffe1be1aad2419f57d723d0e68c27811a837d067deeac2eb1bab237edffd65b47427cf938f7bd3ad193ecc276cfacda23024b3457c87816dbc7c224dd83af4fd9ed8a2f3df22c9325bd05ff015bf659dcb578c1d45bc10c5e491da531947c258d827e18a57adb811f8a769a263e0ed446241a4de969e9ee45cd35e3a01ae04e0b017596c781596af4d9e233047d885333e2b64fd795dd1e92427770bae2b96e2cf938b9ef2ac8334da08514bd8109b1178af7b65f0368332ca8570b288b5985ce4f999e974c5feddbfdd353ef59b88f58a30f4fbdb559f5fb31dd4b42b7834bdfc499e448b60c1a5cbab92c9b022d8d7336f246c16c5403dbd889b0633f3bb6127ab9b2b765c1b5df121982db5fab45a27c1f8ab9a940ebdb83b1a65d6283cdbc4cb0e78255910549216792cd2c5fd375225584cd39efdc694d30dd4800482bba8db858de6f4c3fc6246dcc1712e86ed711b0f3b2b8f64c4e45a197a05ecc02f13c0107f9304ffd978550e65c531ae736cba41fc6b6bb40b15603305f12faf30517a0dbafdb18e2bf1aa742570130d06238f2cb8f468f4673a284869c631c729437731809d374ad8339d46377b8adab19e1db976029f9bbc415feceb3cb51049e75f3c496425556e7c032c070f633af4df1dbc47fe9ebe0122e2c897c22e1b30428362818f7bfc995b4ffdc9a3570cb296520d522c8c925bc7697e9867d1c4956f00a06dfa4bfe1ee9ed51ba8d72bbd6129223004ad60742631946d1ee818e2faad55da31ce101e1508ec80784ceaee892408822e1dcffc1426333d79d565b1166019d871b41e644e1d142d5fa600f8206dbb4f36d39a263a7217eeaf078c4d67c5369a9d9670a614cb16eedd0fcccb6b9c3a62ed1489fb307289cc537d8fc34d2d8768810bc128f80fae815f123d180409b2b7a24845ce1538e2143fb081cfe34020b8ba89b136c9137317910a02c988b36a8349d445d700cd2c066ca6b907fc26b5d96dd26d35076d991906d52fa189779303a36f2195db83b529a1d8c73f9fd1303fa9ea6c293c8c5d936883030bbb5d2fe9a50d294fdf074e2fa43348567dca58cb8ad4417ab78183ca400cddc33b107b10c6df1bc55c0d7b01b9ac0a17d1a1a47de458577502d5b349134e147ab12598bbbbff341a1afcba0310e89491482a06e9d591f1aff3ae5d70c20bb371b7c237fc4d2c33459b0bb7ef84ac15a83dce8216c9dc4784c920825996ecfb0411ea9008214c74ba27377e300d82d9d5847b82d63948c45403a056341f5119a4f2a648688868234b447a3b313437df7f4bf489cc34920ea619d6acadf168e71a71f769953cea7ba5b850100c13ba64d3d71216b6c51752b08562c4a749100298c4376af3d00873953fcb4f439831b3b97a2c5de22259aad771603fbd354f8297c91b1b47409f98f12d547fc53297e04df99126c419a35778e4e2c0642c6c4de265ae469090aef4dba27b029007c528bc5aedac4482bc78d54ebd9e65cc0472703f832cb580ee3c55172d423ed7906b6ae0d32251df4680f27a3c7be38cdcd4ff42bbc342bd964eac70ec8c1e4a1477949819e6f651ebd5c87f81399987408d6a0509c6b3168e0199f7bce42f93d5c35828e2315e26566fa9665be78d9b0659cb143f44d2ea8adabb546de6c99b64766d92fec8e172f0750ca3d318604ee4fef74e5ea0dc8fe2c701762c3f7558ead1103859e5cee4814716e707a62a7ffb0af54be99be60445c62baf9af2651b527dd7599d2209962854d3a115c85bee1b16798e26ba4f221dfd4d1ff4f7904f3fa6fe5a9e5d2be7ffb3cbc319ac75ff2c84fbc469642d654222638eade0c3f7e566c29a0204ece70e944f3adfca832ea0b440be61c59c604d347c55a2f8a600d884ec6a2e73ece219e322619c424ede464b31e119ef78322f6012d9ab5f0558cbb96ab3a0133f21b7c4ffa2779a4b45c886f2f9069b9b1e00e4c6d7c785fbccc1a7c0ba7d03c355204752bf402cfe272ed3449ae7fd886bf5c31894e1123a7862952595062fa6e4f17d788f928fe6ddfbe08e7466fabe013b131629cf3230aaa469c3f945b8a63f4a68a97eddfea1c8a875f2575363136172c1a19883e5e2691e2e459955a72b17688c2193e0e7169441734d48eb9f40428c953b7505677503689587cd4820753e4fc3fc4eccced7fff9b55b5f626da410fd4cec194b854d6a6427d9db2f0bdefb1a3c9f93843a11f7a406bb25f913b773ec106878b2f2abb314233e40d9585c28794f01d3ebe0a85c336a08f6c1dee7d75eff529a1bf3362fd188075455a669ee74c36c4583fab4f591e308a1e7f8d0c28df2b0f5a2d6f684fd7dd8a8f7bcbff454936d7e814d43820b2a2aba62148976d92146fccdc58a40bd787d50cffad2f56d6947508f2bdcc7765353614dcca6f45342b28ae7bc64fec77a3894484723f58525dfba4fbd5f54435bd3db54d152019442cf4ef35a0601852c139a89101b2cc9bfce910712b9bdc953e974b8cc4b4966c0f7d54f6e7fd2e682298d52784d611d1ee69fb551b9bfb78e51cdcee39b43b631fb353e2df7361f01bbb1e3759cf1e4552780442f07313512c5940bdcac77dd2998eca73fa2a83a326b19cf6a71c2ded37e2aef52049ea425d33cd725ddbb07eb1f11d21d2b13951a469e85aea66ddc583b5ca75b9b24772b41d4944f5a385aaf9469e28e2e4ef4490f53e8f5002becf69ae22302c6443209fb531500b2ce24ac48c1dc647c9b5c318820979216c6b774ca6d20cd4c9761a3039a6a10143e1455fb30de44085d8a55835664f79ee4bba5fcc89d2e508a394778fa9fbf872da0ab0c437ef55fc8cf6227473ac1538c113d9974b9863ddd2ef42a61e49f9610ca98a76cf82eb51652fb615961bca1557eceddeada0d186871dd39e6f9e04c3ff8381a50c5f170acd015f0d5e1eeed14d161fe3f6b597204cbf1ebb7f01fcda6e556b564373368b21ed52f8d556f35226c261fa1f78ea0e69c6052df68c6ef831dd3064fd3fec5b658c1924ed5fbd01a13c222885635e2bdaa86c8f978d822b2891cd35ff6094dad941d07a2125a91172ab6e74a48e98b41cf75c72338ab94b69ca66f254e11dc1d12c8e8ca34e83a6fb4af0959310089d97c1df7d24edc42deb578b4398b041e0308cedbfa55ee5d75354d73f84ebdb48637ffde984b2ccdfe15b27d25410ea38c450c94a16351524f4154dfe72ff0b3e288a715dec05ef809ada4290e03ca276e658a58d599c53800d9d545c9df4a2158cdc95422a274f78a573ea30192f7ba4e3afc084bcb92511feb8bc0acbb44c2ab72e2cd0f30dd94b0168ffaaddb539300cdf74253e7e082b34ce82904c401b1fd117d1ac98b9b1486a26da1b2647b8a1f7b012f8198463db261f16d981bd927fc8a448601ddea103bbd0c7578278a82706200084ddc4e5689e97c4b58d21aeb762d3425983198001b867624bcc3731e8662c035f52f2ead31fcc90b1ba0be6e005f3aced2664ec27ab0aacab7bdeb802fe31ee89d01dd8dff7740a32b26bdaee4f2a26238b6d9244e8317ce6ea50092c541b21bf9df2e43a608fc79579e582c1aa9950d73790872b2de97322e4693943cf4008564bec336051673782a785436298cd7208a6a3fc799636a46a2ca6985df7cb71eff530dc20a4c996174a5f3c6149c54a765759f27a8312840dcf359365a483f5aca324ecd4d81f33f9aa18e2816bbbd7684003ddaf61eb664546d510e81dce41bcc3451050b0434e4be277116a50d51e12194cbf5c4e380f79bc927eb053d3d2a4f37e464322315bcfdabdf37745fa28c92dbe54146bde2d83d354223477f96ddbc94f336eb8b89cdca5684008d36b389e12e991ca24d9ceaf56fee95c2744f2256c0b559dac6c5c9633f2472a1195dc2be19f719f766d049b987f8bcf47be2a1e87b48afe3fe68625b5629482680b487d7c2ed5ddc66a92728d95b565ffb1efe1d1dd7212d1da07f4d0d57c61dacb5badf05454aaaa2a5ba31436a9bcd9da59a2dc255fc8a517a3261e762702b6bad4c15d7a2b80c2287a752232e79f853a564b5692666b17c6e26622715378969f1c0b17df10a5756c9f650fe92cec5279420696b1920b95d5be3265d1f863b1ba901046280f9a09dd666e1fefe887870c1634f166bbe5b86a8f25acfcc2cc10f1d624c063b628e9da09b07c532b133627d584b70c24e6ee414241a2860d8b4dc82b3d3f5e5401950181785641c573837ec416dda7cb7a9ec98b8b440b1fc570f68feb439b8591471396821d62072450b43b0ddcf1eb57588d1c15b2f40d9049b34397b7a1132e2f2d40a83a69c9cf9798cf23f50290ba182e5fd056164a16f403c0f35457fc57fd573abea8a10c376dacdcdfbb4f74cb5741d38917584f953c5884cac40ef388ad39c9b6f93ff4b886ae020cf810996d710f7952e80a54d479a5595aa2d393f6bd39d4ae723f0315c1d081ef463386cc1d8d00c0d01e40d88d68045f8a54b2b10546c8dc0f330ef7a0cb1864fc22357c91483f72970e59e3b876d9b4a48a91a6ad47d5bba797fe440123507fc4cfe200aa2157082704ee8d306fe7ffb5443fe63a6d7a3546dce23030e29602515cf69edb8b2d4c256b3f91cdf49175b87ab5e02f4a7f53c07a2a278b1bd44ebbba763ca5bd55916ca9f33b88606050bf0d94ff2f88e42885b6318ad5c1a504051b123f4666bd92501dcbe699e888f8604a33753dd80176a9c106cb517953366398556678436c035c4938276542cd92cbeeacfa5a2416217cf0afde412cf77e2aad345cd1b9ea8f898604018a094decc1074db69a0f8e58f69e97b7f5a797dec11a9c6e06d25d73f8d3e99bb392fcee5fc4616656cd638087c456eda6f90a2d65d34d60535bc8ba8233608b897a947f319507f3020df29579791eb0d43ae78fb0ef15e6613528e2744c497e52cf5e3178efb761bf0ea20a5915bd1af55492ef7c3e7add0bf83f265cbb9347d056208b5b486308b8d848ed479d6828e152c16f421df09f46f8dfaf9e176f3d4744f905e8152d502d60966430d01ba0d0eb428e5e218bbf69873c1455252842ed3949f3d2b541746472a7b860865b8983a8ba6a77b344c78aaa23f8252f14de36fa24c7bc49daedc5cab9cbb5009e339b95181eba4fcd1eb5542c15b4d55b3206b7cbb3365f22a77391951a769fbb90f69c133a5fd9d1c28e7c08b6b37ddf52af4c95acb5fb6d56841f33a4600a6ac14e8b10393eea245bb8154df74ec25f8f99428e927028f90344bfaed77d10ee3dc8973a926a67bbfeef36f439e86363e745971c78a795e2f703f56c642625af3e55070f8d717dddc063520beda89bbf0023c39eeb90323e26f7a25415b1cc36a176b90175de0d57a6102c7e5d6e338689a158871f251e97b4fc404482bf6d132ecc9e0c4bdb449f4610bf78c6b4764ff15ef2d02b11f68f6b71c46d36c2e292beaf855f2ea155e88ce81709f3c91b1fc4503839fd588084debe060344bff52a34af64d206cf9da4c742127c77571746030f8af7d65f240cd26a2630b471bb48ceb5d1a7382e9513722463f78e4fd875bd09228ba8354dbe962a942f5ee78d75fc4196d51252dd6f222bb387ee407732b2932bf0e80d8e138baa0d8f9a3ce1b27f60cf1198912a58461c1feb8f6b97ceded0abf5c120196ea563d45dbf05084d300e39b46149130c72f03e624f0cbe27cf48c8ea772fdc9e5d669230809f7ece0488eb4033b67ef76d250b4453ac321903de46192aface2659020f155d5a6f8ee40f8d5a32f37c1e0ad808bbf4eccdbc8f14aaf2bb61f7be19656f4909a9d777a030877c3d27af5fa8e2968010c520ced46cb1eb708d3d32b7d65d7190e4025d3d8cffff5610262d4e98dce653596bf80e92a37becacd51bcaef6b90dd56a41dec25ae9e1ad6eb95a629f2dc506234a584cb7b3eae3dad3028aa8e4aca89148181cb763202d8b67b28d94895cb1314b1bbf6fa88ecf8b6a4c5a8bdd2536adf187cb646fefbe0afca2dcb03af4ff921e132289cbe236af66d5db5d793c027ba034b1a09ef7da1d304e454c5bdc205af5403b0cb719493120bf906199c56e040e76a95581f56e2565c0f4a86b090899e713400481711eb32a36c8f6b09bfb6f20777236cb8c2f0aa25b976bd53a0449c5ce0980e7540536b6047baf26d5e2aef35db079c92ee9f5bbad06e79a5122035eccc918315d2707e3abefc88344641df887ab056aa7c438854831007a43fbbacc8e011a803a9692cf85eea8a34a6fe07457d04a783357673ef2988c7886c8c052418265ac637178eca3197987659554b24303101789a0e67411d05d43acfd2efa74a662a196001a089b1235edb5fbd0877b9b3235ce1a0a3488b51d90a76a78b63ac48dbfdcc49fcfd24a0cb167222ec4c1b253b539ff830d94b02442eb284ee4cdb3e9d5f6e10386c3e2eb797743e3cf2c08e129e34b8d94ef294d6b865c8ff3068b2945fd8645ba965b4ed34032206efd834e7798023291ecb91702831854fb77fb091791e972224e86d4eaa86d36345c38d1db4645d311e10ac51079f4f5075e22601493fb5eaf428289cc3b01de47d7044a50740cc6b51fbe89372f0e7c036d1fed7f84cf17b47303ff8631ee0e61a0d61eb43df2a7dd6b8811375821734bc2e593c4e7e1c3787d104f2b662a0cebca955e58985817cc1c88c63fb59bef96f78b1d50dc9cd2599caf372c84e9f1774fbedd0f7b6159b3e001c05e4815e16d695a49271a80d6d78f59d0dc9f66197dec07e04c53e2512a57e6064ac2b5b271a0b44cc59fdd2262c0ec581921ea305c6306ab5582799173afc65f99c612226259491a5038d0afa2f7a81e688ba4fa3dd888d53cb4b33b0fa9c17a0b591fd292aa1a0f46bf1129148331ea0a72e13b7b7606e214e49ccac70f74212c1fb2e5ce9e6ac386c773b8ebd4d1a6f1ab0d7544802df04cf7ba7768a85625799394d3258b1cad5370c55fdb056c01dee586c75dea31641321cd4411aee75fd07adf965a9a6f5c23a7cd81d4e7d9c7236e0eaeca01808e9ead6fbf1a454384091a4353d75e466e24d5d60ea654ebd8a2f65da3c6242788c293a1ee0e3e193643fa614a0958c14132c042980190e91016747a69ac6e2fa11c37ba7ab16ac546f035f240bc72378a8f4de77ff2c7ee3a7fc1b76d9cae59c0b6345ee0f42124514a3ec157afe7f679256d5d77773ffd2f9336cb5ce9f71ecbf6f299e89a4befa6b6a14ea1274010eda2255a2660853f0b5ad2c7a1da5f3d1a87294a8ceeaafdf0a02b41e9a70e850961e13ba0c9ce3d19fa08936d13996c2a65bdf6a87ecb90b7d9b67889d97cba48b6d76ff9f28196c0dbeac59198be5d45a6708e1d9297b3a72dbf75770cef2c816c75f4accf0b19a77ba3893ff4e6cb139e2c7c3e4eb03bb0908fff68e3ebbbd706d581c5bea7bf581e86cb90f4fc9a273ea88e0d10a290364a790423c9ebaaebe46034088f0846bb962e4e3c23a8d480410286c656c05bf9dde98f3910c4117a1bfcc5395b0aeebdd73967cb8264fa18bb6f3a82f1c97edf0d4d65d018d7c6fb240620eb8cb89ed60de5009ce3b04f12ecda8dae42b7980b49c4c8f8f948648c4c1225d5c6a41b8fb0687ad2d182ef32b4ddf16e8ea05a698851b0ed93c7cfc0121ee837c48c021daed575714c775376e4b7a3ed9964d251aff5e534576460a80e81e5930c90194ba585ef48480cf5bd82afaa8734f92385906b4734998b21b45cdcb83107e75e760ea4240763e6bca81841e8a7a511e0f23db830b45cddd62c5a39797279cca714b4c4b4e644759c60da4a58fcd848fe3cb1fc27b7f9d68f4b5babd93a065f6cc93d398d9b13df93632209a5a8f2f9bcd930bea3857870304d3ceeca1663ea6212be7601e0af099e4e9a2ab2953c087b336ce07b05da3233ecb5853b3fb6a7dcab17949cdfc3d8d35e05a2d2b52d74d5876f18a86887f1f7c24ad24b54064821558933f6cf1d9472c052f8b216781962b01aab5481a11d09c9be081da26bfc478a72da2f3747e2023bb068ec27227e54ae905b5e95e2c7da472b2b70e1ec460d2da1b220719883126c1ef40a059d48a1b3ce0b4165f6ef96219928490e44451fe761d6e83be8235199e2269b4155fb13e33df7d4b6f094d50ddd6d94cfe827906a9bdecd8b044dbf90556b14771379bb8ae2acd18732641033af8e9f9e610606f030e764d96a23d465c249dad356b5d4c570f6950ba224d138b9b5d27e07c4f3797a033667947eafe3d29108b16982c535b3f16cd7cb10527d48cbfa5bbd499005a8d7df43a986ed19d8533004e2bb498eeeba9513243915cc74cea779213545249a2af8927454c9a884544053b21e1cf36a4087061b0c672c773cbd0601481e563c1f088c8ba0f297d486626e791248d47e4d25003e20c4ba7cd16eddc6c234436738b94a4be3158bda98f653828806b6ed2dae4019cd330b553bd99a89223fe68b1e402ff5d6e502a2961e02da38e46ef470007fc369f5355b6fb078ea0ede32676fe5d13ec2cdc2646bc05b682f7aed87cd3dca26dc518820147e8a9efbbf56708350b4ea8eb48ae5e0888e268e0f1f4d3661a2eb92601b32af41fe77794168ca5ed418a55abf6f135968885eb835a133f7cddeba488f324831b77408a6be7aba364f572ce5bc1d942facaca6700caef4df044d66746a05797aa28b10edcf61d8e7dde2acb86b541180634be3e39537394ad2771b13ad110894dde21ad03260fe14566d560d17514ba39f3d53e5db4d9631ed13136c9c11ed1bc6257d2fe08c5a3f0b92a6d251c74b3ffa9690a059e358e998be041d2ca38fdabe2f1508fffacce7a5795690730909b866fd2501b4e2c9f4e6db33b11a2e4ab830d05d0f2143a63c40a0934576b16b3f685dccffa1ef696e7393b3c79ee59345ce49da56f12b54becb87c010d8242a261f1e94d2068f908e3854cd968901ddc295ac25bd83b26cd35893ca26121bb8ff8ab06afc9b2e2903a07774da25699e039295c2de1bb2ea2a9cdaf00c087566ec2bbd77e295bcceb95233f75696a73a78c4387b406c986555c183445fdb7863ee826d273519a220cd70a10cf000cbeee394fa5c5a3b7c079448a12adafeef2f5dc0cf98f094ad444d22b2b745c3ab40afccd7fff87758999030f45133fa609c8bb405c544823db402543d49647e0adea81d02ccc192014604623e7c3e86d3e4a72f2258ce796e94a09c6322da46ce6b22160fb183a74c5da3b0afab1e8d3ca1bfd85812f1b7eaecebb4e0e28c0a234c05fd7016f572bfd98a901b0f3d75f773b3c1e74eb2a4ad527244dc0e58ae0d39a0ceb3035f787eb4b68895f7d92c4f2b01aae77376a66790e8785c617b2ea2277e4b12d333ce42ec378985445a068bdf723408f179c44c02958c79201300619ff59d734bde0fa4a826d8176c58fdeca8a406a6e82369e4ddd3e6369b015823fd029ed5cb839d0b0464f6a7a0626c69c059c14bf27f903a62818704f967d2cc2fa33882765633aff90e5518ef021372271190abf6c5641cb21a25f058b88e29e5a050a65b1e4c7fce89e1737401c701a21d6b4d5642e809bb1f5dde82f3e8fe9912c69c701327ba772c438ae4653b00a3c666db5970214dd3fa8bcd3e14c5e56a4486b6b7c8417c4c2171cc8912f15adb1151eb9bb21888f0aca2e3ac0632dcf03f99b7931193c01196e7852b22f44be2d99d6dfe33f26911ca419c97bc78f2c6710b5ce3efa81df5e42234b8dd3a64682974d3d09ffd19e2acc6accaac11ea0ff1a2b5389408c7d9863558b6c6d96fa03d7300eb1ae2426b03871e83feced3f3a02e48af907d08abdb931125cd6df642b5128a92fe5d5bdd4ee43d357201492372eb6a06a2d51bedd891be7523878db40055cb1cc2c176585b2bd52655d2550f5081c0ea6265183ce94fc6b3351709a50175cb3550296469e21825518c862bdacab462f07f7aad76e4e1f08c752edfd91979f0ab4d74eb64b20058248ec5ecf55286b875df2fb99962e51df63b5e6c24449a7014d9b02392a5b918f40663492acf4f1b250753f9d1d92d7102b04c078230730df41948c5783d690a5d0a612de949a1e244da5c002c4f00674cb2a52c2e8c80ddde9dbb91441e41f003ebd22587c0f47c1d49b21ef7154139cc27fda9c4ce1e733c38001f8d27f26ca304484091f699ab22307b2324807100e2e1016ad4474b831ce3a62d0b80626ef82e47fd8aa021818308c63dbdb730033f74e487b064fb941f904693bc21263483c610ef76d477d88cd5e058dd9221b557534451d043db09fe57b9fb72fb2b5aa8554e18cbcdade62fda9f792ef911aaaf8e84577d3e3bf1432441c3767f75289a30354e0b282cc038a08d2d942e3d6e8ea2069c3f6c8248b91da3a0db18746da96fcec2fe421e0b9dd4f41ef71deea6cf6905a8ab10e63c1cfecea9b6629bd47e60bfbf33750acb36ff933269129e8fa8ca0dae6e5854ade28ebccd547b52a53e4bc365ad25852cc64c5acff3d60e8515bcc10fc8161992b1b2239c52c08047bf8120190890361379ac0ac6b3aed3252a2de114e4a4e0df16538e50200b8e03abc1068b83fc0e3a2b488653cfeb0573cf218b3df4fbebdf2a140c10d4462a83daec8d8b7ca12f4575d16ffd73a64e03f2e6082b7c3f122cdfed3bd0f9a23527ce7147540504e38670ddfb91b7dc1bb985dd48efc3166b401a8db17a5618bd06ff528a95f58e27dd4072933adcee9a06e415aa17f48ec84c0a0a77c1e1f05fef43cbe3e02d0236e69699a058922898a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"b3eb2cac6c38394af42d3f2a60d97fc6"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
