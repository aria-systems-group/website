<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"867e28c070917384dc8926a5898f551af574e4a34e2412290ed3604017155578cca3e67ddf433f9d7f758ae6f266791cc7f5abbc28867f52bd0b37c54448cd44917cdedcb6bb77fbc91fdd0aa49833cc8150445c8fe8cac251c6eb484b2c2523053050cda52ada4d8bd6c2364e35cd6f518fbc8b957764a1ffc87901f55281f125aaee13357b2b33a3aa65bfb97a52e974659dc1c83bd9ddf9d21184c9a5d6ee6f578da65062aba6ed6ce73b97fdfa6109b3381edbbe72955edc2981f570e8e0c06aa2f4889a680d554ed11d538bdb9b163e79000d96abf785feedd138fde906ad79e124824fb00f9cc6ed5d5400048629b91730b89e7654d9d3e4d9693d06de27cb6cb7182a6b9635a787b79c40c17c2ce43066b252a944bf571d16febb0ea22b33dffb6e39ee162d55903e26e5065143577148b1ff1a732544b0d55f9d2d50cde5389054c1d1cda0bdc26ae235cc961a963876abf0f1d638ded91ee3c4122c927d405f855577e1db773bea084c4e631368b42984993c35e22c9a43f23c155c5a1a5f8477b78cc113c751054289bc4a286de8a444e722ff5ff2265721d00086a07116d367a144f6379ab0c0207989cc09f4681826e6854bfe87a7d6f2da1ff364fc19b302bc5daec4fa70405549be033924fd6880df89454b311b7a393f3aeb8e33032ba1d353a14f53dd7cfae31b4fc4a98eb740b99a5288995425c733d5c84c1f1e4fbf9ba77f19e87ef30c64ab9092329aa87b2a5deac98c86ec90522dc286108f22a0a04c18a28d807ae410fe34f1e060ca31a14ad64698c6945a931de0363c2c1171378692bb9ef59bdec7fb950c491c124b25f6aee01f88d90e3211ccf4817c022be13d39ad1605d5afbb3b508041ec0e31854125884217a89a3752100eb26e60ba501505306fbf8c1f1e6be783ce42a5702ada0a9219b92d546af6d9263b3d9de9e27e538855a576e22121a22ad39ada40d57cabfd9e01d5ebaf76bea0b7bf524ead87adf892abfceec20933c4f5bd30b63ff27db759f54c1255540bee8065f1405fc90089ff908f462d7d904cb62f1557ca0e9c36b84074796b3d76fbfae9d06275ff2b8102aab170eca482979be616b5df882437281d9ee5b1761bb5e57f31f1e7cba166a36aea65e6610beb4ed4bcc9467a6cdc24e9ae81f75ee7c9561aaa16995977e2dd7110411a4483727e78d0e4d3763ec0aae7b5cf3b5c9e7f797db82c08060b4c4c299757b8686085282ea301e3c130622d2f07a30a977d4f4cd4ee4d543cfc37fc305bf143fde8a2db566fd9528c8b62cec8df9c49889e2f2b5c9388d5b33565d5d1bb431c568b7dbf78dde19b1ddaf3f925988195ef209020d7b81ee0af5adea4a6a6f57022f1c05bbece084643fe089b5d45e68e9670aa135a2371d91f120b613e0d60599ff7df4feec04d804a3a88e04467873968850e9277d719954bcd99802a50979d8b1728b91c7abc96415b5ddf1e5bd7a47069fc79b3ddbd3cefa7c75b45e822fdf2766ac0d38e559fe6eb8951d2911c192d4f740966728b3fae497896324a615e18fcdb7a5ecfdbfb74554701c1ffee2953a0bfcba64fbae9608ccd9150e006f22d197d5a23f4dd4991403e5255fa2b8d9936da21216ee7f3d78e78d8cd03496f06dec8be676abd9d64137aa1639e9b6f452891645be9d7494154ba7ada792b2ca4ca9285008b9977f5020d5903e22c1fa066ac2b83343f193b01d5a1f5d913221867de8b4bde6fc6dadb8d2402758c5f5dae3fe96a6209591d8bfda8888ccfbb7a3d239efd92e4a14a699abf3de0f91d73e49464ff2a3d4cd8fa368ce9dc72fead91a9d3a38527310e4edc46735b13b38fb52ee5d14ad1ca8be91d78bbf6c16846615da6cafa27bc1dfab33e19a4735e799348d1db5fa037ed1ce87160f73f51f7f7ca77e95978c0145beb243d077da9fd87339abab370ff0fdfd7afbcca3e41c6b2d079ebecf9f223be83586d84e36ec4ea9e040dd7bfe4a96163da5cbd59223af6a5f701350d49c10d6d722c1b235e58fbdc21ab4dd78bfd4b53b6f1585c7f514d111792b25e7fd123a82872aaf1f2d9eb18f45a3a48f39c525d14dc60b30e46023fbfcec12f003bbabb51b73e7dbe0a52f0663f10d793f30c826a9bdba80c0d9243c033521ec49cff0d9a7eeb1f30809d71439058e5d8195c53c4d93c24c212f2986c3ddcb01b58cde9aef3b4b12b7a15e577effdb114fc0561d9eb9cec0266b43c27c8a6a26d59470aec88fc139d6c2f1562a17dc4c596ae182f12c29fd12c27fe1dc0f3afef3bfb6b9af02fd3a6e9281f7e82113495c099f4200a9bed393b1e4d45057ef7ecd3191e23d2672d164c976b5376bc9bd0a2bad87bbe35f0557f7b78a856cab208140a61211dac792f8d229dca0b43647fb1baef0985f3804db01f9b873c97a0cad1bc6008558631587ca7739eebdce0ec30f0d42ce45edb24e6f8ea085f2cc2e82c5ace959f86e94630cd68216a477984e024d315f8d69df052b7cfa9d69a5e9bd79cb1d43d8bf68418f11201866aaba56d79f620da5dc4442fc52042ef4ca94249e3794a7dfffc57d0f06f1ca10cf7c927cbda523cec29b26fab5c44f491f784e7f9b7b9076ee4a21a33afc306033d78692baa4f4199e2c5ecb7c3d547459746db2dc34a4d9c94215962e4ebae174cc0d727891a5b2da6b98533accbede2dd5b2eac693102617ac7c8d7ada6b436e0b36b94925f8f5462f88c8579b31f5778a1f6ac1f2c575200aa24e52d1699ac9e5a46e2c911c99da211ab463af5e1972b8f64252f13efedf6bd0cfc06e77f195cd9cf6a8e4aeefdcf45a9b9bf39d83cc7327b5950b192fb4b045394382d29b514c90979fbb2e187a58fa7641e4f27cdf53a72f3b37a4842f406c877a5bda834f9b310bc87adcd28db39ea30dfa62cf67c123eba7f1a3b5b83baae43cd458bdeaac035ae85c683c72039d03b62c726f6e3a4a7a9cda925a9247c2a50071de157c5bc6852dba4c0758692789b3972f0cb6976c59df4a9aeb462cdc05fee5d9ca49198780106d01e2d302812f212bd6a37d4ca7adcf8fadaa41f179aef333cd46f7bddea69f3903c0abc043e0cbaa0a44d8102719c3b5acfabf1939e8ec7291236f5920f15aa5e6c0f47b8fbdc5b3640b270d4989f5870e033253960c90b392136773f920124728f86ab3c0357bcfff8a80d4ba31ea9632005d4a35417c563498d5531bb82616217f6ba94b5aa513b11d968f2475dd8ff2140aae0a0fbc3368a0ffceeea6f560c2a65e8b37b640ee233172f407edc90635501a516ba55f6953dd79d8c43615e4f24e8cd1e0f31e00aa3e40d85b647947627a66226290b4b3452fe1c947c243303c65e33d36e11611539666c0c177e929d6dfaf9c53aa8a2ef3ed8c0d75fce38bcf7c419a02ed345e19bb3bf98c0e61468ad48eb949b96876ef14529a7ded19828d800021e379916d091baca4d961ca932193d66739899b3b44b2bcec52b8acd50fb43861d424ea067b8caeffc2aec49dd6cc9442d351fcc741bc41d32c68ce03fc6103bdaeee247bb335b9b96840dd5aa2b43f21d2d105744a0c8a38f9cc83e40cdca58cf5d1ea8af0558b16505dab3c267c8a30c5fe1bd80bbe96a44c78feab4ca3650976c014bb0d59a8443095068827c4c2d4928eda4c40612c47742fc33db57d02c59781221ab0b51aac80bfb73464af4919de6054283001067212cc5277951f8f3e5f87ce45c476bcee35bfb70cd6fbc6a7571f79fcdf4a85140394db6a3b7d99c7b4d8d4ac31ebec014a020cc060d50753a35885c4aa62124e280925fad1c4bc2cb9c1e97f4222d0538b0f69f7979be49503f3099768696a7a1bafd27d29a815a919e6915b14da3dd99168f153434f2210e7de1b0a70ef65fb248c6e8a657888c58c1fe01116e730203ef9cee26a8ddc8d3388c7e5a21c8a09f2ec573c20303028673034b244f6633eceb52350d7d71c0c275643ab69eb939a179109b0fd1a9964e9fd7fa907e98611348f057ebcc3f2bf36d4ad2f6d31fa34f31208bffdeef217aa11ba0f3378883f9aa6114350b242f4b408f0a8df63cf0523c5128c4a17c8a83d98d6239621e3317ec3be244b857e2fe0dc350c0859ac06f1517aa62a9ac3f3a2672f89b50a0171eeec191934c4968d8472521fbcfe4646884193ceb3f3a9777e94a4e04bf1c0c7313429db3a800d9f972cef83286ac40ada334ee557f8066e8d378a9b366620dc840eae7718d0f7d400df4b911976405482c31ee1c0609e9b401a6be3e7cfa984c5659824a50e19be3dfb8e7b8e00b915110c737e317584616ea245c923feef859448fafcf691612276a6bb7b080445e42bab54a95cabfdbcad0f8151aab8143ff72802bb9ac6bbf8334d34afaf4af3266848f191cb63bf281f960018fb32a67fe1d187463591c748384d41464d724fec0249bd3ebd40a8edd8520ec56a5f73f04d48817e03a2bfd36a981cd59ee32ea0ba6e893a9e73ea7d8f16bec5db882c0331e03d74df82cf66cb89d4f1be4690945a39e6e1df73428b76e4cc320828d352ff4192a2da8f51e2c245d98fb195726ee913f2aa1b575847f4171aff8b2e224da4807c84f03ab26ef9a51c3058cfebd141a25dc7b5e619b9bce0426bc4d26d02fd5c162979cafe6548685dd474aa76b36665e23670244c434ed90dabc9b3d3d25c9d4d5639d01c18f01056e0f817fb2b522b3c99212a8161e1adbb17dce9cb89fdd0ca6e0baa2ef024eb90846462373a219a1393baaef1fd50972e37f84451ccd214cb474ac5b75da72e42bde5fa2da90af2b00125eae0639a4fee0fe1052a3f470bda8f133ca21352fec70675a965e4cfce678cc003d3a55c308c030097d359b743719d5f632dba63b337b8c025eef728c5900c60c5225595a7e82ce4adc164c03a2d751153e62c4de7acda96f1d389830d4b37c0546f6f9634388161a57e66a8a80da77734f65d644d204fc887949b48a23f959ccbc86a1069758a5b6947b91b77533964fb4961baae8a3eae563801e945d7b9976a9aa69f282d4aa4307b8ab98d182112199171e817481d66ec43774e573076822c6a24e986f9ec9969be08435ad5ac8fdf96e9a106e057345f2abe7df70b128e944bf25e58209b15a85ef2b1ad7d52afd202dae7eae50bbc6ab15df461bd95132940a29aeae67ed1a6743ffa62c8595bd41d7f417995d9b9bc64109330056a23aebaf0d611f2f45e4ff0b0e4de2c14f28929a3e4c934459781dab940aa8ce43ea5ce0db13e8861aaca3c722e20cef1bac3026ce95afd3b4e4d6f2126454d768bc55d9aac5bffab225deaee86cf1c19e7a3f2f7b496a3515b97de73b79721c89e0066e25b4392ef6df704de25779ac5031f26a6bb14a7c1b78cdaec91012ee2418a74a07c76970bb398a8166dee72ace6d9be3bdb1dc695a6bfa5d66f5fe533fc450f6c7bb7f14e4821b2f3e8ea32b42023b73ac6de711dc54c6d4cf5af9335f9f837e878eee4b72566a0a11100a4265f0e396fcec5fad2ec516b45572b889a015657d1bc056e7427d5ce33e553fae05ae2a97183a4e5ca9828fbb9e487d9cabbd4e42f2c796dd8b378954fb603dbd1848bb4c426d8271356757e755c55832a941665dbadc73461efddc116a5c7e7d9c49f56fb8bd02ca4468d2771851e508f3d2bb380a84d638c956528a0cab0a83f7a5eb9f8fe0754914341c79a3346830f5f7efb50e1968efd0f5986950bd2ee5a325f1d69bda64a590225989829c0a04b3eeb0c191d00f7fe197146ff487cdb7bef102e07cba94ec36e3ec1a700c90e76b2b1b2dda147cb127fec5be3815e2586e6c5a70df48d91afd8a99a326f44e3dd6b3cb21d2d3ed41fa7d9b8153499374822bc07b4f6f6c1a66a53b4f8748e396d9cbc156a4cad4640f09420a64c1814325f35e57db53cf4a2e5eba1dd2fcb4263107e7921b66d61ee1e584817e3eb1d1f707a86779b864bbaca2e0d457f0b0a9a8f9dac65e7cc0267f119d484cef9c8d4294ade24fafa3db8450c8846bd931cafa560fa089bb0c3b620122c3078a8665709dbe7a9ddff449abc003c959a85ab0e608075212a72ca35fe00ec88a95fe75d1aa85f4bb95819b98c8839be673399e412f12c1e6e97480589b69bcd38eb06b8aa29fd78762468f6efb3fa23116f2b5c68d1c2b5093dcabe7babcbbce852f6e0df913f172478c4cbb5762b1d541df9eb54b0cb501a42d3c2eb515e2ede493ce2cc4fb04a2b60142152b827fa6c6693e5ef6e320a7a7cffe933ab8457eea3f0843c20f3363c9ce027b5d733ab43015b46f8ec8ca323d9050d900e0c6c1508453906756e9c5dd1298483c8d74a37c87effe8aa51c7c6e734d26670c07aa37eaf1507a023d87dea34a3ac6bdfcae3afcfcb008705f7b00516c96c7657d95fa7bd7863e684e95bf185851f074151bdc5b328fa311ddad242eb758347ebe2a3ae5b19eb0f20aa4e1c79961bfa484d157aacd477de3be1ac48eedace35296bb9b5733340c79156ed38b4761b5dea1c43d9018ceeac26c2ec8647594785cbaece191f3ddb318df8826b8a1435fc47b48ee59cbf05ec695e263e9f8a51189c1ae16212825afa744a6a475fa5d387e27a0b1e56c6cfe388bce3c9c8e8bbcc9ba9a9be078ac9ec2513b4e80e9a155b338a178bf24443dbc00a6054a9fb67de764f55a3cd68c662629dce89629021ff7d463de069dcdbc2ccc81f3c36162e0a38fd9e7248c1fca11bbc8ecae2ba957b202327b24474331cc448a8b16234d5bde5a426fddefe1d23cd33a4c126602b5717e55411045f867751f86af00962b2541251138a6c2def2129688247fe518e5732e1aff858159645984af5074a240d17a0fc561ca4f3d49bbae7a9e059f76a1e1a856bbd126c90aa4a2a64765ce2a782ae9a97d953a78735525cb1c9a5f0c6ffce410d2e0634e8babf68a386fb877324fdfcb1b48119f6eab39f4ae358c3bf461602a2407192e180d309502a44253486f795dcf5fdd83aacce30a0407a15d2c5a128f6b4fe45ba923378e7710cfaed1e3161bd60589ca90724e7ac4d264e7583f60cadbccfa4bad5c284b534c836dde973442d22574efba2f165d9cdeb343d6bce5d40ae62d599c21a5440feb400faff03e11b42d2c4e9d835b5ae6feb6222f2239e6e323904a7d86279cc529a40e0b964b4b67847cfc6e849d1c871dc3c10ca353e4bdf5b73d9c537c3d0ef57eb70b411372aed7375da78b727fd7b5bf6a9474dbe2fdc0db31f6c1e49576fba1aaf6ae6b8ff0cbc33b37a510d5bd499845e67b32c1d7b735ce560dd7fe76024119746027f37d356ceb4a9564d5b4b58c311f99657635c607214137eaa6f4b26072fd1ea053557ef35e80c4c27615a264009fad2e509ac87f6b2b3ad3c81a40b99654b9c727bdbf4e8412cb6584f12bcf6bd2cbf9691d27244190c15e94abab5fea6d23a9c4444c6143c5576b311b60ea7419f67ac83ab570599918e89995b5a6649e9f9f1c0f3f32eddff5e229de8def9687c577e4603e0888ea1eb74b33146235a0fd1e52a2f68047e27c90fd28e8d6d60bc900e9879442e9e4a661f6e0e79caa98be6264a3d80f7f91a8c7ec5084cf610a23a787a03bfd6a480848187a842aad6e2a126055fc3f0309c052aa763adc90efd7011840321d7cbf905a6f2ec67b7202f733317a3fd8134392ad9a2c6d5cfbab1b8bcfc347212b53f6260471718b2ef41bd27919210194dcd1dacc120b67d63d3c9425a29dfd629488488d1bd9415170cb19b15903991cbeb4191027f4721bc994f88849b309b2dfe9df0f6a851b71c9e94a2cd86ef1e9c5f3149af965aedaec09f628d7ab79d224849b3922ec689a6ce2cc03a182b3f8e3550a0b4d401e175ac454bff3a753dc919a263f4e8f0f638ef10081f722ee0e47d65945d59f28252f2c89393849a3376106d177a5798d2b1ed326c3c82863c01260984b08087b9bf4964b281e29612f68d0779347374a298f656d6e64b475ae5744b308349221104a4d46b065fb7534de9e55700aaa628a8cfded1b85704111edb2391eaca84dd4ebd800f270821c0f59fb72e2c18d15bc57ea6f14f3e2ca035fa9a1facd8e24694177b7e3be014f57c0eebd198d7d1cd70efb274d0f1a5b1b0cf6bad9c6fa25066762d0b7c770980f33dffca1e51e113d84fe686cf9a8fc42a36b763885b8b637fd672af1001934ef883c56235af2c43d9542fc76b680c11724a1e4373623ee1578846c964dbcc9617195a07e6602e763c2fa5ef8e9b7540bec9eebcd27decd6968e2bdf44505f7ddfa8c84dc8cc055600b434f8e20b7bb9c112041ee0ef2831adc855e71c8fd2cdf1a24625f95a3475e22d60f86abb4a02c9ebb1340a00e3cb8fa00a6afa7611bf97b0e83ee6f784f24c45af701a8ec1601b0e7fef4cdbef018c43dffc462675a193d2955b65c87f48c4d097583ade633209b7b3194ad2621a930f229e34ce5eba56b9b591cb9aca16b3e069196d4db2191f4f3820f9ffd1a16e34ad2f37266a8dfd17edf54139781d9bf837fe787f1f27747ba31c253d5f8a5406fe74e99adcde5c430ecd2198c6c7e7c84293300769fcc880d56d188f4c7da2e778af4cfee0d5e5f7914f701011baf13e6a23fb34677d1c316940756d0009098476065a7ca53c866cd94781d32a8f827c9980bd6538aafc6ab975a00662a797e89db7a2c426423cd7670f98f8679d48478e67d94dcf49f74d63c1f3fab0cbc8ff2947b153f5c7e77f6ff238c50739ce4fe72cda43961e9abdc6d897a3042800b5fab423b8b48261dd24dfce16181b151e75ca478ca0118e60a260f7951abd57b5dbfbad95e2c6308801b2ade92575674121b9ea33b6da0727df81f5a59c3b15f5e91b7fbb57d13dea654a5beda7617708cc9033c61e0d94468f1b762b60e806c38b8962b56ffabc0072a4a1bc787fc0e0ad76f9dd72f1c6d83e3610ac35f64023e722aa5e50941d36636bd8f7b35310cadb54bfa46306498d5db9abd401b951183cfa9514723aa30bce75757b7d75bccf044abbd0eff8d95d09f36902393543e6b1459eab1cc6c41ab9eff6abd2ee5d1dbba106248ada37ba362444b307fbd04b638a9a359d1ffd792ba5cecf7120b64bfd68535a961ae782627717ceac31953f7cba6079be08fd7dd5536cc515dee4da133d601cdb9e5ab56337fc34ce1574aec7066a754969657f3e6287d91c6b1db9f48076f066d203fa8873265e60f5e333fcb3886bc9bc0914de4d221952ad0b384f9589f7989496cbbadbb5da3da7cedd403387b5a895c63ed0943bc747ebecc5b22c1406a22fa68998a24b9364e406947eea2cfa357e149b36b1324a3a5e7ce20ea257fd5e4c912fd33a5ea2d6cd36809b829f8907f22deb5c9bde10a0b82ef6007ffaaea2292d687eb70b5b5f84b08a71b210b3ed932e6ef89918b0b7001b790eb0ab35db2c4c498ac66d71eb4d58a43054bf04577137090c08b32c89c2c4e4ad5f0fd6454d11577567d4667ac301cc7cdc1f797f8dfc00745ebc91c695ac305c2f0e7a8c762a5554d45321e0b66725d651cabf9e533fec74f34d0ff5272c7c23d77f81acb6b856395f5d2e43614955676c848b65bdf25d2ce930829aa7dfb25e94b740c2ab6e279870c6f18ee34e08c5974654a4acdf24c043fb7ee21e2da693c429343f65085ff93af1735ca7ce438d9d270181212eea6b0ebd7ff9d009699ea18f60bf4cb198aa4459a3e528a29d0e68d50adefe3c177bec404be7ffcc90095f81e118f8b860f05667ea01b05037ac5907437afb7facdaa7505139a7889a831e61e0913a5969e16e74eece1caca7ffaca968ad41f03db198214426dd6acb1f1049eda2900cd8c5f9a83ac333fab8c7012ed30595394dca472559d775fe06d31bc3158c4b1912470a60638ef47d53b3b877355d435507dd7681afcaf2f8fb483cb666136b2a8fb0274567dc59f3c4397b278e0c2ce90a50f80c0187437f17d775103715c3b180c3ce9971986c252959c43e8e968e083f14ff017e94d8f03f8b5ecf68e2fdca8a7897528934c3ee13da7ca7bbfc8018ff08ba3e5beb0d40b929f46a5fa577dd3de0b91cbc6a6830a05bb68ffbf9ba9785012d4b7c0509a3180cd43e02caeddcd26ebff90189b5c55e79148a17d8e52096d29a0b211819327183dddd3c3d87a9d9a993160386e69d07f397d4c9225f3d4ee6356185a0577bd844661171394076f4a8de6154462c446428f773b4f2105fe86bfe178fcfff6b323497a1aaa7c9325748f75efce2bfeba14e78d122d1802f5229b50d1334afeafa2972e7008dccfc054999912983b96c428b1c1f38cef08c5214408075b304c382ef4c5521bb6fc7739bafd082f78b65e33878baabfeb228c9b15ae94022b978436385429fb1b324faa92c859dbd41be14f0b45759102b8f95b258b8f4faaacc6f0d3b38ae42af156446c08de3a2cbf24876e655edba427fe2d26f3447046a548168f5e23cf3ebcb73641855fec6503e7814bd8c69f742dc48689166cfddeb704aa968618f144d5f399e04a1381b993f91e856927b3388bd09029a11f55ef7d5afbc466ea91e6658731b179ced48453c7b5914d5705927c872917c2b7fc5a9c483b0157579d852d9f6d7d64414c8d2d500e4c84c39a217c7fdb8fa76647ac162cc7bd636f51851b22111013e8086470cce9488f45de8196ebb5d1021e4aa4b05e7963dcb55518a7ce3ff702ae9ab413befbc5ab15950ab2f36ad7caf525cc24189fcf71f5182963bc7a73963322119a6441175323a53b4ec09cb243ca268585405e7fd0108e567f7840da45ea792adf47408f55060afb28c7d0f3f232a7da8327c4e548457b42a059ca417cd0a0b3072b16067b1b2170578b22105b803b7e866dc2042f09eada5d5cf2b54e793e847c48aad6a8e372d8932ed0393dc981d7780f83f20fec735c780fbc81c3ab3ecfa8d09da9a32327697ba8c0e2e46f4c3bd68bceac105b45717717b91bd7499084ccca40af22c80f0e5fe28194851687f1ab9b970a3c687adbb1c5a5894dd61a851c845bde9112e0bc4409535683a5205893123fc8b05927c96a50b9d9fcba9c6fb841a1eb4a951b01816d0f14644159e5f80caf44e7c2109e39641a6875d1071bf61176d48a14f1aa3af0014b5b060c2ac96d1728fa020e2595facda564c004a5f439386c6e807608638a2e14344fc74c67061a033556a7f9df53c82ec6b044010be1c3bffbaa37113df8cc6636132f95a6865ff663c4c7edab8992bade612ac8cb9d7439c92a3256247637768690a124593d4d780193944fc2035fd772f49d6c14ffbce49d0f94c8b3964c0400b3d28afb6bc0a0fa37bfc06a7554005097e7a32b36226d7816a896f749ded5fc0208776f084c8c71f8b362b76111151ad1c9ee32e0aca413e426ef48c494592354c64acd2c9d1bb3b9ddb8d4c59e795b3ccf731ac73c003f7738613c6a4d4e09a350102917959908b84abc9283e3f4f0aa50c5acff863e383eb872c09d59d56d5ece4d38bd1257f4c8585cb3f7e68493753f477ed425a2d9dca9e7c60f3dc2e70d6cc5fab42182e90602387a7eeea2003b601949e9fb97d0f3b10c1f89f26f3febad7708001c21e95cf0b9dd7eef3430c7c97c47c84ad5d753597ef83ab6f1fed2184b22b6fc4ed17e1c0e0d7501ce32e1e67f1a4ba9f60a1ddd38fce537c008c98a2067616f06c00c0b33eb880cfc107ae067f9a0a40d92b41da49daee15ae9d21b2453d5c5883c44f6a9f490cf36dc68ac51a41fdfc63666039bc7803281872571dfe121cd35588ce31a9ba170d345788d7e291de8e2b8fdaa3466cef5cbfc2aed76011ad23746db115e76b94a9319a1986f7860a3a7a33089a0979f15ea008c33fe33b9f60076cda82a1f2474ae6a01512a771f02b44aee696ff8255cd0a17f863db6408317d23d2476690b129dd31d02c4932f03e3d45cb7476882b966087a1c7614b1da9dd1ccf163d5b5cf338fc90851773c9f225026a4fdf2033a1eabd2ff2c4a649ac93f92d6bf3649c7da1fa1e9b633c407f4baecf11e201a94e5eeb55cd8766f0db78fc2410c08a0e1410393d090e081299b61d553234063d7434bc703cdd9b99301c961fefc388b94c118bb36348a6efe1f9bcd016cd10c7e41dbd729373487f1a68e673858e5c581c12bc1fd5cac568fd63a13f1db9f00551d58ca6d61d4a57bb6d8f885db98123aa862007f1b9c96c174eea02597f020314c8f93abab37e3a580e40b6d271f6a69cc26da012128f9bd3a2f194329fff32834316c319e02b1666defad12f01969ea700f78b6cf80b91a79f6d847af071e0f5ffcd108fb11f536b68455833d41a3ae02e8fa53bf58fed283e8fc0b6861474e131c7abb5af49402836f7cf2c37ead674797cb5d8787da9d6f9de95615f98b8b99bc663d99cdcfdc8eaedc5ef9eadf926a621872f900268873e031ade53bc83bd058dfbebd33c3d6533e81955654ef65e9e765ae056e4ee0dec90522180c1fd25bcda1f9fe3adda8b203e84b588bc7249920e961fb19263448dcac4924619fca99b880f3a637f61782fcd5b01ea7c208d9ae3ceac5c7c14721a93cad73d2f35f8838ef8deca9d3f1652893250ad504b698500df42371e95045665f77ec24f2762a4c95df940de92057ee31cd38de075b7a97a393dfc5545e95207a9ee40d335a21bc472228cc406fda00e826af8c889d57c80d669751c5d8f64504e8502cb2163c4bbd910cc61aeca0a036603f171c521e4802abf49c9cddf6ceaaf11625bf815a9fb8641c5c80ee3c2f6a15611c0ef5d96ed2d3176c588bd611d70b9d2d76cb2e9832bfb84e6f1acd0dfee7f4a3fcb393abf257d719a4db68980432db68e74b54ab0bd0771d4d77ebc647bf32969719673450331e9ad5012b0bd56a9f0613e66c9b43a2e988df408913c4449796b38df7fdf844255a304a2f0b4502132e01e10ab7b9a80d275771a24d6d1aee9027486de6cddf976f274037834ebdc9e5782680d1d314e7c98456cdc866d5e736d80bffc480b37dd20dd1d84e5cb4897c88383334e283084df62e54bfc0ea20c3420aae1072e9633edbe11a4b5698b440e009a19f9cacc898cfb9cf87ec5274ad0f9d11226984a76bb0b95ea70b5dedcc16fc7b5bcb06bf2f2e62253ddb74fad695af8fe3c16c5237d4776f1f4a91541df1b2e60d7c4014c374b70b104ab81b2d021506243abe37765f0823885d439cb29e93667fe7424148bd052d6284c1ae0cd5a5a5843c7b492f499eddd8e794417f9bfddd5bec9afe0be37f9cb517942704a3e1fca84710d9fce8f68452152cd17adb59094d45ea07f70366e4466549fb1c8791780d7183d20f9b5763bd426fbda3652668bcab3e5983caed48dcb530e1aa8a9b071058c8bcc541880d35eb576f7b3100a4fecb62f8d76dc12777569a34b3928c4683865ff4b984eaefd32bb48fc36237502a3b12115b5b4757db03d3c616ec2b14ea5e85947a29fd814d67790906fa862e37dcff7e8c9b0d2e50b98b968b587d6f416371ee8beeba7e1cc9b78c7a7f47fc001a95c4d1c8b4374f068100bc8899e8e073af59b7ee72de68b293c0e739de67ede0d176954a8a231d7c68cb1762a0b76a195ce156c35d05193c0fa6dd2ec73a311fad5664bb114831b3fd74cf70844992e0a10ed96a6ac2c515eddf7f5b6538121b2da234f1bdf933e1818965681c7ff37b66c9f8977968e0bc224b4846440197ce473d792c1c3460c9c999e93ed57c862801bea77778a36c91efb3eb35d9183ef8922b8cdd3c962dc559560e27e7d88a2679c76732d2f40bc3667f6e561bb407be1b62e1c01ff176ecee5a232dbc1f6eed378e157bad25ec5ae06a7db1bdcec750e99888a46add056338c0db54f381a50da10eaa3831b56a7cb7ee74c6816952fa6bcd1c64e81fe8c64df47760756b91b332b67ae4c20625b105ffc6a2d72441d2ed1a1269af9922703fdb32df3efa3d37bc5763b382bcafc6ae0440ff9a02cfa867f0aad8cd44f92d297a65155c191d6c7a8f495a7450359f98e1a546626b0e7abcc7722e47e8b0b598e63fb2511f3d0d170010a3cc5c2328609979ee9c719b2db19fda27e882aa634e6f5a006bb15d6d4bf9dcb5984084bf26af15796d0eeac30d94bda8d1ba66524dba505410236f2234109980f850618e620812521777d5d319311367b4b2092bbe4246022f91868e243016f97c0663cabd7c9df35169b6564a84e0102b8e70dfdd9e3f4eaaac751dd5cf8bd904b6ceb28aed2da416142c494e03f62f441b302a013428723c00feeac9e4935d7fb4a21a47b439974251d84785bb23752f2c602b045796ca99ea656d81a54b927bae49301b1ce0f79d3773daece8ab4facb20461675781f38277779b820fc177838d5b3bf0fa25de116cf5456ce6f013a2be6bb9e2cc6b8afddfd5c8a1af9a7db020d5f0cf48a022a2674165c7cee6ff894c4608f21fa568e0e24b7f836d179500d12c04a5146ce5ef0ae1d0e3d9ef6da7b71ddc9ab0b6f250e3d5db17202d2b80492c69498189d42bd52d9234379a84a2299039493f0d03e9942ccca862b377411e635140389325326f88819c5ce834d487b8bead4620ec88df6725b8a5262ce26378b55c98c1bcd5ab2e6628d2c54e4ca03fb294e85c645fca65afb316200900c338fe3fdb824ce8121efe249c8a62d103b29ca2874519c04e6a493ca71b8cd5f4f09098cb6c8e72225c3afc6d01fa196b87355d6f369618c01027867e0fd3266d0ff09469d68b3e1ac8bdc6cce8de4d0a485e75a27b0769e03887f4460da9b275f29e1e2d09fc27fcb614ae8629b8746ecb7917a1c776a524a3bfce2448e897596eda578db884883277b395a56c1cc89b21ff6f7c2dacb6986bb8e8b14efa5d6420723178a0ed138027598583be7626940e8140b723853ac227c9f83078350469a41ecedc4c254da0e18a258ec45e14add465467203cf8bd22859a498e17202973a4f63fe8378dbec6ad9e7e1e3f6cf1bcdb0935af7be30ca88f64d2c204a27a4a8356ae66dea69b417ae69d058d892b61e7da8aef2abfd7dd2421932fa4d1272e556310bb53e900ac3c4cb9bb7c36ac00c0d832999255be653140f6e9186257366bd141780bf13a3e0d989c6ae3033a31ac9a27046f893e2b3bc05104beff82e85870af726e494b89fc25d82c9a3c277c919615b8c5f3a87ffff6987c07b863e2ab7de01e096cc035b4a3c8a8c97e2cf8d3154b3ef7c90d61f36e3ac25f33c62b1820eca7f447b51d04fd04ff91b28a6f3b3af36a35f6498b54ee02d7762f57dcfbfe4dfec401e32fc24621c4bbe53000eb6ef2098d78d052ad82b5fea4a240d34b39f783f9a4f0788694409af080554166bfaa55bb4b577e1c48121b0cf745617328c67f09fc7267c24c6e4f5c2449a73a2acafc22b77abddc955d36a1f25bbfa64e56a4b63078c5796e95cb0e9b684c553cf19f041971a611fdd0e4f8183895617b7145ace4110a8716e5afcef6bbf801709da9ee4fa14af2aa492b45b3199ec2275e630b7e71bdf69131f7f496a47a12826877da51619bfee38649601ab3121e253247052f5efff58a4123bcd108a3868748b444c3bdcb945166b23e1c49708049fc44fa53a0b0610bd4ff038ceffca0b05525b359c83c52e09ab33ec5f3fa65ffe4d62e6ac48a0aa9b1e42190b75674fa68cc43bd85ab7571e424d351c526fd185566bb3d67f83c43428e3a409971228cb2471ba162fcccc91c1dc4e5a5576f7d1e8ab23c3ec7e27bea04457f01a7e24d8144906c2cafa30f16c38db7618670d88e81bd346420d8dcf55132cfc00a537e4aa1c6132b51d351b0a2822c9a841b170060d0fa7b46a2d8c1fab0da81016225adeb9a896db7906c05a7fbfbd0070734243f09f4523ecff675d5fd88f2295d5e344422fc604edc067e122c5c40019ea9dd3ae437b9b46283f0e0a2ef5fc40ea675687e5700c208f9075bfa01bcc349a66ebf77d402bde0b1c8af6673f212d2695025aee90feecb08ce95150a5cd446fdf823660674b26e17e42cdac15cdbb334b9add77ff1534dabc358d490313ad0da561802e5327a362e0b31ecd90d4ef3e48f7e0832e181df2186a8ea0b072207af4214b2cd10977de8d4e49517cb31a23fdde664805d7e7aebf11dd70f2328aaebf5e72f65278aadb7721485d4cbfd92617b968bf77a47503604e2ce5ae846a76252408bfc460a84f2f9114ff6c9abd18c866e136b32a0aba2a6a1f3c9cd4742277995817781ecbd384e7f9f28d9fc74dac124a27658de2a73cd169fed635e85a1532870736f5f45a601b02fce457bf7552ff7497690e62c403da1443f0a052023e5f6eefd15147479f4b5b12856f2a7a53a12538780a7220e026f15fc980e2ee7756cbe27e5b24a4f8e3f9bc146a68b0efb388b223698d78614719df323473b9eb949415839c2ac9072c714867f9622922028611c992d916a3b4964e89c79c6417a4ccffd541014eb07ce01aa211302c673e944e726665be136b672c3e25d5713debc37f732282a4742c0cc9df62b1ae93552c0dc17e19fe88e1d1ad31396a5edf1eeb0fb4c2f2231b2671d3796c80663a02f2eb4fa12fc8d9f2439626390c91e7bfcf3ac6e785c84c1e3cd28bc535398b58470de262944b00670ed52621f3bd4c46990479a623325e6fd0036e994042bed4af570eaf3c5f6e4c056f130023d8b9a99f1e26928bd2a8dbf86a2130acbcb5f2a7466d0e4aa676abb9af46045ade21f2e52db61f21e137b9225063b7702a99f8d49f667cecca6d5735bc44cdf1a14cb018bbd648e9e3dbb3985ef7352138bdf74eb6731507ba1ca570f14d0fffd7d9eae66417020bc4a294e4aeac757ec05299e22e8fcdb55ba8a7b16c2ea1a80c25b1d1fa5e51d9689b5d62371d249f0ec1c09c43420f46de89077b9d1bf265e6b6e994162b2c21978cd1fb7721fa484438b5d6fffd72585133b28eff4305de5c1b2a797f4413947b0c0a01e5fb4a81a2ee37fe612b98a0bec9e5f4c2d2842a44922b3a96d2afc2715d59ae6cbeed0dfc985ed378ab1a850c0958dc5588ce2caabeed5dba484c9aac8fd3dcde23e550228ae4c9a65e47d8a2423fdf485d68a37c04f98607a6e4163a7d501c5fe94c52699be8cddaa6b8a3fb87db3e28910b6422b676f0c0f42ff63d99237e573c2ceab063a55d6da0ef4762817e0e7a49aa9f9795cdeb22aa0a8b892ed362a5eb490fcf3863f6df8aed43764653bba8500e8ae03bd83b536b0941fcd3d4b8b28a9a524630a5e9386d970488d369f792e0841146f3d45e29476f2db10ecf991957b675c9a1caafdf45d85c159c7f7675eaa0b08ec3d38b140d17a5c779b74ca0a8dfe0f73b4d8fed626fee04bd4bf8511309465a909f4135207bdb7d3268aa1ac577f5424f26b8de3d62dcce1237dd941b2a8cf5a8e9a0a11ed96eef7de2b2b68510708f3a3dabb1dce6f680bcf437cdc313b91076b1de2ac201ea4ad66f7a1c718d00a64ec0394637cf79c4fa5f8ffcb3b61d408b70214790a173444d9ee952e39f4ebfdd680b5746a53af2e327a564aef2e277219de4e56cf1d6b88ceb1a84813a0c1ddce8b19246c0d52ac0be6358f0664d3dbbb1d0fd404813b916fb70ae1538ace565cf1dd917500963dab6cdaaa69381e1c31e1e67886d14d86e92e00be5627b98d75777f5845497c4610a5e9ba793b2a9d22c9166b511e90948326fc63cbd1a385001cd58783ee00626684b8f77bf6580df43609d70f4cf60c95036f8cdc791e505151d768c9497574dff60c80c861d98ee7d5da6c9d97e4aae687b76b8ef5b4488d969b1db8e3164bfc7b90f5b8f25c5e8e0c899e43d3c2ce9baa57c59917e5041919e9fcf91c26f833fe039d48986e48c0bda4c8e9e836c44f7454e7fc5df15cb51e17fcb657c1c7a7e03d15701b244471278587535fe1af5b3b9710aca776c39602b9f4b3342c53ec6e7acb4a991909f3bc6ddfc20bd00f65e557db575982eec61cf5d3b757c3a96f65be835a795788a458d9b7966455d5f6eff54159db84b9c2e0ce0cea1b113249ce638a0066fcc70485ae59108b8fca2c9a399149a74f0643e5ae57cdc7fb4a5ff552f3afe56b4c7a55b268489c32f1cb1157a61f0d99353ee9d376e8de43fecdfe5d7a81bf0b9dd9cba4e52e143a01fc7e8c22eb7d21f7283605eeac117b3a5abc143f38e70e141ce1ef1e0efe801c3845858b6938d12eecb2a9219df771efadf937c2338f428093f31380e396c8dd69bebfcbcbe3cc5dacedbe827e5348c64b8269499055eeb7d04497c9a9f87bd3179dbdab20b3a973197d17cbbe52343ee024f38ef46a50d9d53efb386824627f7b3fe3e635ec3cfbbe0f69c68b0fe23407cd21908c5d2aab1d56b04104fad4c5becd04a66c804206a419b7ca165b1e67d9dad10be7e4463565b5ae51bfd8b5e1214c98ebdbd42836d428eb57492ff16b172894d10f6d42fbbcf1c724af5fa0c06865c3dd41181181865878b8f3e35b616213e61f827e595aed9f239a1e70268041a0f49cbbf90f1c94dd299e6946b0888b61906e879ce5df500428df7236da103d9cd1c8255bcef90c70d461a215685aa0ae381bb676af7795d2cfab142a147f22fc6f42e55028ce4461a4a57e2f3012d15ab47f8919759f0b74701e91318bf7b69a1c0833eeb36cf016136d39ecc026b","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"774f71b162e7b28baecf9c79a0e18628"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
