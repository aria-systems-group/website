<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"17266af20c9fc37394cfde615ae4ab6cd7650172e5467226ac026bf379c3bb3c9ed6fef841e9150ea2f83f00fc23ac6e2b85ddeffecc17534581180f8a3cc2fb4958f42168d2682428d2072d1125827a9fc5e7b0cd25e1e9be7e176f2e98dc2167c4cca7e3f6d83bb85363e723e85f0361dc9e0f2e47256a5d0069802115874fa5551f74ab3cde9c00de3c3e1b5356366cd8482f155029c9365716ea52672cb41e9f5a96c77ae4d38d6650543f84e3ea1431fcea19a221918be26d0aaa73c243bc78888f832ee93259dd7e6dfa439cb09d4e9dbb359d7b97418290ff30aaf634c15243a9d78748cc5d4ad45d20013e02599c292953731ecde7b73ee55df57f6c57400d93490569a40716187c1a1fc3b67b73769e708b5eecb152ac1a78ac8484a4ccd1962a75b775488e379a0512e252b0e5db6bae4056fd9f5117baaaeadf8babe2abef54528d8af8af89d71849f27e2e471624d4fc18344ec82c53b608ca5e5e6c9687cadc52d881cb1ddb89b698d098cf9432c0ba1821ed548c7eab1047bfc4dbe8df8b043c32ea66442a99fbbfe30940a880d59da14218514fda3541927321a630892b6bf104257c07abccec22d9acb40c81161e84272f64589841af1ba8927f436d9dded72319550c92a6b69d8ab7b22e739fa02e24b1b6275dec693afc325a4c76a844a63cd858e4363f8a56838f5828097dc7bf47fe870422c39b57287ccd8433e6dddae80523ec5da8d7535ad8b37462fabf888b681b91743e7b8052a272f04ad64a624c4cc78c7275ee1e736419d42a3746dafba9a5caa93acf105c8d99bb14f935f60834c200f0127696bc6b1e3e44e47b52005d6f3f2cc5a0b262817d746d503eddd56ba3abfad6673894d95268a049db65ca5a18c021558e1a00759cece53575a062dd14b3f5f5f56b02c446deaded64e693e1759c5625ea0fccfcc77d04ed275bff266aab9a2b02902b9de83923ce02fdfa5d8d5b0498e6f91a2b3c3f800ced3ec939258a81f6e897792c90a4ddb1e9625e6b922b42e542ed5f726a5c4e02945ed2eb34f02857e1fb06e9f9d5621c38ac3a9aa33ae33524ca4e7d1db5a808b8a8f57c4080d739f100885283d9b5f719e7ebef116c536863f1fa10b48c6e8ebefd323ec416b37e94d75cb46d2f267ef71a371c5c4bfe26a1c7dc63b12f5e755d0e239e9de11e175f6e6cf70e4830aa1ceb09a01ff26666d18bf8d2298f7d8bfa966b0d1a444a8b937a5a50947f11f73f3da69d54a148bd2f062dd328340732902f104cf29b7202b5f42dc19ad5a0c9883fa310d70683eba3c4b5a47295cae78aecd07e38460c1c4f9e3c627e78ddd4acfc58a39b4ee59487f33c28b29dcc48474d8944421ede20eb1e0078bfd8c563cdabbf5a06e64e5ea0b950ffce8483e119d76a09b8137817cc6291e9e0496d38c3805e52795c0514a4f5ba749b0eb75f3f6b92e6001e1ebf2d8d21b93e457de5b30add1a1837a6ef044408b6466bc5bf46baacf075b9e6128904550a2d0d6ead5c6071ca64fc878197f88ccff59e18572347f9a0504f6c3096cf576a610b00b9b361376b9cb20883ba6ef1b50fefbef425e7d71549cd1a3418ef7b43329612901c3bce2893e59fda75314ae041eaa22bc38cd4b89c56eaf3f0bb06b86464f215897c14d7f9407e4b1a908d0aa3714489c809c32e8e394725b8a6a1554b06d5e43f74e11f165bae34362dbbf9dcf32961b4b8d9f2a40c66ecd754ece014b5835bba102df642ef06a3c1106eead551d092cb33bcc88e7cd269e853e6edcc3edafa4df209792430773543039b94483022aa58944056ef3dd6a3b5bef1c3741e92949f6caf54314383f7c1102844428bbced4866f55b05300ca7db80bbb5ee77ed04c1d1efecd089c99992c47a34f6ea261b71d7b748f76251ee54fff571f6b35d9fa4e0c2a9b138afbab882f66bfa9d89895626916220e5e55a740f85e37e7dac5390312a42af8f306648ffb3cd6d3bc955e58a70e3f904f131780ad67d17203982f0a8bc3ecbce5895352b9144fa3cc4cb8b119d1e10d0ef914bdd3b72a3ceddfc285eee2c057fd4095b9ddd1dac0a68096c47a6827fdcf3a2802d4dec9790a709bcaf504f9825c17f1b833aeb6992f4d475b736dd2b55e8e07a3864793090f70bc23d73da5c66f6069a241cada28e9d591825e922517bbb905246b03203032afc8417679d40d6acac3f589b905ffd48246c93053b7af077ffedae9c0b0fa7df3c4b67472429a37c521b4e6db3e108cbd45b1ae9d0ba3e45f22fb56bb4cfd79052d98824850b8c6535d75b7c0841ab8a86bbdbe2aa8fb8fbaee6f4822000512ff61e16bd3caccbb7af5414de28dc74e195318f16540e0888d4cea86719ca0e8a89edf6fb6328429124934833a6aebf8b8249fdc8363cb66c26390c1ba32303907180a1a28d4f9baf633180fa3ca49438f4342eb461029a646fd34c0ae88d6785e253315d96fb768a0e368457a01b46637bd1f5f9d9cfe34c30599304652cd4943ef4af3e89032d51361c237c867df04a19dc661a873e950b7e3c348a5cb91f427850a1e5569ac3c975a03808f1713b8f6a6f827fc0353a3aa1ac45f67502bd346cd4709d05223f0c463c1e6519437bd650c398fc9df8c61abc45543ed36ceb74943223324505e5dd4067686dd757fdd27126d605d5c790fa5861b2475168a6a58004823927d639efa51d778c7b3fdbf097f229e8e00e11bfcfbf8633ce19950f005c799fe4f613c3e9dc6155a29cf8d50f907b4545aec1c8c1ff113ed3d1588820bfef9a6c0c8b2b4c56b2cd00c5efe418144e713ebd3bf4c69ddf3d6341a33769e862a0aa6d77b2ceffcda225dcf2c9de85a763c7b83a6f06fd6095e6b3301237b1f6715b139f1e0fcf09390f6d491fe9cef4bdb3f113ea7715cfd9ee22a46c3d686455da1894275a9a5fd2f0054dad67c106dccefeb4450f02dc469648c050147d12e2567e70010f8459ff955e05faa91800d4df7740d223221210b481481828c3039443546519e67e845ab50eaccb46bc7e91a89c56447c6039cb93b673912c2305e0ef040711bd66f4026320a94a510dc7166afea8772fe99a58f6a4221522df4b8711774c38b58fd653a4466b044ff06c5f42d291589d5f44674b3288145e4ef1d1d94e152433c17c4999445218c2ef8ab85f38a8029dd527cf0375b633ac660521186f9cc3645cfc14585764e6e4bb321d4e1ddaddbbb236c4dc63201c402ee6c421b896e6568a6fa63aefa1fdaacd8c829d8c89bcceef9f49cae24fb2f1892cd5befbe16e4cefa15a2db0e8408318af66549da208dc55f7b64d7742dbbf8150c020a6efee36abd565b86fd9b46e1f87103f40ff605d4c7dd99e3b9385857a93464ddaac5b1b4148b2c8b8050da112cf316c1cd1296a09564ca8c4843f61e65723ac4416d2d5cd37f83e5a5656e9a28794c6ecee9f6b38160daa90c21961e39a3f8a90049583beb6051fec55e1d27d18ff59237db8a069e4fb198236d81353fa900b9b208ae66d9f6eac984aa5314765079767b163837fce3aba5ac4960755c8e152d3358ffec1c7a169b4d8691a6d44888e779bb8db884a3f6f305b0180fd3ddea8348566f7f4fd59e677b5ef79038a82441a3a9b1b585d005c450860b90cb4902bb270eff64150b1417a831a3ad35a7a076920d85a7a2be348de77f37b8d087250d6876c9a29d29726fe95534dc99a759f1dd8d95408e802ba2e3200c4004dbf422740a6657ddedbeb749e9c97d26b2b2fa9cf605a6716b81caae17bd311096e7c604e3c7df5ad251368e0f3f9cd3822aa236ec179a40ec1f9f0b428bb149cb5498594f46fb3fa5fb6030b34567e461273012db2a4320762e7b7c603fd91fb41612c8a5e06643d9df302d4c5216350eb82d0a2db763e015be1c627a8cd9d8bcdb5ff7040b4bd357644e82d51f23827d6b075017601ead6e523c53056fa4175fcfebcb88164b84012fbb36da60e3eb359e791fb5d4f007cda893b23596aa9d5449d0d735b74695702c2ad4897eac56785daae4d87fa59d36c463c46230b1e24253c92485f2836fe525a4dc2592900aae8796e70fa29a6400abaa6f489381c99a46a3964061ec7b22e65b23711dd79dc79b999e15827c75e1939a6dba966be918f57d7728ff8ad72580e5a622b53e199c47c10ab2fb7833785077693470ea1505e5141fae1f110980e90663c5f21b93d5c88546ceae90ee28fa22f61737f52cce50414b9eed67aaa2750719806180c0f6da91aaac576202fd9fa8a3aac001aed659545c7fc3e067debfdd17ae0737381869c30788c57dbb3bd311f92b322545ea1b80da2f6b860f13b008e32076f5b783d7e9893a1b370ec1bf0d462e748304d81e5e9d8620b3e6c779c1784132e0d41c762f0c861613883801d2d2bdb62d4d15d8a93e4fae48ffff6d3b1c2dcdc3433b4d9f5a1074c05eb328503c0eb70b0bb699475305a5e38b76cfd878db66bf01ea8230aa9d92f9feacb5d90777de811126e96e2c0d7220e8c4b317dda641e9f210b5dbcb8278625f44436c0134d840d06ec0fd8dd53381f2e5456b7b069177e907a26f0538911f0c23f2bc4cda73b6e4c7aa0b7e9c82e4fb1f87951e96a824ca46b6b50753075fb2aec6c7eea5382912550a3d2e3c38437e8d6781b249bda73bcaffbcf49c02b9ba3236dd454cfa4dd4feae4183fbb400cffdb330c68181a089c149d17762bc2a8e850a4e2b28dcf6ae40dfb3e3880ae44fe3dc34e6666f7fa23b3c2103fa7da930b5a0d7591179d0781230cb873017c859ff4ab4bae7608c7545de2c550bda35705f7032dd19afa901c67c2ba79c1ace6bb7c28fd4b9cfb69801617aa18001683f22197423906437f3a309141974c1d3f347d24f494bd29deefbb25543930233746fa593ed18349a31381cd694f3b3ac87f68eec5427910df863a8b952a74796941f87c6fa782af69cdf3ab612118618fe1c205be0e7ec7f2fe7c9b9fd1621105fe0ed5703ab5886a5e34706667808f7447779b51dfbd165921c76573ef59cba6d31263bbce752badf350f9bd587cd0b40dd772f98748a374fc037eef02648dcbb6c1c2af456d692a74ab884b444cf69be53305872b7bd6a522b7419262422c445abc21825ee1630a524c66107460af9437af733f6e859b43c6e54293393a81ef25486ee9bdbbbaa7a5af176d77c7fe3e99c8f822af0dac56f4bc969a815ba18321d152344e754d7db4feb0ae22226447010d05a58e12e906331158f8f10521dde474209591c9c4a44471fc8843daeb839e81a9dae5bde18ab80376bf38944449f6c63d7100265021c5c927a44dec45e5305967be8a194ecc71a14239398856867b09cfc593e25bf0c4125cee509b7ff6bc8cac923006d6c17a12558ac13d65142b3cad5d61c41723a53a4deb42988951034e4435a1aef550605b488e1eaa27e78cbf3818ec0ab0ebcddf97714c05338fe057c29fddddcc550eb47d46d8930534497cfc77485d00406bbf263857a0a5cc061225bbc6c2c86128ffe071b71edcacea000006f7056d487b5072d35c5ee82614345193de3025db2f41cf2af8b4cc25f50aa2d549062cb6b51817789ebd1105d1bdb35ac16f67f61b5bda9a25c9cee6d105b92b326de89e372bcd9805c4b89d594a202ffcb70d00299f5ecce14a2f2603ca95a538c16562e561ad241b32e896dd0b77995dfb1a7ba00ff78c2e1044aec8f5127518070fd3c0e1def3e962cca7a026a787b92f2eb0696ff87faaf60b2272717b5cb1e0e63edd3df960a3691933f193262f89e858779d0ea9287e680636bdd33a842b0a9b241929e0511ec08ec8c7f5beb0dd84ae1e1fc20e3d12697161dec659d4f9aee2c279bf34a0ab9433dedf27df775d19bafc33b1d26293201bb2a34771a301b4102d9ce0413c7695e50dffd6685aaeb53d470803a26546708ae3651196ba8e9243c2de843d39b3c3e0ca6aa73dde969b47736f1d50575e262e0b1f80ef6cc3d3f0f69b8a495f25c24b9530062234e66c0ccadef57377bb4636521febde791514e24153fd862dc5d8f7ce9628713729c40853fa3830bd7e1baaef1ad76c7132153149e4db57c725696a1f118d7fcc28a0ab45709db414a12c5c95e7ae586dc97ea87a4e4a7ed6a0da25133c1113b2017ace9792392263677f774cc367b8f85244271a1fbc7d0472aea6dc4b6c4cc1ab21f19a16edd0f3474cd614b903698ff2154ad720ee32991d29e45eab25526962dddd8894cc3ebf450d8e7ed546261a8d3fae3704aff1215e97dca72fdc6262990884d854aa46003ad2ac5adf7675252347a9900bef1dd01989d783155a10f888c21321cf9456c979c97a385306ef86c1b3fc09957c86d78888002286891f2150e0a774d2d9d4ff61bc99f5361c097f5bed79d77b80700e9f3e50c981afe4608d3d21cbadbf153f7c7d1561c9ccdcbd6e90dc85a88ed57ed517e1a461f7a363f769fc77a2f042bfd119e56f7d07567ae745071fc16f098163d8eb571af39ead8d42263b292d459d14bcc0f517aaab398303c18a7d251eede903e79f2957085aa33eae0d20c95f9036da9957eb4ae6086f944e7af5ca1b6fe186461028a6ef2a538bf87174ca8ff127618704dd7af53afa12295f8ae52bf494bba46e9a4e4f99a24c7a062a29993c1e3087a84c4b1751a5bc525fe57b79ab41ddf9660fa27138cc48f95f544e23e59b1f0a111c0f691341e718a15e5dc9c72075c1efdb3a08543d139f71170668e3e5f566c0a4e89d44355464239bd0ac92c81c581af3dfb8fa7a018f31db3dea7c38c1f73696129cb265dcdafdc929a08c63400fb08f6d585fa236aeb5b08234972e0f1f85fe8392e667d97a815c952b8230130b7e9ac52dab20991ddc7eb1cb1ac9436942266bc49685e954011435fb474f9a9a929f769d2eee193fd4f02f0648211e892be7449259a4578d9261b99c3bb48fb1a731e221d0e9a0df7ec83861f20f54142a32300e2414ac913a0de87288bfe9166616a27b3adbe58e5f3251ac9a6bad0489190276f31d893f26b98fac5cbf57aa8aae0c94c0ae08e937cc7cb69465ae9f9d2b2c1c5843f6bd5a0906c181ef2d0cc50a88bb63cff6f37daec160fd7b6e184c6234150f4f7b29c08df5db1fde8baef987fb6960360d790b1aac5d1cdfe9f6365927e31ffdbec4f1f06fef7ec472138f2042f1594a9455c27e0b35140dc809b57fab5b3d72fab5770a79eb670f80253349d697e382b87293f232f83c011395d385d6fa4a0964073a4360ac4d6e691317ebe45f21c033e35a6fed74ada985e29aa0d28b27f4de1c8e04b47546365c8031355d98e039a846db44618134eef0893b043d4543104a4fd2783fd76582fc76012158cfcc7db87435c55e94f1dfdc95df3a0922e1253c1118db7e937ce7112d7511d8e258809c510c707490a4e9648967da204d984c88f91b6f48a33d4e6478389cf8c7aaa6a095931e7bb32dcde2c7774837ad7663cde6debd953228934e56a326221b6a13e8a7831c324e3f705dc00a23cf55eb2db1579dd3f343394e1063e914bc93c8b3e941fe40bf2abd918ee076f1029cef6c1ebc3a6d7f326db3a785f2f3966f8a7d1f70e743745a9f95f7c38b1ef79132eedbb633d10ec29714a27097a8781c7721284d9df8143d8edc2463edc8eef1d3c404d99c2ca7bd9ebe6c0ba1d5678ef0a56e202518022069820591639c1aee1bfe26c9f67a65ccde550f927bc12ff26bb964b4689f70c9ed7e5eb71d786cebc3364be730fd44c564c3c73be3832dd1acacf3561827c4bd80411157ffad75d240be4304e2eceb5c725c2e606a07c253c1a26d141b44de8307211940498e946b9cd3aa8b42a7f02aa11a70d82018f00585af0bb45f12be78c4b0a429af64cedd9486d45b43c3898657ee5880376ded25b5c9d5cb36b0e2fe74bea9d2b39b5f4ecf5fac0b02272f275e42f474fea90acfad8813bcb57128b4491522521df008fb5ba7f1153b1192c7e09c4918400aed76bca9f59c00eabaa75ebb20142b4eb026bb8ffecfc1176277c862d693c293a2d19bfd132f7f3fc0c0b30d3d2eacab31d0b0db0575646283a6309d79e339d9a78aad742f89d63161c2c4bcc2f9a7b0ef6084ba8a51d8b9e0b132789e137f3529e924be6f487e5c3ddb3c47c036cf1cf6763f7737720c6c51e6959c3b0ad4e51b8fb873da0f1199d50111daaa0231672ab6a32b548064b40924a1dd7b65832cf1b9dc06e4d466cac7e9ebf4b1223cd972ee283c2a0c4261cf5cee25db3b5db312ed15378f0b0cd350e26527692709ed29dc822e928221c22597b196b6dc67703678cc28713f4e263800c62a11dc9b51305f09183f0beb9ca5b83bc6d5c153945e2467ca96269bb57cce8d3bbeafe158df899d7076ce47250327831804e25e5cb3ac6c2ed91ca42854f8f195e528a2b71956fde8684313367154c092d77fa0e54cf60d8ca0f07428c880f79ba025f584bedd1f7b62c57ca7d58b9edd09f8d257249b6e9ed35f40a93b772c24c1572893415b334b832daae6c16ff72182dc4ff95b9ad5d7bf889fe7597625aac0c549b6c729fde23920e294d7a77307d1330b7fa8ebb788336e4ebea7456c9af6e5fd2aca06f7127c144393302f6d7043431305248e210fcb8a5df2aecb6e9cefd7dfd7add32330615cae43777e7b800fe075d99b8298776743d9d3e800e4aa26813fad1cd661cbcd688ded0eb2b8b2c2cc9c26205cf3e07f4bedefaf4ec604adcaa78a1fabdaf1807de1173941fac84671bcecac8a73b11fc5f568176c96e31357eb5f2046bd8e5a4a8f192c88d514bc1bdba1cb0df454123b707d7faff4d1516bf9580a41a0732606b552de578d9d78bfc5caa0622ef9ed7f14641d7fde7a1221299f729d7c4988579aec9a20d25119f9bdfa4a04f78cb5409f15b0be03c112d995f0bf5536728880eedaf728836f26ffb29f3d081fc9a5cd38a5c97bc7de7f671fc66bd2c7bf8831a808ba3a3905569694480b501dbcba1c8d24193eebc9cc6a51781803d7202ffbcaf303664e99a326427e7155fa86ea9b8d2d41bfd8f645ddb8c4393b06687f6614e99cb3edb581a1f35cdfc148cac5914023c87e6eb4583ad3cbbd8537fb6fac96b97bc7dd962005312ac4af96f52b7ea0b16da4c58d6dcd4c92795925cde119696738741bd8868f272020e4295b0a71eded1297e1ea0a7bee351a7e94b5d815873e087799e7ef74b63d04cc19e6c1bd08eafa71aeaf7efb23a01496d040af17747dad0207c40fde83e157a67f39ecedc9f612996d0aac94063daee96ef84e155f7b57c5469ef24d445d745946e41a39fad9dfc79e6737033d6638a8f9058c9ccb8a2bbdb2b581edd3c74790c0d003e6d67eb24dd57ec1380c8e1d38bb9a8d7edfadf2c707aed021d5b2e251c199090e25944c8750c218351c4fc767ce90e32199de7be1058eab0dcba99a313f803c2953c887dfa77af4ee18a9691d0a27080e3597675a53aab685dbef22302895bb23605d40b50c62ffe8c1b3b944fe0ce7f1804fe9272f560cb3ad86748b11cfe557a1752802f6d35c0104e5d32c9f9be5c74b9a2f6ad8c511a05e769ca54a0214866215853d182b536732a5b6511be455081b0c3c82cd46e5ceaccd06981446a99769c604336e85bb1965d85c1c6a59d5f621ed9b43657e770c00477a0e0c9fad9ba131a9c1bc8412b78d9d14a3cdf041d2467fa10ce9fb17b0c394d1f621e92279d60ecdf9f96bf00e9c63b32cb49f59e4e6d60b01272ca13a0591d36be1763d274deac656584746f7b4c6b8601b85da5b24bd00875367bf6baba2aa0d8c94349ac787d9b5736d3d0c40d4227cc2f9c5450946103dcd45bcf94549fda7822a0cb0c7602c92aa77c49957c5bc66b171209b2ce72386dc082aaa82f50ee7e8d8ae81c422eb10b3866125ca278e6bf9fe5cee96ea42a4dc0d2d4c58108aaab90a88498c1ed6a3757517371e6107c511e3db46c0b6dd77e8e49ad4eb5c65b00165fca0b35d8aa8800280e1f12bdefc14851ca0cd4283c9ac78387311d57a170c911dac222857ec2bee0ba6bd776a4e1bf39e7a0b035f50a6377f48293e7ee67a4cab758f6db11be33ced48bb8b21d9932bc77b37e7b2d34f68f38916b8927b61e35efacee9da66ec1b0e69fb4a84a60cd37fe9f1b6331b75cc034344a6de646eab81351bfea7924cd4f3e8522f7788a54e64f30e5359e46f3ddc23f373c6e8c4db6b5340a3a3d9094ac521b750315c23e4de3edacb18c9d0811440fe9add5d978f9f92c409b43745b3f862e180f6d2376272777ba2fb27a51d9b60dc22767b4387c1263c17a9be8ee85863f665c57f204eeffba733e17341ec7c3b899bfda39aaff86c14f05068528c6f569faaf24613aaa35a1f25d1534c69de76d2a75ef5ff9420ef4183c08cff89dbd42fcb47f1fcaf7b64c5d4532f410ecf00e1ca13b495d6a9631e4312610a446134a2dcf3a254793213e584386163d4e3c479e9705e3354cd9118aaeadb4808be695669fcd1a24b79c935ee3f752707f91ee93ef7a359b02e100937a78f23098be106cbeb3b4b487830f5f96b0c54b15448ca8a0955df234de88202412a9fd7a0092623fcdff41bd32348e515bfc841e4433c8b5c61aca8c6a3940416f2b5e4dc329d317527463fd212ea87eda60d65b36d04c8f9591a03741c10d253a8c9b6810e15611766340d827d37de9558342e454589fa73b98c8bf3abf19c360ac5170e8282fa3bca55e1442f83e1cb67b026afc712de09aa4d8a929f0589ab16921b3a7d56bc9bedaaadb4404d3d205131484d937d9fcd58ab08eca93065a5e9440623dff55af1601b11a2f2ec6e94191eb6e4a95f889ffc5de2f13b9574bd5dc263e94da44057d4d25a97f553aafc3c9b7a16175c783c419fa3f4a55eb8127e46eceb4ff9648dae376290a2fd4e01507408779a2545646ef299a710bdcc4ea306a73347ce698c316d3a542852191436f5e84917abe034e20813dd0c425e7c2e34dc0741b647e34bf44626a4b6ea219315a1698719de3a8c61c1311e5dbfa79c97b9de898c5b09ba2d9ba04b2146857445f8101ed53ef1dee93b7ba4c898e93e28e8a979c1b09c68f53a99ce026acfe6a850f9c65bf55d9d53f839b3d93c838e401963e01648d1dc614058e69d94a2409e0caf858c3ee85e6b5c80ae39089ef50b8be40fb5536809940b2feaa87f377a7a98c134a33a773746d8a186b5ee1dc35201105605994d51706aee0b90800043720bf63bc7bb83cf62bc1711ea02660fbe772bb68f533bde342244033698aa65be6d2259e077aeb48f3a7e648796f006be98f97eb5b341c026031bbe7fe98505653b096a6209a8064d767612ce1108304b901fba5c5b13c090fa1b7689280f03098a1eb6d4d6700d98f3300dd2db06a8c44c6307d323224033e06d4119a48690d6c1bd135407bd5e0dd2866c862c0ce54eb029f643f9f86755375a849d36fd79df769b5f7c0693226a2ab606a27692527f4bd521fc90a8dc2175cd5c01f08cdc114ade274b5511a05fcd533b6e4973269d2eacbd2da4908f62b540705c60606487bfb54e8f29497889f3171c5deeb4881fb38ddf1e16c66e05d8d6b8893d26691381692910e65fa0f3c289dcb98c56db410bf1803be573b912c48c3686fca0bb29c3ab2f268d2a69e948f8835dace6d4c13172a2ca339288503fc74459747b3b1fea970e9ffda928da10c182e07923bac8aaadc7e454ddc8d4fbaa38b346aa10794d292b43fea67a5feb1df6366348ddd18bf4375bc9a210d34a6107d87540b778085b12eddee80e264dd10940a71d71d7f0140c493ec76e2d5ce0818bd5cec7bcad2748851d553bf984602416dfe21970b7cbf738dc12c8c28516c35fa7c7be1bc6c39d8330bb54766f3870950ceef1ddf999b65878eb322daf9b37baa85f5e5c3f29383f178f953720a0a8a58fe3860c7c074b3afc14a2ff5ebafd898090e2a9ae84ad43bd897aea829af009f7f5a829a9adcbc361efd41cdb1dc2b5f5b96c82b3a99cd3c5cebec5e7a1e9990ac98f1b3ac4ae595841ba46c06aac3268b791064aa16569e39c8e392432e780478ba84992c999e635067c740fb9e6113ecb658e92482788da26a23f11acbd1eca634b8aebab6c4cb9f400b562dd89bc5159f134197b8d0355efad6833e96b229db96c7f08b6e905ad446aac8a5a2111445c5b9201273bd6a50f274278509123fcd52122a956e54ff15af2cccd52258e80301c7d02e1e1bf1c9d872a0a85f71ae0347a7fa69d4382dc4912dbb98db5208729aade0accedea02ec36a8a313e67383f2bfcb6e0a07d12f153ed2b68929a94e3d0e5b30b21d3e9a71c6abc480c98cd71a636d039cd3bcd5e51c28711c5d0fb06a050e141fe2022732c77e00595d46ceeba66e8ac775e40695ea91f5d3dfe97a00b9619daefde0c246e83c35f594b8766a6819f3145bf2bf5bbc55a0d31eb8d0b08f3940d8c4cb5f96ee257330c0a2c4a4236e0109ff36653ddc3b3a744ac86d1b58f30768bca6fa703afac3ddcf39dc838b285379add910f893d77a867022e2cde76f9466bfe7023e054d5156f2047f80e04aa042139a59710c75da484f7cba3c1ef03535c235e9e251dd696d86ca6021bcf002e111b60d812703cd4e1036dbbbc9f90f62ec25b86931356ba2fbcebfc35b42fffa62a7cf7d8709d17f8992a97785e6285d3b5f84670e1956c951f291ad7a92145f0d13ce9086476add29e5e04954d30d2e4c03245b318f5a6d846ef073a23b810ea107e8543ea779431bb7def1063aab0962f109a31d59490500bc8a3a23deb74874db4fcbb58e733c8f8730065e9d63e458f879e0cad3518ec473357ce4d118a76af0173301f7521dc62c2194fc4258ec5c6242664393846cb10964a6255ff3affdab39b0927537963520f97648e3b8d8565c02df1cbdc5a7e9dfe9cefe3d0a7b296547f32be9d05b11a317e09936f2bfe3a1d2f1e5454e1e60c3c148f4b280c0286ed13749e613830d1228d1480ab8ad0e9625e7a390d1afbc5788c712ce5628711578df2c53771bf4c8c5af169c32b9815bd92cbba68f6ff9bdc3491337dda7c3d2b1114678c21bda4eb0db0d2e4794c61786d1b724088735f00a696c9ef51b33c9d46183b118d2fc1d4593b54b19915a29858492cffb90098e9fb8b026a759c9ead6dfb231546e4a2f7762736ddfec35c2e94ff6836ce4b3fce7f58b4924465112f632d9da5d57b29fb4dfd3f8e32c232d263c67668e080696aff4bed628eae541d586bc28f4f1856b77fdc428a780ce58b82b4d731f473ba151d75be9ed47bd07ee4aea29aa9c97bcbb5d013a5a8c77b0a21f393b4c274e67ae65cad3f03be4b9795cb5c39f79d0f4c911e046be681f852c7340d036414ee5faf32ebc0df683125997053f68e6fce205ea173709002088e0c03d4958f6877a0f0030ce67fe7616761a181d14d3421e5c21459e888bded84f4ccb347f981dfad6bc82859ac62ee9c035ed31ccdf3b8ba1757d52a0c78da95c4b8775eddffa7552c442204314d4cd21fd1f4ff471549093f0fdde7fd36395cf26b24b29cd805eae086da595d9f7206b41181648d9be6a7307ba0307fafc973ffbb54304a516c91f42f2ff167a3641431ae6a8246a9c45644fcf8b26b8fafd5aa9d5c6f5f104388337fe9df127367db4f8d1812b30f704f883d947590399625c15dadd799867d7bdb95cf590e76f7a07bedef46c4cd67bed70a34208b5829829efa03bc0ac3e605ac69038ba6628c56fe1e35601175ba0397ee840f3ef551b9386edc14544da8721e6386ac72d6285047e173e23119019e958f4c6d7bedd7c9dfa69116c8e4321ae37591b44e68d95f6a13913a9de0fb331b665bfb60aa152fcb28134bfe31c6fe777909c10191e48f3d0ab3113f708f2ec111833a7afed2fc9e012fd1a9b307df0e4f8b0cc89ac0181a9783bee5bd86bbed9ffa526316f3328ca608ed6b2573d1e59f69d572932c15a6b4281c212c078f061f0c71f154644d2bc8c5dd64a2a67b42c9b203bbef4d2614f95a72d2f8575b5902d618a96db08268bd0ebc3d34d1ab6d5651e3e2f9ff45ee5f5697f0e4c38220405fe3f48f66f59e70fa824ce7f41833b9ec0f4db3da9afac21569996d21a50b74c690a1c9cf7bec0d7410bbf283d4705fe7841dcc8e7bc192dd779ee5a5d48a6c6c6b252fed82056ba86c60fc149455fbf9834a6f14c058695f22d53ba5d4292ecb777450c85ae22c53a85a613d3cc268667c595600c3d243f4712539aa8313cf93999bdd78cb2c6b4757dfcf476d184e71fa73f1ab0b2565c1e6b4f01df8aa7e0762bb30ac3c00a64fbaec76e8b9807240e9354fcba3d247777a64e15e5961c4b8debbbcf5d8deb93b6275808c321f8684dccfacc16019ea8a920643b8d454d73cb1f4ab76c87bd2fb44ac86c6eb54f8b673f45f6501ca4c640080db6082365fa9d5593020d387a9ec2b527313fd7f071b91e958149fac3cd0e6e0e05e2da34a53261316735ab37fd0f92fa3d4defa549106d9ad1d2acfb0bccb4113402f37c285c9ff59ecabf069cc88731d07034be8b9dc26dcd2320c4191f70f0f8e1835dd20b4c237cba1029e29a01c7740a076a9f43bc45f6093a6d8d868c6bb449048c42286e8b6269558b220b98d02aa2a46dfbc5fc652cbcef41b0c477a5ffe3157378f2bdeaa019aeb9b93d2cb9cdb18010f5192e36e72c92e01dc7387cc7a50110831851c3354023d7ad1a0e7c7d5bd6e6aa044b135f06b20eb4999e685c7014226f908c08a5a820ee4d3fb37df6a8599657d0bccd61a31bbd1e1c3bdbb5b6fac09c2086e90dbe66db0aa152d21598f1c7407b3f6a30805231a791d660ac4728173689e0c7acae679b68198c7a7261d0ea244ec0d1a48f38c3e141ab65840d8c2c675a221aceeb5a5f048c171c70531dc0c6fa682d682e09500310ca6a03dbcb6561a92d9196a6ee40dbbdd1e46a3503b5adaa2928b9f3b65fd3d44469df27dd04fd62e3f6e98823d87d92b6475daebe8139e083297667f34d01bcde959b3eaf74a2dc824cdf2a53e97b68d5a3dbb203332ad9133cc17dac5b0e5c3397042ad618be8fc9e20e1ce3acfe7f86cbc62d94a159b9c55eff501120b4df1c7fe3ca6a1e24e9dfe5ca887d6c50f57c50e3232fc534b294b72f81a14a9be9c49cff549c6c633e302ecde017e9ec5498edafd84860c4924d2d204e6539e9a4877144b6ad55d4ee4b1b16e28693823806d878fc2418e197f4f282931aa683b0c094aadd03dd2cecbad029f4de8b2bd413a3f84536f9f9cc843fa0cd4a139f5fedb9fc07ffbccc217b988bfcb851bb373480d9ec980635d60f33b6306fdff69d336bea21431bc5e345e7eb705fedd3f41ad82b9fd82daa003e9e61db84294b2c1c31c15f74a0a91248ff6d8808f8915e4cb51c8245765ea44238f21170b0873c3383888babfc2f72063ee67d80526c8513700748cfcd27b5d9ce30c7d6bba7b2f0f4c9222eee62610d79126273a8a10947f6b7634c0c02320ff12e96cfc27d3a8cb22fb6d9e7dae859279766501c4a7673279e4050de24503d543615b73c0380863292047a4a04c3a70b99f1b0d7518c42638e24ed7e52a4b8304525611cc9835425188df57bae8a74a2093e670d28178aca14fde1d1733f90fb9c8c21f0583ea5bbd76b813393b85393e72ef493454ca56f9cc8955b83854cfce040673658fb7b73ab450e271c539a6c6a2d4fed2b023c9625f104f3baea866ac21c9eddf8fd8c3ec4b068dab51069cca9f3060217f09565413a0cfe6b9f70bdc9d14b7746efdfae3b8e35b535febaa025ba7056b5c8725b9c1f4e03e3619fb8ae03e944c090fc1b265ba02609e708dd3e52399a35a66794f4ef8ed292f53478df5086ef12acf8d1086dc7c2855e2c09bf73fcd44953c219fb26d177ce8e6d4f4db836a6c2e5a534e2f73463ddd9c74e56af4dfc2456bbdce609ccb4dce9c1ec4de8fcedea6055d14763d01b7f437ef0e0aa211c226c467a8621413beb313423834c71fe474f4249cff8f63ec0200fb852908bd15d5882233dc71969a244094f2ad1739b380ebb6645437aa39a88dd9c6a319ae3cfccdd7a4619cdaa8fb8d1d85f273e0e8ba8b313319f1027f58aeff0f0890c611c3d00512343fd5f2abdbc19e9694ade5886b9ef4ca5df1b10e93d997e265d56995241c8495a91e01e002d7ed4438202481b90941184a265d48e4b2b383a5126722f3631d5425cc1c39fe36ae60148a71483e70f2ca80c20eefd3123f6ee81eaa83969986be38e4c709c1fb04b6e42e7c0dfd8164ce2a66d653a28f7c5ecebe75bf634f8ef7c17dd80faa2ea2a7f9c4eb44464c61ee84afefcc1e56f5e47c2eb0ae81187708acfa03722beba5a961f63ee1a07406c245b78e79fc20e80a346ef315bd73f3f84c855e923ea5a5be8da109b7535d12173a3fe0da360d6743871aa2136a130cc031d33d1e2ac10c8297eb92c8be73a4c4e195d66ba58fd915bdfe741f05e581604ca21256ce5569e732d35a3f098f49b070c42ef957a015d0c778cff565501fbb06fd65ace8aa137c4b45dcef36c75f45ff4d4bc8ef8e1b0c9bf2a813c7187ab3276017da5f92d57eee244c5e2a5afbd601a29d9e04e89cc8df96b8db748032838df067329810ed4983274cc610df20eab20548799aa82c6a5fbdf3abf07323c1a22472ab55be7ad003ff41435ed12dfb95a3c1a75b8081133cde89e1f65139ca1320314c1334c766cd505969eac14720ee3064ea54a3e6c23939a160d4daf90eb0db52e5cf02c48735e3b8a00a44c2cff9b6406d5192a65f7ab3eaa01911b34758e73303739294054280352f36da9ccab0bfd5b8b33586c69d490d87c2c5d3f128f9c5e06ca1b3bb2ee51310e88f5fde9f164c728c7e988c3a994e501f78851064775634e05f82863785d6c1776310b3b73aacab5babeac0cdcc4cdc9533c5d303a0dbef269f7df2bdc4a4c769e0a12a3341b63b1209c7e5967340cc9cbbfcdb933420d6fbac442fa66504be13f959e00da7ee5fd62c782a1bb0a8506f9ac833ac666b24cc3bc5ca6e48d6dad418d6e34862d92999c4e2f87260a99cf75e615d49e3032cb26abe5e8fbc2a10c8dd2d142e169855a6fa4f4b58007685a8e5b168c4e5c8a59a12af345ed2a83280c508a8e69a7796668931165cd0ea785203f53d674af5911717e16336f625110df6ac717ae0db53df23f02095618496a7a41cf07f389e8f9d1d27188da2bfdc622d6276e535334f011e0f5095cd24dc1141169d82d4728ca2d091f3dac04bbf48e5ccb99e25b80b3a434b2444208c2b4a9cb8b25f7f59abdabb68f5f6f6c09c92615144911455339d63a824d56a9aa700c272a7853a5ff75802c62805b41a6785656c071cc4ee22a362a826ffee7bcc0661f8e0424f57510d38e377d3ab2fb0e020485ada02bd2f93c9857c12f791c7400838874b3cf2fb5e56b4b49d13ca61d70d772c80859adb74de434ca3980bb6f9250d9f6a7a000a3d3e3ea840a1bdd921f8bbc1e2d0b741fb744ae746a7ef6a0beebbcdc13ceccd25ead6451dc87f4390b7891ef5cefb7757a7f0ba5f86d8bd2e5c9ba4d2f6f4d3f7c2d9607bfdebdf6fe2a52559db07d75c64cdd6451946e54900e2f305c80721f7032047e1f14c8a59115473e20ac21653e873ce3e620b2c19f0eb1d9f211b977ad208cb8fc6a768f96488845730025118b759c036e9793e3e5c22a9281e48ce66beeb01c46502c6e4e14eb90b87c7f4eb9f2e0d7ca9fb960563574313ea444737c79c840094864c34040dea81f1b9aaa61f8c9b9300a06a0b32114f9991fdba2f9fb6dd6e8720791cea8142abae26645d2d0c3753b7ea291d6209b500337f254e200dfb597915d9295a86b34fb1114b8edc49a8e1afb74e4d8da56f799a15c45547234fddd41ce8e9f0cf150f39ed8fd3b75f1489830404af26593dc9132267dc0fd4040b80f371878533edc75fe63de9a37eb06095bbce49597aecb15c6a2f74b1ab4adc7e50f2e4827f890ad936c8dec21b579020f77b12e1a9d6f5dc9e32e5a6df0fe8bc9e4ee6c8e359c5c652ad2cfc18d238985030fb65b115bb20c72c1eaafde03f08c1bc797cbce85c017ada42af86f1e2b45a8ff1e5ff2032ba410cf30bd30a68bd8b5de0bbbc6f278ee90fb70f9bb03aa5b6c4422a3d63106b05f860187888b726a0c8f2e7c247a9f2a69a0a3f58ea0903b00dfac6726a62186af258b8dfa06388b8e4cf3b24e5697bd6028a812a7cdf0c881cf10768b1f3a61c2d18491384087f28512109721d4dcc82e9a3324a8c29bbb0fcef60f0712719dcd3501e5d2fb08193d503775df7869de5dfc9341ea691175aad49d188ec1a4970e0d44e18ff438eee831fb37d7cfc09f764c02a990873c9e44a2335d02f178a24686284d43997d1995d40a6f8d386d43013f4e292890b79d5fccf51fa7f71b0882a2fa4fbb35ad9632dbc63af7ba91fd7c4421059d5563f33de9254b0f3296b3e3a669634f5f4bfa0e38461ccfe6f6dad9ed6c2e09af5c47f9c8e13d2258c6502440a62363068d15ae76869ee951de8b1111c421292780aa7c4ef3a796d028d1026305f184e84ad0654383cb5cd6bc45f1c7ded76e0074a4a4024864357cc4e04c55145c22d9cd8472dec42592a8cfc6989d0d354a5af639527a6cefed90bb4a8910c06bcb308e3ca35bf4c9670a1ffbf1cb9f3eb6e8b91d4b9e1d7409a586bc81f1b8790f3a9eb834c1d6d9cfab9547e8180c4adaea7a12dc4595d303a832e2f5c2fdd28de02538487786744adde56a9b344ed3d40020331c25b0820f7a9f5ac1359ad37452d12b23bd677d86fc80037406fc8b51022d7769a7d2e118e55eb02b466c463ff0d1f0843a38ac778ccc8bf2966e7aef6e6382f0fe3276d5b25d0bbb6ac409bff14282f901fedf80069bbc5b51ef70501d83a0cce8af3e4fef43309f88529730893e65812171d22c994464287434412050f815982a36c9c4a82c7a33988ad32bb2ce850ec6031a65fec0fbb2be969ad2806dbb99ac2060f1b830ed6b6383489125221a5866ffd99dab8e478b6461f118ae7710e5471850f59fbd1736c219469c8e73fe480a6a0574c4a511426efb299658ce52e262f389030d0501a33ee8259ea745c2732996ef7575de89757518021f6d311d0d2d626a7899a0bc62c587d817145b330844ea66404e1578b3c8e6be0189efc3a1db9062aa60859f4aa82e746b7dafc6","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a58c06db2f370b0acc6dc0ad267d5ecb"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
