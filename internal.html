<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f0cd5423c555d41d65e283f31ea9c1fde01f8d1aec87dd2f1713947f36912fa9e1ebd97ad78137d6b4ae0316d1481673f9c7f06efa7bc4ae3c34c45f8494c2264bd71e4d49e3b5225fc47849775c5c46171e3575c504cb7987f4fa217e1e2f253f2a70bb6b177354b6cd53aeb62225c03159c2eb226e732d76cfaf5315529ab32866a25a69c17f7e189641ae764c719e7c20f23dcdf6d8a79f4e1bfcbef116099c3bee52531f1ad98d1bbcc4b69807d8bbf89e657ecfd657995da2111001663397694d10706e31208ad62d3c54876ea0d5c4fcee249f200be9275d779cf7fdc18e730b3727f9eeb1d0905293128d7059aeaf91ac7d8e10427eb4eabb746411ada9d0edebdcdb3f7d89ceea250cb167d40d43f4aab3fe9a78e0604b5db7b224c45b665802739e56b8f392249076c88a68c1d149700ae0a2ac5b109a2f16acabbb4fbcb7469d6bf98484016ac00fd5fad8cca706176b8506fff79b4aab630784315c7af1bb8d22182eac47b88335588d02e76779b093bbcf552d54362d022ab6ec52212c4dbc76291a53629adaccf6ff2af8d32a764202d7ff0da62d4e26221e2d0c87f5b9e6c6e2348ccd5f619df61a0f3a388381dcd5712a77f1ce56b8c4fbe8133f54c528d802dab022cb52c2f5070f60e233d5a914282e91f17bdecc27689810c06f1142cf2c5327dcd81e826fb90501d026c8fcbff549524404ede3957f4448130385949cd0d2f77712962b6afced5c9888eb5db0579ffa7a24d47951a4420f289bd82275b77651eab4d52f7d681f8c625189a34d22a853b5830e6b9cb6254c9de15ca4419f497f6a4176e55e4049cfe875cf004cce74e92a764da95d46abce77e706a839a3cdf693b4321db6f493f4d8d4d9794d60722dd9d32ffcac539ef7ce3ccdc1971f14f8c68a3b0f0e686d7ed402e3ba3c3f0928dd127b7b240c68e1e308701570aeaad1aa0b5776c08328d805437b95bfd12ce39b8f6c01170ece21bb20c307f2cffe07bc32cdac42a1d15f97d8c7bed1a40f1c155a06627670583856dbae603fbca9215d1964eaba238db13c489f696c231f93444236228b7832600056f7daf437803a4b3cdba167748b115fd7e86d04137cf6be9f2a49e8e2229eef46633d79bcd9a2185cd1a543ca89af1f69d9039183f717f76f04cb08cab0914ff55f418e377557fe3be64c400d2113cd8f24487f8d3a28550da862b05d18ed5daf8588dc4109dcaa6c2e7800acdfba87065b209966b1eac95a95659481143edcffa62e2dd668e90ec19af019812a83721e4ff5120e4b1df3475178d889e6184fcd3929553fc2d8f4f53268545bbf2dc5f04126475c10344e2eabd049b13547b49620e98facd04b045bfc68986e1a31820ed8532646c7353edcced7e56c753cbe37fd630b4c8517df331eb80fc6a61f0ec348b77dde08c5a5ac25968deb2c8d5703821f46340bf4f9627e3d60b05dd8454e08aa57d7bb290def82a006c412d4c96e832be93e3ea9b60ab178dbd3ca9a064e32820c98ff2e4fc6e10febd85f3a6fc2f97cb3c2100d9d21760da3dcf2ee3e2723d2fdfb8acbef0ed28ed826753274035502c8311b98815bc41524ae7f3d24f227dd58c3f4915458c71bdc420ccf1110d911061b4340dee123f6a2802e5f00a86b6a3717de00efcda44099eb4bcfcb91bc342c266f82132544c413619da469522f8c25c8e9ef8136727a4d445b2e3ecd497eb47cef1c998bffd840cbb07755d1abcb60d02fe4d81269b87c4d6dc254db2e22a53a59fab81ef56897592d0cf89d5a532d560ec0b1f0bf405457db49d1548f948f5c6d594bef54b98a525c2f6783cea9f9f8ed4a75d499201d5bbaa19f4282a99b1fff2c014484269b0bcdae5c4c600ecbbfc18d56ef598f0087c521a71e81a46d73e24f39e83f76a1783accd3a1b90a981f27cb5a996e4c4ca76b56c8ae07081bf8cee772e97a3fd8096425199e1fe3cbf168cf7597fa6f40b42ef1217a05e1fa47e5ac69c41ed7a181c3864c076896b48e27f9c785b569cd8d05853aa4f0f4465cfc3c147070d89f4ecf78905df406b57472173c5b96aa20760cbd811f33383cc2f75fc4f14577d6f36bddbf04f4eed40b699bcb2b2bdc464e1a4c9c30e976969a3e93fc29dddba6ec8a3bcf866289d4d86a72b203d506838358abbe36ce94cffc920031014e5cc78ee224893049e332889924ecfc3bed4128114433f9d8ad438bbf322e7e7a4b6b95d843624ba86617cfa8a3e438df684a0b301acfb2fb4c00aac23ed0b27b440571a1e68f07842419d3c00a220f45fb0c4b84e5e9e017859b10202746d118f496326fb7c814e7cd33b6664235c626d6eab9364ada22e2a7686b7e4de89f1456e8c1ac487b39af875af028e5ade1224711c87774336afce614c2666b74ca892d5c1b6c8e53f8efdbe34f516e63980779268ec72e632fd62e965286abe35d026921acc19b4ff136a163bbe1113e0ed17dd3d578003e2ca4fc2190ec60cdafcc3e7320f45ff0ac626df91609e00d7685e01ab037f06bd1224f1211a3e49e60d6610be02f66285a35136e911422da07ec5c79633399d1271635055d1f8e1530d6a7759d5ee759d34c2e91f71ad2b7a0a02e36fb03323356ddc2c772b3d1b507b10f948f673f1290d20936f004ca0857ed206ee3b0fa231031a20aa8c595ea77975f06b53046edab938e90ec21acafd5c5ab411635f693474418e3ab6553d0fdc03cd2eca13ccb237a9cafd959d6f6288bdbf4685947eea770c287f9c37527cb234c12d3a60ca539f64afccf8005a6facbbbf1e7f08113e3dfad0bf292fe1088f1cfa72a10b8cb36b10d05da0f794f9b13c14ed86e552bffeeba820ee3ba634ed5a2af8cd9e6d061429704dead03418a5689b0eb5af66bacb344295fdeaa8578908329bf516a5ef464d2f0d7e73f17e02b942f7d709437b9cc1f8221377b5ca845dbc8ea0df9367b96995724647ea80752862d9d1d6c5c7ea8ef900d3df87d9eca47e84503fdfe76c30e6fb5d89a3eac0b33bde7715f5326adae9aafb80224beafe2c58d01b179ba9e8301d59e5ea7f26df6c0ebbdf0aa46ba716fda27250c9810b17324f2544ee1440c7355d8b977c2ae36f8598fdcd1bd5c4af09e3fcee10f5386d30225c45c271d81c9170022a72dcc5867f07b30bb63c13d5bcb60736a9b9234075b6abee03bb7f1686ffe4f79555d480b50e65145d15a25431541b7968f0ee7cc813e81a3a97528fc6506cd2fd5ecf28144add34a56ad9228b52bddf6ec2d006557ccf1d370551bfeff2c35a18e58a83becf221987ab3b952e01ccd42101069d0850c90aef7749d0f639cce68f33858589e0d977142be4fe97dac9cc1dd7d68ef1cf10569f54d32e038f90f3168e22451c4d9fefaa8ac590e16bea1608ced152aace27ca46156303c00c9739b98e8e0fbf729e037ed7c27fac8016c49b718708c90ee2468de7848c9058d03d1280bba501ee2dd52d8d78e27194d2dac57319bf9fb3856672c8efab087821958d76e65fc87a90d6548cf5f9b3b17f7fd04b6e9b0bf0688bb379ad226923220fcbae4bd80e512a376dac1d10b46e0910447e02de9da44ca7a925826df397b91015614f67a9920615e01ea01796ab39c89a7a824cc74dfe7e1e9a290267f2dcc2a6c17c6ea239c8880a6704f949feb4d8cfd4a7b525860d1d82d8a89ead4eabd6eeb8c34fbccf6a71cee4606c2d242b4a981870a06f89367a6979dd582109767561a436596000c5456011b0d877afa2db226e757069f149a6a168146c4295932aa355af02811d1e790f9f053c50c68b05c3efedcedbcb289eb3d12fdc930610bf421b1beb180342a40bb0850755c53d64c4864a72a0c4ba70515d537915856eb8eba242ff3592d2e7a45c91a890db67a647486189c34fcf874e68d2f23ec5939eed10d6c1aa3a220de33c4e1533c5f03e947c4e855d2643921aa29ede884537f4b01dd0bd3cc16fbd715da9cc75ee32423be04738dabc48977fe6f9b912d315694eb4c21f84843dbd860b742d04bacd0e4bc217f5accdbd23b3b58bd88be14d7de49559000e03c8764d9ccdfbdfbfb69838e95bc1bbe6d6baddd8a01cd0cb98c25adeda7f528d972d6cff01816864cfc3111ae5a6579519bd60dc91b9e8f618266359b2dd119152d2a4dc5f1668254cef0ead2f642a86b55145baa9f57e0ed08cad9453f0f65a72b4b29f4d083f50b9ada015ac38a0dfa2c7330b404a743bee4fc5145410027bf618b9779640b181ea580a15f139e99fb0736a5be2c2e80aa26ffe57f50d005982bdef24f651faa96b0db7f5469a48cae5dc8d67e0bceea07ba9884cd64a90aeb7322c9d88a0bd90e6b5f4acb9892b82b3956ac2a46efaa1470c712a7b6242550c76c1d92353178586c849e6d9b4a61fd410afcf98d586f47c0cea55fe31af92b2bf5244ce46bb090cdb545da3fa060feca38ddf3c599cc8934e875b338eac05ca22f65be2e5b411b0451e3e715e722d5980569bcbede69ad9416fe2a1ce5db36d0c4cd8fde4c8eb1c776e52fa9f7044abedf37158dda83a4b8e192106984402e50941091dc85d8114eab6d968ed0d1e24c1fbf231ecd373f215a8fb1ea910f8e6a9f730ae5d9235f0cd91af1e8f3281b1784b476fd3bb4f3c1e1d74f47e137272d5d34487a158ebc4c2f2eeaee23a1e07dd2f0c601fd226560dcffda3494888cc12e5e3ab940803a829d14f1956c629c6b2064e315416c22f9401f62597fabd33d19e7d20492144e8a6be70b487284abca94c1a3f079315cc09cb12f80f4e1ba682f9500f26fdd3e2a4c400da66ce57de3e83edfc1019aee6601ac48b3090e03da8779a4e498d2b3912d6481c43eb26b5f349651e796c4978263408c8e518d438302e4017c5dd9c3e7084ee2555cf0f9aaf7bf10843c2c8f948daceb737359e880b54f51f4bd4be310fb15ac1e73f47fd8c21d62a964c84d1bf3d4dde0f292d78d79b5ab559fb6de42c1dc39782509e166f4aeb0178deaf372fd0201e7eba4c195cc4ff7aca570ba92b61fc6b2efcfe1acfd90d873a0bb6d653daa6179c7f91f14a8e1d05252119d284bf053e7be365313d4a590317f0786009b87822f06c3a3fad55bf909305f2633652189dc3357d6be802949f7fc2c3a5e357db8bcc3835e5867033e4b4b1322a02ad06125887bf346bcf20836476910175ae57794bf1108b414f1cdf544c9270dfd1022bef03350496a59aa914637d57fb521bce3aea7ad4eec6c8e7a4f8ebb00f79b571bf645f4b9e87aa72198def599d5362301ee5569b8545fd7857c9537d2d84baf0d42a5cdc8d6ef3a7f296100f410c822963bad44ce6f4412cca00ac32575c87304428cbc307e4580ea57838011124bcbc95b905a8242e629bee73ce01d24a25b12b7711698ad09dd242159fd89e36d33fb2239604a9a288afd1b992646393d149c462a93e6626a99ba2cbdcf4bb769bc4fb91245773e9f370253c4cbdd0868318e1ba76e6628a79d722d6220ff165f224403a58d2e83745102e29ccc0396ac7180f7a5fc4869f77bd1e602e8a8618041a2d6cb83a12ff4e04342f269173bcee8a8b6ff037ab4235c495c41ba2782ac1c1174d50118177001a86462403b02b12b9cc1cf5e4b8668124c5ff4c6d5fbe540ab61753e613695ab6a3ce2af31ed2388c5f772bb14d3ebc534cc9ac118e64dc52481d0311c500fd7ce3bc2974a855ac93918e859b1f5c5b19149434bc620b6337986d664a245a24067763a9d85140232cbf2f8f4ce7a4d8f46ffd2f60eb45d14ed9b7b2e5a9e5f4e81536f326d42c5f627a11799cffc81f8ec5c88ebe4a5f39f2ed2adba5a4edbd60b7a4f1f6e0663e74f256e13fef0ef819989c3c59a72343c22dc9f9145f91ed45190ce1ce6e9fd993c45cee38095f91fcd252033fe8112740debdbc9ad273bc7a66c404f542c5be6c088069d1d6b79b87891467a637ee174ec45108f483b16aeb4e619534ba83719a14b2c53bbef2e13f357c3183b9ce88a40657b48b9b931c20ae6f8d8326fdab187a5bfd677012b5e0e5d9ab3abd1b65066daad359293cbd7c47705337649772f85ebf2b100e4ad5cd1344f295fcee700202701f8bd3ffed311ea4d35ee7677bb0f995ef8e139cf4707f197712a49533c365f1dd44430609aaf8961fd49b93bd00ea0ad0b4dc7ea2d6e581b74a33bf5b4955e452a6626f34db032f4bae5572e5e82b151f65afe68b48227b37d1ca745312958a2323ac7e90e48a1a425316e1378244e34ba809280104d8537160009462db42d9946b5257019c7c31ece3c91c49f484bcc4abeb70d6d139bfc7a096d098fc86838fdc13557a9e38f633ab33c0ee3ac0b6de9c75e904930bb4f9aa723401dedb33ee9a5a9b099f13b45accb39cc1ad1b161e4ac8b19dd55368f3511cb532087b918bf15f701c8519244bc8270ea7efb83418ef9c69df0d43c6c28ab763253477f24191dd111cb4b84937cab646388ee414ca8a0088f38772ba09bd30eeba5523942558cff48c502e129758c4e8210b758957ea733b792de997e74c53e48ff588eebdd473e8344bbd87a1a57e10c1827fa1109cae1bb160a372318ba7593429b2c74ac17db5b4d2fe53ee741997f4a45ba3847ccb8f8dd811d921c3bbf8480e20dc6f7b9c804700b825c290d2e64b2ed68e96c26fc57c71f7e3e157b695688155ad4551f5cbcef59273f1c59605701323fe8f9e96607dc133627c758dff6fe9b1963c371a115a6e1f1f008f21f522f584fa91840d6d7ffa7da2bdfad84b83bba5a681221c028b9f4f03e26041385c0adc49fc97e70c3a7e8452a9c585fb88bdd443ad9a7b818c9bb340da6329b85c88bd3d9e99d34804855c2cc4d63aab81f00c0639c3b41d0a4f026139ef09c47b1aaf41dd85ac3ab9894317690ddb617d78e13e874803a66bf53c1e487f765fbbe61b0a3b16799a4a8973a11f375bc455f8fc665af76e99d5fb53e793c460f276648f0a423c5f5dfcae475e71598e671a59c0cee969578cca11474fc8652eb42c1ae0d1a8e960bf102a6f7845f30b43d19081b502a41b94a448010464aea2a8148751ad2419eb23761800246ef98721f83461baf92e777ac914491a3d1d34254f05c226a04d21ae6a2d637480795222ce2cfaba1d9e9851dfb5d33f823caad671a74ce1a11a0d2d72bb59d07340d1d607cf1505b451748bd887390ef6305fe40174960bfa29008ff10ceb67643dc9ac225487976988a6f149b4cda3b89caae0e7f381fcf357008a16d58355affddd85ee5f4e6b18b98fcd17b177b490236e0701d17e9f9c7160567f75f1512427a12fe8ab20ccc2ebee32ce5612da88eb79481726d03feea15d314cea6973e0d1a656a61d59b447cebd0e4d5862e4309d4029428f1c5e867bd973cd249dc7757c92054811326230e274b2d0df4bce09c95f8c6f0687f30521027375ade599a8a5cf15f074bfda582d572b81937d66d65d18e1e9f729ecb8235fc9f39ad8d528c43690211cb4730bee3bc6a30d0f6ca3ddbd35ddf6e42d2ad202a7c012401e0c72dbd913a91729adcb8a1bf39c9b9160f347c00c0c9d74f9cf72a27003045c67eb03c867fa044c94736d5bfd18ade00f6d0255ba0cc894b0ca0eb5bd05651498e8ae379ebe8352562e081d1e6c8604a9363e751c8c868a13d49eb0bea1c33d94a8c174f6b0f9ca58dbeb8f20dfdd2decf9da13b2cb9a96f6bef0d9da12eda6d4dff30191177eb3a93d818781cbd61075b78128b06fe3458f977580908fa993fd69bb01b185e1bbb8318bd43acaa8f60506e8a28d40c42ad54bf094d2d5471c6fefc717fd74f7a2b218104abb6564e3150d3e55455058a15f1c5ca3837ee46f3ec3ee81630365133625f51722474c105588a8144e1bb8865f0b07246e7dfdeec6e886c249f302e8fe1013f2292ee24b2e2b36bb3998a95a26b297601de28b5445a27d87c26dbd1c0a2fb56599f62d10a183853665ba3c1fe45c96e16511dd38a2ff95538782e7808eb9233c0a0f844e177f6ba3538165d0ee8da3e5c5dbc78f03b3cfeab6470af9b13d5ad43fdc16f3ffac77c65b03bf6cc191be74cd3973a4fef3998ae31d93f4effac373ee4d9cbeede379b372fbd86462aafc3c0db05558654cf242ef2a86af6610a8e76be5109393298a33406ca0da5093748e96147004bc5571581faecd1bb9eaed01a65537b1a61c888d2e4145d369e2ca2ef96679029ec006169ca1b81339302b60b164bce20f07c7f0eee7fe588999386bca4cffdb7fbfbb20e9cf3cc4802cea0313e2aef4563745255e2f48651c768c37019a9131e465f55fa1f25f35ab5313fb6ba2ac80b9db149aebdacffe447f65c050dd621d2eedf6a14b492e3c668e16be55672b9842e02af6d5af689de787796ded7c40e0d85c33280d6b17a55c5b88351d20244c84dce2f5bbbff8d806b3973907b218a8b5bb8adf0051b06dea98fb017972f5a86e0c4e6b75c086b462a1de1f8ed5d0e5bc4eea41c76624231993284c26b8e88ff8812947bfbbdac692c4161ca2b7e553da5e28d80d2b2dbf3c5ff1a22b377c6e3c664791b8053e0f332c98785764da52043e1808cd0cf25994575e75a3d773d472fbcef41527cbf3f27c6af8a2fca40d677e0d2e82dd1e4689fe7f9f4521b17c5118f3f5b45e5dc73bea175d914d50dd04d76c06851c085921f3203a6fd28013a3743e6279f46c63e1713b78c0b9b12badc14ef8c6e92347597d3d0359df89c1ef8ba1a51b3df06ffb35c2b55a9b77471bafcf1817d4b3162f319f7644003cb9920bec67cdb2d558a528662a964f9755f1a88c9072bbcdd533f8709e98d34ffcac94c3eea04bccf579cc2a1de4a519bc4b5ad4cb60a4a655defb421bdc5d51704d276c823090748004737f7e3e61eb94e7d36cb133f576f3119583dd35d3ed75794c864b1b00ba6537a3699bcb43a0a8a717abe153d7701bc01f2b097389e5f3744ff1d931dd8dd990a277f7da3cd226deb9797126629b5df75707e189f8b2b5fa779338d6bd048054a2fa0ecb8de625cca7f9a82c8a7dbc5b2874c53afd0175f5f252f336b9094189465991f37437c1c1ee2a5061bb4587ab7fd340a8b2422ecbc5c23b0d490e72aa86c222094728c3b93a9ce983b7a0d71d8c85bc851e7957393cbd3c129763a414dbaed44cf11c71f881fa8f750fc88b515a0cf688202bb4c1b46732959d0fe826755cbe93cf5b12de639a8cf0f033caedd066354d158349056289499dfd1d80ec51265d2db3976aa2224510400753500da2c80696f3005e32a7c1cfeaf44a40aeb05d3bc9b28993c16067a70bd0a32a31770326241e654ffb557c91792d428a8225f819ddb29d957a575b98e2475120f681528c5af1cf8b5ec6bad5f37a21a1be1d0d15d0dd9510845a2321b5d87cc19e9a29d6d66cec6091b18a2537b42622e7d62dd3ec164211cbf62aa0dc56532bb24a7602ebca2a04a9213fb0788b887d0b858aabd3d03021ee01ed924aa4915691cc50dd762a98c5d40e50e45c08b117a186d302acfbcc564560732061230d536fb925c75f4009c0fc0a47130fca76fa2f0e97a827f331584b6752255563263bf9fdaebc804116f9b51251410c776c6def31ebe5eeb0157361990a111aa71da3da85d94a627ba041364aab2fb209377b3be7eff38007cd3ad3ffe68d2e99523ee82b883d3185abd22bf63c2d61a602af5d2026c28f4ccc23ecfd7d00403b7896c541167e08419fc31ab5cf6269372e1dd1f4dfed9e66d14f16755262d796a3d4a0cda3ad6744ca38f14558e75e96f4a31bf70e8d6a4c5f674e29734539956ad5341e5d46f5844eba6c53d056459861e9e4abbf77f1d6b236172b087674a7de54a362de9ec9827c9816302a27d3d4d7ee7c42324923121ee8b62f1daebca77e4dc77d2beac3fa2a94efac4085b99f84952aa29849c691aaa88f39ab53d119dafceb6c374934d9ddcc0ee10d71eb11125fe090f0d88e898fa58d8e88e6c9226cb7e8684ac210f3de559140bc877a8c442cff4c2d8585058759ff68ad309e6ceddc3c66458aa80f46ccb70b3175b78d6c8d42d8327553d01c9af782b3e10df31343eb9bde4fcc2684c5a54fe7caedd761c654d0e8ad677e485cb6f2be4d72e4b1e9e56e811bdb2a9f68de83c101467123497e2001a14225f86c3488b3207886c52269df76e47dfd8141a3f0467dc6846ac0a937f1af659437a890e91bf5a1b8d1298fa710997dfb17d286481dec687a8c500f67acdff97f5c9287774060496560e671f98f22b4a2277ab924d8d56d380fca167b86c1a68b9e6350afb6cc10558d66a6b1e46164b8fbaf4e47a583c53adc2d4afe30bd7496bff9332b3443c494bf3e5cbaa6e837ca6ebfb07d6fd6028b8fc7d8c0ccb5cb1cc3b24502395403e2144b588cf683ef9baf5348811a202789061a446bf6dd47688fdb163a1c60f53e891edd3537ce0e7dd7360fc2a65438d3823b70f4898ec5aa038a4be1631fb9c44735b7ec716fcf59a2d22b62e910df159baa64554320c22f9bb0610c1648ce15f595c757d73f5d312d678c9adbb34cba864d3252d25305a08807d146a1db11d7054a8b3ab018baef31da2c0e520e5e0eb0cbacf0edc83ad91418652d545dac24503ac0ed8d6ee002682fab0d893633526684d8d26ca266c4f50b5946ab2e84a0d2b8a039d246e12fa04827e4e5c398b21dfb1a8c5dcbf0b4fcb2b255f9eb9e2ed1c1ad01fb5476abb02f6e48b2342af6a8bb3b784929ffbaf33e820f164a5e54e9571178322b6b091eb025cf87edd5d234750dc049b78aff6d61dbc65222cf14d0cf43865397680effb5fb39714d46afc9511906a2134f71665fa7e86399e0c8820b994753b5e5141c43e7a17fd6949aa970d386b8e336600e49edfa5b7b6022ae40f1edd32c307e5795e038ce3056192222ea1d3626d7751c7f119a8e5ec5e17abbcb224949ca4fbd4484c6931420766fb6057a8c8755d22aacbfe6e331a21128456346a85c781c3d60cacf88995025239e2284928cca059c5d1ad3a7484b7d28bc45cd7087a8078ef0ae1ee4473e2a56fc7e9d0f6ee10fecd3dbb052f4f5769b8c5cccd7e3c7028be2140aecf1076b68489baa2b143e552427fc49b5f845c62f398399502ee34485641631915afcadb3696209b14c073e65528dc8061afc65341fc406499ba8e195f98746acd3e365b7e841798460ebc2500bcb7c128d0bbff654201fcb86991948a86a5888104ecfee4ab6de99f427a786c461cefa808517ec54a0803204a7b2213312a0346bcc5cc85523dd53ec5c0d4409829199873c1cfcc449d552a4241621909929a3cfc5e0af2cce86487288a96982485975d789e8aa74d046006672cd7c3bc3cb8e77b41b9ecca26126eaebf65bf0158495df2a8d8e5a8bdcf8bafee0058e9f3744855ea6951a9217872f6753cb4765d4837b454b09be5201d43c656fc1fe78823799f1d30be999203be2bd990b61e283b8914aec47c5086f34243eb73ccaf5894d71b16b9ae3f567f24fb5520eb317c904b57e46b7833a95607f4cd781025f5efe62d67163d03349a408e7bfbbbea911283a9224246bd877f8c464fe75ed0fc98e2e49774817d20f844f00ce772c36896d6e2dea6f32c60ba38658a5cb7a914e208b9dc5361aece23cf8e028f0070d19df8330e396d8f0d3d527ae5f3c81d3b1064369f13099e941611ed14efbda03b524abf8efcc812fc7603bdfddc434d66e8245236534d43bf52471875c33087ce5f52a807a39b4241665d567bad2f292898a83b37abb088e60aa991b66e90ebd3a54e79fddb0e07f8faad826cbf87f8a784d5e006c9b39f7de2cab75f4d3de2500db21ce5aed2918a9105a12c97ef45b8d67ddf019a44e62e6b8c16b34275c86835591b4845de1869d33d709ecb94d7b95da191544585722cb57d775b69b7399a8755591de246b1f0b90642292e270998d3573383a9ed77609dd25c9531d4d5c6fd7d5665ddf33e57e549f434c9d0e6598d4f6d028bc85a532aef4a714df5f979b5ee2361c64c972f87a449804f510fa7b4494b0abc7d1cf92d8ebd5f1a25dd829a8dc5dd20c0c486ae33842a6c842b4d2a716ece7995f4602aad75ab94ce5c4dd1240401a56f46f1e05e1b9ac8fce7f63a73eccb859b661805a9096da69f0860da8eaa2f104614b254a33cdc4263ccb6f487769d423002ab14a98e99be62ea314fd532264d2d88ea941e4230c77b57addfc5bcc93dde28384ac47d19b190ccf1a4b524a48667c2242e1e4d5ec0eae206452fe188f881dcdb0ff8ac1ba78552587477f973f66dbf4d863edd7ef8f62f2a4ac2248df9995ee5757c477fd4f07603117a46324babd288a54c14f154074a04e9a7eac1686cd955c8f196af27d5077b2c3d3431b71c2a93416df5fa64b8b4327e813edfc8dc0d20f3fb2c973da626ba3d19af9045047db0c17232d384480ba5d5a161748d778a8bbbcb1653a60642b5444a40763b6c3d8e4db6948d3ed5b706c106555be989c8fe54faaa2d32dfab03ff58882b994d5dde8095dc883bd4534df283675283cca7fbe7856888514b2cd265a10af82de678a688979a076dfaeff23b93fde1b621cd775afcbf595c37e382e30dae6e0047d1b472ae77cca1d19302ea8a6cd1d3fa43fd91ff02c18fc865a4910f8d680d7dae104526a10f8fd52a37ad5dafa21eb933955a15b85bd4e0a6094e3f6ea2aa53f0fd0c5ae6ccb05efc5c70c598c30d43c7ec7c82332411336a93c82cfca3b747ac7fa98dcf845600997306c5ca8636cb9228905333fff608464119a3795cad9b3a3c347a51aa7a2d027492a6d69b9b91125f8afcd55b4bb7c5a7056af42efb7ab71c320aa5ef44149b0c07ac164f1eee0f1331b84b5db39b00374a0c9741a830a1e773c366ccd3a6c839af08b80e88096a41fac23896ee84cc2fec02978e9ba67d3625bba044a68c15185068ffac4410241fc015db1eda68b90bc216421fb9224c6ac0bd7fa1ad24ed7c925a511a19afa68742b46e2787f5a2123c5ec316c3bb984a796fcbcc6f32c564d2b5c0940a135adb98eb036827a908cdcfa080f7817a641c07905cae7fcadbfa63f423a9860d97b7da17991e40c3e07c9167bc919ecc9bc3d7a7924ee690bed2d3e3b38ee035fc07fc81f96f89bcfcd6747346c3679bb04cf3e17e29d95b2c22c6c7565ba936a179342e6265f7cb3de0a182139d97efe3537fb8202ff8683dfb54f16e02f14d101f388700bc4343f302afa71ab4a7839b006672138f7e6a94fc8e3f5c42421e345fe75ad25fd09e56fef7f0494a4a0822082bcfebeeaecea98353747d1647a30fbde2fc8f51ef9e630d135475e97c2eb9359dbff64791b7d4d99f321ccad909aca6d9439f9bccc613b6c9c2431479ed68f1501303080f69b1b3d4a1b8c641d2841a8ca2f11c54c190de8c9811526f6f8cee34c1e4874e339904e17881bf2cdd1a3d74545a7b1c06f3178c83c4653e64406974145a79f927c916fe1f5fa9b4eae7a67a4f69ce10d42d4b446d8fc7e3a23032cc75d45cfc72bf0d7987366a189a7b219db29e723af196914af84f2c7f02caa963027f0d94cc150363759b77dfc08d643f56440475a97edc702eaf5e0de1c32abb31c1a524780287713d5eb7a2d128ab89d67fa594e1bf93d8840cf52d37e9b21a611a7f0545b5e011aef88f793d9854808fb8f13969c397c64cb06cbf476968dae3a0fcdc0a3b7679b3b489c370083593a82b7c37921678e5d08929f6c156aeac1c65e551dc6a141f8aa42eb2d7bde366692f483a47e6660813f59fa423648af861e4f23c32de35ac13faf742f9685909eb8aed2a2504946c687792e3c18baba12417103cbb3c1379efdecd170e88c28068899ab51742a2667c0e8a76eacbf6873895368ee96a1dffbd53ec0986035f941694de49a392b80e811e0fd7374be0fc97dbbc8c0c969b4fb13851a745a22b9499da65ddba76be2d347822e712e4349f1267fa9cdaa38a49f0ac92e34fe45b599e968ea00948afa75c354ad6ffb2bb2d34e86ded358b97461d433034768f2750d3dab3a86f1ca8c8dd436490fd2a16ba05acb7278a3ee1be1b6e52c725d5823904a65ae966f1a579e1cfd3bfc89ad81828c4a3ad7ae5fc963a27458d5b80aa81e7bcc1bb2579ad25e2607b6ae74a809c46388c113162d9ba08ebc53f49576ca8e63a0a9d3fc7d0ed66b3aae923b36465e332b8b0fed50db5f89ca79136003e408ad112aaa042ab8b6776ba681c8c1ac56f72cbb97b3836d1f09465ba5cf5b89e6dfe7851184925302af21a5f3bcd9b742b32d52ada7fe66c6ae18546ac8a455cc066d5228b0f61f4a57411a180dd49e1e3099d4048a3a3e27ac8f651113be6e3e2f175bca164def996bfa9c23ebf4efb0d7e0d696ba4f096c31442795b17bc8d1121413116fbe94e72f5b84d3d6db39271a2e6857c12f6f337ef47706a24ef7803bc179401b094ed083a33b887a2969fb7bc5c3c84a57fb4e4ad7c8544eee1988d2e220f5b62cdc3c9e0c044665f18ae2e0bfb21de4e3233b9ead066806fd2827e158a9c49d8caa0422958183385a0ba5efa7a8393190531899d179769213bde8226c3f4d87b31bf18ef68da5f97b8524a4661360833453d761a71b898a273f6a2527a1af19bde8629d0048a7feffccc16859447c6a396f5d4bb2fe3fa60c3d8d788ea37e67abfef23b5e04a9601b6c2fa1736912eecdce7c14d101727e5c3ec29bcfd305697939dfdcf504059c8b3fd39b4c871f0d2603961a517346de1cb6f14d11010bab397ba384ff7aab738f7705a6ce8e77be0dbd627cecbe55a4ea942dca9f0ac1a3572fc1669b6206a3978c76a6e6664b9a6d5593d7e8828e61c66fa9cdf6077a711332bac8a245c5fd2fa47706d27f29464e332cb1187acb33f47d9246361ae5a6eca5357b5747ccbf0b3a8916c81f8df0928564b738b18eb593d84bf695580191837ab7a6086afad8809c5b44a27f30ca75f62cee99915e236eccfc2309999694c0c5db98238858fc9c2adb84a35fc1086d137a3edf1b625dfc0ac36a4ceec30ac554a6f4dbfc63cbfd6c78808835b90fc368b62b132a427875eb0e32a58afb4d1b01c7bcb33f34326f343342ac011206ddf41e7c36a2fd88219948be9429dca472d4dd7ab05f45c1396e8e4693d0e8fe92d9f0d7a58e1be34d61a2e2a9e908d575d38bdc22da7ea7f91a1e339c97583ddd7a759a43badc8663e5722af83fc95b23158d460bb95ad8cdd7ece14441378f81c70846e853678d1abe65cee5f6951d5c7b8744ac680c9a26e4742847de028bdeaaf1cf45b0435d030f3df2a5030f79654f9f3dcdf32f0d755ba21eb5d9cac5f6bbe4d0dbad62c221b6deab433db907695c3e1ef600e2608a2c914ab4a46c72943efbfb10e40b75449f5152e0502850e4fc48b1675da286ceb1f28a17e9856a7dd0be4737445096bb274eaca90d3268892f3779d1051c926d955e93d4ac5cc478222a7f7cd4ad48c39eb403d223218f87cd92360ade3f8990900a5d37941691710f6f35cc49c183f2060a5a6121d7670836c28ec1da388a48891ba39939d448aff128ae7329d51b31cd95527afe5f23dd613ee2f2f77eddd7c6b661ded69d14633de49e3241032c09559de34ef99bc6e39ac44e841b497754007ae28b8240c2f897e3bedac3b1413959741e17fed38e68edc85db7aedfaf115d806738cb24c3844fe1207ca952b3fee495f20d713c4fc0c9f3b25ffb0842b6238150a6162cee211f737b59f01872603f506903a3ae1d9576079b14ca8711baaca9c0884733a31ee5945dfdf9e27bf6b280e42c4a9a8e4fbbd3d243d18454120d67bc35942c89fe016775b93bfcf45dcdcc2eb930fe3c296ddeb7c764d802c046b63d8ea9de9b0dd881711a2b0e261adaf84a6bc4fd189b756060e4acdf863b01636d174fcd2c9869f01f4bdd159caf7170990e4ca657f78739456ed7c20333fd2ca6aebf5aa9796a90d32edbad2c4951cb5e917914cffa8d8e362c0a4a4030e7dc27d5d72ea45d69faeb3f044f34ea1fe2ea0735757c06545da94ec3af79f7aeacfcaeccf5d3462eea042485c11a2cd3edd1f62d9553eb985b4e0193e44c86cbef23a848bcb06fa34194bc08afd5dd561a067c80dfb886f9f342b9026b025abc8cb9ac29ecea564bb47699cbeceb9b6d10d93068a87478019fedb9bb03778d8ff1f5316a9d1f2e0898cb4032ef0502dff027c964328621af77e3e90124ae239841fd8cbc5d227900b264f1dfe2728806a4051b1b74af25c5499e33163adced0901b7f74c7a246bf32b9e6ab1d03bf68346ba98621d2711bb600c5b50715f4d24a600b4d487272dfd74fb9411b58df0fd40bc890ee4054bb77629e3c99a01dcae453e0cab84990b9ac05c33843af678d40a1fbfffc5287417b3db58079acb32b49f5eae139958e9f029fe2a1ab1797d257d3923e74690a3e6ef69a76f0bd5b5908414dac8663a71522d5f71f390f422b778386b7c98849e429b3a7d0f4ab9c7bfede35f4323322cafad09b85848ede7f218bee4b1800a389f950b8b2295b30cf80c8f86303ea7f4ce42f21fa21b1f1abea50ff97a878ddb7ce45a65d79438833f93f43a12ac49ebbe6392fec86f414c76018550eea87b43ae1930495d438f00fcc0cb55fb29460e52bbfe17ad9ffa3e997038b390bbe399f845d0c04671614e9089f716f208b39ad44afefb1c0ab290b397b5f0e50fa56a4adbf70b560f7d1ddb7e57bac7321b54b69030b45bcbde0d38c403b504bff36490cb8cf5215ab8d85537b82954e653cedef7c57a9e25696de3a2c267f17232121485a5984a40b4eb149cf52ad72c57efd683e7a34458e2d178bbccab226770152566c90b350e54b352431c37d95c9e3bc8e2a9b611ea4fc75f9ddf5fe206173cb5e19391e0c8a3752f3e571c9d31753e690471b148978d1b795ddd1335148cbceebc6ea86a812f5a383b6133f86af8572310353c066511f918a71026db359c39311021ed4cf505b853a3c95872dd56d6e515be5e78def91b357e7e3373252d67df4161a5e7be161d8de7e2caf338d5784c600d2911ba359a41313a1b14aae7598add9267d384760623fdb9986a8831e0fa4495c2554e4c47659e2f0ff034dc98719a3f5e663368e4fd923c77a900a0a7a363b2b0685742b70d638037df27a1aa83e36d54abfbe74e2af3410c3001eb8ac44264244c9c7116a5c8a069904e3145e55b61fb15d046ef6797bcdb497821d731d293a5068ae76e48d8373d6d182e1316d53f0b1089622505df47eaa5467bf1c7506905062096ec75c6d968f5680c2b7850ca4938447ac2ed33b116aacc33889d9d92bdf63e82eb0ef53b736094380c242a1b4c601c7a8cd29b19924f82d691e43b393d5f4463653709c14b251bb9c38ff80898d38cb2c1e24a7a5dafc001263610c312eb80e7e08e5fc16d87457123b4374dfa52165c35864928b8203932c411385fd86c15bf291b143a02dda15b807f2dc03132f9090b1ec674e34b4a41b8ff0dd38059f9410167c37fc3b93f52c80daa43511de0a175b8b8fa74037db09ce9ac73c78f9bcfe3c99976f094011e88a1efb2284e05d4c6e1e0bfe94b1adb1d59799bc90c5146405bbf857a20116813973730659aaa101c441a2ecdf85ba2da41034e8e15fb018478ea57ffc279e8b10963e8e07a567c8fac6ba67a557a4dd4f9410f96a7cba00bcf12417bd67818fb1e13eac67debe3ee0daa6ead7818512705e31da00f2586ff03ab21f40e401ca3a554ae72ce50b9d68c6b2d9310759e4fb7e84ec2a20215faefacd2ee0f359892003a59415d8e1a0d3b7562546b0b8007d4062d5d0c7d35b58d5739d7db5a39d92ab74a9d1686b7a9281d57d72bb979f53df3b6c0cc8e385f7159300b2f4a371cf448c4667e933dd0cb1777179a13b7abab341ff425dd786f1875cdd90df4d2d9989945874705a055db9729471fec06278174332738a28e715c78cfcb5f57e538cdb412ea0ab1a464bce132a34a6f7ae75084524d2b47165def2ee02f90adbf840f5bf7dd575076fe0199531425f72df9dfb96a4ccb7a1f39b36731528b2ea34887c29bf380593fc0beb75ccfaa706724d00c5bca124e971c4f95cabedcb78161bddbdc478eb53f0d6dd0e8e7c09e36c52b9fc4765f1a72e511015bfeb3a1b67d672878d88d7f7e9d32f89595acec69345fa0f2da7c1839d757292753450e19c85c055ca357f3a554c85ca3e83faa24b174c979c61e2cc92f01a8e1ace047cde23246e1466da742c02431ba2c0cf1824863a2e5aeedb7e862db593d8fc7f157a68347114764b34a47e50b737fb593168818a51ee7a5bfe4a70ebca28d5e30c802b8206446e60fafea8e5a7dc2cd350ae50e87192c33f3bb3514f372ca610a21ea03a3c3b337b792789ed3fd1f5023d785ae841286b5259c730afa313bd243659e70d3e32f773a5a99a38e55e0a2dbdea8414d2624b3b645adf9ff4043084475b126a99329f0036c48f755ca693c6c99490757fb884b82c48398b19d3d5bbb187dd55bf107cdfa1d93fc2d2ebcf5879ef96dd9c0c37c47f943dd3d759f0c271be175f34829faf42a5b1f6c2a3b7229bc8ec9247d7bcbdcd94c438b6b454147d71a3ba4afc828cfadc87b9573b712d5f55d96f5d0d4541f238094955f0346e4807c30ef8f16bb8368598","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"709bb37c6a706aa705d5c19bf0a1ad48"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
