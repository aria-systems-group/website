<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"18a389d7a4928dae02acf1567bfdbc14eebd6a877e83b6371544bd478f4b6cb67f1c7c57a4a9e5b4d106614208bb542f792139569d61cd3a99d5130dfe7448ed0ebb64159cb4589e6ba3eb99fc983d856b34fd661a61f5e9e782ed2310089aa12a4b5778b40fa0b888b31ae0b19589c4b8a63b4c936acbb98e099cf548387f61aa374aeaf2bab865f57047141a441f011651aa6fd61c4fd639b1e3ac199958dbf1f2a45de9bf91800f706c703915ca07354cc6ae33db5a771b296842c506c0c27d6d1dc7f809acb0aa67bc62fb882e130d797ae2377cb7df80b535e0756f1eae58a82e6f2b8cc7d8886e98b77b59444448d0046c53244ca852cd8ff0f79c02d7282370e4456be1fb5c31ba6a2e47bca42fe19a4dbefc873e134d91990bbfcc3436e3dd2720d5c0950b2fea7fe07d63f76f79b4a614245d2d546e9d6ff8f3d1c7cc852758cab206d9b77f951275f40e14b9ed35b2b2a446f33f9ad046abfd0c5df4411fa855855a074b53b48a4aef9a7dc2f13a05e6db65286212d7ee897a46740ec9fe36796d9efc5b5db0da705d3e3bc5601234fbebf544cd8fa5436191e40a35ce27ed0516c496b66aead01b8ca1653138b81b347885c7f3104ffd9d9fe4337e77cb4325cc9e0a5c83577306d4fc5eb9a4c0bcc3b5547eaceb0879213d6c509073b5366037390b1cba2fd5ccb50cf32860f2f9799599c087f431c5744b08d4669fbc007469abeeaea71a4c2cf94e3c25fce80a208ee22d522693fbff8514e9ddba43c74b517f2ae6481c526fc4b0dbf709d6648fdf67e0206f30aa6aaad61e88855532ad2b8ceea69d59e58d6a04122ca8258ffe7016450919f959cf808781232d225bd6e9d68c9b069d9a3a0a054cb889c0c4c256756fb21dca51d905290d6724f691414348f40727621688edd56ecaaddf296318b937725d54f991ac9ae03881cfd192491fd1288e1d6a8db653a004e219def609b2e15209e2c24542ad1a5d4200ea7d1960f487925ee89fb58f8a1fd2f79807a400629703ed048847f281ce919ed2d358644e6397a30225c481e37c2ddfe96bcafca35bb371ccaf247b6202825828aa1719630268e1d452698cde0ed61c5804a69d89f338c66521f58dc185ed006f0588c7cf449534e6f929f935de810ed8de131afc6fa79271ec4d85c816a7a9817bc974d3c513ee673695ef986ad4f055f2fb3360b8584162e76e699d6531adbe2aba71857f67931b83a11f1d6bf3990407b7b6a936f904b9bcc54b6503eb6498957d1c9860cb3cc3c17f0f44445d9b33a69d3291610acdd0d813e9d7404f16e4d6eb55eb860072c47e14b9a27d452802e5f987179065f0adf4cf23c0ebbf717722ef5c9b616dc5d6a558505a362a88642cf470385b1697d726d4b204653a2b06e0f68c9b4c3e4a0730565886047d06717e01a4f9f270fd26fd50a30c921da145f558d6635f4c0d6b09a23eae5f3a4e1fc91f80b842d77b3945d1b65e40a343dc521979d2cb16bd478e802a61d7839385de35c03fdc3f905f7adcabb7921a58d6c9f99c24739ee07b12b0e85063602ddb5cb1fb21e8f2cbf0eec5764741932f000e75b5920ec8ee544a0128727dfe93925811d68b53e57d9e89db9b6e5c4655fd35107cb0559c5c151fdbceb8df915f97ad0e6caf67016137ca365e173bc790c23ddc0e0059332b00ba6173199f73daa33791931f850018ca1d088d8a3e85bdd7a5880f60fb7ad14d3377f1337be6c91b4b0272282ad58a75aeabf73f64eb53fd14bb754cc27aaf6f20e0b95447087098196f8b8df6d0fc3ef349fdc4ca5837b29a45a0f97260b49b7938ae2495d75d0ddc45f30a2dfceba11683684baeabc134e7c4a9feafd30066a1b39031bae78300ce5c7452b3400bfe4f6d09ec643a7a462e2125b73055a69346170bc7b7de11cad89bcfe6c904e65a9cdcf761784fb4ed62691cc54d262159fd9ced4649c9d012eac4af4cf3d013c809d5c60402eead8445b4ba91a2502d85280556db67472600943121cf63626e7a2e0e850552545b4e8ac554c48d48cbcf013e0a50598de8d4ab077bff1302813cade5cfdb60937b09ac92a18d54d7ebdd24fb0c616c912dfa1f09313c668083c8a76cb3bee83df610c470f44799ff38bd57ed62ef41bf0c798a17bbd37b92e26fc1d1de5a6789c119c1b538388e06f43bd83bbd598493dbfd35ac3afbf0b71c6e0e47bbc2da984adf033f688f895707e6fa91c5be0cf9719157e162154e1d50a234ee8bd861cf1bab4cd7fc6aa0c4f78278f8ceab0e1cb4d996d0d11b84b0343e73e07ddd7814d1729583dbee0a145c1325f15cfe8b8a540a6db6224f1fccf766cd324556ebcfd3d4cf8bc71d46fb83fb28f219ae7565a9f698d69c982f9a9c083a12eb55541cdbaec46f32103fc7f5ac867de60ebc9736c987fd5975c953ee5e944329dc367b38f8c3210ae0ded234cbbd68f522f6a22ba55822aa78c917b74b3e99d5a2f05d6b43fd54ba70e7c74e378ddaaa8d613e449ddb8da0bff73961a90a4f4b0558fdfc089abfca9cc6d333ecbb5cc1b3097d5851a3f2168fed364c03a66200a10a97ee47a937d17f9d2bcdff3a8eda33b8d696d08bebe58007290c72605db61a8832d13fa4d79df062ff04dcfe975812ebdeb802f443fe420ebf938b607bd903ac536a93ce7f38ce3267a1757ff5cb61856ef2e690abeb777104356a1ff3725477b30333b3987df39d1339969d03b8a4c09b222177eed0d205138ef49227170fca771e1fd5c7785db3ba1031ca1a216d25ef66a6a997d97acfc76ba1ed8903bf619c3df275e4175d3214c59875729ea77214fc4f69b38728553f3d4d59c70267c9508dad263ea89f753badca51e057a477bc4f46ad6b41547bcd6ec291238f54e4b4c8f4b5ed074957b911b31396bde6f965d16fd662afaf227b3082b90da055c5fc4bb91097f90dd2aa3bcd5b18ba65df07e77c30efee9ef578147f9d1bf0bc1b64284b792f37bbed98b2f604640b4868efe09eba09b00025879c704344135b1cba34236936ed1827d704cfc2cccab365c913308303cda5a69b1950f6d51fc6b7b1435ed57fcc121512dbc7298c2005dd74a62fd79f1473dfb1238cbc68ef6fe6e0e0a90af52078e97eb4de8f6b1408407ff348bb845604a0c8a42966e321ea8f0361f540445addfeeefebec2e7552374a7c94a7f038374d0e917a0f4e3655acd51c58cee7d49885a390d7b92d35e2c5d7ea504c3f4186b9268ede1fc5f7774d46e43e9a2adda88b44f6db61633cb4a97deb06cf8453e44c9273f1128fb72df2ce02e2b6d26f3a6af8f9a987939029850013f68081708b647387a467d8f9246b796a218b3638358bcecaf17b63c52ad3bb2902e217f3045435aee686c86ae4ba9945bef3d0543b8886c822dfbe77ca1c3a5464227dbec7e61be30a3fc5a87f30e5bb55efc58c636479d010759cc4207c89933a825335b2104b2b76467be88b2982e86fed7c80755bd02479f94933362850f2f3b88eb8a606a3ba2da1079eb041cfe9abd71c15c94ec97a7a4e9404004f59348ba7778a8e7fb12a4ab35f113d937a67d43e34a24a34dca61da11422902b9df88e6730895e70d5da9edb8bbca89fc4e6b060823995b6573819cc04c8da4b0d42711074d507d539f0ef10b97486f96f2b4547b3736fb327f5d6dbae04f9a473641ac40814add77cfc6e37472d7ec4722b89363b7eb759282eb6e431b4000c6752ee3f24210e23db785e7b801718e8e4aaa297a0c261633c6be35c2bfa54272af5c23debd4d5ee8e27c7cfabd42010fd449231b59c5297675199b9ac7437c248743b6f724373c5f978146f9863bc47dfe15f76bc1cdc499eb6b1dde81aca500fb0835f86b42c3b1d5a55d038bf70a4f27ce81a86796ce5ad0762490afe9c6c2d5f66c9b3c35190a55dc5be93b6bf6b002bca0573b14ee8a373deef7ef5e5e3bdc2e7c22b090e1d9cb05226e08b5ee0ddc7f857b7c71d93465d48cbb0421fa164ccf8cadb59f4796f795c46ead9e71f74c7b5547ebcd99f0b082f67f4d4bc561487a2279ce09e9003941c247ea4d1a95428f970a006bf86857e037bf2ac5c414bf209a4865b259e25b4a78ffb29e1acb4d3b35f59477adbb8f245059937947f432a8fcf759da95b8dc26505b435adc2d68a183902d80e40eb60d1fde13a117d9a610bad5e8448eb88eae0922266cbe4df2372f17c21b1b269ea49499535cc225d38c3b7385d696e38ec5ef78b4cefb1679b589e6bce0ca4cea59666634a48d954ec728f9e49bfdd6c0d49169df21efec0d2bc790e40d5bec61f1a02631e5b06da2d5f5c447bad4902fd45452b6ebbe4034f0b8b73c5764fc77658f29904093eecd7f0c64273a0c3352974c84a622d9e9cc9618f57b6be653a3631dd2b9446f9e2f7bd29e3d292e1c91db1c4cccc3654d9e2357c9aeae10878fd8b4f5af3ed2940a420bdac2067ee2e670db99189327481d6aabe6a0f0539c01f416ee4cc8b4c8b85bc8f34231b9b72ccc984aaf1e3405fcdc823347b1bad479247af7c3614332d0fa619068fdd082da0ebb2a19ca6d9bb10d7ba41c13836ea910a4075c745d2224d17116510e0d9174096d0d79d69fdd6f9ba932ac4587841a834be56e575364d2f08bf61c3b998a213b314f2732f4a6de9fa434cc6e17c9a20a4a0cbad1fcc70053ceb64ea50e153c353d36f4149b0eb9e18c7457aebb01eef2967f65b87bff54ebf8a2aa3064a8fb82555ca5c766a6eb98237a3db9afcf8fac49dccc23afb00960ab5869ee825a157b8486d81a8c0ca9b2a204b1538993318394f2a7d0eb4e96bb588624a0c1298f49657e05d23879b99ac332515759a59b1acec9ad91fbd8bb020e9188e841ff1f87e6a877c475e35f848a3d10180b76411dfd42c5a6f3e79861eac488c214d338988a366a51ebed36e3b8b04fb5c87dd8e97c2cf62080bb8aa00bcc7c2b21796abe284a7e883b55f7958429a1bd1bef1c269db6d0fbdd99608e57593a8f2152263cb93a33d60fcdd69160e1106fc0876c4114a63924cffe9f4cee0cb071b1d9901dab42173b90b22c724b070b9708e8a2fe9db45ef8ca76a684c5d3cb1bebed94a99956a13b7fe237869d4101c1a56714b41469073d1a86e38969b872202dfe41ee500e1bfe7914317b4ebc2656195246da4e8ecc0871107be5a6d54c03c5d73f5de6e120891e9f4b93a0f5604d4937ee7848dc0a2b3f9ad5e5af416c0d850c8bc453438bda9e41b50718a5c1be1b2854674d7b8a7a30b6712a360882458d93994d520092a7146d0fa94f455f8d1eca1cc7fd7eb18b5e877e1a3674cfcb8f3bd2a8c8f6cded86d892adc408ba739c997c05220bb5c8e1defed4a3b6c39e61f30d18ce8f7b58c45b5e19aa8f49c88528e49a1be1364ccb1fd6ad1d8f2b9096984ec3b0904a89f3825b32c46eb4b59c3f21ad4de887f08a33afe98b96da7d357bb5fbc302f859c6fefe59c556c97fe9ca88df48d37d6642f4ad50299a0da1ce0a7242798ee408d0909abbacf668d08b7bd74143493851160e5f718925e2014e86087d3b0de4ce14bdc61880d18f894054e1b0900eee5e7f3e362cdc3caad30f36fefdabb5a15d01b9685ecabd566347fe9c0e9c8db4583c7eafc8ac925803e3a60eac5d44b164e0289b87a501e9fa60ca094220f8f3131012b4560c5dfba73e397341b6c86238188b0c2e6ff68013088e2b967cd6b5a932e6188ddd65a5067aaede632469de27d16b4c796f9fb9d558b18e155e8cc5a08c26ad27ab6b3f191502f12373e5737ddb3f346dffe0650796d164a116954cff5d73010bb9c15f198a5da659dc39109087a62a8c2786dfdf195e96d6bdfae6f4a33d340e7b493357b37251268ddb9c6ac3a2b43b3182ae7b3de150647048e1561f69f6ec2bab3d248147f06e2667dcb4077dced2c110a6a4b37631d706f2fd7df5a30dc70a2d9354fba811e1fdb21daeeb08d683292ed89279f3b711322c0da60dc35cdedaa2e9cba9179ed2827226e212c8f2eb0a4d0717c0b3599484603a8b8b214c80c78ddb0d57c6d96c8fd49ec39f459d2ea32087972f7f6a3fe3dd2fa53fd37dd6ed775c597656e3cf4c0294908a0ec07b3490aa4bb0c0dba8308a63034e453e0f42b26cd931aa8a75d4b01417b6377a3655afa486c00eff0863aa6d27b70361abb84f47b0d698931b8fcefdd97b49efa32dc40b07797f9cc69f2536bac2acee038349323aaef42c7412d4fbd9d801649818ba609f53ed0544269c02b13d94062c8deaa4a7c82bbbdba6f4a48702dbe47cd12a413c86470d6db66fb9462027de46c43f2a206c99c626c999631f943dafb5165bf93dbc2239470dc93cc698fc75b54179a58f03e7e706aed6a9860d75a6fbe56f8b56c8fde58bcc8265be965685988ee46e42077f0189df154e487b88a38663c6f82acb90b580774417853937a332b02c59929f84a475c573f93173422d0a8a171431a51f3cb21d331cb5f6cca5982286be9fd1f945075a2454c30a1084bc16ab67dbfde7b8f3bfb8cd51d49b8586e23ce47ab928841c21df8556ed50bcb569c11d733ef9e05923dc5f822811b80cea6bcfa13f811940237381980a83123ad064bc0a9c6aadd0a6b2aa4279d11d536d6d4f34d64957aca8a20858c3b19daabab5526810c3b3d0ff72c09104e4fe8db439f5ffea7adb919ffb358337d5ba464b68d0efa073e262045222f9f349c0677964eb781ba7f1ac9f4fbd63b45d53e87188f4943e334ebd90f58275c7d3bdd486163c8633f8dfb187ad595882e2df7a29c4e860bfb4ad8982ddfb08214d431ba94ef009994f0fcfcc152c4d9303d212c6154ba2d6734e1b3525a0d537ce96cc693117b0c1c0854afb5366e531d5464e1cef1627db704c1599c67582aaf2bdd5172a8f2deb624d424fa03f1d4aa7f774337c3cd32bd1f091d85e39423491e691a2bb09cba3e12feab5f1c22d6595674c47430e67d4c127d6ffa34fd8d53401cc4ed898ec86261296f48881da23b7baf8cc3650ee341b6d719be0e9c0cca63aac55256861699c64a45a43b31200f1075ee99715bfe262e5a27e7f3565917ed0e3d1e74005cb203581effde129f6ba83430937e447e8f6ac9af305f566604b6d9479d632080a2d4d567066d648582dfdbf29b097a83d2544fc6f32fd1e4174fda776c2052d4b088de823f9ecdd89e1c7763c2586865ef563eca7ddc27be1dde0a51f3a3e6dc13ee62a0fabadbe55247487e1530cacfc205e11ea48fb0b79efa6ca8886636a2c9eda86811772ccd969c4fc9f8aa07f94612a415c81774fe379a14d251bc2881732df3f432c353676cf8291bc2ea7d0e58d03e032e3982a28e5e2ce85ae2a92a868c1f7863a4549bba1ce72d73ba041baf95cdc7fb9f76ac735f1350e9367f08aad5a67a8d5d921ec496d61d275eef5d7819bbeb7dc596ef6d622014ae16e1fa4f41db26d7c59fdbd1d4b4ab3d155c158ef900dbbc044982c837d07360f6c2b041714d342eb8e392c15ee690ae8a72287e613a15ec2c55a75f32b14ef4306fa420d595206504412eae347133d72cd389ff746cedb7424496b71cf999ebd1613bd1b62bc49ed6a9a266968c7fa2ccaf2410d825c816ff17960bac4dd12e35a99ff4b1ea4883775d6de7b3079749d7bceee304da3db515869f3d9df54d239c3ac7ba7b294aa52d3dab014e985357f0b5e8037833cae262549df5fe423de4577855e44c733c329edd8bf2c649e8ff309a65be2e5bfad0541c97a3520e36d4a1dbb022efc01c2b3a848beca550b6ab38a811fce2033f9bd263f7069a17cab01dd8bd57229681a07e667e1f240791014a5a5bb8da7523ea08c2fee740068664f50f9b2e6af2d183bffd14a4d6fbd606851c7cd586e567fff5cf3eb257a9dd1dd2dccf5e1aa878cd903746f2c8883105ce3c7dc5a7279f76f28e9a1559661daf4fbfd2ad07d3d7ec737e902047a35d2a5e76ac935349de531accad10fa88dd7acbd2242600f005db061593a5f66c8bf403a39354d4beecde60e3ae209ec822862329435fe9ffa941f44b1fd683797b000a230169b8f1c1f14297a7dbd1f7d7aa5e53a815aed4f461a5d70ea925e2ec5d684489cfb4cc82dd835b0a7c6f4b977266711502d438589cdb0d51976a4f319aa250c58934f0edf954b5e070ad1d74e5a58f7a73699c5bc0080b9737beba66cf1f867693183fbaf85ff20ba79f6d1aa7ceed65f31616e60418c8a2f7ef78b98905539d19c2a217c5b47e6fa65cfc1a444a4b8d6e776fd0e11e6e240f0e47adc89a5ff53fd277d22b05168cd808ca836ea358b5a6c0cd3ccb036193be220c31807033eb70c5ad9e96ed8e0b7bdc410f50be73b3f1859db865e7783f467d4e78fb20f4846d81f745e625a614cc356e8a433f92455eb8b6da794ec49131acf6e4f5449ee7da554a00bf404feec1ca3fb37e94f81818b938bf216be0b0c529c7745f6ca0c06e48735501a98985e8fe4db02a8c1bc299b27a7135086788c14a2a4e13fab7690441838483f2c972c994f0a33e322919351c76c87669ce2c9fdef5a87a87517cbd6a0ee5835f1d3f8df7f169f53c51a67ced1afd78eab3c007ab3e52a2b68d2424f939c347ab731a4d6178fce02ba8707fc502f59c9e67cbd565492caca43475df028eb33329bdb9fc9cc48142b56ca6d7d838dd4e9dd799935548f151794a1707010f011d399ee4684165f02b0fa350acaed8c53bfc0fb94d13428a868d3e5df9d584ae705c7af6625d36d9c1ab410cbc845fc89ddfa7a883261a778e2d80de30c3442ec4dfa021479c0e1cebf20e365e1f04ee56922531912d581313a3b14eec10b815a0160b2e118ca6b6ecfb6bd87a313c6c4fb21d98469f25b78c4aef5d4fba2e68f064c6d89cda7551bdd7eafba859a5c4df0148a3f44069c9f5ef877bb22306a56ef75228410267d0f97b52e901ff1117e2c464b1ac11ffa0dfc5eee2461994064f140977c1527460bafe9ded0f5f5289136d8e53e5beb68001a88952b3e48822778fa3a295e82eff67380f5c47d228cc307b493d78d7d225ccb33ade148ca8e8b940dfe2c6d500f72d6f3fdac6b6ac6441e30d3a82f530142189728dec9915db0f22cf9706f04b9eda6ce4f14754fe58813934fa27f22e35210b7fcb4eba77cf6ca947d6d6176c7a36e355fcefa0253cb7a4834248af0e0669885a5ddd7d7580e64e0fbe8100372e72f5e06d576e12585a901d06c695d632fb04915e5c6b062cc6ebf617d353187c23568ea742d9c92c30705e7bbf592c12d1aaf51288d5f608d0017aced864af3d82aa50d7bb5a7115d77c97b3c7a994135d4ee8c91fc00d797044bd27212d04146ed5f0236a3848dee327120a89d2d23aded61ba98328631d4fc382d12f771660b11c118437930935f05077adcd0e99dfa2e838a376c0f41d5c85cf7f386dc8597768f2e5d526a96a3a486277260a8495aa3ff602fdd7bf3442926b2f6e22b7817821010c5bab811272a1e7a9164639d7c6b1e85025069fcfd4b51613ff51678cbb0f9cdfbb082c8cda58287aa5aa60ee9865ca17fbed976ac47052c23cb2aade80a4755c3ef23c9a39a20db1ef046556e9f66eb0e6cba4256b7b141455f4a5ac2e4247cf3f911ed709187f44d30f2e3693384876d755c99f65befa24c780d3f89d9435af4c5e854a69d811d6e39ded75b64b90d38aeb76fe0a70eed901ede53241d5cc32edfb610ca8662b58d6fba35da0ff775aea2ec678c7eb0569aa78facc4d1ffc457f3d9f21f5310cf70a6ff515744bb8b80a9fec1c9d6c2c14f5535a4a2f46c998e128f85589e71aa58ed18f0eac4946b8a3ebfa58215ca5b546aba493f8bbf3f9dc27b3fe683babfbf845362aaa9ed3611a0a5fcbe440fc39688788652b9ea177db79eac9edd5f587e4e80a695d3798b0d158f7feaaa03302d08def45e6e326b75bad07cb83012a1287ad48a36327e04cf5055e326d3912101389d2a91d72b1e3248427fcc1fd47699f83fa91302a599a42b396873d61ccfb4b6e36d0821d74d450abc96ed6ff128f99420fa3b027f8669180e57319e5cacb2b53c47a7f0a3bae85b57b063a0f56a689b65ae14ea33e872135e2f060f716a9cf5e154856b83ea818cda8d33c44ca5e85e76890b7d86cbe288e3db04ac098875caef8abf0fca4b6dbfe6f3a8dfa93d86b03d60c9059603cfe4d3f18bb96f65ed7ae5a3ef9497b410c8530ba31af944da8a85865b6008b04e2b7a764257efb8633f226bea79fb3d3c2823a439f73c09777f8bf7f2df6776229938640332d3322e878842b43c315ab7b9c15702948e6f4ac461f625657cc18a27c09c24997026c57f7470f0cda5710ad3de9e2749cb53145abe25201642db2b06beb5961da5f7658c5e3ca4232d6bef7dc2573a79e52395608ebf597120aeb13ae38e892d6646767c1ae99273b842ae8f34d03655b09ffe1345bb95f94a8ae140045d577373a48f3420b2129dea91cc36b6f0529ac4cc31fbf27d075a276b40f15c0985cc40b2a41479f6632493abae838b4d02afcf3343286a199eb263b1f09054024c15559fb5b7f40a2a3d641e445b14cf0f841924da84c051c74681254be7654a37b9fa21ffbc5c16785010a2b2def01d5b593ef97aa2339683434a8d832d29b58a6220654a9e5282f47dd0764ecf2ca9964a1c641e47bf19fc3d47a4e8b05ecfea846465491be5a625b50ff30879f7b42dfdf3ceb4b2904d6e57ba9bb6e7a99d89af22f3b2124cc9843b680f929aa9f43103c777d6b190ed7210988f7a745e30925a9ec7597d6ef5a5cae8abea0697772092043b634ab2246bb5fd97b7e1920f55d2ec82712b23c80414c2597b9614d683987ab9f75e134a7cb3c1571525c70435677a3e89544cd1707fa58c6e12344f30e2269e94d95b0163c6a6d19467af8d8f7ccb17815fee4badd5c9d50822a759ff7ea67c2645713513bba59f32d0aa9fcb8c3a628ab344740a8da6840d90679de016e8a4a13e0e7aeb62421abe7c3587a8c4f50f54573b9bfb258ebab9342d04cea7a2155083ce781cf52c40b20625b4442bf0d4c8d1b83d6e358a3caedabf0958c7156a946b3bf7371186d5e2faff019b7b709cd7f32c2c96b6e45c6a1efa150376336cd231dedb5c8d727b37de2cdfa9d8e1c37ff3def8992cc47bbe5f628df7280717bf92b7311a32740793e6cbdba63e5071dcaeb54ea8206e5eb6e203a6b032374c0d84a5a3b9be44d396dccb0201da3733b89279f4f5b5af20012e4d4f237bb5ab525326443a57d756ee944fce3efb5836bd102b6e436f3d031338c4dd6f4967623be0f1fd14a24eb5f5b36d5fa39c56a1745feea4e3aaf7cebcc6fc3133aaf37d8081e067f4be8b754b84d1d047eb108f28df2cce43dadee8d2a010609aa9919e917805125a923eb32b562561129694700e0bd41ad9f966cdbc38298776b4ae7c91ae8c023206d9eea84878db3d27a24973564e593126d22a1eed59ae701755b1ab4c0f861558ba7db73046408e54ee1b9e4663ad1d3ff3acec4bdd19f9a3c3f473d69bae97372d51c26ee8d85b85fd2d6ac99c96f99f777e298a4e798c92afab2a664bb0b175de30d6951754ae4a51e3bbce459fa494df1fe1f579ba027ac51e5e03856b24210a4c5d3b0da70b09b6b7d249654e4318727819bea24c0b95b92cd30a4a5f36d375981dee51c32049ceba5fe8ed3ec43321c9c94261a065402e4543dd8a34131a7a913b2a3bc7c83b7da37116fc95f446bfe3320c5dc6d0986a082555c9e857b5166f8a43df9f9a9a6973ccb8b770c612bcb72c0be6a69dfa4d6ab04dfff63d27b9132eb5de82901955920863409a72fd806d190aada2980e21120a55be60922f258cfa61fe58113cbfaa1d04a39850dd93b1742b58bd5086388e8b29787f2361cfcca8a19115f536bbff774ae9df6e76c7c1b87afaf65fcb4caeac634df87eb9918a6e39ef3afcd0d989e8c575c3de85e8e2ad9a8b9d910548cf83430192ca34d556128789d9efaaf9e27e93050da62ac7d1a7e21f7ca4e7892f51e684e4ee2d50e2bb364a41bfb4a1e6835585e1a3f0831a519230605d9cd5ca343bbb470dd9c66ebd7bfa8eed6debd71e0a843272a7daafcf76f3fdb37619a22fb1b998666d6a3d60e845e80f183d9d6180e9d5c5b13bede51ec4a760d5d2f9e4cb9587ffe818279c734c8acd051b8b8b0bc604367bc3f22c3dd81c4b1f1f7e7a2dc897029cad57d4f2217f6fdafc3b73c2d5066c852372d8fe3f26bfd5ca47ed2ac650be48c2972a41f52e906fa16e5a593425487e06629737e8f139684de9580c97e238019ebe526de1811a3a5ee44927824d678b2bf3b14d7b94555ac12b834f5d7fe80416d53743cba2169107631808521d9a02fea9d4eb3961422516ca1320945ccd19e6d6f9fb6c30f837b555d9e5594698060037431d3c86b65728b9c1b2bc122f427867a94d935eec2894196bfe46d25b93e95fa6c6901fa2aa295a1426bb110a6be94f2c62dc626fe6a29e4e9c00a2fbc11e46edcdb91abba0a86f02ab984c193b96156c250482e930ac83dd0d68865bcf6249f88053213f64d08b31f6eabb94ee411f6389d52e0272777303e6f56a840895cbde47decef8c47ef4a38d548e9ce443db88474838515c7e3eea4444e42247c9a191d3ba69f0785745ad10a34a4f84caced1752de949e94ca45313029aa2aa479f9011370ebaf9ecfa762c1f00adad2453894ee7cdc17ad4f12e9e87e6c7c95c2898855e04faa12bb8bdabf2f249b391a4c5166abdaf49b0612dc662a69c4dd8b38db9633d52a820133d260517fac26cbf207be95d5cf42f8ce1418ce330a7250dc7218151821bd0fe43e029684286b5919d99251ca89ea81b182ed06b93ce058686641198dcc8c44a6c5138c3a341cc1f8663bd0b4af8da493542c5418e21e204bfc1a0af2f3c9f3035281dc2934ed22cca033335fbd5ffe5e1b1a24fa6d65ccdf8d1c8261498c4ad899bd01de8046ff8e765d4157d89a9c0b8f9c2124c40883f391e702aad7b813a1f27fa2b3904cf5c257bc92080e8ce6aa164d7b68c824be14dfcf3f1eb4bc469673fcbbd95d42d2868339012b8f6383ea11db35e91ce8293649e70b01436ab0b1d6662b322413da614a274e7b3676b66b69d3f4df22305e432e509a77459a42a4d7a87d827e8907e42ef3a005d4b779e885fb2143198945d8bb8456e4b17c98bc76ed6fa4da4fe7f3fcbeaf7f84700c6744e4d17102d39a796abc37cb7efde8a8b9616665580b9cfe416d2aa628b27f79371c5882fe3838208f77089810f752cc27e58ceff9298306b4daaeb212dedfefb6febe2ef336a8c4ca78e3dc9c75554f90801c435573d4bc7378d6846a6e8297446512c61f98a28af6915fa29324049999688055170f1becb0fb67933e80b7c1f1503f1012ecdb22fb308307bca40f88f0d16cff9e2501b077f6d385d2e2e67a0dc9011569934eadc9e2e7206329dac2283fc1e76b5dae288237528f96920e671e21bac4ed09ef3188112aa533e4c8056bf18eef567b361b17a2999d4a17685f66ec6baa4aac49bb717d5e0937370b12b20e1653d06db91fd07cc6f65702613c5750cf598c32d426eb5cef06bba6b0c362b1ae06dcd79a7f19eaa103290b84a6a515634a800066321b2914a419710cfed4365b8e26f21688e8a9573303d17a2b504827cec0d181b82cffb2a04eb676a2056477a01dd0e6aa9a9e6b9564f6db8486987505508b960ac6e7cabe3caedc97b68f6a460f80273e06c4c9a8398683f0af61152d1d1f120d3840d4de636c73d71019c1c78c18b0172cb301ce6615b3c78c83c7d105f2edd377c56a910d8abc77147093184ebb2e53f555e61631f79ff04945e916bb844acb6d645d83f6053f40a01556dadfe15d87ea894fcf37399f5c1801a5ad2c9ce71728e9148bbe8eb5f3b6e656d77744f4d9af315c571c56e10660d08cde60b95a9ed9cd8bd7f97bac982475f9f68a4cc411d07b11bda7920bc7182b2f1048cb0983b04f2a65a9b112df4ce3797acfd948cd308b7ebc6f7eb8e53d01cb7e59edd1a418576fe89dd08ccb8746effff939c588fb3bef4c3a5c9c9e721b276f22dfe627b85e2ba79514730c4a3dfe99cdd3ff2f8f9b97a7a94571cd25d7effd74548758ccaf391ae42c2648e08353427dcc9f0d7bcedf14a4a027a2675ee9fb421143c4c299cc359250d9ebdd75080209a1d7f6c36aa71eef8f3958f757daafa2d1cbc6995866ec087d27c4e3a16488b70101cc889232117556bd3dd00e8bd73aa37e0acb401916bbe0cd2b8eda230de2d34b7e03c44d53aeda8223e23b62c32d7d737db9d08a7cd9d1f0e09121ad74bbc96a212e51c3cd5c2467bf9ca90dc7698bc3bc1d9a822cc4dac97a29bdfc8d97c22657730e4d66491517c600b6d02aa9529f6b1e107d544285035156896109feba491f79932eb948df23963bb60a14e701d12ad04403bc3f98abee0ff73c3d5b6d6afd331596e851602b9a04dcaca6ba720d5a22bc891959961955a879371e8cabb827380625d2cd628ca2a497e773510c5d43aa7afdf5b486493b449cf77303c63fe794e35758caebda188520771d281869b6b31feebee4dadebb384c3149407ab9d8e20c69bd93e75f525540ef116a1c8bf935b3f5ff198df15c67c0391acad63d3566359a4c799de423a2fabdd42ea006471e443548b14335ce47f186daf478f6d2936ae0629c28720074ed12740d61b138cb9da068304386ec00bf04923a85faa7933a3e20f6ea1502692baba2ee8926a569cb5c9d4c46098d4882ca238fa09be7920604710d5ab2fe77fa73546709f523ee0711dc7772ce4c431ccd025c955af5f6a63c7424c029665acdbc3be8722975f656a24ff0211617af43c18f86289ca25f1ec78a783c1f157d988a5e8df3df0bd3fbf01e039a1798d6c28046ba786cb991cfb0e2d13d7082f75d30e3bd34e2595f0ab7a842bff7bd8a599e59dd391f9822ce96ec06f70178283397e23d20b459656aeb03bdfa0ee1468e4960c442346372f3fca58575807df3805fc03fecde7a6402b249d443b17dea6f1c765a947dbbcb334e1b38077da00c456842a7d60668a47f39c87350c798279225a04ee7b7c03bf5c3ddb90e334f966ce0278b82dea3b6882f08a99b097920ca7314b936ec114c1ca799078caf3063eb615ea83fff360208c22d0131a6f6cc53dfaf5e676cb8c545f46159fc88974d609c7114c03266110352f5231ddd9b9b065bd8e2ff7f719397733e09816ea461dbcf1fae68ca90dfeed0021f71fcb30d9dbeca2ce60e143e0199bc33165392c0449cbd8f4effc644db9ee34de11ceaa85aff20ee749a72c047cba581e9c0495a7f279ebac3dfb013b7e18f6de9666c20be0cced3901c05d2165a5a40b4900f9cf6280005df225d7130e19e5f0551a3ce257b357653a79de3340d492c59267b6b936d9c831b563c5a28218efd44ea16ac715063586a430f8f16ff9b1425d5b0b09f96768ff2b566f41830f8516cff8251e0f6534d5f98a8ad65db0cc40b88a556bf8f4d5ffe15dee039ca9296705309668e7ccec943f3dbd5ce2c33be2cce70decae5495b689be85e4c8b3b6b2167537383877c3ef56a1aedbb01a03c5656fc6ea24919d3d1de9b3ffd9f3def420ebaf191c78e1fce4dfe642fc14be6b3b7227fc55f416330370b57b0fa3049d68d579c9f17058aab20b50cf1123b1260a2374e7bf0cf3d5bfd0396803cc29e129989ffff7b049201366d360a6e9ca135e5b510d35bb35cb7b33174a5a48af87793f65cb0de3f532343176cf0ba4b8e6e57bbda510ac9118f7c67738d701e657e2bfb6458e730b1e8f6357fc567fb859ede30320c7bccdc9a38bafe4b981e42944d762feb99a52ea2d099d89f6e3599fc906661483ff56464aef5a3af42b48965f04295313ab8070ffd52a88fd7ff4bc0c92c67accee81f8ef1f5784d002e6e27798072ae832fc3c83e6937246ad5a3f5cc40d01e7279f90a5e833d04945f7ded70f691e0f956f36f95dd8ab1b355d25ab883ce5bf2224cdff6ceb47c73e70a2717c3d92edb099fdc64ef0a32b7c22b7bfd3d17eeb15c6887120c93309206a2f945b3ccfb3935c0df0e2086d242048512b5897eed1f2c62c2b3dad7781f392ae6e9e766ad509d6613cb6a2e52427d20bceae9dae51cbec317d66ae4d93e0ad1d126416fee7ef35c616da432fda0bb5759139b631c547c174ddc72440325191c6c9b4f072708fb37af8711c5ebacf080b8bee3838c9af52d1d47ae43ed900f9c5942c4f096d2c936c498b2f2d6b0f50f52c2c66efda6f58715e7984f7d4bf331b3ae43e682d67f6bfc8c1da2d58fc531a891c53df8837b3ad753d32e7ee9af8abd5c9dd9ba729a09239e124a00d1b409873fd2741ff365dd42819341d41e2d1cb6116b63248c1130d7c9433e4fc460fba24021635ae385ac30ff1c3f98af9c91a1485bfd63bfba9e662b0fc79f02123bde998a8ee17148566574390c9395375a1f64c52a975d151eda8f5c965556c52471bda27fa9a802a4eb9230a82e0e321c4ed79f83193674f574aa111183353670688e2b70e28736bfea55634868d86ba47c4646d58d2c81c8f95b4506e6a292281f829f668518f98319ec349116da81cd5225cd10f4f66fcc0d69173acc5407cd25ae3b74e9f032f46cc0f5808d537b76b738833e42e6d77aea0f0dde5f5d6a3f218357e8bf0529275ca5b3445cefa345dfdfde896badf28ce56cee93d7e277ec109e0d2593d662aebe7f27410124deb7a74fab793d0c3e2046e7ccf6c182f96837302449fb3f0c8a17d84a8f94baba121ac4091fd30733fe428b3d55e52e175cd9e65b67a7e6ad439819388c5f640164089ecb179f0ecbbd1dc7151e622b7ea52b21a30113f190c4ed5ddcc9c5ed1618eb36245a6c1b550c597a931d7380f7e5593bca9c0b97b9348a863ac843fcbee0d0ad858d2c492420f2e72cebce507907a84de661997f64480c72515ee9aee53f5ca73916821dbde0860f3cd7f55f49a0bb6e77930a2e5e98d505e007366dfd0a12b40de1a98521888b57debbd79fda0caffb58cba972f26f7aa908671454a119ff8c08ceaf4d3a94b56913245a67300df78464ffd073df68a832e8ce8003cdfcc93a80bd2ffe454d41a00777883f9c443ebbd94a4ee7a3b59d62294ea1889dd1058a646b47ac08000094cc93f9103b09a6f611ad4e9fd5d58837f4d2ed6f6460f8a396464aca2ba147678f2d36697da0a54c5e9a80444cfa47f8d94fe9e0625257b50ed94f847fe5f1d3a419e93ce6378ae1c8596e576d5973041b30f9f8e15c0b37f4ba1d46968a961c73f117cf25fefa1f564cf2a11f5cdd88f1b862c0898585c25b702655215efd822b7099ba230654a3082aceec414c9363ce440ef55edb4bcf687a72be78ddbaadbeabfb47101e8d011a693165e59f89c5f8af367308cbfde6e1cc41101b394493f8f40ca0479aec66fba4b325fb9c98f7412b51ccb617851c30d1d86e6c60a6f80e17ff287de7d4429d09744497471052fc876f210a8350fdea21138f7c6db999ee759c4bad757d3d3604b1d0f0f75e0bf860d9f45d028cce11f6461806fec7df3467b53f74a0f7bd37546df06fc4734e97040799471c25d858be28d2967cd7c7e96cffbc2be12fbe6d6a685a0c599ab0314d5c771f0d51ded913113f4325f22120f05ce2735feb7f37ea358eb2a88993e753535f7fbe1a19aab6a88da830fd50c43a5c4790b25d5b4998103bea6a6ed6477c564baf26823e9a365c96b4853f279030052b03b6232afcc9771e526d15819e31094ea9ff172708f231757570031444c4c6371e3658a3ef417d2a9adc039119c2da1ae5a0cb4ea745f5443a54d07eecf26fc3c4856c7d0bd584138c1e7fa727b7195bef502576894178c162daa9313e1875be66d1b6cee70c5cf058df9a5e91e1057385f3b854f33064f3eb29179cd8020ccd104259e4cd9c6d89db91fc6119045542358cae435da36591d6b0e2eac5b38a5a7ea077a7a577eee969dad55a3ea535a72f06a55b29fd7f7e3f9a0e83bddf2f12c24a9edc56f01b60b0a6739cfe105d6fdeb3da6215c39de78ccff7c9991f75c24d9e0e3af292c08a5a5ad71c28156942ec1583a0d1b293670f4dad77370f088e7e7570bc6439bf2c6e65d42ed8e2d789396d74479f61455c07a2ff5c3dbb63627a10cbe3394971d204eec30e90500c234ed9f05efcf805efc1450f90999e837a719d337b5de979fb5dafe77718568e47c7d543685ea455c65ee5361169d7433d45554c3b37d1de708ae8619ecd0cf27052c51d67f4e4e12a7acd4a03fa5a66007e451bf58b2f107cf307dd4774444c75a277655978a37ae71662806e8794e492d7d894939eb4dd9c94ccb87beed00220c2c2ed9df30f8e0b99ea75e0504be0841d8c214889e160f2ead4c1cec0a7dcc44128a56e49e50c687e5037d2ca98c749a4ae3c7cfcbdb0fc525eadb9314106e0d952a06d4938ad0280c5d931f49b69faa9afd9aca9ecec20f823e3413d1789a06d4930a4abf7a2ab78dcabc7ae6749fd8e08ef261a949ebd7eccb1d4a8a9e9cc4894968c62c749f7af0dda40d678068347af0d55e9c914ca32db49956377a6394a1efa7e3014385bd6dbe24edffa382d2c17795db35253c9159efb18fcbed707a2591fc4be3","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"597e254378172d2d4bdececca2345f63"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
