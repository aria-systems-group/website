<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f37a2d87d667a77eb385f12613b9b6398cb8721d78dc85f5e86e598f27311f0f956082f42b1b723d99a40435e7af0e3f12480c802e5f610c8db42ba459d7bd4ea245f41edf927c21138a4101410fd5d5de16e5b9c6c08a851c0d6eef3fe981a9d36f55cae558b4b8381437e1776b648685ec48228620a809bee1f8d1012d39a2d71ee176527757c43e1dc6df359acb20b14f49744bbb72ecbb1f2231ff0f5dad03a8ae02e258de1f22ce8e90310e2c1115b63531187ddb63926f3385a13f94c0386070ef23f2092729f9dbb9ce6ccd7d2dfd9a701fa673bd82e4ad70b5cb872458158efae2cd446ad21521cddf140c644e3dcf7d2372327e59fcb230981944fd90fff44cfd921357fe6a26ea43b87e91fe45b362e0bfb871ef1127f888f5dd084acf392e16fc4d1333fa7cda74d6931b4028c614fbc1ce64eb2c3392f2d09d2815fcffffd6b33294714ac0cef78405e9cdb475de0703e4ea019f677c632c36e0dbf7f13575511facb1417508d5cf65a2c80edfe49f154ff277848d826e4d37b9607d7a688493a3cc612716fdc60f76ae036fef1328d1803d1a77d2422ba9429cf610ce8b4e6d3d0fc0cfc95a169a4f53ac745493c488d60d5ce7d176a1f98962b01475c45051dd8c70367ea9ca8d4194daf5f88056d3c4acf4a066f4178a4ee5c792acc3d2d65f9b9d97560263e5fc282ca85677fad654753e9d31e9dc38dfacfdb657e3bd6be4fd245891ff1df72eb5c786bfda97cc26fef962e6be08a61fb5615b36d3a9b90187a74b8c8b4b1cd57401c6cf2b586b2b5ab9384c473ea8bc93e912f5007c8b5399599ea1630ef08a3d1fa54deed36573fd369ac0aa35657e9e42ed1e3b42b6e9992d27b11e33efe0ce6a1892102c6f7b096da7f2582d35805fe4f5b9e1d2b28ef31ddab4dde007c0e666f7ea3635a9249f21b7f3587beb5d2a32cd48d1a161b7e113adc878a8467d1f470f01f99657ee4e2814d5ce0895ee90b262941a9cb7a5142574bd44dfb123413e9cc8d83dd5874376e25dcc9fe5a09cf05c05f0f80afc1105c56656d5ee28b36229282eb1112e57983530fa204bef39fab71487fdebddb67dafe88a7c48aeb3f9578f4aea26b9ed0a6cd4d287189e46dd83edd911bcffa4c0ff3fe1627032bedaf25c9482adf40e0000f55459bada5846d1ac0eddca7eb2d7133091c18b28a0fd788fb2096d7263e42e5360d6cf9ce78ef45b7a48ffdf0b3443f8f7e841f69c59a76eb4ca2a24e2ab9782ad56bc01bd9fa3f8e55406ac2dd3341c378f09c124cd8808cdb39d26d162bb7af67e33f9226439454cba43eb3c592183071ef76cd102b45433b824ceb06eb3f05a1b7f9896a106a00092be87e1b389af192c489d755789e7f8c19923788738750122204cb1927f090695b536abd201f262e4bf7cc284f99c26269c46050e0270f94f097a8d836e3700c308247b8dad4dca233c5d5d9157efe253b37423b5b1d171eea59fbcccb940b3ea799f4b89075f0cf4ba28c527c88326753c12ee73f64ca6e0c1ccd1f7bcefbce8b5df024a9f409b85953eecf60ea2dd608df17930a65fc2c29f1cbc68c7a8b1871e112f6a44af512d11decaae24c9a76a55bc63a3f8b8464bb38d6f0224f778bd54dfb9dc70c370a58b7a11d838fda5a5a7f18149204a3f145f6b8d801228687264683dfd73784c3a15b69d1aec1eb0b065153895d8d757fb10472106a0aaa9c7f3cfaf1200f579602e7f24a23cf24c5c48763dc4ad3dda960aa2de5bb51cfd4e8232cf78b33813078b3e884d09d0f943b443b5e11655299a10101e6a1619cb85e5ed64112b304d8969e4471346cce4a3fb1e96c84f5d77cb0b6f2f2c69a33d043ced8838aae7150dc989115c67bd5d7e50fee176990627af8debda9df8418fca4d658cfe731f2863d742f23f6d9d7d0cffed6e4e8f96ce71879b22ebf854cb2ecc2ea83d78cc58df9a8e04ff2f9665866168c18585d3eebe59a7d6f1d84409b4d4b62fc86df1725f3ed1e39eddba8cbe0c7631214a6b8249838d85b2c4838db1a4f516634b4c184478951855c44ab1d123d78b5ea58d8de0e1ad11ba79cc43e807e36708375cbb8e50b4032af25f243c3484644697fb7c495aba6b707159bf66a9f06b80ebfff87b9c20920d981b49ec513a842a611579c849ef454eb4715370e108869387471df9882715eb454b4faff8f285dded5dca64b1b345ba12ea93b18c68aa0c0df458d9876b2702efee3ae4db2de2f521b2f6a87c6a077adce633a7f00e451df190bd26698f3c028c42892f6e802a756bcc5f88b7e270b53cb65c28e9e98c6748f60643c2e82f8744fb3bc6362431ea2ff8a1d26adaefafb47287a118052259f51d964259e5e09e350f0443349214ef8a06a6d86de36fc6b44088b4090c79a2fb24fda377736b91a60254456fcedafd87fb852b612c44efc095e3a98ac949b86d54c0b2b26e83e77ed25d5c374d76ea82c4631fcef49e6b1f0edcc8ca72f76ff1abe50f18b278c514bf1d259d487c9cc3930db83f6952a696919d64805f27624cfa016ed5874198c865248712ee0fff828cad0d546353c04842018e1812cff572d46fdf451b499f3639ef93354ed752f5dbdafe5d4823ed22b69536cdd7565a7d43cdb6b7a68bf8118a2099070edf93705004c0876fc938dac8ceed60fd72ad6b3d53e5af8c4f50e64a0b886d4a648e7ca612a133e91e86ce7167d3feb391706d058f77cf1e48566a0fc5604f5b6d7a4f72d3d17daaf987d4485d2d2a2c7ae2caf981faf724335c1427a632c24e021e872d050abff01e123a612199939a5be190d37bb0edab97ac864bf6a8961cb4e5ab7a9816fbcacf6a8a863510b1c8ca29edcf1a894a7d820b8a57f9620f27c3b4d7c262beeb425f9ea675955307cef348f4a357ddd766eb050e685aabf77c3ab065494a42713cbfaea88277f9ea8e4376887f261e433d91cb90309624183f585d6fa74eb5479d07a6353322f02774f46b98a1e65fa22d1de0d1b0bea70a1aa319ecc30dd9003491827a1ed2e8e37881e3af3e0565349236c718bde0f1f54f2928952dc62a16f9eb8a9bf705cb861d3a1f6f380a047781bc566899f958d30d823f20d4266cfe5936a5cf6638af00c24183f80492018c4b23b995713e2a30582a24b2228c22e48f58690786b60130af9cfa9e314b00747c4288520a3f176d0006152c273a8dcc77b965004425bf4f3b4e23246b4f35a2f0da29117bc02da9582337bcc1cf6791f4c90910280530860238012b0a860cf508a2a93f5f89204067d5d354b1ba0c73eeeb31146c554ee8d1fbbd9c1219bc713c1ba87b6db0078844dea4f209b9eb165078a26613c04a849b61b166b6ab98f7f0ddea6414ae6e9748608671cfd919bda0455f837c329fdc1e21c5e893f4d89d5977ba3f0f0f70fb8c5a33e1d28fd91b6d22979b9a2a36b3e63566ee1c57defe368a4839af352d751679eea4120567072438649a615049d3c6c2c7e07d3f6711e99bf2097e604bda81b8a50cba111417a49d4ec70492e57beab1dc01be7cfa92e4f2d59f4fff71a7d7432e90de4ce2b613b42d4397b1df81d2b68ddb80ec1a8e3b1544f6365934a3a91a0734b0a2f8da0a95e3006e43c86652d16e9baedd1180cde51196213291d71637e1caf9dcea734a3bbcaca6760572586d4915fa9d1270a2e5beda495381346fb276099613eb26d40d338c652480454ebf20bcf4a768ee46d00d22913d3d9345e28d5f59ffc0a7969f439bd9bcd53409cd06fb2ac6607f14e6ddf4a7009c509a49827ec3c7496659c3fce37a9d0d6b5c9ecbe111fbd0e3ffbe00890ccbe64a3288114a4bd819c2a7542ce9c0d0eb6ef212148cdbf83afa3222b2454c9e061e88336ca426c1a961a0d9ec7a8a8d69cbecf8ad45737bf69b956842b994a264e87987d04f31e05dc9c2409b6ff7a4bbdc246cd36297ae276048597164656aa0fbed16ab7dee7490e3e7893b0e621def8cbb72408ad377c63b95bd7ed1f0bb654bf70b6f35101e3ca60ce512858d6660a028c5350acad1eabcddeb5020ddc3f66c01ab0477513b3569d732a9c24ffff441cda60493e8bdbdcace927213d6f045248af837931df285566be8398b2b5456dcf5c953e03ba2600eefcbf9e4bfd756068146cca8daaa0b2c85f3d7419ad5cc518df127027978fb03b400448f21a92a90e0287bdacdcd1e9130df773ac7910019cfe9a8a2aba17a7f0e56660ffec4d1669baad1070459d26f25180a4f87b0d241ba911772a66dd60e57633de443af38e4fc6f25db3db8a9ba8fe810e6f42a3fe9e9371280edd3aaad97c6bb5cf7d61b297f3b11679be196baf227a1246bb953c36c1bb3f7719b38379164fd0e2ff1dc85a20738522e96a6b1884de72dd903bd994f7f49fc412195fc4bb7c87e61c6eec8ed5f0c24b76c4e379ca026626dd1a58286a811965d54a9ede6438ce30ef5eead132349eb37478ef5a7824bd972f0147c0e2fba7b7e29e64f22b3051fff19672a6caaede7a2f7d24c7b6d368ff4d37309e3c5a10afbca4cd00d2eba049dc8c7484a23b77683ee0ae91689122b44c612b9dc621980a6df3547c4e0dca8de33a880ea05cbf3d79a7184a8e782e3247a42184c2947ab68737cd3940c29ab723c18d00982e0b3a6be5645b4fff412d6292bf53cf74e7b5973e6883dd77788ee93af48a94c9d3d6b7415d26d2533b5cc03a62abb3e75503d88e9f2a2ede22152f380a992cddb368f8a4c6f36043017129f481e23fa0a69cb2e1b52882fc8f0fa0f12c5171e7800cb8ab8f10ea8ebb6f13355146043ca768760b8cde40d2fc324e2fc35f451bf3c7724c54e4b02d1728a1d7ee339642c5809a98413983da65479656eda1ab623fa8bc6194c906743d62c6501ef4703eecd1eb7796436b5028c54d4771f1c1d5036af56fbc984b37914b6b75087ddd5ff3052700de2e9068e341dfad4ee321e6e3441c2b8eed100de225a6b815226845fe3b577aa1d9912a484e1f72afebe136e1785bf8832ecb1e59e644bbf0a8741448befedc7b339a737c93c9b5d477ad7851644e8ff2e4292447351ab06c2617e21d10205ae6e323b8469cf721450bf859201c8e00bcf22d394d877d1442932a202694ab4ce9d3479a765fe7edada2aab5051e78030cb57c0df240e07f1b25392afc57080018d99005e5dfcb4e57215a0a4ffb2c79ff9e1320308e64b1a196632740f126783790e6c5081add65c2b28e35003c6176bfbfb1c2cfc898356d91c7a65d41d5a815155e02ad7963eb41dc8cc2ca76c1221b935f4f3131b698885b17d58ecdf64508b2e1af33cea5d62d50a10ef5dc91e4dbf947ed90a787823dbaf1c0ba1a7406fccdf3d4fa3e6d4b13db595c575ccdab1026f72300cf738484512842dc87d215a82c8fe2942332ecc77dc677e2fd85906e1779bc0a31ace54ddd2f059e85c6b85e371fce7c48e83ed397333898daabfda0c87594e0cfd01ad8836e9b1d91bf7ab21ad58323483dea55dfdf9ce50a39e882c1aaf1d974c79950f8da47b23c15273229e45ded1caa9a5a88fea0c53ac90a9bcd82b9ce227b63036addd3e49e4136ab51f597357867fcb3db6c630527907c1a8b5fcd8b700f16cae2aa7c15ea1d1d0c3e9033bfae7a8981d10bb3941649dc2d7b282aa22ab0237503b63864d31a22d780dda51a5040a0e93269bf261fb4f745a7cc36912e228fe87646bfbf08d4a1ba023c0fadd52728fb5ad630c217b77ca4661179489a542abf9d695dc1eb28ca3552dcd416b26da599fbba8126fbb950ef2f1b2f740932ca7732485bf3ec9aad8dab20ba81daf452e4c71274755bf61627e7fdd43fbfd655fdeb54a0e48505cb3560a8ccca33409329648ff3872fcc30bf43acbb83942a0d262c7cb224450c806f90068fc99b0bd90774b0ca3d89afe04e76689e1784c64a0668b42f7da4dcead18bfbe9190dc2f9a495db2be1c4ad5cda15a420bba502f5b6afd9aa7fe8eacb81b332f299ad3a6b70eac2ebcdde5c51398d00f14e5c00323dedd95facba12d895859c1d4ff2d50bd4579e35b6e60e245c839bc90bc134e0f8a7c0b7fbff5d4e6dec1f65d5d14a45098c90c2160a304da438b9409ca1268cae04bfec4afc7cbc2521aac28e435cfa32d1d96a6047a351a5c3603ab21913a32e85e63856c06fdd2208ef62e9d82f3f7c4704de40a2b39a4e12401d045d31ebef373384a978f837653d05c2185d71f43daeed6654f56345f7c4cdfa18c1c607ef9825c1ec183a72b4b9ec64149f702a0b43e6531b13cd7ef4a22c161c234238023dccec5b4fb362a7c412f74b6b40837c8ae7e629bb2994e7d829f94d0066c2d1c63c36c60b523931f0ebaf397314c8693957e048fbac084a0155a9da5398774e72257972247240ec04ad72f9349919d0d68891b2f6648738fefb22eacadd21dfd43a990fe9a51dfb16189d0e6a3b12cc75de084ecd22f8d277a824b96fa79ccc89cebe8bb75546f26a7ca847f2a996713ff17fed48a9140c7262d1d0e83c4af7983625608ae1c8b9345ed8c88943f59b5c56ddd7c520a7a4ac558513e51e37340596fde02d6611f77fc8e67abd3fb3b09a42d66957f7f72889dbd7a5fcfb55a10cd7d79c690c5dd6d06f5b4ccc7815f5aaec0b20481417076f3fddcb3371a0598b6e8fd7e95df24cab86f22e18a61158582fb6d4b9cd7a4ba7b332998a0b29615799dd0a3ce7ea883874b0fe63ff33f59f0c85bf27084c51dc37ffde2116c2527f55d18fc182f3e9db9a97fb70d4429003437072887569f9a95cc36fab63adb5279224de593eeee7432ca7b34ca0f8ba1ff0d0c7f001adb16119ef525b1bc3d35825f4e5836a835f75ddefb267344e92d16121c9de8ca5c91164168344b226cd1f4601409aa8208d58d824dac1eca13ed3eba455a6f349a1e76638e9d847059fbec52a2689b2c7cca6b6e296b6a5829e7b6d58e1b97c5870643c045685d871e8d892cb13d3358b3cdadca395fe03058bc9af58edd4dc35709df140a5de79cd8036cc547d57c8e3bcee55713a9a5c3526f069902407c67f6790166e3b352238e9fc93570e3693f7bc0daf8cd0dc0253aa01a80620813f6a13cc12aa76eff66f9454983b20ae5175458bd64384d4553ef6692a63f7f110ab39e60d7f1f4ffeb48ccb45fd70b60afde0f08cc5bb251c490d5b86cfa4b19207017460b4e795ad288273ce2bdaedcffc0762519ee2f04dedb0527e442528e77288dea37e422f966f630b4dadc167229b672769394fb99e71a22d4521a8748f0ff85fd4e41f7ca60fe052df8ca696e0d23adf1d510bdf716413273359cdb71dbd52307241bc214b7867f00911cd45329cdb2dc314876037448a09667db49c1421cd3ff4d2e44002739050d15e7a7d23cf3aada55d9c113656ee56d96e1a012649734856d55f16ee03bf2dad99a62ddb3a11f18e0dd7a366e29966b454f0b3f76f220b72c354b0816ddeea934f77b8ee796c6179301b640f486365144e577ee85474fed560b58801fdbb6ed9295d494209dcf9b3d830e814a55da4d85271920923785f9d8e78c2ecd8c396e16be1b485abe7e9eba27cdc7cc94ffcd5308ed35a3d233173a2558cfdf6ea299734cdf82d844932eb6d33a897d753ffdd8228736c6897c182df986f414226be517702d057dba44240072f3a2318e32ac1cde3d28d20e86f27161e764fbd601fa53595be4c111118fe57359d5d200235a3a0ed70620e89bd338f56e0e85d31ea76fa564098763e69f3124d503886be41ccfbfb38fbab3a70af0f3a8eabbdbff9bf8e59ed4aa513ba1ee7945414894bb3f597f2ff4dd61d7da8270a7a76c856dd35b5b67d610ad179cfdbe46bb3058ebf247e1a198c20385a0d3c191cb4f3241d88741174aabb0b58712f27fc4b699a868f866a467be3b0dd80adbc988724d15fe7a87e918cdc223e1ecee105b02c09fdf61f97882ad9cf2a2cabfd0bfb9f2041ca74540632e5606dfd9b5c124d28d6372259feb89899502a69d6cc032abfb825f3a77323bfb9aed7e58f4c33f8c9a1da23a45920e32a4996feea2c24ef9cfc51d92ad0a197a83262a41ae2292a7cf05355e3b457461544428e7d7c0888f2509b361922d064dc0122af5c5117b80d2b51daa658af2c374098daf1f340f4a80a356a3517f4176a13928501b8d6bdbeecf0ff5f0ef2993bffe356ae1dd19c80b8c99272d07d26adf2dae44dc9c6b1bedf95be5d63c8f266298f10525c4331be9170ef3a6b7b594b84188bf4448ae2c656b961b2db71e6cfd43b9763ed61295f0e057d5c027487774dade324edded84c801c80d1b74c41eed9139e826ede7d7220e4c948c20866e149bf687a8c5c2d617cf44dc6465edf45c2a499fb29bc1cb71eaa937c4ef62d6f06d4e358d9f24675ebef57bb00e22cdf630a50768aad63d19b5c7e919b26ea068db356b8616a84722fd768545345ce694772a55ef90066dafb1aa8c5a20a32630b4860528d3759e0b72d3859df2a04402db074345ffb808cc4b2321e2d08bf6314283da08fef3f4c9efbdd93982ecdc374d5d4a18215df0f13bf7a799c041bd81bd42affebfebd53395d654cf40d8ce5e22551c309f1423e2ea118f5f6d05a5f07af0636df0719f0addb3b76d02be17c7e535dd945eba1e946d7b3f11cbffb3ac642cd6d91fa6810ab5f9e457477632f4ec45eb322449654357d50166303f4d6295f515a38810ed77da7406abcb0aa0c23a27a621caa001414493d651199f1c2b50bfb78c6a102ce8140f523ed4a9b859b6dab70c2218e6d465c521e6a093d523130460539ec38fc3386c0274617c13848a4ca4cf229ee648ec526a633f87091b0eb7269d94411ff269973357fcb1dacf92665eedd92b2ede190bde8f33860fc626ac368fe68427d765f5301b214cf9e9c0e21c659875c522195a776580a90bb93ebee24920406688fdadffc547beeca510c65bc6b7318b07b1cc48e48da0420ef6f7adcd5cc28594b2f27720c23dc373006be91d6f47063016b0c8b0d042c97fb87617cfadd70a9536c0348bb051aacb3fc0a249f2e03e663ca4b55d3d0c482d887cdc06dc196dffd618d8fc8792234128a948e1c96352aaff2926206f50d0013d3007f3485190d06dfed0785aa9e9da311fdc12d7851663e4aec3e43aac06a0cb725b0d82ce5295dec9e019dd224432d3f0fbc4945b6d9272258841e4b615613c78638c1bdaf238c5cee0c0bbbef17c6fa8f15a09309f127a9f6e820fcc176a0ef94158be9b4b4228250f9ab46c18d4209adff0db6b5ea0a096995a2f4ad645687ba5f0841c9c242f50a5c0b02ab1d5d243e0ed4b47b404277603c3778e2036b88708bd093007795145915130ed55a9372441e1a20820206c2a7a5e8046627cef1f4738b6024f9eedab10e01cddc748543c7ceaac03258f2657edb3862ea7ff180c08d2db94ac5f83abc02e10a5bb020bfa486f980e949df60444bc93dd3c8f0850db0433fbf092f03e6b82f9b6adbb6f4ed7be8c077f6182612c10bff3bbf9499c12666e44f18e11581f01aa40c45591f5436749e4feb3a05c9f8c04d8958f428885e5665bacf5293a9b93705dffd849a2feb1e54bc91ebc369759adc420238eefdc5990d04c8c018d2b32d19c09fba10fe99bd6c42f02c983940be6fe5c7d1e6bc21c4616375ba83e139ce74959a46f3494bfcaacaccddb9d6e8ed1006f17162cec03595ec684a156683225d0c6b236a9b741985f211a96d8afd12bccef6fa2d121e148671cfc63169002ad3da2448f8c2bc1b69cf7d226c1ac5cae99404cfc8c0738f4a79c6dd0b40dc4296915480e38a89c1b497963c45152900205f0ccd13223171e6176f0991aa83f64f2f6395b5a391fb83a4b2f18b9a42ae742a01740502f9c19febe91dfa9e4f5209160a2d39ee5b817e0c956a4584b09b89b9978a2b333789da1ff1389168066c3746d4a34ed5e8af2033390c02056bff365b19ee1e2e20f645cd75e74446e4f082b6cd035a7d5e2c3a1ecbf7070f809ff4e09e35cdef66e5220e622c5aad53a1dc0a033fe6cdd1ae24951e9fce6578ac165ce532d7d7f62e8feb944db259f700c61c3a5a3a518be8094889ade54a2acd5913eca67e8529f9c8fe5926fd9fbd7a4a9ee05623a15cdd0b360f3f4a65e85fea31c6637cd3140b0c4ddd2a4c048d1231230945d4391b58e3c9346f4b846113685a40f6dcd750b80b73322912b7be119e2fcb500e136d3e848ee12a2b8f781b6ee39c4db9d25d414ca20d4aded52b268a28809b9f358b41b0374cd2ca47957bd28c92ef4ea636b97f095777b57a8e3157a9d572da6e2c4f1b6def9524f3f8533befae474bd6395ec7e27e31f68d5cc0d4a082d9fe512370c5ef5667581b61b9ab7a7cf52e59f48fd3023b4d7e0b67e404a35eaabefe0e39060eabae7a079d4d926f2aaa0f92472f45c1ac51ec900eb7f62dade5bada777a6e1c3e382d8e2ee51d9790efa042cdc68f5b5268b20058899b79edc4424c5479e7ebb129b0b7c08f5c0ef26981d6b2b1d5df432e735801f4d668f089ab09102282800377082446e3a73d18207bc37de821c64a36d78b5e8d3c7b0c15e32fc5f8de32f0e5b9f736b169dc6d6ac0ccf7128a413257f3850268c7e987dc4657ae6936bac7ea61ecfb99a3f1ad2c1ab63c20327d691096204c180b34a05cb622244125e90f3b10af1da4db14a11d133a51946484edba55774b594f6db9c77d6443f99cb0b18399d570260c68926fa4d1f6fc6dd80dc611ef23d25cd77cfa57f760d6a44f7324f70831be025919bcb9ccaf72deb07401d84239aacfcefdbe36414e22e48ec00c5f9430fc2cd8e5d5ca64f2dad9cd8d482e6fd5647a9c67df04968391c2ad65017f762c9ef98ac792ca6d6904a688344e3e8925e5b5c98722dee2abdf7e4db9254caac72e27d91e261fe77bed9238a03f704441bfc6fc5449a4aeeebcbfa149f92045348fad109e52c15492842452eb430dfb017160c573caca0c2778c17a7304db9a4729227a037946eb9bca0039f7f03d37261a95a000af4101c539120de42fd3402069ce25544dc7f3d152bac612e67908e28404d3bd517ec05b80902199797cb1ee3bbbe1c72d1bbf5d8e339e9144bda0e1090661a99fbaf6f5aa501687eab52d79f71083e06210c255e8fcc7729bd81828e8403cfe3a5399853425df0a9939d7442c5bd35b3b843e8158253776e96b74d4b0ab15cb4cede12e090d8eb2840fe315f9793077df59e9c8cf6bc85f2abd56bf1a5e0e17b63eb1ddb83ffabc912acf82a1777b2067d7ecfbd64be66baeaae1aefd79308db82a59751ec4a540a5484ada2e16e9d7c2ff1e359e04d56590333208647bb540bf1a39e6f0268a3796403de85758f2e15ea3a32994db263659df847bce818f07e7abe82528d6be5f08067e0ca34097550c5b48021e3364c6a1a974c10f95fe82179c5f35669d66996e2fce4a61569c1e967c9cd3469bf9aef96d87223df2251728ca648e51dd1b438a1314e84d6c06f3e0e5a876f1c56508fc3429b5bd9b14534d9cf9a25301c39bc5a6088623bde2bbe6cd2434b3a225cc985e22850fa3ebb8b74b91a4bc77579f78aa59a910483ca7bbb47e9a96f8991c89324b1d1ec19e97a40fd5a076c7b7c1038e76042a507e8b78943f4df9307789cecb08003ec16e4758c91c96757b6780226e676c4a6b8fff7f20269db6e4836900d65007ab961e7460286324e2737b623024c666401c6134e6d70e4163019e7bada49cd3c7d16641d1113dbb2e55b7a984b57f01c57c749f64cf122408caac266be1124bfcad6ebe39e9cd9c8a83ef5f5dd4a0c9b2bbfffa1f225d4cc1e21c74c9752e81a9187eac423dd33217f23fd24ed58e3fea015924ce5d577120589f08bcecf335e2b4b82ac5880b5967b09daa2ea2a0f8583caeeca943fbf0f75fafba2ee96cdeaf93be86c7fd20cc324a1e80e86746e2d6a028cbb6306d465bbd091cf5cb31e8a7bc5fd70660cdd863555e0c1374950802d2bd4a87550603bb7acfd2ef95a69d32c275bccace037d71338414e589844fd4ea4ec70086ad967d24ff4ccd781a5a92c7ec54d22e20980184c89d10e4c411a8b50dbf9c5d2a388070c7d7389daff2b727eac329b29da27c211ef7a2f95d51db03b27ec802ebcd03ce49bb4dfbe6ffac32c9569e5b003f8a0275a8b2f5caf7b7a1e13afeaeb38fabfac486db46acb6a1f65c891e920e9071f38758791d8da7738bac68d42216676d182ef8283e212485992bef2e0109527af0bc79ba422e3c0c4d4df80fc33e6b25dbe43f3019d43ef37b931e9e6a1499e7278a9fd2f291b123906098a80017d20e1fa4b8ca64798574fec6d3b89c03613af48a6aa041804bdee1b4bcc9e3967e1dc1be901f8d81523b5e8cb125eca0b1b96480ce69dae86a168065387f5788d5657421c28693084889239729c80cf77715fe954cc49536eba2e5a11d12a3ac6cf74eb951ffa9009d1ad25d85ef6dd2369e027e34c10bfc4f0a83dd5f8621b24b721eb0546c7306f2878f07d25044673f742ac8397611e7c806db8a3aa04d3de7318b1deac31c7762bf7f05138845bd6a07d08943032f67a513768f4915bf6f6c837182a4e270a35b47d1768116cc9ea664fe6e86d1d8b4054904ad4727baded8ce30a364b058d911bee2b50184e99594b8ae19562a2bb017b55d0c4d2a18271eee1d2b522aa8a14bc9f6da05734bd4b90bdadcf3c25e82b768e5a5e1a58d0ef341b00d341b3e6cf31f73cbca170a1c0cdac763ecc807b5604cc651c491fcc210bceb56f9d6717583c248d342c26b702c51fc6564eba50de96570dfe32dcee5f0ed3cf4e9e73535fcc1a7492b56f7206f46b564b124ed5c7efbdf18f0b6279deb726a16a121923b59c17cb874071f873b1fdff25588f5e3179ca68582f21db450c9e6048290c48520022fbd9661d11ec9df3fb17baa089c2a452fd7e99980fb736a398644993a338144d1dc021093df9622f705089df13896c80290392d19828308f3f092780347a517c78a86886b8755c8fcd65682e5c0c8ba8ed8e1bca0d619095ab11dccec65bb9e051ca16bed2382ee7251efe18572575f017fc3bdc8159a33a9773973025e3d0c5982ada801f6737f2e31fdfa1654693c39b3aea976d25bee768e7ec05b6d1fa223a6127e7255373e071fea5225a1a805317c69af2a5c7b71d7a009266e6fb6736f8acfb25173fc0e3c6a5bfdd3c0fbe86dc6a6e1b0126e7a7e7a296d83c81fec2387b83a4d22b52a4277dcc5834f8e66529038094ec762d596f7d533ae4e39a4d0933123e9773dd7fc0076444853619b87c9a29171e988230999af286b094e500d749df56cf753df4a754057611a54e62bf9d31ffc7df8ffab13515a9a83fb2618573a99dfd3f04634648ca62de0319cb268faf359b2f986c795bf798a55c4d28f64b8971fbf60d89da31a758b2ce969624c29119830e830d1ac05c017d48474179628fed2d583dd1550573cdcc1f15abf572ee13a4d7fa7ed0a6ce8963d5d6d643837182511c381deba38cbd95e65615e617687745afcdb738c770af90525cfc2f6895206fac0508c116204fba0c5a89bc8fb4119644277bebbc0d8651c129b433be343bbaf8dbb83b5c6f9a0d665533d827abd6984d03591587b65f113d902d6af06790ce4dd603ff0378ae2b77a79fea36874349fcb08d70783deaf6e1d0920e500bdca5fca5b73ed5ce8728474c28bf1e0f897c8b9e78bdfb7ae4b585b61c1fefdab90b7c7ac9cfc4ba4fc1c6c1cc4c4c1e54da84cd40ae6d35b77d1a13caf9e04f145207cee77e1d74f163fdad1413d921e18cfc3274af45de81be8293a384f9826ebe1c1497aa9bb9cf6fc6a2b2ebdbaa9b8df3f8491535f2f7a92f61017a268e46d3bc639fe6091cf3ec31e7c414fce33f4131b992dc323015f9124081b9b9efaacf43d69cfc53aabf8b63edb932593947adf380b563a3f35c2ceacbb1d3fb67bd2f17958adf64724cb0724d7c243257f4856dff65240631e90d2d7aaafbf04af23ba2097245e7e15396a76877e9ef18a04da8f580900b5815951aa75731a2686ffc4e1b001ce6ed7de06fdc8f44e4bc264eb0e168efe54e8ec7578d21b938f95f4d38889ce7c02dc2cc5c653dfa9896ef20b4a75b22f519c2ad12218fe449721cb86fdf8abc3b4295660a58538271ebf5acce16498e08b36004d8ae5a06876e316398dfed3248d28fde98109b2d46769491d33cbfbf5f88e17d0b30d02d5740f2ca567936fa3614d6553857dc9a2394e1fb9c24df916acfd7e81b6ceb6871501c84ba8dc62a2ec31d2b8bccf2b57f412511ebfbad1ddc73b99c45acea6bbc9f5556ef7d81678be9cc45986584d417abb2a3dc0a13642e34ae51301831603dbe0212c57a987f5041fb23931a6a394ceae4dc749f0078969a0c4c1b3ba2a223d5899239cbebe573ae553a54290b6c5d63117637bb92e21dea42efdfb81311ee6db7d69c1e68f293bef223af4ec8329d1b4aae7ba82ff0b29902936ef6336ba59450f63106d85f820aafe77a02953f9bb7dd7191abaeda7b84c43d117f82235e03160cee5695e83a96d538a0e32129de6640112e695f53de99d04b4aa13537a95c5e4eb8393597772f08a473d0f625e63377303cbd4ba73b6354a42601188a6bae6f60550146820780ff0cd8c7049caf8f7b21250a34830dbdb10f3041fb80ef138d33bc6b97de80d2917310ea55b657d0626b346fd7be2c320725610cc44e058d70abdfc3e385af96d047d9204b1a1a72ec2a2a3015b68d8c1e42a10ba07cb08c1d851072af809d08e0d54360938a56239bf34bd426449906dedc802eca87c1ae82dfb472edade7e30b577630ca8acf6ef7495a8851ec3d03c3f492ead1550a42c6a98e09f23f79412a1163917076dd4a401c390fea331f12f92389a1a2dc5fe3d6b57f67102b9f6d3d9d3faf0e580b863b91f74fd8ce17f5c6693af4ab71702273c246e301c430970a4332213b81d6327155dca84151ea79bce8856707e552c1c9cd6f854beb39b11fbf506b7d813c38cba64fde65f380762e9984adf8cf306694efa745e507db26c317f4fd7e7e4707aa02b96ae1c8425c2afdc1222fcc228b4a0e6f4d027bd7aa522b72b89c4a796f2a322ce900212fbc8935db94f3cdc1ffc95b12c7135da8f570411c9d60f9cfac29200989bf2374bc8834a2a4d70d2c59dde986edb2dcf3e3649c832703fe65506eacc70039574ddac54c7f19cb6386c13aadd5fb32c7c11f7576f7491e06f0e8ee1694bef073bdb94170a7eda6763f489d47590566f8f0b094e6e8424bfaf2d4b2f14d15132a2a243db099445eac2ec6627a986b53cac996fdca96731dd12265602af3caf2f9ea2c4fd478f855f5a06c4447ccf4bbb8f753fb2e951ef2b2cb7134086cf62272f68e89b8c97010079858b89c1c2f5fc4e56cf691b7f75d579eb6b0cbd65524063b6d9e78a6eaa024e79aecf02cb7bd798b63ca9dc6e8deca1d83aa2d882ad8e7e7695eeff2f2ecb2feba487a90e1a5b88262f994adc204118319a52e9859cb46bb73e7b85a8affd028c9f56f173ef32164f0561eebb7bd532b5e7c5489a7f2f88d9a9cfb969c3b31698f2f0727b0cfba2ff23b8ba121aa42265d7257c0718378ddbdb233f9a56826abe04bb52d7149d4a0eb6d04aebcf7fb1ebde9cb458b33a81b3b003a910088d5b88408b5bcf5a24a374e787b6ff9a789c8eb48d1b2d9b93ca8d5629af246e1a8896486f36cfe16df23bd5d259a535d1bf21baffe51c26697874f5fc3a9a18e1659f0ecb742e515638d680896d2b6dab61a7e6444323c810a693f5e5047a5a69c113bc0252426bf33eb8589bcb637d043096a68fdb89d56011c2f171e1106c19de254a7bb43023306dc9c03eb08feb979739646ff2bf5c49505c6b3e83cb0a593a329f24a52ed796db529e2f176c8ac67858ea310e230179739d772994d8be18da57679e1006d2748970b732f769632a89c143746e60efd21e75377aea473c65aba06b29f18c97a65b0e57fa8bd6afc633bc8b265ae79d97f64a6865407b44c0f3ed1d8cab00b8d51e87a82a2466c614d8d5f986342c1c94da62e326eb7f6c55fb79c2d065981c9972a65ebcc40ff529f17c1c169d6417e49c1591aff4adae724c265e28eb9ae65eed7d611a52306eefeddb19b190d49fad031cf6a1d9458cd78054491ed027343524b4e1a231ef6368175924b8a881e1b9a37d38f5ce47e3836179d966fdbe8aaa7984ed5cd3e80c838079c328886a3300deb54f28224d605d815492bca721c254db4ff6bbc16cc377725435f45b8a7a523f531d52d7da5435cf64092e73764e4f23f8a1d82beec800db023702fbf3d7880ad58559a834c09d4fce848168918fcdc5366c911efeb8961c897a2543a35132628d77bf216a593e922fe76a9852bb35f67695085b8ad34aaf90026a4ff951292fd5cb777d47c96bce0c4b2e38c284c6136102ad93194914c7c6c13cd48afc4bff130b9ff04425607ba5a9c42dc6c84454fd21ac20e0a3f6f22cd825eb797269d84694b3208c94173b6d349145cb1aa54e295cb1ccf6d0e6b40aeddd0c7c5614d112b87589142050d3885f46ef172d21b3da37d18f8540f21595b1f76297e18ee5ec129cf02342362bbd02104584a243b112cf17788a1c2feb812cc6065f9a72dfe8b823daa49eea7c34294507704aed6595921759228ed3cabd3b356c96746bc52bbf587d366455798c32d49f52ece663b521136ba5b04c9887d881a7eb9261fcc5c891ae52b282f6aabc07078c2d01f75f7cc4793d9a2545763eebe64d47880ce3683fc5818103e96abf1381de1a249bf1402c741a78bcc3fe696859ff0757973c31d0bdea28d40ce778c52e71235d7a49a7820b8fdfa84735a9a5e97abba281b01baa7205ce114903e3947a9690ab73584597e096bbd84e9a236b270c21fb4ce629b6bd7d311fc508524f8819b367824c7fa3f27c09fb4e27b69598c218f5a22ef519e2ab9dd5299af95a25ca2707d240a1b1dfa21d9795be3c23cdea4062653874d8ffb7c9935ca98191ffa2b0a3bc770d2309f95110fa22f15637c29b7e4fb541af38a564c22b3d0b96f9ca73476ce84a6aae04faaa6a0ceb8835b4578e5101ac2443488fafe3532a72570d2713a5572a1cf741dbf7f1484b64ae06cfea0191fdc53f5de7e385254f825f5563891d7c01966f2da74523549f7158fe2d47e41af57d0c62458069cf694017f45b1eb0e205e657098cfddfb4b13639241e86cb83162e632b010ec94cf33ac368f8c8147b6755c5e6284e5c3e4c85e0294e638b7d77b5576ea785f79f8bdb3b4f70674ad9a4eb389b1dafdbd2dbd5fe32cc61fa94fa4c785caba9fa4cf31acee0c7e0d17e1e682bf8d1170d9c85fc526b3e8774333a5c4df2fdfc68a9fe4e4f0b53b52cc8c6b6a0af9ce9042d8b95b56d907b35be4698632de9717625c8e917dcef2634ef084b60f4dba4907c58dca62d3f11db5bf47c38b3e6548853cda16730bec607c994111beff548f108cb714e66177fdced7c4c4dc24acc92d650c7529ff2695c9f6604b677359cb36a97fe063dfd4b4f84121bb01ccd703b2d9f87b3ab7854638ed83f522e8d377bf7f94a48668d52554f68070a0a64eeb33ac45d2467cb5c856047f60f2e177ea1fd4a238c5780be709c6dca32b483e75c8eb6c5b1d6549989dde071305d3678f22c10319baeb73e30fe8d0fee046e9e7c33e120fd0fb09825a997b9497ba1c5cefa70a46820e984ec6507b4c4e3bd3fd70c9c648567edcf06d77dcaa49f6cf19ebf288ea261c46927537a7df7cba0fe0fe1f079ea366bf52746c51f8f22da01b2513cd063a9dcd21ca19d43aeb5ec346461e8bf6292c579b83af2a6cd5965762a3cc12edabb109fc885280b0e40f2b4def77dfb5df737e325f5146ef9e3e561675d1c7e497e019566bda1479cadc85af6a65c1029ee45880a6c4927d51be4b2655304753ad16aea8b86269f7d7aae0a5c7e204a89bdb6c9def811194a0018a7fe3337ccbf4a05e10f87e696e2a7419e57cec8a56c713c515f600e5c57a1186a326ea99388a29602dac5565051518da003bd29d66f2ba7a3ff1af96413e6f24f5ab9b335b8d61ef4d84f6c637323902f6b39cc85a2f5cbcf7949007ba792f9b657de6d8b6c43c1ca62c8eb9ae87c6c0ffc899942a028978c5fad69b4b4f4f6dada168746e623517d55292cbe36aba93899da6feb9a5c7191f28d2ff9ff4cdec7eace3d857d55e94b1dc4f520ddb198f889937e3fb8db6703f1a7cf41ca55e9ac5fb3b4509adbbff67250f8ea0075e9932a3507b246c70913cb4d198b8e7e93467fb6562493b59d460030d0a01bae2300232202093785cd3e4f9c83007e213e93d2156e861c528d638dd5282d5909e5286e8b8dfff6747e93ea89951629179e501d4483ef6cfd72f0d2d145d2ebc98c3d9cc2f253b56c388c89a1e6d52abba925b0e193fc2036e0634caaa72fb3b09dbfde084719141a7a5e5b42d44cd0875ff514e39b26d780c195f6fd83db8e4d979d32476dd184df96ef2328b1f4cb60173e02793dcc288b6d25fafa27f76de22cc0f77eb606d1ec1756fee1140448832587ab34effb91c89be16ec082aed98767daac72d6a1364bb1d599cfcb3fc60695590d82975457586a10d0fe1de503116033514c5e363e2","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"0d09ff39aa548370cea1dae0415f5bb0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
