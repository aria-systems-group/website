<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f4fbd05fc8b5bf9c0324a634fdcc462831519ea2091f94d873c1a974c297c3fcbde1dcc8f4ecdda0c502c84de74399d915e8b9a644e4dd59a986ccb95bc64a049d54e1c4159aaabdfebeab032c81ea424edf147f1402452aa314afe8126819e4a7ed5777df67876bb65d13d21c689b03a91165ab5f5457810a244fc4a556ed146974f73e0e11bb739096a531a603818e3c79c3d97e5922fa97f983915713e7fe860848ca26f4eb1c254687a9cf0f619b0b3167b8215fc6bfedda622caad2d43c8112f92ac20e2c14f1ad86d797da7e71f1bb317177b128e0a60eef60adc544a8c350d7751a5533f2415b045cec970cf48ac578f03fe996edc09e3ec9b6513bf8be13b9dfb913aa425c0a77a647a20d59c57b2739400f2ca977b29f85665f149676dd0fe17fa1f7bee0eecb953ffa8abee1850ed24dab9e70664777017325841ac059b992463a4cee8e2b75d5bcb120a3a3ae8596eff168b89666f18c9fd996b1ed8396b6a59e6268efc9e38114d3c697a06222272ad4c39a19ffaa007072286071756237f91ea9a91aba1fb33b0ae37b499653c2cfe32cbedfc3b242befe716529a7e3dec533983a1b2e267fbe42e004ec458da5d6102d2f5b238da0a5e288035af52ced4b6be5427b05907571e79927a8b66f79c7938681013696bcc80b596cb73c48936bbd5fa58c8742fe22ea9092478a825e789af936d5f3806776ceed587ebd99f43c11b3e4578c6e2a4d460283bd610bfb4b66039e0792e2ed69617b519aad68b24a94b577b65d2b304443eee3a60f77b1a375d67c6c9e43b2a92826aadc9b4c15756818572882edf0ea7473c2ea1afc824300a783faf1f4d0ea4436bfc6239117f3574f381a20dc3151235bec78f0e46ecbbddaa1070e00f5c2fbb868554700a7ad34589f81cc0cdc81df65034e6972eff0db39e21e3f904988fb4b281beae02f96b40ece8640f64b3a6fed7ebb295441d3ccaf1192b4a42416f4aac64fb05326ddf5507a09751355f3dca30c055d0b859a603b36e0ed4206e22edf61931371a0293fbbb9397508c95173d3ebe5f168219cc6ebb3166ef70ce2d3760fb35767213310e10c6ac91a2f19c0771edff24ba3c68e44a38cc156b39a01885fc11f8f2e0ceccf63dfe382be3299425341a9ca94e72663fc5366219a65c919c2408a687d6f60b5b1e65abeb99c5d9b92d4409a6316b2dea2c93dbde050fb02dc5223550b20cf56b10fddf3af6d666ccca84fad804cc7c3c92151e786345193a66bae2983df3644cce29d113ea11ef5d520c2158fa397e0ae60b512c567e368024e88a6103d3d28ab1146d00358582339c53be0bc72b04e10f64b3623dafd88e2df5be7303442992d774cf2c2cf01ca3c2305f7b0044da9eeba00861d24ca811a7afa5f093f92d4d549212c33dcfdb22841c9f77ea7f0910b7d62f669567c6c74d8a45ecbbc1917817c13d1805e821c546dd28f1a3993e388245348ecc59a6c836a11289910841d9734be7a7082c205f51f009221d9ab976253520cc6cad0e99d04be760f67688e878c060aa7b37d458886554c6c7235ad569d925686f17d90e5a4d4cb6f918f6569989b398069d951ef78237b07f091f3aae4fbc2e942964c01236dd28241099027e6e7b106a364416f29920cc65e5569674bcc22d485d2462b5c3281f8e6e5d4d9144b1efda59f2d2ffc047369b29fd6325b44fce69fc8aeb5bd881ab9a9ced1c8bbe1157cdeed8aea19c8ccca0959618022f2a6b508b4386211b2b0e43ad1d0682cb9a887c7368fb75664153e9fe1dafead7af71bd82007dbf8f93536f08e2fb039125a7d2d1fd7f776eb9e68bfa4fee800f06c9479ad34e2beb1946c7afe91790af9ad3e368e91af7948952b2b5b7757b3f66775365c106edb6d7d71fd7db5ed35406d190d3ae2c0b87a0b50b5666a686a7c99149ddec8d9b530fb93eac7e192ee9222d06cd6bc9a853fcade2af9b6af0dc06a5b2f1d98909e92a0a8736da88eddc0d6879ff873ff19c4dce0dcd7e0064599aad9df2e0f8b70198f8d9f05860a0a5386876fbef74e82b67b83683ae584068d9b8a953bebd06c3dbc381ead64fc827f282b8e9771254340673aa659720c1513989f9074ecea87c8a28eb9d4da55af57089c72acc642021cd76d41c968fd638d34bad908b5db6d6387cedd98291f0e69f66fc3257848bd4ebb59d9d2953f88e5858a7d58de21ba01ec48c74a95b0f2724501afa955a61dd121367513b572c4119d32528f145fc27d94f1e8799d69619c2acf05f179b310f450973cf122363acb9c7ecafc55c9796f66bf1e73a059282eafaea5029ed5302447510d616b223efd674ddedbed5cf97677db50291f29788efe1948e1ede9471be02b00ef705250517cda53fcd1083748f533c42800c86c726ad5def9a9f3a66d27f907c4e1e5d64662e4b8f8281b47feb1fc6e692f5043127d6b8d925c93c117f653001f3fce0277b1038abf6ad010d6804c05e7c673a6c898c8c75503fcf436dfea52c2607756a26a50680f263904e10b6bf918ea94287d13879c07e169799d7f258d719acec35462ff19b1179967f8ffbf1cf4e5669f355dc09c0e4b183a59db4ef1b4eb1f55b15342df0ce44c882943b545dc675a7b86f4843b58ce73a22ee4b7d215de079295c2d4412f03025318784ecb4044b7756cfb5cfaaf4ea67f881fdc8d4d99a4387dbeadfa442a4baa31dc343dfd770b8a986254ea0904bd9469f39c1327bf14d268ae28ad08547c4f6f9343ea3a022ae19609e02f4990d07e5d2945d3704a68bef93169255835b68f0b5468a88593a490d200b33b1a35ca375bea52ad25bc18fe7f74ed8f12a25eade1bac117ccf2b85503f48478bd7b381919ab88737829ab4cc383e815de63185c30d8e5c4014eccc7f73443f943c05e69ef4b8e54c2d0f3057c5dfc985f5a04827f68217c51e0fba46da06cab1d4e77c8b430ef1b2dd6e8f01e8710945fba022250e4d8ff74072f7e3277ac76ae5ee1f5ad0489bcf0ff290fc288e328b4b56d56bc9eed694d540f8baeab6e11186696754fa09d18e05258896400bf5c6e32b2dcfcbdd447734d632c9f63944535b37e64649e8f1e313e3a4966be46a44bbbe9113009669fbf60262746391f2ccde2e5be5c63c665752ca35dd2677e3de80844faa6066fdf899a26f54aebcdbdd94aab6dcbe708ddad30cb1147936331eb4807d56a35abc1008eade7ef8df5855bf3bed913e9150f33dfcca1f2693e29f1acad387d4e2e56bed38c68cb9ed62548a36ea80c68820afe5508b384412049689c3f3e2193bc024cf8989ff6b03e9551348fa1d4271b7b807243a10e68df6850ef04a66411650aa1ecac330b33f98c6af7e2438dadba194faac69c6f3934e9cb0ecac5be2e3b30f1a7d1d58990c0c98e0fd7ce3491c0e7451babf3f49124b3338c2b06ba2e2f1cf1b6033352412de70b6376f722a8151412380d0190a096197e84007818777e967b13e1c7079fa50dd2eae682a2ebc596d968887e8d674142fcca3ddcd27ad7efcac521aecdafe0ebe052f6781d1a6958e5d0b8e9ff4c488d384eaf391aa348cec2ae9a0f3cd003c912cb1212cf612aec0f3e7a4a0d9e5781608d688d4dd9edd83c66ae7773bff8d75544ffd4317a59483418da8ce52b9116dd3a7f6942be990109c64ff54d6be5bbb986259663913d3105cddb3a49a3dc432f90b0da9e1a6034dff699245d4fe634d1d10f824faea164e641726e6183dc484210dc7232ba8965439055388c614a2530be7c04bd3863a1f8b727c6110d19c15748cf67edcbe00ee0f23a946512389abfe122587f95c7dff58cab2bf1947a6a6f232ae42bac0df5ecbcbb02f68312440c2568dfbcc7aec3ac4d260393af6b1445def5fbc8fbffa205feeb73505586d15aff1f088dc9951e9fa50d1baabbbb1b50fe155eaed4c1e65c16483ed0f327a059b9bd435c96285602f13bd3584e4474166616025c7d98cf19d95e514b8a6e03bba9412774562d4ca43c6cc8cabd48ce5989d5bc9ce685379b9cc522ee131b86745d75ddb177d956302fa1bdaba86ed18f9baa858979e36ffc7f4fd7811c8be700c69138b588317ecf8b4bcbbe3a77af233a5689fac51f4a9ba639c3d756bf97bcb4c6750133c998090537a90c17b7d71078fcdc077c571c9392efacce33377449a8ca8f1b4fadc4c63e18f9fd3a6664bc89df740f6d923c80945e635c143b9b15561d1fee894821d40daf9e17e1a3cca322012be03c1a08a3f3cdf22d1654a40edfe6b96260b9c12d82031fcc88e442d7f07331c37fb3a55b37722a235c2fc85e509468c060d06ca8b89a8dca6507b263bcc018b0b55ba24d9f2bf644d3307fa91b810a381b76eeb54bcab40f3e91a9da936a98d5eba6455ae17f07576b304aaaab431b173fb7a29fd729a76f9f0a144c7f7eff23639d9d53b6e0711a4c6ed44f9d05898f893205277d6293087eb97153ec6e4ea10340cd5d18e245ccddc61fea7013c6b7db4c40539ce5cc0cc886f34d1aa11f4e6bbbc8c9393273349c658d9a9511ffb5be501dbf932d18a49f16ef0ad6ed09cc75f603f2b828ab9d7ad56ded1ccd146ea2ed27f33ea9cc210a394dc8409cc379b3d33fa15e7056c0fbe92656f3ef05cc958f8a981eea39f845f702f238b7e360c1758cb7646f520ece8255fd5165d92856d53f111b39928bbf374cecc967d3d146ed4fe16d302e4167c6348b980253b1701f90854eb678c899be04a8540caa3cff53b5c2ba3014bbdfcca7aa2bca5f51cc2b7e054d9a7a9fc780e843848ec4854978de055bc152742b2f82ced01944aa6ae5638ae8f86ee879bf4a9416a04338d08a87d561dbe8ab32a077e6887e47cbb51aa247a49826377aaf88f3341a2e2a3645e323f12f12661ca6391844db67ea46f1f9a0c1965b535f082430607fb6e44a4ee93a43ef62ac7003f0e5446e9fc0b883ed5024cb2c3c86e1d47825742c21b52d1bc88a5794f7f389393a2bba4691e4ecd03f35e1e1d952560f67739f13794169f5428eb6544740815114852efea641545d8107ec06af5a4f6e3ec07e95dab423f2e1774ae88a385b84fc7adc61210e302b8977df09bfa11b8d7f889226823dedf946dd1b5811d8d4345f1ae4ac920b4a5f028b2008678d725acf74f1da7d2097000e86ed411afbd5727db1a566b58f636b5620cf845ad69094ef7e457a833a5b58146b46cad2faf657536594feda63c8d32f818b74335474546f1c076077898b5c67dbfa707eba558d2e215835ddb6339ebc0adf9079eec2b98149843d6fa8ff197f55db32f6386c859e41a100b2e0cfef4d12c1c2298dcc204ef4cb270b61b809fdc7e5a7f5d050dcc9cb62b065cd04db1037619ac078d550c8121927c918657e8dc2d849e7699fef3f21c7209c63888fa98486807098a5f59a70a22c92d551c67eb4315bc0ad3f6ec95987a6a54735403a3391386402f7fc2beaddbbe02ae134269cde45dc56edfe6b44c4cd57fb9ab9c1a1cedaba873dd99afbc5c16b22275b150bd95ef8ae10ef02ab5397319ddea9d4c2aa14d2773066b5e2d5fd7701c4f2edb9c1a39b0fbe94c5e4dc11589904bcc9a5a8502eda85f5b1a97514004a48880e830d5d4b157d111689898ae41319e80f17692af7a612f2865ac0c188a9b79f6204cd4c5a76fa7a6710b3fc27abd7289324689ba31fc6ac1de1810f7eac6ad01b39054a3dd37fc30b8da594a93ee1a6365476c7a85736f95bea3581eb9735a3827af189fb1ee1f137de47864d86f3bae9758227af9cb73f9129b84cf70e0e69ce70048fe2d0ba7dfd7f60d5ea4559c1aebefc003a4739ee6c119780934e0cb32568130c5d94578b1ee69ed3ac4d541570e29cf2c7b13e6740b5b376707209aaee64a2a9a61e7891b4651c50272c90d68111784b2127275643e2e5de4b1885a0dd6ee7a0e6ad86449fc352d52f9b692996a7be2986ed03db51f3ef848274c72b413c0abe002b0a5c2862fd6e364898259466838e3e87d7e827e4284b80dfb1fc2d35bb83a00f26f3228f3bd66481b45fb4d8003c990a515844b7f4b6b4c7b0f05f7696d58f50d1329d678a824b27ab3b3fd43883fa254218103219575dfdf4068e5415a6e32ceabe5dfd2b1b36109d9d6917e74a5f2cabce4079500ffef1a272337b2922f436083df7e6e691da0f6f8cbb8788ad0607aab1123e0eaf486c80f78b77412eca13aa337d83b41edcf4f467a816759bf05e57a0b3b3522847f9956c4453fb2bf7c6a6cfc98a4e29871a2c30ef387f4635c0ba8e794d315b72593e8a576001e95e96370832c84284c6cf2714e8ec353ce9db8e622a300b462d5d9d6e040f1353628bb9d13c90506eb15f528caf5ee5cd250b56124f828ec412f29b2a66679a4cc1459512f1a56d2b569b8a56640bf14bcd601697df12f8ac07fc59cfa0e974a65e44713bb405d90543607032ceaf5ed807e87857019bfa78061a652c6e048cf0ce13053b2605bba65200bbd5daf45c129e00db97ed5c49f9db7be7024600b71a71f60648949749b14f834058f208d9ce526c1a82be7473a21c6ebf62e1d803320880435c8cb94a436d97e71dfba19d35d43e5e44072b2931d4bea9a93035e6340fd47b0b7280668a7582bde9e99adc0832215daa54a00903899cc1f0c4dce3992ef2ecf44793aa77f330534a8b1efe0b920f4c303df92204384044c621b06200411655fbfe70901b164b394754e9c76e9a71b815980d1dc00d5c0911540ab611262b11ed9af2142741daf6d4efa1c30b626af86c3be7d60397a341c6203a4af6bebc3c04224942d632be85492a516415ce8f9e8b455a40bc8eccfe281a6da35ca2223821ed2ceed587c39a55b7021fb2ad645da217c9dbc99b8a4e9e7dded8ab665fde51c1b0cca0ddda46f0f7b74b58f8688986db5b1063d5a79f165504e8275c76ca19d9a48b08176b895e23a626954060c2a50823b52bb522f252983da06662eb7c078d033b349f5cf4bbf75171eb82b4180d8b21802ccac1a167b5a0b5669e1384ba875332d447e0f7b2b191aa7c41f83b4fff6a7e3003f0fcefbc9a6b7a22355d0dd16029271602f07ece8515324146edcafe88d0b10a3774b2894014a42f254e46418ec64470ce50eb701ec3563c6d83466e3a63803098d83073fcec0962e39c70dc37147c30b55d6e0b66b4ffc65ffba001cf427ec30b49412e256c8aa5ab0831fddf46639286743028bd3281972297be0f19289e5da60295fb345a74a780c30a76b2142f306f3831d827cd541b70dbfb6a4d335db537bf4b6048850282fd425a1c1767aca9be80f2501d9c0ef30a99f9a842ca6137df8c232ee7d9e7fa32c9bafb0cc00446c40737fa0a99d3fd33d5b0b6d16c23d91bac443a5fc0b9950b0ab09702d21e89fc7bed11b56b4988b7326eafe7af5c1f406cf1cf0738fea7d76d1cdbe8921a367ea80cb8f1d6f6d6e5601796ef4863fc1c480b0589c02a1d3bcb84f7df16002cc391b3907f60c5d03ac047eee02676ca46ff83f4fa35f82e1bca8ad1aec0b446deb1247ed837411e7b4bee83524fa4158874b5576a618a69cf4d6a1220418a34d7d11cadef85c1b74a91c9f287b73dc55e95f4b38577081589a8d839bffa7c2a89ded1d95668a0926293f4e5817b1c04dc89dc04154e32f9aa2dd821f5423d2f9ba2cc4d83acf5965a58c4895939e644607e3f31af8cd454487331f045b037c3fb8776ceb3bd536c6ac87fad06230fafe53a139861acc77c01a9d27fae15c3a2b5541bfb9453b1c4d1a8e64d773a07f25d9e9b1a80dc24e9186f146991b911489d7ccf6048473fa4c107cc3bda56d47f3109f1422861c021325b6a17fb2522d6a5bbe59301c9aa2e274d0a2779d373a293a233c307acf69ce1e68744779c6b7e38ed411c3be6fc688376beb281d0947b5a4f44684f30a55e8c4a3771719cecffa118835907644b3615bf537c9955a42bdc0106065b65d86633ddfa58759b67886c8e397ad5cefddb8379eaa565fb6be8abc49f225fd51d36e6649ec4f9b364b64b6b1376308a7821943bf33a84a02274f9a490ff72c1a231241da47962ea37b902f137b744d0ae0a431c9f8d9263d90cc5754176f52e16da63e0f642d82d33309b9ca0bc58a77f66d79753addcb5069ca0f5e0298f3ca3f59907ae186246733024abe1da9880cb47765c9d692b4eddf7eb45ede5c4359fc88f51ae84eed825d43c5b9766c4de4ad8a5715e436383d52701379d800c1d1f3f11b42c7b4fc22f410e704a417543fd20787b607fe25f9ecd7aa831d745116aa8283ac2f15ba8f786dacdb6ddc6919e1675ccfef5938a946a67f1e2eba59e681f31fdc10884d177b5b9da82c1d4d1e9973dec60390331acd9880bc94bf5e5d115db9669b6846ae959fc5dfd3617039aa018c4f4af89daf19f2c6ae6a9a4da326853514e6e147f147aeb8752dd26bfd6f1b5bf9461c8ed8952c18aaa8d96870caddad605b8dc0a66e1267a18f8e1bdbd1e4cf6df0dae7740e0cb6de8d11c9cc70b3dbc3fea109d61df7547809af86a762e56e4b4ec7c0e98c76ef914070e9285af82d061a62a0148acf086ef96fd979fabb6c01ce257c894958afdce15b535a9ec9be0282a9b2cdf206de4edee752aae233fd2a3b0c4df9b91ba6f23c5d2b5f4ec21240fcf6671e58d6a4095fb3922f90a464136f12f662b4b9694eac604a8bc9257a000179f875ac99190450718da125436ded1dcfa0a00f1d59398a679a90331ab1ef368326e324d57a4653dee8a1a29c5c7fcae33bbd75836420fd22127bce2d0f8475593c8b8945c14c72e8a57ed18de1620d0017cef129173ec75db1573eb0558f11bb36b612a5de9fcac5d3f81b5ff1120bc0a7d9cf973d3d012b190b3cbb8895b4aac3fb30d2dd3655ddf173e8be5bf4da08539561f7a7448bcbab8027295bc5a21698e44d4d44ef4591d90a72d90f80e2fdc7c9425981d7169061818b377fe7c88077eac01843e548c3f8f7c35c61a1a28d7ab40fd18eccde2403423cd599ca5d8f72283f13fd8b0d1f56aee5500d0a05d632884c5b0b2cd1d57ed4d6b948f2430714cd0a4fe8ba168187cf3fddfd6fc7fe71e28173b0c8f7d87fe58a5e1e59b9ad821239d65aefc98daabe5bf2a756f8a8252f06a3f0be09f105c7a317e15ae8dd8e0980dfddfb1a983d504b7d9618bb9d832d020acf6bdb117fda0a1249a6c25734b51fae7f838ac8846d219536ccf77dfb55b1432864a290713f8158c86957c92ecffa048535b530662149a539f4458f80d102fa9f2b2539f884d89363cf6c1334333c11832188c79fee5659df0793a66e53b0b3e220a6a7f27efeda839094a1f21c696a85bb6246a62bad210cb169df7bbbde3f2e0e59e73b0ef9c4b926d1c79877f18a8759cd5350e6a4dc22fcfe5c0caaf0e23251d96999fd4689176232c50575027dee2108034d1708cc5d56bb5ca0ff59ce6f4e9277302e352430ff8a23a3c261e538b27fcbd420d54516ceea2cf00f9f6d48aabdb1a9d3434593d347c25c9b3924f13077edd36f33799b95c27525b992b0635417678a73ac0df64d3427241e1657d3f186a9835f88a5e254cf45fe2051800ba210a72a0f1bc9896091ba0a5d9a5fc852c23ee8b8bd66ed95147516a13052d0bab16d5c18ba150f9fae15c47bea919c3dfa5270644f9fb41a2f441ffe65bf96ba868091eba63e872024d85d4af8f4c87d5a3791255dda38c9be64fdb3ead7ec072312dd5c9ed45d164a6569cce3726d91175faf34fadb0e39cf93dfafab7483f3bf2fa79628db9a70472257fc979cf57bd0286def9247895c94891ea0353929998020cc9ad5c7a7edd4d5e85e69546fcef63531fd8d080e6e64c55add6933094bdfa54ce2f6bea978fa2de1db1d04bfec3e078ccb9f4287525c2e07901795c187dc4a32a4643b41aae242cc01df69e2b321f9d08880767bf766780e88156bc161a97d6acabd04b7e292c15c86e867378ed725caf88796e3ec97055294d82568be6fc39798dc80c65d1e4256bd94e0d157dffad86ad7d4d55ff7ae20a6b9cee97792d41e9682872d59387f879ec361d4b936c6566e26ff5843b59688029a2b42443703cf20eee0036a135733d581c48a0393e8f47cd5dbf1a02d848b6c5028a059a0a63c92a3beb6b2ff6d40c909c050c2ca5c3211b618f6d42409ef8e6e7be200343de384f74582ec424522ab86d235d59a2e771db6d50cb59a7df593e2c048d632f9d53a338cd3ddaf3e58ff3e23628e7cad72802fbc2c1adeafb5b86c48e73bdc952b7bd66a03ba2a6a2c5b40499fb46c369772a14c143084c7992373b0bc2e990b97ca4661e5c2e90268c3bdae46de19ddf0cc8c9534f2bcb60a28daeafd6cf1e82b719044102a4ee285e47bac8ea7d3fc8419a1849028f9ca993aa872b3d362a9e2d48103e8057233d46004ed87c6ccff1bbf6b2fa89248b645d6bc193fa616012f218521f7081834cbb61dbed84339a9012586d13b0b2d9cd8419c2bc229f0363be0b65582676cfd3ac0bc96dbf46f4a0ea7e39371170ce38deed1a91be36a06fcba8f9e75f582ef61d6088fe32b31515937b409ade275a6089adf32664946b5f58b568823edd14cbf099f1794a40025febafba4ea73b7d465d45ffd0c7a52581246b42b54412f24dbfa087b0ac4e28a7ed5608136d1cdb469b68bdc6d1d59561440f185cb1c4585eec5bfd2b4fbfaa6de6554642a73c9fa593c2d22f87c95ae0906887b82bc0fd147645cfe63f6c041cabae5b071cd154f7070997e5e11f27727bc148dedc507e83d7ea9750590b0d937fe0c4f7bb03a76c961e78501a261c2d066607275e943e0682b5094a995a345bb831d725a1e9cb33d6d09ab18186f372f8f27d68ffcab0893cec2f730709a6a98d4cc340bf394a0d2168804f7d72876e1161d43f03b9ee4818fb0cac98b6e847274e83d7b2a78669e35916742f3d8859eda16f2c8d7618f16cc81a5819899c0385559253ba9c0999cd6d876924d9111f80d13b8ccdc484664bcc6bd45eedfe1233d76b2800409c47f7fe46937ad3735d03506e61a2c6a6884e935f07ce3ad9cc9003cd1446f0bdd222f4763dec84a1e574c7301026b9d22dc12e0eaba0b5d968ce52888cb24e90d1bbe4a679160ca6d96a248a3e68624f4a2be732481389e0ac7fc4ae28b32475e6f3f1febcb21368ee8340533063aaba5004926ba5d7006e3304a3aa77de1f50ca0f4977f7734aefc24bf95c34728acb0845304848ae2b4c6103d8821c7cc281b019e08b93f87a069a458da00180f5765e4e0cccdc194a8edbcf21c9b08b979b92e002bf60ad70c587cea04995b755dce91aef13d6c4a9cc311da961931658698779dae056bc2d27a0f71c7a7137b8bfa15a57288d8bf66a37eb04dc1569be3f02c60ef981f4b335ffe46d5a466f94332439c6bd855891b22ef2248cf33b8d3cb39bada315f6d92aa06fd5d5cbcfc5e2d2290e6b2cb81359ebf0cfdbe0e40d1c7b9ede87958f37141dc778249554a56fa8f2f543898108b94e0c4a5d92a2d079c5fec6fd3c4d7fce3b3513f53069659fc9017cab2fff23c925267b260ea764722a81afab9d360668ca7fd84f763111ac847905f9b7e3a158e1463f83b17a24cab3a03349d8f233eb752578bf3aa8a1d8f4de76312e05b22dab32d25daa33dc47c2b095e8de06678d294e973f98cbc73896c5ce22a174f7f8873161262347fc5e8801c3ae5ca97811394154246503f09cf2e8ce2ad3f659b7374208fe2aa04d5df1dc55ee4680a33a999b7a505a50d8a44f84d9e64343a56668aed6c28c23e19f93a631de3fefc87bae3f3a7527c9aeac8c3a71eeb2ae6036d77cfbc5e553ccd254347a09fb3c12b9a72d5109210eac19bc27316b3548aa9e4aee6ae32675f8d4904ecf0a87be266d64fb2f381d88be01b6869340c840fade97e4e1df8f68e20d1e655f6c50487c77d1b4c1e2cfd5f57bdf4efdf700b3d19436506fe8171d3761d482dec55aa131872b275fc42f31ce6136f1c31e6be77455c4fdbd21b82ad34b3fca2ed17f219e7685dfe87052477250641a6d7b6d327cfa97e2d173fb8737e2247b6e8b81a5c9b9cc9fa19fc25848fe01ca62cc935717433be11d9398917f0cef65fa959dc047cd15dd7785e32e10a37b44d6e74b577e89189faa3d7e1f8640d2fb31e50a7929949be4307830aa61affb1411c21a343be9783358bad1e6058ce049577ace561a148e455410aa3394de9bf5bbd20f047bccffa7731a8e041918d11041c1aba42adf34e786a63bea1a9d839e22049846c2d12ecedf1ca4fa23e00397e6ea920a3ae6769c2dce1b680dd5b57b2a68028327034f470e76ebf89366a5ad3ad80e749c4b428984e1249964ad716e5986a5c43089a6167d6b6f53801a66f9d39608e96602aa78517abd8f0ba09e53bfdd0244cbb25f00014f85dfaa3cdbaf1068f5dc36fea9c7289db888f3dcfbd092b59951d7cb8348c584ffeb8885d9e9a2c4c6523d80cd60dc4790ab291039e4d69b49c2fd4365301278a90eeb32607f52d298dea862ccc1df682be98eeeb8f4ca99c48cc0aa58e0c7450dc15626b01775a2ea96872b9710c8684ea887416ef9fcc7424836788f213f6cceb3b1bd6f8a19f6f21e06888778e4192043823fdd66a72234c55759b03fccef4eeafc5e34e0cdfa8e68d383d27eb09b5aea8b2bc3e7319c15e9b9371c3ee2cd07a90cdf1a5a11e14ef0f679ac795cbb3989943aa6e99471ac6224a5766d0b472d0cb1c5eafee9810951d033cfc1255aefca6677a32952d4c949a35c703460cd941923626f042c00022f4131eb919fa4b79fbe624b78773a23b716831997d9248c6c9ab68ef099e158ca015ab77a95f884a3c51a64f877d8e4ba4a8c7cdfd5016776e0fa1432fd8b72725f1b4482fa0dcb1e489e146204c683f5d682a7f39cb0717eaa6743449fbb9e0b327f0d0a8667d7b7232c4e709f8a214bc519bff6a5dfc40d8aa91c784dc8fca0e38df10cf8e410240b44a18848b9756cb5c747a833dbdbb682a78de4092874ede47870c2d8c64624a34fb76b37ab8e1dc14a21a446da6749da22a0c7ddfe7eaba4178d365f061c23c35249d94017475562dcad9d24a103cc578fe8590193ea05f3ffb29756e742091493e3e924d3017758a2cb5f1ed3ee882192d51258183b8c2cb5dae3ae47ac7d3331960b45e978f3fc4935dc63488a853e7fb6ffb16043e883dc9a0668aabbc833fdb6ee9c1a4c4a91ae21a98bfced2be63a7b4bcd615c5d20bc558a931fd84751e3a0244b941f9644c33e73f9d1dd923720f6bc07afe3e90695714e09d2c35223f0b500facd6391a3cb5f9dc585268107c84a732581f6cf7c6ec2e7f7f3101d7260c4071cdbb4d63194c2f67d6c0951713fd49c5659912150ecd853fed80bd35577956c5934dd846ff26a8a69507ab82197e0a204727485ecbf72c51c006c3ce3657a91ac111e5aa6ae3b1a2947280d27df99d2e1b6b96a5f697ed5d8daa44a816d4aac87e556cc3947a3c9b1ea221a8b1c78ed6c02efb9ef520b316ddcae32f730bf07eacd7b5bf2e07e178d26ae4d78cf48bb81e0bf9233b6a1f70c3be7a61516fcf9efb8e56417d5c97f678532cb4d6c7f19b6b46c67e133c1e2a4be4bb99f7d31a948f96577402fdc4a85e4e3117ae1dc3da4e1b966c6d3e9005da530fbc53f96b3f0f641c92a779d3aaeb17cf2074d3b2b81495a5f3e7ca10caacf2099ad26ce452b38c13e8e82c6e19536bfd68ac214100902bb175fcee77d4e3a625aa6ee39525f9ebe34d3a4f163b12baf4e430d52e198b785e8ac2d1a1cd326d6bdfd5990848e186ffe2e5573ab99634a54215852fb0abfef720d77efb6029bb024b369bb133902229075ce40312777fe9ce56c0fb1eb49ae0f20b0bf7fb373ec8ca7141c8614c3bdb4b06d2afa426408614baa9f21d0e5fd417156ad623e6e62f260b54bf5a4f8359247422b18c01a7016da59d06f88a82b7e4f7dc0191c8e79a84132b74dd310dacd4854fb0906aec2f9c7b4af1e69930b5f9eb2a01bf74dca946e36c339806ed5407609272fcdce05581b6543ddea351e3dfdfc1b32a33fc8934110a539da2b7e2528f5f80949765eab2c177dc1e22dd887432e3141b8bbc5f44902ee1415307be553a810f94a5708aaa5aabcc61887286bc8addfc530160415edb700459e1fad1ef9737dcd17fac6b967aad5f32467ef406ac3eedb02e209ef1943998e636505fe27b9e08a53e1485e4acd80f32e4eeb2401db2cbd4c39f92d7a6bc4cb86203cfecb1b7338a96658ebf0838a553cdc39970f01a7aea6053b86ea02e7f0a68a2bd02b431b808379f7b86476006628a34d9a71774158a299c39dd0a74f8fd82b7f2ca5cf9589ab7ebab930f15e916da6a3477ac3e8f7305a494e293c9f877c4a98e3aac0ec8b811bec086800c9df0868b4fd3f79f837002423ffbd440eef6c8cd29b19c1114d5058cb36182ca09a580d1d4791b004bf6043c5fb905b2664f01e8819bcea9093b475755dd2897a3e5d23ff4f70491f6aa70a5256f09e6828e4089c878c1d9b044c206fc37231f970a126d08902baa48c805f9eb24d837bc7b801a86078848d02c06e8902e010132a79823a2cb294219afb6b0efebc8dce3ce94af320817b746846b1dbfa44d867892efd869b615b0e8b540aba24bf0d984abf2ef15841a3baa80d7cebfb0a9155f6d1322d7b253c35ad0ef31146e5829c119b2acc716be1b4322470dee356ab0d969081d7572942230194986ec025ec3b9f1bd6e3575dae33b9ba50ad74e627afb4a29928fe6ca60d9daf09bb268ba95ce6b81e68f776b3aa09b5cafc4a5abd4ca1581c6443e993735b2dd9f743bb5bef2c8fc6f14dd55fc1460d7a375db7656f05ba67b7d4744487f3f9157e594869c2263feb0cb7382eea2f159a116128af43ee7b61f9a2739af4ae27fc71be9ff73b09d8f7e702d4fe0db0ab88e75025ef88c78ee77a45ecb866544a7dc0cf5b883b97f8a6b5e045fbceff2b58c176ab073edcc344333f6d3e4c041200f669eedf21b6e00829af2e5fbeb5213da3e4b9f41a2b4f3e179dae5cee7cd098a627108200b45054717912dc20bc7943d52e05d3b7cf1e7ab1587ffea7ccce317d7951f1035d44e32bf2116ed77cabdcfd5e2a25ad4d86bf07239666fbc5425a02da9d04330630ccf918b3f977237573b7c72b45aef1879b489e90ca5a3ba7e462850efa4fed8160740535f21e1a78eccb8c48711e5c513819a375c1dbfda41f814103422f149dd4706f9954108eab062e03e452899da09f974914ff3b8e91f9652dcb1daf9e0d2723691abc83221b8d887ec8b15b55cf78df235fb40e53306635d593c630d438361bfeb6b6172c716855fa88f591010ce3d9225ad1af7ea9b2094e3afb5fb38c19ac9ce3ef3e56428bece5487ffac9feabbe0a43ca12aa1b2c560531677c8a7e1ea30e0c66cfb917883324afe9e4b3e134c99e1f8359c2eae1be820a7d526b0c8c00b773bd8b99bf51c96959c8f11257fc99a930908fa908b2af05dc21fdea173ca66618ae44a9c9b56376af28d0e0bc33de91924c373697127f9699f664465229fc3be1340d9652ebcce47f48b13a189936719170e1ee761e0b12a0effefaa9f10488e33054d9caefabda87ce5350d75d31cf7497b9de21741620139bd8384d7a685b97a31ea2eab0e0c9d3d2d6da3cfd97ba643315fe01418170ba670ce783e8e4a251d8b82862e73733f40257be6abda8daa0004c04eb110d3d2ea843d3c12fdb83937017bdf44afb0da98795bf2f0bae2e70502aeb1cc28de44ee1de0ab38bc886f0b82b36f522a50f44a960ef7aae91f3014ef923b3c7faf3d7a99eb163c8b6367199b0f700c660115df09a0b303fe81d1b5ea65ed87246c752fb86569d6721ec6d563dd82edaeb669dc4bf947313da76c75f3be55006a80b968ce1753b614194788a7949884308fc7b655558a084290e538f3928b4df89677b3600162f4464c90ff20e0346ea3a4123ee6cc04c4564b1e1ed197bccec73d81825d6aa34d5bbcdc6240db23ef4354cfcb742cb218bade0ecd1e7549cb94e7076b781c1469bfe5a23c0b7f63fe7c86d96a84803863a1ab718766f96c10f070f6123893660afec6fc04ab513c23cbfd139ece07054c7a5feccae4e90613dd44725af46e66616be18ee9e40a39234adb9be4fcd8058b6aed65b1cb06e2f78291fbcb5b4f25b698aa567fa6fd6a9b4cf21929b10ea91c69c7e560f01e0d41320f17c8110818e7e0a4483b009d9ed1861ce43b15080ab3031890a2f5a3281988f89ebd5804d019c645d5061cbd3356ffc0a883f14027344bf1e55fc7c4cf7f7a2485c68822e4d703668275272e51fee013bc62bad136f50781bd0c7da2d0446ddec6333a6dcd904b0df1d4b05fc06cebf598bbf818780777c79303973f1bbc85898f2630fbfcb5543472dc8e520282d0b25234f1fbed562e78ae238c2340590286c853ebcd42fee3f587af5f76f49381d801b329c747b88174eb42ddc6b25e726a028bec5f70299dfc77f688eac1c943e7f191104a41abca039b3e89731a5811066ab983e4b2542ce38b0270c26208c6d36dccc0c23e23b2d2d6d37feefe76373ad3fea4482dfd00568afc238476f4c547f6e709e55c8d4627cc4a7a53e6a6554850b4dc6eac7e9ebbd0bbc516194bb8c61a93a4600fc59fb3b3c3b2dca93dd75d6f6411275b50e34dcff1450f952517568aeb31d664d10581861d45f47dc1d3c9368fabd72aeeafad47dbb3eb944840894558bc03dc7b4b6774054944a476faaab1236e4b1ef1c58fcc5a3a7a890c262f8c3e5c822d2e291cb1c1bfe818c44de6e4838c1b1b88030c7ad5555b7af1444a01fc05c38eccac3b377e154a8e30e3889f04b0d8370891c91e18b224ba11a0c1065ffdc9f840a454956d61eda0dfb6f313d8473b0d1585e65354badcd4fbcd57f265d7d44f91d7068361183da1988f2211acca45c2b1a68f9d4b62666b85cebdf0cb64d7217996acacba0a750fdfe503a5eae1d895649bcfd79baad9355c241f7cc24fd57ffa0b39d9a4b6de96a4151883264006bf63c0914d537d95b2f5b89d286062ef52f7469368fd86e13ecbd1620bc815bc527f233821e30f558cb7d52343ddb8facc1aed03aa39d05ef63178b8119e148303eb793a6550261ab1093cb6c46f9222439d7fb2870ea3e8926a3f8d18c7c8187501c49c63c88baab9b402124e10318617d30974b1393b2bf5c6e3102b301ab29671dee898fca26aaa16a6fcfa360464b04fc208c50eeac4d931747530c29ac066bc20f2125571b76cc43adac40621ed71641f3a4f344168462e9157a11cc6f0cbdbbc8d10e5eea156f1aacc89cfc2adb84f98d0c6b4183658f5c5b6a4dc581af800f4de56b8cf5dc74c25e89e17cbddd92b3b8cca3e3b4fdda6a9f46c71927ca32c23a928efd20479be8fc09a24e9c512e4b9d5899ce505e05775ac9522a193f06f08e933a116c9a1cd0b17aa1f05915f519bdcab91107f17dd9dfcbb54c5680779a311d5b6865f229081e63377b5405d7f2484ced7919c3adc737784f06bc054d64116259a8db470e189de7f8af81e59bfd097728208706ff172c6987275c7cbea6413fdfa68882869ecfbaf0cda86eba126040d97ab1f25ee522abb019622f89d0f10d8671553f0ae65cb6f6c9ec1ba86e71446b868c97e91312dc343f6a50089d7f21dd60e5a4971619c042f0fe75b10791977c2d18a41d6927bfdbf0fff0bd201926d03192210e02978c3c8753d6bad889c0b931af6e966d3287e420e7a575fd79eb51275dcaee9de90430c084bbc578310ba2eb2e6f3c91cc94caa550cca2bdafed2471a8752198b04e7a7edd724d6021df49803d18340830cae9b7bfcef6fc8c290d60f33cdffb01c7029cfeb2ddaaea2d3de62bc582823e5ddb3ae225a1032fc863c1f2ae33b6d4b977119e5acde16a06c6bc68606be8092d24f9fcd0e7212ae529d140b5ec09326f76e20731067ae407cac716d7ce56fa26acb2f11a1162a5ad010b48f111361f40753c2dba7bb0364f195670f647c67f272e439551d31bf58388f58dc538b918c72c6ef921a1a9bfda5fee815aad8d9322b98fd8e50896a569d027741f807ea92fdb74f04713af29024ef19fdeec73264c239e02afa8a01bb2ef1f468123dc92b8864f773fe29a1b5a868b3b5fbefda544c488c589d86bb71b7a42496546454ed36e8852475a4b0a2bc5ffc861cef537ae375d1e32fa73d01c6a4aabaef57e81e714d1a13738f5efb37792b23d6234da00dabc6596060d485841a7bf1138da44ebf8c61180e1c057de4b977607d46b2b7e2627cb435f5c41ef098f28d43abb60a5b2fb14691fbb17a2a454ee5b9df3c2854d826f76b71ab8efad13ebe911888307927ab05eb02f3e4e4e9fd821ad233c516128083f4531f95e1c16e709b86b33bac9a90475261f4789c1a83a3ccf3c6c56b19837cfe3bd699cc16f9cf0ade7b9c83155f71d5ad5db10412da6e0a3219831f73b87df59c5076d236fed78318e0bfe9f99e5f56728e1299e005be153daff370560b897af3749f87415868f6d478c87b44462588886102d5bdc95259b2c4d7a7871127e904e8a52e35cdd1222d399e54b772e41bee5376e758ae1f2b69712baaef7caee9c50edcd5424862181420fe51805de0bad434cd965cd1ed9bcec8a92a712d94134cdcc0319f938139cc68aaea8b8cf6030dd1bf7e7dd3379e167acaa127d86f4be8edb54c7908f619a881f5f7d9f2a01b05b973e2c1f856742613be56d836ec423652895d586113d2a207c83235b39d74b871055fdc3545c761ec4fac60313aba3a173fc7ac4d3b91bcc144793680057789147cb5ea3f0b18b4187aa6ff2b41d2f27d46707e2bc9cd75dd02a775c91528408de197726db6d1b541b3389f9afb2f3ace5bfc5c502776e6a0d4b6dd7126c02d9a85ba17290fb3c9ede24973b653757dbb53d016d14be634f0be21e1915e4947cf33864ee5485c13a848d9bdf7531cc88ade0cc9f0f2314e65d2b214517a2c875154fc0f3ef5a06b233667c8861ae5cdbf49b1c94038f5dad3b52bfb6955c1412975f0a82917eb44d7bfa5fef1832c95450c7535c677e5720857466ccb2caf106896302a7b17c661ece20b02721204c797693dd3ba9973285bb55ec1bf4ad216a9f3f62f4bd0b629e3f4701ff5acc9fab92c254006e76855ea071db0593fce5f240cf4f491c8e9bffcb2291d2cf14","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"f3f78fbca294952d1b1e6597e3d22038"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
