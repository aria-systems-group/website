<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3900ddf0d05a5d3ca0c7abc461de72cead9c3f4761ba406dc5edeb3bf683d92eea43494773a883c3ee56af222d139c243be82c6f2573e0206a6745cded479430cc531742373db2465e72ae9d43dcbc3e0dc98ecb871f56f315b3c450c38515c09e852e5ec5aa5c0fd7ee65a70f7ab06d6e261765768a137e6331a9abc7ece8858028713aedc32524e65fc1ef92d66543440ff6e5b9934c4dff6b176096fc504c90284663a3214f9330d48ffe6a049343fa21fa22f8a4a63d3224a112a13d2040970c87066d3d169e99cbb1dda381802e875b2d1513c7c7b7b8c099f151d530ea151c286bc9a30c277b782d2957498bed2e274455bc614df1ea0c2c4cd86feaa89e7aa59382daf2e4e6a6e9eb45acba58671a70e9fbed1080f532bc46e7d19ff9aac929c509b0e86670a6f5ce0abac26a284ff361b66c58d44abb9b9ca6128efb9b3875833c3ac6d3b98c83f439aa54851f75d4905dba0cd9506c4fc38b6ba7423afb75f217feb65db50239bf46cc5875d6f7bf4398b6212c971c5b8ab18b5da5860b4b0b7d65a067525e51c68f7eddbb7cd088d1b57a5c2d194c254c3cc841832489ddfff10c3676ade2359d2cc5f5f065a1f27998cad3edee6ac806d210103ff366d91628c0c2e6c8fef2778a7ab8797c020ac3f2b6f298447f135c96be353b730e849a7a3278ce66d75c4dc536bcbf9c9136fa9049b29cdfbcbb25c4ab4e462bfabdffb3359f6e64a55227ea77f028f2ac305153500c1fd5133aee91d68cadfea6c5a4163b0295474768671b1933a0f4837e1b77c346c70fa74990559b98bb5a8f5ad5e18ff6c978e52ba1fdf91544fa6cb40e8772d2d6728b6d23680115346cf30f82f457ee4a679990afd9ea2e9ac907ef73c66722e9ea94de08b185def3beddf51c156b2a02dbe9c2daead2723774819421a7a1c9f3ffab16cce5e3ae506f492ec3680f8fa37b36158ddc14977f438df20020e98fb11b2ef89cf9855f6011cc26a895cc1f195d22ec435feb6ef675795836e15242e4651bc78dbffbeeaef40386d1ea09be86de9e380d3f0e78006e569f0b66cc0c86888907946351788c5f9eecc1c10a156c8ee3bd1c942eec32218e2c482eb818986b7955910d0b0bab4b9aea4e630e4cea1693f9b8dca39a95d27161f6ed7c226aecc60a90c8bd3a6768c68e1a3d99867bdd238f126196c4584963c27dea897ba76ed69249af6f6799839c5e8632e3a19cf3f94e6d90b7ae0da2d6816bc6f802f4d8bc6370bdc8dfe75c16ddbedd1095a7f58877445b0e0ea5127d80a066d020dd5e0ce347a7b00a3052e386485cb57f0f8e4a954d6680d582b6eb4018b642c3b25ec43281bed25f77b135e0d3abd89093e630709ae6ed53cd05e6974666dd202ae6f38699b309436f4bf9af9c0876754c9350e91c1a5ef4b0fb38efd49a6797e67e3eb4484de85c3addd104677e1615bee3b85a7448772a48d9204900c87f4c0429f500573e250a9379cbc21b7f0ee4f1ab5b45b33ab278392036474bf4105c53f197839153374b21cc79a06fb5c8b1c9be059bd97aa22669c5f0947633490571a3e1a884b5aae353ce2b116b1f1e34d40ed9a4b6646d5602750546a3c51a985e59552ab0500b173ab9da06f79392a238f2d8cab762cd46d267dc1d0173a431c58c5b07f8cd83b61c90494603a82d2f5dae938bca1964bc34fe6f2f1742542952a5a927e06d7920cec3b930413dc66582f6f6514e20ee6fd88d5c74d8ae053bad6b87ce616319a43a0fd0491b4211e062c0e0794ee7e942ef42c49684fff08c64e084ec3d709d381021fbe3a1322e98525816a4d04b879f45008ef98329f745bc11c96d0afec95eb13d284f48330bcc9e4ee3bbd9051dfe3838b43e9d6c0113849c515480a3636c83676fd8d60afdf03b191686a1d1f91382fab2565d70f39d079760874b69c28be7343fa6911b306a48531817bfc26d75bd6575069023be4a72f6047dae7a313249d105894a4d9571fbcf0602b6fa2e372a17aba57292ff233ae2c6797003655ffc1ec8377ef5679431c9f89183068f20f4db0b2f13236cf7f4c0b9408e0771720a147a7d08ee236fa8d18062188cf63a5c51b848f6097269e979ed3da7124418ee430f7328f1dd187f1fd556d8028d9edaeda0519efaf61622e510f617f5efa456dea2077207ba74656db312e6b85a2a77c51413e029fcb908d8331e95fb82e04cfb2006768499b7c20694558bd90ebf9518bcbf9db611033b1a61f60bbac4e6e71b0346f57c790186df49a30fefe1cb2efd143de600acfbe3cb78ee5933e65c21ce2ec8a44d6df53a8387fe7547696c6e9ba6542d74ef0648e7aa7f6a9fe348ef166098ac4ae45e7fd14f204fccb18695935a72e7a05b9e8e44b1c741ca51d9afbaf76c735259d15335c006991cfa25d8941673084494f6e706bcf97f032bbda6a8918808c3c0c56ff24f99f25ec2e5b87c1ed20f68c9a5efe974c1c6edb8eea4424d0211eb38bc1a9a611ee65f6499884656981c75a76dffefd80bc2136206d0631d6cf2dc7edfeb61ea4b8e4f7144ffc3aeb5444ebd36b28d81646735914f55e4af8a990f1b822b3368d13e008a358d17f06a33aa19bd834f20459dd67a3ef32eb24d53da2563bfd26cdee63ada627409f7769663587daea8fd6dc957d09b9c513dcd78ac2269f640e5253de51abc8b0b868b8df7deee4d0e90b7149d0730fbf22a62943a09ce4d22154c829e2723e0db1a9f8266d2de68349e1f9c9c1280b131261d64fc788ffadcb554aa6fe2acb69bb23b77d7e473246d6ad22bd04ad1d2286e9c3cc2c4feeaab02f7965ccf878cb796ddcb00f3e1ed6f2a80f8d334c31f1bff174ccf027ed65dffcd9e2df94221342d17b4f40b0ed823e581b4172f31728a4f420551d701481f2690fa14bc06ba76e6bfbac409ad5e46d24e2daa2710a9b906030ac5a855785c349f17b88e324eebe940608c164997a4ab66e73383afff937b026b8c03c8e6ee783b75da6dcbd6c654692d2ddb3619b72f30987912fc09f0d54b4706127eaf2b8dea49963845d7d14ff7fa17b9c1a4dab64087766d2877724d4be7857c74cc6aaf95f3fcb33198336daca5f1b42315fc57eeeb3c4dad09850ee61df13f389b383e3d977302146de05b4d88a6f27a8714bdf6ad5fc6215277f22c43395d649b88d0dc0c3c18492e1ef9ffb91e5deca9da4d7cebd00b9994b6e91cb8ec444d8f9ca9d72b92869d045125bf5b8819b8b9a585d1f0102bf6ea86cfbfdd0473d6ae6567ce5d172a44058f0658911c331e91fb557dd904e4c02707d3a93bcd569019b037f2c663ac6b3242ef53749ad1582ae5f9ad32dc616f1bf1a77616e0188fbe4a2b83daf4fcf1276f51d0f75046561aa637993fa8a9839cb4d08b2954e98fa0d9e8fd35a7eed8a303084243c6c00b7721fbd3eb127f92c9fce2cf04cb1718a21f6d2812e504b9c63c371dc5fe500da84d6a9dbdb90b00c4be4a758c5cfbc4231d9176c95ea3c21583072d232c097110b20c5cb889aa1ea4bb4e27506d2e21d8387576163f23de5a46a829cb070113b3e61be59a4702ba152786a0b8ffb20ece1f540f8f39869b9ef480de0e16779b4bdef74b60a17b67d62b91273aab0b11662eafdc7a6a631bda136a6a95146e4c255113263999543e0db00ebe72787bf198494a52db46b79459d298637c984a2877082aa04488c5022a6f06188c43ea81b5dba444d09eeb748b33046b26087d4e834210969fd1fb2230775d9f97fac98449344a3262801d796e3891293203eecf0d70bce5b8b95659f801625260e514260e08ba67e2c719561514948e309bbe194d72ea9cc715505e8d96326b532068c1c7169147f75632cdba8ff615c94b82e4acc5c9851bc914ed83536f2949aa27ce3e8c7bc45da4e57e2dc3edf3bd45f59db791f95a0b26b49c6e12a94349db44db964523a0e809aea6f24786a0692b160c1588a7eba2a4c3ef8c36509db4d119a51e238ef18bbd3201ad0daa407a868e25fd327dfe8b8bcd840338178a8c279bf09012d9c058e5b791dba00172216bb020d903d5c8c022be822362a12f2ecef5a7c8c6a24b93f26d9f9e82a6990d044a7d21c5acfff1c18e3f5e7c7f1cda3a029a03da78f8283ae6039bde2d6c4fd52a06d1d1ccea91c5bc413eda9eabc43b42e1bbee353065c2f1ba91f33819b9584ec6f6e17d7a3e724ffc62c8204d9233a438b7134d279699129f9687ffe3a51dad72b8c4063aa82fecbf86373b100a8fbeae02025b442ddcc361fab8074c33158793f063181c2255872f4aea847c76b9bb933cf8be26a14354603cc111eb46c0beb676ea4c483cb6ccd92fe7d2ab5c10044bea43a17336bedabcb3c8434ef546719d4aad0a56fdabf6022c0673818b69425fc4b60ab3be0aa22e9ac9260aecc6bdf24a0f31aab0233c12b65f0b359541ea05502a7f51a1ef3258a6742f0053d9c37fe53abc7f132f45b8e791f2f9c739350f08a2560a4683c9dd8522ca0bb7f3c021b7d277e4ad021a43de00561e29df2e5f3d64395cb497131f2808b8a70477713a75d9f72dde5bb87157b8de025493eaabd382e19c59e86269c4a49b5dd3b9a8708a38c6267973f2329c26a980dfb4b820cebc5985d63f4035d65ce83261c41d7298926bbd59bb58b86598cfddb5cdcdd7385a9c6735333ddd5c9177f5058ad9c8b462fd23ed6a43bd935942cacb8ace9d25fd2beb2ab93439448331bb6a91db1af02a0d0814722b0aed10176d997feafa765ed861a7e49c69e1583c70007e5b1cd6000d0ab09a1e989c3de26bd472c0f1a48844e83a7a10812b346d66e0883bf422858cf02fb8063f6fd7e33ee924934c33789ab9bb0ec87be9f9371f492bc82b6afc3c097c254748d1428b75edc699e6fe9a08a5c2eadc269025f2a0fdad4078af3b13772d3c498e0fe3b2545496326e51a9628c48f512f615b9295ef9621ef00557ed96fcdbf9c06689c92e78333cf010c567f93e306fe2569bb69f9c04458dd8b9bb4c52cc2948164da12efe815c3c5eed2930056c711e42bad471cc23c3a629cbfa8bd62419ed8d968bfceed8c7a1c85b2038d7fa481fb66095652e42bde0e27b69eaf81fbc0c549e5a1bf11199a6623bbf24e0f1851009f946d603b306343513d9fdb17b1b4634b16095fe08be51a728a50d7c73934d1c40a177fe0602737c5ee8ff3c57d21a608f14f0c2e75875908551c845e6e0bd26e13be0de05e01d274a4322b370d22b4cf2f1d1fe16cca36af2acb2a1a5220ebd2dece25c0c225a24fa5e150bdac3a9b439696fc4ed7ae42841f3d6e13629c52adaf985b29d1a55948d54344a33be589df881ecf29ef9ea34de338def6aa1f73431bcc0d1e56eb4cf79ef3552c5619f2c71e029b8bb9aca691bd58ee97a860f4c95959c90a8715459afd609d66d1b26c3369d5d795dcdb32e57d3e30cb7682752a288fece5da6bf6b565605aea4431ccc219a63e663f85cce73ac440cfb44a1e2d0ba3900d3988045f29618a06e85ff1de33a42a84e727cd8e4474d492c397ca762cc6dc8d56f616fc671df4d2f008ff6151903f09b448286512b1459d0f546daad804bd85c3dd4507f263b64ca9ea5d93a19d29f006e5efd4cfcfa1ef6dbc8d1fa9009b44ca778fadf9dedf4f339d3a9eaf29b63c440ad20321bbbe07f665546e6e06abf0b464bd86c3bee315fe48fac46b5cdc8db05237950ef789f758b7aeec5b2ea6f2f93419bfe1449fdbcaa495e536ab02f9678a70d7939161fb6ca506ed2222d6c320757c3565e0247e6b650688b0d827ba6770ccc62d1427d31a45718437b0039259cdcf51268a11c8bf015c9e1936445ee9ecd4a42a09d1df30cf6eb326488e9b96f391bfa08a8e6428a253cbd2b2391252f88a4ae9e0985a00a62d50c8ad127e716209abe8495768f2cfb450b141b2feed9bfbb3a45e640912b26bfd1100f0898be62ceb092299d56ac807b1b2fb58bd7ae1dddf9c979650b4d301efbb2f459630d8d463ab8d652e4314273be35b65ab0230eafa94737ced54513309f41cad8ae2164b55909c0dc3ef25f6d8febe5ae43f15583123695c1858f5e1c400471e664dca89202dca440f739c8b05e33c3cacb8f2813aa68785a697b32d6ffec1924222f00997c5e6ca3459c434ffa230b7e68e7c48a09076fd9a014a9604fbb87c77bdb701e71755d09151ceda6fdfe23c018c2a9becb32062def3a9aca1bacdeb6254fc4a8bc6be5f53438107f57787d2930f5891855b19f0da4bfa7d686f4237ac633f13435983dc0e382e796cfb4ae60e7a8523a5aa2d1667166b4a5476a164968c54e487d587697e861df8752f849878c08af4f9f4da1e48f4f91747d7c259cccfb4831d7d668e8f820a073d2e1d8411965bf05528911b40421c94585a3eeecf4b13f5e1e40168513e52376b4627148373a74f236229126ffd5de04be6ad27b3e510b96aed6ff14c115e52edb5f21aa5d20f94321721ee4b3001613ed03f8d9463161b596b9d3b4a109cb6ab65b7f1f6b4201461dbc418fdf6f74032e681c0218a8529153fdc61ce7b8c5994cfd48de71c14d8e9e6e1a2701579502dfb9a00ebfbb7e3013e5b8149dd49c7769609605cb2291eeb80d0258c3e0688a1d8cc4180ff65bdfa268d75f6744ddf921095c5e6a94df2b726b343023e3686a300b8dfc453692514f9829370d5eca6d367dfe251d06c3b56871afef6e669bd369e9ae5f686db880bd4c58959e1b7698bd96bd55728906cda9fe49726644fd5f574d717c6bb3068e940099be91f49a9353155073415dfae85982656f3c826d74c565819a7ae009ebd2df7a5b9b3a95c322974922bd2647f652d285231e08bd288a430e49870bc6774c78fe10c6c31bd0e98705e61f691041752598b5fba4c5e29c3135e21533f727f18c86b73ed399754e9943a4b1d9c7bbab72043bc84686d6b67afa6744f93e43460dd46c44f22cfd17d3eb9269931e7e3d98cf737eb8a3ebe0e1a3fabb3ae255fc312930dfd0cb12497571ae7dee6415cafbf7bd67cbf2c6f3b0872234848cc20dd13d30106e556feee5e7d3e2007d2bda4d95c1d73ca98cdfc3c18d6ad0555f90957bf273a4f7144a218f584cc5280c5bd4fc437011297b7ae78294ec464f5b011edea6f83e5f39e56a34755a1c36c71f6fdd3690ecd6b9b7f0a23d7602f5e3ac9ecf1b65a227ada6e887d0ba53e0ad66bcf179dec526c193a6679f43d5adbc981df3c8f490deba78582583f1ef92f7c7f64f5b897ec544f3c5b918abb1eed3586ab732e70fc2114620d86ace104345c908b41148f0018b1aaa79bbf8c9f493e6203d943f3ba16dce0cec45160248dfe3e8fe676b8b7334452457d687cd4a1bad0e0895630c4715bac4db08c3713f7b1b239453f0ddf4bb2b973c457b6aaeb06ae6836651d5cba0b4b832478ce720c4a148a25cebf24c3c9769b4395c8af172ae5220a8e16082fb42e4181d252e9059ae2fb41fbb28f7bc19ac2e5ae93eadcc8e863615839dbfce8d08bb740927c55677f2f21cf96cb2dc9143529cf75369ea7e32c6bab93049b7862c629448ed9a043195817fb4b8f67ac8ee0db67d869ce7c3b4063f58302c1077122221437f1cc115b08850f2d6e1ad41a6b0e8662582c6edc41b6e4425a7c52735e7037a87d0354d754b3a9f903cde38140f3a5d221390f9f11dae685e1c828dd02de717049c464946161324df48a7f3669e15597ebf63cfb2a5182f2e4ebdbfca5e5b8c8a2a22e170cb575939dc1e67da7860c7eca328c0ca5f937c86ad74fa9fabedc28a16bcdf72cfce345f01571d997a02b9ab6d2281ef5136c79bc8dd3169ffce0b12eb7d1f55fa7358182ab5a42b84e637daf9112abf1572d249f0a42f703dc339ccdbb01459a9729f8483318b02ed8d289627f85e89d1a8f73dd4b214a4228667710082ed82f577fba4920fbcf5e48c1be794653472f78a80bd2e094e44f7c00eb856df32eea656effe256152e3d04287ac20d5721d4b78c43bfb39f81b11cd4fc78a6b7efcd413e1684db435f3a89e1813680d89d8428444fd257c077293b0b7037c3910cadfcee96f9b2b5dc278f086e11dd5ff84ef1b73a0c8b57c25921f48341b6142fdb3f6b47f5f85603c62ca5138655d98cf3738a1b303a97a02e23315aa503a32b9f97ba0aec488f07bb6a60f617aba0647e8bae7de22f75deb3f00883998b900e6113b500c2c0ea8a9a4de22453bfbea17f39ea54d509ba8fc48874db8bedd99388b8182bacb7c53fb0bcc61cb10f90b04387a8fe54ec5effc4ffee79e5df42be9e1eea049a01dfdc89d3441b0c8989262cdb5daba8df331afd59ab6d32b53ae693c868628471218f5a41c4c6e929b271c712a9018b5eab870103e787a183ab502af228923a586fb8587e456e7ec17a3ff39d45409fffb8931888d0d49c9652219d4a18e5c5b4b96ae38dd105ac08584a755379232aac8cbd2d486c0325e99943c9530d6bdc00f5ab830f975ef67f608df30272a25361b5b73195a1b9093e9e2d483c36c05776b3585a44a770309926badddc27c413ffa4ceaa2a097ef87145c2dfe354cad4c48afaf325d807d388481d37bb8ab2f0776480497b8b8040f2879d73ef3af24a95d03d6bec6541a7d0b60c390b08d9c423dd6069e8357d7686c6006ab6c5e9c9626cead0880256cda9851ed1266f1b8d82e8ded1a14f6ea5a5a240869ec9bd8d662d2e7cb1e5dd0582f9b3ab516da06178164328a8a4af33347e823c8017d30da5e0cd89ebc7ca8d16db2838d60ca0c2ee4eac8a83382e494bc908a8c1a82d58288f88980dc0fb291a3c7189524c54d192e7e297cae746914a2acd582adb71b4d51b5d53418ed37fa020b5dbb276aa10a7453552154eb3d42bf141dc01034518ec85e01f444fa9acdc4dfbbe6c7ce148b100e33c1bd78bcd631d57286c599b516ac7dc514392f184e509f6af22fa9c95764b6f78f8a04be8e185ae10f8e999b47579f98defc1c398ceab0fdfac5cd1422e0d7cbb80c01ac4afda80c9faaed20c78a7550f614a7e19a7f9fba41844c557bbbc80e958a07ae60dad1ab3b1ae27e4db55e1cf423a953e024433e50ecb84486145424c5532dc1516f9ec0861780ca342b48a8d2ac4763acd13b55322cf3e166610c362dafe9ed5d10bff2ac679856b390d48fcb86c7d3b34c3a71b6a76d2950663ac42e1472e6e5bfd5b089ce1ca295d73ad954e8f6ea8b2980a5be183dceb0bc696c1e660d848c581bf3d34f8327aa6e7319931f26ef925eb60feb96e0711f6b23dbc54a58b5fad472faa4fecb5d2f09e75146801d084e66473ab5fbde2ae7063ca00f8b901f3ce6c1e53792c17951d6cd05887ace8d108ebb5b5c8211bd2e156946d992f1cd6421d8196a5cf7201d286bf99dc632031c5b097b3e7be615da1b246cf6a1151d8de8d4d0c43c23752e3653b18ddc0c34159c2efa0460fdcd7409ebd9d9b26fcac7c84f0b6502a94a5ea05e9f412fdfd17028d42bd32ece0df65284e2b7e0d5d2e957d3fe1fe3d8aa4877c4910ee7a25ab166cf871ab62c267804ed0438dfb1911777415cb403bda54587f261d493aabef50f68484aaaab3dbb323d29ae86d72ef6d1b79f407a4386c69aacbb97d12f45300c230245836a5fd3cca5debfd0794b22a9466af0853d51f5e7a6823aba4eaa4412a8f81e9c5d6b1a2b22c7ead4c66cc16ed4b158e4d9cb90f852d3d24b9535bab1fac85b7f2259b48f3acf59dbdb7b6384b94cb9ceaf7b8c76d659b95d198c2ebe87f49832180b780e6ba2287cebc31b63d0c791c8420f9d51ed4332a8f36c2054b03efedde47f48fd99e22df3f587311e620aeb95ac55be6fee9038042be6437bc7311b13e5e7d5bcb8ee5e43d6016d9721ead53c402693e4a56c90835d7b50e742167d0070b5ce59808f30ca529270c1e6b4bdc8a77e590de5b4ed8e6c568bd0dd76c25aa44c2fc6136740b20049fb30ea627b1b8ec84f32faafcf59317c222b40ab15a4fd0f8d3b1bcb16eb6af4239150b63907ff48760a7485214065ab39b658599e20a549b03e34ed213e2977ff3e2aebb2fdf30588b7116210e981700d5321963106e57afe549e47d297db7c23f067134c949be03abb065f399d42a544f1acfeccc9338485a47b0ea7c4720a4dbc799dda7c4b852f68bcde4529178c8eff1494e0dd5ba283a7645fab1d1119d69ef80ca62bb3bfc8cc0a56b401f5188724e19ce34a46f78391fc3418b43359823f8426e4b2b56c5742394b4972ab3882d67f417bef01e5f15a1be96c977748252a03c7d2a62b023309c1819c30898e87e46cb7df7258da16fc1400b4e8a6720d32eb93baea96840f5c35110f115ddb96b8bb5d239fa6faea7d29d4386bb25bd39459f8dc74375b53c3f682d9a84623e5bcfcc31bc8cfead0f51bd8c096e2df467caaf1e5a0a8fef9e4689feba5a26d8099fb55cdac51298e97259de9b10063471df0f46709c658d4901f5c242351e43cd31a63c6c6e1a16fcbc1e7c08d1fe0fbf1f2b63654af5307457e67f0bdfe2ce917f366891f4cf2cf96f8b9b47f5b779eaa755c1e4b9c345d4344c208fac65ae8122759f4c2fef2a6105b8fcf2cd77bb803dd0f465a0da4546d70dfd263bffc5c1cb720922798e0cb229b1611c8ae50bff40a13deacb540eb2328eae75c8afe69a4f99a8262d6e078937422d16c66b165ece273959e64da4d442dff795e880fdb32da7d67338b9be197f05c7cc4d4deae72e9ca558f8096771ac2a7a7700c44a1790ab0b40b64f64f6d045a5ee806b724c1908c19ea0cd21a3314ecdfded0bd61b2d0b0afc20dc61d1985ce5c6449c46e3db17ad9bd973c219b888e52dcaeb8abdf9916432d3e2781e4f4847b869452f2976aaf099a0a3171d73bddee43aaee606076214239503917b6a5a9f69c83c4c229aeacb54bd96ce65eecb50f2d236a7de268f5b57d8e5f0f58241cd5d7ea860bc2fc687421d87f5ae70c29196d713cb9587e91e0d8906a780bbed5ce986d2380be4e16825696dd47237e89cd48514fadea81649b49f1aebf1bf180a6db2b18652508f2b2268443f8411d4e4d73a1eba4a1da84cc34725e09d1624b02a04c8dbb93668fca1a23903eb693a066b25ead24fff0d136f9eb7b3fe966ecb6fde189fd0bed19fe57e0d3d33a410da51e375de90223c014ceb237cc31b9c4a8554b9ecccc710a0c7767d02303af45e8e3485bc730ecc0d754e541a1aa79af8166d28e55626e70d3e532e3a9a358c23e10775c4dcf0116de873fd0ecec927097c2007f7e36a2a0872ce3822e6e33c1dc7bfe7afdb47797581430f55f3c258c6c37d4d0c31efbd79c7056d425c82deaf79a93ea97c4a3d0c1ce9d1001daf6f9b09e5a47acec4ba3957c80f9671da3b4c41806814cf851b7ba7e65c5a61adb1bda4909c17ad061cc1ef80ab6f18a1d085efc94b768e654d7faacc0e5aaaceae3e61d041fe1b568c512a8977e8a735d592d7872a1e2202d5eb0d194acc91eebac55628022de7f67edac52a72105bab4378e70ad22a1278f5ba457a228f406333604ea695c4a00801faa8d1ac120886c582fd54564fa59acebf34f19ca5092f5e3694a3bd85464b0c8a416a4536903c936e12f6551f223d17987170c0c398bb513107efdf0f93b9a65aaf0549a46fcdb4a95e8635ae2e353d9f1bcf0f04d06046e54a5bbe8cbc9fe3de58b746cb1b0e3ebdc2f9dbbd017dc31311d346399872f86994be043b5a77eb694f95bee875cb4050e1cc4d92be48d573d8366017a22c50ea594917f8967364d92477dadd98a9bfc0f86c2493fd8faa07e6fa740e73515a85672ed512bf7700b7cef0391a6a6a06517808005d15981b487d3ce8c6ba81dde29ba0c920b96d42f31df03df61550e769da590b78542224a6a7aad757485d3ca8ec0dbbb4e088bcdcfd678ca6cafd820d8bdd265df1dd94d8c028e71b3585e2f18addc3aaaedbc38d80c7d9432df2c0bb5fc971fa3b1d1e4f1bdf252f7d8d5d99ff9a0473d380edc91a2570e8da31f49bbfeb48b9f773314dab849bd3445375dd0c6549f0f003eed981ce6d9d2fdb5c1508683883c8ef030680ae255101a63ae9ab5df23b1072ad88c550cd0d047f42ba6a128f0908cd2028ea8b2b048f8fd0b9b9a7f8c336bfee7f4cc22f80724b9c845e9e50a1a6292c4b2c989ed7ab46bfae37a1d275abdeccef4c3f47e66883efce5abe4e29644ef14fe600646282bbf8e50c19c044393e8ae5bea9c443071a4e27a32ef3169eb2c3a86df42c7816495044829b73ef90ee005f9ca56f2278ee09cc81c6c90e55de881c2a61e62dac7e4fcded80f99fb9b8a2aee1d424eac88be38d7a925a8828a56b15e055d4dde842c2d729abc79706725b8e176b569820f341fcd03f7d74cb32ee64de830825b1a82cd6fd9fe794918951ea8853f45b16cc4b8409336256fdc1e8c1797425683f49db74749bb3f1f63e37f7d1a9956c5f63068af42bd8db7b029242ccc4945817fbbeaaa689fbc7bb7b5d109fd09ba89b8e18294625ac54504b93ae5314172eeda48c0668151604ce5abca7dce890843fe21538647d5024fa0b09f98b9ff66b92a6ed72620f84c22682acf69abcdad4f1e83ea56ef3a40f5180549ab667fcb99dbfd8bcde098641e33ea78e5ca84fd5016caa5d39e9d0671206f90f762e872261460dde1ebfbff2904af07a4cd86646c2be5c407f6e14d075ca9f0472226b12bdcd14f5e72e926c6093d9e114b4f603f83d80754b74453d839c72c5c2972b52d202952d45dadcb85abaf718765d21855455a95cd1f95f28445e603d32d794351ca72ad5aa286c4303495e7b1380d66e79f9c1ae6747ae3f55de7f15b3b4d61fa5ce82be406926d1d181688d233faea2ee7530a4ef6e6baa170564930455f553abdc4b9dd316a8ae84a62b784d12bf565bef0779b9280811e9d3371fd892001936b71944e0ce5129a8b848043426ed5666b952d75fe6c4fe9efd74d82cc79e3f27410c2018dfb4e1b25d3d65bfd49f73f20844c7cd174b48931bc2e42be2bb8114bd2094d1954a9820264b7e29f7f2b0304041436519f3e45418193ef02e1e1b91f29b59e634c922fee80d57adb04ee5c52a90e8cab08421633ce31b52855449946337543b91163b364f96596ccad33d9a175ea8758d25edb4ef26854a05136475a55db2808b16e68b5799560312c68004ddbc5c7e65d103dea6963f2f91d25b8f035fd37e6b52c52afe0eccbb85c6f5ae3d47d9e74eae3de436206d62c6df1f9a2b5eab3603c5d3a3be9c28f3a022fd2f779eed1d479898e1e32750b45e9da938493c357e440509c759bf97e281f230b8d5b35354fd6376dddfea7fd719d5da314142a6e34769cf877a7e96a40715e55c4784c73a466cbc44fe7a2e0ccb0f2a195077bf0845dc36a385bbcef7a5153d0ce895b111b18e1905aabea53f75e38e2af25fe508a39b01ed689590b1b6a34e9e7170e7a30a2b10d68274148ae14cf2929cff4dd39005b69b6274d8645a3fae5744cbf28ce5ad5b862dc0d0377fc7e07b0e89cf0655dcb4bd92b1b91c5e094dcf7bd6b1616fad2c7ed070269adc54962f84bf8ab3e961a6f79cd30b18646b143b2058dbef47f67d7a893834524f0448c5a4cff29b8296bc73973d17f416ebb4db94c2890b49a32e86fae5755509b027c189b280e01cf809bc7f2bb93b167ab9c1ba0641b9a9d4bd123e73ec7a4bbb73999a18771ca23be79d54c31722015271777bf3a7a91cc023cfcc3b9c688d47bc6fb8b462b3982f9ff25a52f4ba60281b644d4f5f208ff82bbd5d93e5bc91d1005ade6f99ae03a6aeceaa1ee49a52ad6afb1a7ab33851289b847affe6899ed09591425741da646a7e41e313af3870fc7abe171e41b65c2bc5369ac79d6417b1bed71b0ddf989f2afdf35df144ab8700f56b9fbbc3516233077fdbf3ed638cf6d9e393fb3ec4e725772b3b8f9d0e621ea707cdcd055d6bfed9736957c655ed05e301ff18005a0312d02f1a689917b6732e846674065e592570922de20769edd7a51b98a47779bcb7e59174259eaa5a236480d5b535af66ea7bd0661128a622ed84722e18b9b37cabb61daf1af1b2d3d4d4e4c6d68147963c58fb964d7b20c7e28a9e766a0df20e5ef2367d3defc1b97426958ec4d591072c140cc408108a27bd6badd6f6dc06e1169dcc163b55890e6400400c641eb2be95d52117fd063314853113ebe207606ede9cee1fd7ca6a10e809fd6758663aaa3791ba3e87fb8a3c73d8826e9117e2fe44313350ca4d4638fad293dbdaea01c81dcc65669c2193da562e6d73d8fb21e35f697ccfad8dbd02b79a1278af1c9b7991a48edcb8e529b03467f66d634e0a34525f6c02fb8b70dce3ef4173cdc30e052130353457df65e3722a3feabac95fbf7376064ec21aff5282ac8b9841071f373f3151865892784ea00497e1f16264c2ee470be05d77a26e269267a411de1079ac02a0b0832259cc87dc1d857c80c7f6886ad227712cdd3d03699f8be2ec42bab28ac576677b572f41f278ba74686035a18cbf46481adbe2b020ff116de733447978dbc39ff70b5588d89d683bae3d275d3337dcb34ef45ac36aba9fb0ae262c3a7ecdcdc859395e6cfaf173fd69d17141fcbcb0aea1ddd873f6dfc49a413b5ab71a3f270ed7a9eaea894485068eddbf9f7b79fef45675dfe7280598da53d26e70cf9e189bcb56ee8a8369ef15f8d318b4c54b22715fad7e64e2bf358386f57a7398da4a3aa2ba7c80dc0f70bcb2ee1abae78fee1ef97cc51795721ddd048cfa2297d2c9902bcdb578bcdea132b66ca4b67b9a35fb3be0121d04dab1e7fcb978a1286a412d2bbe7e95303204e1264067cb8ff592a5c6a296089b818a845f9f5fa6472bab75c659940c7a146675bb602bcc76b53c0c2a35273c9a7f82d9a3818d5873bfcd03797b815df97b0b796810a86ee488532bb1b0668828a962f98458e692ea4752261aab218af60a07172c52a002e5585cd1dcb546f145136e5cff0806be6b8ea2bb8f8897956fa76bdb434e440dc99d2798f346ca3878b9604b3b84bf83165a2f3d880f7aca4c07ac6c69f8beb0172285143d109b7b3b6f49d4a4a91a497054f7a441ca707ae8137a3aeb5ababcddcead4481a7b4a1c1fd9ac21d3f79632686942ab3099ffccff3f36776fcaf0063f2eac62a78f28d963489e5be4983ccbe28918c33e5834b424416e8cdebe03ea08c660146e9dd1eef8eb9b0b4a31187da210d8bb8208e90402f75daca2ef72b878dec3f09d9609b6f08bd71a4d0bd72ab51c986fe47b7f177df116514be266d7aed35a9f0aac7d1f41aede91e00606cf5a7454513b4038b3251e8196d343e77aba957590508d23e3063018b332301e43f73f822ec37aa1564f0b4d36609e03ad09daf6b8faa79fc8eb7f6a5484231082ac1a19d65d8850ceb84c9c62a7d6cf5766b4ae1bb306726265939be42a679efc42e6c7facdd6f005e8f416e52466afbfc701d48fe95d5d13cad0f39f75d280b4fb557603d534fb13cb6e32b2b03d6eff93ab129bcd769b60dc51be27bb37d1761e7360db2a969a8356322f6260029478fe0929031228c83850262152f447be79a9f4d73a04dc0294531fd95f86097ab8b57e3073bc1cd07f665849dc729b85002b939ab3bb0e0cb09932f275a810963fe1cf8a3e3490885673829bedc02baec391b1963a50257a7c2404a64c8a5fd9aa81a8a54aa396419ff5d0184ca135c57dc85aeff0aa82d6720a7553d4d1250073db11dbc3d3847ce61498b9755c1e8d84aae0d9da1adb771a1da93d186b36974b1c611fa9a431d6d125288afa552743f5aa490a13a425a0bc0032119a7154e686e304ba9707a3f9126e8a3eae83c6c3b608ad0938edfc015993d4a582df4d36883b00fe50c7a16415cb0daac55a9e37f5165146aac5943897a5aecce230e95cd624045c5ef4d13f04043afbe04d7ac3a8c25cdc33bbc8c6ca17cb78e4bec8c0390a13dfa693fa26031f100b19ef3bdb370e91b251a1141d52b671b5abd1da430f6a885ba1ee1a4a19ce2837d140747d5cb083fad7f8e2773f6df18c2e0cbaeacd95e1ce8562be292460b74f34c089cec1e18bb91effd047289d0923740f3d2d3fea65b161e720c2de5292a24bd9caeb736506ac2809eb53a56333e56c980400c601647b2d726f2995f3c0695c6439d76670d4835b3b0e22eec2930fdd11d506d8625062727008ae6582930d3ab289202a356de38b4be71684d38e85d55f40a84113e03d7f7d232601f3e8569fb4f4d5812bee61101064015003bfac7c6d6175e0827695fbc9f499e387482c8b83f020d6263c0bc2adbe257ccdd3f19a6e7813004b0a23fc1f462ac26cf100f479a28779d0abfef63228ae3f342e9d99d5248d68de8028aff388bf2d8fa186c25c5105645c8d7a250a7b2b4a1a15c31568d113eede13117d51651f652e1dfdaaa7a106b19f656f224f5aa6678c7b205ab15a5daf91879ff8b1124cf5e636b13411f6a79638c855988bcefb13bdb4f6cc70b1adc81f8c309e3e868986a605ba8512e27fc26b21db15d0f6b5c242524e4e358adf3889468e53ca6f569c09fd4f3e636bd590ae0f376e7f49324ce46e6633c87f20049345f4e520af6faa7a94416b275e213f18f5b99868cb05cb8bb663c360bfca04659dc081cde255d79aacc19f00e554887844ac399643b41a8198dbc9c391d744416efd308a5ef81151a3a242c694adf0f073fdf757a2dc0f3810bd714d653a2aa2e94e8cf465aa0507d9e00920592748a813d912a1e9b6f01f413f8e30e3a3bb0eb87989f74cad40ad70fd272f7706d323b1080c51ddc527fe955ae68b081dd76f94a61270e1ea2edcc754dc6409f952edeb2203e3487b64d62f2ea5e46ef4b4512ce7d65e2779dc3dc22a41ce10d59495a1a1b306b832001d83b241dcb31f422fa614aaf056c56b922c908831ac6857710cbad457a6c17151b56f694da4dbb991f3d21c0a257b0d1d48ee29220286ea93fafb6bf4816ef1018c0a9139272f22dadfe8b49f017f93fddfb583a3669920113b21b4016b8aad607e01e3d29b4b751def4b0234be216bb91b3ab977cddbfa57a9f2446c5ac9f5e3f2ffc5c4fafcb083964463df9811253d2e8eb939881a70e3cb5df93d0354679e66a658a3157835b27256fc7c5ce791c01b57c0252274aac26eb8131c892958b796148f581612dd83ee4e9408e11e448244a0095b8dbd67ebc07574b9cb9877e0a9c86d8e5b34d087d0c0d4a27414076f1203591ba5e6a4ea9795298857477c64550bfc4b63e5ea61b61aed9bf00da8c8e621dc7bd8ab23fe0599ef197c8fa99c7edf06cb994db6bd591a3a1a6a6501c1c0320021666ea017ffed25b0a1712d4ac988199fc53aaacf5db8bb8d6cacb4ff463f0240facce18abdd47a93decfa91aa7333fa53edd60e582e12aa583790b600c22a8275854da1a49db4db5590eb0868e5ae8c21df1a5ae72aebc8128fe5f52d7648d8be36b4bb112ee3fcaa017089ebb7b8e304dc5966e9d50e0c079d4f3428850e212be3efac8f4ebd547e628896f191d59e48426e8f6971c37e9a7645d766f76223a141265ccde62fd2d380e082dc6349d9252fb58bb092ceb3ddf4c60d129dc06208409f9fe90c3f065267cdea400f866102307f3da22cc122fe692aafe7f35494b7c232aff4b2b217c5a613fc811b127187024ba2f8d9d5a5e79bf9062ed944231b31665179ba2ff78558284eb60492d5ba666322a163d873e798d1c3e9f009260c242f3cff50e3601c8fbddd6b30da7cbef69df910e9d2aba7a592aa10ffbb584baf687a6dc2c5745b30a75b9b3d7ba57aecfbfca787908dc848d409cca6676f1d2610ed23ae17e4cfeaba5eb2f32d707485daef6b3deee1d3934513a2eaad40aff660ed755c1e501b7ec6cfd6dd7821fbc47af9456287970c99d4f301ce397c0b2df3f1f990d4e9daa8c0978e77b2151d44ff1417b9060aa210066ee57253fb89ce3940dce70ca2cfa7fd1ac603fd725f27332f1d7ceeb0ce825d84b209ee0144fe54df2ee8c4fb2c4ccde2be05e18d896be9fe48d4f8e7cc87dc859fabdf48128f976e0b78fe405697ccf74aed43042028d3ef3b7c45e16930bd7719203c62d5c943ca7a5bbf7b58fc2fa5d5031bfc835837604f66238293a937e7ae4ea72b150669098eeb6cdbf3d17e9fe65637ed30e832808807f1b5369b3efcbdd22a302154c09d3f424c428e6285306ff4adca12287e5917048a89c524497a6ef395ef28e569f1353ca3f142c388bc6087c918af63c5066bc4e73047f3c95130cfcc0f47fe53f7a3b63fd90d2dc0ec5ecd3840d881e5eeca6c46fd15f2fc420c64ec12e58ef8f6d4d549402e3ceeb9fe87c5f59a8fe14235e2a5a47ed2790feba75183195e0a5654a072d4132792a041aec05a821d84eea695921d00be0db12f8cceaa212d13d8d2d46dde85800a28d65dc16bb45887120e02f5fe3e312be839b9b833f79c8c870f20568581bf3780ebb5fdd2296d3733719c4f8f64838c1599367740c85f5f7d2bbeb306d95927abcc44d89b811ae86b58a7c40d272e05e6e407cd2502e9dc060e8daef7fe3324e1c8aff43cbc7c87c7537a478fbd355f7e15821216d43daf7122a00abc7074220f217344014ce7795aa35879cfa4f0d333f453e0d938468f3f9c3a190c6eaa686a3f9d653476183302b5b1573e47756fd109e0724a12df1643d7a5daa90cbe9686a30d24a398370590b67930b80b90a1e9837a32ebc4d525bb2f93c52e4b8fd443387c4835659a0be4d6ab9c1af2442b36162e1bebf7398c00e76c2cc553b06e678ee4b5e1350365c668a0a95c5a2bdd5defdeb91dc7c84a1c66da577812e446e3a1536771c8ea95bc28ffd15e9e18370a169168f66d13f003daf7c67824c719465c8218a6150e0e6d7be75c5ccb3706da34e5106c0337289ba0540d4b06c3e53782b7afc2972b65230d4bce0fa383be2943356ee76bedb3183dd45e8cd0c816fbb5f2ccc3719f40a06990930e2996cd8d181217623fa0925c74dce1352b4de27cbff892e4ab5a6bcff283a69e128aa0e66651e6e653959ca11f18725a4c6196de702b3c7c5bb683babb7b83d7a395db5374e5fecadfdb4c27375be92ec5d84ebcbe3bc08259a5da5dccd5b486d48f35e9cf7c93e4cdd32e3f419a72a96f9414b30e17373603d9234f82512038cd1b8c6b2261eaf757c57f237cd5a5469d34e1ea233141de27ea2ac02c2e5aa5fc44f12a8f280cc8eaaddf378bbcd0bf44cedb20ddc76031df807fa0f507af1c8c5b6d16403","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a46580d99f6ff693982bdbd89790caed"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
