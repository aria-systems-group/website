<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c1e5e77203b1dd45cdeb2d9b86b18f68d0e240923fdc97cf2b65fb7390cc401f0c4be7047e6df9e603c06ca021cea5464bc0cda6f3f97d1de0dd54894a03b5ca85cee0c33b440cd68959b0a854a7c8da32ce80c2f318d3157170efa296c967276c821426c3ac969726ec76eca13bb85e9f342290e019a1d2ab6521956f73381235fd2c74e226fe9f216588e53cf3942ca4e4a495ea5992d2bf9b068567554af5bc9f5a3928ea8cabb24e279347ef80ddecbe9cbf651ec16757e6f7905163a3c8b1cc748fc63f215802cf13fef9ae9ef10bb5fb027fa003f8abe4fc67d8dc9b0f8b4f94c77529cd24d038aaf6b5d9bf2aac64e2afaa401b96dfd0a42a5596d6ae09f9d8fad5aa6087f814c2f98f1f5e568c2a6a5574ec1ded3ddb4922f0fa25d4223a92c2016d988c4c2d55a633412353c62faaa1de19439a28cec3dcb01ca76f6f2a8856a5486ef0401b55f2d2460f6cd95521844599a499f76221ce53de0638e6f890a805086e66d4d21255b5619be7cc43b95836b048dc58e70ab197bbf48405ee5be59831304a6499581dbb279ab100c648a959b65324c1c80bb24a1ac588b7a675f42773ae74cb938f3f77d1cf89e8a592f780368a64997afb091864997bf65c089456644b04b743fb9420b724e8096650c320d3a6f5dc734dc66b63e591e288541e3dc29c63f32cfc8b73c85e7a89b0be0b983fd7ba4c7bcaa40e1a0d8a361c0eb30d628db15de6b0d4b3960e490e5853e7be67f1d217a2a3fa06d88e91386572acd1440bd6280caccd8900a2ab163c1c863413714a06b831ab3c0a1c17dc9fca831e7ee8f1d8e2a62ad4c659201eed67ab225e0295bc4298b4e9aec8b983ce18e7dc2f403550068b589f9e611e21ce840993b292d59f39178debd04e82725003415814c9d60be41107cb38854901f7ae6d9089ba7f48f2d75a01c11cad8d1bd5ad8fdb430db851f9e6997d6a5b91a3aeb7985ee308a9027f541b9bff5aa71108efb8fc7135bc41c7e521ecca9188fa43275d2ad3659bc39e760310b2c61619d675f77dd818f1fbb14af6d71ec1978c2bbb8e504e99d9d58a061650afe38b41a67600c5e9084f58a742c281e0239bcebf35646dfbd2b37d1ec5fe32a9092683904892e57c780e4a8958ff53931612485417243568cb82db4021712eafa656243d7cfc92d5c37bfbac7ff5ccdc133e857d88ed5e7b57782d60aa1c249e42c0e7bb5f977cdd0598d99f89f3955e71125214fa4e44e8664b7f3a312d8965c7f90a17d85684c110fdcae34b55444bbc9daccd3f43f2669414ce1ac1803afdb60bbbed92693b26e589b08d522a3bfa471c62918b94e84fca2046966edd3d4dca5b914886ed4cb19817069980f093057ca2f5c351fb303595470655ba150398342c6655f63c05d987ef612b3f5779c7944724f9e8e2fef9dffd5d879d00b01ffcf1076a6dab579afb9951904e112e600f843fd0d8ae927e76ba08c1713a5839312b5bb5b28a4387b5eacc452782f6a2e3b381e7bde09a043f8d5dc53ffdbd8a86a070c37d8c0135497aef8f21abd2acbff223037992f5d724fb68d487a82670039b7db3ba395674593f92f5b9d1118b11b9a3bc3e0ee6577a0f1a65b70cfc2b54f325bdfdf7e97b0bf78f34971c7906813f1f271e76381ca7da57f5a0151b3924754c9b7b9309130e700541ae9bac3da0651984849a55a03d11839dc7e27e8b0ead89c03379e05a2b523477aced4de920d678b9c914ec8dc173c7ca6de45c456ad268ba3f60de16e3b3b925cad49c605d984e95577fd9891d042e54d107cf008d8655d3abdbf5b8c25a80583317f6a1e8fd88b2a1ed66bc821d92c808cdee7cb019accf7b560f1cc776dd7f16b89bc90c3a04151a8e85dec19d3a6937196991f1ce48a34c8afac583d1f1a6f0cb77ec293c4ac0b8d66805accccb6adcab91a58c406ee0e27be66ae31aa5d1f6bfd9d8db05cb8ec0e028326f7395a9326e9a12d4f48735d512b94ec8f074112e1cb2a6da104300e5cf466c07f61de3dc76705810652c5aa52b23fbc2303ee045b67954c46f8444885aca867de37ed2667d9d4ea4071bcd60ef9a8604226174c93d3fe57cd96d16a0372ab1db1114afaefe0d0e4673b13b309b5babe2cf23a6729a0f1e36d30b881d16bd453933ad8f2fcedd30f96f4a189ff8955475952106de19441ecae0a0c7e57a9084c18c3264a1729ac3fa07aad9a1117618ed6e9efe88e7133ff06daeab9064b5d9421f902a9e7ceeda25e76284823ca64594be3c04b7da15289e6ac4b39625c8251e28e2f86ee45e2d8c4d232c586de4579415ff128ecbf578e42a1904b9e79f1f1088a10368ed5977846530cfe4cc1673d6641cbd6d3c76bfb47ef8472a84b76bd6eac0ce8c8a6097b9ac8316433934913a8e784325c2f7843c267d1b195b0f1bbeb330b6f06f433f1b81883c7e3bb67a464586c504f3a30aea1914486abf57efb7d95d0f746703c0876900185c5b0e8660c5f9f9b3deb0bd62214f59668f4c9687b8b32cc9d0f19c1c1c3359597225efe041222ddb97f05003cb81b01a9b90ef34439e17b9b878838f3c269ecd477975d6f8d59ced373bf6015e95fe4bab32f9d218c402b49bca79006eb949eef875a91f1df265b2f78169f98b9b38a879fde07e3b96b168ed99fbc7368be8e57d5a508b19c6c1e8635eacceb6650b08674c23106811abe0f6dbaecfe495b56ec68324cba9874d0569fbd51609c9fe7a2c5eb2a3e8837d6b6f8c6cfe0939f180fc6e4b5f408556e3bb63ee3802c41378acf55e52b5e34e714014335497de777f3d954392dc8ba895cc05cb031fe5c459d4dddac4a84009927d8f095c8fd1cf013aca5525887e1ca07afc72c5de9b61f074dd59feea35617230c7e4fd1170052b130f37337dbc21a80d55fb070a31c6aea43d5d7f9e983ae8cb4ef712e72690fc55f4e6f49840cfb7554ca63f2f2a0d6f4995eefc97563dd4a4dd6d1be3148743b83cfef6b484cf44b1ba7cde169f216f984ae374e5586203b8fd613901eac6a7599616ab69209f2e374f0ac0b237bdd0d5b71fd172b2fec6439905b6f073812ae1b1843c32b491d3d71eecb21c0ec30395dcddaa3c7f960c508ddaed61e7d04ecfbbcf88dd880f0d9a86c7c908bdc694721bd5206d8e7cc52d29d327cd1af611a63b8e049ea78df26b7d2054c2f22458f1f703b3b33186bb544ec8fc32f924cb87413ff51bb06d81bcfbfcd6811c608f5ecd2273ce8a81eb0a5d8fee2bd42b707bd74beed5d2046836a801288bfa1a0d38d2be58f19cbba90d804439e6487f8bc7b7b105231e48406319e6d604ba53f8470dbd87c68c504da738eefa404fad3acbd726c95fdaa92ffa2b2ea1ab570539e9a551cfe54a7e754d7e855eaf262f5522bb39a58a5927288408643926804185c678f0b34fba030bbec8183c7edae7b367f0e9dfb4c2242e035f2cdf5d29383c033bb7e0dc6ad2c5cf340f799549c845d368750846e1ea3aba2642adf6367786ae910d21ec729a5a1c6ae41c203efe2e53310346627be8d1d81be425cd3a097ddcc1712b883793666de01d00de6988c29c6d5ac96f3ce8033bb3680a062acc6c832f07b1b5e6bc51d563dc91c06d10870a43e8608ecd45e05cfc711f03f7246ae13efe97cdee6c3f331e6e51fc6e01e0ea92b181c039ba22d665cba03e9d9f634920398e7408fffa9a836012de94e62ce0d941a5efc188e97301c3e91b72422b0f6e0bd040328bae2bdb2ae630f685016f08dccb923230118c1f15e6f7fe2beb1659721118fb7a5a012c4f1440d751076f764ce0e78073f031687ddaa4db2505e963f15abf98c9be885fcb257e49ef524998a104311786c3729f2f051d5c0ec708b0b21a298bf89b1beb11cf835e232fc7dbee4580de2dd5fc44b6afe81b8a558fbe005f88184c177adb9a1fbb59bcdf622def5373cb99468095a941b5caa47bd3900d8900e61ea784434acbaa887d0f6123ed50853aa287e3c5f6cd8ca8021e1825c6a3fda58a3b35bb9ef72230eec5ce9d9677f29c02be8ea130ba2479737978a3948b38f07e8e6624149ff07dc263bb4e579d5833523db2283e8a660c5ab446d3ca2f4e999522c3e59dfa2b103dc74aa00c22192cad039b05b1cf6e1b3e1d6bb70196c5b510811210e6f7e05d62d64f00b8fc70e319e3b15d433bf7beb655f695e369141d45b462baeb15e73745bc550f3c1f1e06ea8963a69adfbbb9f424f9950326f69134adc0879ab79aefd46772c1798026fe186baac66ddd23c8d3a7c97184189acca91be25e481f38538bc017f25c554525fd4e35f13efeeba417d31713b25262b07a7e362b6cb6e1f688be4c25ecbbb417f47f2af540c6421fb5c2d7d9c2b0b48b3c5ab14ce040a81232701a1b9ed8c74680b94620ad5fec3c5e45e5b5a16a7c6dd0b9321b630bab0d54df38bfc4cc1d13cc49a788bd788da25fb6da7d00994e55eb608a1a1251fd8dacefb10e7545f051498bc48bbad4ab31133aa8c40cd4e261651bba26e8e024330f702d0bf7880c679a509b6c533372d3d262d100d960db19e5c7f43dc07b71afea4fea39cd099bd82db7365ea34ff77a9ab4d122758f4b1cd58361dbc17feadc9a684157ca96e14e26029005bf5baaefa02e1b370575adc67a623c24ee54a4d2b9e504ec56968cd24f721211411a22fcc1dea5a0287faf360d48e2f5f7e0bc28de563a884f6c9a79f77987b4061fb63f956c0dfc85bf5a539f185525b117e7c7ca9255a35ac00b3236d42b37769b6738eda073fc9c50a4703512f56b1d51f2ed1a108dbfe65621b46a339f58065ec797f7a1dd5bd5d4433b73e157a1a55b008f5718098745539d6eff9df31437d46baa3d809facf8ca0ddc173fc12303e35935dacb017742775f3af409b4a0c5c45a7011a930e12129bb57d9eb115ba541a5d2c7ba526871e278b146a1b549a7085b3c5d1f6121b089dbf3fb7b2614686e39a28ea88b96fa7320b0764ccb7fbef205718317a1066a376877648fef28c5794ddb43babd8881e531240eb5ee54d864522ec17a53996bc3786dfecbcbffe832e5c2a086a622551eab7c90fae86ceed289897ed922dfe82d0785a6f677da4abd985a3e35bc0da315ea6ffadeb539e51f5fc5e2347d51bc29d982047544983db004de540f400ec25422bb006820cab695c686e1932892c903ef6a14c1eaa7c4c3c8b21e4730a4b623f298be86195cb74e404b0a9ace639e8de4e0423ff1411a7c2b9582086fb7ee1884822fc4cbb46e2be41dd06963bc18674f34b08c02d06fb023c11870d4899bbccd790fdeeaeeb156f72cb2a8e0fb8764ecae75aec982444b1e2872983ed1acefb290ae560e237f59345002f9d95627073a3128415b702e6da0561028a5d803a0c928b618ff0a7fe1188efa8b7738bea0296816d06e4ca30dd030e413c8ae386cf9496a6fe20c25933a29d6b5e25438f43074cb50c55441e5d729eaa4e22c343fe32d050136e25fa74948d3b654d772bbd16c231134ddc7bb22e21d1789e4df30750bd0aa29a19b74404808ce3f775ecf5b5ca1751e9945a2790ec252e28d275b5a6a457607f1ea5cda9cb6d91b1c96ba6b99599ae5a0cbda03ff6579c69a521c223147c4bb6833374af69c1ee6b09353dcdb36bfe2ea7f946caaaeeb61a2b43edfac32690b235ad834d58e9d367375222b4e5b2888562387906db9ba4a8228db7b6a9cc330ff0a37faca0f626b1f230287c4025e21b2dcb435c2733c5359173b1a2bc31ae0f763245a27a972a1f48eb31774f5074962f7fe35c5f429119c101645b0b4365c23fffbe40b3bfb1689e567189b0525a01f0fea05961983731d0cf9c4e1382b45ea496941d3dfcd6a5149a895f9365097df111f7a51008ae7e503ea6c5e34f8bf4d8759c73353200945aafeb592e4b375604f6c21d820628021966ff8355453d5189d0223253cc32b232e3504d919ae61a8e155b37cb4efa1bf7a1c90c4d7c42d1d38faedc79f40a3582e9817037906e9b59c19f78852dfcda4a77830c3112f8bdf3507327f7f04230a2a1aa560a4f9cab1d31016bde7637caefed41f7a77a4814135da90b7ebe6c79bfefa8b0b301b4f417600d4941b66dc0e3fe4a24845437cc0d9b71dfbe4adb6b9d9d7cdfe1a1c1f00121cc5fa80b7075a680dd51e4bd5bcff57e6a3b0036c3392d24065b7203611e3fdda3afba4d666b3e52c320027080d8e556f5ede91028edb44c3063df312cdc9cb1ee7fcebcac7d511b21cd4c88c56e0e7ba9c2544624e390433834dcad825d244bc1a9a84b8dcd172b2d498ad061ef80507d2eedd93b3c2238032297caebf174e9ab5c3338f755189667b973808680a8edf80303c03f0d1eb69b61666179c9bcbe57ff25af5f78b68feaa44ea164457527194a7831ffd4ccc3704106f44b945665229a47f7d1d93dffb1a27c7736f7c7d33d484106ea0bbad65343acb99ebda83467e596bfd12b3fe610dc9b75aba8fa4ce9b1f1dc42fb2ef905d58d0d996f191e69c7e7596dbc47b4c5e801e568b717055b967e060773dee77af04ff532cbe9ecfb5d887c566b15b07ab98b31fc9f63b4e4d95d32723d829d702092109d2635a51fd0343cc05dee74aae672cb1f2d1cbbff63a81ea3573fd2ff96f75f815ff282eea3a94d57fa278fe35c2503b46eae133b2257b1048bc9b81ab89b0ebcf91939367fff5f1aef59efba2a526d80a6bacfb80e46a0e0cc4749ff4ee6e1b20f753554400125a9fcd0b692f112747969990fe532628afe07e84ddc009252146b80a9224f48d92ed51661931fcac67b65eb1857b4ec2da430f349beadba55d6fa114de6cb17e65eb6149c6cff3b103a758a6d33d2edbfc44df8c04e600a7eb46c7545ed69352f1eed1235cdd344ee5a4362c4a5961b3e9b62ff08eb09ce6fa5af38b20168ba58a924788d500e939c2228912dcb373044d93888b336c90e5db439a109fa849b40e65023535d921ef48a76c1c8c38ace09636e1ec0dc4f5ef2e3e3522b3532a25b05d92ddca37dda96ef2d8b36554546331cfb862ec4cc992470df83b71ef7394ecf4481994d99ffc1a89d4a746b4731b971c306546ae891a5b0f7e01635c47788d7e30c788e079fb6d4ab54389901c5409ead1d99fd24476b0ffa8fbf7a1918c93d6bc476a649a7d01488938dd04729dd89cc910c58b7e190d0aa619d705941ae9c9eaa5162468801fc1f58f52f5c7f6c30ffd85bb748439e7439a2d99130800467ed7aa5a2346ec6f534d447e620afe48fed9d1eee6fa69b481549e63d561cd8979b106138ab70fb3886062b78c605bfd5627284884f64199037db58fb0eda8c7020fb2988917555213a3d572a89b84c7e6b50d5d39f5916fc2c12f5f98c8107ed1c0f426056b99b02bb0617ab178186f53a372b19190a63ad8e690fdcf01b0d67e91be7332ca6307b63c50134bd1d0f0aee2a4c189a4c3dc141923060852f2f0c04c6f08f3727418b0303a84d24ed7de8b1e1c089f68721f2d13efb7e6150c990e4a806cbde977f8145e9427bc4b1a06cfcec4b2e2a76c0da99d93fc8fdca78b6acea65f9336f80b301d618e8ac450320fa90173b09015d72e871878617e496415efd3eb4513e85cd94d7ba75a27cac09ad8d69109b38340ad52c80677587fee661162cf330f3f7da778762222f2d87928fdd0dc423a6a363e2278867c58d9ac461fae1d232fdc404f7777d949ee8b19e918c021d095b49d8f9b794e17f948080afe7ed57b97b9f526885988ad9d10b482c13753591e0bf1a7f1a24dbf1b52c35a828b6e301eeb434c1c1077c95aa4c21f7989a826ce7a2bb41b8bdc9ce81c94fcd34defd51538ea9350a4d61a8acbec6d8a938699feba350e0109b7cefacba3d62fd5b5fd6807734195cd28f3a25c4286f6166ed815efa32afbe8f8fd19f00d9bad9acb012330f71c10059d592156102cb5be8a0e7e98fe45d7275d52b05e17e93c521a2385e032b3923eafaa3a3367a8feadd2288c50c96aedb9957ced5a441e4e63dc5098cd43b23d5002a28b0f208810215db41610d4557874f9e65b15869e2c0eebf06c01e0e03c684f5d8e1ccebc72a8b9c2a967602f4266f7fb96ed3b7c1f9585bdc77686046ed07a1b7e732c970378785ef8c06ff47d222517f2d77f9518524b3daba00df415dc432b592c85349fc2e4bb5f3b9e0f9656e26f641db6e2bc78d1a2c288b6d39e11470e286f431b9fe88362d2181994927ab3674c15c7ed4893facdb3a6c2f0462523dc15d2443c73a29f904ecced500a05cd78c955f62cc673b6dc10b2237134da8ee7466d6286510b82f4f2e08aea1e6c7fa5c3086d616f20507c3ee2297f93a31f2a1aabf03ce0a4ed1a95271fa605a9bff974a6b0c926333606c32e303246ff88126d413624cbaaea73726ec4fffb02aec7fd46bf4549af0fad0ef820c6a80ce0169afd8ed344a30b916bb1819aa2eb6a9aa09cfb7a344b004ab7b6f02717195495f4da6c6074cfc29c2ce1539f8e12107b615dfce28119ce9fa8a5362bb4e3beeb06bfe1a61568bcd36b2e1e112686016c9f55d35b50380def4983282651b48efb24fcfc8ffd5535e2394666e6cb68be2f2d7cbac16ba6dbf6c513f836539b86974a7de223c7cd4a9ecb93a6a8046ce71f9c543c092d7227f1a7e6d6402a3e0c89dfad54f6be7d7fb439965da5468ed0dddb37ddfb0a4c0544a62a5e44d8255f84d025623b9f1ed701160c5216e5b60106357da942cd6baff10cae82896b5ebbd7330f16c31b73f356ea69d47f63639cea8db3aecdcf5209fec298e2511ebd1810976c04ca8709801b26d50e009e97ce7cb31f6e58bf225bb18118a4d90397c0e78a242c041053197025471dcf1a685c8d271f7afd4265627d8b9158772fd9fc781b3b046c648f20808dbd81711273d1f573577208bc9e7e2676fbf829f2f3dd5c14bab473ae96c97312da8e74028e732023cacf86e82d75d37e5bf3c78eb43399d2e9d374fde14b186d4c05a3f72124988a3a31337c8178dbd01f0341af9c3bd577d6239b5e7b9b199bc40b059db957095d39d6774924176cea63f6ebe1c29f7770cda320200a607874ae7b8147c82335906148d222b181dba99e2a06c3125a9f369f6a9367f01c11c3f17924fffe0a6371c357d0f534983ca816c9e1daf202224c4698cf702ecbe2f2941b2223774c6f07eff9e2ccb36addb20e9f5799e44fb71ce68e591f6ae56fac0212388f303474154c1442419dfbfec6ed6b26576a6367480557a008280f2c32a9f5907ff3ecf03dd6583bbbedd7b3f4e471dab999a458de9682c584ef44502fbfa6740f70461b51ffb9b9e88f7a84071502381e8baecfaea72c1eee7e7e8bb756dc9ef35715d4cd72821b510e7da4227dabaf3f3bea0a11943e79bc1920d31ece7eb6631dce7d785b3f747c0346503c082966e4a20dc514a20b6dafa6254cb1ed6cc45e82958126a2b65ad808d12470be6c77e27d69f247a3eb35f03e9cbd833ff03de952de1e0cf787149f5a5874b1bc3b6edba6828195199c85f509c6fcf24f88e6b73a05ed9e8da595883cb3d4965b795bc34fa2a824576ff32d65627070621ec3047cfb696a28273574aee422ba938ae39b32ec2408a8a310b22da3ff49a90c0003ec539637d8dfd19c7f419ec65c4ae36343c2673cf161c8a46e9f87b03f5c20dc1e956bef474207ade0dcd514d206194a4148277dc30489d1bc45fa86c021755f87f1ae995008234bd23172051a15066a3c719815d5522d8598b020cd65bfaf0fe34621c60fca0e89440a87f2dae12d5dcdede014f624acc675521cddef6be6349a0f431d5bd5b915f9e343d25972d52990f267321d378af4f451dd747efcf9d717fc90ddb13fe823d1081152a41dadba8e1a471e75b6772dc716068d0019d81435777f694eca56dd9ebbedcd34754dd663d6a603de68748005cf91a96560c447acdd4ebec76500800ddcef671c29be4e3a442804439989dbe402d852a9d63fcb499b43a977f273713d8efedda01f9bc2e499a212456c418012c214a245a9b0186b28aa971777ebacfea85468dd738d1fd19120e0fe0bda93ce06481b83098241c527f18e4af162c23b86427fef2005e3c343b480b300ddd7f8406dc0f8f6436d201d484e967ad5b91f1af23a7151d361b5d5266565ba2053b49ce6a8be29f3eb37b54ba762dac1f6fde957491219e3e94b0b4661296563ec95d3bad75b734d218a322a2852332353a8a46672b041eac91694ee5e5d7d7efd90c960ef5b2c5fa10e2f59b6570fe174012eda3276424282f957ad3be03357ac90c061cbfff6fd198b70a716c963a1d2a6a0b87d5e13fcb454ee70269c856caf1a4f665be918d7410496399d501ad55a14f68787cfc8d48b8fa3b98754f765999fee3c57299aad732db3fb32cd0237f968b0b52abab667c6be986e9537fc1959af3f2b7c7dec2c0c122fd2212950eb452ff7e0eeccaa8caff5a7f58ab60436d65f2b6c930cc65d9cd5893668345adab26485fd5b7cb737ae18a5ad228f87c39bbf193ee48ab0ac097ccafb3707c7b9213d85ebee7aced2d750501fa394cd94048f5598953a9d1f966ede27354dd411520188d1c12679fa26a853023614a3083bd6cced2f76807da31ec5b4cd990fbd3261ede0f2c5090940dcde542ba7f85014df940c032fdc5a939c18d182a3389b0412ff22927d08d4051e6134f60aa379c67884ac68f17b6a7e255f0a7f8bdd40ec833c0b2a7fc6b4bc0b9f4979d972c3c4303447dde4e1ded8b55fc5df1d5ee8b98af4627124d6d62c4069a9cfab4f03cd4aeeb731908863e6d1a6379f7596e4b92111236ccb9bdca63793f6cda4a85c3aef978371d58cf1cd79fa7821ccdfc108a1c39509b342655b424e06a8e36eab991e8fa661ed3365a6e27b6061489a907a2d830a3aa72f7b37a65a65a4182c5727fa6f6c09863be8ed95141bda09ad71a336c5f79585097a2aeb3c6c5f38dd7eb35adf1d2442493aa9b970679e332ea58fe703f716f5bf59677a4955ce48f2d3090fa7331b2ecd72302a7eca72776473683943778f7a0391b7e58a8b337a32e56627b1c243059bc0fa610a9890a87173a7fc3a883edadc9a060f80cec7601256f38cf1d6e56c827ad36d8f1ae10d3642b9d3b1136bcc0568e99c6d01bd19c3e6c4e8a8381041f5a7cba533b8acfffdbe1b8b22afd1fc0e7a8fe2bf80b4c1c6d07c458b060272619b85a6f6a92c54d01d5d09b39d23c836a7eac2de219e4e7a0ecda5606b3f994e0657f3635cae2787649b84a8d8f8e75a6c26c3f2018bb1fe2899b2e4822749a66b9ccad12b6c7b5bfbaab6a4c382cdf68d4a906a6d572d70ddb1089eb9651ccc645f15961d78d89faa6e91769a589c57d916f8c58b9bc58ea365de25c1a4bd9734215b8dc3b04b21ce645eded9f6f69d405a3e27c0e5b99d4e4abd483a8225b69d12ea05acebb8946e1d3010903ad7021571d30be46a5867c4f0969a49d282da4a931ab0bb31fe6451c1fdf217f8f59f7828a522fc89099909d22a7a98f4cea3f23218d0fb56009c4eb907dc97ab232dbe8d7473e803a8ddc5656cfd040335e5690316c0a9eebd0d270eef30b3c7f957dd8a141969d65ae4fb93c6a26c912737f170758f9aa507070b16be5ef90e3596be75b342e74141d9da4fd0a80be3983fb99c911d8bc840ec920ad64d1caadf5300bbf5c8a26b962d94c68ff9e51daf84b2e49581596bd670b15bbf6e2cef52b6bd83eff05814452e5a74fc331ec4d370470471b64fa8f12368bb818cf586bf0583801ba898efa8baa8480056b7e885e5293d1c8cacdb6f29789940d02dc39f9500f92e46821931b310a674af05c761974f94a36f864c4a4407b9442491d0bcb338ad3b9211c5ead42720d362319e2131baf584ff8e093566b047e4b276cb3ed6eceafb7548af5a0ebd4bcd7200f447af01e96184d42d3545faa4a5b2345e39df37aad121694554c02f96d00faa32b3b9f315e6adb65d0d84a36f11869f4c8fc94643b6807e90f5368a0e4699555a3891cd0201624ecd2a4e8b70b48fc937209beede7a4c0ece7eb4c58ebc46ec0359b806eb302e55de09a42800d870fcdf9e4d32f377001fa8140e58c0b8fcfd06eb646a1a0d660ac00dfde06c883ddd7605005e47a2da11af69c1a9e45d40b0b170c14ea0d208f699f29b0d403fcbe37758b9ebbc3d0bd8df2b3ccd21c255fa1cf32ea37df8c401bc3efdec6e6886a3d4206d970f3d75ad68df161fb66efff013a647380e54a50e1b3bd9a9990ea9127e31a2aa12ef3d7c139e9eae8fca7164c69f54a682f5786cf0fea7429e4708f070dcabad5e0c2d85ef46eac30a8c733a3f64c616285e4e33b73db7727509f00d430aa6654dd3d494cd0d91a96e2988bafb13121983e5c6fb9bff206a9defde8d59c6993f5c1805771de9eb7f27c7d6f68a2a61be558617649bef72f4d119cc477d877f14ea6a0bc7e4a9ebc7b229a368cf05b685eb1e8297858143fd0ef6326741e83b21a4656a7d1cf472fc6135a31b866257cfaf7ae697b6d881f54499c5d945b6c52dabd8f9637fb5ffb95627927048d6d635aaf7dbdda4cad945e8d02263d8cf5f3b3af50fa5648cf99951e90acd7b52065c8cff922ad94a0e4824208237585dfb29744a5f6eeccbcd29c03c860334e7e5a0fd5d0edd5c0050f3544112e164e81fb4f0c7136c1b550d6a1699f613112086b2b10f1aaa1e7f000a5c957e9d5b91dac2ac983811fb179d6f62b6126dd12435cbeaa054240746e3fda690d9d475ac08093ae3634e9652dc60581e15f984b9dfb167deac6cf19032facb563e7afe3bf2878e73bbec9255de54dfa34fba0061ac9ac70c64a13429a867357c66f2adea7a000b6ff373962b5bcfb1c50599d13bae3972a0bfff8062e0daabbe5c277194d339ceafea0a264c726c23e64a5fdd1e81908d9d77afe8a9f992eb108de4ad71235ea2cd21cc19f57be9cf2198b163e22a139f88866bf48259731477f1610a202d585ef123ae3f54ac6a174860823098c7a9d646bbf86fb933c9535efba03ea72e3c0a01ed86031a3abe7e4a4e55df13440a815c1a008da0e75ea5507e33ef767f72633656a1917f8990385c693e3c2e54512cc0048642fc53ad15adac60614bda59e2a633b8aa80d1978057c260fec8372ca6547d7fb4aa09c6d844fedda6b2ab91c32346cab05e738e43807f47eafa17dddecb58f667f86a80e5db1fc5f0898c6e353e9ec11a20161cfdf0df90eaaeadd72315617776e9a4185917a1f117bf03efcc3de9391c9e330739a9de0385645b49de197abf54ba98bc904c0f02557569a0dd50b57cfe790059ab8a90a1b98608638c2308496c69823cc5eee5c5e28235ec0f575434b0ba56d18fe3c64d4dca31f0e4734cd0f7e6ace4e33b688cc6214ca24c980533031779d9b27d03f03d124981ee6f738d84a9a3c30acf1314a54de85b8a9786e49c7b931643efa4ccbb7d916b1f9f05ce368c515c26cc8a6af71a74343686fa133971bfb36aa72263f6722f55bd8e63608e66f8a9690dcefc90f11ac3aec107cd0dde0bef9c4b0ca130c88e7760d058de6b8819607a658ea2bebc0b75fbe4429b88a9d3e32c08329984badbf4696b8accb77736c59b8a4d614ff3e86cb1869935b618986dc56c6f4fd6bc171fe2739802df6825d296fadedc3ad728f25e333718a54b9b2f68673fea36e0b388042a53e48404e04ee7f501ceb8f74d8927ace495518c836c3b749ab2d44e9c19203b4d4b907946597e60bf095a40e604481a3160be28d0165a181395d60ebda42d6a607d20d989ef63b1d5e5a3cc03c05e8645aff7da0a1b6567f039d1b18e18dd85c984c03eb3f7580e9596be8ac2069b40f4f979a606d9f22af8ca81ae51c3ae221e7eff601888cc154a0e23e3b20fa55908650c0d6aeee7d1396ed924162de74fcd4ed59b96ebd8fb863f1d2edb4096796d516636f4707139a2c84fe9a6303d852ba291c29039ba3a58fedbc2eb2f1d784e23bc161266a67f4cf7ac379f06790bcd77e58c0c42836986a65f6a6a90ad44819eabb446bacd827eabac86bee6bb662b1280873a053baa266b83345748d7ddf4df05c044baa6c235f5b1f0e698f7e561acc3cf5fbcfdb09cb5694e379fbcdd865a2184e584000054207167272351b0480cde085f502d5ea15b9f4c4434a7944d410ae42a51405e060350c9565989431c0283207adc61ccbc1985a1d393eeb2668f9ab74c55e62e40fe02c06c2ddf6b15b4ef434170fac2fee795e3a150029e2116b05f75b95ef1329aa435f7e785d60fcac4f39becf79810b28cfa975c238964a1cf9539ba0e3766e1ea7791d60fa0fe98ac1c19e11b9e75da5895760df05d2da8a518f5eb29f77564ac33e5196a298d07bab28d70c668a11db531746cbf32080443bc63b707823131371b87e4be8102cf6282df14202eff49693a61b9c170889181616e95f85811418bb2ef1f1fcc26a629755a76d4afaf51f4301bbb240a3a6ec67f82d7dcd5fdbaac9787d4cf28759eddd0954cbb70fd9f6365dcb27e1cb9add94b6121b8b1c9857f2364a1455b75504c1efef68effe77c3b643e0b7b5ccf620ca2dc8051edfcff0884826a9cba73108e0c0d87f8e7cce928129d4cdc31ac6f88d62854fe208df1c4602e4e1de244dabe27a5044efe8875baa2dc18842cb38de46b0f868ba29058f8c36b913779e1d592d9db9179c14d4d8231f29b778c1a22a400118b8578211a3d38fddab32e29901aa92174d323e06424de4aefc9ba552ec3f98c19bedcb88051493cfab73fc00eccc19f97f8d9fab43f4cf1b14ec635d4d10615fd5db5e5267efc50493163b037b833029bf9630b1ef8a6520e0a39a285696633787314160ea32f22dc59c31defab863f254158e2d6b794682382ea009e46fe63c06b92ef8dfe5b5b457c133faa620b0d9f8cd5c7583896f5d701237c91de598d4c7f0f7ee7e9a7f8608dc4e85e17145c90f9db3ac16e0ec4cdf9d353bb9a20f900266e1e6227c68d432b1c64493d4e285bccb3710145474d062800c8b993a1785b790db0e6ea9d00cfe23e261d6de7e24aa0b35e49e57468ee2664e08b22837fda72fb3b002c02433d9de199ff1bb425019c5c342af6a5aaaaeed7d4f15efe9644639a8c4d5a110310682b7acdf80a115001f8ea2245e0c7c7403dd73936e79e8315a7f5d77ed9770379ad7fe9c6ea2729f958eaeb5cffa2c9fe6d1e342293148eac84d623db4b13215af62713fd4764a65500ef41c02d7c98b8ca394ca1c8cc3a239325b1893b334ba1111d5c8e877e2b52761ce6b31d1a6fcb36a2983439a0acba5d9976720c1621ee95c0e5667181dfc5f9ea1247de75a1816ed6117e17d2f871e03556780be2f7693bb41e259e9b0ad409687e80ec3249bef8934fa6690a57f320e25cb4e3f9c9d7e2991df75da05341fb610aa754a3ffb7f15d7f0c9222e77a8e5c0a809189bc5fe994ce59a90890ece886e35d4ca4ac7ea37983d6ae751c55d7e887776a9058a20e958069e95b3bc6d14ea383b8ccde40a5034a56b39de82fc79391075865ce7ec68edcc2b5e36ed1d4713df1e8082d6bc0706c9f8be6f430094a2fa28b21860d3d8281db74d229e950f7ff1034e3249c9b17088cb4d4ab9f661b72f0f929857e20421bf1ca0d5a52b8eb282fd22b90f2253f72651ac4780cc5842577f1c2a34f17f4330ac6e930e220eb32436b47d4b810e6c8c2f16741d1a78a2bfa6119ab878b0e470b579cf1da97003c28be4acef0fd482b147ac84951fc7e0fd3780d99a65f9758ad012094f20ff3c48fa9053aed92fbb689d0026e906f2ea6397080bc306c76cf042999898ea0eb4730c3c2832cb72ec3836f1fadde9014af328452202a2be890e9777e45dd74f1831d1d7b4e8b8f7410507cf9d3a4c5a1e6008d4649025864ba7689e0bdab85184401ae61752db8f7f7890b165f39718933f26ce0aa907639026a514208f12362d3d82222b9c6a6373c94583153df35e235ee2992a55ad41e4454ab69bfc0ab3851a22d773ee562857f1eb3246a33ba0622d909978e6d672255be964ec8824414b4f5936a0f820c6dd511453f5629d5f89008c9b3a67a6da2a2ff0e61257a88b4cae95e68c6eb941d51be5e96131df961a6379734984e5d9013e8f8f17008019ae8e114db1d7c22c82b57b0fbd2ef7cb89fdf7f65e98c5b6fd3963b7e547afcbc7617fc145db9b794bd0fac24b056e291234ba676fa79c7ef53a0b6905c09ad33debf09a7509660d90c93ab8b3d8949d141f6e961069ec9ac7b15d91e7120530f8eb72fdb151505caed76368bf033d11a905baa0473c30e47d6c28ef97ce355aee35033c6964ea3a41076c8a7570b20656308c470301b577d4f982e243e608b2b02b698e0d9e42c7ce9131dc34556b81567ad0be921f6ed394ee727cfbc2a5118916e70cf59a9a7d07d999087583acbe11a9279aed6a097cc12ea76ae72d0ee88b524bd8636aa82328f56d1590915f1ef44bf1e3f8a2b107fffee25d34eb561e766c5fd18cb9308779ba936dae6582ebdb7ac877a4c0a344a682fc77ca79894eebd427480264c0200521ad73a5c734b000a28f69875b9c149147e5f00bdacb2565b3716a0624fd62812e8db4b8da774cd8e91f1169bde20a2945f01fc3f02e5aaab660b0e6b59b0091862c30c0f2cf66d12ef7199abf1c9d5e92a93d85f349cd1948ab2fd6d2a0e676aa84b5e75f872e65568c535e097eefa02bd0a6252b43d74da6463a7db121f1a79d9e0cee5873cc49f730e32ad62fc5d50baba4482a0dbe052f6f67ed8f55b1a8c4402752ae4795a7e02628246518452e5eb689ccb8a9f430ced397c6b2d14c2740e60f91a970cf3c6f80fd185e947ed1a4ef2411a266ccc62705d654cc703aee40d497c54186b9306db660422f99f1e32af786d2acd00b1d37519361632089cf03dca8fccef2eb0ff39ec28fa800a94cf3a08093ea75db9222d51c5dd87c75800aa0c8ab3fa88ef3f11cd89d7f736bfbca8f9e541e94c3cb56eaa75e0ed557d6af0eb2116cc444970fbc061e95db8fe4017b2c59b26aa788ea1b713cb3dfc701e8b874ff67c1c311a03ebf2cf0f19cd3813c4c5844029c38e8119bcb803f8316d6eb185641ec6ae99d46152b6277f3751c4987d66026b14c5404895610be86c79814434367de77928a9c85b4ac5ffadb9c7b3e8557c2058c6f6812943210078238b1aabe20518280f361cc48f2a915698e573720444eb3ebff60a22fb439a717e30d66e46b566432d9dbfd950040bd51d28ab43c6b9746ba5fe3711e9cfe11559f8b5790d4a4fe4ec1266d9ee90058cf9151c0d6882ef66922af2ae210285f0d46d30a818d899f7027df2abec678660f0fc7167340aaf3a4762e922fd2d25a361c743dd0fafa0252c2098da7e6918ec44fd167eb12028304e9e57046e572d63fc6daac8648b75e96a83f83ca52925934135d5651ef5483019c51029d2d0651718a0b6e73d1c7c57aedd19880aa1161c6b48ef805715f413d21950eb21a455cf924b19933a5325ae538e0f879f21a97bdc777cee7ea4a33377c4ca76ccdfac8c772992e3b473c1c64c53fb9b811ade7e8e7dddf7df137ed762f219fd2916c3acb440698e42ec93a49b1fc8f053ed29b4422b275bd2ef33fc2c71f7448b8456e3fb1e26dafae662120c8d65f100e0a717677f303c43f61d1cc2ee8acb63a5612fe1b571e88c5c981b4539493abf8e9c9afb7dc1f30381e3d0bcd627aa7f1a12e33fd34214c9d13a4c37977cc66070e0c9573d28a8a6b9204cfd55273be9d5e8217be95538f9efe535aff5f40c87d6a97a00710fa813e862f262a725a3087c7bfe4bbc3bb020049ddc226e1bebcb7fdf6f2c2e04ba7914a4f27d7a83aa180f21bbec8f3a3082d0f83d36f01384e47be6f4a81da6207c48041da572ed824e063aee91f94e696feef4ef0ce599dde72e58ac525f6326d8da58a73cddcb7e7f82bdb85a2d3df58660db3967825197fb07a9aea554a84f5dfa0c6e06e6f04577618029c37c68f213b34b28cd1864a778d3d9d9cfd28a79435d5d29b25859e145d9148e9f326b689e0bd657f056e3cac910eca0e5b702217f1aa4e3573665cc67229f4464b8721c6eabaf0f75fd6088bf25af5ede0be0a171d12b1e7a81fcfe6d9dee57f4517379d389a6490aaa218578d699c12b4f984c488cf824f4768f523cf6a298c0f14b9d2302c800b622a59500d2d0dca75893550c9108244321d65b97e769881818be19f5f7d97bb73a31603686d1eeca139a1677afe313db0d2e043de2d102b81d06625cc3d93a73445f0c001a88b4b31dd9958029fa1bc3354173a53ad5ba41dd604435762f64e54f3a499dd7773f432a91d165dfeed578f0f45ad8f881264e69df32210a36a0e939a6fb2f515f6316cd8451959843b07897b92a96e4aa25f0503045f5fed91d7f7b1928fca973807bf25d4278bce489648840311fbe344752aa805462c070e0044772981370d0156743d1ea898870bee09c7fb402342249186b08a5849385ca18ed7343770faba778d76a9931671f2932776b1aed3fe526e6f61447706939982fafe823aee5960eaaa1b4dd9539eb8313df00869e4e8ae8cb921eebeb556739071d411c41132a8002ec388c7b3fac5245ca22b4c44402b1956a5ec3bf3a17ad0502f7e6174aef0c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"107f8eedec586d1983786c547ec9e4bb"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
