<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a64b2509d533d22c85958286c37340df37a0cf3b2ba8303f8354a1f9b6d12cee87b78c0aaff6e97e69fbec9a79760d4e87d3b7cab05157fbeb5675ee8cf13ff59d5d195857b2e5e9b2ab89b18af4b6152d3566ef413befb68578282b414842fde613e701de7bccc48f8873b921718e5ed84873ac3011a12c94f19530d3749fe374cc10310cf120db367cefe1496bc731c825e8623e86726c4adb8257abd04ba61d981409a4f9b6c4637aa578c1279f97574bcbdfe7ca0a5ed6e3e93f52b10e90d1844049992d1d8f0743dfe415ae5c093e14e35d5aecd621903e0e1cee54494bf1fdbb14db469012dd2cb08490420612543396ff00bce1da4abd90ea9ff3880f87ba303ba81fb5db847ccd3a783042a58d726e5f9fae677af6ceea0cb95b7123a110ce7f478c4a53f85a1e17aee075ba7583244d3ebc65d2f3790e3f0c7eb7de051224d3ac9d95bf7a606d129eff4c117a9a961858d37b43352a88f1cf2ff023b3a780cc5bbd555d26e673f297b00d20fc5a41a4cf129488606455925ef17514cbcd6dd5536df4a66f2d9e34402654ae182017575504e6d063a78cb86fa2c534b6462a4cf2f29c84da2656fba15f1cd76a6eb850c443998a805ca228d953abba25e6c0f6edd1d12292130796292067af5895f06c05bd602bc8c55203fab35faccb6a39845548f57ad30fc63d2d073d4011af842af7adb0076fcadcf315a4279b65fe04b615e5cbb00479e48a39c3db58745199faeac2a98bc00f6ce0d739c3fdd110dbe9f2cfd4f03f6b3277f735c144259cb392abf32b5d29fec06099f3d40beade3e7c3fd39261b06916eefaff3adeb9e277ba8b6cf1e04610a678268d7c976ae650b8f626ca44f8c9b72c21432370005109eca921c30d3783e8f67d02046ea7bf27a1fcb764ae49be220473f64da13482f08c27aa8e2e70a8eb7e22f8f713c8ae102251058949048e70de8dd0661448a2ea25974e98c6a9184561bd3681f0678c79526338bc1ad92ce3b3cbc68b927138715fd1550aa5b2b9f3fe357c5f31f0ca2e4664ba2cf1508b2b7c84813d42b0845bb4cf52a9395b7fd7393fc47d426d9a2c830c25ff9964d94a19c75fd916ba8914bfe7bcbf0049a01bd93b3c666fc0a3483a141d3fe603cc0be133d6e3fd381ea4209986188de9f98388d1556cda18bc50f146e522e062dc1ee971340a92dc8c0cf4f053ae9c65a872a3d70dc4018a85dd3a0861ddde351af7160aab9a0f379d1415c5e8ccc313d87d38ea4630eab54920dded8b45b4dcd0f47094cf56239af43fec76950f635f60228ca7b81f48933fa8e4c59f7d21677a314aa6155aa460efdd69eb3dbc263d35573c5ca2a1f0a355d31a4b95017e4fc79a80e058099592ffe920303cd3d38d0a1fb387c484a177c9fb2e67970115140dbb266bacfa9c37994034b88dc197fa4094ade000277de046a3619c23e46b5743d0e8b00caa64af278be2ee8ccc82595914d57c235509127164271aa5aa0cf9af84d5c8c3142af334a9b610ee54572da8ad2eea4d011b4d4a753b7ca981e78b63ac98362b6cff7fd51cf044ef1a445ce8c357b920b7089f8af7e82fb564119862030a819699509f96b1fd1bc407f9306e0d89a1ba0b58863c8dba120007cb2b6ce873bf052f4ccd105bf73b2c8db5fc2191104ee713e5f38d9d91cf99ead01ce15be56a44a9712edd48fb73fd7661f36908283255511359d781760e51e7093e96e1ec1ee009c60a5991757623c49e69d1dd61c68c2950f71a668e1f63b28600c30fdf3355bd3d7eddb4e24837dfb54d1a3dbbbf0481478c3374110c72ade249689ca623f0282052e85339444fb469a7224bb6e3b40539bce53e64fdc93c60554b5df51abff39f3068b309603d1588ac6c24096d3d5f90303af2fc207a831442000ab385fa89d7608aab0a61adbf591a1dd5783e14fb3a9a7602b6dd48aef2c6368ef71960e633875868765fb63ada9a47ffcd459424b791faaf12abcdd7668f8d146449a28daa2089494d897a8dc39f64c0b0fa0fa1a7e6511cf3c0f36b5110e47987b2c52e9bbea3f9106606b620eb3e3424f3c909334f5a1ded2f8e3e9115d34f7e511714526da0a66b3ccfe31363f137f1ae2cdafaa276cdba2a991d6e5d3bb818850a901527d13a5685ab7f8a33f555039e06b36fbfbc48e15c058ef348540d460d816b6c22489a7cc796d0d7a1920de238ed6a9c77f9a173f8e7c71f0a3cbc7f8e475b5213d03297287f7a0db4c28d3eb7ab63ba42f3c196af461b8f8bb31ac42aa097ce77a7c4d623f3d477ebc98a7541f63f344a5de04fd701b615867e30eea9e9d04a3f58fdc16aa3e9be6e6dff3da2bbdb9f6c438f073159b6342833ad418534f554ac108861c381356589890c7997a8c7feb7d6c3129a04263fdd59e69084b845d105d1cce3924384d531ad0500c92e212a7767d48de629b66cdd23299bb628214486d7451c630dc92c0ca7b6aa8bea9ffaa3a8462ca05e8acbe976ff0165d5f38f86c7bbfb06313cc293111be7ee0c7bfef3cfc6afe8e035b272859892e028671a19a658269771bd501c2bb14d780ad8b7d8300d288c42cc1d8e2543aff6464401c68fb8e280e1daf37f4c49378f001c6bc843e7849e5b07a70a0a5094d7329965f6591c620517dfd22b335f467540ce0c9627a1c8e2b9429e42612dc1847beaa4558b3c3a4e93356a322e4c47433422cd2efe4964cc98f4e95a41f5d8729f79d9d9c2cd009e422c6220d0916461ce1548610c6d50bb8ee7587a7191c40dae0baae24a26edc19a0b1c34ac77fc8d18bdf5a897f43265d6cfa0ff5e9c02b46a99042d6e46e569811f1d663d01d200331ed477e385664b0d3bf7bbe904a95542cf4164e3c51bae576130388c4ecd7c235023764e0ce252d5ca847e09882a8c45939d1666deb3b5e464ded5e3915ef1695cb05278d8f42dc33de5ede6b93bdd008acb5b3d2c575278f5f6d2e9cd405a3886b6387e6337df4caffe9a617746215d7ac2801f8615878bdda17c2bd18b2afcbce65bb7e575fb27b37f9cf6b190f313201d73bc6b880fa5fdb00fe1a43cf7fa53c9fd0c8b674bf5ee05a9087b80b1dc181532b86c53d335299b86d15a49bdba2c03ec1ff3f76d7ec8bea770caf14565e2df0e8a6d2f77d68b43d7021d2ce45b555f64d191c0714548b02cfd36ac7ed21e29714183e789ac6e1163d5518d0d7db1ae8e392795985b508e5f026b81f78caf6d17090d89cbf5381845854eff1fb005f1f6b909a654427ad1251adb5fab41e87b6e2ea634527906f0d7570faa7bc6e33dbf5d09acaf06402960758f11812e0396f7e3c3e78f85dbd70361857690a142b1306521da1505b64ba9a00581a37939f489770b5de4c9f4899ecab052af7e281b4db2884f1732ca4dbb1601835b70213544f68239ddc4000ce33912b758c6ec9424b7c822389157a3d2513ee2b12c00438f4b61168ba4327d2cfac2b06a66a3deea2807fb3776104c36ab679fb0aa95d3d21c1c68dbb4b724a7f8cfca96edbb5af12138b7b8fb67f61e95efb0a61c1a0fdf8bbf214e9226f3ae893183d3d195c24695a0a5379ae195934069687a60f710a224a0f041ba621a8b0f2b4a7c1187717571d84a007908d9f36d014ca31ce0cfb20495daddc7a35c839da568f004fbb856c39295ba7c6fa10fffd6976aa554546898e4f05e86d313a3a22076100a5f65da6622b75ccb09bc32be835441dfd444f02f4fda26f9d89290359c40fe5d7820f9de8df6d64e6adceb5c1a28257028e0ccc29e9ec3aa6f57157d0c27d97a174ff65ceb46abcf7bd76c5d68b8f0069b270f3fac41de283c47c871a4466022d65057cefa1fc65a60d3f2de875e1a39bce82cae146cf5a753206a3d8dc13cd3b5fb1de4c247e1421b7f90ded4120dba9e0a7d9c719fe82a3d991af7c2079a9ba0c9017bd32d3b7ad425f8289ecb4001582cf4bf9f5ac3ffc8e347a570e491cde87715439ad02b910bc98a266d03e58ef3f01557f015471d8a6d46a38aab1d3b74c2181428f4f90b4d8897a444a274aa9a037957465d0424e7340db329b639c49b08e48311943718c2fa2d2c7588dabb287dabd84a90ff4c4037a2b42cc708e554d236fcd40a7ed68d6ad25dcbaa7629bc130c719b07c4403aacc21bc1cb7153956e139ae4822ef7a3b3ab1e425462d6b2435d59da2aa964568cc14c50fbcaee77ca28e2acfd0d439eea0eb5f86fad181897f9da92376f9a408e07596a5be9b6223288b249d132ea8f2891e951db25320e5b97f0ae9b3e94258ace0549e1c580722ec221c6b6040aab64f5a911737c52aef9e956d76b368b3e088110cdaca6ce255da836db6cd749986c684981b61f2f43a8c8210d3667c55dc81e20df65be17ece3aca97cbb44f976f9e47a5d8c1dbf16adf4b62559e61e4fbf71dbcb2c8a018279517acd564f986ee7ccb78ec4a2c6275d3d522d72183b534e3014ef80b2a316c9ef1ab6306212c586f103aa6fa919dbc159652f4d2265a1e8f9ed08f8ed38e0cb122052d6082f2fb034c6addc5e6f22e854a364c55942aae3f3ce7af462ab69da86b8a9f0c210bc719ab4f630b3834fc17a7b6ef81ea211154f49c9a0b357e8c7fd4471cd4a08f161358f880ae95105938536a9d5dc715e1da59a4e9da047e1e30dd459cfa3cdc0311cab562a7d4e0b2ecd3ee9aaa13f8e52ef9495a42dddc9421fa40cac2770d93b18384ae0a79b0b973b70904426bd2968a3dbe2f63e6eaa2d92f6577caff3f117f5dcdf99c89d3b3846ed4370a677cf067f71332cb425d155df98a47628966502f8a1fa188a50e36f920fb89233b4a2d93eeed7b9fdb077ab8cbb77f8896400a8a0b1889bc0e829165b963a101f4469f4691fabffa5a6a0bd63e61642f139c9e059bb97a0767a0bfc6bb4db1c0c8b17427886b4eaafff7dfd57bc4cbb8782fc2e2c81427e9ea046123059abe4a8bad9ec238932084f1d6f237df0195d02789c6a4b486cefc93323dd03cdb830f5bf94522da875e75d0c54565c0fd7430341ca59b71f42f1758359dbdc19c741636b434c8c044ec92f7bc16904d291edada8635203fa3c78d7c4d61c7fd9110cd8b9f66794b02fc088892c7fefdf7b3f98cf76157ded416442fd0487935a75a64fa4e3872e1b8839abb70b34da10a4c5f9cd928037e2235605d166189cab0cbce9c805adad064e80caafab4adf9ffaec3ec19acae772b7252b262a2a35bd3cdba7dab0eebe5f805469d817c0af564b3a10b3e01fab79fd2edd58427998aa5a4e2752b1942c125f8729cf2171cc2f7f7d6547ff6a45b9ae18fa64df55799ed09becc7c9ef58fd3dc8ce8701f695462eb5fb73acd852eec580bb264be387ab1973515b347517fdf19a340230db86d00db7b21189ab2c0cf207939d592903cbb48ad60015e8d5dcd2f9006ca95f302f6cf94e8f623bc0c1797a312930aa32ce92748d5adfedd3c6f2f7641f48123e7549a2be3c9de71c6e53b93b17044784569eafee0817c76226a9a5d8103d1f11b215594f0823c58e1c64bc2ac2a0c3bf9accb8f05af0ce21142041aaf52663828349633033e89240674f9dcce3e98cd84e6142e3c3efdea40952734e7ff49bbd2dfeafec38e0838911313f6734b034dc8968ed73435e179c4a35c99cac410bb93c0c643c92e5d06beaea673753c745a836d92aae844df4a8ea548e82f01a792589075dc218eb27d20caff288c6023c3d8e8775e42e8610ec943917c28f452f52b1c835541f43b7e26578770a3898bdb0a54793de8ef2cac2fd9881e1e88f94df67d877be454089c76f969226c19e493e10f2878cf6c8711d37d2fdf1790beefc6ec6b13b158f87ecd225f6328902ebe229ec72310d62d57696a061212288cf668ddc800eb58d52ab1365ec00a0aa4035d29e5259c6f02dd2143eb45498002a1ca3d8c9a944fa8870ec64be3fe91540adea1a6ec7564e745ef830ebd75fc1766625dbacb29508c0008fe28652381a813df10894e0a66273af5c78cad9ead04ddac87f621287258ed6a309f2ca3be0d53984fd6034a3a1c85cc7ae8a42143972dca9d28dca2a5739577e9cdb00c57dd870901ff8e64ff0c5b0ee1427c791d0b65b5a64880ae47995bd49988286fc07b0bf37f36bb0bd609cf542c99bb9a0d6a3568ded0230adc39cd6b36b846a06d1a90ca15451a8e010c405dbc4779f69204afc0fb2da9aba8fadabee2b1c45983c9bc6f8c7c0b9d5b3b1bc47ff87909de4674176f091f091aaba819dec0c8a7411f123ed6e967d11901b2d90048af280f41500b6048b68d215c9c837c9a6ee67d8228289549e1e9081de692755ab375065efc833188601c25ce49fc915b3b7d80b51efb677a23a7794b9a4dbf38afdc5b6dc27ece2c2b559cbf4e730ba3cc3c876acfe92d6445a510534c29dd16f49a7885f6679d8fb495beb98e0092d13082ce182f6893a144ce63ca8d89628d054101cdb000978ec970eff32f29cc69b8f5409f93b35fd5d70525ecaad03690218e994048a3325982c9ebe35f27c007cb411a008eccbcb8e42bdb53c6a93d930c24fbe96aff70549a037974da4176423970f5f5c478bcb128eb15e4be1bd6260338ea42472a59e69d5e42e05e77cb6dedb0a47dd8e264365b02faeec576fe31492a33e931a4eb07887427463e5847f1989561642c969958fe595113bf81fc910e05c9249c6081e2254653d1c73c7bb278b94168e889628c140738426bc8d41abc4ab33ca319fde060890d36caea2489e64d4fde2a24da59f002fb242c694bc4c2662135ee127b94c69ce90ea89d21b5813704517cbe3ce50f80e1917d9a41a1e96646913f4a373fcde36d4014f121f5c91f1e21187629b7cb51c77e14a7d4c00d434163d6369cdc3619dd38f9e33d9557ea741b66572707d3dc899394ddec14fc608026ac1f458a91a90afcf34fda6f4c52a830bbc29483ed90ed88501260585b90380cec34e8dc2e73c060e31203e4689f7989284c674843a4e90f433b2cd001ee6e8e8f5c6f1a798bc3d016ff47d8b2e408ad5e0bd74559a84651e8bfbacf5ebcaf70308cacc65d423c62cfd60057b012f7e64063dfce89737df1969eb29c5cb46bfc4c432873e73de92b48ccfce1bcf16804fb7a47c59cbd44c229059d82bcf787c9da8d9737a71d8c5f601d6f84de66e7e72a7d97c4d42d3dfdda06d5f0f3133c7e2afd5941858ccb5939fe831042c4bec07edda4a91cb1db082d4cf90e98a82443d480bdf3cbbe8d4edd0c16e2769473cbaa8cd5b5027ab31411e741273517003457bd50c1a1c9d231d2744ad22c4e30dc4f7d17ce6a5615945729e91a0fdb839e6cd1f85ec3b3bfca7d171c0a5fb7f679f83996f36f289bdac31c32b299ef9f4b699bb10e2077cece911b805e8069e71b2208a6f694b617e808a1be3120ea640f9827303b6e269dc1e7dbbd4cb673c90fa31f428b1d4f64c823c50c6e774deeaaf844f4188095d428c0c52de71aa295aea4becaa8fa073bdec87c5e78a34d4f443245dc35ad41a62d8f838abb161a864a69643001a314d21393ffa834fb764c5edf753c53dfd7959ddc99ebecc165f84917e9fd68a0c6db840b9ce1ee60ca94d2ce81849682122247fee6ff7efb0bb6a35c6e3dc2b389088fc1419e4ee53f221ed3d49b21b1cd218ffed3da57a1c5d46e2a027417b3db95316283e48c15568e0ce883632ebb87ccf571246a64328ecfcce4bc8ea9be52caba9aadccc732663889644c46243c909c643cd1ff0524de2662e6890f95f7d5195976665a838983523cac68e56a23204c47b045d308ae3a39f2b87561243d537152a6a29cc59684a47817f6382c9137d4a424d955515eff3e5f98e1d0b338dda30ef1bf4797999ef07554d073de7bacdbd8e0b81cd43c470060206cff2993088c4365104f8e84c45fb3d20082221f05de7304ca32b8fdde66aab56cb3a8a9d08bdbc99c0c21adb2795de3c17da9cda69cba54a4be70ef3a0bd726c1c6540db6a27dba875ca1db0287aa38d880920f1bf3ff5857a9b4ac02bc6c17f28969b3c377578c23f82e97707dc24388d303e664aa01245703cd8b0883afbf07954b4cd589771f813e1b182f4071b85fbd3ca9db7f2f0b2b6dd604217cbc46a8a2d4278cf163f4110e83a68a2a2c30b5f180ba06a03da790918f60b3b13bd572145ff7d2d8aa4aca5437293863f06152209253c7ab4c12de2b525c2109a589f0a40a7343dd14095bd9e5906c40d5d1e9ec717b20e7178c690709c87a616bf1dd97315538cb5aabf75960a104959d640db5112fe921579baeba6bc76858349286ba837ecf5c86ded8cb87b6c7a37e8ca4199762f8912ef1adfc3152c6b605e328b52d048497b417f560eb73edd88bd3150c73949e2afe30b2cc8ec285228b0e4e087fde7e8fd7b706a706d69df690d141d78d8a7dbe1f69248ff0a73dbd8eb805c1fe9611c2e11e674815cec7cb68b653970633b217f2e127b8329866c408c1ecabdd9a07613c2e3cc165a7bfaee6b6732af2ec3a9e1174fa13a629b0900e3766959556cb801952d5f5a558cf18661e3bb3b75e9f34e6c2df33d79eb8be8f0a6ac23960039f67d3436100125f708b7f62ebabbbd60e8a3a55cb116a2ca04f848f92d0ed8e129f2e37a3ab1f1cb71f7be1532b6b21357f1d8ac33c3762c2884e864d291a23848dd5701e0720ace0d2890c7185a63412604b755d8949f7ae0280f2d4e22792779c39ce6bb114688f22b45c6630c6e27548b3ddc1b0258b841e7f026657f1305d1f8ce8f170c01436d35c238d04f8791fd1d2ced04f2b6a70578eaa6b4a832007519ae6daa6f3a796380797ad01053bf275c23f10e1d73ba0aee77b7b2af13e3e79bc85c5285d4cee4f7b45ac60419ec1dc89c5757d8f29f6a2b23b59cc7fbfa85efcc9d5c388475770b1d7d2a6875ce3eb7a1f889525807a02e759bba376559911af7b9d726d1dc3e53b037f264a8dce26052e073b305a2c7101b0189303fee0b9fb1cbd4dffb657e5d4a6a0bc02be2cebdb58f17b7904d76ba3183dbb3c0d6d4c05524cbba98b5386f8a59d508ed0c44ebf6c070a9dc5fa2b2bbd051485245bc8bdb2076aab61f24b4a0a5369f5ab386c284d873d8ef5a389ae0cd60fbf610f28ab29218e4808c1251c62e2b37758172d5e0e51b7ba700d2f8611cbd3b21390c12bc9660a8a29c70b9aa83ea1e37f58567302324a2f03b14a821f18ab4138348c322a1322d36ae23a2fea353d80c8213a2180de573d337ed0e19b2fb40ab6a33f939fcd033c0690e6ea30712bbd01c1ce1da3486d93d7562cc70d685f5215c507c547db41d92b5de91d5e790eb6bc6150e6b4c2959f663659311d2c8e0dd6be10e6e64f53b4ba987e465df0a13f835498977f735c9f9457fb4f35972af3bddf5e5b7a012457e2bb4ada1f5c512e8a1da9dd52b675bf0751c44df88413e90a74879b423c52319a68434dd53609333e992862ca40cd9e7674e96a2714e01aeab1ac410b274a606feae23207a4a81087477b1079242408bdcd01a680d200485180b393579ee5bba802295d9d07711e8367d5d229fbf15f4cf4320b7de8b479ca9744d83ed4ea5b460c8c4f2c260efa6cad41d80bfccf87a9d26b18266ce7fa29b59a444f0b8152d1440e6c6022dd26c9b57b0f391981bce16492cb7944c79bf529980ad4c31b5c2485aed346a2af1a3c8c5ec2e536ba21a31b2de7365ced1cd081b6e4edc854b352a2b21b4c3d657afc8982721a106204533985ce4d3cf2ee1ab1258322905b2efba56bcbcf99d2ab29f91010cb5706f2bc44252ea53f03e89bf9d48fd88423ce9ff07cf80a8c891e2ec92340c56b25bc70b895065e5c700532ffc17054ec64ac31054dddc0b54fa3a76e47378671ea4f4885fdb419011030c7ce33f8e3b0ce63b3a771f4d7e67e203145b250497d28d8b3757aba1914458aa0480f24a056daaca9cb9616c5a41fb65c6a2769da09e8e392d330f8a8f430d01855c8d3c9daeae42756d0432b19d00ed24f01aab856e8781afbe0ba5c8771c4b09850e728228defd4c1f7069387b96db21885663aabf3fe5d143317cada11f7c1c1bcb07d7bda1d61995908cc172a48c4f0b51cd9182eb5eeee3e73c7d6e0cfb4bf1c4109f9ed7552ce5a5a9af172efdd903faf098844ac9d49a159afe1b831ef7ea02775c42fc7abe22ee8e9e7c721a616afed81e11b44da2ade1493ace43a7f5e3ac2b7c4e4d4ff0543c8fa3cc92e30342d5728208615a65f40775ab7d4f5ab01416d763df171f01f0fa3e70e9407cda89151fca408ef9f0c519c5f0ed30a972bf7ea5b25de893b747056ac003f263d0515a00d2409ed67497a09f5c2b0b52aee2d9e58e9455887aff07f03aec297d3e4c3effd63029b61979fb94e664d0c9faac73d3b160ba497107c7fff75114f0f86ee2ad850f1f084f483e8507234fa52728a5ccfc6b3933d10f43f0fdf5e69c544cd3de9d458fd4da566ef4871bd8dcdf8129e388ba5fc9b7af06c303693a586cc144a5ede59b52cbd7e21044d8423c9d9b335d29973c4f69f48a00875647bd698360dc753c56716c08d7839fdf501bbe53140c0ce8f948d770797d0c4ec9f1b127d8b8a65697c492dfac603db4ef4e856f88f177d1cde56417c5e0701ad0fee8d9da4ffe7343fb4707fde3af7e54f06334091b33cd641abad7fd7fec64c324b1ead2b403970a78291ad872f213c26fe90bc159c0f834d0217072b4e71d26825017e7a4ee404a3c7a6d801c4bb2a2af8ecef633c92f2e129ff37423155d982d7e0b6288d0e096bae706cf1d4727d000b136aad84c7a523014584426ac3c7b553e2d7e91e3ce5a4630edc7b46b5a6ee335767cd47e49c663656833483919813cc36e590b959f4aef59f168100b0dd7bb943bda9a95d718d81112cc89c5a764006ef87c5c5478f45294a6fff47397529d5c014e2212d3086ca8e304733196b650f652e59da8f3bbca0b48516ac9915afd994e94b85eeb0ba4917ed400d406c7fc98ef1a2384d96cb82057c03baa77c32afe1b6673e7fe980ca455592ba32cee2afaec5ed93b8f5b2686d5b0c29e9f342dfa1eba335b9dcc6e59c750085696b7ddaad327bd4303994d3d2ec83fbfc65e2439b978a81c94310963f03fb8fa3cb2eff0ef129bfd14c44f9e04e122c5082c185595f1556b7ce0400d4aae6fee79996a42e6ed28c0f04f28f559f4a2df6a64582e3332ba5a52c5928bd2c0a1d55490142abc12aed1c2d4c07b8dff6c39f741cb1edeaa87a81a6d54d27e2fc2633c4be4eafad73a1810b1fe5a81e3eb53a04141386cca7aab2d70fae117081d50b4f09c0740606feeb2c344a76929b08c118145292ffa981a51498643d7109e6acbce89c49d7413e85cd96dec53a93ca0f1f90ef3b44b1ef7f986bc2f70b6a9713677f10805302210b6e8c00b77917fd08641cf2905cd68fe2951c4d80bfa233dc37bd3a9075a55825b610b85736cbb64839d3386237a05f6dc4d9e54508af7ffe28b1094bdd818a0e0cc0871826bc7eb30a62754a700185f0e73a3dcd78575c86e0f48141a27c576f3d19ed672f31f87bff526da64f50016605377f1291fbb9f0e1beea0c986e185de5d1f699d6dddfed1fa3c7ad01d4481140bd1d9ee83df4b508863e4bf8578f0103d30906dd481c762542bf377a05df3fea5e7cbc251a9f823160346e0a89ef8f90b09dfed643684c13ba548fef196b74631552a3e77e8b7724906cf0fa869e3c8dcf5648b6162bd764abfc208f731794cfd1a1e512cbec40d22168e2fa81f552eb3f96b9d510c985d3c132d199becac51d3b943537e87bac757539aa40d8a02210d50ef34559453958fbbbce6fbbedcf0e63c3a1e44434f990cfa2b04ef737224c8294c26510ef0dcff165797643ec0ed3b3ac3ed705df57380eb87c2cee4019b52c8951b6237a9d8e8ff993b46e2eab69c57ad340b0cfbd3b609692802b4d8adf74bddb1b4c6882b1027e9443be81cf180426397615ad6d972534251553bf2c850a433faab36a7f844e2521d49d38110265cb50bbfcfd20dc59e09ada2b6ac8f6641802c55b135ba1fb7c255b648f562db83555ddc029cc28fb22bd8cfcd0210f4bbec1de1bb84343caa262a0e3383ac5dd6d5889a1d284db07a9c4404ebc377953cd2bc2257dce3086e86a3d64a780f8c4a40c1ef6ea9daacbeca28e737a212032ec31db3bf2da85d63f9b16ca5e714d3c12728d6b390a915b9e52b974de5ff9bd9511fad80c7230a8cf0f211d7913ce6684efec4111813f4ea03ad52eb834d451ed2da6bc042b355ef1c2f071327a932db09c5de4e8c7851428e873d866cb72fde4f5ca8209c20db8b5aa1ed010df9a82a66a9cf59760e6d0435abd5cb2065a80fdfe0dfb786b5a7a7fda3d2ef94de698beededebe5bca489391bdc531044d7d3e241cbf292e9857818419dd1a207faa7ade66aff5d7fd9a81d5bd8390fb688a4cf6ac3e17a945d1a585eda54d0fe4504aa5805b7eea440fdd338f9444e876f8913a3db2e297d1be0c812c526c09826faccf1e611510436dfa0deb96e8f144f3476d444d008b35d222503de49ca12b9a04bc75f4f7e894f244b04710c14423889dc6844350c350d1185b2425b592271808798c5852861518fdf1656d54ee385f7eedc5b93260b2422e96d9bcd4c0cec069af9b9241daaa5805e3769620656ab1610704a67e0a79870ac06142c16d890d2317bb530f371a7764fcd4314bc73bf21c4c5e83f44c5aabbfcfac6c2db08fc89c03e5d511c2a2016a9e8c98afeb8a716023d69a48b548c4c9b724f285269e5b197a989d5d75d9585503b4ff4ad919669e95c090ca52dd74d098fb65d726c1d6fe751a4d6a903e47b84d085cea6cc8751b6378ccc03e02a7485ec1b227d3f282f1ec5a27845f1e2e2c1c6094188531ded2d6a9f49e0172923bca68c5877e4d25d77600dbac80e0fe9cb36f7c64b7e947646ae45d5ad4480fe22f2ad41ff785abb14fc6e607a25cac5c409eee38e27a05d8ea381701960232554cd2357daafc8c1434e5b8b59c263a3d9a07e42b5d6d1c8dff3398a0906248d64138eaa2167e342ddbdc5e3965b73866449503289d0a5e09946e4397a47880496d13ddc24e23d70e998e4899f3831e97b5652f296e56b7f635203042eebabde13efaad8b6857d0645e61c085f7977824f72ad53700402597ef7c8bddf2917df8b7cbefbc4d19bf02e80f5b23ad20afdd3e11cf10d3b3bbc331164c52c98a917f83fb7bfee8cd15d340f37f3ae991351780ea87d98d7f70c75270db61766b7734e6c142e0ce1057674d4ec3c94f2b1b73241c8d48c73592f70ee1d69a7cce53ab27afa051030540f9b00efc0be95104fad6d67b439c46f6d43577647cf75116c8bafe1e6bcc9304eb5acc3fd6db581c877d0634761074cef0fa770207927e435b0f17e478a071dc9645a46ce225d23d59b6a37594c4f2892379efcf690ef32c637d5358645fd37262775eb84375bf970ba6db725d92ba49c46ad70025059ed8fae038fdb1269dc0c35c5850ec49fd7eada884f7e97568ee14e903b7b4cfbdd4d323098d558b07456fbe7df9b385347db317415cb0226d68c3e4f06fb38cf8f9128cfb3e6ed8cd7402006d14dab2a849c1c20865a8a9f7393841135706a212107908b37bd88d1c3f57b0fee84ec9202b48fc0ade98950de5c5b167dbf0e831080660a1407975549056ecb8d461770a0f5f98191a57894fc7c448ada9e815c1b47f1b115d6cb535438cf76d3368c029bd0f637162308eedd2038b2064f7b3780e550b477d039c23e796f485c07add93132e0a960b3f69a8bcad62088926ad192a04019eccbb0708c62be8c37b8537841ea5bb2fa90dbf6528090770d5135c1033474a250d18c978fcf4e426ffffd606c9f52b1f5464d58f0d3a26ced4a986ef25a28c5fba2524bdfb7c7d42a76deb837c3eae13733f0d236ad6373f98ab993c186a99a52861354ed797cfa1cba383f892a703d87baca61ea00ad8c35e08dbd263321654ad7ef375cbcdc76820f758b73db348017415d43dfc858b4c8b54dd59b28c07f926c79cfa4980db3a3f894772533510375e9214600694e2ba5baa7149b82e07ef68fec6144ed02fe00ce4364a31ac18fea70589a164d31383a0ade9798b835c3cfacbdf76a0ffc2c545f0e1f64ab59fff7efd1ba4e1441798f410fae3ce2a09228e47c8eaa592fe859664fd060719eddead4a2b10dc010fbcd71543cccdb27fa972d1060f6a705a7ee961380953eedc140551de76f0c7cc379dd2f8ce1efc54042335da9b694320389e373ae17e31856338c8e547653f165e5f388c9405774558a05c6de861408247a869637090cab7008bf90262acec3c1dfa6f923bee73120bb18c98afd6db1bf797ee4250de8edf1afbcf6c3db52a6c1f699d9e796a748c6fa9b91c303b75c19549003fd0ae6f7a8ec67f89af4dbdd197008f0ea28a3b5d66cc93f5b06ac9065278544c132fcb110f9ecfcee1b99423dd95abe67a2fe66d5bfc551ea7c14f32d01d5194ccabedd28a72f83672349ff910b7196483ab39b24a26387c8ede67ef2cee6d78ed2b676c1b6d84bdff334068cd059f0eb7b19d3926f1883767d09432126ecafc59b5509cef2b9bbfb47530f15de80a060376c7b6799478c6c6c6e0c85b1ba2fc6a9462cff38964347405544d26834b510766e9f05697a9299bd6f5c2e845b08b48acded492385d3bb576b2fca2acc8d33332139bd24138f9948c8c0f23cc12b4a23ff99063daf7d52417dc5f5ea83dcb2d26329665c60c0a73a94f560656d9fb86966285533b651677f100ed1009d640f48c4858adb004edc50ae9fb4fe18ff0fb113d3f96fdb8120a0c42a0943138db3fe893921537a288793276e496c84895935cdaa7e19a15e2d65190c5b7a8f168417d61c84f6b60d2202724f1125bdfa7b06aa5cc0aa875251d58c9f3157e652aa3b37534f38776e8ac8c0f4ffd9c78d9a386f9f72c9c5d56fca4bd6d605f992fe671627fad0d2d67e93bd2e72548df2e546372a6d5d860af8e901a07ab31a439d0b2166b626838f114f9e9656b1ee747a48427984f53a09f07b46a304df43edbbde1c7aa18587d65783eff713fcc4079b4f5f538762b2c7c96ceba58456078aceea6423aa8415b1a65822a1d282ef6d0c5a47369eb9b71a016b1d4fb9872cd6c4603bd7234b957f41d481f21ceea3d3b4b4337568f122c82c81ed1ecbf55acd51b0a1ec913fbf60496666de383d91bd38eec631d3825691906ca455622baf5f34ca84a28ad6ab8a219e71c146aa3543b99f018e1a06fc33c9b08ed94635c8ac432dee59b6b9a63aa4d1d4f69d4c3024884d222501b5bf7217b9f6aa1fcd8ce2cb9265fd4b42841f3266e98e44adbb195da5e0b35e49e280e468239b7402be7699b98ca19a9ac2933a7c6e39c7c0e0ad408355b7542eab8c71abcdfc38f29887fcef724ef37a828da8807863687c543122a9773e5278a72b2d177a4e12fbb836f97508ebe7a000e19946d95da465025b66fdaaa5e81a2a8d33b48f3d7c24923a0a3e8076d7ec9cd5e8f139dd82a8333e3d66d638754bacba24e2f22dfab7e0ce8c2a9453cff8bf451f88025394d25ec8a8555332ff31255bea1f6876055346c79aa01eca40216370994c8f36c1afd5b659a7505683be1a3bb0e1eb22eae52bf3785ff9fdf66941e6664e2407bb53d55aae51416c914c1b93405be5455814bd0836b92760766481b673fec5b28150a6ad56b5d0637382ced60cbb462aee97fa647ebf4564871560b2398494b6b36b876a0eeacf01eb06894fd059366157b6afe5ca68f113f2208024ab70af89421b5adcb2c436b2a0da1f4f635b4157b72ca47d84e490f51aa85a20680a3a8061bb50cf9769528e69c1f10ee3944248023f123c56fee89dc14b87753f7ab89ae0c8152f7870bc509af5bcfba39fa40005501798dd285c22bc25d6882474eefe493434ee60058ceebf192fa8d4dffcd68404071454d8a4ed766c4013224bb9997c540e4dcd6de96bdf57bc739e4b662f0a63519fd5632a7f37338b0eae4b5165e5ff703ce6b2465496e6ec3fa88eb8e71a531fa0199c8488656b82cd41178491a18d018c02eb26ba55b477576d84696cc5da2b417b73b9d19153caa04d3ec4edbe4fb994f345879854bd2c13468049b4e038085c501d18083602db500c434985852b9d9d64aaab6d1d269e3e7f5d00a3f1541eaae628194cf2a39482d5ecaa08bb16e825ead16945b96f58d10702b881069828f6fa5fd090989ecfb79f755399e93b59ba483e999c164d3054e05d3ae68c1c1fbc426ef32820fb814923450838c7fa0b038b7fae85f71c75636105a6963e56a3d4d2004f66c74953c95458e3c00744d332b58c723fcdefd8d15d0949cc63dc13d90b732d8f9d747f17c376541a9b3bceb701e1e72ff979771b521bed730e54e9a5e6941c3916b972b38925ef665cf80ac5c12270b8d86594bc2cb41e9a255299152eaa1026d926b0fdfd68731613c8bee0bd43789fcec132ee810ced4ce8552488fc86b13d227a2d7625987dfc52588ff886d03844392388463cdf0b6eef0743381e3bb34bf4bd8a8578d17ec07615f76380477d22a10593684b974b0d939208ffeb99e4e113d3484954da3c0180d07a91be3685971a41647de203a7be74ac703e978c986ad47eed3c148f99e8bae5d9b51d919e828b36c7ef1cf71952ac1e14a129ca78524a8038516050e6dd8c6dd0d47382feb576438cd9ffc66e7d7139d5de062f6e82c19b946b61d99a167ab2e5b92b90b1c59c637ac16d9e77bb795f733b39f759d2e17b5c169373766b3a8d7842a7c8ab5af3bf7ae550fc3094f7895c9b545b92bf4bbb80cedcfec0f3317e0c82496661977a32a93a282c1d1c91755ebb2f6d70bf430cbf3bed3edb5805ca36e2198280a0f56c45a86bc9f808d4ac21477bcc6fff9cad7ecff0db720edfb476da20d7d76bb3630338bbf557f386a03f84769d42d5a8a56157d3f719df565c06b5fb7056ba27c7c3e497555eaab88de78465f58f93be0c8ade9b825d86737de3b70219f2f1fded2098a84910bedac830771094167db10a1b2c9df3b0eca08e31bd30014976b7f23a249e4ec1fe6486f7802d8c5382f04c2ce87e18cfa5b51d2aaa749898da9a7d59f4a4d1ab23152de44b6f322d710add309002faf61db4675de6798b11b9392c4382dd3a438ef7d55f7515aa22e3c3875b1a84cf0bb7e11a6c9717050629a1b6bf6df460ee000561bb9f536f414646fdc3c7d925fe869724789a27a5c209ed69674aa5c8865ae6b76d1b5029ea3401df0e68bce5fb8c7364335dd8eca30e607c26a18257270481c58185336246f12a7000b4f6164684fed684893a4498db4fd01d11dd5c872a1f8b8ac12f1b1bffd658cb38880bcd9f1207643b8b95148f3b7e060a3af0406b0edfdcd94240c6c6f448d5b89cb8330c2c7fd23e74f0e972202608fe4c1ccd800c8598c5db2890a0a3e6ef9b1f3f52c51ea2b128611ddf654af26a6b5ad5daff294c66104c5fb6e9a22634325971e913c92fb9c2e58b1ce82110e61895ac56b7a77b79b0591c3a7283b78ed8d3b68ce2d9612405cb95c2aa1f04ac819845186c73c9df3cdd28988d2c4a6875dfdd41798d68bed498b7799ccdc4d083af900fda9200b7d08a1288345a2ec52d2409487ad9daea7d399d2cb4370ef6d1b84a0ac7b9de7339ed1bbdc6f8878c233d34eae6ae749eb74bd2bf8a8c30cfa070808ea5ad6c2b09ef3df46ebe10b083317026adee7ae756761d73dd38a7588a407b94972e7c5a78df075f5fa2d6e5acc6101583fbe1e9c43a6e83ae92277d2f03353545ae2b0f586912ad8da77b4864075045aa9cb891fafd37343d272e03562b7643b2a0d5b21ec3d4fb5d3387d76a5b1b9a0951f7efa0e2b356ee3cb580d29813b9bcdadda92aa40556f368453c1987d47919a921d8d0af1deddccae62791aab22339ea0c33469e1a0435c36a65edc410ee35724530267991ad223798755e3e4c70564b79303926e826e3cc7c57edaa2ddfab92e9240f3cd0de60f042b179de58621f916a32d4c4f06e4f634ae19f294145225d4ae88d83f50c8da51ef88a3c0120dea07feffea4d2f0a44b435095c86428d2657e5ccda247d96b65f8c05e437e9204eed051c22ea6533f92f691ca8627a5e95c94c94e7370bef4ffc72ae1bf7a7ea1cf08560cf6fb8ae4d92030a46f57455f2c6385c565c0da8bf35ac272ccba13b611b66e2a041e2c81a9e0f30f1f5f4f4722313056ff750251cf7d3448690901d521da99512097f22a8fd5eacca8b1e6cf4f902c79bab98d65c3d00effabb56e90ed4fccfe82165be2fcb7e969b7bb2ec8f643d4acee505e58ccbd4fc65040de2d53884b6ee46d4ca56a4728de86073360cd40b321177e63e231d442b4f18287ac998cdc97d3c915b8990cf1ab5f8f90a7fe87d4f884f14e7cd5e1655b6b74b451e94e87ae0c0940e893450b61c61a2ec077ab971a30207ec48201d66519f11c8893c83e6f5d8f5c0dd5c4af8169346147f7aaaabbc9bc151f01e3a97c94e6b2322e040d7a65cf570735612a1560882398a59caf1ecc3f3ab3d0aca9b86d03765c64cb9ba18bb8444f2214f6a80ed2896b6b66c5efa175de84ee4413e6806fba33917831ff0adebf9a9658c43c509c6a67cf2bb740cbbc1c09f40e81b2f7b0c916522e773b2b74954eb19b4098bf60f6cb8f59111dc3c395f44c57bccf75c448e420e4806ad835ea1c9e6ae6a848745208ab1b6c58eefd2d1b6e9d91f62810d3f31260baf555be9a642b2eed16ecc31aad524670606db84889ff6e4789790b4fe271aa6249fd45d0b036129e3b7a829e92d10274ff28d0a8f519cb0208633e2286b9a5fdd1c5fac9bccdad0c26a9c0a6aa4ac3be9c9fb329bf4a84277bac192e1005fa605c42d43cbf77e37fe5a68e31f3441a43d4e0d42f730f6750924a7413cc0213c61d710417a6c402033539149e5a2c8fb8a2989eb5f917a5c0d4d31c4df68a99751af3d393a483c7c985c966c6d4ce6d0b20a587018c02aac22c6ac52dbbd2dc67cdb0487ead1fa4176471432568b35500014e4416044d0fabdc255d6a82e2fbb8976a4b4a4d760158f9fb8646e7f25a3ddce7b9c08187a8f6cb605571ab8e59fcfc462344be3e11b2eac969401301e5fe3a186e6dec800c6340f0d08f915d5ae00650e27b3eb72e66adb42639460e40003968e77a1365f5385427424f12fa5a7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"804f3cf1d9c689f7800432c16df5b09a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
