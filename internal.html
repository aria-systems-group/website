<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e8854bc6bfa9f69d43ac1ad13e4a9408c2d03f79b46089c4769009eb2c39b78c460df2039b0c68757fc3a6476a821ec68d0f6629402def5d925e0c2a9abb294ccb576ff64df5a27ce5d83a90b5241f908c3f71d7e6ae3cdf1823603dee6b7dadd66fc745e9e7c8b673388af6675f8131b26b19dad476f7b4843828e8593f311ce355aea7d36c87e104b3c55e6b040f3f6a335f95336601136d8a9cfdb9b4cbedd5ab4f0e9b4e28878e1536d51d2d4d7b0c2b5409c40682c9f4859b570da0b7f74317213ebc9af3dfd650f137c92e52f26c7390ca36b2363dceaf5256a1e4ef94e2f426a7a83a4eeb11635596ebb42eaa36b6e02ab1ba482ce2fdd7e606c0ef0c8a79579504597f52a48c6c68817a96e7a2a19c0fcd709da3fb0e82ac2aaa2e4e7875c85951be286e7a05abe12d7b5f2d00bba2887b73b6d93e157bcb0e959f56453879bf0ca264a0e8733ce6413c114800d56eea7429e6c5bb743d389eedc8e308a5c223a2526aed47cd32e77f8de1f1d536993c6f332fc6b027dafb6fc7de4ebd76f7589cb770deb7792cc9fb0660af8cd07e20cf7653914f3915c4aaa994ad415cb925a0cf78926ed774a01008e6a244f03d41963019151c6ece86a36191163349ddab1b8e2fe623a582303ed4f32c551463dc3b488a7427649c59b434e1d10595649023e0d0f0679e1962deac8a1b629c36c1be0ed5298b1f924fe5c2e3e606750f892a3d8743ab05bf9fc4179b352f2eb0e9981e344025ecc5349c7522ff60d750f0175c5bb2bc01c6a6a72e6610a193acc3023ee0ebb53c57b2022d2911db20cd21e1de239fe61fa1896e16c0a93f35f510bdade2062ae8533518e923e7b5af98fa166e276074341528e56df1db80fe4a4c5b13520d590b88d7f5c38a61d595d453cd718316d703f1f037d764d5e0f731931da4e2f343df30f419d25a057a1615ce656628aac13b37928312fd95b220fde148d9be45dad6c9cffbcbe767c29bb622f4e26e34fe02964c197d676d08a03a80935641be742caace4c8d9955a508175491bb636de694f07b2ebd2565926214ad86e89705fe84d8ddcd218e33abdbfd9d9333792c575fbf30cc7e848e77bf88818ada321c65b8e9158c6a4934caf3304667beb5ba381887abe1c623d60478b7bb0395f75ebb738ef243f263afbfaa0cc87f8e6f22eb5f8569705ad2bf506864ff79f4b2adad9598c1e0b5d2f4b3c7e431f151e8f46f85db4cb828c7abf84703517ae3ea4e36e2628f8b1fd5869ae1a34eb82b04cf93b67d3704ac04bf372ca2ea4a08c86a9f55fb9c809102bc66485bafbfbf2a3adb319d74b818b08919563228e63528b36731ef2dc70466424c8cf9f1aff3a7348e3bc314524820a61f6b680bc152969d39b9feda670d0335720e54b939f2373ab2d539d97c0f1493abd5917f9e3a53cc4bb08adc1fd2acbdc043f50323b500e2352760f85832d51a4d3a3f6335ac105ac9602f525e42a067e4e06860c70ba057daf14ac861dc135664425aad740fd3fb3f53eec013f5c6191505a6c84a3c429cd155e92617f32a1623f8b81618e857ec6ecf2f98c307806ebac7a3f8ccd016efff5b7427ce9a72b0d90bde8cb522688d73400bc675a50a4e32fad8233aeb546ce08536619cac6a99775a3028099ee75f45d8f6c02a1c3b8b0e5dffac5623ea2e8fffc18af2d361b009bcfe2c8cae54e893637b2dfcfa67869c1895a4738747d0bbdf77d9099743cc5d14d988097d08c39ad36e3e77495238b582c5224aafcfe37825631925132336cae78c2d231e037eff092879c3f9eea410cd5b010dfc6419db2dde815862a6c0a7a0033cc9a4b30091cb5a3e096d9164bccd519a9811aa2e03ce15b00cf1b95c90842ce22dd40404d91e524b649b3deeee4b6113231d30c196767289fe9270f7ba181fd622d298ec2e031c26f6c3e48f4b2f010c8a211f04bccf28c9f1d43db359e133fd64764d8cac5223c7ffa7a5d5e29e3218dae2d567e0ae6fcb55d58ffebb9b832a5796addcd201bd17462ebd417703af295c2f34a37fff503d3bfdc5c0f25baf9f78d4c64c96046e8498179e1ce471e0020f28e9d8d11df08409a3edb7b6725de0ffd18cab4e4f24c45ae0479c94d08073978af0e9f14f75ed78e41f6cdfdf2c44fbb4033fcb5f064a380412d2ddc4b5f955a7345c40464f39f1fd2416589600c46f7fc57bf2c2417c870276943ce7ede7c2df2a06dc393a699866e01b03964a4e205ca88f90dc9a84f7b8189d58179fd16f96251da033336bab77fda080ccb0fa50750fe608b8ffc6bf172f0e1934b51438ddc1e4ff830789c5c7c52ea87431a3d5ff19c1ead72357e4e5bd657e542cf7922e9722a383c5d50a08d9f49aacf7997949709540b6b4a11596b9685a6339594a624396a341d42b0d278d472d05a990c19165007c3f9c9f011839de3122600e62fcf7cfaaa82021125e41dbe9ebd487f34beee5c8f3772505e63e2176bf86e238670d979f0c8e5668fa6c228b4bac0656347151b4a85e3fe1e11c1642d84f70d47fb46eab867cca09628e52884ab04583ce72e3c8f2259954705e69a89f0aacb8342d30bacb61b75a94fbe1aa3aae26cef4936253cebf60590e4e77cc3e81eeb277bc599d6b2ebe46967d4ffbabc57f9442e07d933ed6f4c19dc52ec2ecee5350149209c0dbee65915fa1c172ccaaa076812cd5d5bd8e695039f68a6dcb9bb6d5346644a434a6164e01cef14e2af0f71b5f185697f0c32876602cfa98de890fc1deafd203c0398c0c9b8c528587aa6a33821fe81e64e2b925e3a31c7d63eaa60391aae2a831e6cf91609b90f0ab813b84092adde79047cd59ea22be28512d6521d5a0c08502f5d43d0cfb851b90722ae1970d96c16d7500948318b904e69562282adb803eb89b5c2aa31d000b59921601f4edfcf8e85d0a8c6f0a1678c84d81c5c8a667556b1a18d946bcaa4fdd88cdb966af8b1efba3b163535669c705983c9f530bac2798cdb861bedf31e37b3d75fbe1a548d4dd72476831d9f92fa85980d7e8b96c557ce9b9694b7391f3b0363c93375c1df787412b301b1d1ac12e85ea570b437243ed7c7860a4ffcf44c21d4dca2a2df6393ab7ca7d8ab118acfb25b1f286fd717537086e94270824f3316e59fb52219e044504420d3a6c7f33b2649cf6290911ee25e4dfad6152614499382160b6388b10329ff0d94de67b4f2d2d43bd4a0339b8eee9195535710c91aacc36aa40e979de1b7e97e459099cbd106b630d82e04d23b10b3a9d35ff1cfc92973881046af389e372af4778b5e62f0925317fc007b692b80da8af5aa21bb2a7d4211b80384c1749eeb54e92a4f065b715db19f93c1ca5e60d2bdd65e81c3884e07e1ebfb04162f3dd1e17eff7240e9d10c41539db8c1edd91ab18bc60e0ef6d261e0eaafa082c516501f23b448e712cb00dbef99c92312a5d0feb3216cc85a9f277cc31d67202cd437f997d4d8936334dc34ef1f4b1eb670ef55748c217c67e335c8699ca23ae21d86614db11a4f18db6b3674da5a46f80e4d0b53374d004bf50c5f217043cf82e26c5273b08a6986d31ee6c474a9125a48003bee00c2d41ea6cff7036bf755d74a869cbe6994c28dc82880f8429f2f6703d3156bc38f009a8854725bd5e14ad51cbbcfc6c6258d119752a1d1ed9e8e7029d722f9ada0babca3befce5989da5879bd295f68f5c900305b8aefe8f3f3256ae5916c8092cda1a163d33673e664a167af3d0634386193f604974a0ac3b5f0fcf403fab18c362518f277d30002979ce47578b1a1ac204910ad4be433fb009d15de7d96aea14721b85b82e8aadfb442b4930a8ab0c637cbd5fbc134c36c9c0ee4760ebb733f16ba884e2af8e0e2229bf645bad06ad0818891641dec750e1dc0d81c3348653b24cc22b3811644127ca5b710af729b28e533e8b795950f07572f3df261f63c2621af7436cccbcb7df4e6374150726356095e872810c6c9294382dc47347163c258b3fa1b6592c4b208eaad34c1d726f0a54fd4b00d4da1c8bc8f8f986e8ce53e02c719f0f42a73603fbeb234d16659c150cae9c329559ce23fc270f10a84c0c95251496a2d4e0bc5e61f39402ae078a68cc6d6a18995ae9ae607d81c4ab874a803ea4f5a948e8f23b8c66d30075fb3591ac014845e0fc2bcd0187ab66788b8d0096ac77546c809e3943ce4296011f5a2faa436b5d6d40378b67695becb37f0fa5bf10039019b717771cbc90b9915f604785006feb07578af8e7523dfe763f7e745ce8829815b8a275409e9c6f25e11c3a875e992877ce70c9a9baff9697852f6d2ed2d6bd8cfbe77f9c7498c671ca44199f749259b58b3c8f3e6cd0f12ff7c2dd99230fa4ffc977896f19eb6e2e7f48f429bcc1412f637297ae31cbb1792b1c2be8ab488aa885ceec88435c73fbd73dcf7d4c01bf38fef428221f4ed764695fa801705e1812447f1467007107244d3deef84bf4529af7aef3ad7bf1950155b1099cdde8c92cca6592f0c7d4d90f96a692136006c8c98f4e81bba29907c6ce2b99916ef9356f295323b3b7e4109b58ddbd9b93ea600d72dd886a98de36230652f1b129e77e01ef92b7aae05fa27618c0a44ce63f41f97fe86400d20ecb359ebdb98f2f5c6338e841d72b4bbcd20cb3d1157d640919851f8a5213377c088b1e1afbffa6e21feb98b45fe0c062e85815b1d19ad4b316e0655a0d1283d2023bd1bc7a7c31140871edf3e7a5c37705944e98cbce68f4fe437c72398bfe7c8c2994bf569490d44fa9a9d852427d0de97edc1c742669d3502a3965f14de8d30d8a3ff3ee927a167cc6e220339404eaf26944d1ce8ff8e911d5c5b95cff282014fdc463704d99624fd7296be22aa9a5487b839b1cc85fa08f2188a77b0e58e01d468a618e228ecaa506bb2f1c4d0b017472cb09eee72be53774d41a3c8c81640f2a56745d4688e42822259eb8c320a61c076c1378e0a0f2dcee3264c8f8b4275c52307e128cbade6e6c0ceedec3f876534e52105c95bae20f8b3a3e6fea44ae7623bac8938637b56ed8802cccebd886e16df32dfd198f3526f83b92eb29f210787ea03f11a864aee127751be1daf7170a7b4351f9b0a1d8110bcdbe024681ab58003ae35b6f1e22c50825ee67ec4ed912a4793e9282d9deb2391fa39e8bc7638f5f008a003159728c1517258aafbbfa0ba1f23560a0617929635fbd879e0b444818b174a9f7eb0449d5542b570df70ab6ae631a39ff0daae384b6fdd7b51f7dfc98b744aef634becae6b6c598fc00b6ff77069a046c544074ad16893b331d5ba410a16273fea554af338ab5619cfafe4ed5e59d1232d352252571d71484f68c27ca9eeefe1461c8df4f6ba62abb14caf5e00d8f79cf5fa42645fe3bc621e1f79bc4491c972b62c8b61b8a1d12e5bb864f48e1b5d6c8f4815ad72bbce18b3cdad784510ea34a697dcd8d366c00b1d6e0e1fb30cea86ea8f80fe88611d441a3ebac80a40d8bea5136521805b41a8ce0c934f328d8543fdbfff8f6a7f24a86d51d64a2fdad4dfa4350b94b5e9cbad1f5b0fbe8d0a40773d74b7ccf8cec78c937178a6cf1a22de90e1bfa5b47bad5d4fdb851f246cd9e33f0357d984eb5e3a4826d60387377ff21b9e79526f8e2753fcd4ad35afe40a3fc73c0d9bb5b4611f7a10ced7280cedbb69f8a32fcf09cb0d40ef90b90bb80e187950dc5cff083e9dc3f24ac0f48f8468534b212e4b208c7e89e4c0268654bb83a5dfb7d6fe29ad8a6ca2be93de53d2f09e53fcc587cd71f060ed12edb2a07548e2c36ea76e3d03f5595146a512af7ae5201ae88b1e8613e188b94662028ce9a5881c85b1a0d11418d3afb846cda66fe38132ca4daa591133b6bc711f9fbc568b7b4f88590b570c794792dc70fcd1f060d8dfbf1a41b44408904a767cf2ea5ba55e73755d1f76ee5d062ffe6f56aab93e21e57251510582831bd32afe0fa5f59d5c008e12b4542ae80a334c47bcd18f6cf74b4debcf7bd979454f28f9505c84ee74413eba6f74d804cf94e7c5a2ace2299c808eaa3f148fe759ad870517feabd4c8737e95339cf26d4fcbddba995cf4d1a8b70e327a0f1ab2ea36dd269a2a666da8007e59ccfbfc16693f6f73300fd07fc1ae4a54671272a70ac1973618937d90771410d4f1cb625a05d7e780f5df60690cde0a8b20995d47e93875d7f06cadbda46cd01edabca113032400c8884ad3fb6a69ce076bbdebda3daa66ea49ab44d04245e6d9c9f0de3b65a747af92060f3b5774a138802d88ea50e986e52a2b116affe9132e0833694e9f83dc1778440616a2621e2022a61db1db8ca75c6553bc34d67310e9d9c1d546279e81b05fa97d3b80d4824d7a58ebc850a0f093e5f56db7ed4465b7a71378e54904230774b66d9cd6aa5d890461dfb86d31219bd52bbb03c12456147f1d15e65ad4337da8e379b5034d3c6447c8aadc38d07cc97c31e9f0ca50fb9d8e25096a3086b99662dfd2cc23810ae2574d1ce2b8a7876a8918725d3a9276a238e5bed9dca1c37d1391ab09b9e884811cb25c153b06f891d178af690b79a5bed0e2fc72bd7eaed3359da76f652a0ba79730898b69f5aaf1703889af12f973e36e061ed776b7894f74acf89de148e8de023c006ab76c04af9227b8562381045d5b7962cb04327c7310ed45eb68df3012555ee42a45b4d50977bcab804344bec35161c9178668264b541fd7f6a84b9a866320829dca209cb7e271c28c3a266d8bff59f2a271c0d7606bc8f20b1c04a64e2cbc286a8bbfd7d74b5803e5282c4d1a155991fddb6e47cd104d4c597af653318f706e030539ac111c42902aca72d41a3ac99348ef6b94e086c2239c43cc956e2f0ce2e71b44f1a3443f7e9d46dfaf9c99a7c99345a6af6d70cdd3e5f8626c315f3bd428ac063f1e5ce994612f0021369a160b7bcf35f9c3830f78c64aeb8a3a277f445f6964b1eb995b0230c98dba6c79d7cb287b238cfcdd7066f630e9dda2fbc48f6b54850d9b6877b0ef4f985aa3f705aef75ed9e3b5d63e670624f3b3fc565c183d18f3dbb1aa14c851bcd1160f7f026f5922c138475b25d8ef2e4e071089666056dd7f0d8fb6419197dd9d7103bb3e4379e15455121a4e3a13a1b6c1d1d6c86b136004878f5126a3fdc2eb6c0876de1c2662278496c518c069e6bfd936019f8ad8b4530d34cd78ab19e44c9adb88267119d298cca59ad9a5b0ab1127aa0c22b7878505e5b15012c1300785e9dc5bcd551e63fcb37205efd8d8beb69ab2d3ed690c4b6b354c6d7bed4b6901cd27b8c5169b28e49c5c631c2318af45adc5a50701d5c2c85c0be224a089ab62c5950834169dd2c878520822ccd2bcd1bd0776f2328f3dda392e27a3800f92a3d92fa8beb62b3f5469659385427a0574edb6fc8be2398a199367aad35c408b7475b4f3ab1e67d95a1815e1db42afb0b79dc067e6d8c5263ca6db16fc115b42a83f3dc61ba63806983364ca17e9bde7d85c1d0cc62f71dec3a7b3f11924b9575683ee817f96476751997f251098a6dfc9eaca86fc61e4651be3054381213b810b833716f914ca311b9cf96aa58b4aa6fe073a03b60ce39c8c380f3729812723b1063c5dea92563d67b9f96362e3ab5c6e94dbf8e8bbcb58f6539992095c09c7acc7d9fc5890b8fe500054b1fc0136f2849f315d1b69c4bcc3ab458b05a035f8ce6acd3db1bf659660169d79a5d27dc2b7a90a4c7b9a1c8d45048e69615d9e4932bb7eda10e0657f71b9de520c9b840044eee0c9d339ccf2efc6f2379b26185f3c0bd53eca1195e47a144306b9e3842aed2db11cfb9b42670684a49753e4a4e0418d6d551e8af3deadb286c3be20fce48207fb8e0aaf939fd246c35176aab5b94cf75562f747cfbdf6ad12af4db3b0eb8e1fe68602786b8bba17629d15251c120b9d3c2e3298117feed2e1e0da4153d1a42c4c7321f1112f913f5a3a3b9bc7b6eab01f6ad8389eef7c62035a79b45c339ef6122baff9234e36718735f59381780fd9ff9023cafa458d3bf0a16930ab2413d5db79efca0b6331576c92ae64de60e3ffb3a462ebec79ffa42e22957b279ca946fe06ca36091dfdb30374990f54518806cb2c018b5b658e6ff62c55f1a5dfeb8534d09b56b073502c92591e7f2770caaf260a5f21abed43916c6287477cc71508a5647c6f25eed68cbe166fa38cc7e48e5cb4b44fd868c495e8ec995c1cc433cebe905fbe408e1561e12d4d0032c6e4f0077d2498ed1520b422a4f7b34be2d967019cfca0ea644ab3a414f1fbfb6b70931a970f89f1579fc3b668356d90be9c9fe2ff83c0f96fc3b0eb9019c0ae3bc2bad522bb52418a86762a107c51c2acd4ac1b99f6920dab38f4108c4ae5b52f00e8522e0fefe584e422994b220866274136a47faeb5c34ac6a538460cbbffe73c44ea8dc58e924d6bf612c8ac6fcd51c7894c6637ad1442aab6775a846cf985f855512e2991e5533bbb5c60060e1c05e7f80d39f535e19a5eb794fe61a74cf723e003fa77b33ccd58ad35d9797aa03acdb2e965573e73d089feb90edf3c6545b8d41507d5a9d95579f388638e702fa7f0ef9b6af7ceb844d618e238899ebe95750c6c619fa64b42c78228b5d007b8db70ffdd05f4a3383cb9ab7505d0eae30d93c43635233dda1b377274c39d69ce0f9101f6080b7e08b73d19f5a599e9c45a5a764d879776c680c31235e03263f7c5951278e532ced37f22e7a283c39d67dc936d7e4b5dde8573ff41051a8846ad61f11643a0b6082058f188d5933ae46cbafa14a2d25eab4099e9cc455ca875991079a522d128bfc7f869267571d64e3019fb6c93e5ec8c20cda27a02edb1e67ae8840118f1f0330eee6cf51c1cd404b4e50d7bd9a2afbc99ed10e705d71f60ef096a7edb63aff42a711d4928e6674c7ea4cf8f407ce120c161145ea0597590b28086558762a293214c1a14b4dde29bdfbf04aff6a3512184e57c9b3960510980704c0acb5604b0dddf5de4a93335aa741859520417e3218fcdeebfcfdb1a1027f3a5f318295cb514f2e36f3f2c855efa1871ca706f8051ce4bbdf2af875e3228b276a1745206873a10a0ffa2265fead2c1b0103b6e608b31389b543d1514254afe5b3e965b59cc3f21cd887ae205d57f26038f2b58340ddee0364af6b74f0ff9d56ebcde6e6c8269f87e8e6a88a84d350861d89cd3a24fb465f7c7e0e511f9d1171d279156d9d7a9ed0286b1d47a7be96237490c89532168bf3f60a580eaab7c5391cd0adb5bfe7c0b2bdd249a199d19bfdfa56e6fdbf80b9a73a91fb445ca1d43cf380691c1d8676024bb737c4bbf28a3cc868646a63babd69e78fcc3944d4aaceac4500e6159ff51b63cb1e3d822148259e3f9523cf1a503b46ad1c6ba837e9aa93c344effadd8d7bdd6abadc56fabbc1030a5d6d21c2aba44a2de68f968c3251ff0a44bd7b03fc4ed4b542b5538a345af6d25cc2cf60afc24db9f6a56ffa24ef874f12480d0f8918694fd8a09630202681efdf1e31285b26df90594c1f4972505d5b787d0ab1a56a8be17315eea831ce5ac08ef7055eb8171ea41052c209a4e2d6749c0e8bbc9f34c141904de75b412e63c90001953eb5f7de159f55bf4a6d336000264a434e87cfb9d7a2a5a637f2df2fe3eb24b0eb7672072a3a07aa314c43895f4800366157835cd6324d0b9d7a65c185406f652b6aa2a99c50e9c528ea3101fe1fe394a8c5d6acc25b65f147a3dc65cf34b16129b5fd340fef2e029e948909937b706840dc9e524191a0da9883a7ef0901b270afe7e9eb38822fd5d0d853764dcc2a837516d3daff56c1f929f4ace5c419ac9fecb8f8f90860a76464b6f893c5929f8486132f88b972dd1c846f741d537df38771e1187b34244426411f968bc7da8e940df01fd05c87cdaff7d9569c9b7aa38f42ee78009356bb15ca7aa986a39db4c8a6c56efa4ccfa7bd644dc4d2a789dde97a5a2e1218fd88bc996b53489c42b89ee6c6dc405979f91fba9da45ed6ace747d1aac3b77ad7e29b076325b5e2061310a5a52ec145b78f8a3ddadd4996e83d8a190a7eb863d21b4035dd8365e19a7683099da412a5938bbc3396e0d831e057d6d64b63d99e6bfaabf75022ede8e8ac4520bf39ec2bf103ddba45b8299148c2bea16d05dd05d464eae96a9b69926e166a8fb9d4361e86aa7505c507c380ffd55cb7247d05d81b3e5e5e88de690b8f90b5c3698f4b88aa573262115b95aeeaf174e85dcc9b76436bd6758e83f97947ec05d4aee664bdebdc8d49b96d03468a8c47bd613a2609e8121279d4527701030a3293787d40de4a3728f9382fe5a4a2c6e09601aa185a152cf66cc739801d7d80b4f5ebab8985ae240e7964e2de245ec3698d04d4e6fec0e85331c17668437e947104ba0f616dba2bc886ca734fdb886963a0850394719f44699c4ab7151485b131ff5f50d8d755839e2dc1b9d3711659d24d956ef80641114ba350e0c46057957bdea48ea7328c882c514830243b646dd94847fcd15d2675aedcb66ec8a4fcff8d927a14a1cb1fa9bb7b2b9a2e3deed98694777e4eb98869f7074bc2cfd7948b339a44c0ce28101c1c44cdb5307f735b8e88618023e9a83dd94699ab0771bf891b6927702e7ac921654a8cfebfba2ee431aabc18f5805384df58a573ef4c28f019cdf1b4f87cef04ce24dd6b9e22c30ec68a1b61dbf86a443541da236de5ca573522f850259ea9446f454a2d201807166847413014f8448ff59f0dbdf7cbe0e4f2e1397ffd80fd8d5d45f3c9208bc5719b9de6de4066155c4908efe1187e8c9d21b901cb4c306f87e24e096aca04bf626d158a6897ce26df5c9d4367983afb3abdba464ca15753f08334829b5017eae01a58e0bdcef665c9e44743b697bf80751f2af61facbbffdaab3ca902fc21687a782e359a6444d9b188113b654833d6d6b0c57ec39f5b334d61a27b1abb93b129d7b7c84e03786e8ae8cd97764d22a24354dfeea1a4ff5d83a88ad3ab528cdccfd9f0e2b90030182eee68806afb9b36b51db7faa41c280cf3dd57dacf41cb428670630c1f0f6c653b583f92dec7cce51e2030c2f763fcc5255f13b38670d7637c5a4b2369401fda36a02e275c5d1f7226f5c10e06ab5d79a3f49b83b9f7abdb19ed6525cf745be9e9b1ee9210b8eaee693395b978559e7a5844b47e894ef040253fb015b294ac499e26b571faf461a444de20ee8d056dbd4797451e53782eae1b3ad2b7c045b9971f25f060a2ec0b58268e4891ea121dd2c3152401a8f5f5228533be1fb0c77cfae512b8a05412d50e0b54cc48bc06b51d18dbb29ee47aaf5724829cb493d5615e862525da33c25f30102fbdb46d929e03e608300db64b0aa64f8df43555e2ce2f026f4a48f9c50ee7cdbe62c444b91e0787e21c542d4880dac54ff2960894797a8a90f0ee237950e1778ba914958958f500ae1f79e82e6b808ddf1593e0411ab9f0c7a1d8b8f4fd5dd1c14b44fb33b74160d70e758ed2efda6546dcc98d27d74204455ea93d0bc2fc355a490e823e150d1ac78c539c7e7b00e5179b6f6eb114e5d21cdfcc625332c011647a61563666d7db3996ee77ceb552ad4d8dc3344a5a4bff14c9264c7edc5ceffb3c9265ab881c5611f25fcbcd1ce4d06b9dfca3ce36630334d700806ab01b12147796bd3d0aabe53857a2478ed4c2b28aed03fa612e4e88c735c2d8174d9eb295583210534d7aabefdf957e000cb893129cd3ad0536de6ddfa5250c0349d38e0fe818a42da8db6c419636e8c6e2cb5043b00286004ac99c1dc06d0ef8ae5242ad11fc485e4e17539d239c04bec3eb6c58fa765be5bb2da849a014e24d4a4da30c7355480f7401c050de8be5bc315ac94725bf3aaf93b63eb42f235e576542578b551e2c1c897ea768898a80ef2e7f2fc9eca428e73bd42147af1562931ea2ec5a4deaa23e12a6a11261dceeb99a76a7a198aeabe77d9020613ac045d190eb3fb118922f2224bd21c49d031f051d22ad1f42b08b013afdcf384cbe9c5a038f0c988752ba3d325300b9d7a16e47a515a129864870864561e12c3248ca790808462e2e04f5898f6d7c703c1b1015b3ce11facee076edcb8e3af4ad8293abe68d226caafeb628b6d53e69d8826eb164ff7b155d665c9909c3dd21eea2a3e98e1ed03040ff2ec50a14f074e5a075d8f5777d90a1fd013308e960a696094bce2a5e5c7b43d8a4ad6eab72402d0130a7c4447252fd13ba11ad9aac572faa44f3106c23754d2e8259fc4c303336163a4d3f0d9accc6ddc2ea4b8248f0a4592e68515c7747605c14d2a85313b1b145a4ef83bd040e69123aa738c35db63d10ba2189a9c26e46fdc412fc6f4a073f6be1516f23257ac54361e57830cceaca298abce7b774290683b70d25bfe495bf4fd3989587e9ccea8f747577abb3489f80a1393ace9a95c4a916957c1990c1df22a96b0651e3281e1af80485cf5164f40abace7d8c7bef2321b2710e6fdc2e5c4f150c8e3698dd1544f0fc42cfc79b67ae437cf39d3b3034b4d952afc050af90a84fdb7ba976fcbdd1f7af405a316f33e576a87e4d4616387117c3f64b96fc65074c4b093cbfa535853e5202c11331cba05465ef53237a2fee0565a75c1a49366f80306a6f582f439a2b1cad0323503a01a6467d89e170d6a178dda5c2ba2aadd386d5ee5319521f49e85f20258f0bf896b019859638786132940811630ea8f0b2420c4b2f1b534c6adaad23b04ebf79c060c2561cd2ed9fa5c5a4d3b83752798916a83134bcae0ae0d386c8ae73e1f5e6b613a35601ed68b12c39b88f7464e5215a397910d4ec87a861eb9d59a45be802bfb2e147ff71a4f1d7e16b895a153a358339162facdbb24eacf436490c52a3a2dd266d0999d4a5b3df2a5c73de5fb2d26381f1c7ab1809db1950ec183541d3aaef42169f58a4ffb51462a8858c2a8b3a5858f3e59a7abfd1d59a2db3b292edf7f503c5a17e0b01758b8c114fff2ac6f5ca19f51d76dea2ba89329d1e77ee6dff29eef8c01777f822900ee4dfad170592804db70e3609bb411d6982a93347c908d523887ca2a63d41939e9f38e3e7b42840cff50ad1d76b1c0c4c387c0ecd7a1428c9f9358f56349ae270fa4da774476f53480ed89ab8e4c3883734503b6776413c62190c8264ef970666967df0ee7a2a726c7aaa9a9594d1b15a08f6cfe20c428bdf79ea18b407a3d9c5c54a5f8c3e3e5769ab8150a8eeb184944adf7e6ad9f04e3a2a8588cfc96cc9ed4f0126194d384120e9edcba2cada5585d0dc66fb986beabd05047bcb109b27d6b3541f001eff5333406412e3179cda7a07d059faeee5c353773ce783c996d7efc379cae75511b42e2580b0631a24aef2f80c1cd8dc12f4b7fabbae7eb2c0bd283c855d07fabe111f62d629e619a17db232b9e8802c9aaa949c74884eb864b1024dddf3547aca52441a9e2f243f0d1ac12756c9e43f8f68f67ee539b6da828902fc1ff929ff20c91d0103a0e69a07e1d2622a88115e1336ae6c3363da33da1a80bb2ab98d665d07d7a6c14ca6278312ce5a979176e0cf6289f88bbd02e0410c736d66f8ef76e5e52efebe85f3e790d608fa896a82b5343566ae164976a4162b99c1a4b106b4373aa08baf264bde596d6693fd5e0f75ef227422d4bc392cb77cb089b3c61d25bcbcf733f841b5e537e47b05a3b4592d219b8cab01b714db345a745269473abb97975e6b8373487cc4d157b044e9a810c00131368aebf0bac21695a769fe470b13ae4a260517dcc0b603744742b562822765aadf30dd8a77e3a818ea56f738cda5cffccb459437c36fec0f8917562a77bc713bfb9a0a7b205df693106f70d07dbd6edc66ffe57d86cf48245fd6ec0f709440fbfc83895c1bb3acce033a23d608bb27f0ec4b9fbdde0848241660e6a93a9e1f0c05532d88e22763730722d87b1f5d95ec32088172180e51e5e3df2b111861e51daa64b51bb9fd11df3452a78977e4683bfeb8c9f64f7a561b87eaff51a7e05c7afafb800dad5e33a32cf9c38399f236be165ac8dece8e61722cf5fe2eb163c4e55ada3d8c807bd8d8f058a11ed5d51e590091f9be8f4eada4ef4e81f992b28b45417c59c5cefc3fff6f3757c3edcc17f45a40b4677419b5f8bb51ae5d63f7cd9346497585b157d8919be8840de750c16753b72482b7f7cbff6c755f6b55b3b7d903aaaee019a24b8e53c975ac0bcbc366042ec8dc8cd332d2e9d6636a761cef8b117a0c3a76eceb637882daf5be3c24c4620f2afc5771e66292804638221cd625106c0627d2e2ff3241c630d571aec6d4714040df16fd64fba9175478189b4003e34ee889aa4051dcaf6263a2dc0ccbac36200a3daffa194dea13fc138d212bcdeace460db74f111208361a0167d2da9cf5f758e03aeab4318e27224e40e5b7c2eaadcc615b9aa969df894f4d117fa77f651610d7f010ebd2baaa59707e56e608060b3e153b290e6ae2f8d73eeb8cbcf8e5fb6f1c554a4e9c536f99a77a7f4406ea93214bd1bc0d7119982a9ad8ecee79e4e3bafe21869c888fd1a0e4a180b858647c725aef1add0870462d71ba1bd6b3b818ff063b6612ee6917493c07f5ff8adc1c420ef198b69cff4e2b39d1078b985e22f71b73bd90e8621351f8559bb6e6eeaa7155e92cfa3ddd2208b7ebc73691ccaf0aea5700a06b95a65c74edeba4c154412b21048a0c55854c7d5efa985ac9782f553bcc86162febf4d3f11f3dad75ff16bc0bc7bde3d7f558720fbbd9d4455eb8aa3788b7ed23e0082c34414b4c12726479fe5ea918a4fe1478155f8f362d30813208c1a4c89d5cb1967cc54d7598a69609cfb6e8a1c962a9dfeae61ea566546b7469b74bb498f744709e7c28dfdfbe912bbfd4331534e02edf2b0f123440a2c086bba085c1f5894e4c26af86a9cd7209b1f03063abe949ffa405126d06a29690e6e0cdcd375574090c11e13fc7da5522a313a4efefaf1488934a1bcae8d6f8c1856920d9f77201ce30373c688c3c245abadbb90382868233b10cca617f7e806b71dff99ef3c8328372e3bd1919e4c90d8d20c40dbb8d75a3b03d4af058be917d1374b11f2af934da6f65f94322b6c3a6bfa24c6f0f10fa9651ee555d2c2b461941359497835a973c8d8f2b09d6f210213e65095fdaaa0a3c09be4d8d26295fac2309cf3520b09bfa1d1cc67e83e3dae92260c87d1fc3627725bf381e94b5d8b6b429910ebe6b14d529f54e99e9521bc3d8b20ca5ecdbbb435a15052927e08cca05d40db7b350d088cbdb10f4c8c3f04084f7310abe6256ba7896393ea3d9c9f8c8c919eeeda06624310d48b5c596d8c427ec837a5ffd77299c394a5f2654910f854dface52f06b051c22a65bba5b42ae119b5c1c28c20e807323a2eb609c0377f3b4ba0a2e60218cb1163a12fb558c4ae0d028fb621472b2bc2e765fdde95a9a3868df3f2feeabac28fbd19bbadd214eb5fdaa965079e18ce2bcf1897ff9e80ee7563d343cec2ba07e051b96595cf974f702eef9e2a6659ef662e0552d327893c7a6d21dd79df04234f378d3cf4d6fa9f6895dd1f63f33fe8b86ec506f7877c68d52c194c413f147d52ec8f9bcab8073463f0111e52d24491f00bc8f98339c7d22bab02a53053265292d9e28a7c2acd5a8cb89f733881588d740d98ee81a70880941048cb722161259dc16628e5d816fe4b1979629c270f5cfc4300cac17ea3d74ab7b79452471a860bf400837d4ee23a6bbbaeb4f75abaa1c3817be390cc3a4752e6dbd76842289e3971454743cdede3f4a392f00089f3047a7308edf2c3e2940b73dad4f984502749c8626bb409546378a83fb207fb5ba65a31773819e6d3fd1864a5bba684bebac8fa092decb0cb05812aaa68ee139da19066be8f940b6699732671ca9274b77107ceb27c0d89e4ad1dfce49946f663eb066235134369fecb24086f503546e0ee4e42b018a60433a33bda49e7dcc54b73f3d4de81c8a5d66bf2046f4ad23901693e6cfd81ef8a933d6dc5b6a92e0737106349ded4e4233d019e94098696061a13661e66de3729fe3657a3640995b68ef3093698561c1e0220e84640b9c7f3fa78f00aa2b423477f0f1876c5653d8dfd59f03d7ba50fd06687209b540f78d7aeb28083e8aca3c6fa119034abb7421e9e650d325dcf537309149505947060425b36d94be5cc1b9f451e288980148376468565f1d4e23aa42e4606021f139052cc0a832d4af7c1a4daa717955c5ee1ba594ce0999dd1a28cd54cc0c2e168213b238df044aa4a70ccf6b78299cf5142a1d46811e6505dd95d54da3c195fc8144d18ed28bd1703d28e899a2bffa7b4f20f091cb0d6f5951017a1ee98b6d62d30134210f8e95455cd016b0a212b4607b165ec3381e9e4c37d4023169b8fe4589474361f1d8cd30c922fc34687bfbfb99cd4ac614891635ec0bd9621773cd351196c0e6f342538e294c1ecd72395e5031fb92cd1b2e0e72f5bbba3584e97d06727281b6fcca6e733f92f3ad4f0d21a203b8a9ec5ee5ab828ec7e8b2be5919e7a26eca7a612b6f2754d2c762c211f371f2b0d20c46a09892a2a21986a608c51b51dc0211a7a72b78625bb1ada81366c13bc96c157e8e0b930836d575bd4c00d05ec1718ef532ece71cd6c5987262acbeff3c8c9ddb4de2297c0d656ce69ba43c66a32089c46e3f35a358dca7d6dfec6bb59e849f60006bd2e2649e7fc312de8f845bbd12d10318d578d220b307f80a9f1e4c7878200a17ea4ad8f2a7df696396aff4ce739e879e1c23fe1756865a4433c5942ec8c792e6f974100fab586e13ea2428f37450f528d68f2412fb5fd1e325dcf347edd2c6fbb29ef2d9b564a00ff1b5bc988ef8fcf68a9d7d1ef625d273ce062f2eff7f86ddcd5b96066dd11ad39acffb6b455b8234ea0794a65057e6131792f72996aaefc2b748d0b56ed5d19aa031faeade60e8b1a99eabfc1585962fee99befd355a2835a831914ff665c81ff497b8cc7e612efc2c91f4f3a7a2baf081665bb2d1f52dd4616da36096eb9099f0adc72fbe129ce25f0b12a4e94ecd6f67ee688c68bcbc0ea5586187be30ad6438ef3f0131311221f2f04dd544e0b9e0e6fd8783f29c29332e37da6c80f5b8929bfd8519403eabdc2a77b85955fa071296beb965e2a16676bbb6f04eaf96e3b87316b8677c85c85ccee9418a496da1e9d824d6f28d984fa55692cc799aa4bcaece4f362b217b09aedf1a556d3089d5d83c1401e521aacfc22683c59ca2372e55dff9ee9d7e7c621a7865721fd01122c663eec01e5a6d5ddd4d0e979dbae3ea6cb93d7ec1451665ce6dec9ff04d49a99fd7748afaf1ec19f681b0a620ade6d39a44cba47d9f1bc3d6eb805c722c2531e896b0ae045f0b5a0275ac65ad6f8d43436bdf9bb374cc773f697db49ccdc36904214e19d29951b8acc74303c97a8129bce4c761160405ef999c6378bd64566c32ba568bdc3176ff2feea867f72b7ebb94c4050ad68743cbf9361b74448b2d739357bb180750bb05f9efc31d7f3420bb8de8ef5ee15e04c1c91513b7b5e77cdf7f82f718242ec67d0042e5f887f242464e161d0580cf73a4ee98b66c19afe2a97cba3150452d284096afca3541105ef9ac675b211b8f1ca1096ae73775977846313c29f276d292560a135750d47d47b6870104cbf1a3fa622d31a4da63d3688c9ea32d956385d5cefb2f0be8e9f012114a1ffde1aea95e8d89a606a42442fee8e39c6cee8c2ec2f32623cc36275951b3d6883fba308329f1a91fc6b11f3531fc7fe51ddd2b4501d8d68c68292a7b38af30ebbcb8484e875326d9de4f84ad9cb39f247bb1e3afb43fbfee38aa5d0475882728b1fc9d8b1405fa87748e5504a3aa9af63e913e2eb9e4a3b6c1d7dac506aeb3bcca81d7e5f2691548100c27cf2b145e7ec8083a36556d184201936fda4aa45615d34478daf4232ac4821b332cf6241273c34d8d55ae9143af2092dcfc1a072286f3c0ec86bf666dc931c10a0221665952a61f1317e6c15be41ac92907d676b992e6f14db5a5aa8c01f9ab4dfb9f402c13245b5b37eb2199748f6a3dfdef1b79c65409bbef4bce635acf98e98b3879428fb5794c73e7b73bd7d69997f03bb382aa8f06c1ef66cb4b476f54a68251802fe1714f7ba922b9a2d98e0f68cc43aa43205b5cb8f79830b29c2903212bfac910397199674fc5918c104c7b67662cecba9ee1342f169244d447e478e573997b8da3022e12b8b06441ee6da655d1d496e3d9cff09607684d14a0ae2a30f563403bc2f997dad48f5ab623c9b11dde47f6a9b27ed339e92a3d321073d173286b7b7f4c34114ff7940c27094425c53d2a41adda6092babdafe7f3cfea4680324618f28b3e15f4010f867dbbe49ec0cdd790f54b7777704800068e2da2db17a39af5243b99a6ef624846e2a322fde5cca9dfb557d19fa443c9e86738d2f54a114234033e43a4e5a8206cd6623cc22bfc23f93555a3767cad51cd17a9a32f26b2aab0bb588791943641576b7008b131ce86e2fbc60b9f46adbb441878c58caf60ac2a035f991476453889f0cf49b588ed956490a254658da1113129e86209abcc038ffb959dabbe9c1612ff644d4608a84c125367d37a06cac4a8ba6ba3e4e10188943eca1515bc2e27aa4b7e96ce7dcc4fe7bf52f75a6ac0715d83befcefc9f761c9019e4c6fef7867de711","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"4f7951aee1350aa71781f5953455bcf5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
