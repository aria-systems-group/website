<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2982893c3b631d6b490177bd8bd9dee4a4cef7468cfdea83ab0f5db3161447e47678529721e8501d58636fe8778cd5a4718cfbb284d8a2a0408fd17321c472804978e14639d84b23cde687daab2474b6c801a16fd1080aa869f0817ad8a5051f13147272883e8995c525e94ba5df537892de10c42128bf694ded1d6dddff20e9142f6669fdadfa0df9a432c46a5517d505e5e6e116d53d0e4682f6ee591f9ea105bd7e38f7ce6c8dc85967a89aa5030f2dc9d439fc8fcc1fa56699c7e41c6300586817e45bec490fd77af00756763364f8121c67e6665345886da541a8d32490a1e4eea551932e56f939e996ec3637fe5dc941085ccd37fe2bd63ac78626e40b72a9415d0945d8aaa84c12f2364f7bacc23a444d7d3aaae5129602b39de0439803ed297e1a994f482e3b90c00b9ebd27627965c345bcbc70be41f1bea1e6189d5a0e48eb9c77b280248f41c9f8755854b3d1c7e75adeb8329bea27b14cd9de55fc8600532eb1d40634abb0c6a5272d50485ee991e30b4af47265ef1144b91696bb48829f7d3fd3df93b1bb638e01a7d162157ae93e17d1ba36613f30f69ae177806099920ad6b2d3923ebda39ee02d01411345f1046b5ea1d00833b40117f156adbc9284733bf252934f0177a1463c6e12ee993db80d7fd369f6220d2f8b3585d939e98f15df2d586e8f3375884daa6503347de6c276f0fc3cbadddaed576fe32fb12c223c1d6c4496228f0cd6dd2a4c9d249cfbe39fa87271f2001e3e5d28c7939dda2a280dc19887893c30b2b021f8946cfc47c070e77ebfcd8e506fa1efc9b96d7936aa350dfdd21d71248b1b4e2e7a5cdf39e2b5f295f0ed018a7b21551e48acbe6e6cbc762b68a42ba466128bd00247bc149b81d7d305606ad93f88076da79fc24e61beba7d772450e0270635c5ee830c82682e313c0003ebd2690bef5dc2b5f55f5fffc476d8792596532e5b63810f154459a1fcddd06b5f023c551ffdcc1a302005431d41426efb0bd386e69c12d23a3d22ba4abb8b3d5673ddbba3ee039486d9cdce5d4dd41ec9e6c4de7cd3dca133ba742583351653104177ce381c05db3e2c2b612d00654eabf03eaeb77747bd3fc60441a6040328edf1ec752915cb252bbda6cc55483cc64158b3bc11d7adfb5ef6088753adb0f2bc5d1078c792af61c7dcdd1e7a506d68dcf8e0a8e4d954b71dda6422d88de744648c1e0ac53cb2a3bdf5a6e32df20941d60e052aaa1605ef46a78145909a5dde8229ce4b7bb39010a8001a8ff1a67ed270d8d481b3462930d3263a6cee2e606d039efac74b246a925bac69f4ffa988fe54af0b2b19a25211974de2b07134bffbd089bab84c0a691943dc434d8db17aa4664679c3054a22f92ac69f39105ac978c0e863b3c02a23164aa9f81dd1ffe7bbe763a2388ad04516238ca4f7cd0bc5bb6e116c50ae3257e293ecf91b5540dcb43c65aed056878b81b6ebb8ef8aa533a8ae1d3fefc923351c71952f7586b218e0a4494a91c7fd8085556a60736a1123fdc2342f58e4be827be3f3fce4a2949e0d94f1458e45dfeced71a1b8b2cdb62a0fc130ab60f5812591b0d36eea5f812c5a7b576c4d83b709fef4db0de8bd53769e35e0b059d101e73c985a64eb4abbf371e5beb276c7766aa4fb03ee2e88db4e15223528730e1d5f5c1591cf1799c1436de59e47730e24bb8e9a5e141db16b4dc0691945cd0f59f6dff188de1dc50c3dbc798c93b84311b8ecf9d25c49fef2f19dbe2637f0173c1a5e4fa915f82b140b77b2c99a58760fa3bc0ce9192411fe0601b31fbd060c6b0bc926aa9b4cbc9de9c1b8b044a556c6561e0513685ca20ab8c9cfbe325517d94e64730d48c35e937dfd3ad5f723fc8d1075f1f2ba3b2b1dba7e4b2b2c4f668aa9d884e150c9d0602529bfa80c4ebe5122e753d04ebb709e35e136843fe57b0d8baeca0e9e575f630bbaa54e60e344363f0d3a439c96a12078ce04f1088e5f208674260e53c22323c02f4d68e2c58ce31f24ac1520940352df1fe8dd8d39f442e06ce4b9cdc8506caeb4ba5b7e0f66945a02023a9172d55abcac11c6b55ccba6bf8ec11496d842a239fe7a447a5fa31858986f24de17a335484300eec393608b44b30ec3b7e29080c0e0d3a9f91a2562facc74f5842c287b7cedd4d17a567490b3c833b5de1aecf499440a42eb17c4989108223d34ba6bcf777139b657f345d388977508bbfaa971ca9988742e5532957bf8a89f4eed0c144c3cb8ca34d361e472526da5916c2879aa47ad9d4e15acd1de767d87a51f741d4b3bb34766bc5bc9022a64ac6ef5d9401061ab493ef73745a76d74ac1757402a776e56f537d32ad6f085272bac2a79a4228140452f45a3f130c775f255ddd8e2f5d6bb4c49e57dd2cec2a384120abe70bdd545b70d35a59d5ff73c1eba548c165788a74b3445ac0fcb00b267acb2a31eab009d22315b77112ce006673f1dd90eafe9ba64e20d62e97cd35d29806208112d91b06d05c06f2d10d95ccf59f877e412f4d682ab764da17d56460c1a29b7b672a41b6642049d3811073f3e1a87a9a7e4ba5c220f83edd7e39c71199e36514c040938eb55adc387e14539f30c94739903742f205d31a4b66d7dc6292dc0ef3fb4eaa850ca0082c9eec533bb07cafd9b3795ab93b7c555f1508553a5ea0df05feab60c83e1d25f43039a7234d07bfb0d2a276d7f99ef101caa0d8364a52a495702bd9a00f039358f61f27651dbb72087227bfa97737ece2a8a2b975c24aa85bb3b5b86dc3ac123a1ed709cb8a1d0983e11714be8417a86ec69ec3c2557c40be1d2a4b0d4cc95f9185eaa4de65cd9425c969e220009d98506ced31217d98a05da1ad875f674cbd1c7298121e3655efe2268b2b6e489f6a3c709a5db9952ae6beeec4fed06ba2d3971a9be7c7b2a2cbec729e6cba16754a767b15f118b1b59b2347154a9bff0ef04dd5bcb8ffbf5569691e5d337f783e7f90eb0157707d3e9bb685f852fe5293d45266135751a20dca39ef8a34a43f9baf4c544a4093aea3e17b2ed6e0fd59b5480dc81a3f84aeb56f200e683205e03155c2b6443d8c81f5f4a541af9cf40cb81d0c4c619252f1613918a2e383027931c99e22bbb2baec3275582d9ac9e9a278c2d0545c5d75c9e92bcf9a7c1f4b70a8c720011858eb15c4afbc287005a515bfebb1c1b877889f322478552236b026a867c564b4f55a778717b0342baa817e8ee999a5c25a2bd88e844b48d493b68bcb0d1e70d2bd62f1a1e2ac2dbc02381924b4d2e3e84c982cb16eb63b30c168cd8f4d7312bf26d24b9ad1107521c15b14fb25ae3fb5a34aabb0adc6a5c0fb44ab02461326648fbd11be365e8ac04c2d464826ddc09299438805a377c021dde7ad1d660e4c530bf0a443d9459dcb797fb0d6a13728e6e62e616569fe0b7fead395db5c8872b543307ccefc8b44916b31022140ba24a2c74f801db18b6363582a9dad70f54638e1994fd6027be4d97196a7a332386dd08c8ff3d288c17dcf936b9f53293e0aa67958f4c5a5d7c6ac15d04bb67bea12a512f7039f641c901ddb247e26dbd5702d4391f76ae0ce36ee39b4f0f065e2439818b63f0c40c3e836a566bb563978bfa9886994bdf2eb30820f3d71920073558d2c03cbb61cf658a5b5413d7bff71aef5e82de28a0f577b7ff3b2bbaf26480a9e4f5c34a61c30dac94f608651e7034ceab26c41edc3d7d7b2519231811e2d1ecd820d09c64d8159c366dd2708af3a71b27439a8021dc3906d6d93dade404a99ea5c71996311a0f43aedea6af7bfdd759e16a0acdb2f17e0751b94be65ab7da1bb89ecf8c530764bd1b165a051a2f38f97b129da86492cc5456c61234bdccc0a0613721d0d3eea198cbc34224b1238c005d4c34a5ee9301ca93855cbf74405df2b4b53b0a17b7174ac8a7760ff68e9b652cc53fa0f36f0dd3d42d8bd3f41824e8e62622e61bfeabf5faad6226a835c3b1ff0b710ed2494fe55e53a16290d97d9cb61d6dcc1553a266231f71e8e3b05b1a5172bb81d88849dff26b65c735b8bb26c7c0c8e8deba974e3e97c70649b4f336ca22817334679d54e35a5063766508c9416680c655e80cb060c20b28c304002a7f57a01eae55499fe7376cc5d173d4003be3f67e91a730e58c77a86d2803622dfffd3676b9ee0cd92f13ba631d673f51a4bf96506ec8038485f57f851c4dd96eb949d3218992daa18f61b55ad796952258bc396e625d986b18d62c8ae14179ce340f10be3177b4473d7e8f6172d719489edc42c4c927770d0f82641e3d5d74f721bb18505c43a56b1c2228d9eeb0f69c3aee6dfa178ce7d1eb52eb880223eff8461ae09db9aafb813d0f28dddea77c92e9af826dc95c30786fa1bb09868d4fd3d60b82daac028fbc7c5b758c1d979617135432a366c686cca791a963a8b8ae0f03fca2f4a6b67b8d245e6baa0b2d7777d1abba3836b2bbd7d467eeca53e93d783ddb6358fbc7a9326ebb1aa33735df5c4529b12db1477b65bb9fca965ab3fe990d4aaf626540e372fe2d5fef893e0804a93ba0b560c9cf1486ce70a7f91c10be53e98fc453b38dbf24c877d80de24a74a185308aee264b2c1375cd9823ff42c4a2c38ad67bbd1ce1d36e24dc7f6fd8dc8bcea592de97a8c6f003ac6ed30a5856727a7b6429860230a67c25e60c452654fae6ac68342a671961acc70316cae6565e11fe32a57691d1bca0da3075e6ee06f478d2af249f71d6cb09e68d486ba65cc72ae583c110f2df31e4976f5d04296d20a8492b172728341685c6104b2e24b018f11bf4bbda3ee458d4281575ea46f26b1e3c8f168a62b7b8eac80d49f30dbdcfb18d270578862d252dea444d502b3a0c1f13ff7981879d0690e17b1635418bb8e4b9f6a330042cfd72a128f68dd58e4baadc4c3f0f89a58ecdc4924ac9f6336c5aef7216b4a954b5a52f710a77b62191b4e76b382bb0daa8e2b03999e7a35389d095b9b3b2450d0d8b98f2f7e47c734580dbcd65751d0462f9a014110305ac99eae7ba0af96df067afc3276e32b21f48e745e273968d5241ea0c47a664f6f0a5dcba4500b73dea6e3e53a6002d808c6e521a73db3383667bf55c37d857f1f39119045d592f0219eba1effb9ddc9c977c0847799767af62d78dfaba5de70a79c3cd5d1987b41469e908cc7866de297ba68f5ce283ffd6c0b43880cb068ca6e97d71f93d4e3ea004cb636e1b4150c2a6c9b53f6272fec6b2b3846e7c03dd67601ae3f2f71355e103a5a310cb887f88c74b2d780437274da0f64972adcf210b1f4f9a4567a1b0d2b96fe8c99e9d06c2c42c49a116fe1a4600111f3c85b3033214948a196cf786224ff1c19a0f546b0c964ccc0519af5a5b4ab80e0100c46acac739329659cf22b9815fa19f7de76b3f609a1d092ef0119faa70dd1342065af05ac1b0be4b422b326daf8eb33cb0fb613551366598099c5dd560c3314e6ae032408e71e88c0fc18d964668c76e65d31d9824c8d0b291d1a4d8efd97160612a27bb5641f310eb95ed3b4f8872c7025cd6c04a29d3599edcf3f67c493a4237a36db058c094ebc7282d167a53c06fb50dc584b8ab7521877446605313fd76f690309a61ebcf70c2c4bb0b969925c0bc4e00a52743e6009db0a233800e25a413e0257c23b02c81142244737cad8c85f5f05357d1d6cd6c88fa118519b6ec1ba80f75ad82bbfee2d2d06508d292837ac706532e6d8d574338867f2ba9d17681848ebb4d2603605a880af4d6fbd4f79c1072e87b4c7fe1b0c906bf122275d50a12b1ad68469c552e14ba2502e13575ddb7700033014157f6269768387c076cc817a36d9a1ccdda362218315cd3009afa2a12e1e8859cc7ad2cf903999f5cfde3ee0ebf08fe66503d1d061662de9669ef980e95908b0f7619acd3f208a6b5793518192310c2cbb0ee41c9eb0fe75b259c75d67882e2ef2b4591ec30ffb2ecdb0f742bdc145cf3b38f2b46206557ab7e159daa8854e2b7fda05f79d1b88cc4b79dd64a019e8aa41e24053197ab3a9d426ecbbc4313fa501feb93e682eee1460251ed6781d6e421c2403719d190b2e10bd8cebf4cb7a94350ee3517e5e0a8b162c06d21a0000b865aea245c5ba832c68bd952a236ddee43d930b207793dd0d960829288a0df2491aa33be50a9e8f3d7fd9c66992ec7550670c6a05f83d89df4db333b01fa096166b2d8cabb2fb572ec6b5f2a0fc3977e8d615daf2d24ac553eb8751804e86de8dea867c17c715ca7c316684ef3d393fcaada26e6fbcb81061cb8932cccbe28327c63d2fbe26b18f6f996678821f17dc8c329b0571c686d9e614d20289ff0f070735d55e847e5e2bad24db7c13e1a4ef50c2b6dcc838dec2cf41736cbcbe376dedb5dd6fa1e2d3f3ecdb464c619585d36be7223ea26585b6f08736822d7d629c807c1dd6d9f2f78cc74f40a6925b8af379d505800ab151a79bd5505770fb0cf62f2a56f11c1b63b06bc1968390993d35c7d2a39090b8600121e306096335c301aeb7064f3e9867df696ec3373d4b2c37c7b28532a1ed74826ea6a86cf9bc8671ea121153dcf5c887eb2c30ed2e7a6d006bbe0e5b350630754cfd0e49978e422a604081175a60b18c67f04b35e7047d5965914d3b7d72b3579d1994201f1649de0bcdff6c06e84fed622793ca16b701d93571ff615a78b261a94e8fc7dcbb7340a6d82a831d0cdb9f6b00fe5b793a2f0f29c64c849163af8f0d549c6eb47531d905bc57e0df9c1461c4d3ac39835cb0ac6a7b7866ba12e0469fd0c5df590b27e3a46c750ec2ef5444ec7595ec7332fd31f15d7a653e30b427140bd911f61cc48c812a7a98a348dc7cfa7bb561805bbb5de7498c5509cc6148c1b04a64cc8e172e36ebe264620cf751d0a8df8dab3e978c10fac2eb849df05cf55e7d568070f14046e8c92e02f82227d6578c7f18ae94608a1e4d92edd205f22cba21d15613e74dff48bc43ba7436905d3aa9dfac7d8c4e2a9bbc2b05ed8ea56a4ffa0f953397a44bb44421a897c21cc22f9fbeed1029201a822d8090a1d07ed13e3a5f41fdf934917d2937167dbeb786ecfd49a6ca46f2ea1000ae527c06f35af70f6bf51f99308f9bf2e748b6f900f7d761f44d2ce861165b15264dd5ffdb560b793304b43ada352d67c58bbf2cea0e223b0c930b730d7ce8e4bf8ed18db07b9a579f7f5fc4c70e880aae5732a36972701b44f6d437c8aa72e4b03c275df0ec29a780aec99c66ebe67b75e434c61fa23214c5069443555b2ac589c193a9ad380c8b877f1f2878bbd032077d9d8afac0244517f6eb52efe8245fa2ce895de4f690bc1f69de959d8da85ec8a22f5e2fe1100951beea57d8fe5cbda7b8397ec48e4d274618c00eb82a475b5588c7f168f10ae9e391d487448d394ecb88f14b5f091c2c62afac5633c5294fde802dd48534f6f27ef636fd03fc2bf1e3a90d32662f3ec681241c637b0f93b86409d3220ca7d2ec409a2393a771ef9c0992c9860d766e27719c42d2abdf369baabc284da966774d9f0f38c8b8f419a83b4856fba628827789c29198f0f2a5bcb8e76870cc193cd0011fd1de3bd6e1c91e2959e36f068e1616ac08ed1573604a4d47b8fb7e4b96f3b536624066bc5dc8e32372f645e0cfd0924fe22df216919374d6b5ebe816a5ec253476333dc6222081e2ccd1e78272a226a36f2ea9ff16e1b1c6ae8aa5a9fe2b6fb5b66408be7423f92c19e9fecaba4d3fb581a1f587735b98d38c915177e6028f81800731577f6135c602d044463f0803fa57e47f5e2c68248268b74cb14a311b2a2c0715b011947e611679a8496f0f3768cd11d044273eb6b835019e8d6700d137f28fb68c4e4342f4ed3df668bf66ac8f32972c5791c80ca2c84c7be16a35e86a6e89ef3eb863c16953f70df5f22a54878b459d6f39984e8e0591844dc738e141bc9b4e61ca8dd73f830f8a4f46cba9e617d28191ca3710754a813e7159479be3cd757cc6167fab71e80d9790ddad628c73aaa25f3d935976c73b5dad8c6bacfda79ec9e3f49e22d73a74dd270b9374ddd8654834ab87c90c1b9e4fb7949c2fedea839753aaa38d606e5810eab8325fbd5b85cd1571d037013d1131b768a3e9173f047be97b58b80e6a5c4fd9c4529573c253b721002bea23260a6c3d9e43fe092a540615fbcc6d4f43d25297505994980147d2d78115071ed1b5d2d7fcd962e8c0fa6106636a87b9c1b747f60c585d2156599c2f9e89b45acf061b4fffdc2f400a1772a58558c97acfeeaa93a2cd408ab4afeb3bc03708012520888c5fd090925b0d3abd7f5023314f8b35ad97535292e639e01a3a456e502f583273bd73d93920f15ccbeed41b5fd0246a65ed6e92a7e6b52eceea99e24a11dcd6b4632c31afafee1fa0a598453830426f4f797033b5daec78621bc38a6cf78d42b389fd2455127035d5fad5978c35e1a7cf34ed3863a5baffa0e3b3bafd88d29987c8e0a5b14cd0615c48f56cb44cdf1edc376fa7d3a45641c0c4ccbb3afd634d3f5355a5cde53e4c0d568961641f464fd44ccd2cca6af19b212e9388e4830688d9d02fee7d029b6ddda7a494da74e466c12d31623638f5b470ccfe749c015fe48957b56c8bf7980e0678efe1a8d9abc31983a59f908d2b3c89487eb6ba14eb665390e75742877e1b3248620767872decdbd41de53d42af8ce8ad828d78ae4e59aff944ec25e1a97237507038d42c0049c0d8b1f80639019b071c72e8b0325199c8d91aee58518d0f99633028103eb399923e8bbb7f63615ca65d049c1d620e2b163a20ef60c8a91cf7b064bb0aee0eb8aaa9f304be4c93fa982d7734390fef6e2b071cab39b91c502b6400542ad2357cc73cecbb6cc5d267ed957d1292a5da24c0711c4ad195bf9f5e254038e92afe077d1ec21cf1a9640e2439cb01fc93779326ba3106bde3385aa562d7f0c150941968b731db6ca149d5cff7e98fc101a74a295590bcc6697968a4e26d11a7bc0fd5a9a1229228e6949f1ec9d587763e5994bc55b31c3ffcff32ca4cd4a96c4ec0f4bcdc0b75e40800ad66be4fe5c2def2f436a361b86cd0efe8fab02ab90a6ccb1a28b299a8dd7b803ee1db8c23cc1717974de61bd0ccc9359deea66252c4bf97e5bfa13f3001daa071e172ff193c97af8f575cb7af45546a11c544e52d1d7bfcb596df57ba4cb440298c93d5466487297e36c7748b29d938d1578dfda8f434d3ac6a981e79600006e592cacdaba91150f61d83427d20111325a40af6000ce21781bf1d52b047441c744ddd232b25b63dfefefe088b92ae0a2b7fbab2c8339562d0abd026d8a7a0f1c911430c52052377d7e0930aa78030655f37d011b0762655b00b468ddb5b9f127418b07b723dc6d07789cea4dc6f9f585a985e060aea901cbde68bba26b449774442dd5c90a8d30182285a3842f4e8b28c4429ec40609b29870e94dbc8bd96a9d8eb89ff063764d8397608c1e96c6db8143b638a6dcc20ec72c94a12459ba345b8137bc0525ce01ff1cc35f4ccdceaeb835eb61670ff216722bd44881709c767b44a2d5061ca414407bae23d594a5d5774b8ab05c789ae982b869b6b36c48cf52afc871e125c13c09e01edd6fde7e3371cac0e62d71c80bcbaa9b5a71796cbf2210a5789e903012e125b4703520f53b8231498faef6688654e588b4951c9d60b63e34c72fa20dae89b3a966fa79698048cb58e6acce8ff7444d3f91908f761cda435ebccac4acde0392726622b0aac5e0f0af8cbcc19067473d0ef3f3fc269f2b3acb652f2c66847d2d8d8ff9166ea30ca6de48c84719a2065f5da2c70d6a6aa5356d490d16c7c7dc5a5ba956a6d513f0b897d4467201d288d3242fddd4a9d135effbbf78f9ed97ea1aab9351eff204d24c1082c500b9242c031f3002867cbb0b21dbf5937b173e013297d1554e663376fb986564c208f42087821b6a4698d061f847b5db3d82804a49bd8cd039f613b9362292df869425859606d8cdb16b4ba415c1299ed49ca3c4fbe2999f8fa85e469dcf98369e67d31b38f1769caf275182f989f059dcb111b08000c3727eaf272ea020012fd07bc8bdfd442a8e479d17e16bb98c4ea79834fefd7d2c7a59d157998c3dc11e3f73bc154f3bd070bbce543b0c7d95d296ab52fa5c1d4e03a55c207d7158409adb88c1d3541b1861aec297cabaef9ae694587b4ac64c0051a3705cea18cdf57615918b78a58e4c54432eedf7ad7795315049df3b3b3a87ddd4d040321e26dae078fda851055b6aaa01e5386a976d92aafc19eabf0509daaf3002e7922e576cc9638be84e25acba0c942fd051191217a9279be513caf0eaa3e3f85ef157e1ebea8fa548dd272eb98846004ad839c30cc1d328809f88738971b7d242dfaaf7f661aa9cda07e1a9898ee0793d63a9a479896b1f8c61c76e7d314aa48404ce5be9b65876ee83b602e5e22075c0a46d4fe9caeb8350d24979949ffe01610a99fc25cb4d0bb78545e6a5b44215bc4e02dfaf17f5ec8eb76e98c98102101ea86f0ad003077ddf5925587d6d19a9afb3c560e65f06857f592ad47fa4641ac66a2b7da83a25c41a1fc53918f4676f2fcbb31a18ab4e312d378a98f69e8d55be557208a7e39735cc1e05e0ebd672c95cd1326f9859f92ec3d387aca07e29eff7566e61c05378314d89fa94d1c1b551d0147406a4ac3288e03409b47972bbfa7149bbbabe2648db110b690f4a3d215c093d10a6c15684aed494401a209a3122084cf2a05cc8f4c148f46f2698b4539545df1f80c916ac77aa0f8a9165cb93febb706de3553dd804d829ebf918e59038d8bfae4ad82eb8e149a90e98c967afbc469c98d88d46346391a0ef8811a12ccb086b965c0696d8bf516f0dbf8c187926930649823eeae07e7e00cce0cfe74541d57d695b05080ccf9fa687d544102375973bf8d7432fbb86e969199ff65850172e82da5ccb4f0d2348a8dc1cb46d18c48596af28472dd2b7dd20a32075b463bd2ba3c1811081f8ebf83cb27416608cd5eeaba3737656d2d363091320912b1850b3adb101098fd709f10c62d86dec2b80bb233b1d0547c39d53e9b70bb8bfee4c0686644fbddb166cac5e346b89bb39e32ad0db75f67849d01484ddb500f14b3fd1355fac61369cb26d203fcee9dcaddfc55cede67f20135b51397b30125a5855efb28b4eadcc3a0e4728a02c52bd711e97e1a154bb35edac37fc7fa29870f578c5fe0a58878749be82d146f69006a54c62a0920fccee834e32349600e05c3024893abf6078f44ad764b9b9e298f68b1ee84b334c9081caaee22be33e3b2e06bd0e8e91274988a15d3338edbd3f990cf7f93b4782bf1915210661c5e2eb4eb62a659f91d82cd5caaf04077350aac332ca062641bc3d031f3c3335afd2cc56ab97d6d1a7d0a96d950100f7cfc00af02420676f8d9a2af1c46db44ceaba3f310d9019f4ed70621cf2007acafd79b75df9261a5d5269324f282be3732d2fe6b024c1c7d10c8b40d2df2df912484b6bc1f8b2b644bfc0ee2c41cf0b766929c8b1d847bf51115b1a7454fbe3189c5141b61ee567dd108121808bdf4c90005f577037335634748cd53e54f811c9a089ca49b76ef68bf6a9e4c16a96f254a807e23350f08f3f4371d06efd8d0b7be63a631df27b18e54ae499e3b9866920b78be32dff7b837c90bb39dd5e0cd60dcfe491c749733fb2cb8c7a43a1a579e938f518b293c41960c6ea6a06e148949a12df3d60d9dbc6937ad72d0686e45572f90eb1ef3cf3125c964e89e446a54caaf3eb8b2a6acfed2c09d71ac891e123656dabf8209309bd338fc52338be1aeb3eb6575750be28efa8212d36ee3454307fbea6d557f5051ca6902206892de7b92315f61411e0ec1d6d6a85e63aa738bd14f2dc3320191985c543759164c08dae0955014b2a3ccc536785aa4023bbcbff1a765ff06d3939c19fed5c82a8586679d921ef6b6e42ee18364259f88bb2e84873db5e8a6564cc2633324c861fb9d5b41520ebd2f7f573b0381429178b6f7b0e9b68e90b8afe538d30690bfc4a55d4bcd910d58137510bbcef6f594e062a0753628ed0fa76fc3af15e66603ecb118cd1539b1969802c4c426d0f29725c36a3e0baf1027f61f8281f646f978a601e6cb8f7ad1146a0f8f6b18c8f08022e92bf923c0aabd1d1f43952ab6a62b2aec32917f56e25ff94b1cbcd5479205fe9bddb2a3560650d1ed1b80b80ed0c4112f5d873f0fcdcb82251d0df9eadaa43d8dd85e4ef4472e28175154febf5886893199c2e259a66287eba895fd44193952daa3dfb60a15f1de1851f38b8da3c9cc763b01a2615ec529536bbef68b560880a259ce5ab8880d38ba8f43b1ba151b053d884ce7d1ca4cd96eb3c263fc64b5701b845a46704bf82218389269fcf408ad4c4d60b87145b8dceaeb727c6c198739477c1b648810fa7b028dd62212eaf65959b634b9303a766a872d80517acf96d17a6cbcf741eade68a2c92a4f2f74931b3573b3c1e2c9e9bdc633d349c5fd23a8b7d7d9ca3b113dce9ba752dd6c79a9f0d174d5f1c5544b85ccbc9b8cd1191374af92d2453cd85af625133551f78257b8d03a767fe8aaa73d9cc4d55ec8c2f5a8218eb5deceab7e949566365cff6248aa9e1358b2ab8d6846602efddfd985119b24f6a4f1de935b471304759cd980763e2308c98b0df7b0273995d0ca7e84e9a33572502ba37e9094b91dc76f08c145c0e770a43dde30ab421b1f0fc60eb9ed04f3fbbf974e477ad2243f18750b6294bffa7b9456e39c6ad94482dc40b9eda5e382166d53ff2b645d9631bb682b0673c305bbcdb2d89bf070e693dd139661be8bf7c6a47935160c97c80960130fce58c8f2c3ac709df2e25f7579ed8d95b92ec08e1c28fa63810833ae18628726000a602799ef8d042017005aeb07c113a44ac616e29f33dccbbebf86cb40809ddf7d4199305c52b6dd2d29a2d09e922f077cb50080c81b1059a5a0c33bf50f3012772db881c31442c5cf578db5b03179fff1f60734a0e10cca4c9af731dceb27ab391d10f85292210b87142becb655234eb5c26f3a6efeadb1cdef3f74b21a646a70f483bbb92f5ee1a9bf9ba3ae26ceea99aa2f8b639e937a889105830894ae40cf19b6c4367ac551468db26637db991b84356b2ed8bae18bf8b1d0f6a90cab5f091ac13cc4283e86a831e32c10c7974ab6ec1c96bf7cd5b3a72b58b510f4184736a745ce10c5cc656809aa592aca2b253fb6a6aeb83689d20706994714074c7c971c498504f3a6190223e17d776b2b012f365f7f9a1b2b66aa1674cfb5d94108a917f71f7ab578093aaa96946869c2a7587bcefd7fe2eeb25122eb3de9b5a37c15de4806eb68e76a6e8d3fa8d9f5bae3018c71ea2381c0f0e3df1867058c7f9ea1983ff13a08d8ea001ed4284cb1a6a1b5f50ddf9ae2e863db75bd8b451abcde2583a29422d021893e3d4355136d5699e5f9ad81df36e06db4b185ae50ee3c95d5c77d36e257b604ac454ef6cb0da267f6550df9a91f0e3d4834b46b2a52658012b38b9b55b9456fa0551451f1ab50e70c0fd22e57e0f468c6518a5f317718657e28c262d9268de957a40f6667c476f8793b4b5ceafb0d4fc87f32b78e309d39a03f9bb6e2113bd255e11776bad015bd87ed810cf68c6706704dee368ee317e0eca696864cedef049305c0fe88ef24ff182a798ab9978a0d9e79d9110310bf8b6c4243a8a4ae5d945af7bcd265e0de534848d3e9cf1e4357698d329be2bd914fb69a9d0af28fdfbd9dda2e5887d7c3ca2d0800eb6f1fed86997f59ac7d0a2c72fc848b79065d61c8f524e49c8fa1deab0e83bdc19103bb44c4ba0769ed6d66839a6f04911850a94af4c3286708609795772ed53df27e6b56375449a1f4a5ce1b54af7fe200dab9418a9a977c5ef1c1dd116efc3f8ce0818869c1162d088132d7a832b13c4a3a05912a3b4cfdbfb4504e3cc534c124da96a36663ca9cdbaf6b8db455d123d1537c9bf9ac303fa5b2db204d73964510a7cc99593fa1b4606128c7e78784dc4b8c4365d077e3971283d40cca0e525303fdb9ff99d715a61e448b7dd5b661ed12802cc59b9f056b291c64f4d1a76ebbfd4c8dd1e82a3dc44fc9b19072405bffcc6babd09f0e5bd02a5f09cc7e2aaa91988e634f4b0f2eb92fe9bef41b6d8527d049c56c6d05f04513fe9ac1c26fb898682ecc77846f4f98abe48da925f7f319f269bd27c935f0dd25951d6be901e2d2104f72963cd63f020fa8f6c3fcd0d3f0bdac90c282233cce9f22344eaf8c93fcb47a94fcfb5255c01d70dd02c732de99a4906d5f4dc410cd024bdc4fe56de716da7849dd1c13e6bdde3e77577a68d430fdb70e31ebe78b7d090d2faa3a401473a01d106daea4aad6bc3ed88ee8cf3fdb2437d75695c111731fdb084bf86124109477ea8c42f61acf74a460d81fae66c4674e09700969015dadfca52a493880493c7f4b8aeaa826375d0a254878389ac253e42285f4034307355cfe24cda198d599ca1bf49f60c80a49410e2d455f29c1924cadfe42ed5d1ceb96e38d25aa2f5f8c0ee151794fb47ececc6fb36410400762f8902cdb6e0bf7b0811e7945c30ae34cc784804646d79de454a97ffcb7b74c4113fc1f61d890c6cd755948b883e19a5f2b868c299b5113d20a4145e95b4756c5c27c1a3aa8ba17504b14b6f2abf93ab9c33eb4c8241942c1a6c39e1d78bdc5896c1d55822704db335542f9dd06f4f5845896d7de5431ed24bd4f72c20a9f9e0ad3b4754f54b4115c39bb6dfde83eed1cbd7c42657961b276390daef257337f8abf64506fe07d5fe81108c1c4f758dfca7a1ff2408f27b1f1a9c06550e1759993be8305bfeca45684f47c00287eecce70e9907ab06e3dc03ce2f61bbf40530c7e9d67522602bb2545d1390b781dbcced533298d2fa4ed52754b3ea7ec877bb8ccad7a7daf453ea6c6ca9652670d57a26b18ca05e9815167c81b322c78d0055ee9871625ee8319b831e4063d4220660ef113b66b006c7978cf43320678cea45d9c36c89eec1a86ce8fe2b3360b663e7127629101eee21ba9c10a839a5589bd006f252fa91dcdfcb2c46d2f30cba7b0d8eaca0c6950395a7f4079c4a976e496fa6eb6d10c8dcfc7426d33a2fdf1a9dd8f4992e4f68a676bb7f2a7fc2f88d1ca385ccb78f21fbaa3f7a15c178e6c7e7380af99598123218d04240d66364c2990cc17871231cdd08bb80ca0388582a0710d12cb3614b71e1df5d39bd06f2971529fe0d4f50f792fdb3af63c4a4104ba304341b87e9692cb670690d4738c765a79b6b8c59c11e2f4ce96047bceb910ff5766cde09feb3818f8baef6f321464678e2de7943390fa48aa649576cf004aaa8a41392750189dfeecd8bf1ec6bc0528609f6abb1b214efbf6277df3824830d7c8ef6f596ee49c5cb80189fe78eeaf2b40995132695c5c492ebf694d6d7c74af649b3a398987f52dbab4649c76a89edb3e83f01412ecf621e2500a84cab536e933533638f8d793d0e82dcb3fe42ca453332e25a9bf7f63070828e1c37a3da88967a72a8b1427785a37f63b7c1840581482cf237bb5f7dfe3f511aa995ccc5bb1a0633cdc895b19279086662936deec4f96e89d7fc186dea361790f6aab0ccb3a4c5311d8dfafdee34b76f04d5b290e33e8e7afc59fdabfb1fc5b30bb5f77d1d74c654fcba98504ddeb324fc70bdbf13d9f85882d3cf8832dd82bb0816ee47884a93fc4d3ba5ea928a2f1a8d261cb42c70363b34f0fa924f15c4e6fc4e264846a33710de8a2cd8453a1c6dc40116b4c9923efebeff901563345c33ad771905bbdf239570a2405bc7f585c415e52ebc13fcf8c36054d4425432d02c94e4389ae66ea1e4e185fe2a21192938d14880d3a639df380b3298cdc629496e8e726a6bec25636e81df467a31b9827aa3b1dbdfe7803c887c819bb070c29cef4d1455a808450462234b7ae27143c34760b3b99e6d4f3d3d455f7ac1bfe490533eeb048419ba8a3aaeeef55a79b6ffd24bcd8139df58004655c11e49cda19d62c80bdb3f1056b14f3a2d8895e4d20c6623487a693b421fe99527e7e48b67a218316bba911e56eaa3b398d0bd005e8e9dc3d6dc566a54bdce204ca154ce094b4c46a460e115bbabf8b03270364c333a968f2b5d0ae033b79bfa716ba1353a54301f2b34414891401d9d71dd89d2dd5ea1aee0aa1829d79ef2cf53a48b25174d9cd2d8921f6b203eef73dd2b3780b18eee6a529a06fdd21853831997f998aa5e52b322e214e6a0f15d225e4e3af9f4f67d0d4a73daf5602d5d7ebe4a3fcd0b0e2df594e24d19e8b106eb3ac47e352d199be678c3c214ef2c7e361d7ec215d945e8120921f28af03ef3127a90cca35fed615643766fe9fdae94958e83def0e30490f77d5924ff5d72dbacc9dc0c246fe187e3965888abb30026c2abec6beb3a7b0804d6fd51fe14732b8ccf4b2794fa50a7a60227da7e2d302173057740aeb5cc9961a8a74ec42dc8adee16c4da6a145a182ee0beda0deac3fa7a7762a947076c5e866a74b5aa036f0ff015b9634b0ee895691b637cf14c53470d8c054cdcfbff711d6a708eaf0beb35cd7d7246f41fa9efd08e373c4605f3d9801e804f41ae65b18f81d472d92a29945db383764b9289acb498a7b47c381fc2c53283d5f781e11bf201d66a2d245497ebe7bbd6da9c85e4c7025f96c5145c3366d1df48233fd0367970ee33bc49f2027bbaede1ab636e96c1fcbf01d9f089424b581145ac50395700d9d8d25123ffdfcac60697f72931b9b48b0844cbe0965c4bad5bf483dae05c5be0777fddf2c883e8ee2942889891b37db135c69c277ebe7773a66e1841647d82218b2de0f6a96a24dfaef19268bff71acf98414e3b9d6d68937ff15bae3d35f496ed56851094d56a3ab8ac25558b3306484301d5dfae8ebea85f68da27631129bfbccb977139562d5776cb3722a0512d5ea62244b2000cc92cbdf9e0054b8b792184ce8af0cccf7d81b6bb225b3b7517c15e9bb364ff85114927cec595edd1be2e07ae86ed9d1920b5fcd305148c86a39d82bd76928b802142a3cb969542ff52767959bcfc3baad2565a0f1f825c898daad244c1dd7555bc6ac23681cf3889501ddc37d4a68cf0acaa9cf090371b8fe65d2f6ffaa19c136926b2a73c033dd52f297c053105061d5278219fa2318bcec489f9fda9a2f20fd4d9b6c97c3463a60d0e4e1d7051b4be9afd1e8558dfccaae5f11197a0bb377711f23caab3f13ad4fdc4dfa7f3f4f5bb786c8e1f9f9fae4825e6f4c2b7f245a5f82d4f40de864b0d31b58b824d698e967929e38a011cc732e30463d7c89f87de4808ab8ca8629db4aea5e620b7699a1ea679e56744df2038da7e83a1f1bbc7aef079bca8b80f0a1bad374a217a10d3d9ab51ad17000a055a2a6c6ba9eadf180a735c2326c04456f79673ff9a840b9007b0cc89ce30dfb3728d43f38086aaed838baa5ec625d0b8496f7978f8773f952c279bbdc8139f59db12f687cb8b14f6742b12ce725cb94e1cc1ec66d01908262a0d5a3f39baee263a0fcda15c75f03ee5b222833b87a7bf9f725ae517dd30153e6973220cf6ead974ab4ef00acf00441513435aed532bdaa4b033d0ed2db40e0227dfc563a5dad744a1563a6ab0ecb47b79f1588d73872bbc3abf6b9e9798f46938634b2688a483619ffff41271aab9a2d36fb60062bd55324bf1671f85ccc88e457ee91e612ee132b97f397586a783cd44afeadc50369a9ea6362e03666d64f2de059c28419c8203208652041dabc98a7b7452f65534233621c21c9cb883f9a449b578fddb6bc18e7dce0aaab43a1519326f974fef1de836c3476c4eb0368b820fdc55f85d553758ac64f0019390863202e240a1254915f82336c2fe1c2f19ab0fe66257025e37fc928f2328f302999610fcab06e24160713c8ab51a0bd576a3629aadec42bb2ad6071cfd8767b2b81807ec3e35ccab5bb0f4d548002fbdee3ffe14e4039299ba306cf6a542ecd495d16b930c2f1cfa798c6999ed60a9e512c71d5088d4e677a52f5b6f5bb577a6664fcbea469e5051679ae62530869a817ea3ccfbdb78828fed760339d074e08a98408bb2fedd06d5e2616dc2fbc06622fa39045cc33afb04ab529ad0bf55222d49113e0f43d7ee27d417e72b101f0d4a51b871719b1e72ae51081ec69da3155d09c4de28d036834527fe34c53dc1d2725f58e5e860bee9445a156e46556057ad594cf9f31db38a1e883cef84d98d75c733e1c4755727e8bf92a55030d6a23fb37029cf4d4efee6acdb70179afc0b824f720919c2b0f66b28756844dda7df48dc2142201d17fff4c3d5ba18f2e7501f9216de1a9a2a84a949b5ab0ed97c62a7d77bad0862c8e0c331629965ba2620c8cf9744e852fd36df0ec84add67e40868c98a7d073673dd2f4b202771ae2290d6b3d7889dd0b6c69bed79cd258811f635fe594076b6a18e3b940f1e62b26698a90130655307519c75ac63f746926bc987ed235254780426bb3c5028ca17f94dc3563bee661a4bdb8798569846c1494e407c172881489e4dc931cc1339efaeb6966aec23f3094df5516cd93323c12e38faa0b0e844e7b521808559eb0af3a7d778385a3e486884cac80a7d5304be207ce9f5d5176179a3a3497810e47fbea2eed4c24a188b53e9215db07482352f9766c42651ddf2a629dfb14a3b733d97c7ea59e3084a316d821770dd3def4ac79b7e58c1dff6f2f9328b2d74eeb435a99515738e6c466d66185cb8769cbe66ef5dd9e32ac0ae3f72eb469dd1c7a3739167267b0c21db7c3f5f65088351e1eddde368d626e41268df129e0de50d4e36066bd3d9d3bc83c66de4e2825525c8b96e3a916a6cd467e5b4a759ebeb0eaf0d7a6c5544936d7cc95d938c00d31de14145c7429539a1d3f68305d7bf3ead7735ce58e20f9ded65ddb5f5d8a58d669e93a2667f5b4e83ea5d2f551b4bee36bc644fe48f641345d0b3fc630c5f72a180228f5dcda0219c840bfa9ec7e76f358cd3443bd01172c17c93e9218a3c2d046c9a725e1bec8c5ab4a4a17bb5b0756b9e6c63b148ad680ce675b7787867ba2625078dd0d50114b570a5b13c83e2e9bac276e246778bd1798ee5e512b1bf3d8268ba41d1256b5214f28e6d16bb16cf3fd83a2d4a033d2751d9fff6bf89fc0c8a20a912dcf602ae4165f6ee1523ed3a4c4a7f42d6b60db79c3c54c555bf2425b7ffc5dfb111de288682f0b6424153435b34b0","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ac4a0fc641a2c5c018f2ff4fbc683473"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
