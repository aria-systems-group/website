<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f9a0ae06da5cd0056d2e55693a614b5ad4025a7920cb06a93df21598c3c83602518605cb61dde4d978aeda2f31956562a5d8f9cf6832ba697698c94ef764d436f9a55e306f0837e08a6110aaf4f5c700b333df0af853e41aa5fc3a8f9e4da1c8f4184b1c9ec480563baa9238993eabce6e507f40be5faccb4c6d7d66ee88a0656b8ead6d90a37fa51dd71fc78e264e9eef266431c33a1776cc2209e98a4d66f6b1620cec5f98b8f2b47b1ebc740a8edf165e754a29decb2398a886e71a78c86d306b3279a52b58908c168e235b37ec061dd838b6f5d1208ff802a4921397287c8e244f0e94a59a8dfb13570ff109977495bcaaad5f7d08ab96da8d35c8446a03490ac23fbfa000af7214cdd4d3fa36a60c1db397a114a0c602741c30f992da35b836c3b35974e6287275480ce9e1b8577bea47930696ce4719a636f9f3c1ba56c301ebb2eada41d3d6dcb8240eb84c0457af6de83c73488e2d2fbecf707abda409ab13d708d02838b105c07676b77cc69f6040119d88f8b0cac736a7bac9cd04dcd919d1d16e425fe8ce30885985defcd81c7e8aebdbc65464c87d23da231399160bdfac979b54a4d19bdc63b81ac3f8d8ef57642a9526e2f35bb3341f7ea9b87933d0c0255cde49d397525356ca504d25b5c6574444b1cfc954b709324a65662d0398ea8bbc14c82bc6668f1087bdde2a36af4308770ca56e0dbbc60cf79be8a3594d272a513259bf4e726e77626ec16bd61c780f8ff42eb18da995c45b6e94371c400a7d4ea1fe0a8a51f798971b6774a27873fb0ddda510c2f18f45fc16e8d8b26eb7d1d782b396d805888b38e1216e382f89716ccd5eb22f191b625b5236b63738d10b3e6e6876b5b4f465aeee831d18e40fecbd1ce0b8e0f38125a63c89c591b3f28c59dd4942e0b6fc63b04d26c7c3e800cdd08d20b715ccb2e891798249e3edb48ffdc082fef915b62afa480453f851a43ed8fa90f5443606cdb61bcd2cb13adc7cd9173c351a835f4cbeaaa4d5eae665f8e6e0928c9fccdabc504003d17280a87bfd9ff3589d93358058df5896c58ef64c2e60d5acc84b26660c5442327c2a2300b3f5b1df73fc428fd7ef3924d2835ce826200bdcd58f1108d976c7f09c6def0afddb8f5b3b3b463a26562dcca096df7c5b813e1b3da0278d7cf8c6c7895714a3f664b5370c05fe82c4836c3dd22bda5c9f5af8c794efb8e511e4caf66212e1a7f4d2e1740e2315e220fc76116c82caa1956312cd60d0e1ee1aae250f77292458ab93511d0ba18c5e9252869418e0c19c59f10ad587d817b72f48593596cffdf4e54c6401864d373438f79009bbf59124cca3476761a3690371898cf05f517e1765f17c708fb470b195a93150892199ced7230967d2b37d155553fea291cd0a4f71c5d7855f3663bcd56650b4623d1f0b20b2bbb7af2d6dd0834fd69936fa771bd4aef33a74b522d764b0b2ef0e919a7e7e5a8b5424dc12e9c5db9c5d2c3762eefdbd350c3170724fd836d866042e61c4a59226e5a2cb0933f89ee7031a618f6d06e94d133a03cec3fa4333ff39d68395287ca295e16ff0c7bb483675ae11e94f91afc52d5bf84c07e6ddd8e345cb4af9e581568a752a51244d613f5258cb688da05f57721729a26f0058fb69c57a2679ecb1e3052630c59e44bc2007d55b8c05f95d7cf03eda7ceb39b3a68c00f15871ea1339b8ad0a6aab60251ebeef72956a16e817ca6189fee1531242341381ef428addf5197d5cf7d6a2467f73fccb32a057b9a38afdf5bacd7be0f946964424a203c259a7cd3b7faa847225d3440be2e5205ea2be5c5b583dc83b612604ea2532706c6f3c3cf8b8110d414bcfa208ffa0d176bf18ef6c1e2d0a1a60e7ffd54b56a3f9dde1ee1e1b425ae31854f29e87e486405a966acee9ba1c6a8f67257529fecdf3c210f4cc084c6d78a223a0d56a5a1aade365f913e385693257232aa16c75f6ef558b3c467152dc1b2cc8185557b98ef420e7a8b9b0d2c8aa13a800df8ba2e3b827ed4da43bbd6cf8245440db6a1eeaed1e253b5682714b02eeb3ee98b61951c452fa0beedce8a2114293bfb571cf4f1a31f251ba4c16174c20c0fea9f8ca20e15814f0cbb38ba8975f365a27575f2bf00caffc5064dbf87ccefca70aa5bc8cf9271d00483f2eda71f60e90f54ccd5d2e9cd953dc53f9dd74c83a33479c1b85529aa9d11d9b19a0cbc8d9e03bffd6a5fee8a0891c75338eba3b5014decf0747783f8c6161127705bc93e85c096a306095050145871d997a3b8767c2565de503be3ed16cf98e1813cf0d8e694388a1968f7bc5f4962df3a4c125a880cc23d05c4b1b682173d4f558960d45e6aa3264319cd6a1348a3c890cf2d97bf33d55483486ff314f089229d13a110ddf162ef9dc68135bb52ab3453a29123401345f4bc80046d28f0692ff3919c5918f2905519804df1bc6fd70165ebc78212e24dd02d3f079d17a991840d725da6efa0571493722900e73482ed71406d75c938a0379d62e0c9e0421a820b8d31256674f8269d2b5b8cf67f06b3eb0057168e37b3508c67d768f3653bbe27bbfd3ac4c3f3795a652dd3a31479b9814a81bbbd2e9c8e042c36224ba0872532d55577f2e1446cc9e2f2d0f0b3f5af56cf75b8bcb4883962a4f510dbddcd6802a74dd49e1cde8162cb025ef8d83c705ff1a6065c071bff07fdada0bbc2f56df3368ef974e287fe79b92a68456f49c593c42fed8f3d8b310174015c8e789015023b6b0fb3be5bbe4e80378550cc99c0f75d45b24662e2d0a5c36e77902344d52f85cade81d0caa6cabc81deb6e79487d6cb6b37976522430bf4261a5bec6808d0923a32a4f0cd3fda6389aab403ae4a24702d3f78515e44f82f15e6487380f68828951b65056de898687a15eaa56e3252bfe12a664581c76f548932c0b5c6bee661977a90583bfa3920d411b7693b3929e0d3a45c41ded7ca456800089124df478bcec05b7898a31701e122a07e90eda333f8657814c210ee3198bd4e0e560a7b34e5f152e45babd44e86b9245d92389ae311e3edc28165afa970639e4ce2cb95670c96db2d551b0cbaf962c921efdc2742a49fd3139c98ad1ce6d9079f63c6443ebcead27a37bf27ab9d5a69a98e71748f5f32bfc048a1b8f073a2d6db36a45948437770071a950c8930f2226958505f5318447156fc514fbecdb9e4e2551bf8659adecefaffc710f3314f7eaa8eebd8ee690c688044e408ec6953b59100dbd409a970003376b4616dd10577ba5f160ad08f3eaef38068f2ef2b192234c897d8385830d8b776348b227c8e17c96a161a87e8a942c4d196576e8c23bfe1fb981564302e44ba63860956e6f68cfa1bdb4f725cd3435884acb6309f8fac57961d2dedafc8aface99030d923548f43beb464854daad0b7abf1649af659f65e5c3298d9437ef7ea1a4425835044b380a98a40140eff6b1e5ef198cfe84112a4a86d8d3e50437ca731c7c0ce0a42d024200f91cd42606c3696a38951cb1a00ab7df082322971a8d519ecb1c9a964ff335a2f5f220296bce0ee7b5a5f356ed54ee848023b5b53826c2bdd21e4074913df1d7c8162dc86a20fa9b33d227d5b57693c9f0ef29c1bdd98ffede3116d8f2d9584f2ed6427eab301bc2838fc87cc165c5ea709f3e5917e01cf47a2d3d7ba367e677cc0f31cdbd596d6a7ab97b17faa89f8197dcb5e6c82dc3fa8608f505937ba0429beade28a6bc9c1863172b40d3a6efde1a7669a1d7649e25af52bf5111eefe2657c23046d5741dfc3cd26e048712192cb884380f5954dd1eff1c838f7f64ef073fed837856eabfe05328c78b913cd3ac4836182e975fa40bb27e7445b6aa88585d13c54e95718158d6ce7dcead8096aabd86fe513e96e8be02b54be4979c477fba28151f5d3b54b7275fa146a9194455ca3f3c59e5a50c4d268969d5c562e619983067bcdf6cf387cd48cb679b4f5a374903693b80a05c09cb654d258547226dd7ed43cb43cd192a409d3929bfa5549bdff72c8e85a6a4cd23cca9dfadcff0bd9ace0c473d553911a14e20fd4ec9eff89d2372fd93d7398b09fb17a56533868c91da9be7a789f8a4eff3e3b19844dbccece6bd802b4017a5b34e6705f18a0738eeebcb62834487ba36cc9c42ddeb7599574c85984d1915e1c88f3403f75d6ba8e24717388ac2d55905119e11f9d6d9b4ac0e16e4f2a62511257ff02967c39f7e7290a9fd1ac8371fa38f387e88c6fa6145467de01bfd3536b4f96ccea6b0c7e9a582436422dcd48f2e8906d49d4a462f53d904d08ae837d195ad1db998e08060d5baff6a8bd7a420dc67a42cb6f56040d704b58fcfd09ee9d5e6a3aa6223d7cfbf3272feff0f5a705b24973629a3a6c613324d50710950b50078ce13307a279f21824a7a61672d19cee7ce32982041c4ab5f259946113116891991aff8ee811db3a13c41802c89f246b21b28a8003872b22e42a852328bf669a7ac03fe64ec0a7a2d2727220bbb87f6d7d8f7b4389e082160ab812e1879ae70221cbb0865cfe2599b4daabebbb3c5da30bf03d207aa7043b3a6aef0b26db77fbf67dcc7d2048b1aa20be6e73cf7988a24beb4cb3432693e4547cc6ace016fcb1e2570eee274a046168929f7ca64a755bb7634a2ad44073180b4ec1e5297edde0a37f865319809512c0110639422147d17d1c903d13709e01bfe18c5fbbaeee41432229e346a967cb0493031dc5437a711df8d8fd6467663577094caf18af853b39b0b9644fbee2f7ed045136737d8cf0a82989cbb22d784c4f0741eb83a670d7da0cee1933597146c0e13f2156844e9a09635d530595db731edabe72f2f2ea46668e8e7505c37b0abf388270b59fdc73f52335dab30a798ad3bdc8dc66a18764a35caa7ad9221ca9d094dc93a662dc22c83f6b1ee76623bb1cb2b08c799642fa147c1b0a58f84927ac482a47fcb359c7a2b3932404ea83ab1caba72ab17d64cd447bb8d5cbf4ca1f20ae04ac2aace931d72dcc1f271a708cce404561f0c58f51e15f3fac8deee2c9e5bb8d628460f9afc63df566c18ae492fa7005903531764ad68e89ffd7e366f51d9a694764bc6990abb9fa24fc674ee8fa298c3414e8ba411393313e421e056d756cef000e4034a47105371fde421e937f14bd75eb7088977308cb19fefb37af002c0b42c2855b352187504dc493d04a152a7c1ae35b7fc797389306d3c7503d9015498be3d2e75092da7e238f418cb2915d19e5e1a1acc496668e98f79c9836f06a9d399127ad8568b6d794c858af0ba47105c0772e5a3a977477976499a6ee7c5b8d959348857a81a28e6ed59ca888840de26eabd0dcaa12a64029e658e60a4b67837d2ae5a89857a293533e5420508698413a26050ff2fc762d3d74120c85b8e3dcf8f261a0b4c76306f519be43ec7a9fa244bb5ca1fddc33b82bf79e6e5b48c46d6dea50733b2b11e23c5671e1a8c6e635e1ec69cd75d90766cbda7b7c0b49ba115c441b9d493231a8dd47955f33155620d4b376ed7b05d71e8e479f99079a49ea71dd3297568e9446d0dd2345bb279ab86a7cf60cfd5c811290475b3f4eb2fdc6d28c229ea195ad4284efef631e13c13626c2ffe752b481c72189fd5ef121f4ecc33016883b2bbeaeda05d49d4a800064b570d4dd5763addea1cee6eb0ac69a99232fcdee7d2c4e7a3a38cec20b5d02399c4a8f224e62deeb78fb81315f634b4046cd701f502bcd057472b56dc0f1cfa11041ded40122de80b6ceb5d3b7fb5d8281f7d4dcddd09210f35c294289af05973fbb3ffe2877bd230f89d3dc51e48d0bf62fb0ab2d35b50803e4b38668f66f9e20049b0c3879bee97aa94542746b0b1608dcdd0a34f1bde5333143faf2033866c75ca029ca6b3151494b875f7efb41fcd9869143a3d634123812cac5a06004a97f754bf146f84e67f62fda7d62c4d484eb3af8f2c610906d27792fe10f319229199ece23ce78858620879ddbf372b0c3195c0b1d9dd9888ca20f1768aff680950f76d834d65751384f02bb5a5e6418ab25349ff0aaa52dc0571c06c82945e7be9a24b2477d493636a06701729976d6a5342beec32a4e4c473ad79df5776571d94306946498c3ec35e140b6dc1ee2a0b36249aeebd7ecf871ecf27221435dce26ee238603d8c4296839e78cab74fab33e24bb25bc0684092a63070a8d8bbe720b9b95508274e601b602b47e79d17e1713fd4a2064dba8954ff2757214cd514224acc27d19c212ec18b6a69a0299e084e3bd084474aeb6453b6e66242b2e5233eb2d26bfa4b2c0f4abaabca3166e99e8bcde664f504fab13caf61518b9ff4f5f605ca7b6db7f729b9c8ece27b90933e67793a0fc26180ae8c2f1c06b85090d26e0048a45e3c75b9165c0c12b9b6057949800baf3bd654bda34d61eb5fb9f08fdfff5195a353d16eb76eef871e9dcc4dc2f39c64a6808c4b163bd801a9e7cbaf67dc3fcecf570e92040d53a1834cf6790b29783b9f6fd07497f8cf4fe00f0b9c0881a4b116748ed73fc1db95795164a73d953aac3f4607e5ef6e1c8365e79f42db13deadb9ee3b620edfc6f7190588ba0df460d73b1aa9c624327e04e381d222afa19f4b3a0c3a451a51b0db5c7d6cd6c6adab0b5a10a1db41a5ccb07daeabe48d4c4a80fd77fb44b5ebce798911cae1acb958a6bbe454b3cae2b906c8bcd64616a6d155c1632568c5d68f3f80ee96003a2cedd1617fe8637d678cc18add47e14e9a8a93ba9579d5fb86952e1e691c505a7c01a75939f8ae2e380f5e89a8c7e0f606baa023f086fd3ca3939dd4a95651c4754852171b7d0f42d1438dd759995ad0380518d9932a2a8617d9af179e70910507b5d326da268b2baf0aa9ed7d79c3a5e068f90cbd495128da002592b70b1beedcbe5acfaac2d0d09f9d79181aa9e7406c839241fad745d35e7568c70a7064bc9af776dfb0c613099dad57bd804f9d1f0a371d77cb1976c6d7c24ac686b8694e5cf56a63f1a0a12306f691141045df043d0a66ed17165a2a1eeb9c9ab8547451b6f8ed57b464ca66ee64d2e0a57ea028914dcec04ae473f2aa28523b0bb76520db5adba51a5617e76806f0350cdc7cf730319dd5ab2f09ca026d6c954b22d062485acdb80477192b9c44dd84e0cba53624fb320c4fc5860d286c92880674d6bf56cbe5ae3bb0fe700b42b4e8a3606dfa620bc6f03c667e188389a57bcddd0fb37d420c9fef615f8523a4f2094d1eb56d70132ae7c0cb448f5576f577aecee872eeba054ed8a8faa9f4aa6eda10a06667bb7fc2a1d01bf11440c9ab9b530411e2a90c13892950712e6a206bac7b1c98410ce87e49e4cbb824eed3b0dabb9f71b59feff72386db84f039c95246f0db62fd8c479623d6a444eac38f514f927bc2048d7f34d064f43eaa98bb4eb173223fa4abfa4417b89ab9c9260c21fce89aab106d0c030f858a1dabd0c004eb2bf1d513a36382bf2225ad3169068e307e1932287f0c813a626bf0251a197993b5957720031538a626f57736a123dcbe9ac03749d6eb7989b11f3290eed113ebb10d82a29e04cfd9d736da33460b1e2549d317f4b961e97f6995a918e91b6ab39d0e936b9ec5e31d2ef54fc7e14485b63d73c697a3085ee200761e16b602ae4b5d00d4dbae82a52f2576644fdb83e3a65a0ffec8159ba5d814038618fed9deb99fbbbc88a567fa99626613075a515b538eefcfb6bde6fe192faf56a0fdcdb2295e217c0319e4fb7f82612fe2a7d0b8d16cb3be07408cb597b1dd42c3fd4ffba0fe36a3d2d76c21980bf4e723ce525bda6b55072ebdd6597f41304b7d797683e72fb9726393f2ee6f0d52873c6afb1cd62df1c677bb4fa456f2584d53399f0a7cba0f990335a8dfade5df02f4fb768521c139879c9db70821026bb7c2eb05fa899eada8d59ee2e8bc15ee630fa9fba7456f76732be94d9dd2ad749d7942b3c59963a17f9013fde8cc10a1154e3bd969f3f30b647ecffacacd19b450cd1f827769e143a4e4211a02530f11995f9490134c529281020984d8ef9c4fefe1e8011d37bba04890bebddc1f1ca62b0adf88ece3c2d2f699d95db7555b4fec730021d0048286aa03c76efec62bdf8a65cf007e271d55d85e5c9d7c88f61f96171ef6ae1d952e8dc410f75ace4572c8f2f5f0763683816f126e68ff905a153ca306fe34727efa2b1a5835aabab11d5211697e4e2c5fca7b6743a07c51016d1c39c180f85c78cc3d3fe913d73a946c18479f383131cf772334753c018351732fd1df7752cb4321e90a99846f3fa842c2b808f2a4a02eebc08b004d63b63e8c38c660e970314a89c3e4210c2c16d568ff4539e37490957ebc34c632d2f1cb988845a498cab44792fe5d83daebd3780a59c51c9a4bfc825bf9e2769a2c462c44fe470300731b10159315c190f4e0c39cb6a8543d07090bedbed79edcd3d05fae883bce0436c26c435490798828299aed925c1c29dc5bd3864242ad0c087f2812d2ac0e811700032da3cde76e71c6c9f8aeb9a2af40936c7fe48add85cb2c4e319f0ade805d16b987873556c2b2ac012f7ead2e4908f868d293428c195323ab97b2884af4360396e8f093801de44bcc75ca8af62ec26fcfde356ea9dae1dbd17953ddb610e946db86b4ebf929bde5ba18e68a5443441810f3729c1921645aa522a165cbae1ac8dc4744ba26b2e3cbca84735e94d6bf1b61d0923114a05f48ca01e4352687fed90a3978f06e11a712138f002956dc8650b9eaaf91f9116f9afa5ed3888a55dfe9fb8561135039bb07f972f4d44df39e7c05263dfb760743bd268f7c619bb43e2769ecc40bd2a94ee76600953a4200cff910eac9bee14593fbb95a89917f5249a180cd3c749d203d1c2bcd986babb061fabf9df4d6ffa15f10f20b301445efd8b1e621b627b1dc800e7b69cfc17b4a3b7390df66d6a8d8e11d0e880b660decea2af4ca972f57b7d377e3412f55593bae74c955cab22080cf567b74686fa6535eabeaedcd0a5d5cedf39bb20dc9d30959c4c07404439323889a3bc4f7f9883e1ec0e682fbde8220af497460c201b0e594099e68b3db1a4899fd249bd33825f427f22c9ef6981e4aa98ab289002d59f2aa7985b81d35ee2f2d4423d45a3e2fb73163118b93112845c5cba89853fce46fee6cd66998632ca1702118539c1582d21a3e63dd2f081066d0f255a8de8493dab400b4d4eabcb43d318a14229776ad1b55225feb22b51b15524b78f73f208ec524f9a07e45953d5b054b8c3f693287b36604b8d9f4aac166e4ce18a3ac372f19afd3f13e98b4eeeca63920e614d1bbabdd3d9a84d920d25700d6b6090ce4b83fd2ed683ad8398141ee857176d66b037e4387451fc3912d7dba23f6bc6598df6d248c7ae44777d046fb99c2936ab77c54421b382cebc601b80b757dac1f9e7b7a6c31425ce2529233ae0575b70dc5f8e68c04d46d4e7271845f91d7f421e9f5062d8f2661e4c5abf610ca85f6afb043c12aec6de5c68304f36c2c4469378f2a8c2c22c9ea95253215966f647168110374032992180c9b5dc46ffe99354c5e413ec60cd5efc29ee141de17249501b307f28a0182a9c6aa3a915a2060cd3087e601bd10c734d095352d8aa9d229a0573a7cc7383115aa5e5ebe7c1785c757b986760384ab8a2d86b83a4e96536d4d554d6910875df4bf29b1c9d2c93b36f1c8b7faef7c672f8bbd2b229453afafed89e1bcafea2ffb8e4f137434ead10c829046cb800735588c75dc1a8143f51cb1abf8bca84d0cbf59f0664c41ac67b1bbab5ae664bb804eb42364363f31ec1e4f72e5cfe008553a85a310220cc1fe59803e115fbbc3846169d2b5431415482f129fda2218822e35f455bdb4fc16195cf253879ec5666d326e6b0fe7f2261792ef57d98680dd59e78260e4ffaf6d8304c92b54a13c0e68002a428f221e862da20aa25b899b1cffccdc4772a023603119f77edfdd2be55ded2b5aeed43c2b1200c4cdd4368ef59ae39c31bd98fe798676baf9f5ce2f257827e4c2a83385a7f58075e27f01a76c87719e880fdcfb0efe9048efc5d638b569664e089e0e5ab2eb1fc6f65b96ddf5ea7743d8e67c923e974d708148882b3e53e33f9097d64eec5f2ba58aa4e9724d278d67bec7c500eb949d4d818eb6569e04753f6d3b8d89b07b3209f5fa54a0ae5f4b3d8c58305a43973517af3ce5d5f818309461b6dea883518c119debe634eaee28221aba6ecccb6331e1aea8679b5f54ca23f33ca44cf17ad2329f292b1c031db3b5580d66aae8832c33429dafce783c1b9f9d004057f37359db718c4b903cd00845e1d0b9663954a3edf3f601efb2d5124e000155142c47c1d125bdd0d2c56a8c451ae9eb32ac4c95dd29f3755ac6f4df80d3e098cf65de66aa2fbc3b02ae150316602b0e55e42201d3189b17ce8fbc74d71532d7cac6aad75add02376834f54c3c44e73335e4f7449ac001525fee060f743b6e38cdf0f2f39d0e4176fb0ed360069a334cdc87acf758611319568b0d89eee1106bec2cf4661e94055f26dad2c8bf93b1b6beebc8bf85b2e38054bfa0ee11d60f755d878980f1197c1600cbf53e5bfa41e015d226a1c371f2b33ff053e2058994cfdb9cf90b97be50d390e0e0cd2a0416225be3b6fe6e9ed4fccbb1831c52b32eba0604cbc938a6bba0432179854a6780715bc8ce569f556167cde54e0463e062249a438b6491df94a987a7b8c0d5825d11064fd32884a2d4d7f71b504950828af221ee50490ad389cd5709ca6313964baf4937a8cb7cd8d92721ed467ba0c6468ada67a2f873e23a02e3937f545e0eeb4acc8dc2d3883980e0fa11b0ef1ed9ab78dbd2352c9c5b132d57a0ae554e7aedc1773dad964a7405fe33f654d911b2985411bede8250616834b3bfa2f62e657c3ad7d6a183a4b55053a18edc39e1f565e72171a83ae6177a2bd27787ffcce95e9ee172c51a192a6650808a9866bef033880ad586e1a51c706880f32b2f332b8b0dc2ecee2ca7fc18485f54de49039e9aa0717565d0e72f60531d319cd9820cc1e13af7e1aed9418857080d988777ed388c73324a33f0583c69fb677789bb6a996987ba2e390c3f4d41d5fb84777e6277bd876a46cf78302c6730a4d0a15ce6f16f2763611a47dde6e80379ac4f8ccb3a3772191ecf973be55163c19fa784f0cbb2ef7cae17a734a805ce2b80701eee12f3c569028527b6b30da52e645c4e93dcbdab0623a15b453a8365a1532047a1d8434a0f4f4ff4f8ab8b9d09435266f8881498065fda352ba1daa905f6b90645f6bcc15c7b00b1ca43049e212ccc527eaaddf56b5ced0fa70c3c331d09c68ebf30ff8d151811f8dd7a1536c885c699661b64f41b6c4fb8693875abbde6e6e7d7ad7907e2d9caf8ccbe1fb151b8d62d8693ef27b77008e7b6324e569937e74db3de0b2d92787e38346be23b3e1d8cd8b0d9343ef789710f93d28fdf18d97dd5c43c6b07a463cd9f54b3ae9e6201b7023e11140e683809188baa5c60f0ff9d37776c34982dc884da046624b9faee5829424fd26952edd3c8ad01284201d34e8f48f94699756fa8480a16d3e8a46742b4e671f4edcb95b276b6e070867c61f4321e14061ae5170dc6ad4bcbf3debf684db15ad6f5c7953a986c7ea37c5c9db9603ae1ae2716babdd378396b88255dfbd8a25df35662f675643d961ba34dc5ab6f1132063a3be296c14e68d7124ae71774d198674c8f33c0e712820f0030785010739e5037bc1812cb23f97a6d4af5f59b00c2b47c6a9d02c358f05fc11d140c4c4f57d127fe5b33c8aa4287d49c1a57eb5d55eb934467580be3af72f71e4a7fc4a8d39a43e42136cb131e3ec81615b6438a16e9c7616248f49101f1ae40ab9277beaf78661f2c15e4e110c67698cf3454431753fd6f7b96c1308fb4834494aa42a3260189ac90f9836626a495f505db16f3e030875971a36be2ef13ff9e0119332c7c69fda78b47de2e1ba7f6ef8d1b2e54963bcab6d41e8eea747c0ef657fe303e84a6a10b207466ed379b19c7ac26f268482f73cc84585ffacedc54a15062df89f5db9a7a2c7e0f5a463019e66170a4183ee011d10238efac12d8ebdbda35a88e43a3b3c21db8a68e553055496f7fbd6611fa9b080edc9a109b944d1a4c455bd49be44860aae9b5d3d4f451e53bd2902c138df39190f623b1413fcc2c5e475614b69a9e41ea50567a4c268bf5e5cced6dd6baf249ea4a4491dc4d9c3ac175735c73a413af7224ea0f219ca80044efaf0ca50289f0c59eb91ec4fe657749e90cf4bf03286d88646f761eea66505a067fd88878f730ca18648f0431dea69ff3f60e4cb06a9d553bea7238ab9398bc13ff0a1b5c6178e09df5ae0eb56797dc694719168342bdb9b641175dfa93a680702ddb0b09ae0e4003f4ddbb44e52b4fcd5506037ab766b280baebcffb16b265b194e6fdd2fca13614bae56856f864aa853b18d1c72532468f3bf9270de66ee8f8fbaa594134d4354f4a7f206902d59f45cd6c8aa54913201d188162594a52db5525a426e9d56b6fc49f88d2c658e2150d25ed5aa3663e555ca37e0ae4b622522696b2a262be218dacc8949ff05c690bfa020d859ff18cb0af73d96aa1468264791f06a4ca18d4ffd4dc31f623c33652a5e7855ee97b8906caf4fe0ecab3e97c508b2864157f4cf3fbffbafd6f2bf87d07ff890999d6417375e1f339762d328c154f0a2acb5a20f4d49c136f309e30f62959ceb79aa6bf32e50e501d9609ee4a9375eb0da711bc9e3e3e4e1bcae42fd7a7cbc597dd3aeb25fcb8fd4b6c194625019748740458af77d73b2f708802aebc5740ecea32298689642f69d748e75b8090dae3d43850ba0ab5573ff3208cb820ad4bcfc326ad9cd86d4679b68de244e07d842e2e5a26bdb68def1ae10afd62ddf042df5b622a3b79d23168091c8abc66ca19d5633eea2a559437ec736e75852df0341b4a897396952021a36e68830f4531a1a9b11cf017b62c5f9ae94f0e5a58e0e0225a7ba2f8c72b488f912cb79414cde048463fe2b2d2be2c12a858b16366e5c279e78b875a7730888b2b235f2fadd2d9c71d282171826049ab5eb346d3d32c77247d09a9384f16f76fd2075ee8662e39dd0eaa367274f9e497e367b545c79678e513f27474d00b87143ca2640ea47c8201f3a5d2390bf91ec370efca5c2cf9e069e47a024fe534b3312146939923b6e944945533f20ded1182942678ede8836318ad2aee638f45a6faab57ad3b7d88b307352cb51ab8656f638af822624ff3c910857eccbe6a52323810cd11a587d05c73bdca5f65114d8d84dbc4999b4d947808e8fdf81c70c4c78ec4ba269ac59bc6d8fa28e763f1c26f692f8c484584e1a7291d3e6e908f9c025a5eab541436f21e12994c3b4963cc431327f77019eefb55c7df6454fc86fc8cf6425a5c772990ff7ac4ecd73252729ebf886a6f480a8033189f2174ac17370fc94015d7cd037679a80a3b68d965f057f1d53e887a215c6669aa697425aa96d128e5cebade6a9a4e37e7869b3402785c7d9d8c834fbf23f1b25111c2a6aaf6c1c3b7881e53f93de165aa3b4216c380fcb27840940f8a4da3b79c21434e6ad99a55f3008d7560f612bb291089dcb204dcfabca00c51cc1b1327216d2f2ed2341b00b623d2df37456141ee05580de2e1e486f7e27b0edad1fd687fea04930af8d46f81d4b6351c95e2cef23edcf790c3965b4d83330c075d84c936db709c14cd4513027edb43084ad5394e28086c72f198f29634e3f7d50ef0e1ef61af52f761bbd5d49064ea57cd52167b2f1c539898f368bffb6586f4d43006ceb405998d03b6b91227219f724c1f6b5a1c9d07378afd0251102a60eafe7ace684cc18f01f619acd2e4515a4b78819fb55439380c7d9995d9e25a9b8eda334fc176ea7362d30ebe936562c6db049b15fdb126cb1723b3a2d5e5f3a416e5beba30cb448fe0778eec21bded7e77f234486af3e0495c887bb67360868416e96264c9cf969731a69d9bcd4b44d4401634e384f9e0905c74d12371a40087d185c66e00e22de315424caf65021bd20a640311c4232405a790923d71d2d142d953cb9c0677af48745751fb2ab14992430d491c1db3eb0fe2e92cdf51c00eb75280b231ba04cb9fa7ea094b12a1a3a7e7183e7f943657628cd644a709f8ac269718badb824bfb8cfd253e054f5e5af76a43c321cf4ccdb11efd75d933b096007ca5471aed2971176165ae65ae9c2a6c699e12b211163950cfc50da5dd5bda3f42f6db5530514985008f056e453dab16158b591397d9391420f738e4c390d0baad8625f3b4e59cd4a1642bb0d656537e13738972844f07eac04f780585e32abfb3af31d06bf1136efc2f2eabbc3be31df60d0e6fc8a6a24dcfa70a867541e9189ec23336a865d81af8f94cb4cd6b941f1628dfe1d478e7a3ae239945fe8267e66f3545601deb609e32e2b9f4f0b74a5c4dca366383d36f0e312884424bf14e2c1a35a6f404f8584d1c0736391253575601bef06440ff7def3d3cb15d68a026d7539a4ae3e1c49c394275ab2a5fa8cd0644d19116ef44b31fee6453d4ef1a237a392bd1f31db1ed828366517c6da1d12ec94bc0095950d31240da3846d040c3b4fa0ff54275324f3e675f33a443903a6f8af39e91000922a94bdf7b49ee11cdf08ff76fb906cde9e71986df37d009e1e28ce1a69ccb7fd84fdbe4355ce441101025d2c09c027fba0d719cec247876e4c49afd5a299ace4058c1f817cf69f1b375bea1c5056c479d073a68e1f913ddddcd1f96255a1cd68273ce4138cd19664fac3df3e27431ce785fc71cb57caca7436f314d22bc32fbf92532e08f5992988d4f280e93a32c2d64f361c04a8c724021fbed7bccf931106515c33cf2f88b571b76b7467ee15420f9396d2e7059cee18a22384589e06683957b85630b744001a864e645ded4705e0283867083033411a9252206f000abac751e4f47285d4d65257a8d0b87cdf8703437a0cc0b04dd9e2bb9145e5846b181bae862dd3c8415b22a996b4422730ceccd03da7b0236f37778e0682011cf3c2749acdde6d80d5f42b2c2e4d4b095baab1c81cef9c7acc961628ca51bf96d5928d231572ba170b8f59bb1f629cf257231d7ecc830436cd1eba6ea99739d1028a91c4fb003daf882bf9239e19b885be89f3b74a64da5acf90707fad57028af13411cdebfaadc48608a6fe25583ccdcf4a9126bf746c7e102b973aa80dfa6008d36b162729d68b6c701a8b1e6c1b2a6c9b7541670b8f77ddcac1250e30c412435c8de18f25268e312af35ce49e59d103ca0865851f75241fe29bb9b6cf4bf982f5718b662f01f39aa644243ff58d5988ae5616a0878cc93d50bb1554340b86a70a90c123a3f0e580c5c47428d7a1622a96ef424f76146c8fa8dd917a91d5533775ba60c5d3379423bda34be013cff6312a14520cab326939629021e8f2fb563e0159423f6fcf177818745652ebe7b21ff89407d5ac63306f9f9f3211b582dedcf568e4a7598398f4c305e93bd8b1b470d6fb439d1af61c0759945347c23102dbfc85a64b1e098b2dd0df76be12938d09adc9a4d942c64f4eec7ad3f51f6561bd63d0413956713cba5ff1b4db38a59201fd08f0a2097a31e5e603a23e22ca63af17dcc5257c4f0619ec74dc5d5dc6604463359c4325d04fe4e3430f08440db3500785f1c5d2e40daba655f28a36e8f80bf1682ca59ff00c73e0e6f126f455e6d844e695071fed46d99caf12238c252717d032b002f92356ba0e96105b11bcc1a82649b729a6192493e266037a32f33318bea6a2c505bd34daa06eeef36e842e29bf967a5ace9c4851c8266d2973c53f13d1e90d5341637561bf7834a3750d6d78fcd397bc4a5960443c96fbd90cffc54be0934a52a0e582f6e3f4877295badb1dfb9aab26cf5244245dc7c2983143561d7de51cabe21ccf3cb00f4031dfaad7c7035f2d11366181588875825b94a1a514e480863c2bd6d34b98684da725a1c8f6594e97e3696bec6333a13f8593117142e48b72c199b8f828611c5d61f13cb543a03e3dbea077f4600b56117859352cd04de6a248884c21fefabad9f7e337f233d683d0bfbb6c3b2076854a85d91cd0d0271f80e782b157edc0959a14369b12ec268b629f35dace19d4e16662e77eeb168b018b6b7e4dbac71fc4ce8a7d3710aa00d1875b9e4e2ec2e427876dd09ea40544c4d94b8d1806b34307671ce524bfb502ea514f1cb0443ff95ba723c3c28137cfac3612ae883c5b5e8b2ffcb0a050e1c81dd968a37e24105ecd2c1d0910e49d74edd8216743bbb6f017e4acb67a4ec0233deef342aa1e63030ffbf0aae58a7053b2ea01cded0155c1bdabe82647939d5a00c08e3e572a1badb592858429dcdd7e2bed1c7c2767c7ff36e181b2973da650603e6d07607296ba3bea45d9dcc562be5b69820042e95a2b8d5d16c2f3f8a959c0f744379fffa078f71aa46b9d94d66307a9fb8efcd7b787153a4e569f79f4b47402a2576c00448c843fea5e9a86cdb0916f97e8a7f5f9d9076ae7b22f4d5ce141c51bab65e4b1c403783cf845d42f8fb1b89697108ab98f60233936189827fdd952262f2a8b14632ac1fae171892ffa78b5fcf4925d8f03a21f335750c038ecc22c0d42ed11dcfabb08f15a02a55bbb7382fa7950201f19e0679f156849022688dbf2fb5fe7c7a03117483a635e2880c3c90dd30b3fe267be16b4503b6008cbb395609dea9223a4113c8acecadf5157e1a6fb305a29c0e34cba5ae58efdd92f5aa553c462fa42ba8cfc8350854d04f60ffdc7c63f4649d39197519ac37981486184e51e7f6502c7800f2f1e46467bf9556f7068b3cf7ecc5ae089a6f48aaf470f6f00d2c3f9cdf203cc3e8934c16f80c550f545a19f20ea36da6f12618cb920ca482cf7a5a563d11e1012b5ec280c4387b0d175a7a4cd3525594dca945d468a8ead1d6a43de10007dca1804eb16f600f155c4286ac28f9860c1f3b9887e456496b3be44cf881375638df77de813615783319895ce84ca1fec757af1aae02dbf8dcf149b0936b67b3a56dcbbe218009f171bf4d1444e5d1a2e25529ccbc3af96de147e8c1072ef76ab9df695d46378fd97b165e62acee6113d788acb98bfdd9f548bc6272c2eb9708df0576990a271c4b94784d1e084d7181fb29fb590fbb100baf707d19c49eadbdb17a65d3fdb404dd6ab5f7ceca71745b5ca529d9ece418b9342188430cdbbaeab17c13cfd26c3d1b19f3851e87978ba054c3a6768ceceb45a69d9e4d77da17d59e937fe611efadbe0135c72a769bcbc3c45f193459f9f28c02cf7df9e2c8cab17073330ad167fbf6280d05bbd32c317f90a08c4a4fa317115fe381d72f22c1c7f634352c81e37035df5de6d5526cc2b70837f0dc0ff6d529405ebb2fab722c6496b25a4d259c4fc70ef9dbf1789feddb2e6ba738eac48e3e97cff9e653ae32be0f2cb1260790226d4d743b008405dda5d53ddddf0c07245d440d239246f377d5593bfaf332f38e99793f1fc6067b01cf75d0a1f0f79ebf91da441fdc4937a0de1b61f5b8c1861a969c24af85be531d6bdf21be8cc9c2a209b66b60b0e2ce4edc7cf8f6ed0ebb625d3841ac1668d27aa97b42d027bcf3cbb8a63ae3b53fe5620425cc7d62b5dbfd121e8e119afbfa4899f424514cb8afe68bc053b189775c46f33b61a294f22a3a7081c203f784b176bc0d4750f9c1162d412c5cf419b915e762ca61de4010ebc707cd41c41864752ab80aa918319376ca53b5f9052369a2455aec2d8d6d03ddc4edde4bdc7d6d552a71866bca5ecd2fb70c2e607d023bd58e979835ddf673fa4538cda8010bc426069815beee04af616288ffd13f7bbde6868f2302454f415f40db6cb0d007fa50b9167d80941de548633222ba39d490b839b74bf80d4a5bf07f05a08f513ffa9fd1633a8891735688ab7cd3e13bc17d8b2213cff01c702fce6336e4ab04d4e17fcb2f455f6e611bc5e4d9f256d00f62d5cfb54e963dd199378fa5505d29de38bb736af95a5ab58fef63d0e7fea9a981aa8bd10c31d8f07d21e3e8b2f650599c59f4077c0e1084649051c0f4acf7e3ab7d837f6ac63629cd60382d71fda1ee88383c4ebb2197d3214a09a85039368d21a099ebc6736b27108fdb950980bbfef9f4320ccd6b731558cc32f8ac710dcd34b42f4f5f0d0dfac7c26dbd904698f6d2d8d1ef78f5c1fa84fe64375a98b75cd401be4acc3c2371600057e6ec2636ed81c2bd618e6d3e5124d65a99948787e78549bfc864abdbdf8d70837a8a2240743fefbc87c45c1447e5028eeca10bd5ab1a45332f2c87dc738a8b2b172b2fa71c20433f7f61cfcdb1bcfe643ebd4f45eac1cac584d8c5cb7b6622edd6e5409f390c53b5d2d6005bd2154b80b76f942c596eac4998e15f508fc92bf8f9e66575cf96c9d39a97e9e7e71327a40e8f955e222b9f4edfe3726fae56fc6c31a4894af6b7211f32dfc7d990ddfee519aa8c698f24d451b0e9468c35286ccfbbef7367236c409a3a5cac015a00400b090f7e2a370d735fc689b10006c9643e8b67ad61e1e07f0b9a3916035ece3a92d4fb77d8b5173c8b129dcbeca3d7897e37b5be1280cbfd6e3ec4a7f8b11d4797e3dcfab59f8d45bcd11f6baa4fdca1167be83924f145a3e6fe4d8376d27c8dad8d603769ead3d0b5195ef0fc2cab40e4f57289775b55194386218ea5ec12a39db9a1dadffbbb10da418d428bcb635d605fe7e010a2a41b79b4c0fe33b146e87f15e2ad85f341896abd70d6c9f52d427e7bf1e56e292dab1744916173578e689b58a0842e1edc69762e6be53fdba7381ae68142360048e272f0842c2a4a358cc2a034a81d93b6ab2587fadb80c632fb928cd6f0626a5d7fbae069fd5776936e154593389ef8ed3d306944361a70f6c618a7b719c2676dca67a2491019d07b42bf63bd81d9a62107f301fe42f4076f4decd308699a083eb2b5f91fa86c332ce15c3445fe51c00082e170b30be1634376397729582136fc8bf561f62ed4d1a113c83a91259028c1b390c1e75c5353a877acaa6cb5a331e8ce0a7a39f61846711c91c2279628ed4d43ad86b60fd649e5f84df8822d7a5532826f33e1d69fd507b8b4444a20871458f80105ee146b1a06c85e487dcdbe00f619a0f96f9d4e5372951c698c799db6feba6ad205cb63bed5c15539cfd8e30026d649f33b0cfb74ea582c419163fdbe14c4536740b9165b858c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"671a9c3c094d3c2c6918959ccdb1bbf7"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
