<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6eb709a506b07516303a6bcfb7d67402ccb734833297af451e3692e9066eaa347d2c3ff3572d9b9968fe9ec125131db2d5384508c767a2c8f1f3fe8ac7056494a1eec422c4e16252cc97d25b4b2be683304701484b8d816a9b60ea353397b16c93c7bd3b40e932daf1f67f152864a705e8000be7b0fd83b4a1ff61bc4aece41f082abff48dbc1a3e1c768c3f39aa01fcd95ada69229c34a2c15afc322ce0f302f0481e51f0df7dd5a5a6498c0c4d9808c09f65e25fe325b5eb9ee89870c069e401e4b1ab31c74be9554ae14562da7176e57768bda7532c922736ab424d6dd158284572cb090b5480d92af7a74247ec47ad8fb73c4a142f05fb2dda44141ef0eac6ec47c61f844205f5737f9e2d01f08585c6b2b0a6e672ede48b3021206569e7a3f69ee48eb75478ec5e110c5769ab6ca84f9fb5795bfde72bbe31e47ff0ca1b53571774a91575e705daccc95c9799c573abd7498ab9f122f3e21798573befddb0d51ba65992f6b074ec199a7919db6b649ce173439cb023c4788446820773eac9d76fc727af23293de86c9f06edb1e174682b933de5d5c2256c6866046563e21826132918b32e0239eb57516e3a535a5d887bfdf996d3576e4f6d97a870c68c7ec6dd221d4d0c035bb5a131193652e9c4940dafbea1ed4c9ea01abe92efa7f9a73331ef037ca8bae30c8c5a626f5cfd3ed61445a8c32b71d5cfc699b43ea1392224fa0b5a43c70dbf997285340dc0f286435a5f7d3ce23b33b2aeca6d1862cc7693592b43831d3573cebc97d00adafbacdfdc7ee80393ae90df6a6f273de2a7efc63c4378ad3e460ac83accafce7b8e11610c48a8729029b9f6dcac0597f558ff15b513b73e77a7863f5b86331ae2c70dd015630c0f041c95ef0ae76ed2edb89a5ca86871e5bd4c268e51baca1060c0a9afb57dec714a0921d3d5cb33e1e2914d774e8bf050b676c99575dff479144338ba9c05f9c9766fe217f1d553bb884e23f2f92f84fe9b12ccb66df6ab63a3d3dc8c69ed7cd4abb5ddfe937a2cffa6f297ab2e77cc23304a759728bf9c21ea541686518c08d1997f007b9221311491609e0870f32e0f4dadd64560de9b8bd2a4356ad88b76f6584f47be2939c983ab13d8a33b8641c39b093e3eebced7bdc33b38cc0efe9948e62328fd52ebf5e3f0375cf15ec16a9ca9f5ff21de98aad421678b5ada382bc4b6ea33f9f60e83a2d51c43698490be3ac653560b672c321db9063a166a885f4b8b707e62933307754629dd5f2c4396b870a6e194a384d2971a5486dba457cf00ec0d007bd676b823409fce63437fe99306fd26fd697047d6cdf3e5670e007535e2317ad36574c921766048c85d499f9663956f5137e093af6ff1704a5e410d73c84a246de3bf8ab63bc9311383a2aedbdc8a1b428b4b07f307dbd0b5d92f9e322ff5881ab09e73506949db71ca6c2724e9cfeac1b8b708be92f3f1bc49d2cc39e1dda45921a2a0d2e6b362487c38347064f1dce86c62589d8759517d8113cc6b4ffcda97ba5c854f76385f9391e07d72e7e770ccefc12dbbd57b94fc1507ba0b17660e7222f791c8c0e171bd8a38751dd7461c5b9595276855bbe7c9307017fd696fd6f14245159d1fad75b3ddb9b9c0a2751a6e905e1760c53e725f269fe71a9eaef5e7c3340cfad280b8d2d04ddc847f951ba54a1953f216bc2b41d76eca8435439b12b69ebb711c4053cfcf4c8208cabbdeacd9b25e5514d62b1afb6b64abaefd8b39120b7267d3e7e7fb9cbed81700a016b32afc98af3abc49fd925eadbe665c5b2ead09c8912a9db8d10ad5f79a6306b00adb2fae48df6243f12f51d6f5b038de326c112f13d13ebdb85335e7a1913d8526adc77cb9759225264eb9f7bab70d25f5d23a2d3c98f45405ec50650c210e55d57a9d7c04c3c04c62cc90c14ecc35cbe963444d3e5c5aa95dba404a0cefca1b905686b7b67cefcd2663c757dc12bb55d3bdc7ac57e3119185e35fef44de33528c76981e46d1f9fbb1bb96a088428a17ce1bc4242a6a09554f128fe89775d557272cdfc3ea546313e7c5bd881d58a8058a0767b2d848be1d0aaefe4ba8ec6d309fbb320eeb0a7df1978a87c20f98f2cabec92292fb2b0278fc2bf6b60b9cb21b4d97cc74fc8e2a8554ec8ce3ae5914916bfd891d3337ec6ccf905f9b3b69924f8d3fce1ce997605e6ca1d233f6cad95f28220be4425ddd3880e5f8e6fccd58df6e43136acd07b305f2459b0d61f21156a9bf5859b552830df0f036e4a4386fe933afba1dbe6ac3255b2ae3c91366884ebc729c772ea576aec6112d316b9c77e242d9f3826fdd961f2138e43dc6a6ee35aae12bbef148d221ea9ee5d1c7f3bbee271efa8b2ae9560659fe3f613b5098f2abe708aab566c660cc277da4244e3810592632c1fb505446abf51628eae29b654fec59426af930364efceaeeba89897266892d7369c08b3864ab753e3cc80b948bf6ed762cb57aa34e7e81d5f7b189032b09cd39f7d5b9fa2bd3f83ab5441a89da08eae06ee689ccb4da57fdd0147fbded159138bf4b741908dc57cc8a0f60841f51fe34d95c839d585900cc59ce3cf6da46d1473b68aaca8bc4f7f24bb876d15559058fd52d4527f19527bbdb8db65e42c5affb2372df9a1e33a0a0203fad972bbb594c2812759ccd8bda2265debd56612702bbea66d18b2ee001a9852e20103bf48430661a70258e23f144650c11c6d53cdd7418267edc1f0083f71b225bedb26418d8a2778a1fffadccdd1d701de8e2623d52c535385486581a626e230ddd4a019c142d281e2178b5528fd612627db0a6befcb77dc433de0fedf8be577479664433d092a4807ae7d158889a55a358380e927415f50d9821fe920b8c2e467c0495cac2a693401cb55d9b9a625376f7164ef03a55939d0fae207fe908cdfddb5ee019195c6d2388211869e0f7ecf51dfb95013eb25e4ccb118bf09b25f2cdcb04e6457b6020d4f862d4317f0978981b1a2901e573f8d05b9fe491f190aee887d22d2df8378034ee49165d5fd65a0547d79fe490829465318d1847eeb95d07181ebcb13cac72a7831273494cc241260af3a59d1dcaf91ca5a420c03b072bb7ff881145403aaf5c25e8da96bb12b5d435e04bc56414bc00184d1ed3669253598d9f415a13575c709b760063a085b7a22423634e3061e5d31e01d423655bc0fb2f0151bb09e1c819d9c2a8ad1840fe6abfb9a7172a6fe77ba342884c2c36ca1206b2eb8ff1f56e88c8ab588b608cc0e08b8070537ac0fde646811c0eb0afaaa646fa1b19dcf4c1aa27dd29f9c021ad46d993798b84e2fbff27af1e44e88a177456c662a8bf33c4c2e4a5a854e3e7d98e5038a144e55e86de535aaf91ac86769a4cc6a46884b8e5aa56f1e5374feeab220b804a476f0093a872163b10eeef067604a89868e8304177b44158c412b52d701db0b08be25f73989c4a36a7be31438af2a4eca562cc436678dfd0d3d3f73bbaea9f95d90533be806df96a2e149d0d31df1ac0b1207ce43067d0f766290e2c855bb14d29a48f129e71e6c8a8d38eeb687138a8ce973cd788b7a0d468569d5c215a6a11c3d7cc03989649aeccc5eeccb1472af637798bc00f5589be8a1f84450472da33b61feaa721148fe1bde3c7726bf625fe9dea07ef4d997475e13e9b963804b623e35b8c12e1d1e0c445b07e836febabbbbf44f344065138d6852b101a4be677c9282845e8f73efc417e08dace200fe7d816570b9c1255f249e79e0f9e87c49a16d2540e5314cfb8a29e47a3f9d391bd751856159735ae777791b9892eab5a8a11d46f7d5f660f537a7e38c107c41c6da7a9b66fe621374b35c3c16a61df9d0be33797daeed40de930f4c3b72d43c3d72991cc64c2713e89dc41d5cd2afa963c10051b7fb9de2c29a3559df4737b1f80773d051f88f90fdffface9565d1e6b8c11e64db621f130e7fc5a9e3e0fa68c78cf90b998115dd40c25ecfaf899bf4cdb2834946ff521fa850f02ae0ab60981a1275d5cd215ab11004416adebcc00ae9c5538ebd94eda15512dbb4138769e0b8840534b98e513b127a04378a29306999eef2970c87d00cb7e2848d43d083d5facecbe3a3c1099849d38328c25f8a02685de9bfbaa9d8cde6cfd26fa124c6f2058e1a96a1be98af1365c9065259ce1508e36f492c07217f04d824de7f951ef06079d1902858c1190e457ba3a3bbbfba4b78cfbf28a053dfd236e4229d2561b5293b57857b8bdaec0b7c792ca69b1212199ce68eadf80d8fec919b20a09335ac5211a4f11c86a6a96b96d7470add3471582de0c9b8505cc17332fe1361820873b78478898fb65839444d28d6c1558f96059677ed327b774c6d72c5bdcf36a74dea332ed1b31bb6cafeee6ea000d905b7dd390bbffcc90c3cc3716d6e8616a1b8647a2f8149b925bb0f2c654e0816ba6f7b2e52b9665c5ca82f32806fb459ff3cb202449935a91fa9279807ee92b207197c157a12d37c74acfd32b42bcd133de51d0a5a933d195b2bdda959c562ad7dcd44cceb1d2dc40c5c901fd87c31bcd31e41adc4ae88d0797c02ee1e196679fabfcde9f1fcbcdea3a46d3540321bc0e82fbf4486dc12fce9effebb11320930a8c3ea719169a24a436aca679d97aa4f328126959351b2447e569628f0836ad39252b8d724fa98f73d6b5263ef66fa219caecdd7fdc0e7dc62db61d77fa0e9fb69706362831e4fc8533f90ec72f69d078514cbb852a808b1417134ead0198ba1ec3e8296622bd9d2d521ed6b18f2ef57286ff10480c999ea297313fd0c9a593f2b94afa9f70933c711c716e9ed7f53301c5231aa8966d8036016d6d5a43a1756bbfe697d771a4088d8f3caa16616dba81bd4cf9ce8f9c8bac2b256d67f7302ef57e45ee35b896790fd9f940a5d045a8f16da566360ba2c0c18fd270439c4c942ae408d5a66ae177651804d8d71feca728ac469389754a42272d1265611371a07bcf96123ac81e6960e1eef709b01b2d6ef6a8641265b2b01bd10c22621394b870f14a81a9cae20b378ba671994049eb11c1ffab52a2361e4dad1bf413b0fd8c72f2c7908a15e5499b0a74bc765d0bec9d7b7aa8c7bd4e1906c5cb595a3523cff2edda334ac77058c5c19a3f35cab8beff98ec2d79e91259c620dfac53615d26691d53345c6560fed9684ecd9c3eb9c0bddc608a2bdc5bd922006852fd07b58a888cad71047fba4c4ee9f44b0b8203377fb9c6136a9bd24e52ab5546abb56f4082af41a895d608265bbf8b4dd31b777d4394c2cfa9ba1bdbd86609427380569331dd83200482c6946e3cc8b795e2c0a37724d079b73ce729db89b032a3c5e316bb1f95aec49745ac53cca3815ff4527c92f9c24133a3cc95e7b1713bc5da37a3bd2435dbe00e0ec7e72aeaa8a474fc189966f0fcb2b81732715b1e0ff8a5b3d05d24905f995fec0458eb8bef891f9fd24e132b5c465ba72e6d08e8a877977fd3aafcf4969c869bfe59725883d64b2062bc8931d954115dc00518b28165b73b033d533bab2c88adf08e56cf1816e75efe36634f1c809905024a513d3db794c63e3d38f2e36e2311536fee376ccb00edb8621f4f4edf1e5bbc06a509fcfcfab2aa430e441bb8da65c798d6f1e0f8b9a7d83f990eeea6e2f0f7fae0848b1e1798f4d5717e4b1b5cb819fc5e24eb50fff5ef4b4f3bb36a6ad436e44e3627a286466f227fe69a1e4baf0d11f1b4d81764a26517f67a28fe18fd355fe295e0a7ce2fffb4a336663008e4c757fe4197727b4975485450eca4722934a87550cd0c6120281ef31ded4deed78599307ab440a727cb04cf10cba7028542fc82830abb081256b5ae5962210f72c06f4470d39f1593dbe400cef12309596cb2ba693463aea26e1de67a1db04a260d643e204859ddd52f146b26a1204c1c18bcd5862e79bd229fd732be47c7e0e68386e27ef94c47de44a645fe1e77dd3dbea83709ef8722d7d3d00b9a3fb0b7020b870458a324a4ce15b51436b58732cd2e38971f2bb7cdf28bb6a5354fed5c2b2c47d201da547eb19023b83cf0b5c972b3fcc922b134a7556b0691f2d4effca5d5c945da785b979d0d35e9eb0bce779987a18f91dbec2f6d343f289741b0d09adc1303e2d58ec0e0bd196491a917fc413d0586c1163184cdc0e02238fcf8caee57cd8e47c4bca15e1f749a17de0345bf64baddb7bf2469b0be47b336e244ea84d35332f0818b8ece4203f46531988e109be8449487314db0273ee8ac08dbe70fa20ea7f3cfb324f6546f26d1ac842d64844793a983ec299516647315c6c1f310e1ad50ae46ec356ad7103621386034a373cadf1109c7f2c6c568099cbe231b10b8aca6dc0af7758844ccd4632b47302cef4dcfeac3b627ea7648703b6e21e56798441bd9586c71858161db36761037f0c698435f6bc64064ded805437fa2bb4fa3d5e54d03b65b9ee1da1c6f70b38c5e60e61031aa58614588bf066075b921477683e74ff6a7b2b5cc54dd7438364d1130228932740c863eb5f498da9c335dc715e2ed190817e11cce4f6693098f6d5a0fb2cfb7e88530b98359136be12040419e7dbf409ec46d689bbd83643f52f5229134b5d6bb3ec88a995f9b49e615787ff4a0bfe2fa253abdaa6cc5ce6eb43e72cce4b891d698e440093b9846b65d3674f58a317c8c5a5c7fcf3e020ca82c0a458adb417c324dc1758717a047d9d25d2269d55bbb2c37dbdf4670bd61c3e2c86f2da3235c359dfca652f582eb4cc56cf87f2f5a0f3a3f423fbbf79d1fc5631503e125deb79c46a35fb77356721d88eea77b1cfae67c07ddb308df57664e772148632e311dfdc2f7f35c1ad3fdd2fe8bc3be1e185a1e0d5f7cc37e70cf1f110aec05c1ca09147a29aa3a62040d07a47d67e6b1f50caf87f7213c0a381215cbaf965ab3ab3a777f2f059e6e8b7f3f8d8ceeed6e6e2569e781a2e06f80acdae834450314f2e738d1260a0acd007d2a95acf0222ab538803303450f75507b2be7e3d1156bd08c855329d4fe2845f5f240d2b87cda8f59a9b6fa603daf66416684b0635322e98c3ca124fbf4730d20c4237b399aa3ab4ddeedf8ce260640dfe7b6d7c36bd30f8c46704a929e34296d28fac61fe41152591856ddc9d08a8e584560a178d2cbea7a29e244d023a16ddb99ec12086603399e120324f664c7954c2feaeec1a805ec55f45707b67a2ce68fe3463bd8dfac25486ef9597538e461a037285e374bddc9671f11ff55f2eeffcb5236312f18a2d2612cbb08753d339748ea4eaa13796c84546a1e7e009b2bd06aa5ec2e328c5c40fa0398a92268e26f783b84f399beeb983c1a0c9ba6cc34abdda0c55cdd193e5f34b05ce4299dca7ab69bf690cf78916676998aeba50351c1eb2e7146ae01b4473d36cb031d41aa9f7607c736061a6f698338281344a624d8cd30020e2fd4a688ead4575f83604b315a150a37b99c8130715dbac67f37953026b127fc954a0e5046a7fd900e0dc59ddb2e2a7bfec5de324b0456fdf59900017d1b682f2acb6f6a71f3bee82d4ebf2f536ce4670a94b79558604ec5e6b84c77515d74f3bdbbbb776354588d03603a07d80c8ae2247a2f52f8832111b1e799153290bf1284461d0b94871c279a3d99bc60c446d7cfeacbe98d6a723445fb95ebb9c4c671be95a5f0deb581ce4e6cbd25bdf5f3523fdea15466f16d09303136d8519b9e74e4e615ea989a1e8f75f943e60e2cfdbf44c02f82ced99c1ad600f01748e698f222aae57f863f55fd883874a76db8524c6ff5afad83040a93d65fa14677d827cca7e79b74f264173f8f972a674d7ef320309cd75c07c9d86206ddbc98d457ecee420a05d5968f42fe02720b90fadfecd3dd18f64fff7049b60e138c647cc3e39adef4ca6f9fee02c60c6f25162850d2129038dc69a1205c783e375b6e24d3f10716f5ed48287b5113217bbec503a0704eb8041875b68922830da8d4ffbd474c5bbcc50199177070062c752ffa60e3bd2c6cb4733f14ba512c57e35ce1c53aaaec69cb2ff454004b0f4e53fef57f2578f04608d25c13f22d78feb73f503a2dc63a1bdc5d1e620895db9b50f49acd864c222d007ba4705a300374481c35a594793007607c5ab7df16bcc358e54b59b15d507b8c2b8897babaae3f3978e345cdb305d06bb050f03877fd0af52690efcfe84a126caa855e39e97e1c15e5086b8accb9cb03780e61dd202feb2dde1424c08a7c6fcf6b8fb106bac15b810ebb9b4830eaab2d2e51f4f99b8ede795652ff31b03a22ae48afab1f6e07064d87fb3b42401cb3884970dea4bda0b0b7ef2187eee9b4045eb08956c58d003030fe889056ab07aeaeae1f095cd786577e4fcd6b60f81fe1b887521c47cbe2e7615ba86150c922c0a6b76bd5ac39718fa2fcdeb7ba5d78664bdbc475165d121da6631d67ecb46617cae60cd29101a649d0161ecdfddf024bc8a945ea6e07643410d6cf55262326dcf0b9e50577fabeee18ba84a297f16067391f5cc13da2aff9faaeee6cb14eef181c070becc4558e8a03ae243feec30be12c04dad13568a6cde893d07c6b86d438bf5203509af6814222025f006d822d19781318872fa9cf968b6ffad640b8a876c2570f695600754f402225dcbc6f871478c9ea34b64ee7986de25f15631743acdc95aa5109ce29f98cba0cc403ee35157191a5442b6c907d9a081d54a8e8e9974e983d9763a804927f34f826746cb09f74718c05cccfd52747038884d5778f4b1e56806561b240e5d514f7b028464ea74fcef4fe1f9cde4a25f9e72c17abd920247f2a9d01b8c1aab23b234a6a23ac70323d934fa64346cf80dfb9ab477c2e4578657ad1acfdd7167afb92291031fe549f79b5e023a7335e8414b29e1b845090a47ceebff6265ccc01a8c53834f6cb305e3e479209f9d5730d3a1c3abd7dc44f5c56a1b345d417113782d7d90d8f276b55baa2b5518bba6b94ccbc1dce485118ab784c22981c10588e5acfc6db87936c9ba712f71279bec1c2bc634cd1f3a9645894066b523a3bbbb2e88fed878797bc43ffbdb850e9cca48d34ac57eab166a5356bf489fb81735577560edbc9be47307c519f59f70d914aaaf7d206b03f9cf8f612ecafd3cc53dec7ab77dfdad4de0289f2d6aaf96b8ccc0ad0056af8a0abe24f4a9832fdc78b82a6288e25a1ee904913d23b3c41d05b98e4bdc859243381ddee528a5be3211733f4996c86b7e9b0bf1c056db129bc9c5dc383e04b51c856043daf6eec30641b7dbccfc2e6ab6018049edf96eda14af100dcc6a4a6890edf24c635c24fe5979e867a96c94cd7fd5bb9fcb4b05d5532012dcf979b7fa43aec9557bddce306aa7151b175346e89e0ae464a9287c8312bf1382183232d6898fa70070e6e32d97d59d54b7df80b00b688fb86fcd762cad7612cfd80e382fcb9295c370e21092f52fee103040950a49a7d37e96d2bee1a8f48ee648d55aa1c663eb9f80a514b60a91eb8e10bfaf05fadaab166d4821b75e83e4ba952cfd1647f316f2d017737af9d5c74e059b775138e3896130d097e4bb84a14436582b00e617369d5f9379e79c4816872254a3bdfa7fe3f3ae73e0df97ef6aeb17d716d63f16ee6596189896de0b0de68e58b2d1c03a925ca92779ecc6204b34cc0874882bf3c3b0be7557c918294dfffe99109aca5165e981fab05c7aa033acad88875e96be4fee4b06e24a558106074478aee0ae580cb4b6224ed5b9e36a001e4c5849e63ae482b240ec8388bc47b96493c2598472ca05d353063387bfc0ae63316e8b99d0da5f665088ae8b35422744152a538a9b680e104e41e002d82626d497ec2cd48897af731f9c4fc4dd90d54025ffafb20d9a4a949697617b26fea156abd9e7a8b66ca2c365f27d2c97be8d9e63846537f3419b68af0859926a7b09f3cf6645814aa15bdc8bc230b206836be873cc6e4cb1beb51fe2c0181cafed45456c0d83a239a71cda792bd571f1f0db9e07ef5565c89bf73ae5ce863dd5b343b90872a27db2907e88d00d31ed85b5792f707606f23d2bf3dbf25d9c69f937a2de232e825f0445997e35cf32ed2e6296389b40d0fa5fb917eea476b15a07de4ba4f6162578da7ac647d405d937ea730ba738d4182fbaddc1491ce61670c0ad0b74a0701a7307f7e9100d5490a24a85c75c2eda417e2d8979cffecd65a5fa1152400cd7d920479c5cfeacdc5da9fef4d1bc120e0b2a98de1a51ce3ca63f99fb0e3934f90a6623d0e731d6b66c8c9954a22653968d738771ece449c5a3ddc96a823bf77cd9c7ff41fbf90901613ea8c939975c281a3d4baf6df84e1b17b039618ac4dad99e3a84b2fb5cb45c32ab6d10dc6cd7343d346eb0866e46855d80ddefe134d2275242aceaf73103487eb69a447fdf5e839034abbbe1d0ff7605ad946d0d7fb4e6c4511a885c70b91fff656887b991f03b93b596e8af3fbcea102fd066dc016130736a480d1000bbb22b425744d0de6b2ed96570fb5d7be219a6e64173dbd27c11de8941be73c51e3ab60821f6b5064cb2ceea10bb93b1ca5e19e93b0b2aa9a3cc2da31243957d3b4160f5b1e414288d1d0195a20234263bd57588df4c8993245d97e2926677ed522df4858b998c5431fd7bfd5ff1a8ba79be9bb96e69282e91eb71ea5974e0219869bd61c562c7cc920a7ed6b7fd66f248c723adb2ea3ac9dbce8f251948e442c5f3ecb9a7c097c3aa5ed115b3175452f873cdcf454095189dd1205e4f9cf943d95028a3e9cc61c21bb09b3144468a3b8782808919f37f6b7af1c779491cf9fd2011cde49f71be0a92bbcdf5f77c2e80681ce9eafd3077f8aff5dd96752056f01305d1633fb64b18e57289e136186a71b8ec841ae0bf55053ce323c0d7a7425aa7b5ebebad12cdb68ae5c24683ae26bcd1a2e9aef9fbf9a4589f261e2380b8d3a823ac60882c976274ca0548984e9db636940f2640db22f0d40aecd96953a295e04ca733c8160f76af3bbd26bd19e6ab66e9382b09c7687eb9089a0b8103f1d87da390df421e40ba7f5fda0d6a62f8f91727163254b2341b4cb81d2ced9c943a9ff7382d900892aa74fd1afd206716b65592bb3d5b587277f3d4f02168e6e8f021fed0016be3875bcea6e0679c7ba32333546d84287829178f87c788811917b579f7b7a98f0369fa2cf9319ba2bc74c600b99dfa03d8e1ba22efcf1a24fe33ec2712cf30c35c44394accfe8ef243ca5b9ec1b949c871278ae1f5d51572597766a4b10fe41080615237e2e657f3a03c2b5870f2fa84260fb8799c0e88a944d3ea0d1bc5ab69425a6f8c8d21946c0687e70bfd9a106265b601103f3a99672283f82cd3c9aa3b457842df43eac713cb088d62cfe8f5ddb4edbed635cb9a9754e9a00383373849dcfaad039cd4c15ec3ed50b9f35382ac1ce3a7f5367830b92a092151b0f069375b6b76adbf6b4dda18d570b273a403565e891c4a9849a4256bfc0f1de7d4f3c141ac2998da1b4db494e5f12618c1e5267bc9c217c41ee73b4c515af36e743b014e872f8b32d2e55d28ef4d2a456ae28f5f138b2bf7696de017d61c715b0146afbd1f6b6548dafb0f5b1fb0954ac88356fffb3e5bf61f30f679acd7327cc86c86f998db4ebebe00446c8c3bdcfac98f4a9fb0c906cade56be34963afc370a814a8765d9fa8f2e737ea5a6120e26fa63fa88f16eda64cdf5f56ce0ec2b6900e41c44b1f131e7c7da795a4513413efae992b4439f8396165aad8e32c55a4714e06854a5187c1a338650ff601834465d286195e428f479a893703646c44970b6b0c4f4763f2534d5102a3f8dccf4619f630c27b6bd9d645f24d69c586eb81757ab2ce8a01f22fdda584ae0427a5d02da2fbf26bc5a4be672567498b8f696c3e24aa41ecc4f3366e51a167c7e3d0708fea725ce3250092b25e3dac806e1f37fe4a545dad75b58aa4b9d6c73bf7d6874984e623f12d2721d182c3ad903f4cc689732d6e4950537cbddb0d41acd5e790c36ad336473e4e64fdbb748035216387f46fd823e23329bf64352670c0edf7e87136c9113eee1bdc55e0ee848aa4d0b294753aad8cfe5c07af3355b1ffb577419b141354b9f547ab9180cfc29ff7b84d9800d9f53fbd42008ce35e149764f4369d56058c9eb9f88022981917d4cd44ee2575a8e81e605049527903730ac911dac14eaa50c6964936f49cd00f4c954d78d8db985f9d8b31119ef3889cab7add562211034e1c0c789b5bbc00756e6a405a001573e788bf02f29df1dfacf7b0406d78e55f61a27f2fb892042167f3fd817e08e83f99bb469ba392f0258e1174e3755659a8878228a351d5137feab5d2b3cf86445c1d8863e6cbcf90cbfc4069cc2ceb76ea0fd276d6c1b27863507baea67cb6fb69a035e1de7e6a0e0a730ec100d88e70c8acae2bd223dfa9a0f309be5fb05b744f55c13e5b09cdbc17d2996e054d117b12ece961094d846428ee6e03fc18e351a6c48f30b4109503b5e3cc0b4adfcd6ee907e0cb1dccc7ebad143a9f267181d9c939fa386fdd2298f4371c33579f468323132cf13cf4ba423046596eb4d2f6f83b98a0acc9260401393fb400adc888d3032815d4d14fdd7f19eee3c94cc2466446a0403818189a6b0bc4f7c76e79fc973d5fafc310f90b8e0e70baf277bbf19826acfcfb1f06414af1df1ca87685be20ed998cf9aa0f7428f95b71e76bdee9d3d49cb29c7fa0c6a9b6eaf9018279ae9ca2c953322994237d186e7574c14c5548dacfd6362424a8327a0c5bb19462505a8d9660ee9a306cda80abefb64c1db774268f19baaaecc73242f375635014a5bbb07cf3b4991274e732b11945bab78ad5960eaf04f683fe6fa27c0d81f805b0dbd597c38e54212ea98187503cf86e6f74c67d07afe2c031b03a96a0c504874a83c0d4d0c2427acce34cefb754d4f5dcce155e179abdc5a152a28418435e582328393d1f47f4d5062787e95c49f0642caaa2074f16c2a7500464537d082da8fc2ba428d432fcc1d400bd5e2282ee8e0a057ecba05ca859fdce3b4519436b09ce593b71851d36bf32b70d8da154b79ca9f9abc342300575aa49a3b64a9d70c3c7767da6995d0956213063c6433f25558f03d2d00fda5efa3534110aa61408c24643bf05b6a6a7053d0570cb9eff5cf6328b69a9b076abc42a78ed8570b6129c3914762d4e114fe8d9754992f91af4c25420bb909416a1043fa89e96e2dd382f707b59f35342d26108d09d4ba91b62217a078f2c985ac083fdc870f738a21ae38f7b83056917daddde4045e7d44d3758766007965db66dd30226fa488af64c25197c22da9fb0b7496260633167e663cd732f79786cf6d1d80b8952ddde66e11fe137fa60eb5c32806896d8395cdc2b849d06dd9335f44b88cf71483fb88db847cef1d8a85f1a3c088a5487b2c8ab954e33b5bfe2e361a0fd3fbb4fb7b32ff79e6add02be2fd85360119246369e7e835623334f033dc87421c3df7f3b1763c4830c9f805aeb2929c3be059cea7f37eaf0650f40b34dddafdd7a3dc08229d5adb1bbe24e7ef8a45428ef1aded9811e10d831885164d06b81d44e66dd8316dcd740fc4216ca9378e090432921b8e7eb360f3c48911184ed148f126b3b6eb7faf8e46768c726863d1deedba28b433bf5f94030785923b246799b2ae29e266ec85e633aeac5b06cd9491009441e24201f2b071faf4d3257e2388914092ba874ab26b2c816a5630f9d6a7a69402c564edafafb065e780fa9d6857791da204eed079c5f69022cda70119d05c56317c51a6297af6ff995d737b943ba176a6c4b05ac0755a62a04d0366d2ffa1f672a143c29eaf4c11674a8a2229d424fbe797bd8a92c1de7a75ccceadc69c62ca1bc8a74730b0b14d3c762aa143de11347b63f79809ad8f7dfd31f25131916970359a1cc9cb062ed1c7ef9e43f4c10115dda4b9121d3b2f93bb1b544866711781d409ad1e5049e59748bcb71498e08e901e6949ea0587e7f69172f59cab268d95d7eb7ac67d75e95b025fe1f71ed056108da33ae87db6250822b2211c426a3be5d1eb72c051e0e49f7b4306eb68d60604c34989b4b4902bd082c55fdbb9c7a727e7fe25e4d5ce6e14352f84efdc9ba6a9bfc1c77df713d21b7a2a0ed30e786aba5d6ad752fffde183fbcfa9b1f8653b1d124d3b369dba886f6770c42359b6db1a68a3b1bb97ee6c458e0a0f4484bd94f245fa76e5a7129d3eafbe47b7c8fb6125e1d80e761394a6f51130c8c3076ab5a0812526baae297dad94cde4a0d68aa99ce8fcbd8dd8f81f421fc9e18e76d30bd45f8d8183dbee929f140095c53d892db3e3b05ca236ec7bb0785ad1ba2f2b933835b92fbc8b4f01261044523ec59c70f0f1d4d78016648ba6ebf89c50ec6b217082730d3eff1f258c4481df333395526b1ab84e03dc46ae6ef3a36ce3900de73690b34637ef687e0e3debd669e30c5275ae2b21dad04b6e3ca7295abf217472da99ed054a0a3694c2d80fb0b866b77334d84d01da6116f075773cb4821e8aa0530e697f8e5b63b103e795ca54604ff5bfdedcd6b58d36cb0821e989976c25932b1bdde9abb4a39faf2f1b9b3e6d516cfb5f98595d7d81384a62ddb1b1d070682af1347c13bb08561a8dff37f87d6f19da7d2a8ea0321759082ad91715c2b634ddbd74eebe0a257dde1f446c59f67948dcb002a56614856148a615256551a1b5a6997a21132fc178c25dedb00ba40eb17dfb2a4dc62235d13e59fa60bae74b2dc0cd68bcc0e085ba2b901696b03a019de830f8b07fb2164509f861769a2b6c9777798e64406ca7c6445151d0e15d031f73b69e023eef23e653ac1e2b2fdaf1ea36793ea1294bfa5fb9301ab4f738f9b09ecb2c592739ea57eabf7cf3e7d48b90d8222e0a24fbc5fbe92637d75d5925a0e705f39e87ae1f47d11949b07ec63171f1f658d37b148867f7d0d1419c91676e5d3ba33a943da90c94d118dc40b2cecb36dd74cc3a8de9e2a83398ab2fe6b721de229001509a833dff218fc30327333bedbc7ef000165b05b5c177e103911770813200aa60d10c78cc8a064c006871fc4328e773aece131267454d887a562f492a60d621591aac84f220e424cd3a9f39576d28979a7d0e2cfd9a368273e4abf2f27dfcd62f001713482de7ec26d7fe6b97045510293eb5cccfffbfb2355bf689efa282c89be162d86ba820040d044ef065f3ff4845d6c012a4d9494e352f8cd291fc06582e2c5303c89a8d64788f42fc1d7b303d6f6505d94ffa7d3b17fc33aff6acd082cf0a14438a2a4929bfb2a737a5aa9ec89ae5dae824bec255a536b532e4e9f5a59712aa5bf0ab88c62eb6f94ba8b401cfe8e1a72383fd683ce0f68d8f4e0dc1c421dce3c9973c0d08c8c18fafd62871f35871714f6a0aac2cc597818a843c0f5b8686c1446fa632472218910fd12b9bb6499a6d92c5aa64077306b39acac132213284a572d8151270f9192bdd282f4e864905c037c6e967eeb1e6f93cc720c74b73d9de85ba424503004aa2c7221e92d3703ee935553d9513bcd76996d1bb70a732644d4a42843733b7de3ec3f752f6e61c012de45a16565d60eb576b6c5fdfa30446f6a8c37eebfbe2b9c57d6b786dadbffb3a955a84f883c25d329bca4c05a327d0a28231946eca0f4c4dc92ace7b9ea364aee5ce9b5691dab1caa088af74ef7eb80dae1b26aa4dd21927232e7c26bd0120006c396a43a2ddd26196c9b524f54786f304a5348a065e286ffe7330166a6e768e161e661013779246d546be9c2d71a7a7a06f5e2d4027057512833d895c2a55bcadaa1bf448934c584ee4a3c0f60e1b04d5d3e7875b2cff21421765f1fb2c997bc06a65c793b8d02b61be87adbfb66bb4f3973354437a70259bcb777de991ea7200a3830ec71dfe5c88257689e55c063ccd493d84cfa5aa755cc9c0689e8cda19415b575656d4b6e12b245b2694ade824139dd6cce439d034e153eb56342efc118efcfbda60020e6eb69814237f49fee8e535a8806a21978916d934570d2eea9491a744afe53bf1bb0a531e96b2f42b5bfd4fb87091db6d7dc75781d28c5666ddf097ee7dd6759f3224a6a84b0bd0915cac2ce28a04bf1ec0db1ef502c54901700fc592487070750f2c55dec23ea7810364857ada9a7425f2105891d836f8b7d13495f32cf71d05f9054cfd79d961059f881a20c3095002cb89ffc03af350e473c050a1d0b1abdd0f76870065da3a1525acfc4af9f7087ebcda0eaf444e81837f58e3a980d79142399f183bf8c68a81398220eab1b5ddb49d5bc0916c2d3393c12ed677b5f426bc97a9be84e03267bd0697a0ef17fae3d27b65585725c34cbd910eb2d7f3b3c5e957f7f6d6e4029881a5636476532542589e98dbfa707cf982abb9bef283981f9f57ae90aba6378e6663c9a8f4d921bfe6ab81552039b2532e12d4c96b86f5633b6863f6cdf5d32f84960a879c0cb0e9c27a6a42b6cb9ee42f074ac2e6403bc8ab10008b31eb1bfe8ca3dc978662e91cbbc840835976709246885ec22fd5cd77c7348415a4dda007ba59e17eb292ba7428a5dbdd0a967822e7cf920f59126a576edbf264d05d7d0ca04022cd0a19e517d8640329fcbbf5b387ad924042aef9edd2cb9429cdcbe1021ac74cb0b4daae36ba4b5e4efec38d6e2cb6db757159de828f01cf6a394dea53d75d98ea39ac6727f8b42107cb346c6d82d8dfa1b6827b98c6bda696f90c1a5f65f8335d5cb4405152fa757b78cbd0b9cf0501c04cd41f7c6315dcdb978e558d62cb92f1f2c584093c1bcb1eda8f7410560edccae05259f11a69804a2dd7455da1c51a94aa826c14a6ec19aec8748044e509f31d29bca18b1ca2429f745213c3cdfff9169fbc1e862c71443da368abf5910a2efd08428e410b2f7c19afe1de9866c0066e2a8faddc691bd7d62a6c7c18ae2f05787663bddc942166e3a13c285c769b1d2fdae3d3f707f70bd98dd8b0e5ef8dcdf4caf3da6ee3493939b42ebccffba9b0d5c4975293763a3aae95a21190f5d2873209fa05ce724f0e0394fe9598501de21f0ef39a6f40644a12e971b4e00a52bf09bbff8059f475a03e50023a10c5db71c7bc6cb75bcea166fda88b36679eb5163bfc756744d3b300e12254c8b26d8185c9aac4f1da9a354e05814626fbc798e933545b483a19530a4f5baf404e3cfcc886f5504cafe2eea172e2657621746bed8c6662333b9f74b419cbcc8db72b1ec0de8300242ce0161c64fb6d4746842d4c272142e9049dad3af4f4c2c13ed16af6b02f1d309a81b59efbcea48dba997e6519059435b25390b8d64880817d4b7a6e27422383231f82d2301526831889d5ce47ac88caea860ce83a47b03e5e3758319c5d30436289809709ca6bffd2ac5b8cd20e2b7e8c4fc5778f1bbddf8e76546649f290cfdaee521e1a0fbb5207a6c6dfba1e4f3ea074279c1379987d637ed2930af754c8a08970298d13752f7157252fdc4a0c411ab7a007be61585d2dbcb533151e020844c503253bbbf1edb8d1b10e4a9057a9104cd7e5f68aaaf7e98fc2dbfe4b7df75ba7e36ec0369605d3f6e5a8363d669229c0cca2141ae1e895a38ab434cf69c16eb5ec9480e925e8360e5481d5688faed1a1fb340f5dc89d1908eaa6a1269892b2496d0836e31aec203577175de740bdb14e549e2557361002bced4c1663b2b2c447d915daffed6c2e6a7f292dfcdbb456c8836767d6d244dba36e5068a0b6721218085fe52cc357af4b883351e4e347556aefa840a9f4ea1bdd6d691e3fd73210f77d184b04d2185b6a4ecd635441e0d0973debb22d6a74da27a0efbf4845cf3f38c977e1b132dfe633de7b96f1b7216c6f2f158408e5486b09df4099428e070a21d51ff919f51d48f7e5e87e6a7e786615b1454ee3669065bb853feff13a48bbadc113a71add16a6fac15185a05452c338b366b870c83136497718df834a20b2254bea45eb8bc420f878bed9b6d088ee292718b613a1797a675a37d8b157dc3809336826c0883018df250b11534c1590dbdd2d71de47b1f06399bf7f93d9d04edbc68b481aa71136d2409e6f0067f4fbc92525708960db426537989dfdfac58582b3ff31f1080531bef2dd697d51b33d8dd8f4a6b5e077e9c5283a6a4dcb4db23fcdbe919de25900a7e2cbdc3f37242bd9729dddacf147582d37300cc52266567eef46783d3d357bfb0f7973af535ada036b795f1ac436d54ff8b5860aacc928355b36324cd9421984692534acdbc809e35d0ed999c10b0c62bc6ef69cd4362e5d58a4d498b2b02ad8207bb6992632e0a7760b3f6648630b7cf74d1d608b72cb98212f4bcd02a8eb4ae8973fde1c862234ce052d2b9b328face0ae815df01767a80deb0ad5b9b31d3cecf71e8410018488fe2d5d378522db96737a01c919c375039552eaab54287dd98f85b6ed8cc50535aeb2955c5052308f7e5ea2646a2e1344d0d6a9c87544fdaac0b3836916f0399fe4e9d0fc2500907fe299ddcc736db2f4f94f94c289c498fcf59a257b8f0bc4e1d919e3c651349c44ddfdd54024946ab13db8ec5a35d9543af57f2c8c7767d08c7021bb0f7b9e673588a48873b0bf83f44d3fa3a18efc8ec9a86f70582a27f9f5c20c74c820f892949c14be6edf8e1093b7e98a00f3364724dc5039c0e9043817a4f97ab008884abd064acd5a00c7e2e168d9a1fc73f8f10d4904ab3f45ffa218cb88784923893a67ce21121b431e68f41f803e37af780622b7c5eada70d341b53ab4194ab5d7c0474479407deedddefea4f6e98a307fa79a73626718e3c9fa8ba0b5be66a53e4e104e4e8e1dd46dc978c46adf3dab375b3b185ffcea23e5fc5daae359ead2f69949a3e14495134e792fb9b2fa44370bce535723676f098f421c83b27021f6ee992cda2d30a4e35ccd9a759be252c532ae5ec6225155529117aed57ca568bce9379409bec58f544345bdb859a3987048886419ec5098725ac1923bfdb5716791b6f388b46f3d477e936c4af96db2cba43b379ca2098d127484acc1e8b843b9855f2a1a291436dd4b676e805e790785478ea592eb08725f05d26823ae3b24f3eb5f7bfc412379eea9d80418b7da830b960d52347394229d2d6d57360de95d48c32b3eb1c180a0df76e19dd247e16e078d3fc9d9b8b6b1fff1270abea4bd7ec760974e790f0201b4f3b877519fbd39a0bc2be002c20d52dba2c4ecbae0449d03df997c5de958bedcf2e678afa2abfef5ca082f7f6983a765327b557e7527e65647b7d30ff","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"b5c2c8d446458fee1c3d9e8e2ce4f031"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
