<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ca97977bf8554ea89117097b3a553671b43b3f81c0c184c3a60115c04d8ad291d0d1f884ff8c90a0c23d58544598a13d9e00ac0303faf4ba2fb0409028c9a8e71e739baaf1328e7017d68e140f7e21c3242295b5106812e0aa38c0c8f5267b6a25ba9a872bc411694c7d248e1647cf3266337b77f046417ed5d3082a668268aea4a2d7a401a4129889b22a0fe0857e9a657b54b9ba61806a6192088cc8c3a2aeb659b090bbdaa1a737d6f2df34928e8e74494c61ef48f185a01d02077ad7ce25639158c565fd4977572879848a45c5394a2f698739dab96f19809b2f40a845a722c494d7c36a9c09ee32df74af0ec9084dd263994ed186e5c3f24ff6567ee60d1b310464a9adbbd84f113af6c1967d8e9fe591645b7aa00f0e8aa3d8218df5805664fa1a5aaeeba1b7b7c6a239129115a5a02ec795c0e475f5f3ef65aacf2caa6518f838fb6161e8a42d20faf4e6278a0f1720b4b4a41cb988e2faba64a1ba4e1adb246d83bb73d38e4b98e04a91bcb1f7c8b0efb75b1524401e70a69db0a37a3e12e935df4dcaf304908d322ee9ac76de2777718c49b3bc2a706c7a1eee135d863c75346146a439629811cc10bd64ee06a14bfaa9761f993a130cd0c4d3a1ee72b21b0edcf7365f50ec9a71bbde5520aada5f6c77ded1ce2970193d52f29f07cce38c20484ae86f84d1175e90ecc3b945e2901000a462adc1f282be52b4c37862375fe29a5ff34e79eae4cd27a86639068ab013a1c077d52c995c61b4a96eabbdec4e6c1ca7b08973f16e48f73c1f8aefd0f13709b71f2885c5c0e8a93e7a7cd407b0b75b09f8c6339760607ffb7257462a15b6688c98880abd466932da76098dc79fa5728d57b57f0418392b3659d48e25b3dd174a62409e081caaeb7c4fabdbbfa77be8e7e486233c7b2fba01a5518909ca56cfad5224eeac48daf48c28f15977f526f4797a83a881bf464d464820b370d73a50778fcacc8ac5f8198697933694d02ce73080982ba899354417c19b7bd428c6e3efac29bceef2fa71819ca8bc2b29484d93c52abbd58607d68cf38f95cfb9082ce728befbcb7bc47d58539bbd7fb82d9e44590553bf9dd667600ecf4d9baae2c39a33f1d586be5a38436d44500919742ce1625b101e5e5bff20c8cfb088f7b36db0e1b9d947edd23dc1e4a4701192cceac0e98d6140c32540bee6b37b5d3e2f972d2e904bd7ff6c26ea8bb992dec35e8fe9a03fa4b493ffcf8d03437b2c252bb66d6f6e9e2cd6ea441c163d77ed3932020cddeaf24af4bc0990aed55e312bd203e138b518ecb7caae9522b86a774899f820c621cf0b01f2a23b1438a279150e1793121ad30e7ed66848aa20930452ae07fc836317ce96df1c829364632a72a46b57159d8efe84b2ba459bc3aab91714a1ea5adb62beaf9511dbf1b4fb57457b79eee0f2f92052d6276e6be8f43bd9f031e40b3f7ad3be3228f5fe34bf9e9299792f911241bb14ed49b4363481ff17ec843802d2d33eb156985795b6375a1076a25b16c910026680e61f3c24778d3a80609d47d21ead581a8cd31b40849698294cefcfbe582a91a4a981d1b8f09192b5b85371ea0d755e18c160ad205a5e6befac523bc69e3df9a83ec7c39a83b0e38080aae5894a3118bc7f0a72abaf070ad02a54e6b1e7fa0cb493d086e5c2c9df57ef3187a78ebd772871ca72e4c56737e5a8bbae12ecdd0d49e15c56c06ca573b8224cb8ae0e37628bf544027e85318da45ce005d4787cb8d99bbced4a7c4382a4b8357daa5127a361c3c5f556052a38a108f7e34e0d1f7a59a2b88f23dc78dea25d2c525bf2eb50f3f092d9681be7dbd4a022ad6ef4ede8928b520ad705d07e17457cf5662eab4c0262a1a35e34870b467a4b05483a7c4f6ad2bd51ce0b2a358c7f09d8cf1b2d2ad0a660af9cf7d7ecdedd5483f96525c969393059c4abca73319239fd995c8e9bf632abfb317eef2ad0972aa043bce3c8d90ebc4c17d1d9f49168e8371c188f02c43737e1bde141c88e8db8beb47cd8c03194221c395653b4606a1cd3fd3536afa44c84f06ec0179570a67ca59f4beedc372ff34851492751c14283dfafec6b9d1ce8a225f64af88eb062e2a59b2100019e816ff4617fa8a42f9b27814753005a833a5d516304b1cd7f2809d4122dfd8698be8844608adf198728320dca22f097c6c3728fc8e7618988b504d05ed56c33189e25317e90627e8eedeeef8259ba0bd8a0bc6b873557b26d41a293f48fd8e56f3570b74fed1adbd80ec97c95f769c6addf73476e07eeaeb696c6acf8663f0f5e9686182346f3cece8946dcebf6ee611ac5b583bc31a16da00686395a60618083f956eddb1b2056b8196445bc3d737c55b858b11ecdbd0d5c1c8e4b0853dd6814f445177cf53cfded3b617ad4d2f089e807e5f7db9c41cb2db3e305af80a4ed67d9d27336f86e150511ae23d0636f4881aee89dbc306b1832952440a2374b91f8e059bd9a48bf7721c31a890f69bb9a713bf3dd577440b53e82f437db5e0cd857beaafbc82b020579b7278841a80d0e252ffce1b4c99575b0d3d1d712bd553b9d4a627fad3a20d28f31c912932850c5b90818d6e0385cfd000144fce3edbfc8926659f4e67f50a0d6079f5c73d47ed6b0927ffbe13f9d4f9ac6ca5b721f26d8ab847f93ad41336a1dd19c7da6dc3ec6736f165aaf9f5721056801bfe01cd2a777bd8da17f621ff2bddbf071dddca9d654b7525f472cc59b68c5dd8b142fa2785ecf8372ac90aaede7b8b742208fe168a18689c49a6caf193fd32aeb2640507f414d34850b965a79d9dc942957877e34ba0c046d91958d4bca967582a1ffa9714328331b2e0788671e2b98205cfc7c25edbab35f81a8c4a2246e8abf653893a8b30c2d7916ac7b27584c7c2ab7142d338497c972235c119d378c975c71375ebe09255e791d4ddcb1891ae30becf998d37f06bf112121a576f7d581246eb64390699014e3dc6da77fdf3c43d21ac5aa6d79baf28dd2dd82e83e92f771b69801a18fc0bd1d688d3a9a76f30ee0ff37fc3b15df39cb57f167890585eade67bb493272b24c9ecae8dc4dce75e74d841ccf2e59be35ab286ccef1443b79ea5a58016c08ce7133bb32e8e1e59203f5dca0e098e9173ed29f29e7cf08db770aeafbb1a16463718c4154da65429055e30fa9ea433596c699a6168f7a89f8ceb7f4263c93edf1b560948a8a3d91d51844c07fd1d64e6673a26c9b26fb5cdbbf4fbcfedaf4d805fc01e475b741850b7e7ae76469999183154d4fca8e86e537762d6c563d64c37b8bdf3b8217a97490bd5381f0c7d5f0fddae3693464a22f69f7569d3836711b7fba6ce7bb47e92f2ab6e0e405ce4196bfe16e7865799a64b2b99209be191221a8909747bc92424af6b7396860e86541b08fd6391826718cda9394ebab8ccb14804caf31e97e77ecc18289443e671eb0d2c7f0b4cedf36bb125bc50c80ba4b87f5beb1c57c662f019593b411fcdbf4d1c674031584e93b8d02d833ef69dfee97e19918336936f4324e2d6f68843174321524e5e9599656b9efb194d8ce988a6a153e0e7dd576bb014a69afa7d8871b569b7045964e913a31738973877e9a8584a0ec8945f1fc3fbb9d7d72f7a9ca4796e98c98612c61e087d7640b3ba674ccda7f8d074251ba585f593c86ffb57139ae2f5a24f57d2ee88d9043f730b861e061718943eaadc13f7f1ca7d44871b618c78047a7b9ce32b4c5466cc4a14d7655ea6f0ae7cd6701858d3a93ec7b4cebf1e027dba9efd524f21f5a56b4541504a599104859cb184d757b66032416f16300acf3666fc4ad9aa3bdc1e9830d226f8a734ece6eaaccae357beece613b8ef21672945016d75efb09eee11bc0e1320e0cadfb80b80ec78d9cae09a86f9941bc189589b29fae688a672f55549431b9d79211ee6b787af0680106d54243490d2dcd6437b91e2b8294fea5f4861515cccc76c698508667697898c71128add2a3aa3fa4e4413e8fb863ad36873961645a6d5b53f4688e65fb22d11defac1575d434913339e3f7cae344f74beb92c02a0022afb8ef96588006286f69d3f1538ddec490577854fde5959f5e9c9e31a240098c7815100a594dc13be26ff50e2ed9176a5dbc1585228c8fa8c0d2d0f72361f55c64fe11eded9e113d675f6e19e08fd2ed182bc0dbbac89323a640062776a6e1d572f394cb0c78a14145ea5f6c8aa5e4ff6464a63fb18811fb62fefd92400443c53fba66686a0bf0e20314c3bb4d1c1861b97f779b7f3bfabd26bc544e3b38439c0ba25a3980be58287e6d001b309b12c2c15d22d3eddd3d3393d38cb10e333919f95cd276e51801ddbc38b67b4cbf2906afcb04510eb19a6a6698b329e92fe266009f7192aa8a7af5d301a6a5c4f350fc36d5fc5e5c0d484682297f6838c81070235396c116f4adcf2d4bf87a576ebdc37ca91192f09409d3200de915c969149eff3686fa2f308d6b4e415ab2c099d6d8e5ec9aa2cae6eda85b09dbe1399aea827b4cc9b3ddd69588b9145a6567e280ba0b81950ef47aea802ca8038170d20fed7cae8d2368814dd028386740df65a6d07858fbdd04de0b92967c32050329fa36d7bb4b92adb4cd47f9c745cd04b10fafd865b4cca67dcbf0d02eb7a210eb294d7ab326f7ea11f0fe51174a231815fc75c6f6e2b345119dddbedc6077dccfa6e523cb000882086379e8e9d56c9b0d6232f50990e74bfc2dc6970ff2bfe48524bf4fba65397cdb9512fc830f93368b3b82a181c816ae99f2830e08c9f10f7b54f6175600577330057dad665fa3b4ac1b5fa6a4011f4eff6f265c3bfaf87d09a28fc36c74354cbc82607b5bfb8cea716feec10ba9a6831c1849def04c398c8d2f250d169932e5089757e1c3963abb8b146504a95f228ae9718a8401976f2bbf786cb7d3b5ceb3d52bf4f07b7d6be309bd64b78fdd6caab208fa5d021a7dfeffacd1715e9d4ff50722b6c31e257394496181eecb8298a4b53032d9919da7d6c9588798171d70bf34afe1fb43b60160dfd9ca67e9cf4d78a2af3c706d08ca6cee43f75f103bd6164cf884d7bd66dc36ef21168253f9e466ab195a0aed1cf6734bb6b19e66c9b3d81546e877e7c1f08c27ed44c88069ee93a87f64998ce409ef7580e8189f34b2265143c9c78fc67aa00584512a3d21ca79f71e49082615c4e5240aa64c886e019f4dfe39f6385fe7a96e0ae5dfc34fd7b5591a60db913a3aee1d671425de40fb271eecb9c0f8691afe0f2eb54621d026483b9ed73361e211ce813106ae97f5ec230b89a1362d55e35edc11c1e1539cdc897bb5342f09fb01758c41ef00ae0a762e6287f12cc9991b09846855ab43196cdcec44945d3433934d60f7dfc5382ca6a2431b72aefcdf24ebc56a74dca468af567798247fbb6bea7aa4a4da4098c5a7247a1446dea87ffc51793b176c80d132ecf732ef0aa2ac9ecdf70c6f25a8f8a2a73f181c1a9de4153c30ae160e36e7059d6cc325670f16f9dca1eac9a895442efa07d0db5680f946faaee6484bbeb110725a9a4146d433e965e43b81bfc6541296463a8efc405900ac7c1d2d132bbe57d3a78a648c7ae4ae8592d8e27e5cd062f69fc163bfeff66919cfb77d781676e285bf062f60584a4e81d21a58e07e45aad5d7af00bc20cd49817610e2f36b064faf4cdbeb8ef6b44bd68c07beb092cba8b4a90ff1da91c8feac48fcc5a6f2230d2175d9bb45c9d495a440ed43f384f38e6f3cd5797d2edc82945a3ac0ce1159cf83478877fde690422bf6f049606e443604bf6d10847e4f21e8df18eeaaad6a8d5bb9d2fbffd993e7a5da7dff2426e23c2319c4983847503bc126e7194e0f52517bf8a37cb900a6f962e797c115148f49b17d0b3ef170a90a7a5f2bcc99ad2b9a28a02bad5c4f04b01ec4fa0891c452beb0659c26351a74634371a92422ce5949490ceb4ca363b2e64777c7557ee0a3e375710cfe98509f921ad613297e8a25954030b4ceaa9b21a82efee17f7e64198c539e3cefa7a8aaefe8dd686a64a787b104552d40a6c00cb0885380a0fdded3c78b973e73bd9c5eef88f8b698db172039b53184a561880415db1727c9f597546685cb463fba2756a521bb6a51a814aca06eb1919e86ebe6bcab5c38ac74a221ec7fc8b70417f19241224e28567b9dc584381e200b00ab1a7151c3471d4b10389297acc0cec61422fd0eacd3a4613c67c1c2fc6679d3fed7eb7de742ba7037a37fd312b13004438b8246c685811780b95fcb2e3cd4802004a57b0cffb6a05289c92e97385e75550260d22e45ed2a3db84a8779425e0fef4f11c78a4126a9426ddcdc59ae28e138b5c163511df4c175e658e2a9388131dcc1419c71f4f61a8e89167d5122ef9ed46dfe0b7c02bb6dbfe74738f6e341402781fd0e151b9a0a379aee46e5d44b1bd74dbe8280ef4df1e69c7695782bc3de67b42d4762b1e044666e5011a7b1c111c03de0787ac082c0f37428ebed23e6afb728be26cc24b8cd857379bf59d9cf9b80bfd0e9feea5d8f6883b5e785f642cba0f90dc428ae1e27f8b2ac4980e19f56f58fa9685071bd804ebdbafacedd77a2b1af703b8ae5ef4deef0dee3820b13de658324e26863552b3156ae2f16deea40fe24aad667b142e8f932638feb06e703623e05e7b2bae7dd7a6a2387f8290a9d4016061b6955d349d212cdb1cadd6cc9472ecd0c54b57dc634a8b9a98d44581fbb5ab1583df2e45b31af83a8239f9f5bcfd42f6b3e66be1a871c23e17705971bddef46812a29c4ac3356e5e31f87e0877974c1d8e41298309899613d6c4146ca5403e81d4e36f9294653a5b87ea1cf4f7ef81719fd39bb100323a531cb5c727546bde78600b378928c5eec41f97a762d404e7942200fbbddfe436d800e38974a454f84273b089a42940ae0f0dabad3854549d07160ded928f592a68624c2b67e4c0f55bdbd7507fb656787b01f177f1905fc733a317b30076b5b9374c6dcfaca3b7a9fc385393a2b00f7916027471cafdc5de57bc9597300057a8ba2d005b99d5e8ff9a4c3c03a08097ad48d726ccc3e4e761206b70c29a70038c1d36db199efbea8a39427302b3939d064e2dc1ce56f341ed76e454e64b1ec4c8b0c2317f065b0a052ca138419fc5bb2126e49825f7c82a5d1215276088c13609c7a077421fe21d8b98ed09293ce3c88f7611b8bd4280c5a5afcba7edb591b59dc8bdf70c1dee8f5e5bd38f52339c0b8d5dbb398efdcee954d88938d62822159823eef0e246bc3017f22adb8163bb779f16bc301daaf72951d368292ea38f518d23b9ab4ba0a95123a95f5bbb5354f94feda2cbaf485abd40fb4c3b8978e392bb2d59d02cc9a6eab01297d7b67440a8204f6f4ce80d407da12456c9b0ab1e618fd2db7a7f1a3d89d9d1428033c7aebeaf05d8b658b4b653a6cb0b2766e61133869f9cedb4a32bf4ff9c023a2db34697c016e95b1e6fdee424dcd4a014fe97178faa47c4dd2d72858f30537432211e4287b7adcc8641fc6d97dba8654aed3d3ce08fdcaf33b582d10809f5db0108d2eb0d63558b6f87d7b26957d829cdf03ab46ffd17d338efe9f6c2fbd248c0d2ec7deee9d4ac70cf1afb7d368e750bc6b12fd1d2756fb290e56627f1a8e661319e41ced9cfb84bc78f51d9adfba6119544c7e4077641b758a924f3dbe3dabab63280a80f4ec2b24454dfbd08f2e797cf51860e0840128a8ff27aaf305fb095e0d20f7f3103a1744d488b121a7d6cec6a47901fb1c14846883520b3c70dc9174608a8f9b8920fd31e575e5fc0e8c6942e365ed73eadd858129d8b34e45e09d0292428e31be73efd842e9a76c2812aadfcf09590b2b7b6e61be212c4352ef497d2d92827c4a2098621e9239f8708feb2d4b7a3bda4a7a3c4d56ac19e9e5ce07e8a6cb776bd24472ed1f0005e4957724aa60a4886a534ee97df4393fd6385724fb8118f4b1f006aad9f673eeaeb596152e18720596f9af7c4f85dae854f12a4b564dd6aacc85530b1c0d7fa4509a30873a94c21c7da899a855d57469c02f11b499ff0ce0b8fec0cf0e31a05c1c7a883375674adba8e8c85cbbace486f467b8ef1d4795852d43693750f53563bd1bd101434a493dfda96eaa580a03d5b2669004ca856a5101ae87f13c3eaa4ecf2c25ba94b19364c5af10d71100ada9557bb7191f7533103bf97281c83b950ee615e1a627a60216e2bca1ae8ad23e3725fbaf712037da4794fa13ba4325ce4a306a98148202bc28bc99e144b56d2f8eca6cc71b1e59ce43864c14bb322e5a2f54b7a040997936381c10f78f846fac006319597789661b4651b1f50cdf11fe014c049b8c248165bf7b7f38aa9188332c861404232d971038b63ce7e5f43ba1a752bbadd090aaa1c656c901dfd5c0203828992646fa09be42332c10e8a5fe2a11937de88471318b3652def26c148c5468cfea8a684821822b394229bf08b30fbfea440b8a7413192542d80a00a13937bd19de757f9c47ebc7bd4a69e1104320c3f4985331d70a4aabf249433c57e5add2dd1efa83ef240e99d158425cc9f64fe8c6904f9f5e87b14dbae707c6910a830083084e53f6dce138f49f38f42a0369be382f418a767636ca2e38734f9f6527fbf1b0536ab0278ab4f38cd6ed7b0c9d502230623f827153e97ef0ec18f024c314ffff97f1a93aa541e7b0c8be53dca9505dc6311a0ea15b9fdb14c4c5ed93c29443991989428aca776b5fe86845d900db989fb23045149edcf4463e040bb889eda1a95403bca0bac352d277de86a70a98fb4ba0105cf4c4105fd1cb55794319946dabd82c9c4897bf8bf2801ee312a4efc76c56e1a7a5b84862e56b7e9a437a762178b2772bb798ec72f87f6d500f3961a1c7c66c4adb8285aad126d2a79a15ad7df9785d7780877d615b598ceae6dd42bf0e91881c8579d00683e5ac1d4c9caf34653c454d7622dc6b16b6fe8a4ed7ab24f6f0243fde69c541613e3430e3e3dbfbb4288b8bb66fe3d23a6bdc8e12a99a1b09e03fa32bcb44b379e7ab8d913d41d06efa8ae50bf9a9334e426bbf8156e9c24d62ae4e84c119a861366f030f2f8d85ec69ad3b828cfece5c3313ec5c2dcdccea64c9f8a9dfc2c3bc5a270918480a9dd843e0a871cba0c7f434791e3e75781c7a3226df9210aa952e0547c5eaf68d9c5d2319c4e51e72fe2357f50574cb104f0ba9a5db19647144f3cba134d99d45770ce44824b3e6a85c8cc9c586630475f33ef074589b5a04377a74665be85859e0f9b8d9b359ec9c9ce548e905cad799205b9949fab844f51f0dcb21a3e59942f7c03673358c8ee53e284c51610b66a539019581fb039991ee11a230e2ad743e9a97c06b98ded89013c48e82c2ae0daeef3187a9c1f8fbcea998e2ed7cb47caf24c03a84622efd9ceec9c92e520aa4c5fa5b339519e7d9d63dfa73d5c39c6c2aebf1a3e204e88fef087f50bcc99a6ea052009ae285506079873c08a9aeaf4b652d981366a66dfbec4de93f88f44cf36d3b58cac6d154d9ede02fd62be9b3584150606b0cc488f74642fab1bd5cf1105581f3589437da3850c82c96b048b5e2c9de1772d4de098c2133819bdf0576e62fcc714d114f24c446e542f99b4d782ee1e4a700bc2eb6119cf258a1902c5dc91dedd5388bd0910a581c8e5d0da9575585831b726a33f68146d483d75a1cd658febc7bf5a9d056f31371d9cbba884bbabac12da3af8c39beeec8015f4a1cf5e7d9ed8ce3e9f59ae1a872d42bf2a2f203d4384f8327f70ff0890ac6977a3f8b457b42590c8382bea65ee5aa2b6e581178dbe7f2924ee54a82b9cebcebb0a2eaf289d051dfdcc00e49eac3cf54fbf19a094fa71dd4db6899990847eea578830a0c0baf6e95fbfeb5c8125b93f27ddd7e4207965107776740d869e5c0170c303fa29e6a1f765b79a586f10fc3e0bc06398729c974f97181bd25b4d89a8e3cf2d17353ed5741d3d785c769ccfcd8513d08c3fb7dfadbfc44798a9e528cd5bda77245b28ade1a2660c8b6ac9a911748a5b5f849b7bdc4d31e45b5ee8b62be72b5a452061c4653f117a3eaca10885a4de5c5e2d3928a3f72bc15f6fe14936426486f99b3a17788a6071439c429e3fb60002ac95bd294a6722484f2425556b1813073f81e25fdff2c538c6f9c1b87d81f7b29b270873d97935f0987541cb6548d4652c5bbaa400f098060a01bfe4a0a8f7e11f6828744c98d8a9f97238d9d3c447feae7be4601f2dcd7eca1db36c576f9df9ab7d97fb061aff8587b22fde48b8689ec1406193bfbf4824a3b7d871590e46949da9fed81813ac2562490387613594e876291cb0a8dd6ac63627e9593cacae45f40c682486985feff85ceb0e3984e8871feafa39cb125468071afb620ff9f9b790229b4b8dfb686e4240aa9fa5643c6788318db81dc658ddb0f3f865a6e6f2a84d95fbb1de2f9cb64c3e672b976c7b74744811643b1056af58d14dabbc9a4ab4ab88c186fb430b2e4b9337d424a5e88b5a0d5587d8753b0f8beeecec9e09b84f17e55e6abfb59dfe5d0c62e28e1d39e97d13fd8069656fc9a5cffe7458b29637271db54f19fe8327c5d29811d1b20d78e3e0ced185653c2a20e6b584803a8ac1dfd84ab01b36edb1a172380d3fd1120a8dcad3da7c243fb71e753d0bc3ba435db466dbe952e05d0dfb945ccca70370788a02af54204616703b90184d0a15fb01c72d686dafea3331a221de70abca2d13d5f0f38b11c4af7c3bece75f5bc4b044d279b0f8fadb1913136347fc6f81751d06c9365d4b89ceeba2a9360862b57dba093891cb4649fdce86beeb6450070304a4e97ec5fefe9f54ebed8c6f9f3a8dae4311c2a8efcd45762bcb0a3cc0577580d9b653fc14f1e83d19fed4f020952ab82c1d5997daa32c31fc900c958f2778aa1976269860871b1c31d429f8228aa113b7d00533998b8d28ce53995a2368631f8315b8d4b0b21dac229e5940bd724b0758f6bdf56fc071769b070a5b99212c2f855d64f190af439d4e3739bbbbfe71f1411245f7d27df11bf420e29664269e0b58bc8c8f69d33bcc0226cfe0b03a64fb294dc7d223024ccf7700136c7646b33af28935900cdca22ac5c97c8103514681fe5491a2085fc7842701d8eaa3a10f53fdb5a1e25c7e60368ed2de013e8ca3916f8f28c4b97c4977e6519d6696e363c631fed4e5accdf5fb8ef1b70663650f69832366282816ee42e9f5c420a6da364088041c156c1889ad0adc887d3f2370b9f3b99911bc0c1c35adcf5eb8425da6c1728e992253495ee7066fa18b612fd917a58be1fa1ce9f9434656409dffaa7898a8763323e705e491ed89e6155ce7ee678e5995c60f77a28b1c6c4b08f1d2387d572889853036bb1758b3371f0abfcd4c45424a32b5e1b53fc22a98d5dbf1da329795fdc93cdf2d9d2c41f005a0a7cb5e747ba6843473f3e6d0a0070bcd6db530edfcf3052966fe704ed82233296aa6057bc131ee537807f0bdecf735d9b444deee129808d695a2f8a96ca650072daddae76b40be8917d70ca7c04d7744bb1be5f5e48a7e43e2ff3029e6a6e82e41e0e703cdad63888897fc5ce814fb2c0f47737315723e2d1269ca36156ffcc804052035cffd3c499b76e06c229183b32e3ab1fd2ed8d01ec0f6f16ee7b793459543650f8ad9c221e008a154f31668fd56baf30c5523e9fad9c1e1e199e7642c344150479612eef53b81010ae7969b58744e12ed4cdb586dd728506307054387e4d01e49a6b56cfed13ed46ec3a5fba4cf73e2b89a47364e851dfd74e8af3f31c7b48c04a499c91038051699be321875c106cc71dc11d3afe354e02b0342bf6222194729b69f68ea24cd694abe1b07e150545f2edc643eca2f3f905cd16156207b82a98428148db977e3d25345904bd25331084ba133502d57d6ffbabcb1433e8006269eddcfd92f6ee3e2bd9ce347dcc14c88123a32ba50d9ecea3d4fa2ecfaec45eeb89c064711f41cc4cf80641ccee6ec0d131e73cefdf45a9710aae87a86c91b230bcb7a44ad271ae4f36aed1908d3f938fbbfa940956ecb8bbaa5ab227f509527c07fd53b524822440aa9e606981041317f3d9043b19b4c55e6186685f69fc9382b088cf433e648ac49e5ece865a2617603213d327d2c0df32518a5ce78902606dba12d054120accd697eb4637cafdde2216b1ad6403014b0c7fe737682933f0c3106f59549bf3e3fa1269701a4a6a7cd40f79582fd1598e3f5736efd6f8eb5713218c84254e859fc65c89ca841b14ff47a06dbab582427a16f0c2550e76b383f2dd6dd5f03db57bf673357989542e503b0d9493dd8f23be756922e882674633647c04b33dff675005f63176fc176f56ab36556d245d57dd819cd74292cfe103066fbf47018e38ab723ae11071e1f8360306ce9fc33b37aacc5a77ccf54ce172ab4d86755fd4a315ac410ccf805ea3d027475c28739f5af1c6f8ba5802dd988d320561b382e7b470505a49258d87f7d248cebeaf3a1d8b01d36e9629f28730c3bbf079d40cb1312d9dd18f4e478f2d7b8932e895ed11bd9f62e9bc9ce7ee5e2e384f61d26fd3078a309ff9af8f0d1884a8988d9fed809aa4792b56cba531c9c94be518d6df5bf1cc13131188c4b3eeede66afb18c979a92a8de1b6ab3ec329a981eea21f05a89706c2030d2a3e43e9d09809fce122b51d0b6d4d9ee0b0f0ba6b34920f2af9256823617980a750418f8268f03b12851cc0c6952e0941fda3713ef993717a503024a631e3024252bf788d34586558b44e26c4f4992ef73c4da5e9c62893e8f0c83e5216a123025ed2593ab1eec5469573fa30ca3f78a686d3bed5e7aafdc7e3bf162dd73c9739e717866cde16a540770e13d46277471397bfbf64d70fb2d8572119b722e92514026116679d9509eb421bfc5be5c04328a66d9adf1a3848db82ef5d1a85ba6673e26a4dad85ec5a980606d9969ef5a96317137db8142712b9138e9647bfd3cdc8ff51044065705b7ad3e1757166840c0375d44f22f50b6a0cd9cb2e767e3296245f01b31a77e20001fe8a7d9c482210a5693e64b30456920a3fb9cf3f02b4e17c37e279fd89add4f0fcb918d5b4933293086775e239b5af1e0b07d2c728551be3356dfa069ce1b4d9e77e5beb24cb87faf27f59cc47f45f9baf52761de39a8a90cd73aa4c1c9df5353102f60f4dad5eb8e3379318cc9814d8341e38d05700f6d165502b4bcc1753f6de0b5b238ea873ddbd81c273d17df3c8dc8b65e439269f75c10ca9f755ed70501d37565a6461f98196e8b5540fb72ab0899af86177ad5f2e0ea76f7f5d39d1eee93834b3e41ae6dc4ce3f75b4f1376eeb978603f450a6cfa711c9cc6fe4650668458fb4af758635e1aa7c3c0cb9ae4bde4e2ae669a5ea9cd62f8046fb383d8ab359f99ff8c275ba7b9b671f0464c3ee77f0f97f120cd74b668d50e81e312f47ec27ee74c4fdb640003e135284b39f13d011cb2bd79415b9f65d657c960b3b0c24d90711f50cce1a28cd4b59ab87afa018558fd0a8c1dd0350de9b534d2db6cac6e641c4ae9943a6ce86c183f127f8ff4da613214c969fb3a9397fd5b99612b01866044ff5518a85b81345fe2dadf66f0c27ef3095344bfed81e4017a5a75b9c91b69f1c54c356ede4e5bf57b8a4b436de27941c246758b01f6dfa78b4c16c5ac5306e386ad65b55837d390294964dabd806dbe728ee3c1a518d44ff2e7d6bfa7a41e2119379257e8af4234315f3d3a3f748fa9512ebf03db24d973480aa85d5839ce5b9de6a435d5fc8f1d8cbeb86cde1999c4f473e57bcc0d6c03c672f6d7b2a85bf351b8af21cd6c98d2dd5809e216c5eb5bc258629209a56ce1fb31acd8041d53d23e7f5b00496b628df6cedb6ea869353886ee32901b5a4f69344831bcb6ff47937568bad3e38fafe77eb55e48707e1191a199a003b5956826bbe732faf561c11903f36417df918f8f99e0093a9087af3b8aec53c738cb62e8f5154544ccda8dbed51e570975a43fed5c0192a6fe11748798fbe78048081d8699254a737a07083bcdf315f2881d9e952675311904480fbbd4802a38d81e6bed5aa01dfe4be852bcbf7a473ebbfe54fc2c861b95d6d79a114e76b8766935bc455d37a3c70f54f0deb0781a8a2083aa12e542ab40cf66d1bfb48fbbc58b9f24ab087f6322cca2667d97b6125f6e18ca9bde4062dc14e36339277f957ad6e9ead3200efc4e389338319ef331357ccaff3b76610960b783052cda5adaa37381b0b0d1583566404fca2bcaa6683c7f5dfbe867d68d076ab3e3f2769714381f79211b3377712ba97ceb6769584a6cae03557cf16d4f51b0142de0bb44e8990823893fe88e76b0a272f2147d7c822745a7d5368369b70a667a1decc43ac57882284899268f567a711407adc777c8eb2ed32b13b5a13f58f75af9c8931ce43ca5b897e2bb3e8446c67f1aebd28179a8b2997b18d3405c8aa21095fbe54ab8af02681a8ee588b5b755fb0ec4b59ee798246c2015df8c2dbd4d39f06c67ea0572b239ec12652e0dba8f1d808f5ac1d658906e68b8572474193748763e4523040ca3fca17493438753e6bc13e6b208d1c1ad445c5d9984bd6b7e8bcb7b8edcf66ceabefdfee47ba2ad8eb32df83a2fb7f73ecb0b7aa2dcf5af1a8fab7ab4fcbd5db1ac8c3f1451f4e51f311ae2e25c2f8aa6ee8b64f2ae08428897c49d33f3bec52419397f1d09a2fec4b15d9af14bc3291776405f577be2f41e2294690b223646d2510ecb313544feaef935d36aecc22e0340da05421f36fb3a7a035abdc176c4e47c3ff0ffea8edb2eb5519afd54b401fe8bed3959c016cd7e4b4bad724b94e9ff812fc24647b73d6234b2836a4efae3e1420cfe5af9d8ac09305598bb1abf62b07f03fed7105ff218121bf5eafe6d826abeb23d7ea7e75749449cf67dbe3f7757a0cebb6004a0aa63c9a407bae8e5fee9d5c57afe916537a8ada66582cfe7a7e456cac84ad7d390d646d78e757032bbe94380607b97f4e291a09e7007e90cd02e6499a69655bb2f0cf40791028c8e74c53177ba4ef8b472dec86c44c37d5ab4e3a08dccee6af48d95c0c0e956220a08c32ac563a77f7e67f015826d6e32f4169c3dae5eddffd21935902ea9e63629d69edb7c9f8a755f8a1fc2c8e709fb72871f338fe51f529ddc73e21efb54efb5a1448d14aa8a0110801da73b56e56dfbdfeb508fa46cbd10fa98040040b75b2e7636942ae4df30b62ad1f1e34ba7eb7a0667f5ca9e51c8a1f294b38269dde40760d1abc8373bcf2ae16b95dfcd555d2fb98898f5d7eccf9699bbc2106ecee1839630a4bf647d511fbc220ed566e9fef4f3d4af36911ad8f2b96c324661c41ca8107bbc09d64e429cbed08b3b3312e07220191b2d557f4c2cd6f25df3f022530aae6846c0cb8a1844e572b280066ef1dae1e79436b8e800bd7c963f4c8ecb9f7ce84f44c9f5fa10da6b8b7dfceb3619abbd2666a9a3513304da35dcc78db77dcd832d4cf8cd896c3682e64523a61e795d51201f6a3c9103c7f0e5a512b7cc7cdc761756ccd5e50ae55fad16584e6004a439ad3c24c5e889678526217fcc07d3eb3ebc3c7cbfc50026db64d06f7f3849439e2e464d650a6a35e692e6a31f2b11081bfc18dd93c382227ff5c619e30bf1d5694a5846ddfe435ae8b943ffd910d92bb9649f313a93b782905f148c5b014f59bb2d2350f54e41ab7aa7ada6ebe2dafc42d6dbc5821e368922eeeb94ea9ee314256d1f270545dfeea47a860f0f026494dcdbbc7c7c39719464cd23d3c4c2eeb767eeab9736658035c7a02881d60c9cf23f055451c7ae5267952cddd572ab3874e65d89f068bc2156da6eab8d1566a343385db6a9022f4a0bea539fef8eddca5e7a51d1b4e5f486b7649c2847355064842dee30647cd7a8ab26e9e957b17f166fe1826f7d42f4b3c2d783e02fce1724291fb5b0d48880e383e3f8b26118b4bb8fc65d31dad002b01607737647fcb5725e3651722591ffecedaf2566a943ff18c0ad56a88ea4203c33b753778d7d30f32e757b0c990cc3e41d6be81892f697d2a2a5f583c500eb8d058484102f960ac844024e6673c276d365350bbffbacc0cee9f55f0ae3d76d48257b549d3287a6311d5d3fde60f15d3be3086fffc22d78d9f64704a1bdb21d7ebb93a3b8cc369a05814a5a6322bbfe99d1639ec333f3c43be23261268205e1c5982495bdc1323692933feca2fe75aca42a9ab5ef64a55f49ccaeada1631cb74f158a211e6ae0e865919a037b91687194f2f95eae31b5d7222df0af4d7b908a7f7a58be51dba1158faf4174e7e8457b60d4a6f70bd7c7d8ac5e865ba84408cdb53b6e915da2497a57459539bf555093d94e4a9e8d0ab7c6fdee5c32fb74ed9fd9f4968a19acf740e8320ea7788581bc455ad296eba8d1bf0a2ad02964813412f9ee7264516ced29b2ff90505f71d2a17bead24e2c8841e6e752e9c92910f7115905861947ca7e378aea144f1d66303911398ac6ae15021233bb59e873bfcc116a3959746184b9cfae0b5ce020baab14426552cd951e945a6adce34c7f5e04a21481f37c87d20038c70f2625da5b797a6ce225e7f2aab1bc1aed2b75aa58574cfa8faced2f619700477598f4a5cfc07c2db013bfed61f825ee992e54352000799976993e4205b388706e12988e10d4b39646047fb853b925fff496cafe46504d37bab788820b217a13befd2fa205acd20377f47660e58089d25d6ffb2be83c1fdd3d97738009a9d0ecadc8bebb08dc2e742c58b18e3b3ec1d4bba70df7feecdd44d2cc77d247b7299b82f51dc44f83881338ada1fc1acdc45e84caa2f2535879a31c898ab4945b446152f967aff3e4f9b8fe92078cca65934aafdfced1cc403fc073b321c441a5fcbcc283a7f16ca2e231984dba196ce2bcd17891d570f0635fda21579c91598b8c78595bde1777df3bcc5765d03c792608e54662f315bd5de2ce27c6ff858130a726a21356f9acd3d7091430cc37d606916d5c94edaab289600194a94b5dfd2259ac879eae864accd8e178a2f9d1ac9f9bd17224cf6bfeb9f0e64f5092c4b725f16a79a5cc4186feecaa5d85d59b54982965cab6924ef5c839abeb556677e3174bbe37544b2a1d4f48d410c68539c8c288d50690967bbc27141f108975dccfc73d7ff358d94dde7bb5c3b701f1b7d4ca9cf9a103a770cf8edd3c7a2dda10d3b2b8fb65c7f6e5d67bd160512fca4c20ea6ea7f5b0972eab608691de382cefaed725a1315b6240dde10eaab39376de80b776b4ed825f5e7445409a812c4a15dd9d9055f16786eac4e8267a5965c87b7e02aea9cdc1d571fd9f9306dfe38cfda6036fc5e49672bd63467e9e3b0d4c4a50c34af8fd40e01bf8f197703d208c7ca6ca7a38de844b29b1a223e0a0959e9fefc8d6602e5b93e974d96ecdf5e48fb1f560e83a9dbcedcfdf6dbc918759bdcfa6684b5e4cabdac000f99b7845880e07ababf2de7943b3b14a91d1972501e191ac92702e8bffeb7f2091c74716943f6dd5249af3b2a8d968bb9b2ea596ea5910707147bcc0da5984cee48faf6916838c6da89732c90cd0ed8c90011733aaab654ba82fe44359c0479a951c85d5142be92d4e413d27fab967428ea2647096f32ca1a26997c33a8b82a9a92e10e266386c432bf61fe6e4bbe5324460d1c1740886a799cc567b5226b6e0cff88ffddfc78114ccdaf1a7be81685d2c071a5d229b5a7a205aa1065b043b91b34e0bd74a41b4dd3a26c0e4577151f04cb7aeb9ed845c85fd84d146499929d8ddc23152e12c51b2d9dec07e796d69e40c6e477937083c81a4d062c6ce0cd40e945161282892900e161dcba3ebee0973d79d224635c9a909b0829b562dd789b1f47ff39c36b1219f9b937c629bff07518ac864b50f125178cb0fcc51d32dbeeb622aa9463be0e75ba2793242a46c0b6482323dc628ea3460fc2a7963a43f5fadd33b260eba820869571863dbbbeb97b4913032ef21440f54ff378563735cc95ecd5c4daadcbc49881a775b1eb84cd12566d7fceb676746da04e51a048582cdab7e135e9c8f9b129b232afffbb2b741e25fea12a199fd90acfe5cb6f8a9fa4a7d8a96cb684adbb843d431d44b254a90718d1e4fb4d8b871e567a70fc374022d3828f5a0699aace9fd471ffb503924d1f3c26f4dbbd335cc1280a9bebcf6cc49591d6803fb674bb0ae3307fc68e2d22d612939ffe0cec0f2d4f26413c98555045e45f82b52b3fa1f26cb393f0b4218072ac5d0d7c87b56bcc0d9094713a27b7e5e731f406f6f7ff09427c27b7db0088461b9e2eb1a80f051d6eb27ab30b958ca6c7ddb2a74e6f9e301b2e3a8143d9df1c32fe6b78444d4cdcd37e83c957752e3f81f537787e45e1f4e48e095861d0194def74a59861cd0cfadf0455cfb0a698b1a3716cdee386a5b1521f12f7da131f1fe72bc56c52dc1540d1c088eae62b3853dc8de73b11f8b269e7e92ce22f7d564b4cd45399f3f21c97d9d1a5c4fe7812724f059559b08dfbd6a8a6aad3f0747c940afceaae4b9136459d7aadc0d542fc1c6c4c887098eaaeefecce1d06cd7aa67e33a28da2528dad1902e767ce8e5461b4221beaaafef54d385c22e18017278ff95b463d1bcb53a4859842d7ede7e82c027aa297a2f1701b156c9bf6d6adf21e34e34331b4251c7a7932d0303d5bc1f97bca9539961e932849139fcad68b54fc76daa335cb8b52fa049fe29fe12efbda1e2e1b4c872923631fa17d387dff73986502827e36fe0708e2c23323f995c152bf40f2209a64e4d04a33e2f7aa053a4af1e2847fade7d8cf5619a4b341639571beff6595d52a6b38492f48f7d80aac5bbe6f1552023b9e1fffc3f356ee3e04b0d2cb06afe25eae85380612b093efda961a1d5c3c9ab9cc60d5c3639b074388cf14a1cec988525789aae1976853276dd83cbeefb821a1e1aad8f8e2fe77ee007568c1634e5425c9e94be3dfbc189ed32bf0abc00e1ccc13aa44915b0fd662968ffaf98769e94fb7c700df852166e658a8f8d4d07b1ebe792e286545586f5efa6298a66db8230f1455804c6cf53acee393e6618a4eff6e794197c4ce763a79ccf7b57b311691c1a0ed6aba97084559f699d0def0f47d29d57d88bd6703fe5d036129e698bc471702e4fff6f60d9111caf29b32174275fd4bc4bcd86e8408ecea5893ecf5676f7db758fdecfe4b8ac53c605bd8372eec7bd8ef016fefe61f9ee5528fd916877408c9d6fbe4e30898e2fe0827a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"26fbf6062021b871f71df66ef2448885"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
