<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"97648cfa6b51ba3a9577b1a6faf87ac6c97e48b36d5887f9889dc6b80c8f2093ef25613b83f4dd30ba4544c91857cef0e90ad981b214d32dfc7a8df20515510e0e36bca68c993ddf00da412c5a857cba34d86a93c13c9c26931926d13b8931199561ae184e8cf6822c7f236bd40afb5bedcdd6ccc64d2ac15eade30c7299fc89f6da20436c3899978e238124774bcee2af59e8170b37d4f51ead66f241b6be16fbe9d3fa86fa51e0d9e8c037d28ef149e1b39f0f89331c67147b8cbc3b627a359ad554381076dacfecb8f64bd38a68ad17dd1bb71529f45e5c29e915c69151fda09e26589534ca036cb0f5aa90d2161860f9b36621b1440a5aadd51a4530cadaccda658f213edad5b15f81664d9d3dcc5d830940917f8b5db46dad2a29e17176c8444215f4e7767db8ccb8d3dc09e3e22298a2e9e66a008e94eb409d3224d8682080db52981a3b974d4a0acd2849bbe9f9eafc456cf740a1a5f0cb1811b4703aa195d228e99092740632440ae50279518485e8b224a98dbc875cb698d7ce30452c9ada2e21309a0e4e890dcc9fb55d91ff6ab2a9dd05c764957975752f243342208d96db821caf94674d6c4d804f90c6157fec7f9b91c1aeb700e37a11c00a40fda9a316935a3cb4ca8d41cc384cd648bd877460841d97a98da69a0f23d705a4ef6d82853d44be1b306174008d332d46babd66e9106aee67a31674a762cf40cb46e08f3f1a43dfacc75c59360235cf3280bf5d6db48b0e5c015ff529b867f08a5fb3027d315726fa01102e0c9dfcda9c7856c19f16392fd7037f76931e275236531ea984f453e4007455d551085091f5c5d2ed7c1057bba1f1547b0f2b8a2b1739090792aec5e38f206c23f398e09abab4935c2ea57efe11183aa801b24d8c3134cc31ce87c0a6251e498846f2acbf1d74127e2eb025fd5c9fc10de5de17b09e946893e2c6456a81b01aab4f7a17138ef471869bdc49e93f3d25b562db301b5882b623adc0547fc594356a92e7253118d9600d71e844bbcc9b72843f36cf2bb68ede4127e6620b1515e08856e8ef7657785c1aaf88a7820d6761aef242bbec77902bbe057749b606d68a2a6ef0d21e978503464e57304df36f727bf3f6e7db370d876440c00e965fc485ec8208d71af3da9e7c409fc91ad35045721e76c7000e296b8353628ccfdc784daf4c2435b3bd993e923e9a0f8392e9e692d93c85d08d5093bf4c5e7bb2901afcef0f2e8d0307ca11ee90e90aedd8c390bc2238e54e37ec0d6d4856661b292442b3be4f3905295fc02ba71b79114148826463dc8a47576a34c58aa96a485b56440c8a03271c227ec6bea68adb6f7247bf0ac3460c0e5cf50f93ede125088053a16cdec7b2be2dd2a1dff2e721d9ae8e7704ed3995bce0bab072ddd02ecaceaaebdd8f04fea5be1a534ee972662079aba900391fa535951fce3f07557f837ff9c6222db47768f2f76f0110573639c49f7ee5f38aef6622aeb9397b885ca21a4a73a3df8dbfcd2e387a5c5569ac4b687e2e600ab809872121484c21d2fdba0d31a4a91297644cccdd39542653b0d4b88c22a65f312a7f5be76c64e4bbab8b903cbbd8d6038955eecdc8f00d056c3e33955ab913caf42e8ffee671031ae496cdc12b8ed62d78167a9e58ef41b9b52f9500c97b1b2b2bdcf97a5f381df694ac1101eb701effece40081c502ec6534db5273a5bb855714cf9dc34055725603d72b969b21c49f44809a5dd7a72a5eece39eef361005c78cd3da3e1b8b581c3871ca42ca23a6c22749004cf8d2fe7f5c7f81c412fcf9275293ee1e62bd52a877c563fb50adfed1bb8ebd24b2251837356def138a6be3a44f1a2db42b5f4c61be9ceb46a8c0a3d978f9c05e897249b62b7a7a715106868c53654a0d2bfb9ccd098b960ed2c7fd378fa73f861b85af78c947d82bc4a15a0e965abcb447adacd9bec7172b4e82c35a7c20522fb8d2df13df952a528a37d531223cb46139e09130d57e431e90d956a57924429675aeec128725224a1b076b6f4054cacdb3cab02e972d5ab7de932b871ebaa4101049500c290f32f67f5d6fde91b6beb00ce306034727d5834591dbd3b2ee629b256bdb7357e93f7cf1a509e8e3a1d2476b740de65867629c94a7c4dbe82f887b6e0170e058b0879a5fb2c57335bbfe1bb428f6349aa695777115be897af038b6c94dd0dc005ba511eb9d3a4c86a51466e0a1d9c2a5709f8996b887fa0bd29c93e6cf2dfe42b1b59f3777943fe7e0fd3ff6ede765953e6878f5596f2a8a5456f2f9a1f98eb0570c716141c636c8ee7e5ae68cfcaa064076f011e797594952abc94cda0d2202c0e01035ec4ac365e3bfd989035996711190fed1b0b6fbe57ca509857934fa3069602192faf4b663c14e0ded577fd79313563ddfce910d6d4d3cfa2be2ff43ee7f940e5ac859ff99847772b4f3654d174eef6c70500a3a07641df06c25b8db202dd326b0ed8e51252b24cd3edad31f4669ba90deeccad6cdd4e0d4c09dd8fb8991640d8b3d9508268f1c660b93a936718dfb0288b1434e7cfa50abe20695bec805e3584b6d97ae4462a5b78195cc1ac0c2d945fea7a3b7811ac15b9756b71251fc91e54be4d50dd554fea4c0a329dbcd432badefa4c398b994d482084c12bf541aa8df5320c83ef525e86255c41de1490486842ed7d99d4ee5725f046a293ecd841dd04b1da8dbbe220432dd8313364ee82e728ccb6102dff7e70ff302e6eb2fe0ffff0c450da12532f76b04a3e928fd553f42507275480d77a6a00551d0b3b3569437ff94f6c798ecf489599b8abdf2237a4fe118598d39e7715f87b81787766431b2b050afa1ba8b035aaef5f6c9533dc7fb91453a3405c66b6e49926059cda41b7fecf2e79aba398f020c7446765a8e3626bfd75c4c4d77878e615795c145e16d526ae6ef8cbe7a85bdd83ad0b6dfd010ec5c892e281c3157d575f248391e04a49543547e43a068ac9b0bf02e231cae4bfd59be0c51f3eae1a412a83eee151cba9cbaaafc665c52db1efabe6084ffbc3dde43e37005536a9f43c806da80a5ab096bbbc6380c5be17bec68dac5c346e6eb7abc456591a7696f0d73606107126a56b1d27d0c9a38f0c0a3f55089f8ddcdaa69e541c890ddc3058016311056cec0d066483432ec984a0c51de8bbb938be75e66ef3d12a6b38b9520414c9930cb42ff195b3af9db237bfc106fb1af07013545ec110f0551a7e54b716cfdbc3f79d23f23be9eba5b637ab2161afac631384ce970826f1becc10e4b101904f6fb468ba0b20704df4eb1e69e3fae4f53d2d175d593a510fa2cf17869993242b979ec729df84aa20fafff45fa4c95096ac5600436ce92a712bbbc2ac4f475c0c8b8a7c5d210d5ab01050d01817be10ee79b87d868596015bd5d1de24ca8a6e63b81d80c75c073889185b07410d30415e0b2d6abfed637a918cacc1af4c909e7ae2558d170ec2e72c1b1e6b6c2c6f8039e6759924637052b871f4bdbfdb4e01518307077a1eb34d7bbdb2afa902dbf5f12b0ac86d002115dbd8b18ff024aff5a94360a6130eec6cf85694ed631bc02b58326983961049a0f447b406c71202a7f8ad0921257d953b1e77c6c6843e49861f60db1cb8b46d8154fc8bde4aaa85fbd15b549af54b641065e5e5f961585ab36c88c4e079e768dfcbf2608512357f5177eab181d9979d0e02c691dd1a7e74dd51c649da63c7b6547afaeff7d896460d26024e399ce36b4fbbc0aefddaeab6b908d7db30af2b0711995c1f046ba9d61174c2df2610b2c9216632ebb245c5194a33bc44fce0fbda0386ac78871a2e4fda7c18aaf465cf1f335bb15b1e53d0a0309df53a85b1cbfdd59aa8502b6695bdb7025ba5e9f86c7703f762f0a6f6a08686bd07c46573304aa56a72e45c19101afb0f52edff597dd10a5940b0a72be3505be22eae5fab0434275a9e6c4924d4122ed4643566f8b2cbe24b96837076b7c9191f10bf01a509fbfd3f6356c48b2ad17f79b9f68fd69f7d7f5d5988a53e2f74904307b515c065185d4d40e9427eb85fc50159cf19f9aa384d0e4e257f7be3dfc83c6cecb42efaba86cbc3a9120f6a753c093b57b9730c89443b85b7b41e6937d2c7525781b88aacbfbeb82a72f11709787bb9aef60634f11c328eadff0e45dcf4b0bb0a1be63cde5a5353771694577164ede95ece2265be90a3f6ac48998c29d0295d7a17adf8fb6df77d5d0704f3b2fab934292bd0af65fe632dff9cb7a061a9fff5d2cec432d8f9085dd16e8beafead084a845a79c3734dfcbb9943c294805f2caf9d0629310d068da653185cdca7b5646f7cf7ce81be576b6cef04337c4d225015b133f4f45b0c1ee858ea974e1c012f4c2cc03f75352bc58c05f0827908d6b864dc97cc0d9212ac17db2e54cf70a8bf94186367745f4f593568e3cf6a8c641f3543020cb07bb48f20e664de45cfc7eccbae6103f3fb1f9b95ad085181d578e2229e3edcf9f5a47081cf9867849d8fc7179e65d3366c3c9c83696d3a711ef23270bcb0fb78fb30138dfadc1defe920c8a76a43170d2af10c3f5e95c0d0dc6433eaaebaa8e0a3fb51182b4b647b59059b62137f5c02ce4ad19fec3923f235ab580d625ae2c38cc232f09e67db5a410dc3a7da9deba991b771ffd1de1721707a82e1e9fc96c83979bc90dc8de8b7a29ae6e3ccb17dad5f2e4743355d667c7c849aeb9ed65a8afb40d2e9674ba3a3bd45f889485d2850a2762094ffddc8f25227d91cabf9b019144d15112ef00637b706340791a478e14438786182eda9b49c11c952bbdea0133e6c827913441df75d4da2572b14b9cc9b743b12cca1017c1b0a036a1e4bc1e7b0943a4644cf5d0feed7d28c7f7bf73c09a66194bd816d04ef388ec187316e1c1a669fb91b92242ce55b3d9e64c2c4ce16ea2b22e387c54c4fa1feb0d440070ed69258b1ab7101c42ad4a33db1615d3da650a51833fb001d5c6089481e03b850a48ea077f422969d0c710e5a40d5eca76680082a0602d75eeedf22a0cdd68568684c4fceffb89703aae3951f18c1de25a4fb9d4da748d1a8ea5bc8e665f3b2042ae7cb9bb4707eca980c6dce09e7c3d4a4e6ce17e1af53cdd0de9aa4e98d3ea5f353773669767c7c0f220a8f60a384877f24e5c45c2c41dceb4ec5ce28bff2e12b20cb61b07efa2144175d9c41fe8573d524623c9a420b41e8cd22ebc08e3afbe616c69e6d15867e327ac5e6fd8c207f5cf61d6a6b01ec58fd09c48a42f03e3000358f2dc915041d2e199162f1d35f2dd0985d68e8da0100232a99d31ec14410b24d993f118772e22802b1d052fd1e204720158fd71155846b11bfc5e1dea66a5081d0c8b5ca8e7b1a7575c3b0964954813a7767d3ac1df3be4da87ae43002ac66df9459a3956e94acb857cbb39181431aa704a947cedd4ad7b5dc4f2844ccd724df8423b4888416314261fa8fc2176e32dae8d8341645b1bbd53f15fb68c7dc8aaaba9dad90c30516dacdd024d243af34f09dc9397dca7552291589edc864c4861c13a09f7433ea9c03ca4a4d103711fc9387fdb372e15fe34138b13bbc5c4ea1dbbd41180a3337568e0f18bb142d9cc25c40dc22a9090bb2d11e11520dda7a9ce7470a91f0fd64e12780eb2eef2cf541037e268d0b50cb08ed38f4a2fe56478589f96a61afb9c0a82ed337538d6f9a2367de366863b662b93ef70007bcb196c2af952e99706ffbe38d863650134eb24bd844835ae0764c5f1a5d9b7d0213030a524cde0da1d6e50a9ebff45f02552b68939f3be778a7667b99724af820c61cb237a7e5e17eee41481d501d00e1ced83a06a75b11999af6cdce6b3c5c12a2842b13edcfd79bab92b5d5ad5627eafa783101b12aaf6196b73d7b5875f14d4064991c60d55828a1e6b7eadf210193d21073e01caee88c0fbdd0d2d712bf91c909c855a2490b53803c218be958f40e131a213732c99bbf698d746884f5612f898a378dff0e3aa09bf03ffd747d426e282437b2c8323894a611f4dcfbdc6241360d6ddb4f8e22e2ba7d96aed1d19bfcaffae822a8c846b8e0d8b61f52eb44199d4554984511e642e994b13d7455c2938339ba5c2127c8425247b24616730b9b3a7e608144031d194aebfdd141e0f2efad648b468923a6a325bea180989e61e156379edd9b5329b7177fd475288db7e4641eddeac96c2cf06b26f33e60c9942a5a702d819b9554a4ec5717d58e4f350eb3588cad1b6b8086c936b59392ee6c86d169e931c66a734ecd489a76c06d5a6f50d5b22c1fd5e59eb20e4246134b7e3ebad7ac8b8c273580a205713ab8dacdf80eac9bc0261db8452ec712e6ca90c5bca3c6cd4dc693f28a28ee89fe031a08e55b1f4a66c4bb62b21b81d85d78ab2595f096742942ec579faa5f5d245127d42c08684728a1501277fba683d4f36fc8d292d98a510edb629578af65f84da9f1acea71d97ecf7a432627d78d25692c3bfbf78a310cf5248296c227278632356cdf2ea706643cff794476f4ebf78ada630abc5266b1d3fd8961e51b4b984accd232ee5faf573c5d5402c5834e2c706533e8898775f5e4becedb3cf7a040c3ae85e5103eed57dcc38230debfc5642d6506a26b8e8894e7e0c0dacb4ca1d76df5ef29f963e4831e2aa0ad5dd0524f68eabee3ba3816f54c8190df409f1599576fded4cf1ce34b1c20db24cf37df20bbcef62f4cf8a1cb4be7e6ebf0fb9612543d54abb79188c2a3accdea162108e46367f5a5e09a0a3f1f063119061383b4a246d04fdf7d2760d5393af64ae4f0c3091126de3ec0f1412f5dff3b48a441815b648a7ed4b3cf34670243159d8d83beee39048e6ece745486e0751e398fc205dd5d52a71458219d7d523be13fe9d7d35edf800cc6e13ae3b0c69c5c55bdb1a80b591ed228db1521a2e3176ee7f316f60f5ad2078cdaabcf74fb13f54770a2652593d888302c6128d58d07c7d43ee9ed0adf1422e514f586f44ba36434ca2c07fbb3e737ab9e2d4c4227c016d85592d46fb2f2933f92fc9aec54bedbe98a86297a7d24452674deda211ff4f23a578d7e01d24812fba8bb5bf89612d981c390b75c08ee08c0a88d9c69abc8c760cc7e9ec6f9fc2f68c1393b74d7ea9f171b23e55899e11d43b00cd1f0261a84c4c512c589324afca2e0b66f60f9a3d345210930373c1dee2eee7b5bac7cd2af6633801d835154810ec9a5cdbcbbc8c81d40868aef4160f2ba0dba52fbd6bd51d8a57ff3b4c61ecef4f8c7305ad26f2c37ca5bea6e9a8f4995b5285bdc933c045763eca497b575f5d782a23209c56a4212e6f709927525f1cc87f070b7f2d6bc80404d5feac683ba9bc89f5c22c1cb476f18602dd1de453a7abbb2600ffeae96d0e6449c886412af3d89dfc73f5b733b12a987b5c0300b814d5178fbae2391af025677ff01ca27f4073dc1f1d2eee9eb91cf1996d45c1256b64a57ad9315752a96d7f1d78d60c09144902a9b64d72b1e53c3e5127a94fe67c4214a6ac6b9f9877b910f05e734b09d8298810a4989adc4aa20ab5be2844b0633a32f7278277dca0507360f76f23a1078a3fba08c66ff752d445962ea222d36e31d0e996c52b086f0fb16fa98ed27ac37568d7e125e32f67a477fc378614bb8fc71fb5c2f2602483b3da00d41a4ea7d0663d98d7b57db7cfc6b1aa1f722eb9082664d372ea147949016b1622a7b2fabfb875df15d56070c3a0ac93328c3579f404ac7b3fb58fa252c7f251a1f2c3f93d25d2b81af1096e0aefdec3240deae0c2f2c2ae25f3533279115a2a9958b61a64b218c32817493ce61814ee1a138288dd779f4ebaff0e9b9bd79ec0f585847388c7018b96654bf97096e9a09e5842907d2787b961a14c25655f8a506928ee8993cc4dfbb4753f00dc4f98954b545a2ae7b0cc28ea5077f8eead70d2892686ab3aaea55172b6fd51a7b1debcb16ad69f1854b137c851f190117416210d4f2f3f0fec9d7b25c97f0098c30367cd45971823dd416f750784d002a3915310055e092ea626f8aa15f1573e52178a4ca249fdfaba17dccaf42012a12283971ea7185ec3dc678dc3d432d553cbd6c74273d4b70d529bed76b03fb8ddc9618994cadab4f1e81f279f09883ee474518a2fddb6621ade9403d6de833e5bec076684300d06b312747af620b7d17975915dee275adec403b4a7f0f4affffc1984703cf66a4b3426308dd87d3da96a00dce3f6feb3bb6018b1a4050f07e165b5326379385fcc2718c2de7fff9f8f730cb97dfff662de3c73efa0ac028fab3435a95b22f47645bf3dee917b2a469fb144b9f9d0dfddcfdf425142ab1e81798081119b8f5b47a4eaa35516f2f7e4da6d897fbce6389ed389caf8a77441671a422a6467a9c00d889a9991d99d764c97787560b7ec67f88d441eba452802af3bc38bb8cabc682786b7b37cefb57bd87ad6e45aad31fa92f8457c62d29c0fc5d34e99c4cd24682845c9635329a2e7aeb45134b6f9693bde8a251e47d2aead5a9ef29a6c09647e7ebbeddc5b2f6e2d6f7455305e6f7ba41f7b85eaa4cbb9d723614f41c6b5f5a87ab24e2a8a1fa0e5de832648bde091fd898e15a3f5a23e2c9904b67281c347eaa56fc4cd12bc0292fad3a6fc22d1a8a96089febb925f09a5f0b5856daa8d3d6a74059b50d20ad1a02f333fcc0a7c5bbc16da94e0df9184d6d670ed58c9aeb43c4e69b80ba817b18a79a57ed2540ae7d1e3c7f80ea7f551f587ca4b6c9d4e6e867856a09333ed08204e1e9cc83b72e5e128b18f5ae8fcca18d7b5ec042ad882564ce9b7ee1daf6b493d88f37f7ff02c8d20e6a80454b30dae3956e9704297722b728b4e3fcbb7a2b623da309c6ae75bfe1e14780ac572ed646ecdbe86d7f47e47110e62fcea6113a74e1ac603d4b191e13689972926767cb0faff23b8c970460f28c95ebdb1ab5b0be15599b2dcd1863fbd64a3d9fae6d58be1ca935b02b77c7ca03e76ab3188513c7082c2e5c987e9537ca5091c3b7c87c78f412f5abbc2bc4d56a3464a7bfe2dc38c40fcb32d60085b615181ff580519197d6dac7336692fdf2b687fa4bcf633513e0ebaeb147c75d58b7ebf19a61609e4a0c5a15f0100c32c67f87795c9b21beac593499ef268e32e1b6c95ec407e0b53ac14eff72bd97575720e746520d1a5d2e2e7fbaa4736bbb38535f023c85c102c3777c2c4f2116437249fb35b6267eab632aae04d5a406fe0a8cdae22708d226cc6a3b985e7cc7b7f72afc77a1b88177e945f54173cffa1c113f3b93a622554a1c8b485d50d11b49b2e16be8f3ba0890be4db4a92940b36f240be65f4cedbdadc84f570bf5142a8c2262bf0101bdc25d40919b63d6fe26964b121bf9472051bd09d5ef0309bbe12e5fb08df2ca89c7c1544aae46edfdf20248532d822763a5d4a44a6f0e97a7d5357ceb7ba779d46b33071d43d6c54ad35726028ccecb15e712b19b5ff3577628b3ff692b43118c61e614b8900c9ad21385fe6d96add4ac76dbe4a833eea9f4c420f991afafe6597a310c7f3a426b03e327a355389eff996bae57f4b351f12d3e78697a8ef7d0ccc2b58db8e629f115fe59800672d199538d97b55a0897a263958863fbf0bc941ec098aac59042df9e1cd53f0587f6ae4b37f33d173df54b8fda32e7caae92988d9d43bbe9b88030d0092192b12500bfb4d85e2cc50110ac107a5aa7a5d4bc0a7cc13ce6b40a8934d6e1f0b0cce7a0dc34e68b17ddb25b021eaf62b1d0712a9ebce587f7dad363c415995969673994cc0cf532613f96d9e4a7466b960bef5c22d9324f71670f0468c6e5314b62c92cdd3d46ca7544b90565930f2d74ce9e3bce110747ee4b2f8bab666198469f47afd9b12f4de55d2e7f8cf4d0920c7e0f471f34078cb868f418150601bb29cefbccc852b061cf844e92f4b2b15fdddd6bb09296c7871a4330e0681401b3bb945939a0f1e90c87e58aad705fbd85747d8f0bb255787379c430e59025fc3958f79ff004ebaf4f5d1758aaeb6622d9edfc0e288f10a7c90c28022aa7b91d93bb6d388a4c52ed33c139d5501d90fa93b5fe53c194e108e9eb95635a3231a4f680ad92efdcf568fe440cecec688cc7e718ab6a9f09854b89f368a929da478da46bf8cc057e41aeaddbb0f0f06dfdfd3298e366ae1fea813fb7b28e0454fdba84599874e327dd7e548ef1d33928afc897d877301aa932cbe97398a08a1fe718be1093cec1547b27ece5293050efefda78d304abee17b093cc76dbbab91946b7ea743cf32edec9de74bf7ed4592d7a1679a828e6a59da3d2596ecc392b01a740330cda762b2b8686628011c81503d3f30db75cfc8f500e8be30a47b6397d13ddea9fc5690b5f6df70c7af3a80c0843e9e8ac8e78ce4008eb88f6c4313b10a9f692508b276a743b7cb0bed66490a12896d5c770a39f24fdc573cef42c64d5cc34aaa3a4a10f35e410bd1669138f3759d4fc601bcfc393a54f27fe8d2d1c6db1f73c5e3900a38a41a9b55ffef0e337fba59040a0c17090d5393c633274abc898db06b4a7196da7d1b7eefce3ace65fa4924bcaab0e6ed4c5231eaa36a72448e8eee6b8748bbb88a4ec6da217e8ad4c63191c01d563dd4747b12402ffc2bf894f22b1f41a7f7b9cf70a712dca9109eb66ae39a23b59c57e15722b01c78bc7a47c1ba819672304776189f1cb2d6af9abb8573df4d1f9448ef190c72ff4501713669b46643bc6361af8a0be7d31191044e8f051ec4aab8e5be45036f7bf0da82e33c6c3ee1de25c7c0405d6e17a46263189e042cd33257d8b8e6eea4a27ba8840d09f1d5428748b53716534f88b6303daa717046b8948ef662ecbcd2578cd862b9b90541597a1a91fc43a964b51b77bc2bee6f53fc35706a763e6212518a91397041d330bed36bf673897436b9a57fa1e3ffa4488d17bd6e3564fe70bbcd0609a63d44d355e9a160c069f60e0249e3628deb9842b1dc55aee30fe335f8000b1a54b934a51e359d63c2543b59252e8f565a9e11676bb3a50ddd04e9ba8a459c834e6c35806874817b399b2dc7960b1bce5b8fadd553b01b780aedb9aa6549ba08fee4ce048fd31006c69949cc7a272968d96886e4cad63b7aa1896a73fa0056f821dad250aab52bdbca534c003e6a4fa6d5c240199ecc6a927bacb92c0eea1a8e52ce39442948a893a81962fe852fa245dd48dd334ad4ae9f633a4288b72e7126e41a3ab9533a3b93c1719e5c6733b39afc4d91a237625a008202f8dcce5f5ad83f08f2c71368db126ebed6df74c4dde5b80fdc4dc55fa8bbae756b1f2af1e859bb1920aff1772a64b58bf1f0f93f3a80df68fd029878e703b90b127f9f04b1fda3357115dc77469a257d13f7f3910c85416cae6eb28a6bfcbd60da65fc3a202db9fde79a6cbd34594ca04eed4a58f1953d0f4f890d2c5add7d71be49cd83c132abc5420f26dcba007e7bc6e23e2bdd742c5467386678dfe887ad47ba2755f013afe7223772c1ac9c8b39297a12741c418d023ccbea0f6426e6f8d6049a051a0e64b20d0e35d3add536fea5c6dbb11c0f6b7345bb2d1e30fe77ffe627ba4887cc47380a85185cd6e4e41cc57c1c97d108e1107184eb3e06f39e9f093ea3d4c1bd1eea3c44bc52ff91cf090f701bbc7544b0c7b988eaa2fdd6fbd2eee960c73188956beaa495fe2374563916645f56704f531a12e3cb2408d2164102440b84fe10b4c8e26ee165a68414e485610a377f3dd3160d20bf3f534f003ba034b1ed7fbec76b8a268211baa243329cce7a532b27535ce0eb75da80aa390a733ff46c1d69fe1c5fab55d1abe879b9f63e9de9f2f587a5ac80dee83fa4da4bf632eb606bdc07553ff586f7c8d69309ecdde5de391deb7caed212ca0b3463762f873a88a53767ec876c23ed7c1f146b36c653c84f7a27e021ad81f8c7266b5eb856fdcaa742bf5b3ac3ae8a35c7674073ba9cbefaa0b566f9583f8d155f7d1090e0256ad479991e4b238ccd535559c78a914e18351d4ec013536029f2bfa30801537eb09a68418621d895719e9aa2b09fb086acef4aa4a6152c6fc4231090b94dfbad676caaf78278af8ab1a350a03b5eb28cc29b252d1037ba389bb80c58a5a163d8a5aa031e9e6a37139fcecda5c086f58e4bdf7c7a0dca3bc2310e79739440fd21b5e6234f471b08f9e879c6145080601dc047cda5c0f96c7a99c08f727a0478696260781feaf9acb13a41a31b25091fa830837a67aa6ff5065dc26492640bac74809f3a119a3a053e681621e03d2f8e9b5e0506d169390153e665054bb942e9905a265761ed0d09e54e7181044cda566cfec658b0b499d2c8ab7d1fe559bfbc73841d79c5484a42f142d125748f29ec661b30a28e5ab879c85469c9467b121bc55e7fc77db54c6d33ca828de029ed1664b7152f39dfc491d6f2720d11da8b9766c709a25e1e3fcb691207c3903b31ae5c13bdceda0f93f2a71112267228de4a62d76982fc1aa56f82bb60069dcc0af52af2c6d472a1c1bf1b4d26b6363c679dbe6c99f920803bafb14e4497d6e798ac224500d6532c1b30ec108e90ed5fb6f7ac0939e76d4ed659fee0fed0da645c5e0d04d490e8a2be1e0f46f84b35f766d963d8cbc202cf585eb09ba6b0d00def825f7225d23fa83f09f6cc00ae9d30e3d318749ae8f77d40ebd99c0a961e509722b7903fa778e7fa585cc6c9ebefe17b93c224655c71f9d33f7ee2a784fb55e94ca526048e3646e5cf7f777515761850d540b97f9163b9975dc104eb3395b0950cedbd91bdfb6f701b74bbdbedc6769768426819ca100c7b35aa322bc2696ecf517cf828b93155e2afc9ba3e821860d963ce425db5ea9eb0e9ade675c372ff825f209c9d63e67982492c4cf865e99e2c2c82cdd863b481c046336b808dcc1c3cc60ae1d0e1f91217c28f5794470a7920111ffcfa905155d5e59e378429393a939e8c25d508b75d0e90c280b11c21e82677019e4ee2d850ba024191d6f111572f766fcd33e5d87e0cd6e360f62a4324323036180d659278d07746dd9a6776e20b3af9a7d336504fc66248d77e39a13ad95d4f2e3fb5b443c7473ad41350711bf9e62a3980370bdc2673439253e392d81d78f0c49a993a06e6d4472dd6faa5dbd02dc3c5d79a7da2756bf0c96bc1e32ed15c0b9d74769dd993468897600335d379456caf5e8612eb62f19d1d99e2c2518cd7119929e6f386496a89a9c7f517ca5d93d985eb24e78c688f530dcc652f5fa5c034d1089ceb1d2b0c7b0b2c65aa689cf2fc00ae8875b8c4dd8694e93726c0bbc27c321488973b4c011974b1ef8e64f6c534bb609854a14678c788dabcc79faf92395192667f18425832075e6580534a3074630588cc5694a4402ec0c92b235f2a4d846423b299a9d23309ceb10604cfea571b7b26b024c3ae8a5290dbfa5048e8f9265b3c30b5e8f1a211d3749189f4676ef3a2745bc15cce865d497e4b6180df5b1c584ea01b84e0d87b3e9618ede215f6e9ece5500897172fa964f420e6db268271123fc3468fe98a0170d272a593f9099ef34da6b797f4a9ba5a3eb5ae902d09d7ed764884929814150ec99659f001e86c9b05d74d7419c3730f409558dccd26af011ed4c6b0c7adcdbc7aa21050cf0f5225b3a64b810fd953e27eafe41640a9113168e7e09ca122c36e0db8e2add724e9d1bbe32028f9c133d35521ece1ea76bb724d8b535598f77c56201b39d57f4b09f3258f6dfad9673648369059bd31a3f1af9f4ced0fba88afb9ac516935c2f6fceac83662b423db528ea809306b7f2525f22d229bc5bee3e172120bc641079d11fdce72e6857588d98b3afefed28faeaabdd2fbe595fea633505b92556405c1dd8f71f32c926fa6043bedd456b03754c7f3cebcd32df81d61a640c2452112c5f246ca7aae95aeb0e6f98a94e3240023de88606f4f0560c9ff626cb1e9a706eb9ddf1cd4a3bfbefd3db8274bbe7534f69b18adbae4b1f33b854e278797baeacdf69905cc491fc5b4e6e7faa875c3650f1cb9e6c882f032d3fb414a135f9a3a4e831b7e0d200dc311f064f126e888dd799dfdda6add9b20eea9509ddd59fa4abed506e3a98e12352812cb82a629cbaf94effdbed3c1eaa5ba952b77856542e0d03252473153c8ac2f1b2dfe70999f20f1a4b2f997482ec6dee894feb9d7cb3315aec6e8b575657213b60bc31bc89b99b4a5ef42299eb213c6f315b45b97acc5e5cc4324827e1448e6041b73631e1a6c2e3c92212201873a00448813f9d73431b68bbee3eb100672d103d9dd6576f99761c014fc84bcbbe95853d98550ed8245b4e1211b42c312d60ab66cb42bb4dc08203490d99ea4bc8011a74b06ead0e40730099fe2b7c1ece00531e354a3c58e74ac14d67c4360c75ebc0768f2b4730b93efb1babf6129d9fdb5ecf6c85aa889e5ce84c010495927bfe7f676433c28f7d9ce60ce3a1c8305965582b2eec25c1346ed946c6e42235c7ad79dd4ccd6ac6fe67ddc0b634228d0b61563f27847d8284a5ab55d9abd32841ca62ff0ab42403271a9ec11959c240eac8e9df9492982b3814d892433f6bbe96ca8113b59242b195f02c17777187deeb198abd86086c06cd3c0a4f1d7e858f833ff59fd9eb075b755bf1c238aa758286ea21d557943cf6001372ffdbfdfcd5d5268433739432e10e363f5334049fe44e7b5179a5fb8cfb155086e5c7f27b79361d14c2b8c46b996b9234dc2a100a2db5d7e1d2f5e5b05bc07b00f21738a0f308e10f5dbb026a5e36db29a213b7dbb2da3446b2839af4418b14fd15e56cf5bef2cc291b7891337560c935b81d19f5be4e017b751b57a909c29b0d082da48112ed9d7b2ddb9a68875bf9b924978f0951c29fcaf0d12e559525bf6cc7969e7e2a59fcce9896436b3a6befc1a8c2a3674b8432847ec15ccd6ba496c6d636d94d43a44e9d9fe02422530a6471a34dcc30b4930622221788c714a9e14f5f47ec93d6ffc4aef8049aa362158457e5ca54c36c61aab0e6d251dc75d749c758141888a39ecc3e0e169471b1add8a1005cac8ccbc494172ca2502021f05f32d9f64764f26f73ff3643574fcd8c99c53cfb23df91a9b6c6ff7302fdbff8cbb9fcd3660ddcb37eed934cdd4e8d7c9917b0ca070ef60449739ec31d6ed2a7f0d38a3449cabeb4b31ee2bda3159ee452af7490d6c3583c3e39e1919582253ef8904e8b869bf464a92cf85d89b60274328488f6ab403b41a9b3014a1aa7ac5230eef0181378372465569e6335e41233f83862b00c7acc015e7955967ff2da7a43e673570c0d62ca507c17f6be3cf2b2baa7b188d456ac50432f999f7dd3320b76d10cbcf0a40b63423ca44bc8b8390d4c3b40b5512026d358573e3f92727f93708c2119e8535c6f2919c965787b1b12093f7bf7a436652e77525bc0a24c6611548e4caa582a9f5790e3b7475aaed9bdfe32a6ce0064db9db42e9081b8fd6c08e19edee1f76e67e18513e9201f8ef3ede412d224eb5723da7d2aca5750d8ef91d9f74e5c20a6dbbbfd9dc8b5b9c7e064345287d25a2ea58615443dc62e1ab804edd49847deb3ff51c96b363f31f2e12240b26ad3f67bf4a00ddaac7e9108b95936a8f6c0789d4e879344d889713e658b6e4c6835806b04f0e843bb0ae35adcca8469165a39f6c2f15cf367d2a55ea81fd693a099a863d79812071343accc353e3a0caf0b0122909e480bbb6a2985e94d86827a1a90633e1de96bfe5d879313dee8be5c3b067c4a04c025b772af7a9ee637652391be658e244b081f875258f8b442ac5df7d3bfb92891a50f442705275811a55c5bb8626eaf50ede5f6d6a34cf34e17a63d6cba077cdd6894afce1f6d5e98adb2a2445597d073ea1f4945154f4643241aa058dc313b0dc77144fb363121be57694c5e38735b54c59641d4a10e05e428c911ddb1e10171a2e635f29f0aefa2a61893c87ce8cee18b46a501cc2a1a6e875037c5af27e703853ef7f28c189031783bdef64c39397f055bab28e3e96a1a8a31b40f67b514deb93981dbeab74e53f248da88163244335f9e2a05e6b5cffce2f70b3b39ba0f3c720f516086944bf5a5a49a48eb2c10de41f3520d54b17ddcb067deca594a846c87bbdd03e94ffc01c7abe77e9cabbb673d8795b2ea15291213c6da8371e1796547470cc70b3ebf6f0c5aa00dbfdebefc29584ab4fa6173b5941bf0def98eb6491467143f75fc14f578cbfc4848b680faf9d396a56e72877408a51dbb51d93bc59d6ad378f246da936fbb1e518dfbed4622f68cda8436871ce15f73949b50b5096e6e49eb18e34f36756a4b6d18416b81039747475efa8859a83268a316ab6a6e4b4424ce85c519237f0caa1713c1047a7cc3a9a57cc44172d49c5de02a7280ad3b05b924f2403062802fd1ab67461ff173cb0389e4adbcb2fe327fea05632e30a060512598d7aa0b38e92691c1c20ce1741574c837004bd318c1fae153e6eec1937a01f58d6dad861030fc0c4a6dbc03cc3f1e0902d6e9723e5c529a28e0db51bd597e0f90dcf4e6af497db14e347ea212251bc4cede252a497de786e04051d1a965910d4f9dd52a572add7d52d466c5bbe2395491531dd0efe4acff26a37d69c7b35b8d8dcab5796b30fc576a69c68a13dd4c172b62841ddadd451873eb7eaf72ae9ed3971777f087a73b54ec3aeb5e47e98d1de74b9030a5be4556ca124badb9fa2146eed48ef0374f7df83f425c6d7539ba095fc878430caf3efb6ffdfa526e5e6ad2b234742ea25d11e0455a27bc14b4ca47d627a9bdfbe80b74d141aeca3ca9282514a894de7a0f21b8858cabfb317eed10be13b3abedf21746651b235bb711424b30c964a45f1ee1b4241dda13511e4294c521f1cdaa0e70d71c6d629e946c27ed4851033c8349c30b59acf791c0b51640e068192fb864541e6c7a8537ce931d31366978b47fe0c37bce51d0a7a8166e1195a7a1b69e58c1a01ae8483ecf15457b5a67e324720032ffe81fb7f3f6de82f98b0e15879fd489e99026884a7d9aa9511945a4930cbc0a1d2c529f92cc54270c52b3afe7faf06605a53b735ff03df2d55b76ee9560cd3ddba41c385972c8130279aa004358192ecbef16823016febca762718739f3e174122a6da2747dc73e9cc9a787cd32af63d20eab756062f7aaf21be04669db425b5443d3cb540b82825d3cd46f3ee3c777b3b1f8fb27dc50e90089f7ddd39450fdcfe3ae123d01e1f5520bc8cb708b8871b1b1decdfa07a94d1605d357201cf3553d183650a0fe3df3b542865b8b29bb28426b413635dc524a0112027ba0e1d16941c6e6458d0fa44cac26b29653938877a5046698acb95d8421937ed045c0872bc14f48a1b43a336b74419beb37d00c977417fbc3173cc891ff65b1cfc51fb9b4cd24c0e0ffeaf3ff1cae06da23065732a491010f8c11e3274d1ee1ba9dd85e99353bf5092ae0a153f2606f69cefb52d2157bac6b0dfb13ad90b64568607f95df6abd8b7a27de36c7e25e3270692d3d3621b7658791a11ed387863330ba12eb36ee4e3d10ab704e07fe7c6a3fd4ae74083ae2ccc569ebbe8bbe11487847fa096e501724b8ad5d98dc9d53147d80e2e8a38bf258b64e50e223cab0675a501afae662ae87995a938b63b170449962a438e919c924653e3500371a6a30c876b38065f4e94bf1699e26b734e19612b26ee12f0a69e465c00a416199ede178c06e0c660a42a465828d1b20d04c4c39bf0e994d8a8f8c269f93079747caa2a523160e85b11b5a3e57cb7d91ed80bbb6bf96bf96d028a074d3fc6da9798e993619b8e751137257aaf0781d7e0f165563972e46a4259095ae504e68702ea3c89f7d96b41da0ab23b16628022f4c19ac13f3d69b79de87c0e3e31c168c1ec694f23c468c38fb2de0216a68d75979c907a02a44486df6809bd459497d865c19930b3b7f02eba94e27f8113cb1aff8d973542f4fec639f21d7e44176bbbaecde69d5991450fc78a81fbe55b38154fe8a55040a41490d23e4b4e10e15148d32684fe5c39fa6db435e63129662fce415a4bf593cb51a2b6b8b261f9104879b111d3bece19b89c0616d81afa9b7368ecce430edc8b3a13ea3ff5fb478874716603d88e7e6cd46294af089aa2284321a060dff969ee42cdc56e355eec24fa665ff2eb8e8a6c4ccfa428ee41b545dc61298301426215e296511c0a73a4158a729befca7c19cd11c89266265adef989021ae5f5b577ac9c4f4913628f1089dae3617c2636722dc67512071c0fb5c0e47df8779b7f087b0f17ca9ba7ef4b5de05025e2383c7c7219f8d1377cb740139600269091f0a77591eb8504ba587bb0af9b82fd3e19ece1d7aed1738bba1cfe72530c5a7e049bf671fb23047d5d270209e477ca68b69814f5c3584fee35d5f8897f41f10edefaeb3e887c52defad93f6e5dca00f629d96fb987068cda371be8733db10dab2faa689e994b3922c71b3cefd0a079fe5684ac7baa74e0be34c6aa4da4744d17895ef4ca3245d3097cd65372d7d8e96e2a272ac57ef911c8e0ed9e04963146728001d4a75f1b3b772c46b30203e22ad6e2214c29eaea0833189a34d8d3656e439de373a21a4ac4819c0d2314815654301964e2eee777360c1cee2ea916f747261c6b3e4f769bfb4491a49f1b045918f686790c08d569deb132881006fe8a7780977b0d5fb535a790ed342aa227d091f1c3585fa678d553844eaa1508e38c399c851f7cf6833efd97aab034910eaf300398f453e1268accfb12e2d6948432d6a84e87cb7988643e8b5c505af99e0c4aa0026d3e3d9ebf3b88f4054c49d427d3edfbfb03e747f7c0901e8dcb89fc79c4bf5762fda7373114e84f63ba033da3fd3935e26df1ec3245061bcc22de6bac63ba3749dac9ab6b7d4d36ad89918d3df6acdf7e2e9c41aa65e478383c89a3c406a14b7d7a635a51c0d0eebd2f386689f6280dc944cb60a38f7072ce386bfb7cde1783763085af4a5ec75166ecd9d9f8b4c053dc9a8614ddf5e2a5831d2d7a19af64000b6889abf9d0d844555902da24bded675e038f333dae0c70a7952c91e2fed230d51e7fb3b6eabb5f9703023af5a3a49302a94d17b215ad0479a6f5dac05a4317cae447a7653293eabce60b7bebf74dc1ab2b9775fc0b4cce61d2bef565cc87f1b0a4c536d113e062d88978b05c6bd6ef178191dfefcfa05a6cc289f656128711b5d91141212af3c5f12b35da148730ee7f8e72c7fbeeb5215e7d2113fbcbad2316b6bdd2aee63fe2346fb362405be18e4819921344","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"2909a9ed9e5b9b9ecfc6a6fbdf98e8fa"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
