<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ec765451e173df0d956c2390722f5a6a9896e01d8e67be6468a476bd8fccc2966900048642778a57b9946c494aa0b89ec92fe37402501c07811d4ca5bbd2031e8507e62af1404c18c643052f5091fab18c34f5b0772649c4fdf4c02cdc38277e1a48397e7e15f8c6e31848468320bdc971d41aa9fc57f91799ebba1546e90a79be189e519d384054a21baf6f3ed639db7214a9589a34a273972864d4c137d5a71473632afccc04dbf90af3f776c850ab44c08ab21c8cc97b62163d123bc801e6bc49c2e50e82148bb099dc70fff3a0b0b84943519b1787a8c824d8b281def0d978978c2acc419dc983eca3ce3eff578319c1027f90ed57e4c33be48ae08b99b26ade8eee0b92bd7ed2ef1ef7f616c099dc6ce64e8bdb85b3b9f40dcf3df07bc9983bc3811a9f4bc32d5ee65e09871eb0cf27927311acdcc2350eafe20d24faa58fe710a986181bce7215a3be6dbcccbcdab315dc03d721c7be7f28da4e3995d4d9cd6917cf1ed0a26a753a4c23b2d22d9c895d526d231da264a31954a7dbcb5ea163b473f645f1049073aef2648988e9d62c4c397a2a9d30ef73a8817ba9db42c3545bb53f0dae26e5132061507c59b9f0439f46cf7fd70f240692fcd471fd631d6b4a773b36c76c333964655be8df284aae94285afadf81de825a18d3a4360ec9ce91d5abd52ee1d7f691e198a47ddb9db59b15318766d71a8ca18065824b4b89816ac6372c621bf78dc38bee9274df2798d57347eb7813d1b4a27f055153d4675cc7fa82bdfc9e854097c7f87adc88ae0c2d858dd97c25e2602411c1fb696fced0be6bb649b3197f6678cca3c5d2e537b9de2ec0e403228cd3b4c1f9b0526db8877f78aaa31b7b1834a67dbe98bb9d9ca7c592fd5f3150737f1bbc5456ef31934313a10118498bf09e5397b63cf6c8d408c56a3e3ca225d6b5ef0f642d58160dc95c213056da22c98fcaa1cc1ff13ef8e0c65fef8fad884ab8f794920b4185c6e79dae27f56b48d54096d71d1bc2137689b5287c1a52ab18b087c0dba6541d16b425832771b88d662a8fc54772519bff3a099b0d12e369dddc22902b2003c4a6453a288ddb4fc4ea349b4e931ab4dc6e84dbd6a9a982f7d7b291d49d072489c9ab6aa54752e58dc56a405e1be475577a19b66b0b88480fa8ba0cdc160825e75d4c0623ba3fd48b882921e01c5038527951d57efe9e15e5b14f924bf26e61f6e04788df5ea847947136828f46db2d1cbb94ce7cae30273c5f715d84690e760a72c12d438a70af0c9881dd0cdf28266bd290f89ff8b1b993ee1427172c70e6584dcdd1efd0391047220e9226a8b550d022a9ae889e686327a194b79695797a2b217ca87190eb72c3cee2ec49de82b1f684147f3b4debe3b72843ecd90d027ff9947bb324934403c32f0be18592d0bb211c7f610ccfb9a92b14f16517d5945b9d343f9abfb5d7c850ef0caf3ffdabc75cb722701d01cae022a9414ca9471abbef53d01105ddbe491569ecd27b100bfe1d21f60062f1e9f8f783d253b7e9be5a4887376fdb999a2bc7c4d577f272bfa7a806d9a9f208d46023f20a8a59181ac1f2a7dd6f45da182d9f3e866771a00c475418ef490b5c7e04395d552cd1b0540788a7c68a3833d551a50046f546f002aa5aef6e7c9b797e6b0fadf7008bd59f459051ca6aa0b950e1ce09df92138c90f014aebc77a40d05aa8acd5e1e0f3f3b3038d356bb6d29b03242eb747cf08cbb312cd218ba7058180061652160515f05f83cb55b71c56993bbd5b3aff039ba14da80e0d5065b4c7bb5a6eacf53ff11dd5406ba2a9930fa242c42ecb8099db3f3e289d8495a65dd7247852c04f0d6f5236ae958e32828453fc51c92b62aec88ee74b5a594a02c2eced78de55e644d5769056408ce8fc990d7863755c5f8d18e51e893ff85f449304a34ee1eab605997a952dafafa76a93d08715557a85fb4b4d79fa113c3d88220b8d50b30192b4144c0672002a4afb8eaea24e4c2e1ee4c887ca75c5c08939e10cc9c69640d40928281648c300cf0d7ce906bb8c2910fd52650b95f821a8be2d73f6944d941c548a916f130aa8e9f712a0c3f6774c440b8eb7fb68d38aa3a7ab2013f8525bf63630e09752f31b364f075d28066d943ed20e10eeaff72a7a9b4704036ce119a8ee6a5641492ecc899883571bd0051c169be19dd5905b1d6f4308c3c520809ce046b932af5cba338c269a59f0bc6bba0ad268f888e69e25a4d0aa209d308c34ffffcf79316743ef01402e174a5d7403e2ade4a3504486197d36dad469d3442610d5aa4296995d6cbe8a2f744d19ac189c11d57fb1eaf57e34661d3dc5a18b61d17261d546e868b0ef605e1fb62bb1e296a741c42fe7f93472284505803580303aa1b3cf1b2b7671660f4e9379331f7662d2ac32932c44e43d5f79aa6253b9fa8990bfa8edbea59a59c2ea6b94b53c7d24fcc9f81290e4ad1491ca754584276aeb934a72d90c34e6aa9a0c1346a282e640f74f8f848d6b4f73304b64c268fd8f929fd18e0056a0386a70ca0d3280dfba73031ee9aada0f32ea6f9ef7e673ebca963780fe41c848141d10435bd10ad628fcbfe60550a3e64680ae1dec498352ba33fa5c9f64b13c8ea239b73d5caba739732024d73b441a5f27918644b9335f20e285e49c97ae1818c7244119a7f8669b969caf1abac5c4d5ea1d1cd2a2bb36490ca64af9e852f7aa1be3cccc5afd25bd0a7fcdc788e1d02655a99c1836c15f7d8a49ae86090f35675847f67aa09bba93db30fa8129e54e564c99b05cf12c96e0cdfe1b84be455a89522c61b880b51eaf450f98ad250cede538b9146eeb421367a9207ad49afc83c0f7f414c4f4d432a395e68637581aac187915bc2d19ec78bf14cdfd4255ee3ead0155db081696490ca73988e2d35388fdcd602420238d0b36dc10c38f114626dc7c0949e9e306b5a3059771e1a04635225c4a22eec69c2d757fb4f651e220d8eb642793c200c1b0f11b76440be349e4c27f76aa53d237479767d3934756b4449b474a9234d19b64932dd06684f1e03089416e6241cb57cffaaf1b25243114bac15faa7612c72aec4635448de15f3eaebe93df0dc1e4f00fea59a48ca263b952ed69844d7c36272f7dc2cac3f69f7ab77a89357e5d03b1d98520a4b4b13401f9e4b067ef96c9fa1d214cfbf72869490599a600849794e25c5d8f37908bfcd1d2895b8e2cf0fdcbc79e3eddeab448c5575724c738961d93e00a0903ae043fbd63f81ce41590a82e8158cfabed43e5a9036dc00138a3f58f0541a9c0cacd442341653f63ea11a41d8207cb90752e208d10913683331982111d76f8e3b834760a1d82ba46c9d2531bf617d7957264f366c55dfd92d201001426220782bb8b589893f8f3a8d7572fad18366501ed6f876830d911337b26d71f3207cb10509b26515986e86bf972cfcac8602ac909ce2e55c705b2dbf9835850c6e882a5888814af65ff92692c0d63abcd1ecc02e9bcc804ffd7a83262a3cd36b6644fe034589c546836bca7823b8b23e2304c4d71f4c2bcbaf4378d7434d3e18ea48ec35fc452a58ec4c9197e35aed892d339faa2e85568f49561985fc894bca5dcbb7bed71c1e3f775a58acd33203484ece2cd57a33f6d756b79553fa813bc9469cd8a19dfb1599fed8167db5ed6ea347d32c916ff012a506f45db8b7302f4d8f6d45b601ff1abe803c56891462e596f41b309e7049fdf3e68ab2587c6a996e290616489d5d61453f31bce00bee2b8f6634370c46a1f8931c152ae26cceb5851962914e78974586074333fdc07f8ffc52fc01222f3bb2b391e5ea017c03b077bbfe2c4e87957d7b67ccbab2845010e19cad507f915b1c11068915fabbd742097d4200d66c212e6c67814cf243d78e190435ecffda5682e7d9fe99e7923cf9b6f8b403cf1c0bbef9921fd0d7c8f384d09e41f7ad5da02caacb1659517b9644d627f6d7824fd031838c18df88981d5d3f1578b5a039c41d503111f0b92f35a31201869919f39884e7e507d342d36fda4b5cbdb26e5bf2f68e2fbb041a9fb38439040430ec7582b185dc1e647f981badf71ea74a3ab150044b1379fe6a3066a937b03314f0181c643e8fefd5f17eeb01e5f2972bcae0901c6b83d4869a36a03341ac29e40cda24ce8fce2755d0a39872de28f68cff5ec6a97e1005c441039a2a6fe5a60ba2586884066632d95b79cedc58b208bc6848925d17b944adf717eedaea0a58d035fc8deae739a0d2f80307a2250732e68093fda21ec6275f837b2adfe47835b2eea9d7c53b12db0bb6c8544eff6b1056dbbf291ffee2814617bd4fa06b8457d6444ea3fa3be33d8ee63647aba51f87709b2094f52a7320abed87bea7ac6952998eeb2a353b6193ea186adb4f24756ba22705f575cfc5b785e6ae87cf87a401445bbcc01bdc519fde0f96aaed52dcd57ad172f68a672ed67b792251537dcb7acd0186173a5331dea4a5c47baeacf7aed0d84eb95c1884abb74006ab10bb92f769d3af91cf246098edef347756729e565c173a07c5f23ed299e8ea368e332418fc8c74884ef8903ca07814a8403025c7e6b8da3a2eb6749dda180e32883a638f9529ec3e484381dd8b074aaf5cfb7e20878522554321a3242e0658a6ab4894f8f82a527be3fd165c420a809c2e3fa2e6824ac33210f2f54fb9106b2392c5e8cb110f73666a61148c8729251eb14b34e9ea09e15223189fb87054dd2cfc9dd3d224a2c37d057ffd9bc9a87f1217cbfd4ca46332bdd6893f1e9971e1e716a1d2dfcf1a31de6cb8bc35da44f41bb2a7903a8e12acacf132bf713a42cd198a5e9a88363853ce2c2138764b5316a0674bda75189fa04bbc06a07211c555c6a1e30c25eae95e0dfc748c45e61407e5325c0a25d077f5f09344486cd37ac83f534291d6155806892c1e87f27b3173f3ad703d2f2de48b5aaa97ecd9e1c3dfba1888001af3efe742a845c038d6816a470b93edb514081844e6baf37629f9156c223d3f329fdb00ff16907eb6dc42d222c9705756a8f60ea880a7ff237c1edf3a49a49cf8f25eac432aed860eef0af0a00a0786f81776ed44cc7225b866c068a510a3f3c5a0c8407ac972acff774c3e717418c0e91d596d9311c86979888a7103691f75313cfc3dd5328780488427f000b4964da01500f194e9382a707edf34ec052e13dcba07235049b1879711ce1e7748d2b7a5304537d0c95f8172ba70f2bdd9d86a684daad83dc102f2f803414432a3c2d6387919d658d51deba72e54594fe6143d7f58f39fd19bbf6ca26d4fb36baef98c596b8fe78b76e980b66b52b0a6a3123b50abd6e77d6f05b6342780db1bcdfe8205e59cf371899ca03a5310490c562ffdec4affd34bf9949e655d5c446551c0d340e6a6f3996900b5a2c547856b6b866cb323f90e7a871546b13fd3638c8cb5c35b33ef1b68ebd6e4a58759322f61c43243cf31c685b91733c63e68a93a6adf3493438002a2071b7c0509f04a8087fd266e81a6049b689ced26994807d8c198ca10098b727576b2d6e4ef051987b5bd8bd8e8253ab866ba6dd12185f640975d1d2150e9ec448433a32001f0a88d2a78ba7e18f93e1703bafba309a9b5e73103b01d5ae835ab9f35721aad53c742507ad1fa62b3eed620e76568fc65efb4a61a9bbcd9529ece2dce77412549a22d84bd6a629a7626de306057a2f2e5176cdeebcba985af88262d3f7f2e3d0ec999489633dd1a9c6273649c2f132cd3d036b60a8f25093cc37fa1e6154c94c0a899c4f9ff1fce75b9f33503e4dc35e6c2c90c3d6931d26beda143e628873ab3ce2128d8dc0cc823549e36c830554c433e29053f6ae816ed5939d92458c01c1ae49297f54b7a8786368b7135ac1df8df9d9c1e2b7e092a1c4bc620dfaab8bda5e24ee67f4350a79390b7d75b5c630a9829d66091b208d0d8d0c8bb6bc67906e04e7f996ae8cd097d22a2ddaf75933540d6715cfc65f8eb8d1ee59a160dba02205bc6717be4059ea1f2adb1df163e131f3e71a8c3a94d0e99b2249bf5a61bbfc92afd7f4e2cd502d3e1e697455aeb1c72f573e00dc98ea29a86dc987ec7330957aa4f3491f9bd15f5aeaca5828245cbe08febcf8b89cfd52445148ad459f446668e9c34df27f7aa6a2961c6cd6b554c43786f0a0ef845761794969284d134def7d6c5da8a3d771e2e465827f1da8311f37fff331f2208f8ba0161c59d5ed368155a87d415e8cdfa46cc89a91c650ea3dc268b8dc9d23ad6ac9293e9f8a1fc7cd6a82e06bb3fa1fe809ea43fe9238d592c9d9e5974f49954ff4e42b84c1b0d51f789cbcb367bca55e84a2e2d3becf5737da4c8fcd2f011755a938677e0a6edd6e0dedd5a6aa99dce7882d6894a804224a109095d9c002472707f7a8b31e5a641932bb29735b206fd53f533b4891b19f57dae9c56d82e5b14cde5c787f6cb22a6b4688caf7e405d9640bf52462f4d7cd60396ed002171cef856cf0416c0c4488c894ff05960d4cb0b829d4c6f73bdc502c22553735e67da5bae8f93ea806e470774f9e4a031fbcf76be8800e0d933e5d264caab24f5fa4678a79f3cf48be2f863aa2a64a4ae287c875124f2b4c25105b752030ddbfb6f6e9a7c1d22967a8c7be6783bd5af427d291ca1e4a0a4725f51ba2ea978a237fbf13c84da78f85b66e821e42459766d1fff5f82114d4bb3b93387483a470ed083c54e4e4bcb9bf09aa020b88d5b271711ad6bb10dd49ed048976bea6e5b40a0ce549bd314a8f7b3ead80ab8a5394349c7187b99c10351e801e8de8c1b48ba86e598a27e678a671caef2cef0170eb2c766dd08cfa73b463c1494de1e2baae2f321c98007d9e3cdee0f5c6d28c9b85dd7911ff5263cffd7083ca91ece695a769b4ee493db4cf28a4954eb260c857cfc554bc4f1b48a8b6e2287dea051fff85d937c5b43de171b3c6ee165794f1a3bacf2cae695b16cd5980ca7fbc9423fb2ca8e7523192c268d5ad46b5fd45ec23d8a14d66e0b429bce0a7a715396c685c3f6c1df9b95e99318a86f23c9add7b9a05c209aa64bd580991551e769e5194d781e3bdd0278b2459ff8ea645ff8f13a145fb4650ec2c6aa18e43fe8c952776f03fc832ed8337bbc01eeba630c401907fcee723e1ebdde099ea6bfd6fe19688e116cba740d34f41b32f6fd0e535ddf30913e003a706e60ee3506c9306e627674339d821752bd26216eadfdd58bbe3b494284e153631e8fdba93cdfadf4d911f2643f9afa2e7dc93ceaa098b2af5c0f9c1be07fd22e9591c806b0bfc3aab372cc8992fe49be3b7fa5e56f0cb3898e54e8992dfce415f2ce4a6df89996c09aeafedcd5eadf33d37b8b6a18ecf740f5de97405883674689e202d092e3c46a0bd90931ad36e7e1659bbdb65a84a5fc90e9fd97249adaaf23b4d055026768287314dececc9241dfd5050ee98f5b1ea25e50bb179a06f04fce40bb9e408fabf2a1ab1d427ba971b6e29d11aca03f1d9504f6631b0fd2ebda2e84c01296904fcfee74ce726ad9b73009274653bb771dcb5642ffd8b18c829b4e8ac47ba35724cf52ea12cd251c251d27fde9c7c7b127f6295e325b5564ad578e204270cc5f37d9889a774efa4016f4a2640e72e8b338043aa0cb72fbb8906789dd80ec54bf98b4409fa95105f2995f82ab662cc9a8001398060aa8b12b9ccbecf347687a1f47b0723485ca87666aadb48e6ce5db761000d0e97736c69d00b32c0ab9f27212d6cb226b1c130a978f97202e5e34c02dfcc891a9ef496d03e7561d69232333df027a1bd9ae43668c6b1a6feeff1c705e7c9c93fe72bf41bc79d28bcde4bbf122998ff73305b264d84a89822d9d9925192cae719ca3f25804a43f8ad1fc6dffed3135aadcf8f163f75d338d555f4440d11897387b9cc90571d8a8947227cf5fc9c22db38fc21e4f4aa5b4d573d27827c510a954656dcad6efb74242ca43639c49092ef9bbbbbfede0971bd98b706dde117881fbabe7ee9a89b6228647df76289cf21ebce0c43e3fdca0e1112ef5b1144b669c7332e45b72c4dd667cb7f0e16167dd6eee96ed638378c8b452447cd7290399a9321ab06e5ae63c42c9b8b68806625437dcdcf192067682505f20ee424ed9672a8954cb4c89d957e1ce53e250b170f17125a2884a6a633d590b549eb38f28c4ab5d75c3cd70d1158e6211d2bde2e1ca3eb5418835feaa8b68e93d9a081bbbefb91ec275fe8ec326e5b8e613b8f4d0c04077132c7978c7594bd46f69b399bc47fa28cf478aa55b1d7cab97af5a0158f1f9a64859f43b24df58bf72a785583fe1b24bb076dc09a9dbc1f32c60f786849e7a9bfa33c92484324d11361224af90c53ac0f70d30b51216443773e9afce16da17e671b7a7545a99133591a3832ef271a616a6f28284f9e253843de0b0d7f65c6b8970f76c3017d3c65eeaac6e1dc29e944408e9f501447e55d890df1f037f4fb7fea80132894fedc1a18b33dfa9c11110532d8a749d17680fd4001803c242a307405334de088781c1d918a8c7d4b7c71b192db80e1ab2ead6f2813dbaccf04d5b688be304dca532ac1ab4475b745b9332f7c353ddd47b9138255e1a258c74ba044dff4c51055f846ddf0397278fc7e83aabf1499e640f2e4d4c4303c21cdb3c8662e41a48d4daab86947665118cd58d1f2d8ed0c3e654cab63811826af1293237ffd4bb38776fcc4e53ceab9905a8328c42cd0c9d99adcdf786f2e317ca59e436d9619d6fef1a77e22d021a77658b18c736e77b32036b344dbdc0609ba53b10312df2a70bf26917f7087aa44e0601251f75697abad35d874fa5fff5d69b8371513ea255b5cfcd548b8943f6752ba5fba1a17a555d70af649384ca6562fe3a759eb876c3761a71dc09d0fc9b59e57fe2873b302bdee831c60687cc25504b9919c4a29b6789dcbff2e75d967903dfae7189afc8c3a3de7eeba1384b7d31fff5510e0c8660704fd039b1f2e4ba95e1df1ea2340bf391090d9279d6f78acf9b4216bd992f1c02fa40c333858a08708584205867970bd393aa886358a4f3ab0cd2729f5028641f2c99812690c5ff9886c982a351b50667a3160d3f3290ab59089d2133f94f39d332c1082502d9cf50868d82d2962027735df19f20e78fd843e7dbc23f02da276b1f300e46e461363a4e47e7a5808fb2c2f9bd17aee7d65574cf0943ddd6b84741d752f10909ae29f0e5e694525ff69725c686a1e74649f59a64efa3f3427926cd779da38c6e6c65fe5c5f1e7b505e540668133a6d3ba1c7bf5c4e96de5ee56548d906dedcc6c7466583082597755641598c7f7e50770800483140f4231751aad3c10f4b6d8b899cda918aa3894fbdc50273bfbe8304c2070ca9d9447a940dc81bfa6b10ed838f5cb31dc8f0fc14e8109f2df188f7a0490a46158640498904cb2f0d994fbd4cb3ec1aad066340bbcca6e2dad99fe9a6a0250233ab19b4e2c9a2ca21dec6a5f3403cf67b1986769a071bf85f58c078a4836278c9233a6a49e47af0c9636599ac9be3b43f0ed12fe2cb55956fb3456f5cb933fb147b7e1b73ac2911619ee4b6e1c7bf2f0be0d193830342859c33ff3fa058e472ddcdbd19fe477054d5a52b55bb56fca81f0501f6d68ccf3e960e6b056e3a531dc371957e36927ad4dc4d769b2768906acb94264f3a22570e92c3b229c138cc4bc94a2c52f73f988f156c2e09fc79dc9413a076ffae7a58c8ff5c4736c6d861274f0d3e72d5aeb5635c714505999ffbabf05c082f8876fe70b57eedaedc4163b10f3ba65f3370f6749fe3873a44d9a035326fd1cfbcd28dcd38b802b5578cda36ff6a93f440694990bf2c261582f48ee12b2d4cd6ffdf8694c66ac5481c29fa809eba304cf455bb8c2725eda9adbd57079cbe5795083b1dd0d5ba817e7dd0285a0480d6efc610a9a352ea3e0fb46f36f3b66ff578b08431a2a1e2969bdb18c6a434f05b595b83ff6ca504cef36c35adaf3834b20786cc4d95fcd19b023bbb9bef0cf7015aa5fcb13216a65a1d39df1214f4520cc0b19a33c0b11234adf5d21e94378e51878e2cba87a75196ab2fa36e5952480abb3a23d29466b224925fd62edf0bec99a163cf5493138ac9bc212df4cd2b1927b40289420aff8a146abf6c7de9d5a6f33745a72ab9be440330f41595530a354b9b875c5a9039bf16d6ad731c092c5606098a942992daa153b2727ac861b8c62e22fbdce96ad81e6257acd88dee245b22580cf62f53097ae6123837f9c59db6db0cbee8fd310efbe7d553dbcf67db9bb51955cd6f76e83b6599ebf57e01331a6aa18643f26dc8e5b249be17dd0706e28ea14063563c852011dd0e05b78ee3f65e3cf393e6198c9e68873e9abedcc3c00f2167fc55c9df64b537bad15b7ec09963d545230e17c43e82255ac3cbf538c9e9c493be935efe88829722b6c440ac784b9f229673a93c51dbfc56643a4524aaab96e6c8c31eb115c654a8a7ca08ff6427ec17750071fb11cbbd030eb3f582e51c86b206729bf2cc7d5fb8565ad8c319d26af302c7e4a75eb230c5dac63d7b0bd4a7e4fca1c3a885bf0e6a5655ede7fe18dceab69c3bbffeeeda8a30d1bee3ce19f65951acb5bb99360c58b70a026da29218c2bb515cc0e7b6ac429bf48d2f3f0e6f3d077b70ae0646435984583ac0350edb46a1fb091d10850657a3541c00093082c1573e396da490051f88b5259dc33d3214ec0f19cd439a4cacecc24eef2c4b63bf3b570cd7f91c4acf0f039789d25eef59f29f71f8ab742890705e694203db1f5ba48288b4e1345c326ba8222481c9ab0d82314353a31d442fbe870f86b1c34c077932f73e7488e0220fe09dfe5836420b40bda9ce9234e6d1d5766c598bd2e9e0b63c23879a0576b1397ac8bb42f707d32eb9a284d5e61250a308faa00b6027c65aaa01743a0916454d84271639b910048c41466ebab4c01ef87430b279636c5d32b3589369d0057bba6f76cc7d65946824eb92a0ec1469ed7f25f04bccec736e156a5b32568cf0dc11f2bc001b30112e5b3e7c6f708e0cbe31fd5f60096319335a6c2c74a03d82948a982d1a29ad31e85250e02db0172c2454fc08c5f0ea6aa4f52425928e1588cafa6ebe26062330a1d7933ce453c6ba9ad8bfb99fd2c25553ead8474d7cf4a040762a970590896ed5e9265c19996b81e8eacd2c9a1a8725529a6ebe6664f8e445c3e32d948a50100df5e5477078086fe4cd49b7440cc181aa20f50e81728f77ebddf93a95be170eec34105c5111e3ff368b1ef8dab34e28a631142502ddfa7331562d93400d2c7d544b824cf41365ecfb0e19b101d19d3f9cbefab5b8707226439631e24e4f49a24c90d0e88bdc5f65790e64e3dae2ece8619d157ba6d9f5c4b5f07a216ffce958d1845ecf86d9391f3f78c53afaec130fce8d1f71356c06ff3373d80c683db7e13149cce36797f4fa1a995a70e53d0fb1740e34075b31d094bbc4319029b8038d092ec98cc0e2e784043995df22a447557d051ff3b22379cfb3ddda15bcb7f7e729ab2901b77f6efca352ce05cd8e5d32e42367e8e4e44b63d2829aff8e10ca455d213dacb3e89237207d9e70adb1cba9a9d81ca7a612063bce636ebf2d843a1e757dc9dd27a2141221bd3da6286b0915beab6710797a2d133ddb7c55ab3041a1fdf0cc2a5cba1082725ff4a2a06da7af43ed2bd4d6625b7f79c2dd444162fb831ddca015442b0df5b6a5819a366636b8c15c5fb6d5747a1435c63692a72fe1f6feae80bc1a7e0eec0ffd71307fbaca1699a1eab5d991d4e1384ff952ea562943e5a310b75d06bde53a9952cd211e99e9855b73f8039ec25e7a30edc16f15679b6c3821b08b486a571a0e470a0eee916092406df94c8793bc525f513efef2af8a74f2a0a23a2dd815f8d001302b66a075ad5ba3a8d2c53320e3f7e0132042f29fb7104ba125c87ad468d7ab9544825b732ec43f1d2e62fdc8e2614392c1b34cf71905d9343e82a679e2305a56595d5743da72f66caa92c61e9a454a86de58aa17ecc68ccf61d28837aecdb534cf09ad6241a80b2f4b151252c34e5c5000fd481c38168f694c0adcd2f7cf27582f5d27d4b4a8b078462ca4af09d02238e84911bfba744a7b44fa348d2d893131196993be990ba5b0b9772d32a7d1a79aff65f28726b0a5389eb45ba85568c8d08f09750db467f0284bce1676289f10b6950e6f668aa72f195b24ef69bb36450bd87815c06eed48845790253ef80398acec434ade7f637057c79592001bd21d91bad488215a6f3a1194342a0dee2645e7fbb48ee24493558f16e372c2e01c6e56b85725f438974ea91106a6d3dfcd60e9074896afb8568d1e147a987827f8feb71650cd3095895587f88f6e2fa14c0dc892d8a1027bbde18561afe4b77118dde1841d7500624749ae82a672cf15b748c67851b5251a5406922c98890535ef96ca7a0a49426ee78240f4029fa3baf9387725e311eaf58d7a75af4c8ab78b14a64c2d370f564862f33c3cf7aa66e3b461cee14e8d9de3201be44b3fefd59fd0c2cf959200f3c854e894f256f7422e51b88e852b8b76baedb299c42cc10d61f69298ddd04384f5fbed379d0fb6d35c5fea3136084f04c2c2f3aeac98b427394dabf4cf41c5327ac16b47a10e025e2fbb4e10588c61210259eb25efa36f276301af569b2cf99dac6cd28074d42297d369eb97aa29edab3844652c3708e4d193c34f79b9771beca9f1db48248ee4b4e578caf9ae5a609a7ed4e10be41eb44b2a28d4bb0cce0b8bc56dbcf067e0e20e4109f2849de4afc0ee274140f35699ae1bda29c29b2e187331135d1d28103490592908620baf7200e365202086616e495f625f1e7ca122e452d586f1857bdff1468aff6047132b9540a27306d080ed75ad67bcf91069bc2e023d59a22d8078c9a10677e5e49168d4451ff51c2800a5c680d053620d9618d77678c922f77e683c8e30fc76aa47d27186b0690fb8614d1152a9f6de6e438c6544549c830617c3ecc67246b29638b38e0b61521bc19b977f1cb476953277f75bfa1475b6348201cbdac24490f809eeb5644cd87de270316a19746a616c5c41c3b32bed02c3e2a1c9aea038c5613b9ba363a92b70ceeb8aba7bc113f175d7b1a26d51e666528f0d9ba440442f126db7869fe508b93124e8847ecb9d9ecc8540eb4c0792042389c92738e26bd396e5bee13fc4e9bb690168b167734efd712008c2138f3b56557d11267e9f0b8cf69b1dacd295f85ba3f8b1c6c9b83a452fc493ef0de9ce34737002e88ddd087bbaf76238edd904fc4cbee349277d50c6eb4459009e1528f0c0029532e05f379397e1991bc01e248b51d18d9f10cdfaa2d4cf40f43a9795e93630a5a3fecdaf24d8b77eaad5dbacfad12afd01534fbd3363550199186a38f88fa5efeef38658c71223b9a220f93f30b2eda2a02cb5be2e79c826fd27036c6eac9463605d3259d80a2d25416330aab091d45744d7c10480b03f94e1c57d2b99f362e8702d20477095788c20c85c093e271efea2c5541b476e8f7b0d91eb003c00bc016a5d2766e4923cd1fffdbd2302cac443cd810136947c021926c6986813b897bbd7f83efb386ac6e558738e0f43845e3c39b94955806d59a62c1a1f31eb3cb851530e34688da3cc0176b8d8b43a40941d0c8916d74fe979c2f2d3a9b6edd448df7b764c10ba480b77c312ee41ec904bb99ee6a5b25d9fe470a1601912f47f845ac80b6cf5757cafc0ff27d5ee3648781ecd1b3d0fe29ab464f44a608438ed12721e2952e3dc76912ff18fd4d263ef8d6289fd09e950a70a3d73a9178d2c23a773f607691ed504535a39431d79ba64f19c8588607f206299db1022491763ad27b05db4ddc81b8d68b0f075f2a72b68d09d9afeb4c4c7b8702833efbbbc5810a4cdde47c61809c1d18796cfcaf474fbd66df0901c6ec92bade152427d0486d396fa75fefc2828b866fa5cb623f777a053a87d62e0e30e0d9a4ad95a102c638d2faee9fd98b25d4f9c56bcb21676fc2709f95df4cdb07e18cf9895bce78a13b0e42e1b11a3e8fcde153daaba77d9230a8712b1dd5d8c7255fad1676d05eee86ff2ef0bd760757902106eacad536af27eff4d97f4a44f8301a774c5bae9019b00945bfdd9c975adf3fc64a343f469e5edc9a7a95eeeb0ce576e693313052aa90b1c088d1381c7aa02033b81605468536f66aa551972a7b418955ed1bd10f1023f59a2df2f01e2928e99e520a4edc1a3776b6c3bdb8d17686353861eaa3712a8e6b22960344870efee19379af8fa6fe7b40ec15679e8707d149400923c34c151c801ea6669f8ee4f44986f1a2afe5f5b64af0dd1ae9d9345c57cbc0a557ca669af8ef470dc38c77844fb06071715336041e779dbbc7e04a967f8ddf0d1eb7e332fb595bde5ffa08857cff2b381da4f90ddfe81b5d09551c537c83a807c85e53d186170c1be8fe8d5a3fd10ce99afadd4fe0cd85ceee1ba533931a596617af11a764c2e10d743a036c6261716bff2dbed2fcbe2fbff78616ccd5a9cc6e093be5e4e3a13e167372c8524c6f9fe79c8a6f3ba5ff45109230c74c7d921bf215114d8610a91fc05e1f3fcc163e6415b1a918636abdaee073eff2c87f3ce6f9c5075da32d9a7f97b53ce44b00746bad2cd3f985535897ff9e48d4a8859fbee7232b4bc9f1b9f59eec619a4fecf5fcff79137df4f74dfbe0a8f0f8b227f51b1b508babc52f4fe7190ffa7fca7fead755d1b70985f4d1bfb67e1265045d49d79988c64fffcc80367e1b51acec6dd275a51fe48bc3c48d619a7258d50fdc6d5141797187fc2112753beed05d6767f9a966b0042a042eae5637e0080fc62a512207fe227b0e3fda6fa170af6533e83444b08d61a9c8d8bf47d0b7701bcb2b82db1dcf58a2dbd63da01ac48c496bbd88ea3a8b76d64c933446f194b4ed8062cc3cd9049f4ccd5abf7e21e1ca5bdfe054790073e06627fa860098481a7592ac7b66123a626e82c15dec32bbfd26b61ac8e2325dbf12c327e7ca50d53703febbd006e94173858b7f325430c324e7fb1d96c8853d3be95614b20efb9dfa885d9ae52eaf962b97e569bcd68e85b8e12dcd5c6d3dd7dd79d2a738beb6c4f6832912bbfcbfe2981fadb0932d7227dfdeffe97f8017536f92f8c98cd6868cebe1be6183a795059411a8d30727071ebb11545616db8b215ec4ae4075fe16ff1ac89095c105c9d14e2cdce150bae8f36e5ab058b482eeab122429dcb16dcdd5dafb287b42b8361b937274b105afd6a120a620e329294e52de8cefc50ea789e1853ad4d334d67348064460b88bc91c749e49d121c60a48ec92f38ba844e2194b8bb5960e5a8e56f8c60f3d7cf6d986c260d5207545ae1b708604c57352f1358a2ad251ecc9d0174dcfa117079aceb1c19e79e59b90de389fcc4609d21a5eff5e91f3cdfc91bb69b0328cfae64d2a95d464a9e621e9b83bf03b252050e0597411697a945b80b713bbc4f0cc5c429f309a61b6c33bc06a2a686c29601d45e6749483655937b5739fc021dba3d25ffe06bcd450f089efd367c2a9c54e69a8820670b19a165ba0c45a1c2984cf36d481a8f6974f8cb0e3f4ab0c5ff192270281412eb8744d2f1aaf841bf1a1a68fb2bf15fde874e1a5f7831adb41420b7aabcc4403b52607e85f3d6d86112f86f70ae222f5a26e6a189aeecc0aeb5c9012c9317e1966437b84ca303dbaeaa38dcd2712a1738ebc531f5789d56042dbed2cc20b90c333d8c5152a7a87bf621dd299bb1fbb0ef427bdbaadf87edfe291a31b0cdc89f6d57c27b5b8606435db6d3d26cf3feac8f73dcc3e4089e223d5643fa481a5baacac57c138bd26a1ce8f50a24e35cdbfb8e5e5ae50cc4a9019d88fec54f4e20ce63b3db56c47773283478ee219765b4bbe4e37627a177ddef1d899f8a2156afd6366984de1514fd862521769c1a861bea4f1d2ebfcc7a35e70d645247500d31fc120b75159c8cdf2051f955457d477ce4bb6e7d4b0d4ea3ab220c57f95f1e945f719559f2c200209082220992ba99987242c0ee7ba8f42db67b48faf507b8f6fb757f5b51e9ea44870fa8943b481ddfae77040bd43509d6bf33655a15b9eb65f167caa3c5967aa41352fd1aa73b0bc052330a578227330ae1be33b66a8e272eaa6c47479df289cc9252f96353e95c956504c565d52fc0c250d46e43457acf21c06f7ef6eb2409263afb23b073b2cc6fc7ed4dc447bda1b9c99dd631a28bd38f4402dac36b7122e4e712395c68120385468b13115f26d6ae6055229da9a6cbec46f6a7ea7df00c7fb400f98c218b6bcf53a4b7b95cedc81441ad8e58bae23b01dd5eca4c6dde6b60d984907dc02d67ca72e8e094c5cc78fdf73897669ddab0f49c389298207ca901568321800ac519265cf4713f576e2115d2f2fa26b33d83d3a97c824508961b45c6c98d4a2d1f271b638953999da7c52a6413675f7c5d734f4f49b55875e7446642e8e6ca2bec62652dd15ab62833f2c4f7521693401f4ca6444778237cc28eb4b3cf68454d86b49c72fa6841cf9ec9ac15d8b0daf53bbdbd1f8fd28ce1c9de0774988b28aae0154882cc0b71fe0e3d7b50ca6a9609fabaa343cad0db5102183ad6e10b4ac252bfefe75d47f2568d236816ca4ffefc6c0bdc33b496710be6895e1bc82e7c0a6d37997189fe148d0fe93b8362f1fbbba4323c8c49c27bd4ed72a13ef5b9e4d6e3c0e1cf47e5f1dccbf3daf70d3e914941853bbc0bb8f3b1d3e0e9ef03ad080c9150ba0434aa7f5ab6d5db73901fdd877072de38c9f981ebe2813514f175255b1e19031ba0d8948fa6ebf7fa601efa522b0d5e2da1afdcc53c775fde184eafb992f02e90f1092f597a6572e05d03e0981162487aabdc63be11953a13a5103f7dba5a481dcef3bf0eecf0032452dfbdb0c3b3378958f503ae37642a61fd00d1129a660efb31283c8d26336bb8cdfb81286b26ae0bab8c7ae22cd3403f27b31da68b251f349629fece6dfdfb6dcb45481d877a573f6bf3724c49e82a78cf0e7d40993a5b499f91f9dc8f12a413db74b1e2dfaefcbfc1943bba8c82af97d9e3bbc4092e853f1b83f64f203ef203b860ba4da712f5fb1067ff14c4fd2a0af43f6062a562fed0be543935c395dee9515cb7519dd2d2ba5856942d50432a407870bee8c848b41ab837064434cda30a15d2939a7ed80a95608d02f3884b02a384bd1e274b7cd18547e47d4acd540f769af9ffc1e6994f86e913a1ae15ac8115cdc1404626fd3350e94a0fc4d460dc55b0a4346b3b9b4f5f49a09d20f54e304d4f1801f3ea1441a10a6e627067063a31411dc8cfb86b6dfce067de6e58d5e466d45f36beb07f5f103f1b27468ce941f5ffce2e94b61eb03f078a24611346614ea6b6840eeb2808c077b4f363e8b405e3d28ae791a8a1ffe774b6dfdc45990f4e52cd6835f9832e280e4ed59513d96fe8e2aafe6dcd1deb4fd7dd94d96acd24f56709cd70f3da3bcc153d26fb0efe60cfc81c0f3e46848b8c935efc5535010845413a2a81e497c5231eecf80924b0f78847b84118d87c9202b164e8ad5d67c7e5f5051b792df716429cda54c284a40c822e04d6db7f765a81cdeb2044ae96d19484ffc022c6a41023a5818900f6c4e4499e8fa307ab2fef94c7fd95827aef9a89bc2e50714d6c9e0ee74ce2b17697c827d1b55432c2b3075e4b3e3f8e45e4e06178480788d52082148aaa1375ff1078f4c38b92462752be2b1172630e826d0530150beb12076c99263c7c2cc62060b0533da3899e926dfb07c728658c195ae4d489ea1daee3480b913e7cdd5de650ca1e26b5b44848bbe0ed5d18517b52487026e210feb26ae3db9a198c9fd55c10d9baca6228ce95ac40dcde9a1578af26fd754e851011f5312dc10380d0d1c52048dd2d0ff94998a4322c6eb61bc2f70b220da6400df9a70f65903dc3b2579cc7c4b41c03dca8851e54a803342a27e261e713438385a55debacadb3701db88ecff006dfa4f042375054d63731a91084a21dfb37b8f2725f99a22bd68f137d238eaa80e74a9ebf349cbfb46aee3589679a71a9d50980f920bb816694151c7bf66b0d32956f44936efa4c9cc7ef18f216032809884642f01736cdbce50e6feace259b24c76dc3e4b04770f36f287de7532d5cc78e7dbe8e491cab66a99791f873f0b22c57870435caf99f30da29542b062cb136cc7b1235b3001c9d10aceaaaad089b7085185694475d417a4156bea8a99e2045b0c636acdf562ca40107ac052a5c82ba212302030cb6d098fe744ce286f6eea1bf5974638bcc651e763de774522fb9677e3dc2d3054e0a7ad8ae2a9f11c30b33b20dfdbc20717ed133d4372cb66daa13cc157a9fbd43ae8e76ed4041f9d2888983c74482f89ed89df004ff40604cc245b4a594b784e15a0226632ae61b424810fd3d53b3ca35a9c0198780f4162520e871615343665ad905e07dc4aae6a67a9b2569130a37df9e726948aef8245c333b7d0a1d46b68f35e0dbff621464afad703e97606bab6726801562b80fc079d223947c30971a477033b6911c3ed97831d669de62360ea4e5a5166eaed4cf65530eba6d91fcc57e09063bd944666866d66c18510f1ba3222c09563d8c8064aad1e6e97e716eed624111f14be7ad28d416805a65a755241850437cbc56ab5063c58e7024423f64a8cce1de5abaa8889d125b3ded87e60f66ba85231161864e196db375a331639bdc5505625e9e74ca4a93adda418adebffaaf44ba7715650e4c1248be5376a81577e0bb268a350e2c183d2702bbc57bf650b6af376f6a49423d09c7352d2dc7b61e9cd9fdc957deb854eb8543621def4600b0f480f94d54f0ed14aa1da045ad278e3e35190f8f2d3b2ab60532a1896b7f9ace465f0dbff426f590ccda5ecaf66c91af054ce67c5672a5b126a8260a5af8bd0bfb821529aae781d31cf614d3ef3279cad60f38ef20a9c17a831c58911f0beb9724a85685b4992136d4db5ec94345d967162cf134c8bda125823b507f69dbea95f98bd5958cf63c269787c5a83a8a1644be2a8cc2275f3524bbadb39c3877ac5f5410abe5a92a9fce2995627add68aac35874ecc6730f15fc6c80cd11675f2761bc71695bb8a9079e6f8e040286c5fabdc881fd642a23a38207fac1703389aa18170dc45d52fb1cabcda576a9b01e17924ced3d459005e52e02b0eef33ef6f8217bc637cc9576442fedd0b6d1420285d8744197012dc50cf5c5f1182cc15034cd3cbccca4f60c01ca3992eced91552d8f069ea790a7067354d0c613f2699dd227540d3de0b920","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"7e5d314545c4f4df2a46c20081b4086b"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
