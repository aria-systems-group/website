<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"bc1d8649a672b78aacea0773d1cfe6cec90d87142153f3d0600007ccde4274e75a7e630a504966e0fea993145e4d0a72bc3032bbe2894bf23269784ff95c9e77623937fa3afa877f6a9f67730110738da4283e950fa1f5d24e42f2803374074525ddee6100f6f23897d9da5de9027c7c992fc0944e32274cf6024e6c6f1f77a83a4c06d6cd729d0a565c6f4873d47da0b3a7e7233239357cdc5097989c490812b1019280c8ac55ab9752a900ced7f034b7a25fce5d4a2f3189abf63acd38a191fb7d224af010c6d4d61fac8ef7070c0c3ac0b976e05cda1a5f9ad1bce6383bc0a56331b575b69e7f7c3890a8197e8c30e92e579175a2729ad32f247b036ca1cbb7fe098cdb3d1ddeb1705600042a007553eb63d99730247b8bcfeac0db00909ad774c06a48ad4e1d9d891c797814746d9225adf8578f314a04aa6f260fe91b1670ee5906d1f82d8206f4b7918b40de32fbfff6a212725c68c387880b84db98e8d04c7296030a1d206e24597ec37040054cb8930a8aa7e8f84f98e32d045e4e8a893ed31c7ec43b971606fe2c87701072a1f5a5249ec384a2770f485fd2a807f0596e6c4eb96236007237e31453728da15a389c9e4e0c908540449dadca88e25a752bf5796fadcdd1829d7b7d3ca69dd1d11d995df4f658e32efd32009906591ecae134ffb5907addfe181a39485b014a177897355501f46b0faf3b50941ed438fa8b09c738c68fb6435184ee570d27a6cede8e89928a330485428cdc729fdbbfabf526322b5772617946f50ef0af9d95997da3b919a8461f5e762c854a0a7fd89464c0973800d02c4aa3d6ffbe0c11f4e13b48b482c080e93c3ec688c40997e5cca39d365fcf1f78f56c548edfdbd192529116c329bda3518f9bd1029838851a1deab6b4248e355424f96d69421af6a291fdcf010dba71339662bcd67c73a2d725066136264daf6193b22e63cae544a97702ee9a756fc274579d6ea1876916649f02a0eca94c64d945b1da04d9c11a067faaedf8f21ab3868cdff808ee60c0f69077413de06687db084baf30ec1e0984c1c1ab2546ab2b04d697be19e620f6178bae41ea017bf7379fdac4bd6abf73454d93f9e220c33303bbad380972a841e33ba7f46b45aba4760682ab96e714c92d56c2ec441ced13022a20ec43b210a50df2110842747d795d22ba817d530b43c6e52824e75ce0811992dfb3bf6fa800dc4fc42d83c4b82390dc81bffdabe0d7b50ce42bf546b3a934c7525ed8b3c445b12ece9cc1720af79596c25044130f9d82dc79749c552a24974e87cf12e5bb3bb0c45531636b0b5861cf7b691356ad7a434fd131f3dcffb1b61fea89748f0bcd190e2a810c0a6246282ad2823b45e9b020ca00b4857f1bd2babc7b92cc6f49081a580484591c69b104ead67ccfedab897be63d3e80ce84f2a2617365b11baccf654b68411d0eecf038d4626ab932dd3a26cfc80bd9576d1dd5331516a22feec0bdc45caadcedb921601468cc33ad3befdc356daad20caf626969110f04d8b35d9e5e9b8767bf6ad5cfc3b069bed6facf2488ff45ff067969b184178346ce2944ff462cbbef1242c27f19b5f86574f901c4e6e19c22cfee5fa11246b5c1ca9c2b32a410f07d2b8201776e7df474552efa294a7de1e0da0c4e522da9c6f4f818c9a7df29aeda6dd436f85ccc3cb23741d774906502187146ae6722a5eb2f396e6195b68db4a7fb9a4d5eb48b0a0c1155f07ef82b39b7b651794581347dd95e8066c93d9c43c75350a0d1445cacd39fb25a4697a54b00ac7feafce9a2e33521b4b346a8acc075265c584c5b3d90bc409f6f4d19c11ce68a6f1d91abce34044f7e0aefa1b069ef0372b696a0ac58231c546a22c8f7ca4ef0d49da26d207b79793e26669a2033075e7aef1583a54470439dd83d52d888247e50f96fa3dd8b37221c7890bc686e9c369131ff6a87ad26dd3a6895e62c04d18fb2ea389b5f10ccef42b3748d34b6c0ad5dce0036a93d8c0bc754c3a909af6a858601a12d4a40aafd746b32c2c3708e85b31e6506c23b178e40071a2b26ba5c25833abcc52260797015958762bdc051de2db7a263974af743e97572cdb56a469ae5bbbdcc1a54f3ae54529a55f2c476641a376d91f459f8f3f9d471b8be4ee6a72353eb3e6025a28b2d44c1a3fd81adb59ca090224392eed451e1ccb26df39eddf7a76be02b647b5ad1dda4e695eeca8d45c80f9f3a70274e30b22ac225f53652084a14345c188ddd361b91e2e1ed8fabe97a19c897bf9b3cde33b84b51a2854ab7ceb26e6a8898054b5184ab54777eb0e3eba3d400075e226fe5a74c1182b746bbe6f839f3525b19f48f166481ef61567a5161624ced3e89f8c8f23787ef583a48fd1bc21147f228592edf9c1c8ed72be01b101e31ff827e9bad810311ec3026c2644aae4aba424ec92a7b688fd7f94852df4a72c9858fba4e6c95ce7054685ec6e76577ff368a603fbdfb9b0753393a964b1c55b27fe4d6d19cf44c207161cbe89f930cd26d516c95a1150e2e8aafdc7468e1520077b8bdec2068654f79c18fee981bad62f9175c53d2762361ed5af216d029cb709f03b634be38c111bad54c5749e86c1d88c115d82f283867433c730a8ade1e8b47f49647d739acc0e1721c010d9ecb688c866ddf1a6aecfceb49352db1c895d6d8c374ac5e23fc4118407d7f56118142dc0a8e3b973da58e7cef89302706254fee90ee2bfd6324ff7bc6e98e6ab319ac030f27a7bb74673611c12302545b0918c11ec16c436b9f87d04752186686469b18d8562df81f8626a1f32ab984d40c9eabf3e322bc64a19839aee536206ac25c6640297172bd41bb9e654e900038cb829b88d46144933bb1d51d84852160fa32c471381e712e5b165304aa5e17e44ed3825f9cf6febd0ff04d488d1edab8c244fce298888af5227de0fd43efae23959e12fcad46abc986d0a2d8f01da59b5b5cb5841a666167257ca35853220d57bcc3e441ab0c64bbd13242339efe03910a5e3e9a448cc91f5a4bc16c476b5dc1f7395c5c7dfde7085d31634838711ed2aeae7ff98be1d6b52b6d485eacb070d5891816e0330e9485333bba6fedb9d9edb238abccc939846ab4a1d08df7470d68ee08545b1e66904672d5fab51ca35c673dd6cb7597fa5ec23b84f83a1b2bf25f95394e1fb6571d976863f5a5960723f3c18ab5742769f59ae6e5f9979b0090642655e749ed0c6c2e87f1e98be53a740f92910cd1754296bd4a493cd4995e9e3747b40245106dcd64029fd2f670cbbd479123cf6bffea6a27db186bd1594d23746484a0336bcf734b93d943d90737ce3b4669cfafea14c3951291a74df5b8c1c90dbf75267eeea3a960d66e977d5333f9cbed2d827d938110a17c5c83a525ce6056a0b949281b447e8316e66d7c2ac660000b8684947440c501b708aa847042a487c83420809ca3ee85ff7319f1907ae5d45abc7b7712269163faf89774334b54463370c84cc22c953ce00d4c910b913618b40945919070e22e38573cbdec36d29aefa80cce65ac8b12bbce1a94922b39746ab4b5098162f04850c9ad0af057c53b013a8edd64df47aef69f00df89899b641497954993ff5ffb49031ad9aad9719b1d42e7a72932283176a9e5d6cdd36c6e8bd1571768f6d55c8a2ccaac395e2c229428a81bb7880cbd3966e0b597e601c87bdd1f6661135e3f55ef18c2c71392f28f99dee0c60ae494da40054db6863fb776da0a780f2dd103858e6d3dcb9902d4d710b27ed9628d3794b7cc1fae04b3468bacbbee95ced6407fb55bea7b94115a296469fb31be797890b0989a7014f17317cbc8f170c0403a000d164509aa2de94da4e73fa9193535fc8400d5e14066a2276dd065f4280dd9bd2b6f6995f08734dc47e5e3a0f4d26eaa367cc07313ea7a71f0aa7c91041336c017bfa7315b99f71202a45dcd1f5f92c07c15114059d16b76f5031f76f3b666e9a09a48d7e57e6a7d894236ce7bc85dd1af0e5c32e2e1e28d9b7cc661d250a6c81d3605b5ebb0daa2a139ef227554b5a62a25c96b0c77f94470740d9f2ff07fbdbe7ef9dc49fa19feeb41be64afd9064dec08ff01a6f60863102e6e77fa31bac5cde4e0a6e398618d59ca46df737a59b256d992dc8ab4b1b13dfd22982addabd7f96baf0e7b72032d7888953d5d145f8dbeba1d9649910bee12f717a810852f4d77f4d78726774f63209e5f05edbc14e512c12fc3a97f1ba6282b064e686394a4133093f66081ae8e45a75ed747462168be9cac7f4b237e0c461e5452084aca7e9537463afc5d02e8f3c17edf557f2b45129731a0d12e38fe913e5b32c863dc019d6783d3e231dc410227f7652b6e0c4a1d5a0842b4f91b7cf58ba372f3a13d8fb7243a0f89b7ab22e1f8dc7511ca29245b864c194e3e08500e0772bc35cb260b2a3ffa37870c8e173f6121e96fe58eefb974fe33dc2821581ceaca85db4997a1d6fc7e69a25542fb27b4324cb7317defbb17ed85cf8ae60d5021035347a63c0aab858fd4c0d8f6801e13e08b63431f5aecb12a8bb68bfdddf9e960f9691df4ea690d48ba08a4b3aced24389d1a66260f466916d55ace18dc61e3e8683474015b0fd40650e6a600074b80fe4bda0bd6012406ee0be8b3a934023a273162ec77d2bfaeb2e812ea71ee0d04380c03c421413d5e21eef3c468fee992c6f83d8d79ec820cd070e580a3c4322398bd376bdc1984b04269293d92ec57fca64a57b3eca724b8b1eaf409cc61a511ded0ff703cd12c7021fb95df82703d7ed12a15104d3f7975e3257c13cb8ea1afbbd4c0d4be937f36ac87235e44fad986f56e84c4afe71c5f803bce0694a59ec3cae5a78c1dcee81489208479d4d89b7640a771b4feafb484fba35c3a1386b802b17bd67ec860b5d31086ac092f13f3bc2dfcc28215cb7c784e7fc3dee4bdc39c68006bdd97abd45a092d12272d38f0df9f2c1ddc719d65115c5aa88b0debd93bb2b47441267536c43a59929b7ff81c74fc8643f59bceedc6f2c7208e045013c45bbb28586d0949c22e62d8ef9ae92f57c3e0909f9d2995e82ba0aa844b431e1adba1036f026d2985ff11687b42f223e2bc062fc5124dd932b755a5e4a4bc6193fb8f658e248e4768051e6b0f1d642db264e82884f0fddfc44f479393e3c67734c007fe574d5ee024b9da4455b5a26fd36f68e0afdea4d95c7f59791a12787009b54fe7196e14351a0569db32ffceb2966714df083f7605c736e2e282e16ed195bca4cc631d856331c4bfe0c5288d5ccd0814d240702d399cc291e2e250fd3551d07c817db81269bc0a17dd6054a332a8d25e35d0885d81963da730420da7b010fd1c1737512974e81eb8002ebbfe2465c484f0f0edb03a62cbe535f7ebf5a8dcaab4062e0333f6795ad0d368586cd1d0fcf700dec1e861119994190aad8221a7cebc8d04209c898a9fb652b603bb0f61093c49c842754c1c753b8bbabeb24d4cc8a8d6a77e7cd971a1b4f95922a545bb02cfa58107cf192b54ce52c83a867e8d87108aba24cc3f04cbeab87965c2d5bf30188fda951e50b704f0db26c60592e21d5d30dadc9c2ae648ddf32a43dbbbebfe2656e8c8d83b6cfa454936c08f6c5b9000c0441ee2370cb98db0aeb093b509a0f73e729a4bd967ea61a829e81bf11b32edfb757757d03d8537f9c69fd148d20ffb63226b2892d5674114a336ad721e4fbfa219f93bfe332a9fa6c4db67675aadf2353717f53241a00e4eccc557bd00555d6a0e7f3853b9e9f285c79710e9d6eddb3796b97c05503c1c0346cc9acdca8a815be8806e0caab4a7cb743f2429c1199b4fe592cb66c4345a7a307e57e6bd70c456e74cfe02ae91ddb4ae32b817bdf3813c5bfac3fba0c763f395e33e620c8d929d96ace9ed7683984e8855d400f72f9bb79a09fa99d7c405d9719d7d8ab2ab725ff84b016e31ad19ceac9df87f02e594b6890d5f5222578afb6c897b26f56397fd9b1fd3f7b059dfbb774aa852ba19de2314be26209c3a1df567def1d6e8fde7610f258d1aff3ebb2e8562a3558dc0ffd533ae6ec3dcf3aba3fdd534c73da06a4207124d019403941bc982c4fb2ce7991ad7275fbb203ca93c67d77216a8e0157db8da11be0112896970702c0c16c0e57bfd026453d639e72f496885fddc87101c59e659b782d2fac85656f17bcc6c457b899d32aca4300aea8cdd2a4c97f6b39170aa429be03695cdb9fdb31c7105f600cd1d6ca6aad94df2efce3d715aa586e8953d88a0278867b256ee3286d14fc73f1c7ab4535e87f59f8505fd9b56e919a439e511573cee7ebf1d5c8361177ba269674b228187cdf3ba9bbc8e01e4b4c54d7fd0dad436c57f42b3b787e46bbd8c3e821f2a83e1efa58a488728682d56cb18f4d25194f960d3c73013c23bb13dd75e7dfba82f202859e0e80f67da9acef272cdb2c815fb89d3db645ef5cd04f212c85ef6acb600fba6cf294215ffb113d7f178726e3e9c947be012e9ee25f4ce68d09bfe8b27942a203fb82b57da1c7a78183c11eaeadfd3875824e12628a9a8d2bb1483ef642b5455a0825179da0d29be6f60f45877154a702244232bbbbc41ff378a4541583300bd1fba4e8549f318391b2e1f6a00b5c8a681a5c6d144ed22c027014be74c1b34e41474759534c6a3f0b3dc0adc682c8eeaf10fdcdc04cdb751b4d5729a59fb2aa9769233f1aba5a48a71f7a50300dbc83b3c8b37f8a8ed65cd8de280413ff266fd9d250371a27ac1c1cb64af5001a1d36439fadd91f93bc9b51899e3f133fba753f0312ea697a2201002734a5e5b616f8ea97f8e124b7634f9ecfa094bb56ef39d6c590a3354aa480b0864406f805a31cf01195becd7362fe268b90f95b169a056c25ddd175a437b599008db0f73b7048ba09fe51891054d44fe0d1bd9642df122b5e5ad1bf792cbc2025e8a32b753ad38c5614b28087acb9c5b43e05f3eda82f074c7b3318806e6be624b8a1bd96e587fcfeb70b3dffd20517089e56ccfd1dbfb3d0627fdd5fb188ff3f3bec56e781a8a200b6685f285a9fd7bca1f741a3bff6d6ba1d76ae21b9b0ffa137a9fbd1b90151cd93d95175289aefe5b20595742a3aaf7bdc0078999386469c288fdae3fe52acc6506c6000826e26025615aff40c190c56eefca51cedd02760050b4b42b10869b4de87d64b12364df4d41ddca48161aa24c2f47a67f6ce3823aa345130a112b6285ab7c216dc47427c0423acf0290c643e196d68615745a136168eb3f4f7f6eda44acd144b8630e6e6739f6d9885ea10eb89383a9280afc2ff65554f704dd7fdbbae16fee7769c88418c8c26d0107318a71ea3ff5437e2f9d267349ecb7500e26b24f242b96aacf673dfd016df644e767008cf828069f55e8ce05c7957cd9f3c8e9f72b00fbfdc033ba3728e22da300e36a94505957f1ac0a6266bdc72b9036ed63b961c74e5d570850f838491ad7f3235642353503971ee30975708ab1b81bfc55bdd4a950ee3e837b02c0bf62736e0bb618fe4fa58d725539b6f2c153730c7570683408f2d68224b7aa75292ab7fbe75247272393d06193a44e739b55790289c94e85de177deeaed665d6d14d0a1108ec601626f17e0e6349fffc3d6686299d21cc76f91c4b36d849feba671eb8b5ad03bdfc66dced78d8ac9fabe2d204ee75ae22cabc57c47f192a48ef7b31cdf34806961b66e988a45357218cd3843fdd1f1ce3484e135297ad12915f09b482a6854d3bfb99dbe1ef76b4f337c006162c8a059050e912d6928818d2e7cf54377da09e3b7b57da14266044a2e765fff3d22b379df311fea9683b2d1c058502f313019691544a8812748af02c2741b95d116141f0d182c2991379478a191a9d832014fff93b091148046a77ff0a5779ddf19ee70683b78c8b9ac7317c3bf90d93036182119e607e1432e730b338eaea6fa4a2b2d0974d550fbedeab833dc4172131d2c7884bb51efffcf150dcb3344ddddf843bf9055baad1849b4854cae743ec72fd8b68614069e7465579c807da74c5c18f6785b7117608bcabca05ae598fa119da4109a95811b04bfb14e14f84c64b46e9b97dd04c9fc57cb95a7d8c0721b9af25ade6b9bd7091f38c349478909ebbfb1563621e7a8ec75fa3f09b8bfe6cf4e615c95fef063c1cdc8f02952294ccdcf2195bcae13efeaa47595c289ef5b75db538f2bf6a7af35488a3f641ba87baa21f49be9aa756c663f24b5e55d5ad7d6cb515ef62da9f043fa1c07d8b46e7d445f57fb36d05d9b72cf1dd83f96cd5407c2c8df010f967f7e67576a4a764edd3b09b700b1e87c2c050b4040c99d2be8ba91e9557f0e7284a2c9900ebf523418bc8b9e82a0c98ff41c7878cd080d2d3a9a6399206dc335e5b8da127f5706957e82612eb3f4f60ee78b732bfecde7cc8a29353f46ca3e4f5f1aa2aaae70a6e07ad2faec583dd15026e8ccab6e9f04b71a8aca9d159fc6bc2a96b5615bdc7e9bd2e437bcd9f120f43cac2f653390462563a368ec75225125bb68a8b9016021f8046c6fa8e3342e6d9bf805a56d25f0ec8130cd09db7050abd40292528f35ff50f5acb01e6d81a4b28ce1f8f401e6ee21d26dbf1143689fd9abd871c0571a511ba593930d3207d0af75a080caa133134a80490ffa5118ae668abc9b1f1dd6e0a370fc832501c08c77ab145548e1210626b9bd76220d3468e6b3a6ed56642e05986402466284c359bddf37806c34c52d937d7c3bf05cc7ef04b567b3b12e8227d4f557e325455116ef389ed65f902176a73029084c0f9f8b80ed332ede1cba98f68a298fb903dee86024facb01decae897178e13b4988169869272e7b777bb3b87762f2bb6fcbccbddfddba846139a65b99eef61d0d614e06a99ec689985bfbc57cdb3fc5c0cae5204dd7e83f6101bec837cebb28ade4763ecc1f2be21982a16af2eac6a7ac39be0d26a7f36787b69bd3fcd88537a73d9358bed02f0cf093d9125fba4b7519b9e03590238ebf93f6c5066792f89c3c95f86811947ce003a5557e1607e53334287883f217b7e791ed592aa6256286b0b74dc5e8fde054f3e76e74dd917263c3b01b33d72e31386e71a5a48a0ae2d504d9da424060b09f75d7e58c5784b435002b3310e76c9bb3825df7ad19c70baa06e3ab5edfdae4bc38e3692ccc1d05b56c0b87b4e043f94952c71e21d8c5e5ba62517b8300c3c8196f6828fef90f89db116531b63ae0d23086937c53fab277db7002baabe421a9174b459fb4f08e133fb57261b4b1e728f44e289a6ad3febd27f876999d577d48050b96bbf29afaa6096562cf77fcd959cd945e9adf4ca732368a2eceaae70e81658470aa57755f0ca6561370a646d7da9fd7c65d387e96bd5fd2b89e0533c6ea1d67baf3d9580bbc559fa0197f75314553c22e49c29060ddd0873e387cff06cea11a565396ec2844b9c6db94c98246643ae64956599c31281cf4ff9849098da3784ecaef98d85c929f5d2436f474a67b49cb7150dc77fbc83be035875a828529c83d14d6ee88f0c34c54ddfa0fb1ee988383ef9a669309663ff48b55c295f64e29fb6cc8c9903f9677df1b632c0cac45f410ad41bf802504b25c85dc2e7652e180b2d506ea14bb61c6c721fcde0b11a9bd46249794cda2ffdbda0394015a528487c4483574d2c3a283975ba4e57be0c2cb888bda9d769e7706eb1f02cf079a8465cb1d8634a90dd2ea6479c8a65168125fe17588e4e5dec0a72ac9751d499d3ba7981765183ae92ef9e0a93f3b7d7c15c9a5f5153dcf50e344f44c543d0c107d5e2573a95892b01fe8360291c1253c24613a829b05f66effde005498694193c13a65aedfeceff57d453df1ace65197e9bf3abe890112bc7f73bdecf04ffe79a718f9d3074fe4c7e7edc48b79475201af9734de833c22087d5f634c56008f8ae403e1ebfd88bef3e27ec80ed9b140a19d6e7295384aeb2b98c7cab0f18eee724a887e3f16b910ba3cb74a64aa8604e085de40240f36e2d4171ae437834883735e631a1c8069f56179868944cbfe63b0b848c4ea1cf088ae89dc98e8817d9c59b9913a5345b55adf08d058ab720d8a2788f026929590c58569f35522ced4793e71194c4a6c3f1cdfe38a039c42e7f13a3ddef56da1ec460a971aef041a4512920ecd620eec070ea6a66962b1a81a6777459aff24c4fb53dfcf2eefa89916a5aa642e90c9665783cdedff9491fddfbfb9cca7e5cb1ffcb72c9692d305287a2b6e21579e850517e887d6f708d2ea90935ff8289bc3ffed0c7130e5382ea2be7effa9da759a2059236870115824f0ff549e4e81c17ce5f5935c684fe6e893a1fc48bf358814d83e3b1356f3ae2d1ab0cd5ecd6709b2b337507f0b7e0a3e4a5701a3524d5b5a71317d71ab116eed4e1da7f61a2386cd84d4394409432d0d20e4193e56c0b45dda5d56b9cfb771fd92fab37a01abba320f6f87da072bc8047bd9b8a8815b35122197178e337d096586e72c1de5df9e5c176499bffab25defd9aa3ff3fe3925c2f8fe503f60680f19c76d62b5a8aecb85f6ac2459865b80f343eb9a184276b0d07e18a9347f456641a7e6360e123c500b4e2fc8a8f3ff8a44d17f13a6b32700efe5769b8faefd79fcbdfe0816c98a9d982be1771032cd8c510c1619b86d784f4db689e272bb06e3988e8bc96bb3447d7079d6a2eb6e6f5b71e90468aed11fe7a5d497990c901775eda65dcfb7cf36df5f9c00a48933528db674e7ed4e88185f8bb952d23eb3ee0d28109dc1bdf10b83d243c148d8ee4c043a14d9d75748a4084dddc5f699f23be22d4b96f5a3797dd86541786657d4021701fdb24b7a1154717077428edd50ccc9168cef6af275c5c5327bd5fa1d867b18ea305223ee80244515e0b8d784687016286e4d0f03c5e60c202ec0a7d6233181f756bfb735eb1b5e189d9593594b0c987f2169a7ade35e63002f2ce9bda0be23971863e87562d79272c13041e1cc7f68a2d4a99babc95f6efcd281cc303321cad665d6427913f4d87069f71ad70f0092a1ef3abd9e3e68f37adbf38925df72c9fa04161c60f506299ca2f1e843f92784435e7d31ada2a9413bd69d0b96444bbacfad2b19fd4ca146dbdff419d97fa9986f88a4791b0a025f39164bebecfaf5f697effa46fc835d90cc2ed9dd8663d8fae72ded53c48f16e1553e197d1e9e65f93ddbd2e4ad31d7bfbd687655c7e6b9d9cc78850a19b0607a9daaac1e84dfc48f73b4829f44a3fe8e7651bd9480506e9200589d8653510c54e23b55237bbce6650641aaba65a3797e7707cf53016ef8c72b4d310aa4b3037c008e363750c7bd95ae881662371591149deb06d56f634c13df910e8f1b2f9dfa635356899a700df6559950da42affb5b240df7409dbfef262d5ca569f1adcf99756663302484bd283f4527c3640cb369b85406e9bac731140dcbefa97181f0480e3161cce3e2a40d85c6172ec9063dc6b1c8d51da37d192ba9b6cb7b72b5ebe5d2eff03b35b5e743f711666b33f9ac31700eb6aaf26b7032dd611d8c84a7c59b9098300a26499434f10dfa740b9b087fe5c7a0da09dfdb9bc95159a1081b50fb043bd193c3a4fd53ca4625f3b2953cab9772afd7165681548a52b4f676dc5ad355d190af19b3003b9ac4d38292ea438925369ed49417f7eb8c0935a3010ab40c7e44eeab28d6f297e328fa0d63586ccc48d1d0847fb9e356599beca02edcfc578741b3cf5ddb75203eee10b96d6e69bc52f075ed4dd9e245ef976efc1f57c68c777aec3a9c27b64bc05fe2f9ab588629d1d1916de531c79d3a591125767f75d7e449c3be13326be24393a25c77a4c991e942138ccb7f682b4427c82e8878ebd53864f62f634cf7b0b15a133a18bcb3c571bc4e40e0d06099de2bbfae28d9c1fab883766c5e1c3fc76961662b4899dda28fdd750cdc686174feede0dd0a78b978bb437c309e6e2ac59e0f9fbd87a43232a929062aa38dee25b48be38e8b528dabd0973038cffc671b6a9902648c60bd6b349c01d8f8d768cdb84c89bf20d40f1db4a8a12e607e96b6f11ef7bd3174a3d08bb9e333d228a91f266eb75cb09e0ac38246ab79802eba6940f0b3b07c1ffe3facb929c304ee610585b4499adb6b7064688dd3a26703ded8637a763dd63cdb779a1eed02de6887f9552cf388f6dde2ea2020835a11d34c0da9cf8b1194cd97551972a246044c092286a1e7f05150c05d7b0485ceb28a8066c6d59749f91ec6db446ca8f9b6639aad1349818e3cff6ea7ab7daab2f586a1c552d09d43cdceecc166335dab27c6e9940df4f0556c8f05f095598bea06a45670a831c0084883215e4bc505841a6d926ee8e41f8abf2df710530da4421e0a8ca49bd14637ae868370798f27f92129e0f12a61d966d2717a63621d01dce858c59e7db5c7b4a76c0ab48271561ec2d35a8b5a75534d645a1c9c99400a15020cdff4d49108aad34e2b6bb0b1bb63d27e81a2c2e2229c9e95e8230273f05fbd912f69c205997603b99be95a13ca70675ae499242f7dc71f54f86f7e1b6df1d4a5a42560d28c4a91b732fda1361ccf0d68562d51a77bc082efcaf7c348c3697d3e1e805b5175b04e50963bf8d7591fbccd2decb24d5d99f80b1f50147cd6c27509b749c5313946e00eb05dca6306841e4bde1f84b32e47ad54e64af300a3f7b594e77f743e8dafdc42120a8cedc6517920d35da6f63ef35806f0f0a128378c1842f2daa2b8f35ab5a90753bc6cac286be6b24ae5669820efc65ebb64d51b47e2578498e3b21295c784877a3fc02249b89abed98573e558f6c22bd77e57fc49713392a50a8eda3f6ba2d119da0a5dc7fe348ed2b9db3884a524f90349e754e895e028ca8c0dbf24d81c272bf78f18b280bec40260448fd74b7a77998e497207fc98dc621148107c1af55c7ade335d0f1877b32fe329d704d1c531a29df7a4feff7b8f9c03e213aeab866236c4a1f508011bf3529d0f8efbabc25c762d4e00570bd486e81fa324798d5fca5dce6bec01b1fdd249834b98279185cfe80ee742dfde8073bb6fd32484de4291b538d7c78c97e7610d257c373bfe55fb553ba0a145a5a53ba66ea3685aa077b8fb049730777e821214904d4aea41cff17ca1c7094cbdae4d59bec1300cfb80d1999d957ca731fece6ad83adcd4473118d4c214388de5a869d662164d0ee39b96f92d916d9a52c52722bbb7b2a8af3e0d152ab7fdb0a501b91a9373bd8c9b81ba48044a19fd3bdbe1c6d87f8b6f4c764c81a6b7ef0029b13cd52c257d4e3d6b56edbd00861389b86bf0d65d5b3cf6cda937e651ee6b41ac467c7dbd3902997559775fdcd643847533e6336b28aaa33ee1e540cfcde6b9352607448d50a7783470bdaf940b0210e48398825708416020af63099b841c6c9d17f8c881365a1a3c237dd767452bfa9945ef49a5cfca541dc30dcdf00e1da8d28d3aa770e969a721b6518c2e44eeadde7a74efbabd259b5c34009ce6f7593cd242cf6a41d07c0b36145175eed7941eb7215c676213c119862e897490cfb686464d01d54da9871ef285f870cbd8c98c38137876593327fd5f5fcdd684b5ec5d7c27e188a351a7089e34bf39379d9cff5276c640e42bebd50c71ca35a9587750e3647538e43a2aa44720f51e76073c3b151772b4f9eaeb6f17f6a5703bb01f4eaca6340ad320386314397abf11ad992c001ebfc3bafb5e340848df2eb893c5d84db47debf3b64c46fdcdb5eba42ee5850a5c89c447094ef581c16c7e908228ea44d7f0dc4bf7307bc7de60102c393e70d659fd80c3d55e6f90a4e24154f8265e09fa2a952c6c8392959d6ff47b98dc2a96b0001e8259385f5239858c98a76c7e375ddc46b006cb004ef307e8f2ecfbee762cf4c238fb0062d249e8b79d27cd472b39b01bdb794b238f122d8354acb501d94c64f26a6ac5d066422c5c4d7ddb276932567e55ded11c5aea4e7c52c625056159b12d5f80dc1a092870c0daae5b706a6f25def72c9be0d0d15c0f4228943044bf266fa2ea9ea9ffd545c5bfb18ef4617d1a7647f53d714f4d13d57103ebda0b2ff2bf99da5131719ae6c4c42cf310ecb58bc8988abcfb44af5dfcb8a6e58fc102dbb8987037e3f453beddb06a32ec936719a6780a9ff5c8808d7114f7cf51de552c6f6f408f6134b75cee3746daf49a194669a0cc3fa8ff1db299221d3acb42a624a0617d4700f32a3ebb45d7c18049e39c1f31f2df09045eb2c4dcfbd3ab635d8da5022cd8953f53ff0f4fb58090776b1d44ca5af51d838f2e1147819c7f6236172c2818c82ab65642767a003f42f138922a2bce48343647bc5cca5f02a4ef98331e7a02f3557759ed9503e16020b527a1593fe74551ff7982c2f2838fb32d42d4290b1b1592b1cd17b9c44a6317328021425f1f138f096d643a5a333855eec85629456c5077ff9a3606099dd3bf79fcdbc65d0e495d362cb38c8112b4152274ea90811862696964ec3f3d7d6c64ded3c7b55a948e61014eecd4728e73d3bb597080ab020dd57cce984a8e2920e2fff2ee8ffbdf3ac4f77dd2a86e47fc85edfec5df35b41cd320cf38054593b07413673d634995d44f4f4b2aadeeb88db9d24653ea5e1d38d2049ff5b73aae3bcc8b1c6329e467a2f0ef0d516f54e3b5a52d08f013b952828640947c3157584cb0b6105b7ff7ef950b2b5a78db9afeb189d38f86114a1002ffca1361ba068a77695f560672ac4a53a4452f50fbcd9861fef97f478f94a64f47e38cff58eb127ec2e11e0c1cd0c37f28faedc5cd0ecd868b60ab1b1f0e6505c88450ba0bd991634a83ee5dd377d49644e7d06b25f1c89611406052bd8ae0681f65aa00cadc66e88a0e341156e151b8da80dfc10c1fb8469b60a7c94ac4df86b1a4eca785e56f8030e766b95467facdd731d85954c8241687e22a0accaf3f4d031525ccc56b4022478bd45143181b702e9cda31a3f721edbb37a98ab80408ca716e8371b3c89d131214e0c19b052c9ce929570b22f6692f79b4d576373056e94fd9648375df0ec847285622750c8921ba00a05e791e553c9409b6aef42524b4baacc9d26ff8b475e5f3239f3243b333a6afd3b4971fa7d766e2702b45a04247d8aa0266752c0c1d47439c620dd5ee5ad31b6680aba497e3e26c2c56cc649a1b1fa2763aec5a949a55a87424d233daa3598d612d58291bcc054a8447c921209a62990d7277a80e6095c9920c561b1d4163fa77b1f23ae0dba510f5cc08007e0517c8d2d5c011ae9c524b4a7bf288159723160129222ddd3213f4657b223de204e7ba5939b15b6e601a2c2cd2eb498c0d8988d914f87036155f1f15c9b70d32abe2edb03c41045f6b6294f07638c991725212c9426345cec5793a7bb2fa8c1961a77e385b10cba46128dfa6de1ba6735d0441e452ff7a4877f1742473b083529bfc3df1e36b6d6cd4f4b90a5afc2060f42fbd1e9660329d92b66749195e684343e72d54a0b2828f941fea60c43641c5696b59c4259505ac32e55851d14c8f5774dac6629c563afc69ae93f6d66eeda60dd3283316d3db69c0bcda4208b053f35c77a60d60b649420bd2bbba0e25a1a5f66d8739aef8fdd273d15b98052d8bc7127480a07f88e5e540919a8444a6bf1a9b6bdd46d29d5a69d431784d1a614ffd71f34291aeff5ac433a2b7be8cfeaeea62177979c759d41b323cb73b3d6b1219eb99bd7bf090ed5498115c5ad23d092d18f825f447043a184a6a692cdfd00f69a3b3dd2bc2c972ce528e73b8facddb558b0995c424b8c54f4b04502ff015d0d75e3397f364629fd852003a98e11f13aa4482959613728a300c659ac812fd664ee11ea0dbcd70a9293e0599ab7ab570c59270f682c3b353a965547e0a65d3f2ce6798e49f5fb7a7d65bcb198a5dd816d0fc9534b624aaf3ae65793d80c18e51949591776cead753298a09ecf06b37be291f4fb8c766887094560aea0e73041e870de0b4c5b5cc1fb1e14c380901e39e214319be82a715d7e475d3b6e6ee0dfd96c9bcb87e7486307b8e6c6d7bfa018e6882d86d018c2c13d682fb02f847b11bac6514f1ef954fb78f812aee5bbc31c796586639dc91b888ff7a71989f0d6f796ab114f2cca815d93fcc92547bd6f8977cec9a9d612f01a42743df1531e8dab8e4da8d5106ddc8af61aa9ba2079ef6a8915c479623019f3c4e1a40b694a3bb471ac8d2780aa9c91aa1e729422f7d2fcd78340d6a77728eded6768cbcc54b241ccc22157c0ace6d698ab9903b115dc4f7ca6e70cd39840aed006871aab3053a7c99cb9f32a462e85484031588391d9bcf2a1c696ad80fe28ffb0b4e547a21fee5994bfe19ef174338498cee93cf093f985710505a19b6312d47f546c5db111494cfc6b3f108e834b3723eaf7fc64587d2889c4b2c5a9e94ab08a7f0628eea00c6bade9ff755e51c6190428bfabecae1ffbc8a49d71a3981c2cccc68c868f9bf649ad25d239e6269a801d163e51e2f6531ca4f8600e310f6b68e0a157b79d811610eae6ea9de60e1a9d503ff56809ee476bbc923c4e8f630f8f2c9e4056776d5fd09c213437e5589ad69346c55cad2e1ba95914e7715aea41ad3a36cb6afc3114fa0c3be5e06fdeba06097d6bc52429cda1c5114930674312feb9f1160f4f7ff0f434ffeddae7b8c963a613f13dfb3d2118a2f1568b6fa6ada938585fdcb4da7ffcc80fe0caa56ff31f991064b63ab9c7ef4a36f9b1a2e1b3a83924ff5aa070ef64ca838a27fba8216b86df940eaa598fdfb275175909a43e39e13903ad27ea55b0b39d0a31aa8c1840f9cbbbcd11dee4634fdc853499d3e1b4bee392103b07e47a20f0bb52fdc6bf9f988bbfc2e96045e883b733bd6b04c547f4d9acfc4e5383ab27ecb740aead6643eb5fe71713fc43605da13b7b0dcf62b183423a76a39d593849797a0a979a1064d15190cb983f9bf4f78005807f171b4139985720f33b35c26618ab035f7b8d61609ec79981d1021db9a6317d6b43cbcabd7faa4ef4972dbcdd91892dc2ce18aff473029a2b87a2b446135d2bef6385c280a3e88d7aa90c1714d2aaeabedce90a79b3b155d3c6eb8af44d3263e6e5882ad5224e0f7ca2c50416f7737c54859dfe78e8a804b7ea55b0b642827d9a26feef576b2f3e7f66005bca66a89633243172b4ff2dc91772e003092e7a2e1d457d926df40208e1e9bd805db01ce3615553d3f33522d803f97b193dd9f95a0ae268296d64f6602c74b2031482b1b515929c3e3535c976ab141e351c883936b9d50c01c979aa20fecaf293118d0f12287d8759dcc3f1222a392acfd30704db233f98080a33ea5fee9784e1b97e87ef83d5d64cf06d94dc253c6342426fe3db9f018a34955fb6f3e50de1efe89134b564294a0c011d536ee579fc23b1c0e53304737a61094c040dd008f8203e364acdb9577d576a5fab0450941afe7dcbf14ffd3e1cb5551df94c693e2bf3edd555cca446ebac5bda23573242087194861b64c22de521b0004772c4a13e6620977949b7049a0ccf56fd7a78836e62e06cc5321f78a53dea849aa81007ff112f5410d728e30aa10e0dd68c6f685b433e25b7d76027b250edd2f1112eff93a8962eb53934ad9a5c2855b7c4b59a8ba0a659e0526e5d0474eff26b02191a8d063a6c317a99cd9539adf8f284ebc8a43f230a7c4bc1249be8195d873e93a99a121227381ff514862707d28f043cd6d837855ee1b06a096ed324d95fab00c1c775c30c2f1d7b17acf1a2883e8f43ba8ed26587d63e8c6e3e57840e8daafd18e4abce74ecdcc9518f415d036014b2a054f1ddcf221d72b8331071b744d33dea9ee2cfc14e25e953c39142212de5c5c272d0e120d114f9c8517a7eaa432ff9cc50977a44d87a19a6201f394a28699ec88c5f0fcfe748692c6f24410f220d76de4bef2d0e73c8fdbe0eb57fa131d00bbc773b710cbbb93864c8f1692de44b2dedcae203532883f9a49b7c8e6ed1b3da6d08c81d02a84edd8491ddbcd000cdd4557391fb11db85928172384dac55d8e34143dfe18d1de37705302717eb3061c51795565f19f77272393efe7f8fb33faae63013b75704c75ab3efa3d76da125e8b6570d28521a6e6fbfb651ae4dc1913f6c5d358398f4fc61616426edbf6d87eb1f847e878d940ca4d54d7c327f6ccc63821f4504ca77f6f461f642612c8a806be4bb64951c947185e925acc8c79677b94dfb1bec13d1d347fd41c860b8b52dadb8af3df4e90250d5bb6c4c483120b97eeb1578002508fc437c880e8102e5b1a22c20502e3db10772dfb76d231b05f2d73e59c33252257f8e1539a8817324ba639e24a28054724fbd5cf5efd572a6b1527cd5acbaca579fedca7d21cbe9cce4473b73d06b758d49381606a9e689462aeb5fbccdfa460ab6f3f7c8d34a2051f60ce41834f20ce936ba0cba47ca70faadf7ca546d962ad9eb353f66d5bb347c1a8eee7493fcfa464ee9c56988b309d3842c9853adb1809919e16d64d2b4e95b7479f22a00178c6215a265fa76b0cf389f00a6382ae50b5679d82326ec8e7ea6ee5290eafb3f3c5a10aab9cdaa19483257da078aee3cc0647357a0eec187a97d1a34cfe89fceded32e5f8db06ffb8be0731008d5b3d3f32b5ed7dcacdec200910d1eaf258dae6a2439987f4ce97f04bb7f89d14abcc775b0d821c3dae8987d6c7a97863013fadf130659054","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"96ebfc491eeb21b767d33e1c25226592"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
