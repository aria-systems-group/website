<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0e8871b6ab0faa604e5677e966de9c83b449410ee11bb5b788428b74fac5bf39a1b1a9169688dac4bccca904bb09552dec79d3b32893d0d22674202984f3861ebfbe85be23e6cd82938b774fdeb94e4569ed21d24b27ec3bd605f6fdfdf8dd49ee6a40a059adb0717316f5dfb0a2bd98b27867e60b88606d30b4c9915617a183ab2e94d63bf7bd4c284b97e639cfac7880c534cff87a8e2599c6b73e9ab68824755977a0e6f73e9d91a6536bccc6de5de5b8d7f686ffc7423969e5a18e0447cc4ccf6525e3272760f9962ba4d5b9d31275566274398366f01a92b11038ddaae7d378598e069060d77ffcfc970085f5031db1808fbaa5420c4357c555d51a23cfdb8b05dc539f540762c290dff9ba04a2709385fa91a46619b9da1c4dc3bc412047ba49005f2be659c476c6b3bdd0a9a50bd5fe2a6cf7463d620655dd3303326dec9c74ab69da60b73e2d75982cadacd616cdbd178b9efd111fa66c6c73faa7c209e806e7c67f52fa970e854a9671229dc3b3b7586bdd801b0fa816ab95555bd5e2b8ec51889af8f0e077b8e67a9ac7f245056de71ce0fe02cf33279b19bc5a1cbbdc727420054bf0712b11de809cbb2cd1d32b3386cf10fb724563687305a7268984e939a10909ee7d801cdd9134e7ca742cbcf104000291736c7dc437d15c90527f27c77450a197eb31e1aa08a37b053841b2d886dba6e94788298e3ca74928afabbb4f880f3e873b484f5c6caf7e73c8e360d6ca8311558da500cc443357588a5ffb6746804d6b414b613b3d4cd7e6d5b59adfb5c9278c5f96e807695b16fc5649778d4e0ec6bc0ce76244219f3bea0572ade6c2ba55256633585b5cee6a18d4c0b9cbe6c696f1b34490f86b5e6a9238121a229f0e37daf514877e40a821d6820bfc803afc5b85346675f2193596656c1ccf21156ea2dd3db9c2bf1d7267c7ee2c91dbc680389fd9ebd42b5229c11b79cd7e4e75da54c065e0938d09957c5dca195bae44acb34bb34f9fb70ac0cb7ea903b6369a996e0f22f723d3f2101846e691240fea74a813dfc9873b2bb246685cda531ce60ffdca4cc90da10c461406f7771b400ed78b11347aefd5c6ffa7588dfcd2357f463479a2b12b1909d28a3a3d66021197c48861a783c1e733c49c8563d5a9d025a1aa9c6a17a335ac90c16219d43f17882fac18e7fd824de4f857496fd434ed2d7be3b9d9111ae09b4a6fbcffeaf834d90249850c647b42e6e4df11d0caf26600f46e0f045f913def7925c1a482517846d5c67aba9702b71dc1a11492fff3bbc6a633a64a1fed665d103b159c9ceb0e1364e02d1e46d3a6d3ce7dca1e3f32eb7a55a3c25a5805cf6e57da394b1243f5b3aa0bd2aa4b9db392ab47e3f59bac95d8d1a54c4ac7f3e22c4763e3e81a93263f48989df6693409ef91f8d8cd89157b51bd902e5d2551130263b8e57cdbc21569d3fbe7ab30987d463eaaf33cd1cdbf7f56d927930b701e8993b9c67134c926c7f5fa3bc242cc1c3300131dc9ac96806528cf4d5bed13942179714f12372b1c3f4a129b967d1b4cb3d280a405c31065c2c25c7fccddb81916cb309cefe2633f3fc9c2684a042b846151fb6261ead6b7c7a5bd9e30eec89287655319994358b0db433e99bd2c8a11a9b6d2e00e0a2e60765c7f97ebdc5716ece0531345f536d3ea8176711c3025fd759729c63523b998a97adee9f2340192b9d653d57e46bc525b28c3c7c31b1082167c0116723836899f490d29f047307dbf9409be16fd47cd70526dc64112557685d371eb9f36a2c750d02ac10421c678e313320a1843a6c167678c8600b665dfcbb429e77e4108a14016a7a446140dfb07d3436d77618f53b6dba274bf94e75db17c88a89363c848d1921da8b189e727643fc39aed76c5512d513c8713f28eab3270cd1e74c6066641ed14e099504e5b72ff9d983e7bf7a63aa74bdd5afaf2b5229fcc12bdd8a75eb4b24f858d67b140d00850d9bfcef33d85a5f91e2a367bb711261c65cb865a989b925e152095b1ed2e7ec02ec8c702b224bca8d0b0133afa0d1944c8ccbc7dfacebb52d494cdb397bddd8a5e71f8e75beee6292b518253a8404a75ad817da9967eaa1887ca9c008904559e24d7dd0dea28b28815b53e5aa4cf52c167e79be240a65149818002775bcecba4c45db817e460a114de9e99ff4883311bb6bcfc50e0d5277ff8a78bbb291bba2fdfdc957f672fad4bc5e6e26879a1eb8ebb50fe20843e78adff1369d704580a955dc7edbe3b25080226bf157da49e23f7d7dd112101b81db9c124d70e331a026cfd78f0f666039a41e491436ccec0220fa348a56f14e4c2281f9100af6bcf046e3df5bbbfe514973e071f39e6f2ca9f75f1d306a1455a912c2b2c2c3421afb4d035bc63b0401bca297c6867998f2b07ecd335c1f534a0215f85d4f2602cf0f2f3cdc3bd3db23b85272965f7d83c0976c61d8013252a83b56cf22131ef892cd804bae30c1dd9deb0db3b366e4882b148add1c445adc2dc8919f37f7762d441b333005b04a2f264b67c2e19b0e0a1784f531aa1187b6519c5f23b7cd5babf2acff204b631e7d1a5031d09c08e6653d418bf7929d6acef5fcce497fa9d3ead801eb7de8d90cfd420ccd6c4f36552873dd14c9d98310fd4ce6062b6a8c98eebff5bf90b0a8c2249c2f5052d7208575284b6601587f7788d9180868f9e38ab9c922bfb79bd9b90257fdb6e54ac18373f66708bdd3f95203315b18f75fae2f939a1fd0cbf7e4a6661c334f82a2559cf82042c7be7482c7140cf9048418fe968d350656e9727ae8a85690cd81b890fe373f07bc962caa23cfee62ba6e8a2d350356c64fe626c8aca73799e9530cf4f7e1d7c0d3eaa68dd436addcd7f0a275d7e1f6d1e3f28c33338f4d7433d405dec39331a150f57cf7e487d128199008db3bd9a0287628a664debe9473d9b26c6aa54c143f41b20e988f5534d03c7ae91352c65ccedb5d48663111bdf1ff4d31477b07d270738cc571e0eae9f2cef5a9cb5932f93e61468e4975e795a68a38288355d1f6a02994695872d8256dc93b33c3a584c53b090142b1d60114c9019e47df931938871b11daf30ea47ce8c0673d681e6a1241bad76998fcc88a6009c3935648c0643b265f35dce99e5f84664c20c593a0dc37c35a7d1de4825d7001d45b0279f27cc952ab0073b4c73b9bdd306f67cf38dd19546823d779d263be1caf7b00cc6c619268d55448e82f9f88fd8d4703eed1697fae108c5518bc4510fa1b281cc77dbc36ed4015ec920df7fce2a6be77b0491ec04e5ac76b20dc81e98e4b5fe4e5d5cb2fe31e4cdd46d96054fa11bc3337074c36f39d2055ce02b9c6e344267478b5769f2d57331216cdc7ae83d04d10d136c0ce6e6395c0657752d9a2e5b6cc89881809fa9e965707585eb71cd5ad2d87033e38863ff1cff3fda89f5617cf46ac0145f24358da6c7a9de8c059c53d7369280bb99da34f061cdd2222472584d585f8483984d0136e8e91b4d90831c2e8e719c682509a8b24f7f0e9151e9c25906567f780d9baed3a602080940c71aecdc5c602c047d8feee0ef5b405badb511efe7e6bbcfa9c37eff14a1da45a1b77c1f498d060774bb6be0ba92822efdb7ee0f7bb86ba1fcaa6166273bdaac9696e584148538d450a8bdd2b222443ac6609eefba4301c3ba88f2a68b2c3bb15c42c561042463bc3f88e8a0bde10088564a00b3c0762eb280bc618081cb337a38a8fd72aff463d56098b1fea8373a92d596a7fd12456b817179769c45144d7cbbd720bf27c91ff497bdb645e86b9d04b675213c82366d99626ab11012cced813ba4c98e3c2f7568073dc92219cb5c16eb56010c721d7baa167a1043a7b2706f4f4d725a9678dc94d36551bce32b123bb2fb8397a5286ba29926adcfe5ab904f8db80e17bfce618507f8df1302a605528a2509de3e00d5af76c506ce42035149bded2ff8673c7939465a5cbc0981231c124480b3f27967355266c8fa67996b375c0b8f7a63b1c233aa06ee2b5ddc012a9f048ee66afacabf9171ccf57056d27bc3f8ce99d35e13f6c0fb0f02816556cb373323610d8e9ef217c1e5c0f126dc349fc8ee50a6c135756d2f9465f36125bf07d42d57a4c7d4984fbb2838fc9c58bf823454c241c284cc37de922a4e340712fdcd8c048510a41b43430a4352b90aca28e5d4a05d4ade8c09fb22d443fd9bdb4dc215f2d54a4dc0831220fac909a749fba136c9a71d3da5cbeb6cc2a09d5e409f592f31d76ca75a2e2e868b51ee97612ef02a5452648ede0adaccbc56d6cbc54f2b07694a8a762ff319361204861bdd8f81987c82030b6e1e4fb1f79db96e4aa6961df758a52967827bdde827c7db9b5a290e50b686e00dc0f2d3b975e0c1688583456b2861c16157c52cf50df7dd94cb7be41f1474a0c4372009be949a6769d5189c0c8d3b334856c871307f73a3e1b4b667335c83ed2dfa4891daacf9296099162f1683801c87c14194216f11a6882aa0c38803d6f158f2c6370e8462b21965b940bbafbbe45dc3ca4b05ce3dd9216d16faee800ae0489b7c92d906241812f98563b42a223c8df1fa64ba59b49c333d5c388b55e7456d567d00986fabb35d785ae09a665ae863175038f91e385d05f1f9c522744f773ca172d3ca42ed333cdc93efd2937acaa6f48405f692327e573de2339602330f33eccc43c318b327f7ce7f48f1c5718a01af20b229f31989a230b79625a3d72134ccd7ded945a17dde396c6c4412d3a496beeb45d5d6a960daba9db4a8d763cf061ea44425d42e83e5ecf3089cc86827433637fc96d3489167ad1ff026d73213c1876384a8f67166a977c21f9dddf18370c580d1dd08ffc81ef0a0f623e007ce282d7845d3b5b88d4ce1f1ee182b355635e602ac42c16bf2bff85a64081c13ec6665b737940477434679cfb34229a1d92f6aaa4d92fc578f2bebfe8323ea6fed2d4e3432b2c0ce3c18c6d22476ebad3fb2e193d79be9a4d45fb4ec9a6a59dd1a89fbd50afb1ce11c066af0950fed9d69187778486a46ad2e497e6fef0e461fb616c493828bff9026b0ffa25ece10706641a76112035ec08e4b15ef204d99fdabdaff2a36017707f7b2652870b01295c21fbdaa7f11e9c17bfe6bb291d1ab9c1115e5768ddd02b77d377752c1e257d844549074f71e28dce582ba8f423aa49469161f0fffff760d0f0948a2a8bd0d9373cb44ff20dc1fdc63f45a09a001fe3616d1a4872fa0b5c3849a1c67e2318caf357c700a3ce97fcafc885b4eef2cff87f48fb41d0919a3edb914be83006fd0810eea0e01629bb93ed0555bc17fdadd68be9cfb6c03017f9b985da2510fa060308c3e320eabd67176c787496b87de7000ae74cb5f4e72527fbc777970651a211d8f127db9994f13972624cf9997249e43d7c1b8c80cbcc02458abda09e0a84956b0043cbfdbe4ba5c9a54a98b4b260c672ad032033e3297a85136024a0138a355519e8648e5cac64d2c1c4f8a6fb92f4da8ed2e97534bb8439ed48d55f14375d0fe8a00254255fe7f6c5c6a5310b44bdad9b445a9a9d253091242bc3a1052218c6b6edcc552ec0e5657e5e32c15d6aac91b7d4614bbce9ff160f1cf00d593a87c88d1fa416620480d6d8268be0322b406c15b95084323fb8ec67741017780975d901effb594a280afbe1581bec49c12e9d3fa954c0c6d92f8518267e37fcc85f2afa626b6c3ec878746c9ea1f5d939fd1d9d0ea74af79ae89e4ab583195a7ab59c85aaa6e47d2a56d3db0100133a3141a95498eeb2c16185ba0a7276247655bdc70f145eb1f569e072fbed48e23719c81511024163d2d4940848e0b96d2392006023d7263091d1756b0356e9f81c374db6e15ad7c238974ba17d6375faa86e13339da3d6b8b59a5f1487478187b49bf82b4dee405a7d3412e010b9b6e3fef73866bfc7e0baa36d7a8b31b61b1704558025752b0d3b27751a375eb48c4a1b25c5f09b4e960c92e0028916de5e9a0f5996e5955b761723e28fa5f7dbadbbd8e4071980e351174ab096d02925874fdbb8c0b6ed50cd700166db347aebe347ad309f8a6bd43bb8c90f0e02bc6a763c8664e59b814b510cb7b323c404ad85acdf679ad4d147662740ca88ae736547eb17ac0ac293ac95f8356363995da6fba92fa96cdaba0d04af7c9006356812a72742bb4952257f7e756dc7de88e3e9203d4a96b7df121b617a428c7956c06bfa573052aff867b31cbfa0c4fc2fd022d448bfd956dee0bd7af1569f405416ae2c775592661cea27de91767c1878be4ecf9fac9d640234140a4da75c6204d7cbeb342879f0aae70354d5b618743aaa34ed7c3448a2931562cd30fe68974a82ca8b2a426591f6357da00a6454fa9a385c970a6fbba7729d7e4b9b63755654256fba560417c0360c89b321ec7dc57564c94f2d7d128233a626bf8c81819bad763092d943fc41a839e28b1c1a28b441881349041093549d39c467c1a01154095d882f1a9c14cc5bb4bedf55586c06fb6d4d272516bbf3dd91ce0efd55ea3df9b2e6bbfcf4d2a6909015d702715f455c5736739a78a0a3a4a265de892c07b88dda2e2447a9c3ac5f04176cd6e7978dbbdad0526e18b2bd1e0cd1fc190b381108e46ed81b76657c94cbf1fb29e7ddeec120d82f04f2203f6f7ec27e2f5d2346c0c4036f4e0554ab0106a40991592c359b7ba8d7f3f49db258aa9fb4120e2f815a532480acedde62384f4d3987f98ce54007379be74898a519fdb752f46ff6f84d57ae1163a38a68c4deea87cb0db4e74dc261968b9286e453274eec23227b85f5a190b50c97da90b1f3c2478911bbe1626f9a0f998779785c67a7999b7590e3043aec81595f432d5b69156a88505eb7bfcb0d6c8480fed3b92e8c95900e57537541966fadf063820c76d59517ffc1bf49d393241a42ea7254f07b0efdc6a5fc123cbcc627189a2333e1e4850f1ccf267a557a4697f33604553076c92c1db5cb0e427384ac688611019550ff3e4941dd3fac9bacccfdd6f340a810ebc9afaeeacd657981e843bfad6b2759c8ecc4eeaa77ee909f33cdc8c0b0397c063b7b6138ff48e0555502be4a9dd3764b34602114183378aa2b53415d0eac475d7f7f715245a4a82d4f1e86648d9a80393c959566b487cf4b37722f78d9b4db6347334fffa45156c3624b274c7f869c268cf0fd59688a60116d738bfe165fae1653622e50a24a72955c392d81783a3ce66e6040a27d869659e6591dfe4a9d0ab26b796a47d8f33f666f2374ab1e17c9a1fe9c5c3a1837b3ce76e3b1d73255783a6bd629d958a2cf7db3f1ae96ec7baf2d1daedf6afdce742477944b27bfac369a2ca70ef9a85c0e70331ae5397d53d9afe5f87942887abb93903553aaca461db44d78372ec3a34dcc4f94e081ef2e2624726a6c1b5b1d5167c8d1e7cb7c7cbc6962ee78bd8669d3075a2cb08ef23f69dfa7aa22ba0465dd8cbbd8d336a22ac1d679a69a0a932f054dc7cb7d384b3b9af456f4fe99bd67b0b5169f0a8f253bdcc0e523b7db87cda3ee55cfe5aa75942c59d2c7b240d8f80bf5bbdecd7dd4bdb50daa6ae6f589432d23bf061021ee53e0d4373f493b3243bad5c9cbe33638733ce6a84fe98ccb81c8983b7ee2b8932980896b22b714965d0d695f316ea088ffbac8b6a933d32dd58bcb1c2759261f6ca353fe3f468a4143a0b3605ac5a142ba61c3b446df77f01ed5e01c4cdaf2abc8b470e0cbab7263e1545510890d3f8a7da8d4f6ca6443e51bd1e59816393234c518f239ef2bcc439ba9437e5618f5cd4bed3c723f901ef9ff221eb5b51c8e18771c57dad3cd9579eab1d051cc3b41c58d60963ea8b84f5566ce04ff3c078155391e793de9615061b3a68571d415fd5e745b82b8a2afba73f9b68bcec0ff21f34eac9f83fb970971dcfb06ed96b8ced5d108f5a58efeeafc77ef7f047a47be447a60f00c435736a4a764422d0991bb852904655205ca6e2eaaa9f9c706b488beb5e6cfb4bc7f61be558fdb7cb8865eb4e64623932fbbea0ca4bc4eb57e4087d3262da3038e108c72ef17fc8519ea09909fac12cbb909d878f0019e02f4b3e1ccf59ae17c639da3d24ca11ce99903ac031a5dc629949dc965faff784a86f3888b5f859a6e8871b9b8f81e768ff9062719ea0f0fe299609440a6059a22877ddb8a9cb93a52f0ca27a5026328a3fb9dfcee6670355cb679c67ec2f3f80936fcd1f5cf30d9d4a3e366a44fced86958c1f267c47658231c55dec15cfae9020fe40fd001fb9f534615d840df5869bb10d0e354bcd1dfdbd215dec280f38bb63e6520f31052b9b98c58071376e0e8c3100aeb7cf780ce36ea03116df99dad6bd3a869f202582e7d5163c2706dc26106efd84c6cb3c1f0bea9d75e45883a38fbfbce9a34fa3155dca01bf05729f2f423a775ba0780fa2ac4cfd9a1c6d4cf2a0fec8e4031a1e565f23239e9bb0d04c24d8bb5dfcf7ab60aa028e3a066f69bc0c9b26b83198dbc38c4a2546e10b0de793530a98e032ef0d57c66423e334c22897b2990499c9c2b4ffc9dd71e0e36c83d86ed0a30f9f83246b41c778d2d56893db1adca007f3da12a765f1d338b7061efb14b1a1af8f150122455e81e6e661a0e96e563cad5661c3b71af0ad9f0bcee3eb87d5a05710e20a3cae25698025696e1764498a0265c29122d027c89062c4578c7bf6a2d3cd62409905382aaa994c1c5360c2838a091025d843557b7a7f15f62a1c2e6d4ae28107e19d7cc9cfe2137c00e47372697a570e356242d2e520b49e7c63783baa93a86f6021d4d10826d15b3ca17df768410bbbf74bda5be8df7451cbfd2aa565576cf601e07e6d9b3d65e129acc0f2f081c3f0690c700bab223b76def3be9ced9bac5d7e48c2cd2192085859fa11ea0637d80026fa60ebce57fa8721b71e94e9343c691e38dab5e092519391e037015bdb70e3b7cc96b6af02ee170464eb983b35c267b5b0cfa2b7cb680c639a92967626137af9322327a54e9d1fb88aa436bc0c310840bdcbaef3d1ba77da138c11f9cd50c02fa8aa5245eb0e13550e8f890cd6bd91096ec598e30c6ea9ff2484d342827fc4e5b27dc4cfefc5d96110d9301d9d92b985ab7e37eb9b7676f41f848397efac32ad41811b399d99028ba31ef50f8175fd453fc95d149b7246bbf9ab07a99f2b6031ce0d3cece85771768d9358ae71380ac940d9c8c186eef73387e7891db9fd9a8101ade13600be32ee771d0dfa0e0044c6921024bf3b129f18dad380a30816f44a77419b578a379538fec34440e84e7dcfeddcc241f8d82fce0293eecda07d6164795340bdab0e6813e53941cc20408d60d0bd222a397045d387ce9d84bc7ded3521d85ecf2895c638d5a0e4f44c620bd5be53634102993e18f6cf4916006898527eeecc5c52f371b0e146b993a4bc2892063fa7407325e939236fa61a56ea15c266c4e49044e75c66caff0c6e83170ecb640cc69da3244762e450c5733fe1cccdff361d83115edc6935d328161235e2cfde0403106fd221112e83fd495db0f4e6afbb31f677248e75fefcca3948865b5b0d6f6119c2e8a19c7c6518924d2d159dccdabe3a3a96087cc86871863e318aa85859ea24a963d2e12900967d6fed9b1b67dd9d8d1bc49672b9a735e96a4d2a59337fe83689f5c5ff2ed5dd3cec0518d986223b7aef8f65f0862d5730088900c960cb5bb5cd032ad31c43fff3aa8c426963f445c5759f2cf1f6db7f57957fdf77d85d13b80cd97a102aa33b6e5dde5483ca7f5ecfcef73d0521a223dd676a77b953eba47dbcef56ce829b682b730c71fec861ede9660905924db9e018047f78b8aadc76e607b66d733224035578e5eb811eea45b82e90912855f2492647df660db7d645c3667e6a85d1f6e685e94cfaafbe8c9549e79e7a5a1ca603d2d6ae172e98b17b48d9ef30b740000060ff3dc86c740e5056f552c98f67ee650dd22005789dc99e323bd04ddee6b72794bb65c78207b033d8546e4cebb64c260b810297c16dd90a77465d36b5ba3b04ee55b6a2fe9f6681c2dd5d0123fd6da2c9c31844835574c8b80b357911028e5335f5ad1501f0f7989c587afc43f9d399fb3f3aca41a4036bac2014d08781fdcfbece4cfc5e483537ceed21324630b5afc0c97f1eedfedbffd9136cc9154c1381b2e4dd18731f16f5d866912c59067a492a15eb41070f8189525d444daee11eca70318b4fdb4b3410cc7bb9ffe67956d85469669a3373b43e94f0a64d4d6ca17c5eeeb9c9145644d02e9323e87d85c3c5d77765041b9d60fcf44d76b78dcc8b80a4bd1295d1fc251c0cccf990e5d5fff7159a32797c7aa2693eeb945f2db43c94131235f4ebf7c35ece2a4962cfa48d206218cb1b3c499e5e0e7fd3f49b73b705a958d96494e682435fc04620247aa1186729808de1cf9313a58ece96fd45ed2eab8285d264838b30c5700cd95516f8440941e67793b03a75ee1d19786b03a68005e920ad5daa57599b297f1ce5c6e9dbe0c14e88e9a790ce676cd7b2af009613e159aee3f38b852f3a89d6e3ed558cd304230e89f8e70cd7516ec85aeceea48eafce88575770e497cb7b78c80141bc53ef477318bdf7263b885861f76d91ce8a0afbd59781c661923b408c224fe7c32b8c993b991aaaa202646da8641f03302bf9ae03236e0cead56bec178c0294bce2bb150b3e4f812bc0c9e8b59e36388dfd763f0b29a1dc44dc706d5abb45b9ee7cd0188a1b3b099b326eb9729db8d45b3c6c996ff4cd727cbd0a7718242dbadf099b9bbf29140b031713a8a0fecd121497a1e8481d838f9ceb53c65642a807e31e1184fb3b344fe116947044fe6168192776fac52c9646a801efd4aa43ad914795e0cec7593973d0ae54239af69aa8fcbb1ef96494ce1c4585a0c2fd514384eddd4014d5030107fb288854cd450f50ee4dd0c9bf4e25cfdfafaf57c45202ab4a52ccc45ef123292363bd915cc30c5bcd6a0b7d82a3f22aa14d6f84af41b98599dc0e97a0448fb5549a1d5f7aaac9d96f9b42ea5d5253959a0a4f23822a097a33c86f6cb118f418f3ce3729b54b0e38c8e5bfa8ac60289003c78e2bf8d315f7940fd9e3734a796fbd4c7e5fdfbc57c27e1331d76dd24387025f8310ff76404776b3ea07f6ce27141839f1bdb6d721d9cdf7fdbb95ec837924075b1658967bb3d34fd9d1c63b822826733abe3f05f1ca19027e31d4c16ae28c914b5c5d1ec92b3608370b88842c34b9c9784ecf437b9e8f9f8bf97961e640a2c79d870d78ca724ccae0cbdada0077d4d1d0c3c7c962163990bd7f205c468eb10bcc113165713209b8a2e450dfb6f9f5f004d936bf5ab8a7b213316f8a804f43bd6af56c0380fe88c4ea72b2cc24243c98715b148471714c6504229a9420434ec86cce77aa2019f414c7537537d60b4728606355a08416dde67fd8b677312547e3ec3b6a3a65bf8dc254edcf20e5c118077ace0db23f648badf3d4ed4e41d9b48a6a2ef0d62d557c231f3efe4dadc23a3e68837e5294d27a0322863a826f33b0d391172160ead5e09e55ca46fec82459d6487c4a721b5f0e51343104bb992224696e4c6a0e7cb1dfbdd498094b6cfaa10709da7433d6c54c0916cef68f347ae0abbb1826b239bd31b78606e43840706d1dec621951221034de0a7b3906b6883525f9a2ad407fbf088eb7c60763a78556fced718c837aa16091f41f1bfb8074f7ba372da2f502f36803464e6bf32f187092015e42b2476ada4fdfd7d06b7be24bcedaf87069418dcdf4340e9311c7ad4be69c0fedc0ee4388608acb7e1e1594a6c527ed8031830826faa15f018260df6c0c48ab9e835724439aabb142173b6cfdf94cc94e107c973f864df6a32a3e73ca011122c8d59e22b7c3d053d1ca2450fad050a590731f5d75fe16ceca4df2698b8bf4ba4d3ca8180c4b1bf9672052c8eb05a822672b54e51512a0f651b4bd285f02680f66907f722ce691d7d06ae399050104841cf8df86eac54b1409c5329189f7f56ee1c1d4eed18e11fa5b664d699db444628720efd1f2af7b9ea1e9ed1c5e699cf1a165bd8c5a7a825844fce9f4a530996b3a622bf7a1c0045178e2ef7174b3be19609bdebfec16353194a36f91027a7722a0328949fb709392cbcbc654420ccb52a681c641dca34ec83a73dd7b18f3cab2045d08fa901da2a9663cff33f0c8ed28ebf7051544a9b18ae595fc185b836c5dcd97f759c7e370c3f098c9bef1d8c1425fd3fb1762b155416ea284f3dac706b9560735958126b2b08d6f5c02231e5cabeeb96e72a36b20689e10c0c7d15af2c24449f3e8f3efa5f223a24cd79f89c67a92a144e8d91bfacaaecd067a76872ae8eb7b0f275853772422875dd458a71df7eab83b17f2854a5576ba7cc3fb7b444841b398c2e030cfeac04d6d2863c162c7f8c1a4c9a31c88502f0c10b210633d2eb2bacc702a546e51c325797dac6d0e1f1bd00ac4a74e159fa157f1684ce1d4deb923354a6534f3af783a5df8a86389664192542c08aa1e02dc625d627d6e4bec49877bc068d28d53aa09b58c6be7716482f55d19247e1b224a358804ad8dde2feecd54eb24470b604f7bb84bbe9f741bd0e3ffc1ce04690a4e90f5917ac4fb09050bfd34d3a2b3e61289e945aa7489f0e2f572a98d56d0ca8b7ce3e8135c0ad242c38573102d524d24acf66721a13097f0ca7eef19e26eebc8abe5629ab7ffb75e2bef10137a7f7f1d9a665e67e0a12bcbde4ee551a6dedd455f01359802bff9c2f06f6de1c1af8859e92cf429452dee48fc3fa3a8789e30b12de883fdc7ec47b540917d18e8f0634dd4b8ecc9a70c5487d4a08a5b82f93fda1cfb2e8cb6e49005a8106aa7a025f21a012ea5a0bd7a6abf085ac0917a78afbf0ba64d2d8a30dc9a7403c2d2c36c7d88e450fb95cfb71609017143aeade139b0e7dc5abe7aae364ee302ae137cd8ccc754bb75d401d06394a2ead489bada0851c92fa8f0d4f307754ad7bcb81a9822a7523588bf3f353f9190c908803bace98a43ce9ff47c41528f8f2ab578c6b6b524e8bba155c2bd769568b608f202c7cb47fd1b57eb93377e1cf60b7cc367211b304aea50c2ee0be302fc1c3ada80561f1900f6c54f4098062b0c9ba97999801c68688ca9a6db977f0dae6ec1bcd14a91cce13c0fcd5fb22890d00ca495c4cd5966cbeedc28dffbf4308aebe300061667b85b1449bd9d3fe01ad20bff3d15c9960ca23d63549529cce0e2d3eb7da9461f867e73554a8d74925f53df45b2db4d82602e163c2af26f4736ea68bec636c2bf0cd53636cdea1fc11bd340ed1de6083321adebf0762d3b32b625563c304ad72aabccb65ec294d42e1e6d16e7528f958d0af2af8fccfe954d624a2942c14b9f1f9e69dcb6d7f2d044aebc9fff6b89ce345c4b680abf1f11d9a89d38f2815d08e0bf76aa395f914b15b6d4c29dda9e9c4f9b69e37e4a86ccc0191f6e2e22675c55ca08785224a5b817f45a7a2be182b0705445420f5cd626aed35ac15b0f632f7874b7ad6420642d1ed7dbf7deaa76eedc97d00c65e1c83c1af9a064899a7ae37fd3f1fca2c31db1d1365b2387d98bff1b7a160f0371e090d014dbe871e6376e1cda744d93ee619a9adf950d732217fa6fd420bd4269549dd89ab2f6b44eef7e1a1a5e5afe904fba0e98bdb58585201b40c469b8bc8125dd3f926618a6eb15ad01471bfd32c87ce49e406d4187bb9c252abd6017d7e6c67c591724e74b3088364689439bb9ef7748c40f3765a8711482d832430131db615d4e8d8d66d796f830d5fb9a62725e8a69e051d752044d4822417635bc7d5f2e4893a02e65504c3ba25567072debd78acdfae66f3f9dfe1fb39fa5e6c9624298de325d75a2bcdd5b47598269a32efc09e48034ec5be78ac4f016b0dbd0248e673527533a5d3d2b99670ea61ac2e0f409fc682a5c9346d76a58d55d5980c72619b981f6a080ffd1a4b7bb416e6ee57b3a74ae844bd7f187933d0d57a6d1603359a6cf46f01feb80eb537e857205d56f21552d7cb827e5a71c8d81d3801a66630eac686dc85ea24472569503bbb71c64f20fe8ce098b9624c7d23c59202405609a2e8720aa7a27aa475fc473319795c0b555414bc24ce921e5ee45aaf67e2eaf62c01cce24bf1fbf88026d33e593fc749d9470c80c6a3fc434e0b9d74f8e9fa9d1e5f646db5905e3ebcae98a21bb9c8f8985e6163d37f9123f2818efb78ad687c15e6f44d94e3c66ac115982e7b709f3037acd644e10c1095e025166712511c94790d858919730805949f5a060c873040da7a3180f0e88da6fb3732a848fb8f954966bc1e574e246b865991cbdd2d13f4d66327fc8cb727a4e1a892400945bd77e657ea0d38d499f5c3d8cb8a8051cde6446c7cca2cdfacb0382c90944f928567f098f5675fe8fc283cb44b9e811dfeaf956811e5cbf5ee4ebbaba87a626db1184cdad4a177910d8f0182dab5430867f48209d47cd523086308d86d9e15c75944336b4e5becbaf6ec8477bc9551b1820e40ae7350b6a92558e1ece93229ec99aa5c0f186c32e8c862db7887b8b8d52a9a82771b213eb018ea6bcaab09e3712a24f4c45b6952a37f8924f5d86e5365fddefe2bc3842c28bb63abe34727faa60b0fdf1451580fd8b5c83a0688347952393cc4388e4d7ed8edec16f88189dc80a44586ee584ac375f86958b88c64f3641113bf14a93a29cf836ff5ca147a6245e7fe3cab099ce0925e41bcf176d58f474092a5920eebd6634693da3608e5866fafe28bc602b8003eded6cd485ce47c1a5c539b1130880038a3bc21939f038fbe3cc70d49bd412f9704844a7e69ea552b49e8e1354bae42b2d01c225c551d124c1dd208a96177e6c3789547dcab1a5fcf67fc000a430c0e5388c7710e4c9f08655a9942c30aa10f53a3645c72517e4fdf07adabd85eae1ef0b84ab5ea30db8b96152e518dce0dcf44ba0e2434f537d4110ee16fd9ed8808756d83d5ba2e71f2bc8c6930b643960493d4990a60b87d16028a24350da5498d887877f9ef4d811d7df9fd46fa1dd86393a15e891ac02c106eb1d94d38ea1b4becafc3c206f355458187402b5ff8274567e38f74546bae289e0f809334eb2b2e296245b575567f1ec670798889720ebab4c7d70de178bc852cb1e8e03f4a5c9cffca7268377293cfa2137fe234f31ca259321f754c6c94c1b1c89289a174443280dd08612a739634a61e2237e7669d794bb337cacb05aa7ef3a5475ffbddcdd6231edd1bc8f5d39bc5dd482a757fef01cf12cf6fd24f1de616c5ca2d921dbc9efa1c39f6569b0fe8a87c642ad493fc92053b363416a0ffeda0dc67635e6b95774f4697cfdd0300d6ce0ee32274e13b49ad35cd0d39c75a90ebe68827fed4b1b06e10e59f5bc108ee6c0829ba94cf8d648b5400c11d73fc8e738b6ffd79ca2d0a665a92990e69ef93ed2813ff077b79b6d1488dd673b0a1e6ba84492e306775740b2c8b9093f22c47983472986f1ec406d9a0b4bc350ceeeb5b32489bc8a1f485e86e7b379612cd1410a04d508a61a4ccc4ea6d551ea7f43c594e7063eefca004c13e9521ae26ea041a5863d77f7682a7ce42031190ca9df421765a604e6822bcd74bacfc4e972e07ed89c36ccab69790fb2708036d26f2f4a10c276e426cbd8f04043c62c7a5610a1d6b3bc7cd14cca03022979d3a1ad3bbc0b523e07d09bb54f648bc8b131e7d9b72628f50b4a084b099d598f1b47802eae7dc5fd6d818886e39065a8d5956cf3f7c8af6591cc2be42804bbcd4290b20c09aa283ce2a2f401d7e3cbbddfedc18e6d6783b0e13eaae062506c12a2aaeffda44c6a42fefac8ae7b4af222de73ebed26b52cc4370cbda1862df0a30de79ebe0512f32b8b7f4105f616d409704cb1e41b0d012f7d95c5a285c55f57fe00edbb0fbb11644d4b3dd25f23af434d146a0f76f93f3a9950072b39ecc0b2a76d66c600c6809c6ce8fed965ecc29f4aae2f089767c8efe0db60fca7788071fb7be704fc2dd5786fc3fedd60e8617f1fc93f88d52586938b1265774643890ba49e7c301996babde52e0e68f5a725aee0b2e7178231a03aeafe49213637b763ae7e1596833a5c18700257a8960767587b5a29522aa8c026b79008a536500c2a7deaf6ac31732bcba52500bff56a23a2426283e27f957e1a46368b2e34e9f57e03280ecf0b883038c0a2c6973c8dcc59cacc5a7272dbb4660b65ef1d1ecdcdb678b44d54a36176208bcedd3e4718b116116eb45bc0b4e060da643475d1a86501be5763e28470daa40f05216dcf9ea22f0a3d1d5ce82b574e65064f4c993bd1b9f9ae5715286694f0b6192a011c246887f2d93a8f79e59a47b38d974101142c70b1dee7c1d2e26c7af3e2405343ec87fec26ce40a5e704bf23329f2765a5ec20a331bb312e8ba0cb7229279cf2070756a4501a2147d7c0d83c038de7cad5b852b09d16731c9aeae33d74a87820f859a63533ae7873de23052026ce8707d4a8792646a48e325de5dc95bf72edbf973ae6ada71ebaef9cc4a2cf4d736fe16cd1f73b68824d569423e1bb4b31f3860c37942f53885bbde9e2907aad0223f3423baa3844c697f9c27ff8dd27a9c3266fa26e3b238f1965e4e3676395cc0df57c2ce2ccdcad083e7cf9a4c29b6e2f2aa06a066d5893681130d1c027fc71e095ee6e30854367df917977ad301fd803ea3f0ae2ea9b5229aed3c4ec8c74ea47585431af33dc12f4e547ada98b5bb9f41040c22089d50d3e56aa251a5e9da938197598e7d3ca628cabb1ece06c712615822568006b3f7302809ac7420294c5bef7d945fd2f0038f18f4e9b4725d5f881108e57c7c0f53aa962689eadc60a4ce80efbfd8804c8c76b02f5f812c5e9f1410a7dee999a41b7c85ca6cbc287dd26e5252388f80b0840b080de1cabe7d2156841c64f51f396ae1622f4b3027ef82d86e2c92bc06a2c33afee9e485f18bcc92565492365eb9a8dde64997ae3746b2c174551cc26e800951eda5ba430d395a32af43ebe32aeb772be1b71cc1f96900ca2840d22773d2538a8775b5b2a04e0119bf055d7e50d2e56c68a72c3884a26d082473b5e1d4c4a780c8acc65add5bc89346111c03cff11a7379a33e0e1a824531d7799fd78020b002cc6647bab4b289643cff6a7ddbdbc624f7b1396093c464adfbbfc72a86ae8a873954e0796b70243712111dc7927664238e1d2af30d6843d50ed3db0f1986e8066fb9c90e19c8dd5014a70f93e338a43ba1022fdd8142378d8fbe40d26a18ce9a5835c80723920a05fc6ae7ace2a2589ea75c7bdf82e08206a6971bdff30dd88a5fed33bb046de2c2fc7d41cddfcf4bf972805a6c3cbf7a1ee698737f81e4045f28d64d34772beaa5b46072c88f5a8922c412b4248527de8aecc45360584d36ba8ce0133b6415c8e3378f0cb3c0042b4f64fbb72bae87af4610791d09bd697ad58d90338cd0060b72c04090115ea802129b083c0f17d558ec6f049fc5cffcc807e1892d34f156b88645d60f1cb441af0011e1604e3cf1278b876a2c4b07ba76e14eb20bf221527198ca02f44e51dce44cf49715bb01f3d7d6a7f8d298de432b33304eecaed68842eed483827c8bc0cf9c52a52fab7ac09d749d5f66af3ef9f90fdba2fe360f611acde9e454c0414a660e268634a85dabbb2b1b3bca4a928aa75bbd1e29fb1a1932bae9e4ddac115bcde4c4b463bd2b574de24c8b8ee7a8707bea2dca87299405ec9dc73ce8a61fa666f6731f073392cc447cd80356e122aa951766527cd0ab6d9ccd9ac7658a2f8446dd61e61b09f838613b60a50fdd6ebb4ceacc4847fdc38ad10193278186b5272b3e3c5f9f4701ff518dffec4a019392deba845d8db772152a18f483d0f9517dfb6f821e3382b87b2ac40bcc3706e3c84e35947e9478573f42edf0abc79fb5f09497b5fb297bde9f5f47412f050b43a901743321c23387d1fb59ec30a4084d46e87cd2a23a7d080efc618b380f06449011c71f1204d797f8b09b0a008a5b839fdd264ea83d7d9183d2973605ffc0d16f57a4f67731f8454b8302382d7f3ee1083f46b1f61c43ebf858008feccaaf6a573d031aa8c57bc9f5b99809fdfecfbb04e0fda0091902aef630c75703e52da3cff6376c09acbc2a723df9d9904ace5ad91e0f7183dcf4dffd39db0353f1314b7ef5e44a9da888bb085890b54fa642e3838579e59cb834127da7c132e7e6077333990919dc248efa8107a90a34a8a5f01e674be4b2d893f1b99b9df32711a9bf7c92610d7a16d9168efc71f006ab008de2fef16ec170c7877c158bb6ae4ebd187311cc18f280a540544774562cc6936da65fddfd6da6b540ea0f3f06435f61a680f635c7649cfef747ee187db4a9e6ebd97b04dfd8d2284bba9ee15465b203287305da94db090f0f32d78efe27adf354463c41fcc23960151c6ed4c49f04deb3518bcb8805fac55274046b15d8e31b574e6423e797967c866f4635ba5f77cc88f2d21897107603b473dff536d583c35bb1e16b7c92109ba54efd783efacc0fe4316d812a456a04c806e2f6f05fe8e059420fc534e6bd48a1d006db2e73436f27e4d8ea25079d920cbc25a9891607c6bc9474969bb0918607e8514d0d41cf95fae609c3d8965e2237b961fae1c72a27b92aadfa4d40b613efbcf9c046770312ee454c779b3054997257813461f01d5a39382314008b1aa69a63c7db5c498f95d0515bedc4ad05f47ee9a6d2d9e26a60fbad9f1056955ce856ccfb643f4d7179b5b7c8bf1ca956990211f8f9c6dcb672ec2863007a06eb45f303dc818170bffbbd51ca35e70802e698b2ac7f6b8c8f40022dbeb0b23d494db46c825662dbb6a222f9895426f406c0a4fb83642165f2fc534509633f3385234e23dab083c34c374ffea8a8bf87558d2a522a45a49c08eab124988882271a821eac83e73f97469aa02364ec8373140d021fc813463a91c78cf7884cfff5365f69a151549fa7a63c7d72c544d21fc9af14e94e2dc134b92a28957a3b3d6c7db9969c4818546d2a52e244b22102b9ef7eb19856b45ae48f41eb5e6d8e684db028b347e86eeeb9454becab408cf78522329778899d2b47b81cbad3ffad12d27f5936d2f7e62cb5cb2a96c5498bc073ce9dd311a925448c7b2bfc5d81c51b0e2d7bf2ec1648a349e99a5a37db929334d850d7259a71d034875cf473be8e12331dc63ed75481c0309e13899b85bdcc3af3c82cb29b80beb8b76d888efbe51959","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5e7ba1eaa6dca68aac3f70078d5248f5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
