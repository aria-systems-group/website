<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"80a5d2e8f742e913d666ff02c9da98f6a7ce1db3f2d916cc92e36300aa6fb7632bd57b87bc1595be122b86be6d466ad0c36f27f9a85474222d5fe9559835db73d4a0f2a4f088538097103ad8dd8497ca2af0d051cee5ad947e8a2537d6f3da551fe58924a4c1465258b69860f6797405f33b63247b3a6fd0bf0fdcf128b8d781f6c3912c18b28df68ba69b22dd31a556fe24392fd924663ef461369157068f78a74028f8159fb8edc3025e9bf66832e0713b5bf07604ef5e4472d18b8f26f22aed1afea889d7033ff2756aca7523eb93ca0e000db1fed495de0cb2907b31ddc66f89873161e0dfb50f2462dcfc130e16909613fdf57c5f2a22df7b53b467e84c31e52450cd7ec50738c56abd91497d104d42060a0e4439cf804d8123fdba443974374a543936cc0f5653c1b556021f62d221f0f737352d322c2dea76f2714102e8c677396c50be18681c9f99afa43ac422367c2713b75123b77e62cb3f0697fa2c56f3bc94435721d6a8ac79141938e3341fa0ef9a9a512544a1c132b4b0a62c41ef9159fddbac47691cc31dc6bb8eb3e842c1ed837be8614336def9dd8fe8bc19e05d709272a3c9710e9bf9dc71d9496655fd2f0a421600aab1156192dbda48a2c72d3a5d8669f404be7f0118209d39855168f521840611ccf862b8966457cedba384c76743c9ee345a610c5521c9da2e78be43f76d754d2a866ad94162eb943188f3fa2a5701d07b6a0e10bb5f974f0c4026af09a7cefeae497f621de593efafe258ed734a5e4b5fd4e0c6c8e74c86b5d727c9bb30ecbcb5534b8b270d0e5525f03a39f8309a654ae61df26a86dca64727dafae4ba78343efd014c194511debb6fa06876cf466d93f653c1bbbb0f1fd1d5e11f4087f1b62c6ddaf8dfddc64b1f37fff612f638aa0cb0117a2f08d9ffcb1d46038e818683f276c8d4366683c2a58fe28e60a26eb5c155115996121782db0bccc6a69b72a31b93a2a0fbf22607e633c6cc1c3df889cc3ee28e7e1c16b63ec2182eb9969aa5a353c6088ce6627b9ba55eff905af3acf75cd00e7702f8b466854e860eb7f9357a9f322e83bc78036b4fb403afb172109e39c626b4b700162de095557e952ff0481366811642c4ed9fde8d6fb2a7100a52e192418a9ae8fefb673c6cdb2798bfcedb6c35ac7cd4e23b1fc1cfc1fe84acf1a3f3866a1f0160e4049affb2b3647339734ab50b3577b9c9c3c6914ab9e1ab93496dad658614ff94e009835f5471511a5dcc27bda3eb22da95dd902f33248a06680cb938461fa8bc5737ecc0b885abacc8cc3d4fa8f85265e5d974dc3a59a2a8964480031baf91b390b637dc5a65a59d036498bcf36bc58ac34d52eeb4a0a80dbc0e259792c32b79ae60e9fc0482238eea1ee8de59057b746863853f7ce34d416127aa66b1055320b8523d3d1cff9ee62bdd6e32deb18235fad3821fcbd132414b798f2fe0617b0ce63a86b4224e469997ba49f77c92e7800bf61ac8caf9bc1ee29ce93cc8bede06d40ec7369c96023cc587bb4573ac87e42629a2917ebb36e779dc2596f45383a1579d2d33dda27853a611fe5d09f9496eafba5bd352bd76c3405afef56e953a10013279c02b4063c73f1ebf174c09bfddb4231d8ad80de19b411608b774fddf4e580d2104e3d86f1ef26a645b2b0aee7c0f4ac1ad857a5fb1f5b522eba0bc7f355d4295235eaa00f73d0b3f0cbfe36ba24895a6ce9d0560e995ec7cd4029560455bfa4a30c7a1f0a817981f389b909c55f347df84f29d6ab06453c7801ed791dfb5a2c9b13851ac7adcb9da77580ecc9de8a98bf630d7c65f73a48f683c4911e67deb9ded9fc799c489a5afc2e1534013cf3ec8d9cc1f4379d729fc4b2ddec8e5600f29d06ee68db57818123ee103e672955b835c542c45ef24635309259925e2ecd1cd1d3984c088471d540b14c03e3464cc859e5b413c0aa8c1262317ea8b5d7ffde807586a54f1faf226d3cbfda13e4951fe4cbffe02644271e98d48d24e8c553e5368028f04357a25ba5dfeed4b2cc1db776b198f7f0e836c3ac24b50746b3959943f7c290cd130874ffc1fe7d1b42d73f9d515cf9bc778fb86a67411a8a4a2ee9b2b3929e068983456b720fd9136351b9aea7d055f7ed83d44534e33fd26e482a92f94e2342859c55f97287350111aeb3931372d1b882602dc15cb569bd702dc510d616fb2d68fc2a7fa327bcf0d4d73f33990503830d32ea9f106961298fd8274e318721ed1a90fd30f427740be64923a8b6197451d2b8c00d5e82e53ceec2b8b60ebe76716f8fd945356db8793525e0a754cbedb519dc7fa5a7efa905721de367da2e734f890d0919857c3d59375451045cd7fb5008a2cfd08cb8582d83e5947492779c2ca36515fd73af1469f9b876ee18732f9f301786044f3dbb392e9d815128bc327abbeeb9071f0be81b09b82a185130108936c7fa176eed8f9bc25c13dde12b63486bbc6bfe867600ff05e5cb0519d4160443a8f61944b124c21a9dcf7052ef0590c65972bdf68ab9b147d7c8075f2d26a4c28c62038f54a3a9cf0edc684a593eecf0bb397a773736b9d9028946a9c822cf443f7e5bb060e9c6a984c8eba435bacb3c78c75eba59a25789318cad64e5dae1912cb9b9d26ff2f8450d88d00d9b46956a94b6667da25d0d5107431b9800bb4fbd446a645cc9fb3e9fd1f82856dc908125fa77d2e04d456a23f8c56fb59fa9a7be5360af10077e81c755526e587406e25c73e5dc788292eadc3cd2e2c2683f12d98d0f5e02bc71877e82dd5587fa9ac67d529cbfc7d74bdcce72b123786125207f9eb9e8bb87d334373e157007fa383a01f1692c6d2175b123e4b911290e5ca012dee4de00315e554e932182386b280587e0897d4a24803788625d94ea65ae8e9d5ab7ccc510a4098b7f153ad4497e1140f4678df1d576d906e05fc816a01dc18a7f40f1b9051871e60290845ca8c8a440ec8d191e1c2f49c106ba3620d328b71649f4d0455dea5a74d0aff7503d2aa482aa2b1d721b2af57ea0d4c271433056ac743ca77d662fcbab7f927cc83c607b43d7562b6dcf98e38895f466d057be1ed4eb4be8e956d064f99fd71093c7ec09ca9b16a2d23d1327d6cf4f31d0dec4fc06e75860466f383043da82d2bf1b1d631504ddc3bd429063516869647f75258a2120e40258e9da8a20b3f1bb5f801084991494fa151c52fe1cf521a7628a7f2561ef95b5eef08dc1cd93291481e9bb8d4d24ce60d0f617471c44f9518ecdc61fc56cd449e561dad38ee1e38aebc00da829f176bfd40ddc00d6dad3276810ba9c06f9b2228035f25861f8675725ca6ef2b0014a85bdda2c63df2f1b3cf148b64244821b4d78d65bccb3a550e0766d1438d34d8028b78f6fd982576f85923618050c3b828d3af9c6e56a2a249b13d41d14ea45e57a432129bfd7e758da390158cbab10b43fc87cc24983f65bbd09eb363e96316738edaa61f03c8b9058001492d9906c5427219a86f8e0a72a712df076892d93ee5c5f772bf7d164d460ea7d1abbaf1698217c8380491dd30363bcebaa193da7a4583ef1788791f22db293318a47a2a39acd492c6f366f5784bc35890a7f5130921d913a0bdaca5384c8b57422f8a06d64f9fac22b0fc4de474fc7c52a21bd414c07deb8a9c7149e0336b2999b1f93c38d72f3dd3d67585e9284ebff43674ca9b21585ad2d05e1b3ee3fe3aa0e7264001829a653cfe5d629f377bc591c22bb37369e88bae5fc12992712acc6a6e31dd3bffd2f99571e5fe44ebdfc8fc046d55ecf36bca5bc3c7739c32c2b27ed02706ea25be6cd22ad340f0363b1846cf701be9184569d61d4b4b966f1e45afdd5c2344f8ac9d68742935ddbe2b7265c5ce18fda3197515d557dacfd30c8de47f104e0311715143b225893333b01aa09d52f71a486ae1c3c81c713e8556c540d071162bbbfba3b0b3027181409fe74df05315a270f6ab2ca4959f4b3fc175f607674d624c385e57459d083ee203014c50251341c1296eb01e836987394633d4d0c1f2f52ab2284eac43d4886b99b11898ddaff71df69895f55e0a51b388bdba655ffa26374af2bfd0dd72a578ce614bca50b6d359a1ebc6801a12204d2b3ba453a06d91d9630884c944aca4405708b75f14fa1194c579b65126c46604a7d65acc63e932fd63560776f9c9803551f6ea85950e7aa5049e880471cffe8783ab52610375a498a6fb4e2faf65ece46efa919c5da03697db19933b50fc66217a86ebfcfa9c926972b973b600f79d74ac34170adaeb0dfb19ffceafc182bdbf7bbd849810ca365f0b76434b92990244a46eb4b0c82ea3a38c2b8d9dcdc7a54bd5ad558cff0b6fdda770872a92cf0b5c6da25dd5f162068a299a4b8720f0bd017822f56c67f81904253f32308e00d1ffc1a5a368c57f6cfe0d3c6e0566e846ec6bf69331437054d50465d6fdec5cd4be922640a4445fb4544aa4b5b702380f4626dedcb9749b054be5e1bba4da04d52739c95dc807b9090ee537eff644d68ba28681b5facbd36b4b0abd0a2790ed433402b35cf8e4eabaac7421129c6417ba974f326c05785579341b9dc7be4d0aa005172befb388fbea887d9a0f01cb76e2124956d8e5dc4832ccc1f32d72528011054f1023fdbf5bd89f64bca24ff3e7b4449bfc3f8f62f0602f4d1ba9c275ceb4da8581c15d3e96b08d306c48c65951a221e44c73ffdc7e63970681fbc5c7047a4128849b71ca25177728e2d8fc6debf1799cba8c9027268bfebfbd691f1776d6ba5e48b924b352781282ca08f5bd8f78ce17799ee291f0c7c259c8d59ba1e15114eafdc2a9b4a4ea4339d887f09e908585ecd2da031ce6721800ea3e8446680c3c40718f77388f415e462822e232103ec33eea4379df1dda75c141e27f796063489b7f49e21de4af151da545e569813e6e63054c77bb593e3e02fc49e42dd41fbd1f36701f65953aa7ac28ab1ecf2a65943ab2a47a692f72a8a78dad44094f0629c614c0b7d9d66fcfbf77a645bd2129aca547567db6a9665cbaebcaa4639f7f3a9180f49575a8f26b388767f4acbaefbcda16ff967cd4c89d37bc3f407e6f9caaace3fb011a6c9ac1d5a8e83a067aeb3d1e5e88256aaebca69f282ec5cfa4e330eb874491d63bbcbaceb17dba10d3662ca8444c0b54739c32ff683c7ca5c6772496516ada7e76dadfd3ec1e0d6029b0ca0035610be44d70a6be6693d86725c254efc35e1bdd170d17502465080b73723880b2f6a771eab74126b599000654a8ce0b14918fcffb6dc20d10177ab578952a53719012dbaae0ae8b0659029e0cdf9bf3b905b1b168ad5740a56022e9dc5030c8fd19b69ba8ce86332857c05edb927a13164352f108ca8998fef66a342ccd8e8851553190179125a4c21e4ff083da5f8d139526610d365e39074a3fd85424e90f0374f9ded85fede08ce57e6bbd7f6bbdd873fefdcdbcaa02721f1d1027114ba60d7927f2da3b4f7298c1b6e74203d8fec3a161ef7c0af7079bdbe4034badc5f2716cebd27f0ed0ac3545288ce5cf734b318fb64f5f5fb1694ce40e2e1f5cc929bc6c380ad6f7aacb7d060c6f145be52a14d029377f451dfc4501a3bcf316badf2ddf05462616c83ed5ba8feb3062c2358957ce3d4fb87c4dc670d7914d42c25f6b93987f37e799dda6fc9b096cb78461b19181238bfdd47d207218c191da766d98fa2db5401b9c0aeb922a76951bebd0928c0c8b5fc6d5e805abac59c0fc6c5ab666e86abe873b288d949524bfeba9c621e509e3ea958510c69864a6dd6adb85a77ff4b68e5ef89b535e1a03a2cd472a83161ad22a4c4f5c2f8834503ec1b0753cadb4d78a724a5c25f33d65b78d1eae8a1f1911f64cd185d0a6a2353a9bdc50e5e0afe35402f36ebdda6712cf826541a0a3cc0b86f4485afd3e195bc0de9fc37c4b2b8152d366242f15e07a0e318a28aa0591ffa1bf12d0745c10e3e3efad985c09c4cb0dcff30f22038590a4219360303fd92fac5e4d071df767c8187ac04a94936a118a2caa5084ab9afdd138280f3793eb35a7325b0ced48e92e84fb64697bf149f99f153d9e9eab3a0444d2322e1b04d571d305123bb45be318e7539fe6d5fa24f7d556f3f3cc8887434e76fde7612409d93263f8013be277769e9d54f88a125451fb8918cc434ec1b85916e62a0a715c0aaff95464f2c19dad145b658895147d7e17b44fd629b2580921a759478950cb381de949ed03f82b63593727bd1836eb89976219fc2b8b1db05fb14689ff0eecc374c4cf74433e6bffa34a97fd8debd7887d674a13f22407b3e97553ccd238624a952c4e2cc77fe89d54bdae09835e165fa4538bf079cd58c5d6587b31f4d5819e5e532614016890cbbf51b72efd935dc88a280d73db6b86c0cb2ea229a50a9b0f5918e93fb63c2e20f0d505fae0e8cda8681b3dd51065fe452ff4a1ab59a2965aaa1851589d911d64cb54bd51d53f904f3774f0ac350e28b675a4f6c35c7d43e52a7e59fc0104e7eb4a99aede03bc67ac5fd5b13693caf1e0aec28c23b4f37213875416db680e0287db2952d4dddb2fc395d546e16e7c2671b0ce249e2447f204fbc74df16503675a847183dd345f246f309eb2aff89cfcd7c509167bd75656e7ee4c581941218d688b9dea7d2c521c95695a16a4730d1b16ef8cc4f0e0bfab616b7101f1eb6215fad5f4bd2aec47e368456ded1f798c461428b9b8471b622328ce38d41e694cc868cc30662c2d59067471ab0b374422508bdb6e6bff314d6320ef93663465f92accbe2e1435c0c65b9f4a3292eeb1edd3a09088b079027217efd5817bf0140a1218d114ea427fed109ae3477ca20c1934e12ef0147827ae6c98096afc6c097e2eb176a4592f53eda6e5d0c82c86981f557ba83c3961d0c09b9d3ddc526c5ddaceba3ba08adf542a2cb39f56823a6d9d9b8860d4c8ad7e10cf757d7d49e9126efcaf6859d10079a58869b388cb31ef681135843b18d14de0c3361165cb889d7372d680d4f9f63e518fe46f1089b7c900fc0809f579eeddcef05950e0bb104ac03d902817e99cf61d66f19b0a1b799cafad53a3d13a686113daf38d0bdabb44f747896b6aecb13c0b5c80e4aa49d5ec0476cb1e35191629e19f9d60cb3c975b9fb73b410fb8c024abc46a86129fbf8b9834b504f5f017444ba30acab96a9301de3895dd33dde9789bb871dcb86575095f1a9e775cc79000ed4f41d8696febb834a3ba930d61d41bb84acb6b1b5d5c81740dbdb0419123ca449b31c847652daa57c14cd44b7c28be30cea0fb7abac5d3f48844346dfbd4946d9ea9f241a986d13b24d31ab4211af1e6d17b2ae23e7f861c2c17d75640364061935c06040561627b3ab351370fe1b34c06a4a7cc4a19d7a18c14f7592e4f3f44ba8c68d1bd43edbcf26ae78fdc49378fed567c73ef5153c093cf22dcc6438534cae17ca71e802553770c4839bff9dd58f01598c2e081340b23504a071f6b599a7adb842e545d5c5832c86846423a7f976b1ad68e75aa736a2ef91c3bb5e46d553f2784cc8c2128a7ce1745d03b6e584fd1853c074f26a418f04fcc9c34f7d69220d7de9e3dbc274a0a5ba407253ed67282c6400e61c10518f8aa901ff50b3088af6712a61fc298f1997719fc5dd2ac1b7f6d15f11c04c7ac7faba9040f8d643ea182a7b9daa441eb4005756d72e1bf8443567beababec81dab2ae78dc21ea1a76b86f4c2ed11bae591a5bb1caac2f4e25a4a222a85e198af12139492778effa1be8c784d2d420f88c9688e43776f52c6dd01ded314ae42a6710b3cd8dc01f28accaa10a3e2f993c194c3353c84ac4c2f4e106d7f0e702381163231cb96e60265f79aa15b0eff84913da4c63b3505a86cfa19cf35e682af12b07cb2467f56a5c02dde20e234e1ca68e65e93981bcbadf424f9ab84157911cc59c2308c528af3d61841db34a8922aea376018db54b482ada4d70285cd9f629e36ce10ed0bf26facecea10f7a607fff7b474e996e83d481f8f183a4cf53e043a3fc4ac8373e055da86f7ff44f8b03dd395ce470c243b3f42a92fb8ad1721c9950d62feb2781532793ee75d2741482941f6d33417a40affa3b3e50aa8e1eda25f76b9f340853a1777943436955984b0da16753533fd13a8a2da0674ef56786020b72d86b55ec0f953c345bce6b9c7b6d1f7c24aa2a46cf470010fe0b3b8f1620c91b0e7348dc018dccc05367e28abb657742cd6bc8b327e71ff76259e8bc55067ffaf833a068c0962b46f5a80458ea81d67868047af384edf9c581e9c0e89faa9f76591d4acc8060f550e4649460f4049827526cabb704417b0774f15f42ebe51005609c48fea8f81a5dc1c33e21941102b4409189ebf8143d55d0a2468d7bccf30078a8b558ad038ecc05b1565404629dcaa642278df8040d9846c816b8d679be0f36554e6872415e5a14d75bae171ca486cd5521b7a80ca0ba05425ff8104720ec85a4f1caa6d1008f02ad18390c65c4e9e9ff2b2d81bad620a7605c5cef66c02f0b44f23e69e3732af56992b7c30db72e7b052f1ee59a03dffbaf3abe25a5694461dfbd185e81cff8b173649c08689e76549c4fea42e5294bbc27c6946b689b71defc3b86e026896b127b1fed6d62436e08228582ad158a267390d31e109c1ae2d5cebf81ab5ea753f395b5e3c382d584826c0f5f223e1aaa079a81693a062a79e28c9188f4f2f4c6dc5f1fbd1095eee1d158379c56713caa0957d8763d21cda64e43e9697e5527936a2da94763e984e622bef1a751697587d1f6afa121a138b19b0d8c9c4a835856d7e263868f15ce888df68db3938efe9ab43a570f0312ab217318c66d7dd0bb502b5ee6daeada7d33d348e4cf00e90298e7833a8d950147467f378d9fe049c3be78daf93c39e8163e2be4d809429a6f766661c98e15ce6f27ec0d1c758403acdf187ce8928a6a34a0a1ce7ac56d963a3ca228e575f65ca772db120c87dce2bf2556beabca768c15eb3540d380a43111abdafb0d61dfcf5f36f9735e8e272c5978c3dc2bdc4fc69e731a852b0e59f648ef27631cb8a78c1973b38bba0bacf651932fe9d6ed81e83ec2f4de4468a728aae8f8ba1951cdd76b6d1f0938a4ee41438b6676a609b2b3d96cbf11427288d716911b767d6a7dffe90b4114f89e3643b612ab3eb4697cbac8f6f814b64b592192046ea661d01921ef872e3fbb1a0017b0c0b7debe6812e5be8d97f524cddcf872327c9d50894b0257c7240c8f27a079a94588bfa52115b48795f4bafc34412bb436b5c00dfb57f1421cbca241fe1872df8d32dd463db564ad584b52d84b5f495d85edaacf409e6f08fd7f2ca4c5e54ef143d6d7323719a73adbc8ec647690404aebbda1e63e9a7faad8d111a565c265770271c43ad5ef9366a7b660d4fd88614ce2d16c8aa6ca0b0422c9541a1e5acfe93853f02f822b69f002c269bdc5ec6e67b2e93454c9953204246b60ee9230fcdb7b1be6009e4903815baf2b1927ef4c68de2db8fbea94ec7cd04759ee3faaed99ad23189d06ded5be30c315bc698072d23bebfc42126198cccb85c1184d98aeacd4a2934c033b56a281d259a05371807b6a9751da7383433f9b6bfe9aec65ba25b4534938a0e4c619cd3b51e504924b669af2a5bfcac31783f4b612b8393fbaa9c6478dc55bb7e640a75f6e93dbb19ebf6e6732075697d958e33ff185ff8379deccc308f7b302cbf124c951a3454c06c6133f3fdec8edd1e6c39f1f28ecec5f8ddd46accc720419075397c5a654f9ac7f74d6e3f06563d29024398e0accd9a35999e3b6c12c80c4cd15f91b7fe0eb1450b0b914e7133ee76c3b2ca5f95df26653b302ab4bbaf676f518ab7a7c411493a1957cc7f957eac45a0a20456d666a8589868b94673fad7b498f0288d805a8cb373cd63e1aca9595bb7ed4402bad982925eef4b345888185ca8c902226f3e6257e8971506037cad5ddaef79646d29011d73fb7088c52e3bba6c6c35a1475ef0a7476acff1968c7a180a7ba24cd721d43c9aeadd05316def510a0f5b2567626352bb8f61b2f6b03fd4ca6184ce433877fbc84b4812253c6859a234bfdb030bfc8fc0c278a40f2468431d162619179864d4e78393c4ae1e90994b8dc37b865fc499917ddd8da33bb821971c91f850528b22a1da55090be0a85eb24148ddf48b1ab6b9217386af72ac4c5639eb34825430ade838efca794a162aad7cf9def8442d68f3a6b2d6727b9121abbf215203ed6d5793acd4752c029a366d023a7030652dbc433a1bbac7fb7d83e263d57e20d8ac1fddbed51d2b824009278a633dc9ca6f02c34eaff077e01152be077a225219155fbb6b2ece0efec2fd6c824817b9a18970b4ee55f21a50150c9d6f94fcb91b82986ada164b437c27a5127daddf506ab2f008bd7e036892174324897c038e592dd99391ea1ab369f2f57017c82a450ec50f0d92e375c692fffd10924cc917fd0912b5cd2cc42b482dac99673cde1b69b930961cf2a105aebc0e3f36c955ab7e991a8e5e1df1e5ce12e20003c9b25cdf91bfd076a514251e2144f1541543fe9f14a51be9b67ef96d7bf8ea40fd59526f1c43ddc78a897f03ea4c73933f7bb81c9ef5869ce9685e6c443286481a9b8bfc9c7f9ce7c6be64f4f4160cc19e3f0b5d526c30dd7a790975797632ac8eecb2954e61b33db9d18baca0748979afbabd75148ed0352112c24e0b6dcde2a5bb99319f675d8a00bb48a3abc8ac164dda655608ff00980068974c1f9b0c1064747427acc227d38934495316d9fa5530088de5cca1f8180574438a5d98bc6f740431ef7541d45f29757241dac8fa60ac66d7b7d6f327265b0d3cd86d636521c780a48ba8cb6bc921cb9985d5205dc34a9b420f476f99dbcf42f5691058f9daad1053f25a81ffa27085669feb40df18db862e13f6d2d193ea643dd94eb3552e5bc7b07eb210672dcfaf925230cea3b3fc5e06e62fcfdc9b20927df2b9dfc67d6c3a5f975e9d77d37e07d76b58d7605859b9dc7f07e8c89281661e8a0829cc8965717786a3705479a183fde2da3a0cee8fe375320d53fc30b30a1f9c7eacd051dc8eb2776388e77922d6b0f3bd3fdde278b9d65c4fc3c974b9bd0b48390b5c6818f20dca67f756590c153bb82fd407462bcf64347383dcc9dae12c11324ac7e92ca0307ec3adbdb0c27e25747a6f26199cdb99d94c9a1ff099abe939ef4d9614bcff20403cb7670919b29408a2eff0ae40e985fce737595f8e69292649448a323e079521a06f3eb88d40e674db840eb1e1113cc925421e70d377a1d7637ae52c8da90505ce21f4f4a0749e02133faee7ee3b6d4d9f77a23c70fc6364576f9e347c8fcc0b3e7b4be0368c0c3ea51865a224d09b62f6c272ecaca28a937b4c73184f324139ea4b8051392bbf2d20b94caaefefa76629065eeab460e38e71cef408c01df35f4403266241d877e2b9aa08b82dc6db896aa269338941fe3e003098bd933c8d0afc1d68d6254c732587f6b30bdc56556022f5b146656c1fa9535c47d1686dfddce7c676ae080a2a3e74ac90e0617c55c64a317c85e7d87916c43037f2d2172510539b1892121008a840120f440924d9d7bb05aa1595d1465976b1111a4a1f65d6f0a3e7982970a24ed707657c3b25e31df5fa3c24cb551f3a1d16a9a8e5581d8032b983aace1d187d68d923a98bb549d00281d2b2bee5417e6e5f6410f0c78a36c0fe57cd2ed7dbe076bc91fc10805ba3d7194818babe8271f614ecf5240a7b7492f43c5feb01dad1da3ada5b0c7ccb29005ab1bd31c9bd8203ce2f91d2a8642f20666393ef02fc71e30d00b835b09ad9cb56fc57903eafd7ca9c9dca9674b5f2fdfc6024dacaee1883c96e676e6331f49842188e82871c4b4ef0faac9653729d8c90dc7971d73b1c57edef5dcf303c922cd24a9b32f2049bfd75fd8a1f20e83c3f7cd550917bef1c873c533085a598ed8fc45becaffa955c16d5f07fb7047162f15e35e7923e5754d7a0a4149b78ef23f368670fff44d20b8428f09fced5de9630e92e41242fc219c40f6f7483d65f01a76ba8779f682a5bd08401a9b21b23545d7dedb9f8e8675d6179f53421a65e63ffa125a749ef3aa5e5776af2cc9b09e6e17389bf73f48dc2a90568fd3e00f9448dce849b71c9814e102536979ec4c51210af9ece75afced72dde04ca427b3e89b2de5adc97304e6052347263ed2cb47a22b4284aea20f3ddf365c2bacd9abb93cac5e743003d472bf8bb9f8066b11bb36531ed65f06c277f1893320e2cf3bc3c77d3d6a27593598c43a2e6edde2f1fdae4003e8ee003114080b7b9abc602a3a3314a536487fbffe97caeedbe0f32ef02bb86d2282897a222fffc24bac882055a3090ddcfef616a6474edcf32ebc79a97da239a61fe81e380a88392c8a730600c6e3711e3e54694ed6e143540fc22c3807e249761e3ea5ea444ae1b8a9660c71ad7241b0c4dc6ce043a909d6b6e0d8b2fb4f388584367292b0328e29120530251666c7fa9caac3541e85e3b8e7a5e2647bc5485e1bd2eaf8b92307f2c905812dfc329f74a76c7791e37d592cb34cabb59a6a107de9f94ce20b50174c1c183f8757b411afc767b729bc4c623369ee6d54bb4544ef67fa06e28589e3c2197b2510ffed709a2d52bb7e9a8a2285354c7c91b8f6c4e4d296212dc70657a8566bb30dc62f92ec59544060708e80dbf66722f1f022086ac9b189214987b58dd813526f112501297ff4761aa06bfdb5fd07be1d4d9b5f38ac063993986def19001dca60dbc97e0d216cfdcc95e53cdee32ebdaa1dc76e81cb740085829d51c3eb156317be575b1cc76948638ea1c879a5676559ebf41d29f1015610ab564ac5d4a7c0ceb98d6c9c3817ffa7922547f495aecc867d20d5deb5573e0193d6c408136b8e477acd024e30287ef9ea4115086dc5536f66446d708e975eaeca4214e0826386bf0ae17c014a9d9c1a0a9943849e5a4643284e83c91fbcdce5087e59a3a93e62f1eedb6eeeb643b78a3fe299fd9d6c987ef1773c121bb6169338e9dc415ca4908ab136d3e3cad343e0f3f22827572433cd96d3dab4ebf9fd7ca9e09d884c569f176401eb45f564565d5f7848c1cd6123e0e42f7701cd7ff4f1257c68de4620a9039e3b437e55f718ff2b348cc1ce4a162db4895e1202a825b7591d9de841930029570c80acfd84411bc880a2aa8a68cb6f21e37c9a551d7575643e006f53fe04e21ea1ebaeed7020bcfa14149ff596b0550a1f8762a7ae468b7ff93a2ece78c28e32fd1360206a45dff1bf93dde9be4d48d37dffd5e7a5788ddb94b6e3d0cfc6b83189c50eb2f279419e6d937551ea9aa95a4b12d6f221698383520a26e96ac1860e895e3aa6e8649d04d96630f5ad58c1904fd40fb1988136147173f7fb05c67cd8391fc7acd9aa88148e467bd71a358c90acfa540430ada0fcbe3c0738dd45fcc29865bfcbe27847c2df27bcc60544928a7ee4480b59fc0a6753fb1b3f163bfc5d684c6cfb179eafaf4f3cdb639a77827d07810f907adaad08c85bab19919b1d88521e6446e3941c7379c27e95c71edbe3d84f38cf1b15c5fe508e600bae6635c177c9909bccbcaf7fd4a86c6d5f70aa5801773cfea5330470b160ecc66ff7edd2bd03234139e58643f08a8d277f1f91294e97fc9ed23253eb16b1f3c895cec32914bb6711f68f733d7620f9b4f81db3b9a818dea1eef4f02f439afe5f26f396dc1ab1638025b0c67436b0ce87c49f4969ad3e647bd5a463d1f437d80362c8eb534f4955ce1dfd1f52fd5455ade9d38433ce9c7ec4c5a6da5dcc2b976e0e2dc39ef8bbf45f7e3dffa8534bf5f531171a4009f0644432d2c35d7e8a017ee33a12c492a00a74e174fabb58f85f16e42a903acc076816a8cc45eb3cae552309456275683cd68383231724f14fe84f9bfad888869d71904983ecdde91cf6cb3870095080ad8d460b72d8c66d57d42eb6a9d8ad66b8054927230e7784f61fd2904c04b53f1cb137f2736b5067f59bdbe2f80b582a054e40aa4861765ae57d8f38121da254a29600e4d508b733f6746268d0872f94ff7162107a8c65fd1735b71b08b7c35f8678c858fa27bda642b3b3f6e00b505f0e98666220f8f7e8664fe9dd8f2709fded24b27644ba20d29791c722f5a0dff8a41edae636c303e7253a80c9c0b126a7fab5e91e7b72bd1f616f623810dec903e453a1a0512748e84145a8ddc414e2390719570688a12a0517f6f247fc06d4d44a43ff851ff8e19858e06e1c162ae0ed60ad8353975429e4f3c409f11edda2d69d38b9202fec3ad0f2120a565adf5bc7ac62b66b19e5feb230ad1b1a5c2197860d59ab70b498ab4a4a6eb6a2a2b2741a634396ad64e924c628ab8f8ea3bfa180e09b98309d26233ee24ee1b0e2cceefa345075f5c434fcb920b1a59abf021e67c7306be904b958cc7e320385e1d6f9a642afef81f8faf9d3d5dd9ea120b4ed41a8da79ac85bff0de451c53e3bd22c273bc35662d893d80ef44cc77bf4b1fd6782a7ba58d19e117e248665c44a9c8acaf5a7cefe041eb9e52b323ef5ca96362723664970ae26124ae046dda16ef3d8b80701a8857e9213705af263601d50be8bbffbb3e33d71e52ba6897ae3cd7bda000f4574bdc19ea7b1b79bd6a619492d120129f32f63cd5a6e0b49491911fa26e8765f4772971cbe40f004561b13b6acefcabf626765ccb5232060c6b9f4702bd1eab65a8b26d2650e7740daf7c989ee924c1157e997f2b016fe5db7e682f79064d4f69d95958a656369ab48a5d7bcbddf26c7efda571c5a3cdd6b3b73daef54165bc3c9b30e9bebb4cf5f111695a9cadc6d25addf72c095c15b1dc24c33db6d402e9a8d2ddcca40439957ca57f118b99f4f1d4375d13329ef1a474c9ba5a1f7da483f07099d7c12ebfd553501556ac4ae1f9d5aec5308d6b9d8c7a5e206b085e98858df2d2bb23c5ba91750abf02280e81264b09729313eafdd10c8d18d1103f93b03f639001dac7cf335e8db0b72289a77f0c712e916b405f1a0e2f042782a1b9be0303bfa372e1ff8353b617afcc3c4822a1929531f608177e937af430075a00a454c9b5f6e46ff4e436769eecdc9abf9b801b3c64cd3ff98e0c26b6d2c124664160f62039afe09baa3afe540417cf4ded7f15342f5143911efd53db90f653ad78cf09da06c5d7626d4ce3cd10bdaa448105bb9bdcc874e60c53e3ec2917a0bd7ef050dc5526e173fadca0fcb134b1a7ffe96bf36431ec2598780d7c2ef094de8dbf4cd8668a59f3275b7b862296fa87ba9257bcc430dc7b0533e150f25b6881b1a4e0131046ccc5b7a5d2854c8ad3300e58de5ba68c2af25924765ed7b758b6ee1e99f3a8d09be62e15ada45fda6f6b205fc24c8d2d66cf791fb57b632c3248241c33b7b0ab124c9813f3b8c5a3af57a1c56b714a819fca91f1a45f9b48b9c64ff1affc75de1d57943e327b3bad40fefc1d0e053adad8ec002f847a1834a842477cd7a755421889a7949f9bb5a15cabe0b77215c85fc1aeb0c943817a836d7b3cbc4c737ff5ef52a5f40a92060c0910771e7f8c6837fbf5f17040ce1c4e86e010becb4a43396b7a0ce94c5bad6488d378bdb136df5c5498a194746463f4690b89a0e65972e9a3cec89242943d3e993180ffb65436994c838cd9b0e805bf04869b8e7d9c87385d5bfaf5e011ed8f48a6856911cbdb06e2bc2a27e2abdfe2f13e6c3e44d8855987b0b1619a0c184acbaae4a83fe2b48ee64e267bb769b6bf938dddb1af99c6105085690ae996750a2ff5570b8129973faaf51dd1be790fda92741fd1b2466151f79a6c7fdffcd457a40656415e513b5775434ede2d370d4f94495c81fb6bba396bc012a86a1189125778fc26938fd2fbf56f206f4e925e60d6dfa131fc447e609c4bae4eba29348260271475583b29895047f9188ca6deb0cfb95243f277553b5ea610160ef004807fd1bb819b463633b9cccf28256a934493eecac44a63775c178c3f553385537e2854c5612d6d2a4e552b710b9fc4036f8cd1b50a1687ae8ef310c053bf87606d42db9d7eb4c8ddc926b375057f5784b07df3a23fd3513c9e5500dc6074ba9d339c297d359e9524d567d804981d4f5274293d263efc983cf9f6b6bf92812b91d058e18116730a4f964343215eefd75317e7bffaab4f86f3ee80994b0720319e7675ed8b5d4b6bb9ba0d9dd88fb8995325b118311d8db15c8bf94cc4acd343304f97f1da2d1690dbe94c3ebd9ce8e0ae0a3f84c5f4560962c85fbba457ec081dd89b297d549777bde0c79fbdb2f0492b605fdf13d25a4e31fed786aecd77fcc9d17e33231e88204f875abcabd24e6c3e3dc6165ffbb8d9d393b32f318cda1b0f4e717f020141d6b210930c0f9a482e55fc7f9a7c9ea6a4be4a2f28b77b2f0e162d4a9b055df5353a4bac67d99626191ed684fa1de7cc79618bb80fe2677212b134f93550ac9f822d0171a56814eacaf45b3901ca0bff5cff0360e73ac32799a01bf201a5da8e63a4920eeee0d37a3626f371d1e3d1843627c3df4b7d4b907a4232794d3a5e3eda76ca9f59f392f334d747a6b5873ae3b4fc0478a8cf4cb4a352b395dae412310cc0413005f46077c0e1e8691da0a338a91f233ab43d87f69ca9a5615b8fa26bd7cb22320ff6d73652fe46b1e5db10aeeacd17f6b95f8bd6e5ccd8b09780876946e6721303d0ae08bdcd079e72bbdaf84d37eddca88dab49cb45f0aad21fa957ba36fde676351c4f1fe3824f17b83be8d0b837ff652fd0d83c19614361b36199e522cc7b73d98346350caf9e360abd51303452e1d47320df041cda69aa47407a9a8714b6b3e7b74df120e1b93fef5f11efc4f08eae0fedb5644fe5b53236e509156ccabd17ea8c9df509c02ad7267d00e93b153b7e20432964199d00685844bdd0d315bc9335e6ac5fd0aff142353ea824c83331ca4b6f52cf57f2d207ccdd4424a36298780302c5000601f2646f484fe6f08ceaea7af24b0d35a56c92b9b161e5416dbcc8c9fada1fc469aa7fbc37d77fb98f750fbcaad657e559574565bc0aa9e2d4d924bac1089ad926bca6c93cd1f071d5ec63fc459ee2f2a868a9bf876edce8d6b46dfee71a3b681dc3b1a3bd65361c6f6a9009863eb44793f87552a0e88d325081aa0fafa32ee415f740a2496e01464d47fe2dd3bdf5fec737f092bdae981fabc487af2675a31320c50cd5d256cc5ebbdfad3ddd8b905cb49da1a18e252f690b7dddd9ca0906405edeb48d6e2a044bb559ce830f7a2a3bd5cca80df4762a8a8fb0f2f2392d7ffbe757aa6bf427ee1861ff2280b7d3db835a5ca7df4d47a6a9b1169418222bd4154b6d3d05064bc2e87cf2fec9f92d01ff61d4ce63b5bd3efc7b3fde8282980a7bd3c7c23344a71b82dcfcec239188912d733c530e9c331c053af095249e4777d237cf6897f6168c3c50fe0cd665925bb0c1da774f5fa26cf7d85ccf4ff3102c0d1f32be0def363cff4ee134a82f53a0cd8a3d449801bc2b98c1d36a678465ec567af05059717d4e10f4cfaa7cbcfcb1b9108f4c82c0ff6ce60bdf58eb05a9860118e5d8153d0a1949048816e723662ce7a247a601920c50f5471bd5286a91f02813e280f46e625a7115370865537f6a2c7383261455fcf136473b167860e07ec920a65a6bcadfa2cb9b15ac14cfacd6c46f44972006c8c605e70da1bd64233cb887abff6625dfba30be5b741ab7b770470083c71a51c7059d494eea9187d93ab97989e63b98884727b677e2f50ea934e8eef3f6db3b1e72c45b53c2ad6eef186236fc76e3919e69431642c2c8269db4b667e54e6653a2955ed8b58a0bece6702f662dc2c2b592f1e1da654afcc5e3cede2674a4ddcf50ccbd5f111dc8fd9a687fd646678712f5dd6d498c08377a8ac7dd740cfc277c4599e7b566f9a6b95e06efd90da0f4a092fe6479f25be3c80a23515758b609a642529b38cef824df50459cc53a935f73c1dcafbd85e05e1468337b88d700795a540098e29db3cb490358720f2faff0031b05a737cdbea033d1083ad6aac9a27a2ba7ff0ad1196fb7411517fc30d30bbf3b57ab22654970ce23d4c8217b3ce99d9af114bf3501faa978708e8ec5679d266e11280833a49ceea297c3412169c8ff95db42523e0772cb39bcde35ff056b9a1a9ca102e3444b6c8a2a4050521b07d4101b03393c362760ac6e58c3252d2a949393771ffff11795f93f6e01080865945e845c3e1dfdf652267ef1efe38dd6118aa33e76b31e4ffcd854e4a994156801d700bd6c6511dc675d83f9bdb1b7293286f29b996ac6bde34ae879acee6296872645b5945dedece0df254be9d37fd7ac3ae88d39aaec29174e474bca828f3d02e134c9f5b6ebcd69534fcd0ccd3c96e7ebc7f2e55e9437c30c5a01b70d18d0f1aacd193e79dadcfac57acf25050013e8715b6298f98137e50669c40f04253501aa6982dbfa31693e133df977eb8d8ff83b8ee43d046b5f2e15d0a102cc1d367bc35930eea2f3c11db49039a9deee76da9cfcd533793ada974eb505763ee33c9b5c554fac4d3f4b8367817e1b823bc461583ef2c3021629fb5d01bb1297568cf0ca94faaf0171da36f4c4f260715bbbc3c26ff862d76a152e4d76d268805a43dfb00591e4906f4485b8734814add178e788e7d3d00fe6c2df3c6b2416a36f21525ff7391fd03b3517cb4a7397007c96446833051aa15cb7ddb0b727d942da4756206c4bd9d16d92d5c189ddcd041a3572ccb3ec85bac404d2728f757536d12c11786d7b8dd47e685c13ede3c746e20b278994a62b970b955c007de8f160fbba54a9c6c211440684e8cda0bb56aa1ea24ab7c57c7dc78c4c150ff4fc5f3a6331199b89f83de62203c057afc5e10af894ff35b39377bccfa4f426a19d7190c0d7a2fe1c5bf184fa88506537631abe3976aeda806eb365a173f8e845190b4cad1585ff9fda55529bd5860f49fb2655705d17e16d1d135dd384f8a007c54d8642160ba10077b79f82833dfb73a95dae394cf69452127861056b8102d1bfc54efaab0d59e3e528c98e85adb1de2abba07ff999ba34a382601866921a4d039ddb8763c3ecb6ff1158b4ff95991b4fed1fd5a5d4311d5fb212ba439b020e8789ce6492ed13e81e2b37a2bf5d96de30f2c56eecf358f90c6f7f0bc2d3cfee0362ff9bee556ab00414a6ca66e553e4ab087ddd12e1e5f4a4b39ab7de3429d5df21df191da7c675464e050ff3a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"25f3ac89cfefb2c6ad7f7c4b2c85287d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
