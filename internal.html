<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"70768757e98d76f334f83e1678a856864de9b6953452ce04a996cccfb1f531c0a4fc5f74f426325976cddac8256a288fab3134119ca682e1ff9126ebbbcd6b7d986668299befa3ffaa58b53899cf90c41f4e48a13520d8d5e201ac7ef01a6f5cfaf05d10c31278f3c5b5905d6fd4aeb3baf391f4a2daa91738805c25258fcdfa07edd243b9f800f264d32bdddc6ca3d19b25e27243fc9f1e398159529190715b25781295cfe948de07dd6ee672a4b0939bb3a6adf828e2ab91fbc6938ebcbc273b4e95230431bfa57289a05708995359fedb00e7336c6cfe9a3d858f6eedd5f7092f589d85a5c3c086a2478ee3bfd7b084b26ffe1023f96d52a8d2b7f5b826b31bcae5f1e056a44551a6f3c67c7414169f27ef1c66130da0229e2bee8d858eb5b6bb414681e5b2d188aff83a391150bc9b5000c8a41ad2859e8d27169cd2001bfc1d687aeda7a9e4bab595cc5bff61bb514ac7c03e1365424e6889477aa6f93554d0a99e6ef5719fb1d1b1d4356e2e4011b87efdeffd0d8d9d0c1f5de94e16684be06ee0eef4081f8111675a74bec2972faab8e16d3654ab314725cc91a7d52a7ec6ec28018eb4c8d9877f4e7311d457cc3d5ccbd0ee1c2947f8bed5623bc7461bc0a2553fedd63050d1819d5b395f9e772c2b0b5838a9b960ab037c8669c2f3e68308451a8c70c2b513897c39ed183d05406dae1bda012789b081c66fcea3383b89e98a30cd97b83b778946902084e404db1fbc747fd61a38d56aeeecbeb240afc427c1da65f5cf510ad1a427ba36308e5c83b00ce012cd4da73a745a695786955c78196cc2100b2dc7f89c3e6ec4883f0afe799908719ba3b47a763d988fbcfa2053e23cf8fd8bcb4a033c6321cad010aa4902c430124b782a2ab55fc033fba69d93363e5a692635fb2921e874ed601d2eb8fe21665cf56c1381c2678c2ed563b59c457c99ed716c16105a196737a84b9e0d5a109a7f5a1dcc56b8548b1b21ee2a9dd481faf4fe243bea6382c9aaceefe77add079194aa3753b067432f83bb3229c863aacb06acdb18a1d47545f7f308338609bc86c736f2a1cf2821d0d339923398eddec7cad618a400335919fdfcdf5dfd6d51f6b8e3fe66b7c67129b2f7af49c4a16a86197b240441c1d213108dc48ab8f459d84961fb7b5615f78201e22f9160d7f5a94ff5795614684291bf890cb84a5f486647aa3186a84dbd61bcbc2986d0390a1f75bd792dcc247d61165bdbeea24bac64a22fa3033744fc4e5bdfacaa2c03747cfb81626fed82c8bffa6610616178dcfa6dec326217bce98bbfdad2a3c1426eebcdbffb6212cf43a43801430c30578bb552e995a3aad1056dd7eb7496bf2c0e437e1e9997141bc140ef4611ce7f2501a87c4858fa6b7c0072457748c358859b5b42bc493f93c5622294b919244258338bfe116745e738eda10aaf6b0e0d08ecd4f89c95011ccbf6ba8102e2ed6c77a0224971c5201dbcb4cab6d5cd7779852ef09e750eed31411088479cafb8fb2d510278cdac331db3375ac6e0b49e05b34b78b674cce92d47516fd4b3f60aefa1c769b7d5edae66eb039473aeab14a871b1f126f03b8646527c16bcb8399dd75d4b2eb714c0fd500033c6e7cd3cbb7843c59d40cc9013719e8ae072e978191846c1548e84f48eca0ba26a5ea7f11a74802f613aa369f1065c20e3784c5e3855c4243d2d3efb82bb04ac7efdc69e5dd65647a66349e29c3fe102be6ac066b3963b5aa9480568da82560ee39b4663d6d0131e4b0a9f19c78cca80c4bb3f1c4cf9f42c3320105ba14920bd7090feeef2606c6b8ff8c5b50a4dd87c2f01f162295e5fa19fc3a20c56da553a331133fba0baba5a806336fcf149210c045c0f4e19d40575fde6c1ffecea0559bd637b858661ecc985b39894a2f8ed2dbaa70c4ef247530697437646b1480fde1f1619c5a54711495dda73ffd63a7ebe911f0435c3e9e9926c584719ad7884ae87f758dba6671e1d872aab7e9dcd04298de74f04f4da21ed839b0797ae06a0208ea4419cd13a026abdf6b36b27fa3c26e6c7b3acfa9120b1df4334f4d0ab8d3ed78e2d0a9a03c35b0b0d85b2e2b4cca6d2670a574c975a88a26d46b3ad9565d7b91e723cd4e71d71114535756ff057b767d2a568d34c55f3dc5b9c008cc5546bb7f7c5a997868979851164714ce5fa59bff07f71023b9e694a9eac66f6a1e410aa4e5780e2120511a0daf34162ad1a5abff670a69ff52db0333ada60f580aa94e78f4da11114970ac30900a9d1ec929f2294e0b5c2d7d71fca8507ced0c4cefd1bef07f9514a3bd7e250e0131bdd2daf1a925bf3b813c926044813d9502430ef56e1416021ad3d4736008017e1281d971bcfd2bad6847a21daae57b8b710d9f78e5b356339a055a606ba001d81a1416c7291763f6160fe83575ad24bacf2b0099ca1ea2b2a3292d9c466c85f7bad385cf8c0aabd0c72ba0e11f13779c2fcaac4700e6b0cd143027fbf55285bf80cde94cd7eabb9537f97fa73ab7794b79db6218eade6ea6f6cc036bde35de68ddc537b4f2705491fb9461171fa0c60ed199e6b844dc838aba8ec05ff1f2f4c6130a9610983d83895d20f56f14ea80911e2dad0d87ccf9d33c3a6eac8339382b9b8ccdb64809cc632a0516d3b1abc5ad1343240ecef88f0ae4d980f4492c269d0e8db6712454562f4b26d17860833d0f8567fab1bcf220be2c1f47cf5a72cbd4da120000067def4aeea7a85e0f8a54ea241424d804d3ad9b2af1cfaf244bdbd0330c4dbcb941821ba5044baed5df55398ad73c12a70ee95613b9c8414eb3a723d710a494b05c926816d9a9c40dc04e4df6e341bcde9ada5e7a73a6fe0eef69a563f0f78d6dc6cd17b5a1f206e90c5bf683e22e39d5e0cd89ba5a97bb86843b8b9d26e90572180228eb78e5e061d5fcbd94873ffaeb6c5e710fb4eb517b76feb7e4d7bafc53364f7606c249dd516fd2ecb3f6463ad95f1ccb34310c33f2c4e3460ccdcae1f202987573f59837ca9293b06e0768e95c820168050fd71d9d137f5441305ad581609a4c79ca79751edbf5936ab85fd41de3e0e35c975a4c020d079370ce8b5949efe46742fbfd4601a050afbdf7efae11b84e0b84e1877f650e666682c0a4d73f613c89529026515bcf7c08a718feb29ae2446b8950339c65c5c13c4b8d85a994ff519ba41acba676f0b0fd621b96b1a0fc8413f3600ac9008a083d79be9dbdd79fde223f20ca375ef48c00c8b65095952e45379c185ade223c29f935a05d24f92e08b13eaf765a5985b4cc1f115cc983c0ac6d504cae108aeed8e6bcacccf643521a777ec9da01320f2d787199949006eb58d3ea7ea3880d6d5173dab52ea4d00ac8d0a669ea242c0f6b2025b1a09fd16a916ffec6e3851b0b4a859888541c04fe8fb7db8ea88f60a3fa4fc6d57e125e974a167822ed69fde798f0518375d96346e69209515bdce851bdb1480e202c79092ef7bf8397f28d5669903920f3527abbba575e24f7f8d3b7d03e2aac0bccced098dc65ff09d2cb4a4332096bde470ffcc1be0cacfd6a1d9e0ec34e683844bd72f561516c4f5756a0e734ffd004b4d55a7f825c90454e5d1f33abe6353a67e35b711767965f822654d8b5cb7e91eef64505d0472724eb9066458e2c5386581e062550e9c2c911b7d87cfca739f25fa81581a3de9c5ab6ab05335cc41359e29e13f00fbac0fc3905d761dad83d9b294f4b129f39b381c46df474d42c6a4c0c61dfac4439ae7483ae1bfe70ce2db8c293eeb6c34c8d03a1256f2f7f7f8cbbda8331f1b61fb6cc1376bea16ea944f554dd47f880f43865dbe0fee646e4790f500f701423dff6b6803ef72d19c3c9ca245b69f28ed97c7b72a2a7a4e18239e446cf2b91fbaf4640b2ee3994a2d8b7dce59b08f9cafbf3e8335eb2fb448a718e6b834e3d6f6265f81ccd3b146a7f1b3abef22a8c7b0b4f82cca695a26d47794e2f2427857a2e5c2fbb4f2eb34b53c3b8294f667bd3d40347f6736b45872f368afd26056891230bbba60c8e8bbbf81d275db33a71e493b734f5ee2552d19858a961b87ce107120dccaa715f26341d653bebe2031290ae67e382781f010ebc28209202781f0a8f31d192cddf023e27cf4baf9c8d49e1d869778b8e291cfa806686eee8553b48086d82ccbb6cd8d497ac95995522cdb0d8ce7533ec4e06e08adc7820f9bed82331d04771928540d2fc90028effde28b802c2b5578ae0b9b32b0711d891c9a4809d8c97c2a59049b09f9fde7981923b42e7708b16b56badc413cd3d0357b8c02afb7b38c355a8e766e28e4c74c5a4cfe4f3f24d3cbd0b9ae99c24137b9f0f914c1ffdb19b4e2c1a85a191dcb6786c0535b85346d4b8f07bd39b304d172192b9ad83c57530d7123054a1de506e847f91f8bd81a8ddd964bf6fcef7c2c1d67f73deb58ece90d7f1ac2204922ecf70a61b55b412e3340a8dfbef88cea0f1327259b55b6fc40a28f556b3c37c7bf57456823990b225b06d6056bb6fbf9b4e01d30667f68a5e05d7a8409bb9fee54d98a3f4d70e00575382cd2d4e168055cb2eafa83345bcf40169704665daae3dfa2b41c1ae5541e05ab63586a7b15606aae3b901ec852ba781f92ccaff09fa7743a54443751df94eab46224bb9bd2856bf32d56ba741ab219fee2f9ab062cf0de25b529a3a2bdebe0b4c5e20e1631572379a4d6a920b02d6ad912143e6b60f61c3722d58c79a8445c8c94c618377fed5c3e0178ff9d17e41ac687cf65ad315022b46993a7ba34731b819e9b7adb2595292d7d9cc1912ef0a081bda439f1d27bbb5a79bcf2eb27084fcf857827927f99b287fc3a138bb81c1c24a5865d992d6abf4bbef8e9777842394588937117b3028352a4dbcd0155c5284ee4d73d891f3e501ee42c0c32ddca8e3541695e0529515233ac246a3667510c1738dcf52215a4921f7ca16c6f30cbb587740812bb98ec364fae42401b7b315099c419dbc4998c469d939a3987bef4a1a9b679ffb010ecbe71f5e52f1aa25c70614c13fc88452d1223a359f2942d259f88b9b97523d380ba427734a3e18284c8d9a310b3ab62f5a9cb27f7eb98c22ca0642e3e0170a62702abac11fda00e8c1d67d1972f680d7bf4741747554a9d2c182549bb13aeafc0e01e847fad179aafe5108cba583e507bc535b240c56a178540abf9ab814e8c2a9a20007fa26c33e7956875b5317c844e3d1c5def808baf3fb05d850418411548aaf596dc8530ed9971a4fd50163e327aa83646c7cb0825a4e3b1dd5855e8934e98da02f1e19346bf1cee320825c75fae9a0b38b17b5112df002e59b9110c7455caa4707c900bc1a826271c397f0091a128486688b3d2da113a2e3da0ae100a8c548e66d203f323036f11afc01bc314a6a16c664a16866454029821fe8b32c5297f3a505ca084e47eb430fee019bc3d50274d05397abceb1762cd3a1ab48be2c36cbed3277bff66d8345ceda453412b36737498208d37097e5616d8bd0928a8cffab0e95c30e360ca8de4bcf4e5d135b41e4d3a47d7a8a5c48dbbeca11c4837f7cf4a5a79a0765b48872344d464ec09bbe90540b6f4223645db3233c0a9a45cefa3894d2fc2fb79855562bbc7c1c1ff918dbd8902aacd82830d1f7165f3101412a89b76cdb7efe29bdee8d045c81b20b5f1f6266aeb3013356fa9a6ae4bb4c43cff55277648d9c1f18f155c12fec3cb5d289f4fdde78e949d741d7e4f0c89113522a0ec6c600cec0a2ad37fd927b6d0da0cd867827fbfbf9653116a13ec8096c12874343ab56cd4527a64673b5006e1ddb03c17bd20c238cc24c13c6e5251648264d4819d7cdbb41b7d501742370ac9043c859cebdb83d91f9351c66d2eb4fabda05c767e7f68cd0d9d48a86f5ca8986fee81111f4258888f31eb8f8bfca54031bc474e0541b8d2aeeb264253646b1222bcf02edff60d7a1d7077a9f4d2352dc9b272f7ac0e1932432803c5054ed6e57332066c5f6c31759f6d27744f1295f19b3b1abc916954b580b9ae1ee43410f65afcc6d2ed03ee317ab0b8b668d2ebf611dd64a8c6c2157f548170c6bd17685d52b26b82f859aff59a1754d5a62b1406f5fc1ef84bce9d28caea9360226074b0bb2d8dea908c7607794087495059d594502e84b4a0cc8526adc223c6336ca40b281fffec7707e7df8d84722dcd988bdc880e04d813f559dcdc02a5abf6a1749919fbfcf61d374d08578ccc6e2c6eca20104697a67854490fb1531bd090c122b0643105615095889c5977df69c418f6a5c3514daf47debc62c6182a8fe29a31a2b9331d8ebeef27b5f648488a600488e8029afae94932fd6697591a5123fd0bbc102bed0421e41bde7b79b9488c2375a086d7816226fca1bd0991473954c0953b785d62a88fb4b4d901ade34092b23193b39fa90709be304402664584fcc4ec24797dd4ee499dc6b4fbe8ba13caed5b2b66a3bc064d662daf3cbdaee4e822a0b924532807be454a03a6bb3f99c150636406e1be3de3087c9744c9cea207ba2748d40b1184b398fab73b2d1cf5eaf4c2501320f9fd357ef6f4918bfb61c238cfda9971cae4ee60af0552f3b9a51592a0ab85b947d4b5046a992b4632c28589210c8fb3e7440a434a7b4d10b6851cc657dc5fb3139475952bf7960381937528f01520c16b9db92d2174d725b20b83c0106c9a983b00b742d5f3e07cc91873e6eec99e3d21cb656ff186977f603eac3c1381fd08b341b58c4bc26257e81e4be4a26e6dada4f1d14c4c5501cf77b9b4f5a503a8ba2b819cb50e1cc76d1ca8ba2e74cc492b77b2c3f79b4e0dea8109a5628d5ca2b3a51c7ad246c5b21446da151159fbdba00cbb2c2ab7940f636100c9648f64d1fd21101b7677c1624ead1fdad699f74162a9bb0d16277a253fae0825e9d3d27e9db548465d713cfbcef6533291c574e81d789e953d454c6185b4ae33f54bbb5ddf50f4f70837847b6a1a37217ae27dd3c9d5875edac0a737b5f6e69426e3bcf5273783d3520a50a594b67611146b6ec054a996f15802b458865bfb112f275cd0d8a53c4b9225ba04ab89871a56bc9d082f32340ba2878107205bd96844ea05c7f65bd5528dadf3336a55435ce20f4ded664fd23cef42b25fa786efff81616ff390e6a5bcd2b4edc1dd6b91b75e4a51682d3630d80ad3ae308132aacef1a8eeefbaa4d210e50b9251092d3be9baab129cf8366facceef17dcfe5c24f47abbe714f5bcd7b462432eb3f193726790f8ba1a401334d01fcb703065fe2649b43dc3cb7435f2aebc2bf0a7892ad679bc101b3c2b09096c7e7085009416435a13de29a8934aaa173f82f83fd51a587492fa77dd17a85810bfcaf4bd97fc855b31cebf3f7a7feff12c95881011a291f21bad58535c78e93097d4580b83765075d0743d9d8127f2727202a5e427ddf22ba5bd934c83d74565e4fd1088e6b6daf5c736214eb44783f70d2ea1eeecbba7c2c70f89633488bcab80bdbdc495d2a0def84670ecac394a77aa0977f200d6dfc301caa1a07c967995e6779e94f10c7b9b3e786664ca93e03569cc119440649a4a3ac91fbb6eab1de40b3d5ba142c42e00aa55a39482f539ea23cf9913b2105bbc9c699fcacbcb4237efe50cb930a97766111f44d60fa4c056160d6b02329681ea86d48cf1a902de30b45351b1db7aa2f4b80282ecd895fd2c598028ad05f11355c4a0a8178c8c2f4d39cefb15a4ac08e8dfc167227a3332704ea28f46009173c03dc557658247c4433d4cfe8a92931ca8686a8bd5699c728686ee6c54f8677efd49aac5cbbc258c1a942ea9f5ed1c6e7fffcfc7504577299e1939b32779d7e8cb4b2057e91161f6c5adab5138143d0a8b574c3462f7767b044475f140834ddc775a35e355ac7151309ff8b88c7450b2226276eee985a3b90bd698f046cc96369ec8646a95245e7c1ca042e75d257363bada85ba48693d2e59be59c8d919ece905dd044e49f5049e1743ecb74ccc12c903324a7d3bbcdb8af5e55483848d9f63c1c8fc21647ee7494b57ac077b880a922f12dab2406562e7c7231f3ccb9e2caecc1480ab765a8eb5e152ca3fdd744af68af162729e5cc18c690529e8195f4276cfd5a97bb11175056ce922721a0f8745842dcecef02fff022b1b7cd4d4dd0d338760f5b0fcb60863384d5c687656e1db69d30b6862ec8d60e2ed00db839e050c0e4e3138b4bfb00e05ad51cebf122fbcbe479d0ee935c177b41f38a735c0e8cce6856e35bae79768df424e1321881a8532ec214eefae3b96bd90567be4cb5fc53417a15b79a4f49659c8b4eb26ec0a2ffcb9cdd2a667318eb4a109e2506bc2d10a7c6958ed7f1976fe8ba1c6d6ca21835cdb14474d152b754eea6e00bb3e73bfaba3a170bec798cb8bcf724b4814e7a2af6a422873b24a53f8ad9a3e0dadb5bb4aa1a498702e671b580eea2fffa32d283fa2b20cb0da31b6984e938f16364b4615713e1b9ee4162320bbc53829b4440180948b6d2a295e0bcf66792e9d4e0c6e3884d25293a963b02c61a275fcd5a496757e3c3b1a72cf94159148ae775fde76009a4955815073406954c115ae1346e9816b6be07f0046b70683d85e40bd0ae6820bccbd45c07f24ddec1b346cdf69cbeb4fe1f930329f7e240b2a07ead1a36b633e13710af89f15e0ef92a2a1e4ce365b077050fc9261785e4a8c3a7646cb76c0d19c956b9805a6d0f8f310c3dfa9f238c60d1c355ac53c85db2be9b49bba1605a2ae38b291e4d49a20aa499c44124bd63e0712419381766a5d070e896a9a4a43bd77c238d08f3a770e93e032dd5fa3ccff03a91ffcdf9d996708dad2d0f49e19861e0f3a04338cbd1361a3edbbbbe17b495124c72236b6895a23e8504c15677a25936a46ad2d53ffefc055f0d29d95f71f83698e443ff55a2da0a1dc649b8e8616cc0de407886803ee31c848885aeb33c5df4d497750ccaf72cd9b88cdb4227f107f75d38475d3a6e1dbad0967ea13494a2365000695256b83d68026151832eb28bcbfb6339a856336a24d67e1e2ae7c7a2834d7c4879a2cfab163b52a8d090cccafb8479a72ff8cc326a0622f96aa639c518849fccd4c0d43612ea5f93bbec916254d9936603e997d7ecd8e031734e532422756b1ca12ad206f5d3969b8f7ab1487b173c6c9e119d1520c7680cbc1fcc4a014627d71e88b0172faf1853f484818b42cb53e0b0db2303d500bcffba7bf116f7dd4c662cc335ab995dd46307627a509c1697d3923c0558e30c55e76e74490fdf39a981985a74232276957eecea1a977c35a206940779448782d3cf453c8f6cf044763d19f13a0e90e9d9293fe7449f334a7854d6f57bebe0a0cbfa4e31a8c9a29c1ff19eb5264c529b2bfe4192c1bd48a678580ab895080b650a826a09a90776751108a6eb65820fbf8814b56c7309d761105a22f5b57bd9d31ca41d7f1aa5638f4e17314f2c17599ebe0cfbbb6a9a4570e798329a06eaf85add5226c815de9c7a587baea6d760741009954a844d304393648169fbbf08d41777698f51ea28a6c05fa40d6540c9368b3374f1cf2fe13942d2f4ebaf92b4a312f64224242ddea8c02df2213fb40ffdfa0dcc45c50ebb13962c1b62567b4ef1095889f264e1597736834fec67d455014ae90ac0a7ad92f7105fb574ac733dd97bbddca24d2c4d7567a58d0c8ef3be3840c021cf45e78f990bf1070af42a344eef164681bce0dbb53d979971352c9204ea781c9a077aeb441a393084ef2717d0a0d392ab3e2059cd49fd3f5a88f3ede9237872a595f034e5129473e697407a6545ab9af63ac15858dd029b4d041816acc6f1d58e04395714bcbf7c0071a698a75a41611abe8dad18fa3bd3df8a7fcc39c7786da026a61daf88af3f6492719fd71443cf8f23e0b922df6af01ce83564b5dd66d27aa8d05834fe792dda6d4877aa6f4e2f6d2735994e2bee18508bf7031e9ab3eb6e5c7ed732f7d8c7dd46c725b2990c7bd44e4ed90e7cd057f77c6d81a1052cf02065c6bfe22b42cfc7667620e5020c64f0f78e553ab758fe62597d00b8e053282a7c9df04da96263dc928cc0ee63273d0ea2078eb5c518d978c06a2580dbf90b99df94fdddde186f76491cca700c3aa1316e4241cc6468aec2e54fb8b0cafb159a427cf388119e1bf3f2771621e300fcb83e4c14578ae5272c333cabff0fb03339898ca9b33cfab97d5a52936af55e32950eb135d5fdda6534008f8a1dab1f0c34281e8acee32b5b2e98249ac8fc90390f473a6b03f79c292665867f430d0c311982edcfefff223833e2f3d9fa3d20eba47c566c513d66b358c0a7761b75f03e52abc8ef97dec9f41d9d604fc327d5e4de1dc36227b7d8fcfccdc005fbf2d1561087b22baa9a8ee8f53bafc7330b7d55ac8c7b3d4d4f158ddf4c086cd1b5942d34b763095a9c3faae57f69cf899e51c1b6fe41ddd58d25eaeeb70b2b64a2cebc3875afc7dcd8a3068d8ddcb630d7417821d22d6d1abdf5e98762f0c1c96c72684d57e6e31ece8f6e12fa909dc2a9a205bb82efeefc2991d53eda7737a1505c36d33e40d3d31d8fc3d8dc9a6f44fb8e3d602179928ea93457b286e617aba633d7b979157f81633af6d343adc989fcb7a9c47bdfe238545142d42b0c48ec97dcc4f4c78417ccfb8b3bfe075d70e6f58ed312a6690fcea7da00e327396740c20269bebcd61265ba74841421df22faee361c4f8cc9f9750c2f68970e9ebcb0ac1af8b998e5c78a16a4d83ef917657d46068f50878cda554d6fb7b6aaf7bf73819f217abb2bcc698d5ea91b0bb4f71db1fbf9ec5d986ae5b4be78a9ceeddda1e00e0c99aedcdaefc36b70c68a76819c02383961e62d1d43e2c4dcbaf9af185093032cfd4279f2b949e998181460f513b4dfe63748ac4f42c38cd6444059f2f130750c9169faadb841b14b3ea6e80b4d3dc522bb5e4d16a7563dc47d0b15f1639af1c6e67958686cafe4de334cef654880a9c73128e2754c44a6f2517fc2901ca7a56b8e0f7ebfe7826a1ad206c2c8517420de76b226bac490e1eaec1942eb9157a295f864c767c07bd8dac13d19f31bf3f7058832e83bf7e19c26d10114414a67e565eeb6d4f58435109a1421744d865275677592d9f1e01c719f2e8faf52c1c9355d4f11c634553e89e48fd9340879030f6dd50118dbbbbb464122314b3c231965d40c197e100fc3c7147b0c256f591ef3daae5fb22f5f14c46ae05058c016f2b31da9e71e01f6641d669c7155fed914ebd68fee7f7347e96d45c8c51ca4a8461fa29a44dca7ad072d65be4c730fd817b6ea260da9e33b1542dc802e314d9484479bccaa1d944f9cd1060076d66cdf2f14ee22c08f0cafbf9211a7e55870902e49870bec0786e3e16a48422dff7274f70d9b228f41b7a41348915b6bf5ee1815034f6fca694b04f9b17cc8f388de8bfef99d384446ca3f62c526af14aa5ac932b8f1cb86c45c32f137bd1f409aa9c15cfebcb1b6fb93207e82a582b62eb6adf6146d63f936e68751e8b780d990a0be649868353f2117050795e12d334dbdb3ea5e3c3abc240342ec79130b6661316f0252eef7f364ebf4daf9f4001b1ab7721399711196041a033344949146ceb172d2347640dee95d0b2391ecbef6aa00338c4aa8b32e4c724aa3043801800624b8ff6cd0ef3044ed0aeeebb624aa827b553093d581d6db5165e6f571ad0f9dd1a1dc7393a7f1e41fb8ca6155964523155074a79f1651e5b909e47869781e1cd8ffaa263ba845efd5c48492126280159cffd214d9a8e9bfb517cdb463f3ab0e633dab497a8dcb072294ed250f9be716e17ce1101602530609f2eefc2eef2feffbbed22f9b6dacca9f06eb740fdf085bfbdedd17d5bab375caeb75977157a8917c14d8fc3af9838d3b3539228f411c3d653ac73e431c2ecf0230412187d5d0be43c5397ffc34ebbc9e403efa9079cb2e978420b4c3c9624c129584de1775598233af432f8b328986bda41eac7c0eed1648347114cc307814c4ad1486efe4a198fb6fbb25fd82413b2a250341680dc1a1e05bdb22c6058bf465b9f4e25dfd12d8445a54af6774b29c28e848347e0e0424395ceee2e8a11afc7965abfa1360ebd2c294306d4a13c40b667b234c70f02a6453b6fe7d7a2da2f42caa7726344d375c816f2a7df11db65980cffaffc798261e5f19da2eea83c275f4c62e743290b337a1085c8df58b1ec531d4b292c5dd189eba068ef3b5fe0b79d14ea60b1e6f724da61f03455174df1d03c93ce815febe8439f7b1b0e1c8f884dce6e05a38e04fae3a36f1bbc4e466d9b6df79eeb690737d8c1373388f968cf1b2a7ff5b68e1400965877ac7e2c9e8cda900573dca10d876c38fbe371674a582dd27610252b80438d1ea64ff1ba89ada48f56c49c6bcd8ed7fc52bd20a6ad68e061c0c3e8a0df1a25a99708529a475dbdf8d6d667c93c3ff5662781fda72dbd429cf9cffb5117dfade876d79ec54e98d2da2f3017f181b716d982385a8fca8662d7d58f638085a9d36bc5fcc053d650b0a5ae0c1fe430bc81701980aa1b40304b27951891d55b418478d8ed67bf137aa7ef2ef6329bfccfd89d75a0afb0c89bf3a6adbf3346ca674445295dd452c6d6ec8b79d0b8d1bf2786f3af6d674c1396ecba0e1cfccc9dc6f9d2c22a6e94b835700e383139ab8edb0587c1419c366855e933b5f401743a472c804084ea73bceb0953aa8538d2874d11c3e55e8ebc167a40981c9c5b35d63e294c37d1cc8f7c5b83e965d0821cfe5dcaf3e6446c1fdea48f64d4d9684d59774ebfbdf4d85ef6e7c1c27c6adaaf75b4c4f90473cb4a69fcf921ae969d9f252b93ab241bbf94ef6f88e601c41e56e61bd146e26a399ba8c982fe4812df1374f9a917ebf909b9b9208e62d0d14ae5412265c3ef06932d5763f13995af0940b36af218c2aa4cdf56f0a997562e08d5517a50e9fbd7200fd7d2b2885193736e1a1da2ec5d9cdfb8efb3c5f70ce053a5e3431a65a93dc1aca0c872a8463cbe024eacbc3a94a8a220d3926a39ea51998cd111ee904e206eb0541af5fa4b00ffdf07d8935af6531829245b00afd92f2e54c25e6bc6699005118c4b8daeacb260c4e911c4162dcba0509645b8567979e311340a4740ad7d931f636a0096d04612c15d4a4b443eaf14668a14079a3f83aef48634e86dcc2071e64153eb6c88a7e0c2cc603d02acadcf784baeace78bab827f446fd102648ffd79334db3c08037875097d2f954e4bef728ceb23e126518ec1ccacf0a49d17194e09e28670466f2f43f2bcc0ebcf6ff235e7459c1d24bc781abb6b61e1b094b135e157c76dd866540e867a2252672ab701b2f5d5fd8b7813868a08e79a96dd669caeb7cffb6ee7e5c70c526ed368f76ef374bee8dd169937795de556d92479d223c2cb5b75495f2816cb7bfd4183d2c54f522cb6ef288c86d64fa7a4c5ee7aeb0856fdd51190a0b57c844603a0d123fbe5061c9efc67ff1dc91ad8e03d9406c291dcb2853b3d59dcb04e6e302fbfd8d5cf5e5eca03e006125efe944a1186dc41aa59c510c85246354c572233cd68be75677dcbe7c32edd9394f0d9f64028444b76bce22fef2211d87a1703be735e0608d9652202cac158339b1c770eb3e14f3519c8fd0e430542537fe09b46c3343bc0b2fa8130fc68b587d682fd1ad0355b91bd56b840d24b5c147e4af049344ab93c4e36574a7786656eebfe654619a7b643358cec500a80a2913819097727a48b0937b59bc393b448a9e78b85003845eac2c060de62909f134da57fdb9d1d74573c1f11492a42665f9c6152fd69272677abed5a3b3d4cf410157e40567b9583870eb6878316fa37b5ce9bfb74de64fe8cf9949f46f6a9af653f753df305c3a1e2d8f22fb9ce8b58423fe8a2188fb1b38b6c329efd103c6f701c6ec59f4463697c2895cfb2c1401723a79a158bfc812083a38bb1790517995c57800eb17e8549266e1334bb2384b792819b02b24606f627997de854d0c53cad9917917017b00eb2fdb6497d9fa00683830abd2f5c051aeba5ba474e379f31710ef62de8f3491c569f11ea426eafd75085c859d5efae03d574562dbea835d123fd7eb153e552e61559fdc0915ea578104b3689a179d75ca47764c3f6561c69297a450952865c5b6b93217212b5536e8bd6723392c789ab661f0cab6df6bbf52a88d91f00752cbc24b7e99c0eb7046be514545a152f9f383d83156a74dd222f86210c15430d1dd09d6d639dccf05293442331ccbc14da5f848ab23fafbdfd2e89bd0f4e83be63fb06cf0475ffdb7a3776d99b4bc80ee82601e4947d8d776fcbd4e318fd121f0982791ef3525ed3b9a1938d3b832f985240fa0df56e14a2bc5e7d9b5195088843af5758026c354f760102c2d72638851ddba05106b639277526e8f65a5b68c8980b4b2d9b5fecc60520f43be365b2a8505842183abb4c7252859c11db433136968dbb0fca1b8db8042a7ce6e67d62327a58c48e9559a7e61e80b87cb495fa0cc7d04bd4659a24e84340103a55cb51a3e04181b1805507c0e764052e159424672fd7d91084ab750ef012161dd6bca01d38995881c74cab763e5ef2e8d7ee36db983d093099af9f5949171cecf0df4c7d2856ea8792b17f805cdd07dd19a54697efcd863dcc4e24676670f862c6515a5f6a709d72c9a1dd6b7bc2dea01d1f21352e317bcb9c7aec7ec208b35ca17d0b3c0ef36c6a060999cb2c2229e39ed4e05e4114893fe3c406356922e70f2b461aeceff1c0599d6646122c64ef50d0af78f78cafd3c737652afe33de892eae732c8ef3ca6e2fd3200a984b6785c2fce74cb337ebb34564e2ab0840d575a079ab179322937a975e73350eda759fe2f395464af3698652a2fa86ba75ba242a28aacc1ae728e73ba34af0822e53bb710849713f00550e8f07912853b726a6eac369ae1ceb744f8062ad70b334b6921ef7169f3ae679ecfeff7472b518069a9bd000d9fd23d1798837e19a7ea982b3146f67b5a92a505c0629a43774168568478429e9a48b8686afcd8f2aa179107a408e50636ac62c60f0c94ad19d7d0566f15d5cd0b17f5713c53f59bef65b827561a858a163dd9d55c9e2b8df18c6ec1b5d2425e28eb16e134edf36cfd9b964ab34c3a96ec510442fd902353f41d449acfd6d4a3188973a814320440d090c3b542ba6ae2c2625d62145cd97245497cd48bbc102ae9c8a34129cc1e42ceefcfb1230db8116429bd15acd25d4333a01003d8221c12ad0eb3466494e2b996fc079bdfa6d2ac547e160c80d9328fb00dab78b603d260e6de2ba451a82d93450b9cef83b5d28da72a33c765852f5e8c59028fd215bc708bb13959b8eaa2911dc4b4d87ecc1e67d536bceacccd332e2887751ad908b336851c755ea4a4847d1524a060efde8f1dab4087295f7a9c5f605e38007d8b7e8cacc8defa46664f3a047f40486285b958f15156ec27ba2e9b013ef69be658743db1d71eb51d5705f6663bc8b59e05ae75d0cccd918b513d3251af8b781241ed723b58333e95705c5dcc9314580ff8502c933c70dbd5e1f8ed004a4aa0bdfb2df8ad51475fc6169f54055ae9d4ec531224c532d51930cbc7b5fc14dc9eb3616af2fd90361b62139e31de52ddef9a40c0755caf2db9f8db261c8be9f1296119ee5f2ab05ce134dfec3895a122c138e5f70d8cf7fa9fb8d90129ad3a5e8897db051cd532e0127469ddbc87771806b39263cb91d22725e0dfa42a1e517f5df27b53d5f390aeb5325f38301584b91b28b995189d55a5c18cae538519f6265825a9eacefb741aa9afa7f23c0cd8c58648a2a8b97fb224b127958a4d99655cb49011ea4644707280dfb553561d3c5d8bb2207da0feaa1107544e7f1cfab556105f67d893f3195718648ff0a572adf46117015fd3c68d6028ba7e5642a1b46a72fc824120a4026468acc5a4ac6beadb8d3a2b6920f2ebabdefd0b53fc3e1540e3d8e1d14ec67127a1cfac17998b1a51dacb42fe2f7144ad66131328eb6e84aa7eb4e3849bc1c6528dde27b1cd14e6b6f648d6f512867e82cd7829d509075260330bad20c1c82bba55e3952cb2cdbcafa1d81652ced8402548985207db7d7afda79de92ca5a4a3afa2c07746819eae64c34106776050cad3ad449f84c5f7f2639d5ef677ac6e0ce6778fec7973aebc2308b33195c8c7560044da3912bb08433f9b41ea5967b3da2101f40cb9082349354460e65eba79e0273f6f58c306a77b0d4cdbaaa3b735f3f2af70dbc6dab76b3ec4bec1268930bf31e9507cb3ecc4542b839612747e6095b21b5bce4fb6b90687577c117c1ebeb6fdb15bc4ca460cb528522f705f4158b4119308a337b16f6a8e461e8c3e5f82e45d2914dec13de2481b0132f4fbe9df0cf5a5158bc63b383f0e0a33e2b7e3ce028ba1c86e1a5b761f6fc118582c0d5464529dfc54dbf88a8ce278c28186f7cd0d120cfe2020a8f1a1b4aff8befe65a24f879924edcc8e2cb299e799cd68fd96ad2cbc396238859a288d763399f8aa53978ec894894bba571cdfdd56559e98a866408a58b5d5a98b2fbe39f389b4e72784193047dc6fd04d6550b8d5723209d1cf4297a9c77c8bfa00e31b06375b387e4d863713b9f74e9ec8a5d9e3535a7995676eb2464381e130cfe14415d6cc66de61aa99c9fff5f2fc8c55c172cbeddaa8fb2fa806291fae3c0be3e1d7bb7968ab33a3aa6cd9715940c43e967ef4f49123173526a2d1d4bef10e86e79222b85e6dd0b97779d56f6329254fd61534e236a7548b080b2b1b92651779512eb880e10b4056099a1f206c5bf94a383d62023f8ca83f430012f5aa00ea157439e2a272e4f1bf40dc9ac23ff81661b93da444ce446c2480a81e9f845d8de2279ab32879bde747e3f5c8095892d3ec994dc46d5bd762da58645e877a970962fea55a35c84722ff4a59f781cf7a5c60d9776dc622db2618b7b5342b85c7b23519d677d83f431dfba0bae658383f66b9c5c85dd9e72e37c4461444d02f9590852b7f4a56d2c682d0e6eb5c5890c78f6c805726d6149b1eb97492aa1d94255dd9c78aa5ea7574150b1a2f7a5094fd1c3920556d921129b30c8a25841e22e5938ccdc451886f1985f85ee09d7217e7fbaebc73d63747a518fac0e20f4b6ab21866b43803dee98892a0bc007b51047489d4f1b79c78663a8baae1953a87fe7d91fcf80c12dc3406c2abee57d7d2dbe49461921ad2356fea0e6b456c1357bb0fd0fd28e7e476760ca1f75735978d8e3abcc8ce9f18f2b26b0022dae02c45a51c352d9a18959b1bbd5b6707609bf257bb89f1b1cc217ef298c5edee37f4eebd7b741871985bbdcdfcb79f33f64f7687659f8d25d9f5e135ae3b49dde45b24e4666f5f85279e358a2cf457a961811d7b0f31130827e1cc1f193775f2ef7c488844f547ed3b0f33c571b5d962beb41401aad44754b13820db3dc3213063278f6d4d398fc938ce70bed72c4fcf0508602b1b5ea6c48189b82e61ea34baf17422dab005a1cb931567e21ab83b5dc59277cc1d01b7009735e83169ff594fb822eb37966ed157f3fa43250e186960d62c774ef156782c1b1b7f194ea3db3c43577d634de7f4e9450f471d53c9d87290e6d466cc38aff7d3fb0184c4fb9785417a27de8997a883dcd5de7a44eaa205c8c8013e3233164880185bcf68961a3902ad5e12749c286a30aa6d2432781a771afce160a827703b8aae225412c6b14374bfd112ae95853496a4632db86bdde3f3908b644ce40a81551a8edc872f32f2de1511b5d3066eef3fc13107f35a218af92992642d4909d87262d33a088d6f56e83d7ffb2f1198be29c2fa484b21f193683cea5507eaaf9ebed63caa77187d8d1dc4bf1db238ea0345ce7be8e7f4c5b01515122ea94f58c361fc72e5054b1128275e820864d2bc4c8ec6fbe9ba8edccd692de127e282f9cd7aea3b83ac701bfad76dbf60d645d26dadf5917336b8ffa2f253fb93aa34f48a367cad44f1f730529f0cff74ff76add8041fbb3c7a010decec6738635909b8d8088c9c5521addae5b0f23d990fd861ce2e336b6f80dea6c30992d9d3f022ab496c6088e50bf5da2c283f294d327bf3ca78f40a65902652b69ff340695c8f88854dbe9feda6c973a1438df1dd7cc998e97b716066b6d55081f141bed9d896e9b9f7419c30c8a96e9adcaab46a38a78718a2de81cc15c2d3435e4e3e8028de3f183c0de1b7fa1e772b71f84b93acf5f6af7b36a05205c9ec0f33a2c3abb0b7015530670e3ddc328e04f345890eacd98f33e2b07d4d1dd74e377782474fbc4ee2b8f5248b7d7be3bdf21eafc0b734b557704398542c605566155b78595425d483f9ef6038a059207b0dba39bf58333ed4454ee3cf5ab4e827cf6b4805f56a6c75f62f3cf541cc34062745140b3d82c87e63047fefb3f078b806e57552833cf97a5707e0708993f0446d9944c5e68420d7229ff988b8cb8b3eee9a82b0e39e29024955d28f8255b6b97d3e052fd32e0e53ed40faee54d27f69387bd7e0e0aeae1b558aa17db130e8d247a631cedb276ca0c53be4152919b12cd0211279e8a05ca7da29459e8c244ab1726d078d31c60c9035849c64faa8dc8170626c2b9e40a2e2898066e7b08b6d7574621da73c4f937a0922a69ff68999a2f7e8433d85d5b107399ace2257d498650cb096e29e61b36d2da33ad30387","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"90dd748f4ec3d0776dd7b6eeee402379"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
