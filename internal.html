<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dba83fc81e368e19baf7c2a6ff6132f171ddca96a6b5de980a73ef21c093cc2360a4cddd42c7b11382d2c0d2cf6bf0d84960ba84813b9c87fc947ef805a0cc6a9465830a4aba21a0c2cf60983bf932c27b99f4e3ca669a4b60404d5c0e926a9ac8a26642196b03e9cafa4a687e3c87ae927439c23a8fabe931bf01f7c5eb0d0608c096e2216030c15b386ef27cbd5a2802c132a0f4f1746c91fc6f7b14f695f5f81dfb4a22efed15f8b04a4c3e27556429cc7b8f287aeaa22f212e66931f0e52afb10f9138c02bb366138532889503bd78e976ea6df40fdc6e12b2fd35cf3de9547348276f530ef29b023f51d0daccfc7dfa13e62eda7ca9c42d24e238948ff82b2c36f9f796b487bb833a7095b44ea14edad33e2c5ad39259047e67c897f72d8b6893c29280cc2b56f9fa3ce9a6d356eb292bb09c2fc0a20cea091c888257d6e381e59336c1af42ddf7d9639e914732aedf5fbb7ef19efbd17fd17ce3533b8a92662f5e01695d76732e794511ab3958d317070f5904aee0140c751ad39b7cb0ef9e870d4964d144483277748fd22ef110d5d63fa2f31fa6dcacf8b174855639b33bec1dddbf5e039db9674b23142ad699e23344fa91d72459dc4ac5db4176894cdca08a71f0aa66d08494e07802894b1d685e743afff9fff893a2779dd3b7b8f6e421464c17260917bf737910fbfe47791ac4e89b3f4087039dd81ddf792874c9989be3f7ecc3adf203a2713c6486c5486006a6fe0c2601667a5a1cf2193f18fdf4a4b209b83cafb9a95fb37ca2e121c573284a94ddec5139bd08972c39fffa4b1290ef7a43cabcb7acafedb81ebbeb76227fb2660078e450d3a264ff225953bc3816f9992371080596fe3b97da2c67da7365175573dec745f326296eaf142774e34830307ec5cd1d4ed9b34642fab9364d2de9aef4ad1e109847307d4db8bc37adae9d30eb1522f91d1bff2d9608053d4232ef99ce1969fa68825e7ff2a7a7f30e32f3e3aca4caff18298d53ad2321eb5a5f2c7822881f725d1bafc2ddac4efeff9609cd8ebef6cc9dc992723be19a6ac67b82cfdca000469d6fb8b6601ef45845376dcbc13f0b151fed27f12b49f9f24e4c614c07fad5ee6823f839812bc30e7d19cdc6d4b2cd9decae9a66325e2bce25c8af9802c9cc4825b3c0ffa1efa6a22a9d0c01e2ef936f9909af3728595097b73c7cd3716e00d70fec55c06a790c4e11aed553c0b46c8ee2e1b4f9c36b186407ec9ad7f8edac59baa086a7c5e909c73789f2abf75f60535ebf4ab0096a1000c1b688569cc6102d46717ea047c236d6a96d5152947d375af2a460702f1e1dd78103faa575f37cd6e40bd8884d05d84e5e6a92fc704b98068b6ebef352627b41626b79749021d15e9d410edd8e4c85432447b695fa76e9747fb9126292bca917f2a8ef37a945c11dedd214cc685e0e1fa331977960417f023713c74f630931dc08f89e769e2f03311ae6e392dd8e35e8393627b0f634893dd6aee97683a9acfbadf04cd1c2fe71368c0f835037405580f6b7a7cecf97b9cf4fb121511701303e544eec4f3be8643d9170d8ba7f0a2b1cc48073b370fd89fa9801eebc78892409e121fe7ee7e60f5fcda00aa843ca6c75226e2e4a6ef13050e0b688e0f2ad234e0a47d48513bfcb6b9a395666389bde9b803b7e64540e497f6568fef8ea770e37ec3332ef5a071500565c9faf010f8a33f0f02b23c92f63b3ec9e0d651470279a3081904362268d5919f44ee5b82acf16647ddd2fd6464e2b9833c73b4285f69ee83854ea86596acba25bd3f0265abad55499dec9f91a034204438f9dc0a5eff30d89ee93081e9ac1f5c32cf23746620b132462c9267dd66a0691daa0365c9e28081cc9b8797f058627c63eb9e6bba1f7a4489e00c4c628ae57edb4ed77e1e9b77f60e6882862a877e0ae0398f948ec8b1ee1e153fc9c8306dd5077323be33a0df7da9c011f3e95f4f7d306625393050b2141a2c0f2f2c629a2a4290bbcf63ea6314d01682124cdb94a7805776ff8fb5b9ef235b456d2ca03d55332de006ea3645f1fce7ccd5ed48bb711a1b80ff3134a5c3f466d91f864deb7f474ed42e99d27f8e4fd769d34e68c330f023defa86513948e663fa7e4b479a89617205d4993e9bef8531cd3dea13642fc007b5f1680b0788ec730acf48e634d0352add5d1aaeee3a9fe95fbc748af194834979a3dc2b38d61544e7aeb38dbc66a2353065b89732f2b0d6962ed4868eea98b662cbfb81fe16678b713065188c7aaa9684d7c9440eee33a80f6ed2de3bca0990c75a3c0f2b2474eaed498230af7a4f9914cc2b2c7745b7d76590083db260ac39bd9211ef47917b30cd9227b59ab9f95d825868e7216ae426a1f5e2c71a24ac9033977346e203dc007d78fe4b9344a364fd355b37c35ce41ac215457bbefda6f0dad726893652d0cbbc3af7d1bd66de07c8cd4ce9b110359ccbda33d711bb2a5c2169c3abe1eaf9ec2e6af17aa6a222dc2820e864918885026b6f9b463366c7dce1c3268d044918bc9e62cf39964c6af94f7ef12d6423d6f07cf36fa22cc86543e44880452b1ceaf31b2508bb1315bf93b4f7631d48186b98029446e1f4328a2bb9abf61fe95e46204e90084246ea72546d54fc7d56cdee3f729f92a7b74f5dfd67d2ecce6a99079054dcfd20f7468b3c32ab5ed5a702912393dc228579ef83d6a67749719265557f49382fec7c4c51042c407bb53f833f0454cd6c7bca34fd8cfed03781f1c23830979a7ad95577acb25dc85af166677a39c897b9ce0fad3972afff6c0d071a684148f0691504b9b7493ac102967d8a30a0a5f90601da758d65684a213569735aba6e12ab1d593f7208cb1dd02a7b9025bf152009daa53ac1fd27be110688d3150f1474676a3dfa8e4e87ce8a0576d8db0d50ba6cccd8622d6ee4495d433caf7ebaa4bd5482b37ed227ea11298b4d002cb8f4d9cf7b74f5df7a82fa656e21bbe0b2bed576a1309d55ecfd1fc981d1b60f1e8a5da67b0d567fb7c69bfdb59ef5ad548b96085b4c929d77b4505dacd73b65579266e82c51fcd95f7c351e02d57601cec8dd66266cf733566d6ef37fe3ec8e77398903b64764ae84884876d26f8888f65018c3a5365faced7237cfb409a9286af06fcdcfab9fab76145e44e8dd239a553f75e3363ac000f51c548b5eac3d85290a884f103741fdd3fdce088508d3623b8b915b7297d89f39055be85e76576a8e903d8eccf8809ded6415264bd5bea9cdcad523dd9cba7f5131e36d40da980a3af16bd2ee41a91f9d0d4147de41aac5843828e6c413236752bee5f66c87547b0b39b205c327f540eb82d2e52ac4630f312554a387fdfd00f5238c031f7712bb7af24073415c1f20a2cd0cc1ef265747d24f6a1811319e462fcf16a7b31dda14e63a4565191dc59912cce7da5164facf48023893b1b25b4b3b18aa229cf993a26501fd61e4007df08acadcda83016bd705d11650ecd77384272a6f1b7b80f042d31773887fa23e8a14a880dad88bcab3b117a5d1a0542e34d3a38b4276467930a61735d7273072bc32e8ee7253022195d8d8b9ed69840f37180091087906a59bae22b83c864ad5bfd33f25da9ce2dc4e5c926bb38abe33b1d38be3b5704de3c76b4d011f1f034abd5c4b88cff231116cc221e66503fbf003878769e9ff663527f1088ce6cabe6d84afcb3f7f724aaf28ecaa607720adf0db72b75dbb8123d7cbd3831f49570bcf73debc10ea6a1a1d130c20922188d5da70f3ef475350f77a4577ae908dadf43f05ea0a63f9d74129ba0264de32f811c64f271cb1a0d7b6f0359851935e02477a0373cb86b75be2357afe84fd98480f6b920d1d7fea404dfde4bdd41f5c9f0882ab3a75257b86e0120b82a97bcadecd375f928ed12ebd972ac9223d2b4bec27858b0ca60d6c0d178de2e8d8c7a9c67cd3b7a35c139bec9244ab23de4578c6390ba3fc01912ad4ba9c018cd3268ac1f97f02336f0fe46a03f8da3f21241dd90eb499a79e70ea3bb391f9bb94d22144b71df0390d6a019c59063faf09fde2683cd58d26475f42cc43f41637f3cf70b5e0a0fa04aa2fd6c17cce1dd697d15f14810e6adbaaac0c4043a8a6aa4e8f09011e6ac9b6e33206e251032fafd302862b9632bd8dea88fb3b86a63af7238be584ca94f8f5ea50f2783a1bf960401e10971fca118a7cfabead5c7ab97f1192e238091aab6f0bc6db0e7920aa208a3809063713ff9e88dd23206a86cef9ee007b16b302f73d804b7ccf5a3fc81d7b3feb64d75aec9aacd7e7bbbf12cbb62b82a03ac9b4c00060db77961621b508a3e5ec485048432416ffe650e0716eb6985bda8605d7982b3c214ad3a534e35e3448d409cd5887673dfc88d4c044bd0cc285f2f7aadabbd19a79b2ab01aeafa88df2dfb0de1ef6f9422054cc7bde4549a54e7d2596b63ed7147658a20bf45788c50c50aa3fa34d46757a104bde362349cebe3cb6fb88cd4ea8184afb1f1126eb117d0cc550fc34dc5b17011c3ec3945c9a7930023bc9c270a902c9c371ac36e8c5bc1dbbfdf3976ac578be033fca7fde2c10eebc654449b6525a0f20f4e0c0e16706b0a7a27fa197274c8221794abb22b8401724f96b0e64e79eb76349bf330013dc690fc3af4a50ebd6b0363dc4802fdf35d290c862720e11f57cccf7a02d375f3961b23f4803c54f571d69f134261a60706d16bd85f9401c60807b6b07f515f925c9b774add4356f7a2f802b9c3b80ac94abb0c765d26e59541c274240887b64d1274ac284ea746a5b20c70f5edfec576eb4da8fdaea2e33e6dd00443e98d14734c8b36823f889e47b118817fe9f1179514c4551c980f089a14038e602bc1a635da28393038fb0a9f1eb1dac555f8beffb08f7871889325cde00478debe7f9600112288796e981e11671a3deb36e977b4e07c3b5e244f8b4559953d7cfa840caaf178fb9bdd581e0618fe91c98f46480d39351cd80ce261945af0f652c8d9d4b8c9dec1374027781b0353eda897f23d4d861d853008595833b4be896c92cbe07c52a454dbf3a905cc611911855a27e004cb5f8caf7641cd0396dec23d272c93b3f3145023193a8bed9041e5464709da77f656827fe3bc008513486162b5afc4c1d17e5db1995182f697ce80ebdc2130bd139115e6a8f0f0608e81ee957bafa60e58b6772ae1cfd1bb3bb8279f16cd59bf5b6d224e88d64fc624c959656e6e15d6da214cd0ccfb2c6014346ce4168d8bd535d8711e80cbafe3f8db42bcb5d2fb19e892de619455ebb9ba79e096e3c573067931c1571186cd014024ddf9ad8e6bdb6df3e289da5235838d14db5b7b51bfdfadfa6223b5faa2b761e24073f62eac10dbb1ab037d1426ef5a850114bb8e272b36b6da7c51a95e1857cf8cbf77172753cbc679d795eb101333ab9850c4503684b7dd1d623cd2196fac25d67a196513cc5e7e1862d7df59b7676307c83f88013782b4d673ae4258c0bfe6ecb78257c83efe412f9f02d49e83eab0bfd27a6830d582121c326058f1a0c784d5353fcb4a3e364f050032120d0068b8e8dae5cbcdb083fe2f8a1912e4f04e8656508ba33c52950f22fbb1c781bded8d968be4046c5e68bfd010e079884f5f19a7004355f6cfb06e7d8f812a6ad11853aa533c2871d23c214d201418fc9b8f024d9dcdc475a872a8e72f9cc1870fa389dd52b2a38a7bd38bcc33c7e7a1e43214e5a4d95e70605ef0ce9f3df758a9c04e8c154a7aa97d3187494499d87a171f1615a0fbff4ebd96ee76b49ce640a1080ad311a957574a7f4c7a5fdd4d337047913077d5bcb3946d1a06c91979ebaed8e808d0528c0bc2d4df38176a1c560380f4406d9108ea2eb826cbaa7f5501b6a6a98e6dec6fc35e1b62115826811b0ad5e350e07f415869fa4d811db9152da2244525484db7bcecef12f551b475fc97b3a35cf9b3c4a8d7556471fe1e8838c8a447bd75d869748260abce575be4f4768e3b87435d90a72dffa2e2611f6961a31e77914082f64c299733577af0b4e78a9adff94e23159517ef0974e86fe6e9450b05d5e109074b2894fee04256bf21370661afd5cd3b49c98c0779f45a7d8e7d1ae9d45fdc10b6a154741529bfcd7c2416324764a4c013f9b694e89193fa456cc34a534fbc6f0e1011a735125221ed1c65b509c7693e97340505363c4b46cbeaced7856e5e62a4c729000a19fbea5d3263292c75ba5ce550b1e489836f9ae36418665c66f9e738b0ec0e98c1fb16fd56ced0936194864af7ec4416001e02abd3bad5eaa49408c30bf51a3235473496c1941ad85a52a3ceac6fb4f6160a5441d0ab3bc35146f0d80ab85bd6049636ec2e182e196011d22b9915d8b0f0d810a946f79077016b157544dcf35f0445d19efd461918c35fe3a083d8f793d616593d08271fb5b8e7d5b4cdca2d47602869bba11ab59293fa6a39e2958e3bfa8f6ebf94b3a709ab062b3a119cb9d7e24f259fc23631840905f8cec91727f42e7f33d98e233998c761a404ee63c0dc6b8290026aa485a56fc2ac92b9b11881328f0ead8b5886193a7555ca17308064b21b60f4a5d327dce4b01d0ec4802b5f61768565d463f2c7f52ec76ba327db4e45db5b6fda115c1b277a3abeb8e33cf645d3490739299a118e4f324a54035771e32251eed3af1a20a0b653b61c6009e2885546266b23f351757ba0b7046ae73e41e2e4b9c3df580195642754f2f9695e75e2b570c584a263df495fe03d9fb70da08d8ee50b920ccb54ba151b3a0fe8754ba0621be3bd303b919a467da96786fa244ee4d310ee4bbaa0616c177ad916bce648167cac0b621212c3e5bc01e7d7da4dbabda1e8a2b476268aa84bd3be482a3ebc8ac24cdfe800d7baf0f4d63512c69b9aa7ba348d60172cf6e4f1568cbf6a6309df5537203e4996cb61e71559c2bf985c9bd8cb555cfe6920169bc0a23475fb4b599641f2597de3736fb489114841a50e13f30243b638a33843b9164b9a734345790b3274d8876a50f6d8b2ee91b278ef90c64e8a6d17ca47abc5cc6cf00b930791d09d28f38f48e60a9df48d78946da4c237374eeeb4f6b07c03f7ded4469b1b524d9027687eb5c5e9f80fba60495a3e61642a8d23fb8ba06e020d795cca2f4fd3fb4ea466785603bd5079f19c2ae232302508d030471f4a61416898e9ef030b75ab2cb1c14ee8cf11dc34942932202a959beea84dd238a01a665429c5d7a077d5f3c16fd9fc5afbcd4ad3edf92dd785c5ad46dd33ea884f74483e12a2e45574b45894292e1bac74d7636aa10038ccf1f126ff4259e7d207112ff153aff0f75370171bd1cd11d0e882f48466dfdf4c7e75293cc2830cc8373ef67ce215c52337650e9a175c5f312f4aec62fa0f91be54b89cf6994bcb46e4c60a50814c5b02a681c166227b1698204fca567d36e77e161139d68d6ddd86491ecb5ab3f1e0700f2ec9752e795b8078ce56d8d091039aefe8069411ee030e977f407a4ec3823039924fefea74665cca7c1f7e8665302605c41f4fccefe4876b719cdd8ec4cd01986ac7cfab7fdf72a7806f367779f64ca12e8ff5040cbdd68845023e8b4def28c55c720f6420480f21231be204bb41c2649f374a47aa10d0b61770bedd4d2ef7217ad9950eec56055a02bca500666361b0b2c8d79735f18edb7b7f2e04376753e4027198aba46080017c4f23213e3c77302188f3cf6e3edd49186ee8173eb2e6cdb6023ca07d9583a148066a1004bf77b5df6e9d77d575adeb02906b1af28489b2c017896450fa1e91dc8b5937e43892e79a10a4cc6fae19862b104ed26e46c9e82a35da5da9e5104959f2ed89b206efced169729ce0f6deff0383ef7c16c260f034ad3019622c874446c1f62e851584c396bc7e95369169892f53972bec3920fcef7db816c24ddc6232367fcfaad1cd3aad96bdcc2b56ef135f0e7c55cfdee9102c840a10e0a062c5e101d8770463b911f50d2a904b44dea0b7f51021d3f864fd06341bdb43ff2130a55c8d25f32f9905c7cac201c8802da2e5eb34bce63aedadb9bad60a16f93f9178e414d4ccf63af77173d81d49a4c433ef2752c4364bb4cb65018e0547e0c761bfa930e757d6202cfba97efa5fbff31a035e55115d40ac2f7b277c3e11c4b07e635b4fe6b13c9887913d8838152ff6ec279f03b74cf67fbd898519b121882f6cf6515a32e8cfe1a211b7d88dfdb4190e4bb2580669c46d5e188663c8ffab7af3b26525d84dcbd0dbd051471509f02ca977a4b256640a143d3d5afcb655ea5d88db67f5863b0e0746a8a570692c083e6e25ae865ce1a97ca61896ccbc6267c98837fa5d8848af7266727444f48db0b60ab2f78b06582fd4e236a62f76f7fe4e7cb0560c3de750e39bee595480f68abd909e6d602fa3e4480e372e5ddbd613efaec25be38ccd1df089de47ca7e2b8d831ead28c16f9d7be96b34f7b9112da6dcada27f78a0bcf984969baffbe46d4cf676978fd662f6bdfa120a39edbb6d8b2bf7462349845e5330f3ef1e33bc5f196e80009371ec077af332ecffccf7fd9e21e5c0debc6ccf33c0777c88fdd864717f8b42011e3ef02b0cd8ab9c59023723a2046adce94a90020265266cbe94b4a564f4f167fd4e374326cb99195d6568e40efd1e5a5385797cc6111701d6fb84b9ef5be635708d26872ba4b2ceb2b64c55ef43dd90ee3f3a61f2a067f61bb232f02cdafba5f6290aec06f04552c92a3e26a43565f4a6bffa1631e38ad0597a1d48f9d293a1647b5ae4173592fba2e70518f28a05e98fb73dd0784df921031545cf156b72ba606302ba362bce1d714c0c65670c83c037ebc8559595384def034772df2c38b8c591192364a347ed59883a5d6454e01d835269e9baf6ba86c89e57a96af2060b24e9744a080b53a14aecbbd12662be8a2ac3984b829abd6bd32c4ce1159abdaf461df6f2f12fa6ed3bae165e686566e3aa48bfa1a6df32f5cca0e0c0b401dd6e7bfa218bcd2bd4b14d055e8d62e5a4304a72604f645677b9007754ae54847ca49ad0db816e06b1068ef8bc01b79140df2e7c031bd5d99cf557da76620c96da237dfd506279d937d92cee680432df89ba9e4d68e2fc1eac1343a659fadcefd4906ae62fc5825d3912bfbbe3ed1fee8da6eed472f0510fee1b2908cb8aaf0cd0e38a57b96df5cf84ae128beafc161f582053602af1e4ada8741eb85dfe7a82f1c8ddc45e41568eb36a8d2903486e8c365618dbc2697a6cc60c3f1e1ab8875bb33b9cef6b2f5f76f8085f173a7e53721a276779ce3d544c979a0ced0dc3affddb822d60d754787bab81e5087b6be1e5874471e3f9e94351cfae4554b48623a3971d7dbc6a10d97d11275094af476d99b9d6e5cd6f6ddc8214fd3bad8fba902f7c27d4546437706c103ad5ad3aae22ef1bc2cb856becd5cff3db5a934cb6c60f98403c3fdccc95b1c58e8aaa8eeab56d76a0e50492e31703dcfb6d064ca4d925b125f41d02e19e2cd314b4f90fb03366d09f03b7633d5627625f48159c4e4c04f8c5217bd7a009fdb9968b1edd75ebbdd2bd1498dac920486f951a57489da847f9c64cd1b549343ec1936aa095b60ef88de397d62e936ebe9c970be9e5129af1a73bb770921ee5db78311ca257dec7926a2c03a55731ce4e7ccc2fd58294c4199048b4ec72fbbf5af3b50cfbb35a21320331851898b0892fbfa0cd1c2e03f0b3d1e407dfc0a1d8e3c20427c789cd83382097d8935de678b9a8a4152c16da1b903770b95aa953751d90feb28e11fe4cfca27a9c8de45c5a7d88ff3a6013e40a9e56f633fbec64e31e92b91b0187d94843a5c3633d7a61394f7f25c86ad2ae5f03e7099e15b6f7377608723485e5603c0859a95c871516152e58fc99446125dd6e923bb98f8b364f5aea55cc393e6c64466c0c2aa3795bd3424d30c45c6d43586a2bcf5c4b7a9154496f650abf813f2b5870ba9cc3853a854992a5bd5fa642a7d58a97fcdf7e872fa166ea1a8865cdb571fee83d414948081698a9fcf427faf9a34d27c22b99c279decb3e840093e2da4b0c8fd1ca2a41dd77bf9cb5e744bf38ebaea23072e32d48b50f56ba8a08676ada30fe40b99ed7b877e5fc68f2d921636b940f773a541030db486132e113fcfc78004db849b9dd5be10c47f33297b020e5bd1f9a72d6d1f583779481ea61f3b2cbdaace5035fed63b5efbccb6136e82097b4b6dba4ccd160461a423f0d3ecf6ae164ff08d90428a6a00d41145856174ee45d2c5a153ef28dab71f6b02687c7daae1509f19a76b435c6848ed07ebf165140a1b83d84f037e8cbe3e2f89f004b859545366bf4843bb14807e382df82ad4c6303de613ffe5aac78f459f7486cabf87c974873c58bdc45aaebc1b59e5e476544dd44e591fd9d19c57c7063c75772ccde25c66113a9ae9eaf2eb82b2350593f1263f7933db070197abceab704daaef0c4c984c153be90c50e96b3da43e72d24a303fe0cc1d04da03ffee4ba35ff81b7107a1145c87d66fa5e833558ac0cdbb92c3581319a6d49df4dea0845a21e1f70427721f99491d2b0d80bc23c837d525c53f81899cc7a2199f758014ee0e2b6a1fdbb4545969c8573eae427e866f5bd0ccd5bb8f10a663cd0ad6105db66fafc01df6d9658e8515e4db3fa62277b4537cc25947b6d5b5028fb90381e98c955a6fb554768b0c65d77b8e85a37dc006f3288c64b29a2a9a54dcf43a775d20eb1153e3ccca6df64adf8d08764659e4f56a48e08830f106f8602031e161d7b3beef74f2a33440909a28fb6f742f43e072cd4d2739b698de72d9aea811d7925f6bc98bcf02aa1559be621ac7b847fa908dc32216f78a3f80ec0824260b0805914e02ae6cbcf452fb39e34f6934e9896b6f393d1389e7c8aaf2fb69bf7027082da7fbed400f7a5e35b160ee0e0ff13231aeadb1886ca94ab4516dee0fb33129c8a79b012eef7f63571c42a678b04d895c1fc65a02398989a2ec931388ca7dbf0b01690a910329d6836e64bc628cb2a33f2bb357817f60c5b5560a0d25efaba4ffeb6392684d6509f901dc78cbfff11aa061ac36c3a29d99f4b10ef2276cfb789038ad952cc79863b01f03066c1f8c041cb54ec196dfc8f4d24ab246a46d08bf0838a061cfa1c0ea6fc2e96403eca38ecfbdf204cb6b59c0e879367c0a962135815ed302d671d6349fdd891104bcef4d4ade4dbc17929cfbd2268707279e61f7a65cc861bb08b0a8c1d05f17139568ac1e11a92689e6e85e3a81848dac209b020740710d20c0feb82e47d52c649c7887f11a49f73529996b3cbcc384f8630778230778a3d0bcb0426095b5c8ce7d6c04e447158932c5ff641ee0019ed3a00939ed864f68f188057f9780318eb8a7c8c10c22aec036c056f4c55caba2891f53e4b394217e4eb5dca7d5d6228fb5f1f51fd8627f402a6f62b293338dff3340e5a41cea7e1609ef603e660504daa848b7d92c5efb429fd1dba2eba906f2f47b54205e1ebee15801ad08f40d7f060f3b3dab598db4defd91711da9d53f4b82f7e13c1c802b53f99c1ed67f3f2e3dddaa85131443e5544897f340b9304735511c197d2dc69d9bee46fa5a42d80a0c3ba8c60d20c2b37305a72cde41db691681bafde86952c31c474d5f56ee1a73223aa33fd9fe179aabb9b1a4ffb505a6f8e5c38d5134879fab5f218ac661a5e0b05658fbdf1fe3283f890c170414e1e1b1fc49bbca3a6d7862827e7381886c6872d30b2036b1900c61df7844f2d709e678286d9e5a7b92f4cba99c0129d72667d95aad3c10bb9aead2bbf4fe748fd34862a1e08eadca7936b4a5e3f10bbceed9c6c436f6bc9a3d580117a47b3cb1c1fb64f32d369dd5035a99f38291e1e2720a3747a1be8738e45a8230dcfea652a64c006fb1468be50d75ae45a7fca84dad00e04d8e2236b26a7d78e6e911612484da6e1c6a9cdd9ac4d594bb3dbde53845a2254d5a57846a814c97410e53b5b0f54c2f3c32c7bc554cdead0ba0b30922a96c0694ca95a9ad21146cd910d8303d71f5e941df9237bd9556867245850ba1755fd5d3fb33ea79bf23477d67ea60f1b4fe6a446c0bf248bdc1623ff4dcac13d032e805f0e6ce00ce09df112866a1fffe8a1c207cd31f58a081b759ba6056cf7310ec9954672ca7b4c946e113e5942669d0239b2d50c5bc5a15f387ecc1257945d1ef11d22494e4f51269bc01bcd464dfb8e1b7f7c005acfb8402040ec93543a846947bca13ad6100a6243922fc98c826acb94dd04fc2dc53795090108b0caf8496dfc5f0bfc0343085163153d46da4cd50f6a950414f0955811cf856579c6588f1a5c76676257308cfa29ec0a6c123958e5ef55d5f323b5ab839e23ac2e03f5087ee540946c9bb48e42c7321dc66e26dcbffa7eae3d927c9e77d36af8733e6fde0b64d62e02d15188e1e9a029bf1dd3b2353bddedc59a8cc283c1c5e861ecb7018df0e0d08b32e03de588fb24eae6a05c05d37d4be8fe6e1c6b57c799ec22152da8e762cd10be227f273ef9a1b3dc9667d2d634fc13788a88827cfccdbbcb68844c509cf7a183b816c141e57470db901ee1163f16ef12919e83a923c587557d3ac2dfc23dffde9e2e1cf9d222f613d40a78c71e24be8e03e326467b3cd43dc8d80f4751b9212a73edea5420f9ace3023531f5c3aa1b64ae33f51c2442eaaa0f89f224c3782b64a55c16ce611ab9531791651b084dd32301806916e45cab4f951c0a819900be8d51e78f6bb9b2d17226f7e133b71d338fb59e2f450fc54336c5b4d08516635fe0adb0222c2bb6aaf1da97245cd086d1b56add9f99b192d688c84b5dc46f657dbc868bfd5c8d2c301c714a61c553178800958b09d5b29a7586626f0f2d1844bafed441d53991f312d673e1ddf6e99728a4cb8d1dc21302a4671ffe379559dfe35b7529a53f69db850cc5198c45c1718eebf324704dfd2a6687d179b04cc88a5c43523fb67dc1317f6f049f82c953166b2c44c552f5a89ae8bea01f826e6b657d18c4419c3d9e5f50129dc52cb81715b0dc0b8127282a87204b9de6e8081df8a027a35cb46d132dcc56cf0d1d92691f84ac1930dc41f566a583495af8e97b09927023eb29b66a70a159ccb53c5ae1f5945f031ade783652a76ae2e3649fe30fe8f45975a837c05b71d4a3423d34eb27a57ce07ee58bf35da49b9710a851c1fb42042b0ec1ef50849645ca3ebf5ff27a39503a0680d3920ace4b1cc1381cf4b1c6a71ade14df42cdfd538ed1d9fb735065b9f154187a541432553170e22dc5ec3aab0e30ebe024c3ed2dbbe1f625843b1791fd2ed63543cde4d3e4ae1f09a5f71c7bc6f6549d75b37b6198baa13521b86d04c8d660894f11feef7df546ceb60376781c1494d72da04a38eb158e06cc28a4412c595e4ba3f05190a2e6603ed97d1cbe94ad20475dc6938dca3e06c021d928b757f760db437c503d9de4ecb153f480552880a4784e8e0a60233d143697e30e929e83cb68ef77ebd39f714c3f8e949e47a36aca5b359af5cdd76b0851cdf2de3f7da00ade50b39241498ee41d2debc8c0eb31643d7b955499689ba6b8f07e56463b56ff6d51d88de1304f21fd6944a7cc4700b05ddea12b044fb490e90b9170d5173cce8505666389a96df9fc0800b4d1add1ef0edff2d87fb89fc6b7cb3147617ed3067a7215cf5aa38467b1d439ddc1540d5752df97084e80d150098af6a6e33fd0bf7157fd359a16d88e738be8051ffce0e99e8781fd58c923e48d54e4ce6c7724f428aa635a4046e2b89e05040add9c27599c888258931a7eb1e6d64a38fed04e744445c23a9bd9c9f30fe8a004022cde3d729f33fb454013f0080ccf1ccfd772b3305958fee6d2b2efaa13b662ebd5dfc79cffcd3fbc3eabfde7954b805dcb416fbe11713acc07f5481ab3c7403b458e4ccc8331d8d9716344397c8f91688d8756ae4e35f70e40bcbbecfe2b973c8e902575747f1046c80af5629c457f2b0527d3278ba49061d58f4bdd8eeb40bcefcbad43f61e25e4cec11b3f21bf2ff8da640441dbfed45d85ae006e0ffe5403da275c31952597b3cf810cb3eaa0c8a431455c47bd87e2fc87dcd0891bbfe636519a409f0552fdeb3eddc768079bc18324db9ba164e4781b00cf87ad53b900f72d6aa395f782a1ff1cf49cdbdd4e7903ebe86dec72a56fae7bf82df0f947782276aeb9ad2382e94b8a9be04ef7dcecff9001d678b48f13948c40733e03cd17321ee6e7ace00015e79f3aee9b262b83417e3709f811bf4e59f2ec2531c1d2e950ff3a6a3ebdb67c852efda43f061bb4222ad369316c487614208f476ef543836042e8af68bcb7ba61dd4b5079f2106bb38bc366c5a1b3fa81e6cb931eed05efa92ed524446106a3690f4c11c1ad1336a9439e3a9602b35e76efa897d3646f4df220ad997ad7ff37b00f70b0c58ec331e201853c81f4c24cfe80b50948060f3c3c70fa9ec7dba9e6340584fbe104997b2bcb33601578559adeceeb518e5c8e2f29b5d9f95a222bde41140adcb8f5d71d2a8e3ea13aef31a7cccb6ad1672fa195da57ba35accf93a978bd140c1d12d0cbcea11d7ac79ec4d193aa051aa6f2d03970f82c9565163923b683c20f2aedaa23c49dc355b5f6c8eb05d2b4708350a3e1a151fc27f3f727c0283417ce494910ddcbe9acc0c435be0f78f3b07e2b8e964e0d358f8e5ec7fea814834b026ad8d6b5a777f0cf76e7e8dbf878754ea278fc06c1a0ebc7fa35b42c454b763fe476b8e8ec4cd6c4e3e8be53e90cd7fe2a3ed79e658dc9f7b765c2c94ffda8a02ee8b1a1e646299cde9c1a62fbccd7c110622804f298c2fcd534298dd4833647534e7cafb94dbba63691171c82e9f80f9932950e6c6d8e5d0b1ee780157d8a984e8596759b9082b42f3a34366d3458bcdf9f3649c9af3cbeb9b37aa9efda8272e522661cd31039255615fda604935b58089b3be1f69eb20d36f6ee73a251f6fc5d5e95628d2bbf934f04bbcdd9a63d728c63f0fb80f76ec4e84bd22cc8d5cfdf5123772b7c96703705f336273a29f3580b97166db58e011f7104aad793b9d9950d0920b7d2875e1f1e3aa7ccd1c193bb1a763a45cb44935cd23bde969bda9f41dcd2bcad0193521afc194eb747b85efa785e3d93906e75165a66573bde6f1eff47af17c97da945346b566b5e92a1c0999dacb82e8e8803b96069aaf02cc68731f610a5767c9b4ce6d7ec1d6ee61072796d389bdd0115ce3caac4838b92f3fda78b5310ad1574a6496e83ebed59bd9453d7e992c8d9a13ef747f49111ca8c79e54f88c8e97206cf140530448f4c40799c76aa2f3dcddd0445aece3cbcea4b87dbcba36a60b8ce4c3bbe416cd6df7d1912d89a71f31423179e4b3b0bffec448175e02a59affefb9e8e4d57da9ad390d1a4b8abb661ad83f9f09bf2768a1cc0f293c7a97e2b1919f9088f08f0df1849b0f6fa93baef7138bd86e6074cc4a507dd2793aeae0d8cbc2f72025cde4a2e73f4156521126da3d5d21e4bbb111e15c9343b6aa912ceeef72e7649d9a80a1324f4facaf976d208d7e14ade0836968e3c83a13a3571a09f2b2adfb69348eeaf327db163a93738eaecee40680f06290fddac66f70ef1a6a042c249148f5b2163de19f5f487e0a8c9af1e9f1bb40d498b7de8c2e8b8324e0f7a7acfba3471334fa40ddac617c8f1e1fdfa73ce738d102af688c65e3404d38627f89edfffc6746f87e6d3b541d68deecc6de34d5dec6131802c32f95dcb22c4f69830914bf06d62b6a72195d979e5575fd9035365be161e3100221656ead643e8f969b22916dcaae34fa598651546871dd9131b203bf3acad1af1dda61996e7ee617ab3e7a39faa0f352b09abe92e1c3ae152776d6ddeaaac36cbdd2f227cd0e76216b0103d0ee742cc6fc3c818a45b62fcc2de454e69e8eccb6364c46d5991089f0b46263df3d0d7046941999cd45212dda57f5e66e924f1be44722e9d46f39454749878c2512cf757612eafd03ca71876c4a3c87f4291ee4cfb29af08df4683b994ec4786f733173331e879d678ba5620187c2126c699ebaab1e727083bd789b3ef580e042c2487ec829755d71ba5f3e9ca9f68e07ad7d6c31a74ebb390965873ac206b5842081a7f8366c854eab2ac348cdf02cc68d80030ba8c91c014ecf1b8515622b7ee84913e254398d1d5c4c1717ab172601f1eb85c7c44cbee560f18efaf36009306334b3260afa6cc4640643f8ca35da47bb8397790d6e281249ebef7b5712b7ec42b1fe3c0ea342e6f793f898ecd186dbdef5ffd714ba667c17600964b86e5bf5e8a33e5e7d850ca27232be226cfe1421233ada215253618b0ca8f312167602a63e799580b197d64519ed6baec48e4ae2cfc4034852dc563bfc7b0ab86c8fce354a854026fd102d97a93d1489e5310d4d0af10d13a31eda041a55a85ad3c25cb8f8c3e0e23a349f7453c07fd90b0701181268bfb8f92278019be96832025e90c6c1cd380631aa0e1ca08f70dd3694d9a27d663a15ce9f00627d1d9d27f21e389825c5ecbbe660f31fd76095c5025a4975006cb163d5410735c3c2158d3ab193198348bca23a2b577739689918cec95e6f21fbd07373687339d748ac0f32c2fcd44d10c885b82adcee0648d9b1ad64e78a10d5859fda702f7d0f3e60ed37d8e0a765c2d05372dfc9ec837f0ba3e4e30409f77c615a5bfc2ed09e1da4bfde2a92ad27a2bf9e9c55e8a9039e908c0643194393adeda647c48952f03d8056ed8c12bb528749fa2f2bcafe2871cebc454ef4b720344e692b790c0229e3325004f3bd3e669dcacc5b80ea1204076347783f893fe975fcec376a1993a98aec333a1c078e0724994d1b33d51904ee8aa821a56867ff9f4e69707bdfa7ee92c6eb38c38b777450ec73f2271cf41b7ecaf13360171a539ec53c84f2123fb5b1a3c91261b58b4f58758334a41867c7159999ef401150d696df9d4cad841d57282597186dfa22766dbe53a04a075198fcd27334e5dd0ef2ccf484c5e1941d227aae2e45f8bb1bc190e81126395be6aa87294f9a704528e7b19610687e4a8f2a183ca035ab05941e21c8989c049f14ffc06cc7249e5537ad35a7633b8ff91652329c9eb07f5815222a9ce77587844630483010b9f28f7bb21f8d11ff606db604424f4cda6de9d10f034f0cd221f266376c5860c4ff72aafbe3d6c5f1a35937f2b5a291838ce5e1063d94804037252598d9a0f6026bd46c7650b434cd3276cd1b09bdcc6393318f23334aa6c60e243225011f7d12a45299cbcd8d64e692726c47bcdcd02171023418738e1e8592abcdfeaf78c778475adbc790b8546400963e3a13b0929ba80c93f925ea825419ca99669464a4bde25aa27e44dbd9678e5dd9c9db61055f9986e49a42c47b74d68e2ea2bacf9ad26bceabbba7a8d17b5183ce82e1f4ed0c5a13e068768afac2cd44005ae41c0e7d276e09084b6dd79dc87b90e1cae90f4329662460bb1ec1ecf3887ce3b50d505d5f0f51d0769e32af017eb901f6510cb1db7d830ac46ef5b30e5c2e0a4cdb12775f6758b083d0026f90c30ac655c81e838d04e354bb1f20f3a4a4830ae7d36e9eddbcfb49b09f96acb19c3ee504dc4feae49bcbe7084fbe734a01da84433f98567ad42b8fd5c0743e26c991739ecea6624f6468211a4526ffb7d5c490a0ea126d1e674fa88e49b2f2bbc13608ccc5596a8a405d052d62b891e88402a8bec3647efc2578e0f66a2f4c25486f633c162cebdd68e9a0cf5f3032cf01b37679a8293262516fb058d178f2ff388b925d7caff257e32fe6d13a04fc54179b8897f56fb181be6c482cf157d597842cff683aa050a2f1221701405eeb293ccedb54aff5cb937f8bbb0b71b284ef3e3339a42e40844782958abd0b5ccf27cc15ab14d08566c0967e44ba649c8ec7253ec1be38e14433b7bbc63a21931d0f1ff32c2cf09198d3fa53489c506e3d9324ad3473dbace6405ef9c60a5345cd45083c6d106c9ca324c6545fa4f0e4e9e731e0c2f00b7baaeea9e9b6b2b2bdcf438f047c9753098b737dfa993349e209b0161068560f92d65a8210b76b807e29354b12bcfb0669b70f2a176a57e77c7709305288f3828097ba4910d6d32b19346a6f5b99f10828110aa3234f40f9fdd23af7e676c07b48dba5c5fd7906b3d4603f9bfa3c74b493711bdfc863bad73c8f914a6d48de76e80e5c5c6537d5f06dfeb4dde64865deb144884888ec4d9dca820e550bdb65e86a38d53809235ee2012470c0c18a612a7620b5f2cf699896ad64e7e649b12f4bd98e480ff7cb8559f581d258cb7663741f5cd939da819be52aaf3d04872c1b0110de3cac8945bda8bf6fd95963c05ed303c1fbc9dd8acc906ae37d746cad59207d758625edae1672cd269f11a95a81757c71fb59da12556dceb6aa8f497d119cb1389643d410e6068d0f8f929c47100a3046bac532dbf19cbc9420f30bdb12fe32b879e5786ca1c3447889934104280200f163067eb53539b860ee0dc33885bf8bb7649fd1bb79f96643ca550bef8a953e28785791409369eaab2ca32674904b2f37b86ceff41cbd2f0b652eca7851f69b29e5d934fd8d88a563391ef00da5b055e39ca5d1bbd628b458fe34bfc3bb87978d3bc8a7ac833d070ca97393f5d15dc1a85461b3c8b03c1dc6d17a6f7040db718c5451178ac01e195950909330495932056e9116fc5ca25f818cdc28dd0b07cf239952c1de3f2d166a4970e730a3659868ae1f7c17646f798e891b4868736532683f0ac27fc6b4d11d4e2ea3068b5eeb624ec9124a5b0f6b253e31f0d10aa90cba1a31fde46c96c8b9f7779d5a9c2d5a08d60c00da3e44c22151f4d5e392a57c04311d8f976e0c435ce0879d14c70231ad433ebcf0a15f1e93e6dbba42815d8a470e520afdb4d65e54396c0cd54b50951924309c53b1825d0922486a9d407d45ca2509ae0272a5f5c3a13ea17b9a7dd641d521aa42f04eb9e9771182f5f2698739940efa5ae70a3ed8337c184b5f94ce54411bcf1f38d3c8af6a91ad630943ea64b494c4fa8d4a829a687c0405e875241c8fd646887a6f9418c75a45f299fcdd763d572a3376dfe8773b863e8a80a937f3836b8e88d334628bc65071ee4d8e401d315901ae2b8917e35c719d6025493d19ed3bde9b3c00c0eaafd724c57573d823ca8571945753cee523a9487d0a5693373150713b61b8cc110f7e2f31931e714cbe4aa074da2a30ccf4b5c88909cf78af9edba9808c8efe83a9f23b8e73cbd","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e4ac165b44c343d52150bb11268902f5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
