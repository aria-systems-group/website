<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0965cfa329898cd72dfdfe211dfc70965cb07c431c6a3172ba434c0a82f9706383749233dc7fa42f12f2a17c60f4e98ed4a892404661c7de728593fac201a3455a1f13c1367b85807f66b9ef5f2086ac87a023911cd69b90648e77e09f3edcc486a8615579ba92e59daeef153f774e62b4cdb70eb6ad2049685e58ec70e4fd044f6834dad536eeb7fd4c4a7889f824dea295c56ff0011453744d35289a83f920c89abab5be338eeee684396cc53251ec4067d6ddc317a057a44af8690ed22fdf0cb765dc722c7e97a539367a6424d0829bca4754a01f617e093ebaa9e9d72bbd5daad995cf041e1935ca10f2751d8db4b4a99841b3ee87a7b70996c11468306961def3d072495aece245e4ba51bbfa6d701043e07cd75b2d99ead313d1bd2b8607ea3b1be6e5f088a04b542acbf07578d8dd85addebfaa0c32b61f29c410d3d1ca71d947c9e1bcad187accd7aea3f3de09575fb879d6eeebfe16b4f55631463b983f4d4f7d5789b2ccd9c690c07f6687398bc83b1b136bba3850af14e6217ce5dbedee87bf7c50b4948c45537a58bf7a715be54775bb46a2f25b76a1326e4f1c9bc80bea0d2feb378b1af016e7ae7c6f3e0efa24788da2e23d80d5288d00fc6a568ac5c3f0049cca6d39bab0d605a49ce8df897ebce8e8a3bf9f394bb8a748994b4da2bf56642865364d2733301f44777a18780a2468d8f26b6ff40b7176f23b62b7099fa553f8729844359c8d50b8f60789daaccb8906c879c2ce0b85a61eaf7507ab89308e113d5225d98d73a78bdd8e7a0484533a1feec1b0b792501241bef07f23a20a2cf9360b1f7c63e7d307c2b5edd01a6729098d908c3f24c983f55fa80eb8066e03e2915796ecd2089f2dc604a15533a2c7184e0d45efb4ac2c6a70ad0f2ae820da0a1df979bbc8e104635c8ef6fea1732de9df862d176b6699868c081a4b97f80d38410bb465c7943b595a7e64258b297443116762a32c94026c9abed9632f2a315cf0848defd3b239befc35d13ab421710d8a4ba020d92f6f5d983f68325f96a5426741e28ace46ad85061019595c88a218a9fbcf062e992bee71d84a2537f1843b651d24eba1f9372020cc98dc9bc590af2c23ae813c5ceae520061213a8c3bddfd7ecbc5cc9e7d5ce289ffb265355f0231f0c19941c8687d322592aaa81613c4c1b4d6e2637c0b9b0e3616875613af3be8a42a548ff422952f021bc4d3b2e5237ce737c0ee610290192c6a99bb76e5699298c187a7aac727a0ef18818221dc84fb2b73f8a8cce04995637c252ae77c3a3b66a990f90d6f83f327210bbced7bac01ad7e69ca55736a9e74613d31124e8167be4f5842ae3e4e8e9565d20d008346ed13a933490fee580aea535a05270aea4780865363d76f1988936041a6f72401acfdf8bf2c0caa5ca4370d43550289a1559e6371d1fecf54911fe3da2f786a6ca5ceb5947e4216d97c96fc8d763eb1be4f1738f94de81c539c9a1c912985755ac3cc5a91719a6f97b4da5826923cf6862e7fb1450bdf6230ede3769997a2ce131826eaa214d90cae2f22a95dea7ed268d61d747a58f7e2c9899f7516c0a14a37a6fd4d1c8bbf83a20db8a894a0744da7a9b067b5c14424febd2cfbe459095758fa81b6fb5c6b7408cbc0421b7fec84a7b2ceb7d3eedddcc0c92f17277be2617beeff6ccf533016cc1d83e4b9b1e862fca4001d0461acb9a8c8125ad4544c7385df2321ee80fec53565fe259a59e33636f651b994a59749748df81027112bc04957a8f357c04a656b6ce552066e032217b3cd5afbc4dab017ec2e8b540a4146d693289aaf0ef0c8a790a1b988c4ff2df80404bfcd84e71befcd084e4ea50d248f992622bf724f7f2493107e6ef49dc1ed4a105e594095f4104b5bf2fde3aa662e6bbb106342fc67ebded9ca47dded149e3aaf0316c0a9fcb850f684b1431549b0de23bbcf3b5de83d95ddf2dd3e5e63562474b6cf0442172bfbec46fae6d4f7cbb9b78064a1464e2c29a770f79e58f2a5b69d47a608380f7dc474840a9c0c93ca6de76b7aceeb74a5898de043501a347e1c7a264917e916cd89e37411c3e3717de731afb807a2fb2508e3709927250f4faf37c329219b75cb7a8ae1617611d1f3a658200e8762b3763bb9f0f51a3bc925c8c0840f7bd0638e6959d916d4caa593668125b984976223ca99714389ba0f14f4aa09d8fee199dc251bd37bc098f1d406f7d5c8ab5273c6f14c6997311e62bb6f7b4f634de7a631fd444ea80dc6c3d25e72c2975e7c8875fbf6fdf157186f02bbd8a6e58b44a6880c541f8a8ae6983c91dc7b00651bb13c1aeb380755771e03715d33f1e24a38baa035b4cf14134ff50f957c51a9518e2381a3c7afb46e76192bb1cfb048060d255dfd54e9502948809829c3be42328f5851591d17a3779e5cebd5d028368ba2c5d94f3ab5d9899690df4a1e1c6578c18452b343795b57a61460045e5789f4b179b57c9ed0f2a631b39a05ecac5954bab8bfd39a36a21638c69612b697b82bd99318478021dfce2f0a18a24f3ea6356ddd81aed4b4f524f1cfcb51287d089526bf8cbfad12741e5e5a23fa9ea519477dcdd60fe72155308bfe4c35161491cb3a2eed0a3616d063dce9274c64d69d90d65ef11155e5e495d00eab80a8588abc3e88bfc2447b62584c0774a8dd51c51f6740fe054e059055ff7f98206b760bc5be4d7188ba3da0df37b1344aed400d5436fd858667e9e66b996a6d40db835ff464fa23c2dabc49c3f64726c1e8c23e19849c120e7c999b596e238639c52eb317d5b552cd3e696e733e699894ed59ab438f41c9a7cf0310250c6fc673c20aaba02cf2ca7705c092d017cdf0e100fe6227110c1d3c9513db14a10c575d39d8fcf2fd3529ba7d4ae2c6be5ec3ef72f74fac506f76a7000b20aa9378d4d52b79a347a3fc993bd67ef9ab789c5cea25ac0a99247de97e4d9de4a94f5b961874c32ade110593a8e89b2a8b754cfbf98c1e2a6224e84988b375f3a4f60146a768e9243177039354da4b406b7a5cbe4ad4e80070601925bd6575e921567b65402d020b9a6a30a9eebcb432dfb2dfae8e1a99c0ab8a8cee1a80acd00f1cef47c314805358ae284b132a793ba803a34dbdfcead83f2fa4e499c1e09fb51b25a423afa4fe3320dcbb715d1a29d2174f726e44ac3f6aeae8bac8285e06f368263c3ef2c08ac84b95124b9a0f98f32dee139af92f28fc2dbbcb6eaae2f9c6cd427ebd6ccf49b64f60ebeef323fc9052804e1c0539b89649b8a45e691c61856d3ed50f91f01bb6a4cd161dd70c7ac4ecc0f4b2bf57b2f09d57ec9121cf9c16c7d92730fe4a03a65dda3aa99913b94e08af737e3df255801df99a86664523a9f3e33ab2c043436179f27f6fa229257d8a187669e113c60c5c0384369343389d57910e124247c577d1f33dc259e2800d4176e4e1e528cffad59b6e768ddc0b5e67059a4bc083dadda7c62cdcc6def8cf85a4fc7ba0b64d408174dd3b75390a2e71ac9f6d3e7b1886f3e2889a031b315fbc524663d578ec0ff692891df930ef2a8a5a1fca2181ad698f7f5ea2274b83144d026a498db3615e65130796ac6422b7f259432cb9e06a4ea73757c617c20d894a737b1f3350ba2f3f0ac83327497f577a9d3a8f2b534bd3cc172760f0824617c4f9d6d686b172085b6901e55119ba5305c2313c4a7dc752053170083c402d665607cf812a202153c8d865c935c25ab43eebc6a6cc6b194d08034fb667a61e4e63de5056a5048310ec74fc502bb1d87b6f8b748889ddd424b39037ebf68a9763b619661949f16aeb6e08d218c901e7c824b2c9757f270afc7ec335c26b88001db6c184d079957d918b49515374b9c69e0a0c1ca018f47a0a51d00f7d093084142274a46a77de6613dbdb58803e0c2b0268719b24418ecd40dd791ef20bee78867ab7581ac64eb5f380e6e8985dbe99b3b3c9496e2c6c613ef10d834c291d0435c03a2c57ba1fb4a3d8ab4e431d61fb222aa6511f8bd0d438ad2054b2c527172c645de70f0e62fa5115da00686c4b4f232875670722f6b1d2e1accf9cdc8ad9f1a8d128c027afd095681a67a980e9d56432a8ebeff4989e4dac1ee989ed5c3605b0e03f0d4b13b60929b4126580e16e0137c183684f4e853c230c03c09fff6ca69ac4310bad04cb10fa993ef5d6b01aa7498f6bbc1d134fdfd5837addc508a6004c6eba0647ad870a0b5fcb9f1a58d9d0929eb9caa6b574e97b9f93b9beef8d87478ca174e65e8f9769fd4c91f1a8ee223bc568b42ebfd654e69cb35f3868e29dcabfc1ac6eb52728b4cd379d662a065a27268783a4d9826f6a727ab158396906d33913ae53d9c72ebcfa1ea34bf6aa68fc2a8a9a9479492029262577a39a646817833394766bdb2f8448ea7bf221affa92ba71a177bf0537373f8b4702360833acffa6674a4ec932d6092ee15c5c22f76a14107c9a5ffadb8ec2c9bce1192d3b3a7f8c27a4ba2428837d3c3c23b978b16286ca432947cf42813bbb7cc566b350fb1397a51c9a1e5b706b77604e574d06e8618c8ce485044f10b46668f94190b4071ef9f21793632048575b118661c93b326de4e75322dd72d91863b91030bb65a8c663640180fbbe3bc8f27f5fd01fcaa181624f52a35e7b3230bb38baae5e15c359334346f205ac0c49853d64b7cbf2629afa5a5db0e7ecaf980242f5ac3d6e35ac625caba72102fece59bdd1a521d2ae576966a304767f0c5d8545cfcd54a146fd98111b9191e67cee4cfd4414bfadecc64bc1d9f8948f20ebfd6179884e0e856fddb5d80eb04bf323c161fffea04da4cf090a47cf7907994487a49a60781315574f58dbf058658000695b2aa4fbaafab8af22c3e7eb91cc65f328c1ef17ee58914567842b00c234ac936d97604dfd9eb34e77e94233f669998144a38bba16d3d8ca4dda396d1bdaf1d75f56ec1c8c967dc8663dbbf1f18f314a4bae1c97bb4d48f89b4c88abad7de8b7b632b9c0beab378949b6cb5aa4267d8aece54ffbf39d4280635938feea08cbb42d38a1c531371a81e20bec2ca57247646852577303e4611292e8d1ea522fd712d1d6ea3fe21b0f4569c657c008d52c4f786c4824eccd0dc8607e4887aadbee6c94ec58082bc5f870b485ec9b226aa0020752569dd2b7e6d58fda6cf8d49bf29cc45cc0c2a0bb8f95e3531e77886d44e50a50d6021b0d9332714bddc2aec79f9fd264ee4a0e663718af0aae32680dafc37041ba9a04bb0d4addfc1881eaaa901454f3f716c1fa15cb25b654d6f24ef0d26c53435386ce84a65cdeb3f0027f229c284ac2e06e03da778ed0d91341e2e4e62f6ae8381e8417e22cc852bf770b3ee7f3d6cb15ef77b835780669e265b0df06e28bc41a195a199b784fd38e896a7c4b42e887e6ec761f3350196382869b610e426d0273849ac101871a55816d26ff962c9127598c3bc2f3f880a330124fdd451f1fc7d3d77a3bbc8eaa8f989ad0538c26a9fe442e7f19f69dbd73f4ade1566f084c6b86382f6757c33d1fb159430337843aa0805432f477aea2bebec59618653b875b94b7421255e7f851987d6a6587e8cf408598d5a6cbca885cb3575a7681448c91a0e2cd49a8c7cf2f73d742b0846ae27856fa2683c77ba57a728f0c6f23968415ede4d13cad3ffb765838fb794f499527874ddd7ac46ddca809e223ed9a1f8d48cc0c173fa98fbc42b7f66adf60525d11ba406e10e82a3bceb896972907d6c48a1bd7201030111465baa1a983ce54455d01b630a3a40352c062cf525c9a2f48c7a484362ba30e37eaa5c4c7832c2f0363a21315047ed719f9a0c68e0456fa4463e42c344c42e41c2300750e40bbf5ab8696abede4ea28bf02f14a999a7136e3b4f7ca2012024763593f628ecb22a25b00205e2becc0f7afe6ead02be3ace3a34e969dbe2d81177fdd03f9113be63141a68c7a3f48054419076aaf9c24a379e55882cdb1919258908687b9b561a80984bc5a528a3c93bbda468dc3128754e3a37da8f06e993a946062cd4fa1a54f9303903d767d2f5933e08277424623d040b0c46b5c14f58461b92462cdbb72528f2837d030b36f8ce535d600c9fbcdb9ae6be0f00ddfc0ef5ef853460923fd4fc391ee35ed484e8bd9b4f94424c5f5f1160a9143904c5cb497d203c1cc2c492e79a1aa279ba47169dea53a8d641d78cba93c5785e7faff8a5149543d559c8fa047058facbcdafcfdb4835fa5c953c6fef17af7f566b108f07df0433a43de82159079a96d2ff2fa8396227a97a3943ce5b807b8f2b1f5a6404aa85efe7a770b6683b98542bb0ecc7891f54bc871dd4d828c3d6c2ebd07b6ec90f63a343434812bbdf53ae9f0a3d4d5ab5c27522964dcbd843a025bd7b304736707bb1c3cd27b3df6d50e726ef07b08fb0eafe0e78e97372f74109f8c2527012f960c3c883971c22a2fa24359760e489e88312c2fcc0c886e7d37cf0c6f1fa2276128b03067fc75e4dc6dd3bc4fb31384fad71f12f8a3999dd66d5c1df8c28fb5cdc452e0c08ba1933fb07bd737c689b78603a4d42cfe60731551c91643d4446a016e69c1806f2d581bfdb0697de98a9989ac7250f07e640ca3d6269003640cba6852cb172770b45e312bfd17f935c23cb7574600c375d1ed33f91bf5198ee78cd4b32f0c1ba9a26fdda54d15f4e1cb394f6c90f3528238c47a403fa197058b21c3073a12960eaadda0ef8e14866a75872146d157e2c32a6bb37cf98b7d769ff4c527670b3aa69b44035e7d80d408e72bc7d95aca95ccbacf808912f37a4b0389087903c10d4c2497dd5df7c876a3b2d84d6f276d62256611b24390c69b2fc04a12d70e53848c1883dc6164df8ddbaa713e3183fb791d0a331c77d688eb977160acac78dd3c51c2fdf4720bbc87d76a4e6aef42f4ec280f63a2dbaa21424518ab9713c50493fedb11c764a2672c6fe43655d9e4fa77a45d03704aae5e0d2936b148b6e6dd28ee2540a3719a68fee7c3599f266311305704887622d95efe7cb46c3f4d4d8cabba2ea06412bb86a7f23ee9e8489faa651fea1b5caa8941c59d965195ded0c872bea9696a99129a0dcf277bc446df4ecc48e3308462c5a68b628180561bef993635b5fa0a5657f6aad1f9b19d9349fa96a93a3963960f7ad0ef921afa27959ebaee2554cf19622f0f2476e51d20b8ba3f26871ff1cac7c87cbd692dddac4fe71b09aeec2e839b692ddba8d40be6655a5849ffe50280d8ba366329813c7278797101b5e98a9dc52fae5d23929cdbc69a2901954d438a860583d9e1fceb90f9de9961cdc3385de38f72fef6be7f0405952c25a4e3acfb4d4955d12de542415e2c2ce04f8af385482db29d81c646483981026b452f3ec45afc496b967dc814f2c25d7836f1896b85f1792138809d37d71e2c2aebec14d09ea9ce65430e6dea88d13de59b18aafd66b16f112cc62e094d09fee57c77e1080e6ff9e377f345b6f6befe257032e2c5f9f3cf5f9c6d2f0151513d929851de14c8f85c3bdc35747b6ac861808740c863241b7973e95d11763c03ccb3b689cba6b0f92437459f130ab638eeee9999a718a234599a7535e2d6eed9c00b2a3a611533dd59bf54df2966cfd0baca0b3ea5d7f9febf3c20f4fdea82a08903f3897ea57464940db8216a9061edcf60943efede54fa38f4386d745b1737b2c4bf5f7a69ef70edd1155362bf7f58d1abcf7247f5a1f10353d662e4c4807c6d9528d654a13b1356e489b69d0fa84a1bf8dc7dfab5c3df9106e53bcf9f95392a44ea75314568ddadd08cfb777412e59c9513f00305fa9d1a081240f9f84f7524bc14d745ceff12eec7ed1c1aca23007337c51d1467c8be0898ce616889e4dbdf71136adb75a8c85a445c2f2db6386a00bf784b56caff19decd1b000d8bd0caf653dd8d56e1548fe69b723c36006cb99a7f7f069ed37f797426149c5e13ef47223de1d1adda4222258300d87df3311d1f726176aef6dc26f083cb0d4d7f41cb32bb30061fa599aabd333646f1b62cfaa245ab59da06b99f0f0ad100782cfbfe2fb0372295fca796a819908bdc4c1b9e3401cdbc3d8e23f2f32efcf26085ba0a82b438cbf398cdda28e26841359f0024bf58424a6d8bda666f8212e71ac7c0a73e8f156a0906d209b120a2328fe616458aa2f2725dccf73c65c5362281a919124371a008db387dff740503db62eeb55df2a74b8633f60ed9f8cdd058603230f30775a30f81dd7e4ede3470865f6dfe35844da8e84cfaa4e4226cd8e780c5d1205698f50cb6e436f952d5caf85598777bb6d20518436219491c639fe7468ecbc69bdda5fb56283db5ce019a48a45b60c9d6f150f5db7d1b7b573f8ffbc14b75c3fda933608e307df2474de156edcfd457b16d8972fa5fb20fd7c3a23cf87e43baed5932c2d3c0289b9395b503c5e539c1a10585f1fb196688784f1a4750cdd70b0188bca85d178520fec4051e88c7dafaaab34130cf80396de152e0605dd6fd62dbbb055d059f3b93d1b8f9ea5c022a782792e2a33870078ae9179a646c864f9c31c2206fffb037edbe1b564cbe182494c435a5d19d1a8f875162d5fc98ea59e67a50768e7a9c0a1454c8a7dbac5010b9e96b8e49f657ca5c60af6f1cce214dac8b774d7b5278371995863a465a46e6916a5d57057e574b3a345ed5876c79ac6041a1a652679d524a9b92b94cd99529a855a81a1344d7fca510bf051069895975862b4927bb86c68d55c330b12b5eb0574e8090fb18f7dc6740764684b80d68c9b1503207a02a3b6e27728e47a42a2e9a186afbb2a8d993455d5a2dd63e439902afa21a9d235445704b06e30791fb2494e5b70d72a9a3ca160b5db63b7442accdd21bf9fde147a8ab1b06257e70733d3cd04303932fef07921f7f99dd88083f499cdcc657714e554c8ba8d5825d0e7e857625cfdb75304e0422c5e14abf56987bbcb7a61453a0b18abf9d2f6c9fde2eff773c32c75af76a49c32cbae90b235f542e40d83550a40a6f0a2b62e792e229c7925e60267cd01f819e5dd8720f6e6b6105736c0da1c314d1fb9a177696225202b400114cd0190ffc3107b8cde903945cc0dbf64495fa14057c7df5a8c290802d5aaae585d656b8f4fe7d169053490fff6c23ef3517b59f6b7cfa70d75608a0c44d63bd64c73a3d868e1e9eaf41a2d2ce37aedb910ee6a4a42fbc361e36c15bbcc480eb154c41b4642af07b008a227500e03ce1f3983c7b8e4c6ffeb88725b5f41a2945f6b84c6e6275cc5910d543e86afba8c16121d499aa261b26190e920c6472512a38fc8465ead636f5bb587ad92880b518884a7fe2755f7466dd2bca7abcd4bba6a965282bdac151e89bcbb02d0a037221bf5f677f33005a9e141c4857ca45d85fdcbdadea3a4bd69551f52332198913eb90d238ad870847710a667e3364f6373eb879dbec9d024cda79c08a7d083a847c94cdaff7ff5abd84d896ff8308a6bceea13eefa425ba43fc5716ac9fb5a3c5452b50dfee85703a1e6dbdb3545cc28d1c2542b1863daaa893b6d509c30f6526a4fdbe70e5f5d598576e5a9d05b78e95b8fc533ab07df9f96f10aea9cf41132a0c94e767a1560d12a0237a7a76322679d3e9d1f6276d6cb6be7e87df4e86987e4ff9735fbfe0fce952909e9906692e72b7e6a415ca340920d614ff545d80f2b3190ed04c0bfe5b628f66a2898de6bb890b5781ddfd3a7396643f13274f0c51bf8dd7df21302eda45ee23cf6d4b97806b9c5cc2a4a8b192e3e2a551fe395f4f7ddb6512655a31109369fb496a69981871ec4240aff920b906f51f1ad5086ebe8c4bd348725f753c2ddee8927ca739c3624eac859fa02de2de46780056b4a8ca8789c8ddc843d6e0a5c480a8933d1fc68f249249f8306de8cdd2ea3f5d87dc76521c75d5c402e0eed563407bb129c4083f479714358380a4889c8dc3c07f2791f4d89333360b1fe44da8082773bbc79667d9c665e0fbf3f027c6211691d2c97be44c680b0893f9ba1b5563064c8117013b813c5c86eebd6ee00b0b560dc7cb59c79f4e0f2615c1479bea985c7f11659e15bfc57f9b6e910d2eafac8e43581b6df5bd6dbd441150d75ce51260ab19a2c53cf3e8d2d5b6c69ca3a89334220074be25e37679edcdcba71de2515279fb914703dff11736a6b6f793e91a925788aaa9b499950d4d96e4c74ab9466a104107657c1db462b6e224fe859914083b48e1f54a7c4cf48aa180944c15049d8d0947ad3dcd95029dc8ce8ed259b750535f048ccb0891f2ea9d2f46d1057d88fcda6a20f7febdf4aba8345a55bec28cf04c0d25f3d00786a572ea05f0f802308fd8c17a07718e9ee48889c8ea37e72c29744213339b2df3ced7f9d1d57eabe57d7c7258abddd6db07ed43f5286b2967e20b6200dc550254050fba398c93857bf3b11555f87ed3fe86a705e5cbf2ade39a06536d79ba0ee3e62bd791ac04f9fe47dd6a0f5d3953fa2a9bec131130396520c3b9b62f07fd692b44bf223adc82c91c78d63ed9a78babb77e47ba0a3fea5bc7f8d272a85fdeffc06943dfc5e05cbae54b268b5088ae47f7adce2015de94f83d05499a2fde6c7034f75c255e3760d7246c51192774ef722ca7b5bfd83bfb8f5f1262d530868626bcd5be20b3c777d80b448433cbbc703e9a9c5a2571f6ce100565ab7035e9b7f7a9350149c3aff8563e488de4cae1449c9793caf86f1edaadb673d748be3468f1cc19f9322179b062621629e5d7d2e537ca126992d569a58c61a1ca13b719aa3180fac27da903fe45610a81b03a9a357e6ce09010657c572fedf4554db3e0c25ba43ec1a325d4520ba9de75fcd89d1e9b5ec1ee4e812ed69a22eee2c177b0b3676ddbdc8956ea29d67b9358d9aae1e496a9a835f303b254f9fe2b20fa49edb79c348d61c28ce7152894bcc7bf38b6510100d545d1d226eea9022541f1758fee112879b74e35fedb7b3d58b5dc622e3f4ae547afc11414ee479424daba37a7032c1ee27cf4fe80b2be9c5f733dc98e20301aa5043e1b09540776a54c478b687afcf06eb89e3b91c6d90b506cf13d7d964372d30e63ceb2b1cf9e591b31425d34157812476757d169f66f928c1e233fb6f040f5a9fa3a790ea436a3e4deac7a259a95e6b62f9eda673f8d57c537dfc15a0b9545f7c1ac04c0b60c79cdf359332fc78e7cf4c1403b8b8c283704eb737fe28518fcf0756a63f86fef83d639b111b6ee54351d8483c28fe6c8f6e339b007f0eeadfa7a79976d3ac544da3da985e6f9bf1628960ef36c0841e993c711f96e7f8ffdb0fa9d50b29e91905307bb1b03ba64e0d62d67431738341f796bacb80b8cbbd71589cafabffb9e4dc4df25332760e3ffb818f4a072c6733b28ce7232f911fb71ab84facd042aaebb9eb55e18a3fcdc80c66804b335c9a488ec5ec5690f05abcbb82abe774064d67f304a6ce48a6f64b3ebefcb3bccf95f2acecec65b361e9bd5faeef1747a9176554e174f02b895e0dd19ad0f772924483ef8da6067ab94d55dad096760a24d7e00d93e40b612cb4d4b0f6690be71881933beaaf5c7ccb50f8b1f532c990d4be47bfa5fe55b43c539e681c76274c6adf2093544904a3256c7a908332defa3c3af721e485bd06015a3153f2ac013064bec254674aeffaa4761979ef4a54a23e4533826cd71061a072d5b421df72870e9d0fb42b20a07b7d83b214a369d40bec704eaf9bad6149210f620ced71ea8ef38578a9cc927f4a9ae1d1f81e2da34d0291636cd9002778d043027cd591abd546d7e7f29719b59c8906734a954f4d5bf4c1062cac292803d1dbcba7925648cf394620e09d5a148144da5b883b565ef553cc135a7ce27aafc86641a8f8a8ba0d8b9c7dbae26c0d89f306c49c736cbe082bfff6556407d2f50f5ffa681b9bf6700cf3bfe5b4c15e9cc159d9cee3adeb3d96877b5dd8dbc6d3af4348691408a8a1d4be0200afd80bc44fd2ae0e697bfe327be64646a8529a66c922601ec6d7db939861a56246f0e1602689a951757d0f073749fe1fc2573cb86b367a4f6fd679b890a6da601b3b39375073a60b78cb5dc656ca85a10853323ad734eeb0961a7568ba72d8fb1fe320d4fbe281165cb995efe009aa82859d0350196351e3acf69e0e966e269c2f6c6a5aaf89d187f170fd16a4a63e344f68afab040e0dc4f4db5977b4c5d335545d5c15eb3278c4e127741fa85d7d7aba518ea0d3f4d78494b6dc255fefebf3bd15c5b9dcdc129e5402cb0c914a07b20e50d220a1e201a11c9a794a8d9c1d0bb7b544fb655a0914b2096e998e5b58b4f9762567867fa7f4676f8b7b288c215becf375c7ecb293cc3c8f5f85f492fc986eba618ac9c2be83bd64a7985d51c6cdf302657d04a9d479efd0d457cf425459e6fa13408b4a6f8adb1de25b85652bbf706d3f4af49ee54f9ccb6aadc1cd408ef68c05f34a4518bc87a583e62b73bc86a5cbc8147369c0d0f196b631946f42f8d6a36fbbc798d88df92dc8138446decda6d06f6e8646d22ca2d6ef87be0052eec4ba79c1f9c482357307aeeadb6b19139b3287be636d64b4d1a42ccbb05f93d14dba92addd1b73ea67c590351f94dfa81f6102cd1c1a974e999bd08ffde98926959d53cae3913c91aef69e290fb4a54a75bfd881db33198ce959ea3cdf9ff0ae1d3f1574540452b7258a7ab5ff600b33aade817ba7ed1964f0237fd6a3f251da2ee69a0607d7ca20e7e7c1a3a7ef9551aa5d37a02ec0f84a2d8e82cad6b9b122aefd6179e359a627c19aa34da76dd5474d2b80c6ced1340dc05172753653b2c8e508ccbbb9ca017475e4f62232eaee0443745a4f409e08ad31464ea1fd759a7fe51b92da140257635649eff25a50e211cca9b451495257c9925e045b0222af262e177bbf0de41375d8dadb704adfbf24901649a049b31c37e44e7b0c20d256be91a1ca042d3d3ec4c42b62c496ac6865feb1007ab4f092553f3b6bdfbb800d4e0d15b2c551ae0d4cd2b8b131ff0df23a13db2380e708579fa492680c3fc395ede637f87f2b7798695093f4301a6136baa9b72088d092c739a472fa7c51cf0e0e66c0a599656ad536c105cf16115d06065a165049fcddbe128f35863ff7826c48c8aa4e64d9ddba8ea4972c1d220ab1eef328d0f3e2989dd186da23ba7c4cf0df3618b5c27eb2a23eb922dd89fc5de565e13f168c94b6d1bf9c1c6f54e84762160e17b72e1694719491e1a2135969b9963fecb0ae7ab1c020240495f165daa8ef94e014f50463e68f8e92964df1df51d1c40353451cdc136290cd71ea93187481c53a81bd610c601799f7f17544281b5d09375e5b8015a2c152490adcbd4cc9f0dd971d58ece1375f5e350e14bcff00b9d2f5462af1a777f4f35f1411b048305e421a6f773da455740be038192360c08bd6316120bd25134136a0814d77a88c4ea893d178329c009d5ae5cfd2dfc47e5e23e949d179f584135936298b760cf98c7cf35c2bb6df2236dca76fa6716e09faa131d8283de7782d5be5defaad12bf6b35aba4765d0272dda50336250ba3c20dbd5b1558c723913eda6bb425b99f571afb44f8d54e11c6f9e7c7738937003fca4d86cf721d35f2dde6b3b7a48fc181c585278b1d4548da8e70ebe7e2d5b3647d8aaddf7747c3395f211e83b87c03770b2c9d511fe153b37687cf866fd6a7b3779a72e854af71a3bfa67afda42b9efd72e35398499611cb9baa23f7945be7aaac01137be10765119696f17f76f6ee0498deef710608b5073cb1f84fed77d43f2fbdc34151e5202bf743749604ac1af20dd3297120111ff93e0c15d7ecc4ec28d29d7158ad72c29079e144cc189ed475a8cf86db2bb40a6c3f0accf7469856dddd10680a9f3c92b783a058ed9172c53bd824503e0967608f8083235a477988d29720d86f8bbeecc9b6e0d1a5c997f954cb669e41fb56c35927ff1ba9292f71194bef1d0e68442ee94e36bba7979992fe82df9c2e6d4c04ce166af2f7c820d915267a6fc2fefc4d2c4f74a088180efe6023e1b82ee513c17cea1e52db9ef3bf5a2183ca94b88cf1e079fcce9f48dbad83cbf06f39b63d817dac21da47759182682b7bc3d7f9df58af6bb6d05577221f3399a9f149d79dd5ca1047e8f6643d66eef6d33590e7db6c867d16235c3bbe4e2dfff32c7a04b1003f9c7a5befc9d256633f3884455a21d27767cfa8aef1e64aa4f89470a8d6171d8ab68134a615e28d54da265ecf4b7d89e179256ec5cb9ec46d2119f746a789289e554e8c3b4b2838a2dcc3818d89e2438dd0f8403ad39ee10d7ba77dcca6d1fc9fb02f89add6b83f9c40e9990421e9a5e3279c61eda7916e2bbdb1628a2fd7f7eb9bba142b6d76c9d3f85ef61654d92654f3f838acfa00e9d0e8117bc7033027aa3aea86bf9f1ba14981c48f087ea84fee634e440220e61835a4a3579fe6e7b227cc39d567956cf9e6abf2de9acc1d62046ec1bdee7b978aa90fac2a346f65fd2e1f563a84c20adebdbf71b2902247943a190f66814fd18b7c2d3afdd904a68a94fcbc723805036a6e94d8dfa523fd6b28dd833cc0d4efa00523552492034b7d99e88c90a1fc1cac50cf53361015139545df3aa1c0858730d13c7875fedbad2d9419da241ec5f24973d5f8426f81a81ddcd34d80cdcaf44b78172d12c023cfee1e2afa79de3b9d037f52643b743a7daf1fd965f97e9c2dbf8c0c804c1882ea1bb68c305cffdd04a7b2e1f26f8dd128bf5244c1762ece2b98f4fde47a89b17f690292a5ed51241657d8dd99626ca8a2de8a7a803a2d3f58b6d29c12528b7f2bed85d879960cee975b28a2a84a79de3d8f06551f3f1b911d63fe02dc51a1b953cd1237b6a6c81658046a215bd2eabb626e928fc9f52991fca77ab52fe3835661eaad70d944dc697de9fe8f0b08ec194b2b001c80568b9453bc7318da37b6801579f1a96ea60ca8c6990a89de6a5cd61c83db55fddb81b18776767c006866d8cda4421bc727e90bcfb180fff0b8958902d8af87690fe13a25cbdef73af7f1dd0aedfadd10462ae3948544e5e34c83d9474e5499087d11c5a21b44af707f11090340de621eafa2f0f86a5bc11ff4b6158cca57478c31ca4891f99b1bdcb357c009a438a2ab2031a69a72efe8596632106559892821b2642ad787294b7246b8484578e579caee3a0eaadbad93c0216c66da27b1d669c2a9bd1074c838e0749a4833395be2f87540f58e39975492513fa91b034589a063e68b594d3d45a3de52c65cf5914311460943de7b85509e74916512c43b7a0cfb0b3fcad85e5eecf92e7d969af89bcd2319be0c683db88311d687866827443849f5fbf4e2958822db113eb4be69a290fb2a93d2f9c677327df48411d603859ded6bb2b12b2e8c1612f444f9332568c2d49da7c7804df93dd0616dbadd34e770f22a05cc23ac63b831cc82172393ba718d3f9af7b688c350c1a059f381c3bde8ed4fe504519b416737d8e6835f25bc4b8d535bca251f968091a5824b481be548e92bd5a90fa764d84aeb29d3f9c64d5fa23c01a0fcdf02673080c84611e9646abd90c3122bf1880dbb176eb433c530744473f049617f7988da3b756ef603b5f505c27425b6c258692ed749889a8b3c408ce8bc56149ad41f6c58266a89e5746136473ff59ece85d18b3702a2015fc5af8f8539a0c48b1e594c17bdbdaebbc355344d7a9b07e783aadc896f899caf1894a04be5c2c59f2a4efe6bfecfa5128fa96755c2265005a77d9e8142141fe0a09216ff41a4106bb05882c8eee1b9fd753aee95aae4db8433bbe56a6491cfe2a4e236610501ac56d706c22a733802658b23bc4ae3cf7647b0bc91465d65fcc9cecf814a0e722faa33ac57062b6ccef738ffc504bdf5df4097227cc9b032f2dba814704ade762b3ada339828360a7737d163f6468c2814a537b347bf5bb5e22895be877415024b658f0ef49532e28c4b296b662f33529ed67d04eed9dd58c25005881bac9ee39ec390057759ae6fe2a222ae5dd78142e44fdbe78253e1dbc64f472425b0b8a94a7782a43d728e86f34f6b2131f11d7ad8c6f064744904ed00479abe39383b9ce108ba0f395ec9f9aa26c47357eab8bfb1d86dcdb359009b1c13d06c4fa791be3cfb653d5a92df2c12f95d991a5e14e31f1ee38379400528284e04e4f36988f9cd4e16f82c05fa54ba79d9577809764597406a8c6d87a29fbebd742829c38e8938867ec029ce5542464f2d80b645e375b8830829453058b166942e72456db45f54077786db3897d608892c57e6a6f0c8d9e27789ca399ad619b15ea14308eaf09068a57dca243a55ec900eabb99ef4fa0c37c2950875f110f4f71c7be3b5254b7cb05af54abfd5d6808624f2229b62dbe1c6ce2efca05ee3a2f37ca195071df7568d9e98f7512af70adaf5d4d981121cecd24926307e81b1a38ff6e70356856e55ef001dc70ac6e32142b095287eb23a706b0e627c3d727e2ac3b2b3ebf0f9c8dbae693fb995ecf84c4b6170a876735e185510c17cc476874dfd63aa7c34fd584e719442f1dfa0539539b7890f52be54fb51beef8226027571cef08cdfcfc1ae9908df7d800aa52acbfeb65bb0a16b70627033ce2446350c99ba642c3d4589582fde5dcb94454c28b6c02f198f07e7dc2d65849fa96822a65c02263e9c85db903b390ec66d3bef158349d0a7e23a0da659b1d1856b5bcfec933fe7de73cd8df02c70146d18bf54a18eea15c1ca428e846e4ff6250c9d313a42f60639923c8ddb0c6f4deecc2cc7dbdf57bae896093f76f4d0deb8e4b4a020c6adaa386766d284197eabd4e3c93c7965e9cb2a7f9734376b497bc22bb5a9e9f6bfb03fa69298954920ffb36a8d9b2242c5905de9f85b2d0b8c34f424c81d46aa3792126024a2d935d5456f8e55c1392392041a9e9c45941753122119f5a44914206e8d7f88218c20e2ffe140f9e051aea14b13165aea0e0951c51417795cdd886ca498cd676d84c153094f8104a9509fdb432416d7a83e64e935b40239093be037ff9c85ff28dd5a6719247848b71dc499009f14d279d5b7e5ef7355a4a0bc033cc06ec0dea555cb9e7caa0fb832f0e3bc6a62187b591a962d9dc86ee8338886cc60d1a1e4078826255b5e97f0e70ab46bea0bcbb263026617937907e97945c98501e9cc54393e3b9f990d2f3c495aad7fece9658e1b1bb756b283f0c87af4a19567d4211ba391dd1286845620c6701710e619bd6891ee998a04babde8de88cd2d01328066d42f9e3c88943156d5ab2149ffac40cfc57b9828256d33bd51d409ce40d4e14dc0c4962a66b670fe8e06243463eedded2c57f26d8a31ee1db5269eb569689a5b03b1574a7114f47d42e226170aa759dde5453cdc15526bca6c800908b7b05d89f20fdf95b4dfed132b771cbcd9e31e18ebdee511acb0c997136d0852e5f064a469d976c28b1656cb38cde6815c81604388a232da270da33eceff35e0042022f14e1d065d8b740257a722576b630a776151aedb23005cbebc263ae58c529ecc4fd7212a5c232bf7a5efa39672b227eddad91834c0b2de0d139dc60b1200fb809b42df1046beb73f49f26b40be7c4489fb55300d02a23531846591c8120bc6026a517f053fa8e51970ac1135e9de9771a7aea9e2b4efd38deeffc059c79c7ba4232608e3599897d03504d659031a4ff6a6d4b1b71157fdde04aff8b23861b1a15da37f8098f6e08ca0fbc93983fa90807618059bb627308fcc91e258da9e812422e0eb08b5f43b2ea5132d7ce5b1ec792df34fa8bb51679b7c4bb84c132d1d40e899e90cae84008442ada820ff1d1bab593609bfa9a8a5e58f8ef3883542049b246d375a13c8e700c2500b2871a0927091546eeb2791444fbf291a4187d53713f5f06c20767a28e7f0bb5b8db67ca0d603a4142aca5b5afa833f0319cc18f62e99f1a04843a261f558c4fca86bc6fe865ffc9caa82bb51772ed0a8d0ac98cc977f7ac48584908f6fae88b735070c025902241ab5d62932edeee2569ba3ade79332edd0ade0fbe9754f406c50bdce027bda575302d14c5444e59185c13630d9a52699850091d6a84ce0e1ee8bc2347445a60783c8c686b65923b3e92015f778997325a50eae05f20dda66342837bcecbda7ac0b7ab2213a73fc1664e26ab776553ddce29d13339cd4ef2e3f9f220815bfc0540f7767928173ee460b6559751b9dde0238b6acdcfaa01f80345de7a3b187786f9151e20ec18ba05d25478551ee36ae74af3e19a42182119fc61230c773f0a566624668a26a061bb2bb6dbf6f3f2b76e9e1c9815fc8d40c1b8d992ee0cba699a0782a801e3901d0bcd684c2b27e97221ed1e752e7bbd2fd9803a2bc680bcf8828893312a934b47203c656576a4431c00847a8b0bf3f4987c3f669fddfc2768669d8532cdaeb93b179736a2f6c7fc6ba3a0511c078711eefd3826aa233fa82c0a8d227214ff84d272479b03ad697f5cc872393651c308519f60523171d64227eddad55cb4e10c81ca74e796291bf4de178d1a8c5af3203841993142bb239a5ef80954e15b237ff494914a9cf9581802aa10770a96bc3ff00c1ae7dc1ddae0a203ca28f125c5d1a05b3849ce71d90f042d400a8e0566b7386e017f8189e6b833837eb8054385c9467cff448333fb596ef96c65a55c5ef9650984a64866a22399207ff6bc530b3e24c6570a2b098884f4e39fa1050428f396906e594f5783adaaca95e9ac2c5b28f6840af519626ffd22fd2f5ea77f2cee9bec900b179d6c33ee3a1bbf5977ae8088228f5a4bfa7c212370d9502392d37961ef76d33e96c528d7dc4c88a876bec0e98574193b5b72a41dbf9daddadb17e8379787ac5e76429a0024b906a0cd09ece20e95937e9270d28ae2cea10743465bf1805ccc597febd223be4ce0ad95effb243df6af639ed38ac4aea1a887e8bd5d669f2f0efa15b71dd071a2b896d89f7a741de9698debafefa1d52a09fced54b63fd28ece7ba68d3551ae2adf19c8afc89b48d97c1e2f93b1143357360c11c3c7dbcefbee6a2c361e68d61d1bc546c4c6d083edee3a9eda0d9ce8c39f6308b2c2554f031ef7838022149bbd79d91fcda6f4e1c80863950590c7344f5a17a6d9deefe7e559d331b7adbe867607b615287925f7db0a39fda44861c857198b73e461a2951a21931d45212e5414afba6802bc6fd8650965d5b8ac463a3cd725b84e659128c06bf9abf8cab80b2cb7e22302992f1f37d1944d5b87c1819ddb84b193582e5208d","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"8f3573d60b923c6dd2d84a926685da16"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
