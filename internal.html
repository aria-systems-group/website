<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"36c3f0e7bb13e17e8a4e9804157d1379ad300b67545a9c9ddd7b48e1208e4e5c4aa9f4e34f81b45793f5c80375ff2bd7075cbb22dcbc27cbff025c318c1fbed031d29ae15a498b84358a2554bb18219094d2ca38d908467aade5ff34a72570085e1797f733852648b1bf0733e9443830c63533419409817fac3530d0fe316cfc368356f6281260ab1098f180f91126157ebb9deb0377fe34df433eb8e477abffd3bea061daf987877d4962d7a8db8edb342bcaf04f34ce96bb1000ebc587ae1466f982de668d750e6c7574fe28a76b966670729a7a442475ac965767fe1e037adfe3aa6a8899ee07c55ce1055087b1d941307a97dcac3c79b2e87810725eca2ad4b9e742ba5b55f11f682d3247f2065cc740932ecef01c64a60441a2180b8d689766e352b9712e18118b86c2269577686f1f48b28ffd0734f2815dbcb6600fe6928708f24fa9d351591cd7db708ac5cec96abfc8cf735615fbc4ea080880ff8d69e7255347e2104a73aecb8f3ccfadec2b6588f9c8796cfb2c4b810f5ffc54c3e4c1344d1aa277b5b91e60a117bd92248208fee400c755f3d5fb28239b0646cd0ad729364081d440e927449a217814372a358cf7a92cfd70cfd2848c8912009b65fbf0b7464ad4c611ff264d058e651c1a50d6b5f6a9f083de7a43c6280fff3d4cb13c446bd9268c2e23f840582289be280532be4abb2f2a832eff9dde5fc3b9e30730f463d644f1b28e33cd66d2836a022c56b25422f32a353f168c0d5115727af6ea8a401c2dfceb6971e58a8f963d0391e6238c24dc325a001a8b5bb72efe755778a63fc8821b3b4969e7ef77876c953899cdeb63ed04c0f0195ff9b4dd34a08cdb394ce7702635c4e0d9b458706acb55d3be6a7b0a21e2e4ed945d399f6d1331e660f3db698f726ee097ce01bc7e3fe05a4e270842beee1b086e4c5b8fb2ed17f4941fecbfa9c054bed2fb211e02b71ba7b11b688a2648bcf0531c98764ed6649f7dece2928878e1edc1cc6cbcb9e2bffe17883a7720f038f5fdb2c792181bbe919accee24346eeba6e14ba7f6373c867b1a1b277c2b9b6706bc116787807c1a9717dfc037dc9942a8140ec9e98f9a6babc6f0a66dc7f2143a66e91ff1bde5473c5fc6b6e871861e2306a681fdb262a665699fa9af4463215a24abab90f79e705f09074e02f416490028667b0e6edecc4054ed2357506873ae54e44b43143005367b9acce4b1d2789ff92fbe3205d8ec3951b57e916aeb3210b2772739e570c02bc0e7d2de15fd7a3d410db3135ba4857a541b29bb6c183c18524d2f2be2bf5f6057d452ddcacf746774b40bdf361ae59430397887354189b1a0bb48a83ecdf5364f6099057855f37a6576af3c6e6b5e22ebffa886e4e81d67740cd2155ddb2fd192f0f7cdb437288f59f8e9fa44fd13882625eb2da2a2e8bfe6e552e67f2113edc77ac4d880e2e66bb27d6c9646cd10f56052c7c90f419175b77ad885faeb5afc44eed0e73f112fae84ef0b0844d742fcf597b0c6bb3a19af815c7bbe5cb7843c64ba78e24248fd13bb4c5fb9140cb85415c866314045b0a94fa4a1aed8d69b867e6306dd6eba83479ee0f1be3f26a9059c8e57a2ff1d60763948310064c3b90fb71b4b3285e3844e3e0cc4c62a5f9149a313aa6efc17a6b68503ab86266cc777152c9aa9630a71bee14211461e5b73e60589cdef7d855aad859cc9d546e9f8957870dbaeb070b1f05df6d4c9d9b7e6f2ae04c90dd13bdbda5bc57e2d64412ea2312a812864ca9ef628e9c1b901883f4b5e117b4af514ffc15519fd472c3b28a1ae57a57908d59f0354246809b582685fe06c0a0052c86e460b5542bce77e7071effb3ea7768f0736e0eae27f24b3cfee5975aee80f3f8df2c8ee2f54440876c1d84ac7de90030d3951d7a9a8831bc4727847d0d2f61acad24402aeaa3aadc16baca92fb95ae72545963a6ff90bed7da4683da457f9c976fbc30203d9a910eca6e8d2ab3a63333dd10273304589e9eb9566746f109b60f269c9d8e555d1383bbe0d8fd2eff99651a501b8fe8bb417ceb8610dfe4d3a73e02603f17c0546ae5388ba1b551abee4dfdcdd3ff6444c711fb8e664719014ba7a9288b745c52aab92d199359e85d385b39105c3a1aa336c96d3a2518005991555874cdd3076189657a3062c8c66bd7f4630e8785f9580dda3c25d6803e63b6dba679925d50dbb5957d84412b4100a86573d84e7845ec4c1c2e2ec9239bc7eae08f9b77b9c579c9169b83f5025d144fe57a8b94178bdef16abc97cf73468d19cd68b3e3501eb900bc33c4848a218667dd06dd106994b14761d7d2e38f6ad34b12a10fdc256f10b23136bb551fe28c61b2d5e593d4b25ef6c6ff8986de797ebaa506ddc877e1d2ac303f9ec3fcf0d2c08a5bd1fcc3b64b8c32ce67dfb3c4c322de251d75cf7e50f0b4b2912098877d67991d1fe644aeefde10282c8f16655aedd4812f73095be576234585acc32c8822d075c5e433a31b01376209ff246768e5c910653037a69479c6dfcdf89fcccdb5c0e036b20dbb8383d2e676f6ef2e0227a980a1d7489d49f3d78afda14f38c6ed0c897ac5fcf5d7c3c0c493659eb538c80d9465943123830deab246b40e9e9595892aab109f39c2583b7fe2c1ee01b782e6d3980cb5e68124473c92de5832c62354686a594c4e5a9715092232d8d66ed83d133ca83d8e03cbe8f327c7fa94f7da0d713ec97ee09e0c18350452fee186fe62889d25d9a14ac3cffe0ff1d2ce621dbc86de1ba4fff41acb3b4b4e65b744f4042629dcb4f8644de9630f5e4a32e3fa3954a141ea70a3e51b4548fef0c6ce34553e59747edc57a28539ed8ae18126b0e52ccb24575f64fbdf8278d78c7c146b1eb8f72bcff96cdfdc36a5820ae15fb37da9fd7ec64fec68f58455494c3c46407d6ccdd9577c17fe6393259e1d755b3b58e42448e3cc4ddaca19dfadba5423a17e495b202c156bbf695b4932db7195d207db7d8a61bf6f60fa3960a6570388c34bfb68f2bb03965a2779314dfafd1c53d6878213074bf0d7645317b1aca90ba76067b73578509c4621221e32f38fea0857b09b499136ec692cae6c027719d4ecb7b18cb4dcf2403b6eec35c5af108150fae9ab09781755828fee53c3602441fdcf67ea07a8b0fb02c744c123b50891f2dc05c0c287dbc3f94e227ca28ef96489382397e4fbe2e7308ba20acbdeeec30ba0c44358bb0da20c5b3ba6c2bf7a1250ff1cce20f30c009c7ee5ddaeec24d829b1aa1b6e0a2f68357053129c154d7eb41c1bb58050fa64b933dc72b313df74afe3c5cb8dda2a73c2c20e756d4a0e52f8b1524c75418feafffe77e2894b8f5e5da7d2af32ecca4ce2dbf7deafc6c705ca4d605f7a98a7e008277a724cae2b49788cc8c32a54d09b8694e31e1e4e472f146d149e266504f6ab668a324e412a4523e921d01ccc148ef7146c3d386595e3e4c9f965c2a8ec5124d94279208c48baf9b77a329fa70a1ec6d815a89f595f7c1e5f69606a51063747a4942f2d62dd6510850ba3568af0ccffc31dd7e16c49a3335df81304a94911c3ef538233be14a3d7126eea667a1fb42d9886c424af08068fda86d52fb4a970695d985046a9bf4ee0a73c9f25e576fff129910725167671e3815ff430eae800a84d80e37b1ad063ae4c66ba39f948a2475a1141f1ef6e8e5b2b31036516bf4f31d89147de188999cb1151030e4535b601cacc35ab48d3f9532ca761b12a53634abe4ebf2f4320c55971bbd95b1b8c7608448b23d607d4a8453a88736e0c395e9f5e03725f25aafc8942a2632b2215782340288e85e4b3ab2af276d0a4c3cd01cb89d65b6cf035755532bac19cec270343768568c468eb9b8ca85af5190d28d046d964d70e218345124575421d6ba1b7801ad506a9ffe44764066b6af2851a84e55f612fbca0a3253d9c15f28c611f3dba274ec6b661ee5ac6e5330318cd26e718ae679426ce107bd3dc89fdda431160b4b159463294773ab509e40d88d01e7b1116231714c41be5437ff63081c4ade98105344cd3cbeac70a66ae1530c066957db6ddfb5124dd09231ea1d2fade29625548d98c60eb405b7d491041b7cae1db34c8ed0aeb6ccc7fb9b14c1c2be3d7ed4cc12bb09cfc9775ed0649aa65c1d717889424ec2948fd598f84665fadb387a1b312402b93d1c3527b5430b65059d6356d61b2eb2e6b5d7e95e477f5cab63951bbb0196a65033f7e4d9d953df2a8e49019634c6dd30323a507bcd54a740a1106a84329790bc92318f88f5e5d24292566d0c97543ba259846d31afdf66f478201cf8d6f4c9c032119071034b19f39d014a2c0f2121eb60eceabbcbdbc0ea04f2bdb47532f30cd866d1fb890903c81a0862c1bdfe9031434617dcc00c715102ebb2bacba74acc39c7d1d0ec6aea3cccaa2d0c7a8a749eec74f85e4d43f8c8942ba1a647de077c0db7915080d002e05339a60f8846524de52b9a3faf56b62161fba041342694a442861595ec12bc352ca20078ab9c6cc9c27e2aa5aff483304a76b1b6cfb0520ab6ac4588c1a40e8dcce56a86bf859b6ddd85e158591b2a282de4aab801af74a5962fb96de3eb8a81cb18afd92ccd8dc3b37c4eb635a0e8c1f8e3dd0570286b9525a6f1521dc65e31836b7051543855b9f91a1bd21576fd10f1823b8edd3b34a6b70dcb80ed0bc8250a6ad61b55dea7b025f10aba4aa0a5506db9837c1c92c36eeba98fc078a4bbde2b2012b40b16a0b2667eeadb75b776c8ff7a672e013c742c9e42ecbd8560f735a7513c2650f79030eef1098793637fcad857b7d24580a956c3eef35431e883856b7ee2f32fedc8e0df8e91bcd49ca67d500d719e04ac3b9c8ae2bc5eea82857223b1c15691a5a7efea48b4f127d2046e57ff81ff7c12132b4a34ebf42463218e895322b3df9e25729ac9125140bda6bc7f14d57ffad38f3454f44b3c545ffea9ccc2bfd66f01658aa683b0fa6eb1429a33a69c5019a8a9d80de158e4d9e3c58ceb38017a5e513b64ebf3c67c87da496fa0923a25172a676bf28de6f3edc89e5062d73fc02ad5a743a5a48997b31f0fda02cc300c3e95a2c6390a995f60c9becb3bc37f2fba68a332f4aed1beb8168994fd919879b83836314cc2f20c910a39feb67df8fc0cfc729218ccee8ea981234d0ea799daf1bbf1b03ed4d4bb09ef9a71576248baf22eb16924d8980f91fdb5012e2fa94886ae69d7e1623e1e163d96ff12eca3feeff7c6b7efaed0a21ac2ada4e3418a3fb6c7e1101d2e6047b93a73107e86c8b2edc9cdea901f4967941eee8b724016a97c43a62a97d43b3fe5103b11eaa8318875bebb9286f0a8a791e871a9a263a6f5dc280c186ffd48f78fc2d471a4ab6f53458df4f62fd42e04212533290db95f979a14dc32b9ef81964e8f3bad57389da3dfc1ff4383c50d61dc25f37acacea872e7e6f2eb0980c40dabc6b0bf98f7c4d68eb1aab1dc2ea72299bbedf70bb32df0c5122a7259ea558153d3bb58fb9045f858171a40181e11beb97a0b9994622ae6d78483efce6b22241879018bfc7cbab238452fa07961223cf4a2892005992877e41b23553c1a48c6063dad4773ee3fbb72cf21a77aef6e03f7e3cfa0aee4d4209f44e8032669793af249d777963861cdb3dd2694ced413875bdff2d631fbe46aced8b024304e41e9643aa0e348866ed6888795fde8f3723cea3886bbd650f67ab56f36fc1a33097ea6181d86399c884c38946eb64c5f578987c3a85f2c5562d0b0cd830050f1efb394e8aeeaf93999aace43e7011955f8a7a82db28e979b40475a8b79a84fb842dbd4c93d67b20e0f0c3aa1f055839837aa8c1e0a4d9119adcded574fd0461a69fa761c7f31b8e2f4535e197844c08abe94bd1f7adf6ec4bac989192abeed962a36e6513aa017a8c56fa7c03c33df8bef1a3060d679daac0ef2bb5f43ba9daa631b4558a57c012a439bee4f3a5d733c28aa8cbc23344355bb5e7fc076630161e32e7dd0cf549c1e1e02184fc12bcf1791c763615095ffd6600d435d3c5e6e050698b31d0b1a15cff6dd0d33d87e83f23fedfb66075f48440f5625d577c6a2c106301bfee171b38685308ffb9857c7466756198584e3e08d26ae1320b409903ea66bcfe727f445505ad94fd0771e9c8442c7ddf8c4d8f8d097cefa9c74da1722081198d27c34dbbf6a72bad3e41a1b71918b5290b66f5e7d2a2d99d3b15743470322728ceff967e4435e6c10d1f40f7b1919641a4329290d854bbd9e8a6280becf109a042867dc9586d6cd7deb2e14f04e625feef2ff383ee56ae2fc360adeacac87ece30af722098d750c7c2dacd85216c089512ec74accfdc05c95ed15f9a5c5ef44980cf0a576ee31ce4fc90211ce997a6f906da3a8ddbce3b187fdef1b76585e83ecaf474b71547512bfe40d5e001325dff734127c865b2ce312f9249daee42768fa4c5e135f647b8a44b308e4547ce0b0bde52a9b3a75e0453f9746abe551b56eb23a95238c75fe2636a14f5d43853f5491e1492d2253ae8deec599b3df0cb72d28e4cc950f76a5b6950904cfaaab2bc8d2ed97376bf390e618ade236957254a9990fb25042b55ad23774e1c99834beb5b2306ddd38e94ae34e2b574a5e8b2abf44d20cf64a88b048ff5f47f61ede41cfa14fe5723a8ec164a79dd55bedb2dbfc3988467da1256ad4945fe7637586ad9fb3894e8355ee08bc4e61779929e6626326145e8c98d21a679c2474daab4a61fa54e2bd9f6aa71b0d0df32c542e6ae6d6be641980ff9dbcc0e6b2ae3647fa9ee9ce54301cea603aac43dad3eaca0e20b2acb23b9d1f3003c490a4d878c5a0afb5078966fc93a0ee8e7250654d2d342d08b956a35884f1e4e0bb7d7b4ce70abf1dc70e76e8b23ecbeb327da8f21b6127828ed8f3f6380f8b8b9c445abc9d43fed52a08c3f6d0e3b9caff105fb6ad24cd2f73de56e89355f807c2a3cce228d0403e19bb25d885b03c33ed6a58803b6a171f60b523087efc5ca9ad11e300c74f5e920ca68a7f6bfdf259b123a8c0f8779720351fb45e35ef761177ddcc28c8789a044968537752fc5d373da4c67bc4554f16f7e37cbbb36f15e8203da948e555ef324301f31049eb440b3959a0bdced4738c9765c823958f8a26128a6d0fdabcf625703fac09019d2fc988ad25c49d919a797fd1cbfcfcf5b38b6763b871e86d30216455b0568b5ad04c1b6241184817d9f3871286146de98405c1b8e53bac77208da24c7cbac47dea06446304169ca78fadb8fc539b9c78e5106ed818eb100a54490cd5cb0917f8ce1750224983efd34b737182fe3daf0431144e9d3f51532a903511e7cf921eab6da88dd316f05a7d4372a9636b6936a7fc11d0f878b4a068fa061540d0007f4dd34bd7c00c4a34d45c00dadba19efa79a989f87677f6baabca30dadb1d968328052f05f828bdbc9161884764bb88345279f3efb9ceffee054d8d98a51066c3e21951b1cf6d1587796770c1ad531faba9f1ad649a92e804348dbf296aff74364b2850ac898e453088aa658113442d217d842b4ea1a255c0aa2bc7f4bb62084793ee9072f3cd875225a0864a0028afdfd3f595d9a4b597b4ca16e6f2419fba33cf98d8b9a583c7f642bce4488506b4a4c3e0a9fb600f85d3839382d9fe6a071542bb3b834d586469f58029596f3ff5e678227ef5fa79c5a12bdfd5ad6d460a44384fa530c1881f2695b09045c798a3e247030563efda4246b3955488467d17b2f4923db198f8ed8caa52ddf70d54926956056db211a76ff1790dd16c3e33a68ced13adbaff02071cf709527a797e4e46d4d29194aaf086668ea73af3852d15ab81509bfffc7aa0581e015480abdaa2e7f2039cb012470f0240a34f5d9c660c9cd0aa129d4270eb809c28d8102b8836dcf6f72a4d526df4e9c1ee9e5adf0261518abe3246017957608d8eb3459ab16c052ff6639fb4b9b6afc3ae16dbd0b4e14d8e1d859561eee5701179c362ae865879814d9d179f6b9a7298878c2d19fbfe9b97408693475c8dce56e44f4a82a232cea4e0d4de57f0165d018282518170b25df851be13a9ba6ec7b9724ff543e113edb79b92e1a67ccb2fe3768fcc543ac91bfe6fcac2922913860ccce92bff50c25dc09b4b8812a14e2052267979164a757f33a30e00c00f2af82dc21865a2c1eb152ad8af763f2d8ce6ebf4f281bc73231a34540d04593f878ec608fd260614724af8e8227e61442d55c8952aa703a82c24801c9a90ebc2b12321fb953f456790e9b5603f5a14c5490ac9dc8fa0f684b497db0f7ed3122c1b19c26a359ced4bd1de5690ed5ed33e353fe578bcf29384b63fb34c561befd9c0b630fcc8adc90b2807f93b91c8f08ef26071066522dbb506fd8dd0b0974875ee99512962d12cc0fb9c25f6c41f7ed94c5806a5afb1707b8b9c16894cb7286b1f089490c8674a21cf7499e7217437b27ddb19919a0cced68cd62ae6079369a909a7c328db9930a24a9b32232496093cae9a7a7dc08e255a107f1f940d42c5aa5583dd53a1a7651b8bb0cbc790fff2d568ea8d8931c316c39ed8c026e2f8bf67a4603c418dc78211d8e8229548bb0d75991b96d25aff0211aac5025f74fe1db9759825b64e881a725830e7398d0ce6c39829c3089c93db3de3b8bb85fc61955b0ea2089d1855a241c6d08f7a87a9333848077c6bc5f8c0c56cf427a9d7e1192e4b6b459a1dc97ad3f58b1b8e2fc0a4c79cc2b25e7cad79be5e997e3f8e321bb22b9b89d4fde82ee61d114f3f5de2bff5906113f1a6cee99ff6a67105fc117b0917e51ad4b37e8df029a2e31153f9ebd2cb70deba6479fab95f61de5ae291439674f1e6c330dbfa4207ce1b5974a331358bb8061284b723b31d71f4036452ea15b9a3308a8fab3170e82c45771b9e9859d76902f1eb53a60852c363353102cadc291233bef95877c78887871249a88eeef2ff592812034e5b21cdfb7913574928595c49d0e54aab436a598bad16f70e4118b6797dfe8fc7ab81ef86ce358e8ff5e0e4ed8364010b8442f8229f5b993be3d6c008244c73f4c655cec8f486bb0f942bad3fc077c38b25e3a43ded81a790e3e362fca01adc178b24067bb4379566a08a9c82140d8b546404a86a71735450bd4a7364ae46af2cdf66e19fa5bda9e9ee141fdaca7581188cfe07000666473b6675454b5055ff87475840f6c1ec86bf0484a44e181f3e877b350c026c36e818e6304f0ca74609912873d44dcedadee15e8c67f4d88a5caef7c3462507739dd3936dfc0962371e39b768c42c7885031fd861f4c882c83218b9eadc9d2903145076995acf72deb8b05d5ba0ce78e31668124c4dbc88ad53bb89947429126807c7bf810521c32022482f2d5247dec6aea7838af503aed87ca58591012d29b9e5d45debc153a19fa4e88d88b0489c7f3cc15d782537234af32995450283d343202660e0584f5650b29c034e5feee50084c889ca1585e7bc445b681004820f80b4ddb0548d5c61f7ce5a213bf3545cc3c137965ee76942749ebf6248352c09a723f071793aa543f4031b7bebdc7d9a175668e1d895ce93d92f69440de6550dabfd5bdb4aee40ec02f073bd6c8c5b4818a33803c44c278482359e3eed9d2598b93fc4406ad7e0062b8348e766fa4967c25c6ba500b4c3d3ebd79ca2a30e58ebd750df0e124c19fd334c3959b1e2a63812f7a42126aeaf4d03b3dd6ae4c8d77554adec92b9070b99473d8c6bf637d5c80fe45b17455127e2a28c92908b7b9ff93b2d994e71a75556b8da8d9974d681905aeccd6ea79e625d2850483005ea9fc2f2fbdbd5a35b06cf764e487e98b0ea7ca2d26e3a3a9c6ef8d439aedef2928ad5f5590a9c4cc1e111ef86c487cd468fc2e980720450301c6cbfdb8b27689010261fecbb552f3b1ecb7278e7bc038f87b4e7c5fdd5b131758aa78efde4314f685f45bab9f850babfcd3ef3ace0e4d4641cb11b94d8fc9761d8ace2a9fbe0daf4a619db1a9a96cbe94e6e09c3e0fc68fce410daee8419a027399ef986ec1b99a647b93a60280b19a62804f0cfed12e8e7cfa03cab96939ad81550d09956994cac3ef085f2b90e7b052f9b7e5b40995683ab6bd1cfe79aa3567d8e9dac74bfdef7dd640d87096fca64a4b3f02a38042dfd812055ba3e6539a1087e68e6fe8d237f69a8a5a66971703f17d05bd305a187bc2680676bc6029067890458f77fefd903d66557a2bcbd3b8dbd571f7991105d4a0f5011f5c550ad05a60c333fc1dc223d7ca77ec69f1ec1f4d7be50deef95fdfa3e6eca0a37b9cef2f4d50c2bdb08f763f6511cf774ad58ddde7f96eafeb70e7fee4844072b24ac6b299b23877d2806fcc5c3ce392083566c6c090da621bea1f91305c0715c9167244171f5c60a4fcb165bf489f142d41af5fcdd7100b765cb26dcd05211e5c65feea628be69cb086b08456355d17c92e418240e7938380a762d96d181b15448510e4319c5fdabdee4a5782d258a83b219bd1bd129a9729dacd46c2181d2052e53a7132009b0e581a4af5cb3f0df05b8a4281ddf9f8a95fb6bea7565d4e8a884ad86faa7e47bcfca8d8fb110ea3eb73b658e42727072fc0796b22e00fdf7856e0641dcc6d138964f5fd0594f9834ff9798b7fe3b68ec324ee08c4daeee3a4af1e502df67cbba9f6d18b78a7d97e711cec614e4d8e05b9d11de5a12cfb0d9c72984bfd2cb935510637f2d5ed2d500026da29621dc95cc0a3ea0bc4f1a2c8c32babaff30c80f16ef2de0f728e6034ae872699105d12b3347ad702781edcaee9f75c5daa3cfcbe3de728e70e1987236bce6a64ad7299303f86b3fcd54fa4d8b05b0051b3d2f659c13dd8eaa398efb1cb3679c230fedd617b97b0b8f57aae4ef36516b8838a9680dd1f1f81df635f322e9295b1da28305295af9f68c468a792247694f06de8da37f7aae0f97d774eb960b7f823f9cdd87ac0ed356eb41c2e62fa0ea9195ab58411bdbf02aa93a17ad9004720dc12458b653daee497973c669e00d31511a55e96de933d32a75187468e6ed71d0d45b7e202a848fd8d9a8fd20393858139213a9734910a2b6941f130ba09277b2fe735227adf419b393caa8b67113547039cb0323e0ab91548575459f7e972f418b54f985632b780a85fae3588a302535da46216828020350c106d47fb83fc3f11bdd7ae6146aa1e56fc0b1081151d722670bdd00e26b048fa12a9f18158375d37ff5c6741bc93c04b3cd0b8f51f1f47e34d8bbbca83c78b96fde92f25174aa6168f8bc0fd10d9c6fe892711aee47c82d0e7dd0daafad66d80a13f87c60e8435a08abb75d75bc0293941b109ba953eea4ef1fbefd87cee0b3472cb74a9f9a355688a78ee9c529d762ba806fb0702d0f4d6424e6c5361e10b2e1e4e3f527245ee61b4d7859c7791fc5c7653b390d3416871b9c746866c7c35ef52b666e658e5d4d104cd3da06f9fb65c1e28cd5edfd63da14ec2c355dffafce3b047f9c17de4f710db9c6a3be3c3cbb32b7b5a164e6e8bcf5a8b6c78f09c1a6bebe78a560eb0bdddf6e389affecc4cb31991083ec6e62776d5b03fb1e374a262c83f8e96f19a3668821ccb0e936bcec88f1a6b783e478a9d6f834a1a54011554727220e498b46e2fe320cf28ad29a604d9a157b32c3d8214fcd1c7d7f72d76f6a8465d3869f4da2f7466e115277976ab05c469dbac9fedf1b40fc801ef7da0057e7aef3046f2949f3ca54c12430e25d83559152127960039b7769f8f892c1a693e923f04ef21c9f7bfcbf6b0a0641522108540e1efe9093512847896e86a83e79679f6295002fa0dcdf5fec01d78a9c30591ab6e83029676b4d936e8c3cb9c003f07073e22a3308962a7e48c32ee68c7aa01aa8e0fc88e9da96d145bbad7ce4620939990022cbd2a18d7db97e517120347fbfd6cccba9f75b5f5820a4b987fcab4c909719acc84f17bbff3d45c76c711df51321564ebb29c6396ffc4b472f6c442573ac431d898503bf7fe2fbe49d412b0d21be1d9e43e60c336fbffd95e35ad5ab8d7fa0d78ead895f65c603c84ded8986779f0d3d116df3111e166ad0af32c5815f6f049df0a8f41f85a8ffd5900afbeb0d7bd6ddd9695c0d8d70de9460df9fdf3a808302360c7ac52280c1f260064bcefb5d7448878ea0205fa97b04a0ead6e626f867f1bd9e5f94eae7bd259b6fc364a7bfa521cb9d10bde6b55470ba75a0cb5732402ccb930be22c07662f5ab7af27b571b51639d56c7c75a14bc3ab412a6a0f67ea82f25d65564f7e439fe14db80da76dba011ef03262248d554520000ddb08e26fb6c160122ca2592438777ffa18b064260483d46f12a4434f0061e2fb49a3bf3304567be1f7aea7eeaa5789f2c0990f583e56168c7dc0931b6cae98b7fee0dc9e3a10d03cee4c6d69463c1f689ba5cbae419a8b2bdcd1726907a60d629ace2c7437deed8ec9470d1f5bbcef2b7beb27e54c9f730a72578a423df0c712647937d55253ca7e6bcebb94c19a190e554668288e09eb346cd12d6c3586476118a77c0f91b47cb7c123495eb23cc8f8e2571a005342e63ae8db7bbd39ba08d35fa0bc14bd48b9fa795972a228ce49080c0d0c7fb09c3868367549b859d08bcc0289a66af013202ad0da72081df91c62aad4dc2b2b32f08fd09aa16e270e93c791aa9a0d7122b5aeffcaa839fc32f2c66efb6cf763645909cec16ceaff50f7adc5b6179e64b9276ca712da2ad75e9b102c554c50450deb63bf6d2880ce5306205779e9bd4f69f85641fe54b86f4d0c6c20ee8c59b15e4137a682d6b480ce33f19268761ae0942c843e7fae6a62a8ad8f5a0633edce11d3e2ab3b29902039b6519a4704264c6dd3fa2885f670ac6eace1dba9886916fc59c8978745df114c009f222dcf1a37aa1c29c6fc376a033354f2bbd4127f16a51db16e012c89a7c434ebd9ab4fd8cffe71c159665672585a7e4449ec72a7b265f7344c187ed9d3342ac3dc15dc1a82bf28cc33cd18a089dd1420fcd123acae30f14110a139eea03bc14fd035d35f7d2f6b1ad8e4f1f791f979c5dfd98525544546902b3e33b93eca50d4cdeb35a6cab5cde97e47049865c97e3269aeda890aa899555c7bd471a79298c89b9e5b29524a6cad0b3c4a4e2fefb49d38d232644b16f6297eb7fbc2b6f2dc7f6fc0805249b7ec8ac1475f81eb78f49d397f2195dc41824a59d560b0c4d5a522e9308f63c491a57b75894c655ee06400dacb3a52d7eba1aabbd146d7135b33fb9315faa52eb84c17a6924885c20eb8e6a07a98bb96a820f4f115b5f0f5e15c087d42459d159ecc27f56d78d7d9970bb872c992bcca3ce8884648e9f964250ef90b4ee6948dceddad5e15e06623c386936ea68535479793b8751046b2b4a57b98b74806ebbfffbb9bad3997f464cb3d1f957c33e37be5b72dba4d6b01503c1da2fd4970653e68a762076b76bb0e6ae408b38b61b82317b65d550176e256d1afb1431fbb6dd808b485d160bf56fe8cc1e7d6f0a6f8663d71d6d3dfa308d21391a8f1719523e2f77cc6cd7c90e3738d4fd24f2a5655e239c0d6245ad9462f0b96e76bb89d6b383da628cdcbf4340db9b56a0b9661cd03d1ed59a47b549ff1c90aa40e9e801895abc5f3f9511c251e2017524e47839da2ade39ddc7063207f37909ef521712a03706b4fc65837aacdbc1e8925ec970088efcf62c0ac958401331fc7dd3dcee3dc52e871f49e71854f5994c5642a10f374aba11f1239b6213ecd6b9ad328f22ec60988b6270c3f887505f8af88b4532d54576c242759382e91ab69383671d8e30a848d9d19d46ae28f2d1ddcbdf92d8dfe023588775e657aa8ce663b632e9ba677ff8c76faf20664e95f51167988d997185f6d816d2aeef62124dae6bcc4f6a3953d85766c2090da0a057ce8f715020b24b90ffb8e0bb12327cff02e9b564c7d0d9f80f25f0581e81068fbd7d6d80a855cf5b7184c83f4c998d52383ecbbc8368a0c5b333acdd64e455d0541f01c7679d88bade7d1487c734e70eade5a58b5fa7d7a3c5529db3144a35c0bc1a8a4f4920c64f4eb06561ee218c9c53c0cedd18d49fed109905bd36a5a332978f40623f67b3ec2842b8eb738319d01c476c7919848fd58ebcfec0c37bc323e69f41978523775f8383d7c0267b1745a5e179398e43f5b8586125f741d3b79d0bfc3fee2ec226775fbeccd84e5679e1a87435aee8dcb7a42736b9cecc9de87611a9b348d254bf9857ad7b428d168aa831c8794f37f2335c0111cdf86580d626374f7220fd76d3dcf2ef19f8451f62b22497eb774d19f46edd70fccb805bec4dc3f1036d24b9efbb063bf2cdb7c08bcf6f1b980a3f1b6af950be25b983dd0981d08dda55119c5dadf4a54b9ed859f31d65306dfd0588af0e9978300f28aa3d73f374ce7cf88c9c4cec68d60cf1b6f96a8e9686d6b21ab559203d8aceeb64b514ac039f50aab1a4dd4a53d8de2160dc3ad24de7edc9aa03256136ddbae2245f1d5d047ee9ca8c734036c456001bd72613a8a9eee5dd6975adfe65a683e9d52443ab40d54ff95e6ce913bcc7efddd66b96fee8694961057b71f58818f860366a5fcbf2082ac5eeed514cdb691db8ea1749faab1bd7bdb1ac89a4ebd8ad5900129823ae1d65b483e0c5b5c3df50a22ac76c937c50012cf7b66b15e3172f27587b866eb3cbd85fbd87ee7454f043959fbd82bf80f804ca15fe2882a7969c83edaecb87b4b8b34d7bbb741235fe7067ccbd14db6fdb33e2fb030d02d3e8622195a99a75501055829aee40db8c6afea860fc5b8ed92dd1a3800d6e0b2b607de5e8d5438ff33e92bcae2056647af60cd5a73abe4bd7134d3e4715f5af167bd91bb2146a8405c9b4489410d0ff552019232a3f7953c88fb527e2ce00bf82f0881048eb3a9caa535430df9469a017455e09e84fcec86862a7d4a5b6b50dc73caf7974f66e6ab8ebc169933f71e320a2736d936c6262888557d03ee3a9b0c4ec30ad2b5d682de5d4753977201477ec40cf0dd04f30da624af4996083757f747ebdc8421444fcf58b1f51d429e8bd4d4d72df02f567f8708165a3e510fca3584c52953ed271c7a09eeb1c8e8be476239675846e706f6f9e0fb61adbb769db4797a81c68df2f369c58083cb7f4b0871d429c88bb34b8ac8689c8c882d9ec00086baa5c551bbc6c22d34615f9b071b3c53238330fb9e1a2a3fae661b3efb6166e8c2412751b34d99c785c53c3dc6aa9e96e084528f7249c61084aabd7a93a037e6682e7c30a9842a61d6a16c07329a3507dcd094cf4e6b87d9083aa4cfd68a38af76a7ed6f03458862acee26467788e0aa1694e84904e7e9ae7e834f31357fa228533a7b6271f6075ef54f87280c00acf37bcebe2ce372b1f00978af794d0c5461704b4a0505ad64ce780d6bf12e98bf25de1925ab5e22450da811c2b5c8e384f1c9f9b8004729985debbeb21d9fc4a3b567a529b215ebf215c93d138ca409a1c06956504aa836eb47a33fe14769ac60f9ffc74334781b71d970961330f6aa80a9e8a4d520af6e4fa6570795ccbdca84c9aec4edc38ab4e8baeeedfa697217bf0d227f1dc66bf0be062bb211715079a8497b4784e4e4c38d395ae16fb57cf3ab787839756a7dee294214a8eaa9ca30b8536a658e19929d53c0031c565b19f50f6df45995a85f2195a6e009f9c72dccaad4ef4f8b76967ba7080101e793d2c5bec3a840ce24fa715b12b64a0371651f16ee93ff1a8e12c1db0eae7a2079f4de11204575f904b25e74613f3f32b910ba83002fe90854031ec692876456efe794dc26e16968f957f1e45c22455679a1d1a74810071e43ed6570cd8c2bc272d03f079e1907c73e275222ae51d3c71ddc6ba07eed03968012378f5e9b6d53239011162d7072006ab17043bce96d69232899dbf9448d5a488207cefa90c3fbc7125da3e808d6aa2bc749f394f80e35776b483b984790b721a0eb0cb91c0fc93864b3d28bde0ba550403a5dfb6c99af780011a03a757f96bc08dee7ad736ecc107835d8b2a841a0b101dc9d14e9c804470b1d5d9a5e4482f1fef7b2c1cf584e0bf31cd0902b921ae80d5edc9e387c5ca46d82f0b2728149f73d3112c1ca39754c21d23ed7234b5863077d0ecef097ebad974c720e57130cc23a2bb5d11cb245e6c77370eb1136fa712b49416afa5d203c51aa0524149f8faa46a5d10a2f394cd329fbe92e02ce3e728ee8cfc3e7e62b205aa655820bb09f163b05a8c22250366232db9dd1758fa04a2542446272daa50ddcb22d3e77299eefa6c3d6dcfbe5c8ea1bb5d6762845e07ff9839d3426bd9561f71f5a6ee8201a81a73a3b75271fec3e12ea2c9e16c604c4eae530c8d0960cbccd8d1266ff638a984be1dd2485948a7a78cac8b3ff138674c08bc10a993bd5f38ee21f22397c6acbae046e598bb89c1285d68ba640c42f286d9dc2610ebd2535c2668316dce67eb9a69ff319db049defaf2b74fb6c73186fdd580e4471e535ad3be3bea284e58d9f0ffe803b50c7d7ac7dd46f56ad7ce7ca4a41dc9f02f2591969c373b5f422c2705144042189ed1a18f0a9e4c878cc7f7517d904b2baacb82e2241b79207606b630a5f0ecdd69477fe6786c3fd75d5d3c2dc7c4bcbfa25e4303a2496444f0bf3e25d17e8da7912db201dde2a787cb0cc8701d5936d02547d0db40bd4911731917e91bb4ad6451853d8d939b8a57c85c078e2ca214773004db3309c3ad02e17d2a8fbf88632909ff547ce0a4d56748ce2f6636a7a4ea1e76dd0e5effb5e33799ded1deeb5db8b484dc464f9d9628bad3b2b882a3dc6f8a1902b061ac0e05775c416badbd3655e160b02b2307a87daa2411e4b750eecaa9bb5bca052ef1e478c796e7a942733ef83161ea4d9928db344fa2873206fe4f134f47e8db2357e15412b1a5cdfc5c9a935c39a748fe3917888ae8515e55877c3633c737b09e2a6ec6da8653c691a908e3ab6f1abbfad7c528359bca43a075cbf087ad005642f02a3dfc8d3b6be29c0785c68c34377f7afc5f3acff08bcd615f6b1fa9429033443ac4e653dca274ff2c6c7613a818955b110ee434bbdc84a6d9716aa15e5ae8b83c3dba84e9d5dd26763f545bd68fc95e7a955b3dda1203019c5b2ca21c4018b43377d3088f1f0f5f5436179941029000777810522dd4b62f9b58bd494b2a883aa08997d1b918f689665b9f675121e438a4c053b77b78e625e3236d182c9a82a5d1fd859b84181b83ec5b122632f1f1f8486f0344d571d5ccd6914a1d68d77b86b429ded8a1ce744109e1e73762e7af6beb968705e0cf2c84683d420771e7ed817ce3337c08b3a07959b39bbf5ec3329be5668507ae8f527551338f3bfe78337f0d11c4e06ba7557f519f2055ddf004d20c49f537e80ec5c2d98b04880c470050bad19d430b9b91b8b70ae08041cdd87ab6be34fd1ae7228fd6bd8ff4aa9a27d0c3abb1df7453b12864d1cd793e427f57c027c7108ca73501b3320cd0574b98e3158e7e9f588b4af136fc96b2866ac8d45b58bae846be04a675f8a07d5103f03771bdae6ed25bf69b927ee0f16b0df3da2808a8fd809d10755a0f0b8bd68c0e676d576cfd47d3cc1468d186585870a5810669227289049502236908d2e4798595d9d4015ac83b9c4450dea777b5c4c7bee1878a615c9004e732f5c27bb2384924aaaf5fad0d78fd2f4d7ed19c2ce3898b4665ea47ac85759a49144dffc11367a6cd1fbe410a14f4423d70a88044c9271da04c180cff889e027e9ac4ea41a462dc6930f700e94879d3b65562963474490b2389931a660eced9e120e4f86183585dd2fc17c5fd3bd7281ffed650bd6da3bb2499192390fd8188b310a7515bafe21678d5bfc7e58c298dc91618e682aa7f9a5ab9d53dfd1588c6f133906eaa767e63bf2bf433c8d109b67234d8ff7f29eb94c4a7e6040aceb698bfbf8139161d118efcd09b8d4e5ae452ff20c9a235d940aff616d9bd70b4855ead15d460a66717a5e2bc6a26a705d58de0d1930308ece2a540e9a0ba3912343c5f7bcda694309b8e2d15f93904e4b540cedbad1a27f612a64351fdb06756f491bc1632c67d99ec9f23c0735b3056e7cd65e182c3f0dc9c95990616606d47ed3d338ee76ad9bbdf3889ef8500ef8247c7aaa3d0d8c2fba0be7c908a365403feeb0b67beee4e521b48cb4eb9f81aedaad7ce8a69484b01dc5b5b22639b1b5206744f99b36cd1034c0943c6ca7ae10fb3b337cf049109115a0d5f52f3bdd561371029c93d390716ec26067934404a87997242dd3229b49be5f4da3de3a4726bcb8b05192073c770d5de1bfc5610196a82c25803e9547677c0dd94d82a42aa038512e8406e0c352e15358399a7de4997604c8404b73aae8d5061a68b7ac5f85275f936eb57294fae50f3653845c3e4203bce7c8cbefc50b8c6016cd172b90aba45e7e08b425c6d8aeb1e0565c2d9ac62f33eff257168683f0274f50653dcfb0d7aa2100fcf67fa17bdda250dbb635dad45c43450852f9fd49fdd46c19c431f8e75a9f6abe719942dc6c2b2debfe9ac31f6adcb563c7aae36c3ecc1fd9e222c1400c2b75cad86c6be61f4f864529d03895669dfe5d77b0cbc2b599a4e590112944a14e33334cfdf92a0e3ebb9f2a36407c84dde7ff33026cf6efdab600494707c25b4894167e7b2311d68331cde0a3ba3ede1786993a75a6a256e41414d8beb7bbe637e5a9061294348a914dde0d301ec6b690da4a4b4d99e40fd43ad09efa68a4c36791f6448d0e1a8ee509cf1d53816ff27a45e08210c231c861d85c7c3d307e8dfa4aa5e6bcec6466ea98494e06109339a8f788b6e81ad002c58df76415f50de82e5018ef7f994274e08075953df858e12c4b7d0e4b890fd07250df2332f2b8fce49daaea9b1e6da7f8ebe53950080805ce4a6d1232bcf78bc77a7064a54df88601b7b58d122b7ab73c1313b89061922e93335d8baccb5dc5b933b30c6f15455297fa4b6386d099a18057f4aaf1b8562af112966374f6dff94551e02c9493c76284c30de4469ab16a90b852211564a9fa24daaf91fa2165e6ac4bc273d013627313a71d7a172da9bae6145f7602378a15742c16eb4c9182c05e0af67db641a4951e01d753bfc3d6b57a650987e7961d235dd82eaf9c4967e65c51d9580ac181ea8e732e1aeb9ffd5ddb51af7678561f10887d5106f429083a1a6fa03450315c2c4668020a845d2a481e0c61e28d6396aba0a0c79cdd4b3cf0af1930068142c408","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a4ad14f3c8ced06dc766366222d5bbaf"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
