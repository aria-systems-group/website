<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"caa7b08f4be3ce0ac41f2001da8edbe00573a9aa9673329e6f4a9075778691f5805bc898cb6c0085ccda227c42d10c8d2bdd3b14c987925a7f8e7ce8da2bf99390ae909390beac64dbbf0ac1cfe0dce3821490fcd76353660314d5e31569fc0a80160d69e13cca0816f90a255e0a8e35b89a82a445164fcaa12b3fb71586d4afd600add7361e6586deaab75131c3b70039aef0ead940da023ca205e8f971e6f7673da6dcf11ddd26f0ae6a789dda2a0991784befbc80899f36cb7dfee6a43bb64a69da1b668387323d08f575755758d7e1840e2e4377ba4fb1dde421fa82e9fa498ff5d6200084ffc1bf1b6e896b018ac5d1aa18e5ff3736a2cbcae6246856db737c75f241b53ff174d90223b912ff56df225b88569664d52f8ea8bd8bd101a616b94c598ebf9394b71656bc3ad2de132f233befe31c19f93c618be5d23f2aa703003526a11da997b0d27a16e6e1c6038611f639caa4516e926599d122813cb15d37afc4655b6655aa8f747f9d1fce931f0e0e4ae3eec5371ae3355429efc0843bd38669cba5130fdb920b03be449772be9b61c1c8607a09f83a7dd03b18f20c420cf0d53ba57ca7a58e2f3ac09ca6309c010b1b33481be0f9d2ccf88d3e979b47e909cf7fe37903a8cc06ed256aac8c1bb46dad868adb40f027702c44bfe93a653b2b3bf26d7cba53cf91b5f450069c8e0a9ecd084771151d2ca7cd8d20ea27892e29e6984804691a37ed76f5a4b866d95f622148a241528f8160e50673ce8fbb7a793bdbcec84aca30177c089dcd557b5a8cad28bc98719754d4682bdf93d5e132575ff14f30a9e225bf1c3c745aee887495f05fdcbdb62118361fac224312e25bb9700e23fe32fb24defe0d96626d80a559b02a5e9bdcd6fad874aae38ec2540bf7c6ab8294c51025d96500d36f534666cb2906126bfd4186f286d1984b57984b83ee12f53a4dcc45cb1a974a0bb76ec74b80f2ab78767ffdca9c84e5328837770c39a7d6319fa7beb98e11f706ca4309c599e200ebc94ed0112bff57a8f3b06a4981829e556ce9fdd0e6696365c9c9ca735d802717136528e398079b4b7fc5364fa8c1e01bc1f7fca622543385df4ec5f6ec1cdaed9dfa13bd72d47d7a12b89b9dbed24b1eb7d7c6f413a16427d9db4b8a63cfc1c152e3e90130ccfd9f949f49e053d835857ade4da20b1e1d974f2d0c49d49a9d40c45395863fbd83323002482c1b8f3962cc3e4625af1d570c8bd9c8738cb86e9054460c6cced030581956ce3ac193ddb0b61318e02ab08a7db3b4d41d1c317d00169d1cc62630e87722e60c230d3735c9c23a19a4a88df2af14d5d29a8c1f4951baceacb486dabab24255dec4d9fcc9f962f8259e908069063832ae618724ee3ffede53d2cddb8426deb8b0e201b465342bdac6e0e12460d26bc072eeaf84fe97614e5ed26fcbd90669f183087d4b7c2625abe4f22c39d74dd9b71c3bd0358c090a74849d5e0c223cec61222274e85edb6891a4a48a32d1f98bcf22a75f93a451b4696bea32f94bbda019ce6671631ba4c1a06efb35f9cf061ff81d16a733fd719c6bed4f4d52d60391cfc04d3e82ea34e287ea172687b564c9abb3c868be7378fbce0734549d4b3eeb4cfea4a275168b5ce82e3a51e7b3fcb88db0e6e692cb5a5559baef4de464e19cc836b4996e1a33417e7ccb651d1b53cdba9ccd8205e255bb9e12ac16b36b061d1155a7e68f1f3551bfddc15c34207463e23de44218d5a6d732a2ff0e4ff1710a06f5533e6e7ef2859c38e4e34187d6431f3de61c95a71f3e8135334f920d71de9354fde0f05a4b430a7bf0c6d110156b0e48047075a2b84a2f24bb2f2624b8d51abeeb5706a8aee418af9f89792e6cc62f25d4461778073c1500ba4f0000d1254d46db5c501a41d654d50cce18041eef4ea4e77f5fdc5486dafff1a29df6d22d7718675587d7f556224d394a4d35f02abdbf63723ec4e68ccf53ad95f9d16a27a1fb9d9e729c971e9c09c54d90320d3d8d15eb9f09da0952438c24f00e7f724821acd0b014c57e32ef9ee2cb6655206b7819eecfd7063ce7c5f02a0a0201ea5e62ccf1aca98493f7acfbcf5a12481fdef6893e179a322b310c351e79758e8cfc8a9b0acd5e83f95cdef28cdabacaf6a283f1685018b80fdb51a1e5bbc4e253cf88bcaf4c20ee81f63acf900ae5f693da0c302fedb6f472a9a85548197d7cbf17a3197a74101fceb97a2a81379f7e120c3778d3671c2d2757d6593c38095eb2b6e139b0b132ee841ee1deaa1199dc2b209d9d5810f826782482c331c05a8208266b3429cdac6f430c7d753c6a4d89bc9008793a099ac5e0a5706a14e30d59d6f1bd85e1d400d043d7528f8009f3bee9dca250e7f2e51e1d221d0aa548e49593f5f8f680ee0332eabe3618694ff3f80e9f4092147acca2ad0decaf78b699f75c1d46598c98f187032a9ca8123b52d3b81a1f1571dbfc1f33f9ebcf2041e95efbade5cd734278868dcfc16ec49b9b272d196d3527ca35a2017ffbf125a851d3835ae0d472ce4a2d5206b7691fd39944a06c1d837c9c272d97de20439fef4299fc026e4e1caeb78eaf73432e535c3f846faa754d4ed578345d9df95584a6261f14f8cabecbd748d0eb4458256b4bf9868f2b1b7722bfb473e1582d667661cf4cddb3d476546e1af79433f83925e95c8065a4e54059502a7abfa40cd53a475fa1d90c93bfc4d7823018dafa1c485389f67e57b09c5547abcba4ffb1634b0933b81233ec2a1e98141cd8f9456322413d6a3006db44f973be5972fd530c81c4201d5a07e61bc8d1cb91c594fa8f9ced49c30ee243f5c18a0883da52eacca4b5d2cc39d1061a8ff439d5ebba5ed039c1eeffa40e0ec1b197b78f837b022cd986822d3eb645426130908ee57ce763dade872cd3e1873201b1fe615eab77bed64795d77cf589da3fdb48a2973367e9a77a99c3c27f10159fcb1d81c04a046b7b849e78b8dec2a51e539f0e9f620cb5f3e4b41ee2d29d9df0413df064d30bd32ddd54606ccba60522348d956aaaadaffc4671ed595c5a690dcd43b28bc8e55432517b2946275ab6740dd9db6a2ba7b18603cb06f3298df5a7c4a97433b5c6f3375b59def7e3e7a09efed7e11307a1087d4ff3eaf649dc53f1576e9709804b54d73efb11dd02f96ab97c4518e90782e1b5f9622bad675d5bbcc9a32b59866928c8fe352800dbb757552578c58399a3e9bf5e49a815e1f4959da72aa6ba47ab28c4d06ea553909fe09419be8588971242e0fcf8ab996fcda07f9fb7e9f21b02278bf82c774fbf4b92e7fd055631b6e9e5bd576f30154c9b07529e6daddfe3ae45f09c2d8df495b06460f6e11c2fb4c729a6fa3f06e1b48f5b65d9a27455eb15f67ad7e9fc8d201a823822489d6178ff7068d598ef4465dc97cff29d9218fe71e678da5648948f2bd24831b37e70fa645fae050d7bd61d3ed3df77ef1efe44d8737bb1c419c828c88b27909ef5872f05de072f3f1260f02dc6632a01442fbcbcd0151e7680778f57499553fdb23a9cee07a2c58ffa68f9587055f21cac103d6bf0a82b2b1934061164a3ec139b27e33b2cc02e52eb718b51bc461b63e38a7a6cb2b43a6de87171f5697cefb6ae7e467765990cd3ca62cea754f2112eb4356075762ca5fe16b239c56cda5ef0ad12367ba10c4dc03b5268920124f0e6786032773a574ce6ee6102d608dd5ae074d2b2498d656428c3acff1da8733cc9edefbeac50f40bb2b0084f3534ac2cc272af1fde2c900a664f9d818c2137e5f843c703a1a1a7da9cbe209fd703184c3bd1553577ad08c6f5ced096d2b03e22fe0c881ae4eb011c0c3c38661edc945663b02c5f09fdb9d8157a77929b9262270680148c6d9fd3bad2c7749ba4ed1f694810db61131d7918828a92eee3500ddbac6471d29c1118288d653fa63d7341755163293c30df392d6a9985963fceaf64be09c432148de9ec89131240075a306d85a3d4388567044d1a0af4412ea98206ecab43e8bfb4a825deea79ffdfc987322b65f016926a2b5b06093f0d82731d2badb9ac731936554ffaf89a28b7931a2613bec7af740f2088e2b5021c8892349426f71f8b2355828269d08dfebf8cf9b01b5e42b4ebb435e7114925b7f2e9c843fcb3f12193802f8d4b7f61e52e903164e60c3e7610ff324427a6ea3b84c90302992d07e9208b851284d22a9bbb27b78a1bf240af479932e7c81c2f17498715215b897a9593dc9b033de5aa5b1fbf738e8d08a64f621baa4eca38f3839ff556a502bdcba8755d380bcff95ee8afecffb189706e055894fee8c91e80e595211c600ba10694f376e86037c300d608ed4814335b5fadf807d94b217bee4104ff76ddc5912cc76ffe13ae620a6d91c77952601ba54fbc4f31d043dfabfe020079c056ce75a0f6d21abdafdf7923fd0f6af8894451ab127db4bc493fc0526d98e20ff9b77502a8766cbba77a6683b711cea230cb5450124da8a03ae0934cce20bbfc6dbcf602b428acca4cd350bf21229e8631e6bae1da23b055eaac588bdece76ae69b0e8e7feaafd801bf8a26ef45022fc17e3f036859cff6d32275c7dc1ea262c9fc6b1c6237ae39b8ba0732a02d2c23e1da5d4b0675dc3442217f64fde3adb640f4b8b4a7ee2ed4a952547a737e3f0710d049d56c12bc6edbf55f361daa9e8e34e9a1b3f4f9ea9a42f9a2da291ed041b72f4706a69014ea8d9612e75ec812a13d262f2e7cc1b1e92cc161be87c26b53e1404cbc4541d90a567efc4a85bb6f2e1f8178c6e1fcdb7b447ce685aab85147ca7d88d436d2ec692ce0a231563a7659f454e169d5bd0c51310a831de762ccdd612f5988f0bc2613555ed48deebe23f44ade55ff1c5f058972d41f92ff8228c0f6d08bdce2815604c43eb8700569bd2809108cfb6884cd401a8c46700d357c57a1eeadd61b2b836d448a5a6482875907eea2f8246f64a67db0d9b8f5bd8ffd09c629392faa75913bb969482e1fc091d7852039d031bd67921e17f52cc628f6748f4cdec3dd5aefa8281be2d98068393f1aaf5cfc3741fc6aadfa79a36ab71c1b8c313f0a696d6d89a9df2cf906d84a0ce97def855620e9aae48f06f8f87c0c3326017be7da8f314764e307956175619ceeb48995ab698275520adb42d4f3070ae7021b95f062fcd5779e2533055340b9dfd832a3bc67662876c49cee3d4c9a045567c6b2db6367d07f1a050830ff70f63fa5247235f81d169b1f963a3a4f17ac523dca8941b39d8325db33dc773fc0fa99674afa78b857cde0e11a4ffbc8341899279fd701523fbd26c352d1662144870235943e98c9af37c26ae1e2a489893eb54c48e9d34f03e9646820e5c7f1d802efc3918d5350573bf8aec449341e2bb5bebfc15f1d75eed8ec67f508b510c0d8d61152d551b5f3bf084f9e7c150085d2b3e265411dacd4267af813ca421d050c78a62036c093cd638c05fffe8706f10b99d7b61e8c071fd437718d8764285768cb3f85cabaefaf7eb2720752cc8c468326490cc4e27c3deeb782c42c92a748d623f60ad8021f0bf83d3590f19699c90373bd7327b70adb5dcd1fed102da8200d29e39a49969d28be9facfeb0d4d8d1a430e3277e62a9960870ee7251ee36b24f309d78feeda1feeb85dc84bd042a523026969ba6638f600df7dfc588ef9970854edb5d0f9443ca55b548b896ead5c5d0ee07f68f7b05aefc74c77f83eba53c9a97730a6fbc952f86d4023b95473acef8a86f6c74d49047e7c20a1ac708e05f0d3743822bd58473203c5e4f731a2ea3297df0120a90b15609ccb6ab7ad15b30e6a5f773fb5a0e443d0f83275f8ebda0a1311725d92210eb950ed168e05920f63c9615e8af8c1b51c84d1e604651fffb4a85a520949cadae9eead9e32f333f367c783366eb7b49f45cf871bad532f5998d5f885386903c5d6fbb71844ef373ceeb06bf7b1debe96f60d10fe2be56bcd98a2c5ffeb0a3ec7014479300ec716c5862a55d41a9d1115c6c366a4e413ae09546a03bc193dc9c87ab0f4281dfec479a4067d2aee7578769082afe3ad769bf0ce0c95decebbb2b3f88ee3e31f8d1d10384acfa44ad02962360e6d7e2f86e39edf0c641a76123e47941416170abd3c8c12f81bdd919bccc88131e44002cf46d2d7351e21896a8170ebc033beb98544ab50c1825240da0b040eca00c2cbcb88ea65058a4f565a99446a695dba1dde67facf3b3b7f6fa487255c8012aafaa9120d31c663f5298e8247dc7ad6194a720ee527ebc502199c061eded887a4c5d4fdc6d08a4c6f65a9d11c91f38b47d6cdecc8c57221756d241b887df6cd30f92e5a629ab9367f5ad1ab8cb764c11d5dd4b707d9d38a7aba30bb5d2b12f05a84711fab51d716457f084c56c275efd6594e89f075ede6c299427646d96c614c6b64f3917161948263126ac13f3efe02637e51ea21fda17685e08f4141b967a3f1aa54c69ea7d6f5fe2baf54dca76f32c9d4105f7a61809863e36f328b127bd8366d67f7d0035a020b8146e85c44f7949112454fc44298b351a2964f964eae7d578d091fae93ea09d4e3d3ec64a25d7e11e1620c8516545fcf03bab94bf11f6936583cbd6c5a1124baf5be50de56fedbc1e3c418181685b293a549efa29f6c73e8353dff9e1dbe0529b4e073a9536cb1575a8266678668b4129d3d7427c51f49cdde6067cfa2e891aaea56c025cd166d66ca84c2bffba734e30b0cad8abda596f76285d24f4034d397205ba841f8bc99bdb4eca24d93a7f49abf107de8373599832ddcbb81b3de2436829dcbf7ce12511ae45138e0c2134ba7cd40b1e662333990d506746f3551e901d218bda8c7c49360ede5c36bb3e6a45b721796b7cda9fbe6c04a0d31156e2208b6c2f38dc39507b41079a2ae6069f230a8ac0181587b064c5695c64d1e3a2ec2dffe2818bb1aa8139adf08f65298f585bfcedae4d2a644cb0c94daaefa3e67c36be0688004bf1988c1aa8304cdbcbee24ede50bad8645a8b9299b16d311ba0e0c1b40396a4367a2f0fd464066e84ba24685e7df1c483880f701279f9220b6177701aad4283d57c528d7abb8090bfcdf21850352934ac409bb437bdff7234f7ec666a627e841900fa92ac48400f3618356b58f4987e151b12d9012b95780941508320c98f0ca7e6acff96d2d8a04ffab8fa3f1118b73182439a2586721fb2eca9459e1ead367225889153d49a66bb1c83282feb8c57ea73274b55547b740ec1b831169f59aae5dc74e7d36858d91b7af13475443658c9990a8a4d83b47adf59555ebaf2250c16c95108ef240e1460537a5159622cf93610bfe65e173ac7f9eb95fcd9855874711c6bf31c2821d795d8f47b8c59e1fa5892af95b39cd22bb84ad1c655dd2fc9c8f3c349c287e86a91df8165aa1c2e4eaf5163c716a5b2437e8ebd6b2ccdbad864e5b08ca542d99105b8592f9b0b25b52b2ff2b660f64cd809468af12daee28689db97941ed6822cf4997b6ee945e528bf3cae44ec6c3d2e7e0d4d331e849139be9a3ecd1b16c8caf674a0726d413073bc192b4b9806d29250dc997bfce5d71e6d4c0787b015dbaae8e39ab78a39decb5a4852200817c2aacde05b34d0e479ecb1d26b62392020ba8c71c1717c112603a24c19c596be2674fb8577a6e8d4b4de68026642a449f6e7eba5ea3ea5f0bd24b4dabefcbbe275be01158b0ff035161191e56718fbb863ed506f0a342c80df7a22ff7eb2768e25fedd484ec302632129b4b54696ea0b1a6b03795f4013b354efc96ae5374c3d6deace37ea869c41e2e65819efd7ae8f17e988e2bb614c370a8eab5675f8cac14b1483bd5f83ea2896013124d8c34c147bd2ebfa8b96a869f81e94e7a872c9a3c9dd5d7000609721014e037f123744aff62e10e747e6bc31d3ea7cd4c20249f87e84726272e4197f517e6ca0461dc492ab9f51750d00b7ee69919796f7b6d149b541642e1bc5880113b0e0b16c06f2d368360ee3cd6401d27efbd069b90e37d0ac024a0fee2d353afb9646489ea48f7b84b3b5699adf538d1b4e45f4fb5f39679f99ba046868d697ef6e9f6d7588bd4a0cd405c725ea4e3a429c7e17e046b8f205044cfa28ce8636a87da337a7dc2c009236dd79d02311e26f98a65096a25a1c035356bd95629da772cf50ec7739566c027f310131924ca4e2635f9a839733a6ecf24c44a5ac675e80095152a6a7266b823116498a93c48b32cda62b2ec33e2f751c39dd43f3d8897d9bf924fd621adb334b3fd025f7df4a9d114c99f4573afe50b59a75cc22159b07512cde58ecc39a0358e3145e987a1d6433668748f922318df16ed28a0de8baa2bcfbed198d6ac55f8bca4da0e399345c38a11e0143246bbb48ff0a71ba3ef5593bee22cfa9e520ebfd32496b9ff2c52fa8f0fc84e2467b7d6b18d27c1ef8b7717b6f15f6db499027d37e095e727ade2a569f0c201ca775b34b126adac0003d6fa071eaa6e1732e45e2d9de039fa439779233dfae6222d7d0fc3f0cadf3b547772baa377311c4c2bcb473773c9976254f926f9cff2f479207591747f586c6c61390db39c0833f8921048bbf84bbcc8a8e2ce9b0e96b9e17278faf053159b1860be9df9bb13b1e7213732b704fb61cab525c0c3fc3eeedf02b7bb0fce9764df7123a76e180905012bcd5302fb4e6568ef28f090aa6dfe4df0e512c9eceff5307eb10f00794c8e2c94489d2ced9f333b466c0a882eb029e2f772e33a63dc9988a1ce1fa0e097a7194f8de49a4af6408f688fc27364e7ef7e216bda0b6d3df1322cff63af3308a00c8df2376813bfe6927b00adb85ed8253d0077beda677befe93339b3efaf7ad5f50e379201b6dc0ec3fcd887048e73ecfd60322d3482f50a141340ed5e02befbd2db837a3c7cbeea858ba66b1a5f39a14e608fcb95af3f14e313fbd3146d60e9ad1856e89f6b42057c8df21ec82ad6847d6912dddbf6b5c20fbda028fe08e3a59f16a2cdfbd5c294fd660ade47e04da64c5a6e91b3b016287f55a9aa60301fdec4fafc8e86001b3e5aa3037469fdb9c472e24c5c9a958cb73198cf4709f70e2921244b51ec7161cd3914cafd50c2949c8828f3443e0d3ce8867f6beae5662a38814a7e72f670a4d8307088f549f993543b1ee0a9a325ffeec184c89cab7c25db40ae1ee29f3e3f3e66ae105ece2563f3dc7c1989ba7caf27c04521fa790176a526e57a5f4dfa26dce53669818c13bee55d84b8e052277ed5ba0c9339b8a54e13ff7810114dfa5d7ad01b5f9467eb5371e9a39a5c900381088dc067ebbf9b8383468dbaf4370ee5430aa361ec4ec529b28b5158fcb32f7870d9c597b8e8fee142d9a58440d253a5ac147a3e435ff18fd763bbfb4c7f2eda3425aae22ec77122ef7d4442976f59e5ecde7241248170356642d985db23b75c45ff63fc82fa6096ef0efb320bc8fe40ac80477af962f62094007a9e35ad5fb8a30ed94d61a2bbbd0174d1cb5bf0d8be7885b02e45f9daec85998a03246d20d38c7d1e00068fbb87453b9b7c43cfa58e9d7aeea2c709451147afa0e5fd40b5921b84e96ed327634e2c3486f0d699e26193c85138266a656a0c1f8502f4835c455a12d46b05f0f146d1499dd2ba82a0f898ecfecc9722a68521925fd1842c88beb6c8a85ab0e26051a10694ae65f27f186b027b1280e6e03bf6405fd1ccf0d329f3ec9bd3e13ddb129f8b75ee031f8730633140e9e0dcfa5db81b44385fe53c976502fcef5c8c35ff4d6bc412300e2d030aadff00937cac6e37c8c98a13a4d7d7860f2e780e7d15aafc508a3fa757f46b4be5c718d36ff65e841ff6a0d9bed0222f8225be7156f607c8587eb2f0cb75f5e8e3e2fbc07931ba068a5c9037c91537ee0ee7ac9b404a16a97f83216aa89e0769ba80380935ec5d088d0811812b262592d3ecb5aa3e0d48401fec323786a42d4b8c3ad84edfd28df7ad5e9a004bd36df91f9a38d548a478fd76d1ccd19d705299cf38b0d8672038903271afe7b8e90303ebc33cafec02de102ea07bb8dbce1aa0c4284920c39787b51caf57b4083afb105f0571cd5807a8f49e605a341144c538be4dc20d5266ea24cab4889472eb36a70868f93f034a32c36942fe16a1864984956e29274f1f056f2cc04b924f54763de82ac1351371863461cb1763d75194dda6f419131c42476e25245cef1a6f56ff429c75146f6f020d9274e510e40a64e49ca5057fbb327ff2ace6f0e536f411bf91890230040d5bcf71a911b85f045d8e09753500b4bc651f05e84a86098da9ead4689f20fa390b9a2ab266e45de53168f1fd30fbace1a126f4f20145f0012ed502b4ead43f8bb22655d0ca3bab9eb2bf8fb45fde6960cc5c086d6cf5c3a2194ddc9a1e8c99e39e30d58ca50ad33a4986308661fc561797bd4f950d4af073eb2ea9d74e4f734639d55bb54143650b46c38ef34f72ef30c2c041f45be2a923be07dce9631b066b0eeb2e516b9a5145777dd0e35424dcceb9dbccc121e1c9ce1dcd4667061312c77b70c016a3c14e31db916ce7aa7bab1e55c7cbbd9c64aa898a74d1512469cd7ff665186df85ea574f29745476c4315c74cce75285425361e237f617afcf80a78dbedb12c1adfb0530fc23b095414efb3a9faded906c39bf9a8b4948053558b73d96dfa6348702adbef4518d4e9d799fbcf5ecf5058ad867afa9d52ed338b98ca477c4e7384069e7a4c6ecc2b67fef2b015b18ed51cee20d30d4cb92f42684ab8b961053d1e921eb0e91270fec0ea76f6f5c63be46b677f74f2022604cd420214f60f7a537350a34e22408e8c8e4dbdc8adb6691282e2686a9064c9c654b761a5b76b40472ef354c57217b79c8fe00fa3bde6d403209613f8794b6baba1e188c9746713bc7791293627d9ef8aab717d95b919ccdcb0aa5b3d95c0070d578fa1da2fb1f1d5742e1fb2117d492bc24eb88e26720cce50b5fa01bc80b9b2159e0fdc116b0d3052e1abdb110cc37c388655df4e192586c465295d264b45b6964ec49408d2fc7dc69aed741b038a0e0ff069598df0b7722c67c56f1a4d326a6bd0a1148d5d69805c8f697de20c62f5b32db11e525e2e6d66fc1be58d142b23c4ea5b3083d5447ab6dcae0a7a2ea8b96bca6b379ffc53a955a0f87bf29973e659cbb5b7bf44af7edc427e175d5c4140f8855dd9e74b931ee820b85a99e69a2183b9bf8c9676442446c1cf8c6c9041be99e138f9777524bb68981a32f5e76aabf5929796baf4bad51f70d4a0024e7b21fff99ebde5aa2b98cdf30518f4dbbb057ff8ecfa3d86020ca3a717a67690add71ec8becb0e8c92be4d14e8d1ecab7b6daf249956be2c7b6a33ef6d8621ccc85e56809f2953d009ac0ed2ef737de78da18d1d391669228f83e9666e9c3f0b47d8a1a117773deedd2f8517e56868f5ad2291f1abb6820eb6bf664ef972ea95175680e22fcee75c6f58f43528c670c8ab0d7ded1409c6e39e983ba86ac304ba0fdfd6b470a25f892ed7945a76aea91bac0c181657c89ec7bfd52d5a189bb97a7cc3b1f7734581bdbd617cb525c6d376af72a37fc060b95e4c4e13fa442d8bbc142fc0ae2cec825ee39ad463545852243d9b08fce880d343f7b4d2e74e9b86d28a4bcc7c79906719e48c2cd394494060a70987ab6579448254e7301ca13b5f5dbc1cf882e0b6b1ff1501aff411c88d0dd425a0697657d396d38363ffcebe35a5a539df398fae5de87c4b197a3ab729a465dbceb64dd4232d1c2d41d9f9f1d81d5376450e9d3a102e76f00d124745247003f3a1834e72ac0ba80f5c100403701119aeaa48c634cc5d23ac02e7859de769463658bd1a8e184c4bc5cd7ad969a4f8173526a2f2c4e765c06cd35bc662c2eb3f1fd636b5a89b96e3119026d95d09849342c7d4e4f19207872bb611945ebdd112cd413e4ed9491fdb0d7d6577a04aad1378daded0834b22697601d50cfca24d78cfda509b3e1925b8401f101133e91b4ae1f360d4bd818cdb92e1b06f603d9a005c0068f4c76e9030004d865d2b7715cb20e6b983e55e519dea85cace161fca8606a388dd4310cbe80b748836ce3bbb90a0ba50fc1a9c8eea8ffa67c25184b17c9ec1af456957c8609f7fdca2ba9e0c702ec56b655771e909bd369d83c0507cae20c732fe533da6283ec19b32a0e7c7142b55c02752626ec8bf4bb6b6c80422dd320996f9a5d7a0669cdb1834b0856b9f44c33168482f410f33f6ffdbc7c4d283105baa8fa44572318ce2344180283969b6cee94762736f7c9053a659fbdb1bca8c136c94ca69564eac2a07a54865691017732125a23de08ca06269dbf428554db06d354515f0ea7e32c1505b60a44e77bd730fc9b68cb9a4ad83891e3b87bdcb950bb415ff2eaa81af028f1870ea4c34795a75fd37a7968f2d3bf933f84f51afb7a2f51d70b815762a19e0100507a2b973b6f0b97e68ed3ce5fcf42b6decf724a8c82bf14ee2d69f8447867b58ecef1bf674a762ddc2ddd655267b2ee8dd08e294f7d7a9b657a791d8b06064b7d82bd6999c028b0b84d4cf63dafab98b9dc18c9a91b197b0957c53bc2ff2b4875a84e775ee05ebbffff5c42ddb1d43cc1d69100f71bc0e001f95f0dcdf6e03ef733c87bf1efbdbe073f19fcc8263ac705cbc6a9c6ad605125cd4d5f9ea0aa04c6d0a779c6ab015f1e5344a5d2db3fc7c4d65b08de81ff5e5649efbd135fa16b60c2df9f7cd09c9f1470d2e8daa3d67ca992f37b405690b66d78a731aa4412d3e306421ca3426df6e2ae3bfbfbe993967f4d930fe44f898e57b048e244d62b3366586529097a0b33211756f897c4f1aea874ec97a33a214f759078ca8e7d9cd76bba7afbb9221ac997ec74646451205b0042d4c823b1243f1249c01c2f07cc084b42447991b8ffd45f0ae221dca0f64896aabc1b3b8d60571693d9512ef17e3267e9f1b545e677a1a5b55da4b11f13c265b4dceb507bad639dadc5a3da0eac9207d4f34752c65ae0ee26eabaa98db07fa915e8d74aa2e893e052fabbcf045ab95dc4adebe198cb74c37467dbe563142c9f9d62d0a6eb26037189c1cdbf0c87e918ba70b7117631bf0f22c4b14aa6f33b35bdd3004bd6287d7525ed4d1cdc72597b614155b58ebe2b4f0a013993d94075aa7992c7c2c6114d08246d62dfc90d1489aa7db08c7abcbe36200db449d659af89950fbcdb135810d04850b77674dedb5cbf939d8550808158e63f92504684da443c7a2fa7a41aeb760838173974afad4bb233c7a397a5515da9ffd27aec5c4a74e8a921aa0574a5f5014f26740720ba6dea6cf87f103005b02cfd8576c41f4706e37b6f6ab9cc994f9ece3b79467a490cad92242c37febd0165e63387d6dadef5951807dbc85fb3d1e3c6530d9527c5818562d8dae7effdf5d94ebf801387990d1b404e47dc565c4736bffa36e8d88616b95eaebd7dd3e452924c1d473590126a21f289550c1c9b41e1d816e4baea0d738853620fe00d45a3e9d28fac82ae49d6c15069bf0d32328e15ee00fa62c76e4320c7651d218d0b1bf2f190db351ec9015773f554647cf90dd0a1c5a2aaa15854ba3193333088b0666e40a33898c7859e4a422cd0cd71512a5e57e6624543db0be3221ab04e277979ca5b8f50cffeba6b59806733e6cacf2b122e99872338f9bf2943002fa07f4936f7ff36050f1e51696bd4b60859193459223ac7427e74ca3527fa9675febe74c55312aef93eba544d64b06fefdd6ab72825a1bc6125b528ef3fbcb24894b6cb2dafea876c80bddc87b1a585a25490016a3a2c35b1eeabd653a3f1496af7a6984fb9e34a827684d002a0ad43cc3485e9ca6397ce167f9abcb676371c3b1a72f6c248bea6a5c1b391e75029b0940a54efceb81cd29619917a544ef503439c0897073c8bfbdf101fde5a879c9c1e7b49c448d3ae38360e8cc13d57c01decb99fa1542da17cb28201f149993ab6057a459e0b96b61636802af2ac62e7b4e063e2dd05abfede5f9012131d42bb9b2aa7d96d61d3b7570d94306f83c7e1452c0135c0fabce521a267914e41ca398e5b359770fb3d34ae0b91bcc0d8cb52133e0102ea1d6819316366f2b35d8c75aa06581f7483f25e3ec12f55893826d7e476a988365a8684029f2cc3e2c1931becd04dbb50cd8a2e6a1f11b5c0c86638891cc076b109fc5eda8b35bc7b30bc5c1ef3609f438ddb9de8dff7c52357f73d677067572588305792c9b92e02bb519aa1e4312237dd130e6fb72b2601a6690f201d5dbf941a5e55777b80a005f48fd72ac34e8dd076a2b9565db2aafa9c898d854805a181ba6d86d647ae5fe8615588000697e0d9b97481c2b0105e7cdd3d509a7ddf45763ed398bf93afd993bcde7b6f8f881cc3f42918f8ee66face7f3f66f9eeb67dbb41d3d03028b80dcd12e47037ccbebe186b8fc6ae9ad234839921f445d152926d02b3e25538bc23409761e8503fbb3d7c00b8b880dbe684ef4ba9707891fef84216d284380c79f20c01b21f0a0e4af11432a1302a1972831135fc47883918134fc2d6594800707153af918fcdb65fcc1c0b3413765bcea62d9b4bfcd6c5091eac57b70f36578cfed40efa0a2d63d8cfd9acf1e5a3471ed094b4f86c76748720461a6ed1fec96d5d617c404da8dfe575ada5ee787542ffede99afa335d3ae8e79c301f9f924ac9ae345c8bbd2f580c053bf5f686bfc5ff4d329a858d073fef4d90d053de115762cb21a4457422c2b4793bac6bec7c3afdca4017bee555993484dd3f5441e7a3e70479ea199b810c1a44be39f9827d0828e430cf650d2a1ac62b9f5272f1131870c844d93eb95ee3215791d74615d349ea6132dbae1ad81eed5eabebd0d7fdb7a033b7fabd7e0e73958a9f9caa1f2d40c4d8f5123ea6cb5150cfef42b9fb2a4f777defd32f0e6eb661ed260117cb4659be0566b6e288b59c2114eef9e95911d67acdbbbde39aadcf72fa66c8dc9cfaf4f9a399998727e32704ab34d1ff3b917ff7f3bd7cae6b303028775cd10ca576723c99cccfad6e6b785f700d5eafc3c95e08fa1d15cfcf8b2149ecda01195e0cc8be9e76d623e81c89ab64ed1dd6b4571b1e2866751f1ce9374db8098c924f1bd407a76a3873fdcdbfd6419387a2ccc74908d375be510161b1060dbd7a48afb7c940ce5c3e381ea15b4abbf054383e12372c62312cfe32c52d20184981e83cf441e06e4799724dc69903e139f412bc3fd96516d7240e45a332a1b1c3dcd5a83960081cc8e0d69cbb702965d7efc3c603b733899c051dd40f3240da7dafc7d6f973d2603819dbdde2fbf7525d5e09823324ca02135c20730982b4abf93d5ba69f22b34d87426a6287210fe5026a6a83121fbc4a099464b964866d08dc0feb235a147b9290020694824d5eb59d408bd41d4ec1d055843d76955e55bf7d1910f56e53780ac748e88a1287154615cf964c48d053966d12c4d21ce547e44f350a57f6802a3fc94b9534b5233ade06798403d3b904f7abe9d1f8b3d49d4b5ac26cad8e166129bdd36a03e295aa087682643cf2ea06e26f748488f06790833d5fcb6a2f7362015010a92aa9200f66faa038d936cf6d0a13d44637f0d705bf2ab830cd3bd508d23ea0b0f4340c766af881d96e8f3a00012746c88770196820affa2f8cb9c02dd50a06de9df88a1b676a6e69485f5bca7c59f86c392a4ac3aa484e64c8c547f36a3a440a637d64d5c028700dc8c12a4f6562e327a89c1bbf52b8913e7397fc670259fe35e72a5bf7aca2ae2850c39d29ebf9d2eb9b609b2ba13fd389275f6edff65d784ea125c974f77ac0a3a086cd5b1a114479c3b8bd6f1bf17f86536608773aa8b9b911b4b945b305447c2876764cc2568c0426a17968a49ce12b5fbddaf9c2fbf28c51fd2f769402c5a0a8809396868f8c9997860f133f98606886477f8c3f540a5cfa47de46dbf85610750145a09f3067a396d822ed3332ba12abd7dee0be0681df44f9dfbd964f89a821a56150c4284f13d60b08d23ca1be04b895cf7f7b079938741895ad3e4e0164bd304621243bbb9803645fe1edb730e37499fc7e6892f27597639f15d2d25b724e6d84f892e09c6c5d3d83a9227eec9621339109f0cb2fb05a161b68e8304349b80fee10c072f9876f5b372a77891b53c571395f9f69f8f77b9cef4a609a496e2800908aec3fc24cc2f45673a0c508345e6ca5eaac5cd148bd3ee27b09f3c2bc105db60feee87beedc5487a7a44a731688740aa047056bc54d2053a36e8882b2953933533c9ba33b275d2cde744830f41a6a686925fb2d98db39a3a74a47eefa7794b4869b1a6516c786dce7399cbc1aece5a5e452621280d32a84490eb96c6e8d6514edb33ebd74edd596619b51435195ccd763a2ac37742b1e3c4a7ecd320e98d14f2ad8f78ec5bb5317d5e5dd8ae194936d4ce1be29824803b9a2084f85b3de03f330475fa56381460460e0cd2cef0e0b94cd98b0fc14160254e1d8c65f48c8b5a1f79da4d13167fcd9671c95a1293950f54d23d200c370c40a552925311958f35f76865f6d9e79ef023899c3aae24a072cebf411dd59626365fe2bab533d99328615209872287d4dfc605f1a15f2740233c57a25931549edf37e2f062e59ae1858d02d24c3db240502bec5f62df8d985b73e79d48661566098ab41907ffc766fa397fb2d255a821fd87b588c6e8230ee8928b40e6cc327b5d3e4babb0961817e385f9a33f2699fc6604e17448c739abbbef60e84c5fe12da5e900404a9be8f1410d6d117153a49de5fef5c38a7813c2a81ce93a7e5a34b560ca310f4d3bd7c388e9e8202af0473e62429fd9a3cd7995f40a4e395ae7e4129ab8efd06541a13fd719fc18f6d7b357f1cbe0544f27f5f1c397e0400f8616fc6c358350b508a1679a73d1110755bbe6e1ff803e6b337cf81a0d8c5951da492415caec7d6f32e4c46c3dbc7d4e1defe7f187d5a2186dd3e76caef4981da7e8cfde62cf2167a1c1abb53abfc1d1371f04c611d6496d91a0f9ddc472574313f1c187f3c53a57f4a924c4e020ae9d1b5b4ff18f3a178bdbb507d2af50d300172e1eb88705ad8824b2ecf750921fc68233542371795aee96adb19cc16a3fe1f6d859fdfe6bed07cca5621fa1b799697feeeac440bc8f5864e3b3553cfa8154166eab8f62f38feadadec5fda9d5014a6262ff2615cfee51a10630bb0b7daf22b730e99cf1946052b7aaaa213f5242691620e834dfb6c1907e86ed4b389beaf3f3b26c511d2b356cbc511e5c1f213b3e21f00f228e4d41074cf8bbd5569de7e7326024849501b39c02e10c2204eb2f7353b11073ba8d40c38ec2e479707086a9ec2545ff60da761cae348f6c73107d0b16c2a6cee79760f77aabe4a9335055f1ad3fce98931a15fa6ed91b3e8c5970f939c0d1bb68bcc46359e39c4b36ba8f8dff2010112159ee26bfa6d4aceb99a96aad83c17f5540989859210c5f79c84f6e0fb0b15325ea17984e98424fa3f350b9740e700542604e7d28d8e34ce985dccb66e2950933deea0b34eee984cbf4af3f04ba1a59ef06041ddee659be65b383fa0020a3447f2eb2ac0d97e6609c340d87ca49fcb934aefc59ec30ef5c0943b290cb4295e069c942ce88f03b16e57c58a871865c69c05e08675dffe0d3d773912b198fd6916798c09ffb016263a94f2d66acbdb17fea1b91f17fe74961cdc6793ee6b2957bb32cca38b9c7250866c7096dec004bced63414fbfb8bbcccb50b913bbd1dac41eea9a7ccc08b5469da30f99e915416a30cc62ddd53c4cafb721e5e2a53983b85123ebcb53978478a8a30e8be5f8f5e76c6bb652ba0c6ebb26e97d0f8bd5cbbd5674d66c4ee00f981a2a398742cad46ff37003d05600a2468028f81c3c626de028dcef089af21dcb81b313c80354b29ca4ea9ed0f1dbc434be09d2e8037fae6849dd60db159455b9c92171abd920509be26740089dc72036ee168ae8ba178b0ea58de9e9263fea57cfcfec6f67272a7ef3a3b163f0877f7c1a0da678137c5af1eaac01772f390222b22e98a66e8e37cfc29c66e8dba011799a5f82d7da9f5c2fded806d18df9d9cc4eef778f71e21d47cdbe9597f5c9bcb6342a49606af082211522e1fbfc7f1375bf56033fee38af5f23f7b40aff88bbadd952e672bfb5efceb34fb85f7d09575049f9dbec480c4f14f10d909ca7576e1f96fdd2da612a69e9447a0d1814ae7ce527d0228e9c4fc8397344035c956ea02fd44273f3f4b2acb846d7be0718d0b5a8a39182256290e64a5a22f82e081c0b80c1dfdf2c329c953e6b6be8b8c691948dcea6c3ca6503ae07e660bd077c97ae0818b1d4a56c8aab6a70be1605757cc53ed44f271cd800d9417248c6bbfb47f45e97e52c528ebe2654077ec5f15e289c889ab3ff754eaa9392a4e19070f8bc23a722b64d399f8a688f78ae90971d621aea5c20509d93e9ab7f58ffd01b1a6b5dc22aecd06a11e2b8b87c2c5ff701d394d3ea47292f6ed2c33523dcf3905d26745b36f0179c2c89eea1d14a1daae8b53e35d678bf2e9d20da2b89fb44cd11dc4ed04f05b79a9b56396e0a6f2c6ea80e1c2c0c292aea798e24f9f544d62cf197ac9c27e8de1e76aabd591b1d478fde991865632caf41046ccdd762b4e74fde0027994cd9aeabe3f1c46e8e1745afeb2016aa6c42ba22fc00c7233967a423f0ca632fe7254ae9c728a16cc640d923a8032e","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"8ad42f67d37458a3fa2f7ff44d240a57"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
