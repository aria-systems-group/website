<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3f76a918f7db17a969359edcfbd4a57a1bdfcd1a4d17d562405e866f198ae0b7add59f8970aee15603734f1dc0dbd70597ed51c3bfd43d2486107116535a3174447338227dfae0c93b4e3d38fc63c05aea8ba3d8bd063c7c5cb499fc698e0ac6b1faa6d0389e467029c2ec640b9385321c4631ff715b17b7a11157384c5ee3f884bbc3caf0bb5b298e194fb18766ffb94ec5e531bd26fb0dad19463e89043a2a02b83b125543cc9acb9bcb3c825e1535815a73b02cc9b3aab2cc6a49ff510f80c9c18631443d7253d1076aee18700c408a312579e09f52af0aac3c00bcaa8ff8abeca8648c936a21659eb70079f7965ef707b67eb5cc0bde4249ad8c0aab5459913da04e0d5447a5665fc4c47da3bdd319ef48df74da602375ac0cb62b31e0e01b8ba08ac8a13093bf622704c557bb373d4269b87d7fbf89709defc2e767a9af92a3b49143a40fd1db2844e7e36624f07444f8052c12ad4dc68ce0261ae9f9cf20b9b4d8db4281c434f58e913e7ba1b9ebc95c6b28eb0c12ddd6bb931dd5870994652de8997879c593e4374c622dc76a0fe7dc520490841264ebefcc78e13a15e9af1757e6258819e7b1b0d2cea1ea03a3bf829e82bdd4230363881fa55d7961a9ad6bcf7a5e7e6b3a6a431ebc187a915db599b94c701750cdf2eeada89e3cf1a932b9608c1d3cb73eaf31ee20be6fb4bf179c2cd2667f8463382224dce80643a8ccc191f4bdc7cc8392111dae258eed586fc8bf6cbf005ee394658d43fcdf22c2f64f85223f0453d152b58d174cdce07a1734ee460d00a6f3364314268cf9668b68988c77ce46fa38ed3d5dd693fb7bd8bc99cd7af922f7e228f7a91b73d8b81bf3a3586c728e42d04ae4f51349656546121087b138a8700e986e269711d670642967983dc6bc4cc88cbaca76d62a7ef97782973fc6a80410303692cab55698444e48cc9d0e03ff7c405ad56b8bb0bad2fb4f6c5a5c525cb141eeaaf66a5feb9c7237386d6547a3aaff88e064372aa3408577b5d690f38b9c0f6364d3bba56166e10ae9b3a6973f22c594e46091ad137c2d5b736e20153e0c01ebd0e3c22dc8c40062bc89ccee26bcaeb1da52553e7df5afec3e31bdaa758659d8a1d4ca291c9f379904012d74aa47456d73b0372167bddb91e40f572326a932992cbc86f037de633ae3358a33ca85584c1f051b8e2697d060bfae21668d0514a48e760d8cb97b1d10a85bad14dc2d268e32121df1696ed4d498aec2ed6089873a67939392902e3805ea34bbaefcb22da84d822ada40a645f1f49a8e54c87d8ed0891faab7585ce791ce9dddba3c8d78c6c5e7f53ca09cc8e0bc8b3b0ab1fb9440acb4fcefefff3fcaccec2f64b7e4adf5a3a40ad52db43a0a21f0d99e5281a5fbf1caeef82b1990125571559eac57779ec1fc3ba8aaeb6ec76b16c7abe8b446d2037601452c25147c30038fc82d08abdd05a509f757ca8d6ceb1a13df833fce2f74dd698f18712a97ecde824916ee4aed41c409c67463510a4791f0705ab55861a2393868fd63eca3810689b9256f1f1b0fa69804d1e5e6d9a6fb3eed891061a17d2827d5975b64f0e210fa981d85d8b5251a0446dc0b26c48923206681303ba17e5c2d6cd3516e5c7bcca5f9639948e77708cf3d56fe592bd31bc53e04cfe826c157af32976216d2dc7f7eb4cefbb4c136c9dd53f907e0d5ac8fef61a2633eaf79845af7131ac40be2a854316c331cce11f3b748a0002ffc0ffc595eae811d8bf6c66f8fe76b28bca890079b7d238a63cc10bfd88bc8f64170d9aee540d6e7ec4f7c3a7ea648f7f8c20ffdc3e3a6eeba1cb0e516ae23ae9f4ae9e66379755a4075c115f2999633a55edc5e182789ff8bedc79d489a0191e71c521a70871036239349961c94b893d0f38cc1bc7976443e5cc4aba67925d5e6252e735cb8b4361540d4daa8ec7fe15b03e9e95860f69650125a4978838bca856a7acf9eaabce77a60080941342f9e399128da54b288cb633be00556cd3313a997dac3af3a6bf4d98035eb4d094582d94ab556b48264da733a8113c939a1108ea04706b9327735f5d77cc9b8f3c5dadebd7f36646148658dc12f0fd6cc89c8f3de155e37d5f67b1862ad37e4493995eef1efbb44c82dd1dc2f767c7ea920ea6ab18eb1c4860d88b73e86baf00cb428ed78cecf23c7840ba6dda528c93c6456a8edfc416fdb2b246d1a3285e503ca0c6a3ea2e96dd66599180fb0300ad349ab484f2c0d4b99d557685c56e42e8b8f0aec5ad2b13fd01a32ffc73b63a5fd78835bc451f6e8875f825e747f03d966048a8fa34354aa5a5ea742fb54425667d99ea2181318a1a279ecc43ef646d1957fbdaf9545d09c8c394165d755a94f0ba9e9be307e48ffbfc802c3be5c5e839707d09b4caf05daab025c772c8a4c9d71f82332f14a464d1d7c58878d508a9c4ebcd7554bf8d556572306cb6ef973289eed148a259f575896472472797b8ec8e7d515a59130f7cc8b1836124145bf2191878e6d02ee9a436cfb80f802950c3373c0a1eea27258c6a38d3013e1773580657cd38512aac0e39399a4118eeb66a09d83fc22d31e84ff676f6d4f324c001f4f9aaa482a93060ae7107cd06db0fe2a89116381578ffdaf776551c2ad9b292fb94f1070855bb019a3d72edd9ceb704c8b671787471b274cf3061fe4e81e52f5afd7f81758c8fa2f7819a52915fe428b36c8fcf57c98860ec7ff28b7970b49afc815ef8a42ad2131371369de9110f2d5d28351c39b52a8c0597b26c9dbd47e774ea065f38cc9b7c25b6cf5de3a2388a6674fa00892f07fd833cb73b1e5fc67f4114f65cc04bebfcdd93ad4701bcae3b19fc03bfc70692a030236b1d1ddd4faa55957ec65884a10396e8cb39f70121eb3a6d22c10f25e80126997e974c5d52a4431db9b219ce0e91ef2c8f85e0a25225c0dce9b1b43b1cdb2042993c12a8ff7a7b460d5a7ef51150c077925e2e1689df91a19f8a89200f468c4d4a29f296601fb9621424b9b16a7f39d1d287202c35dc16e8237484c1c49d006f87e62c0b3f704a7291f4207cab7e29ba19e7cad37ccd1cc80f49fb28a977be64b0768e4d0d8d90fe4b3fb3f5f95e295acdd01db41bd9d61cade1ed9fb20911bc4d5199bd673a11c530a3949c0e9e30dd01f37ab3482d848a704611745dc229315930cc031053cc9920ad955953bb8727a03a7dba9f1d3e37a8f0345efdfff2a627559b69a44892c9eda9ff7dc0d1d25414b7f2472f5749560d36510124087237b8bb5787f4e2758c138b3d50e1210ac0bc8cbeac8a9713d253e7a123d29748f97f6566ffe83165e8d3deefc50471881432f6e082e9b7fe69806790db425787a8ccd6389c317b0dfa0b8a5097e86f601e3965924dcff8fef5b53a0c904b1bad9fc20375cb0b02fa34a36ab68972611905fe5f85726d78f0cd2aff7e7073b2a3e41bd862b78aca3a76f6274ef2534fa73943b93c8e7583c9e636b33e61b0d744c245de782d40027fd1e4298a55994a6996416453db07f8cb41538beb948b479261e668f6acc2994cf97d94985c4a056417a06bd3c7bcf080ec9a94a27f5316f5de022a06ac1315e473552f4c1e7b90f971c8e51cbb2ea795f5bc28cc180e31aa03c47d4da7bfcf765d98cecad3d56c909d792ba113f5a085e45b5a9c2909f8e8847a58098ae759b1a412a05765237b40722358bdb69eaa81511e68977e588a2bd35944cc9957db8c932eec4af864a7278e4172060e5ec1cbf841437b543aa3bc4696bac6f7b22dd7c0f8ba646fda50d4d695b71df76557863939ed1f507c284c1505dd1b38ad3ba44c330c66ae1d6fce80806ef9c982b9841906ca77136ffbae7008fb138b996109e7d24a9adaa71ec84fc782c576bbd948c29f67ce9159f7c348e75091f0c2e37f7a5d062ec6d185fef838f6793644349ce3e810be7550f496b3822cd7d6c27dd84bca5454063273861cad1a169f076d655b117e64f943315d8a9b0dd35bceb29df8f3b734d45180a54bde7deb0a7fdc83d6d8689a08ed09486a22d47eff3ced1b7f8f4961a2c7e4e57a24f42e85e89e0a5fb9f4bee06434f1ffbb73c72d4f710c2cb36630619b967e32025f6a2118902352b5e6b151826cff7556ac9d4795d3a11cf0692705b838ff75096b4ac4523919503408cf44e6919ecf744409d77b68b33d5c9535c703d29332cfcdebc9d0865ae201e20f5c44c2d0ac8bcefb6c8ed6b985e05efca8da2d479205b9e2b0910f12cc6b56f7e85f7a634927576bcc1776ef9e1ff87b6ef6da41b8e00212a73f9ce352b182c583b6fb9e612ff006ae93640ecc6da7c6b1291dae6692db9fb033631d01d9f2a63c67a81a9af8d9f20308377345f3e97c9cf9ac28cba633077ef01cddb782f39163000498137e5faa6c6b8143fd93725878d740d1efe363a918c2cdd98eb5b9e637780111b26d4b08289c2212a8b1320e8a704308a049ea70e9eb28fe789c28bcfcc5bfc53ccaf1917d47c372361aa7bba817c51c64a66a57a0bcabb5d6c5484a1576f83d43abb6ea4bc6401a439421280885e5e4dfcece1f234243f88f23486a1b62fbfd4029b9b2ed3dbdc65517c51147dd79cefaae66563f3c9786bd76f4361219526b5d17898c3638e04eb5230a309fbbfe2a401ffbc98b8fada4f193538e2e972281b77b87f59aeff9fbac9f064031618b5dc65400428d14a952b1db68556d157221a076f0a04630539d992f60dbf1d55567c7f057c1226fa9a46dc5bd0752527da8ac0a4da855c2a540e5902c1eeaaac2c7f293ccbbff26eebfb3998a37cfc9a98043aa75b7734f114f71ca47b3ffc92b257aa2f43577bb0f4f9f5679ab8e1d92cd21ee307128841ade9a94af40df0035a613d71c85c4c7240788bca441c6b2260afd3d31a2c0af4c556ac88e75ac59cfdeb7e0f2b81d06a337469d794ca785146ed442c7ff728e2f1fb3599781370f78e6348900ee75eec8081f751b6afe80edb9d9b1cee1795cc4326ef734f928689abeb50109aac2fac5b0a0887365b28aeb4562821c3c4d874997313d7dd488ab5e68d3b8ec1074b63ce308ee99bb6338fa63c2a980471137e99a3b5dc8b264c586630dfe8d6122024992702249e39829321bd32c32950de20c7da2f05096fb2e05df6a8a9abda5d4a6b7b20e307fcdb6bfcf53985d8a465b5c83406a145a236a90b0ef9473559aa54ba93e5ce70fbed158830ac4aa0cc528f86ac759a4e8ddbb7f00275576246146a76c74492666267099e463c7afce2e23ca1d637129592d455d551e29efd5f486f4245944ec054e5488edab9f83f1c661b07421770cf77018a928d49015328947142e910d172a93a8111704df8db66bf72d8567ab94ef8b801aa9cb5ae8236c96400162355268d2a2e3d625e71cf649016b12188ac1a4805a8d4cef3e58d37b63535a0c6277fa112c28274825a3c01075a9f870e05d5d8cec095c3720c6bbbf03a969273fd951d5f2f016ddbc4855b113dc139a43271565f31f0efdc7511eb0c7d5e144a44888ef67dad555d77857d2a4ff831afdf4a09533133af08e52e7ab4c8a13cb88af587031383ba4700f0e81334f2aeee17190dca09b160ce9d3d13ace50bef2861474b02a231ec0e16a72bbf38761b3c6f4e6c05a52c7e45967f532c8a4699c8d568f5221ba7144584ce121e479a55f5b4c25640e40173cbb0bed480a735add84477f88e0ce7879a9e3bad52ba1a9a3f3fa07bc16675ac525a6eefb74b16994317076cc434ef01df1d7b3339f117c27bd62558b0b1802e1d715c1bcce0e30d6243a0bcdbde7e5cbbe23e8da5216cebecc2b01bfb47b46d87984cd4d5fab0da1b23ee0a3e32822e9508302d342bf26cfb687c810f200bb8e8991e524b0a87ca8f5f07da0f21c5fec41d3da27a2021f807817043613b86c912b981fd7c314f4a309cb2bd9960c529e0fe28459c5216218e100a1df0227f954523b39fc5eae2939a235acd3c2fddb94d84f248c72988ff564f6cc7d13eeb5c51e5fa813bb247b3b23c175548f809a91c51bbd197d6fc8c56af86c407cd87adec8ccf842a3ea03cac147f77019fd447ad973dea57f196b4aef7e943f9ca75d4748a6fe248c2866d58ee604d2b191e517a59749615a966d9764446a9b29a1f706413cfa4da4bb56a873edb7559dd729b92219fc8adbf668dd1355260059d0a8793ba0040eae700e8dda608e72ffbe52ad0d91e72c9f603d298a4eb3ef3f5a84acf34d2f4afb78dd681ce81055808f79e74e6617a55961275e4e36488ee63b80c5789ef5e0cb9bf559d70c69bb08de7af65dd697cb1c2db3a47462454b1ee03875db193961328202b44c1b0f258bc7a672f29ed148ee21ec4a9cbd3ad13ed9ca1ad5a4cedbc5d612de13d80f77872cab5204a8c168f1519f691dced5b29308d2b7927e3a07c47129fb37d6ad4c8aef1b8afd6475fe240b0d6c7ff93c1a9a9918956370ee409d038810f1e66c98883ec7e8be318e850ede237379188488a02b455ba0483bcf59980fc146dae15ca49cd939bac60c17a531dc00cddb752e57e057e7f9e8cfba078b254acf344ebf5d44e15fbb799c0cec95b318618463117f9c17feeb0659241d08b732333cb6c4b1dd319a1f557e6e09151dfe40bfedaf979edf09c063e9890c3140ba14bfce28828cb475be984f461a5ca726ce46953bef6cd2328ea8df422f95bffba7f8c21611ea8e89c9718965d7fe6d7c6fe5a4f2577b044c55b89b6c81e6c4228d0fd97011beb710f6c907912dda44d618af1a04bc77ce0944dceeea99d878742abc383ea3edddb623a31707bf9b2b1e15a8860dcadf6cab107d2ab9cf73617aa85b247b653537695911d47b1a4f3db97419399fe8ec5af0cd5fca8d9b53f3f8c0564e4617dbe1c8d67e9037c814da3b4f4a994b75498a192876904bbc96d95d7311284e0093cf3c20e21190b6d051232e15ad9399c85b6290455d12a120e3986f8f529f53dbc7fe04b9deedf5b5c2b7dbca95191b7b0a470c49e2c65393d2b99c22dcdbd07ecca4f64583474a30c8ec1f61bbcb7e551215baae03e4e56eac49c2cf65fe824c065c5253a70255c2f81e52416c418ff10b5362e11715b54448e96782144dcec550255d15c5707b7a98cce4b0691f05c80a38cdba50763aa345338c5c283c6121d0862f42517562e0f025463ee81e1974e0a50b71975512f6cfcf4d65a90388416fb8df3461e69b9c37ba8cb524855ad440f7748270263539921cbdfd45ecae6af74321e33fb9d2df1071eabbac40c5b02eb7c6440d6e9979357e1242b7cc723ab1ae4e5e42c1e962875dfb8b1963252e1f61305fb4aa840ce3a4c9949096b60388437c64fc91c3bd2209b1ea8607897f9dfa3be54003df1a61d86dfde336523fa223eeafc60b6e01590dd19db5b2225e68808bcb4acae9d8e0749dd332f14a0b77dcd7fcda15721a71a4494508411c29b076508fa321920bdcf77913fc8a87490e5b93a96f65f90c79a93368946e907085f1e0085916cb6fd6076aadf9a154604870754a7ba132529cdd4131df2ef90fcdbece29726c3c7cba5d87c6d1ed963a39f64f777a4a4ee33d5c4afa41f3ea73dd1701229a1af669ab674e4000577cc5e6b0b2841ec470c89517c292ef804c81acb4d34b03ccb00ff0fefd339566b84bcccbecf0fa39005ad1938ef4dc3a6824d3fde5cb7c914cb4395d7362c2ef48f579a815627330116f19646d535fbd04dc81130d844672add24a84a1094777997d6859535a74ad9d56e5ed8a321f7941f71f00b1d91ed502e10cb04f4bb80f49622d3b1e9b3fcf9b12c9ac70f5c24faf4abea96f21e089d2e6554cf9c7bd21ba8945a4540e4742d0917bea2d263233b8e64c568b27f970cef0c8e7b04f3adcf0d8190b0ba73e037ab11b44d481d98f9baa41d5d4eb1b820ef7be3c0f0322753ce92b422127cc82a7a69963562941109fb5c780ed7cb9af9a1a792d61f98f1bc888cc040668f45f0a03cccedc0a21f56f4626c5f90b8dbe2da31ce6cb20af385b93e489a49c0ccd77cca65c0cef92a84bd333020295fcb597e3cc66a23cdb3b09cacddfebbe5c760ceb8106ef3566146e51408b8f6adebd9aaaf543ef06a1c16dcc188015e23ecd52e91c2bdecd815dad27155518738b80b6ad1928ad7cd2acc2e8236ef1ff321bf97423af9d1db57a671b63900e88449244882d0a09f01a59740a1281566c0f23a8724092827dccad28337053a69f9a51eb6230f96b1ec8f2fa277bc27ff75dd988890ca283aa2ffa4dde1bb4935a5923e2f00093a875cc7385bc0560a3812ac4533f24cbcfc9154593c2900dc5a7104ba61c6eb99e8fac5b614f343175f665b1d81c6228996f25719065882971eff54b053d576f0611d2841e22dbd17ee7dbc0d9d4f071408b88231945f61912a8e4c377f97d50a3c3589c3701a04887e19be8c2735b3e9fb746c4a1f9be0dbcdeb6950f93d40a6eb20ae31350a827da942393fc2bd7cba5ec326550a0bccdd660c82c5da7f3bd156895f2a2234611f9e0b42459184bdc3942e946be6403ccb2c2603177da38cf10da0df841bee5b0ec3d0aa0d9bea6e8764b340de56fa758c72a94192694cd8d95b2721625b585731d97b4900db5fa46578e3210f22811e11ef3eb2cd56c86d3f82c1c4290c759aa92e84f07571c15ff8073ec7ff573e0ea8d701ed398dd5c62fef2edd43ad7801f0a22445cbafb0b68190debbb871818ea621a01a9add203278db9af52473bbdf16c076f8635839562be2f1d5fa0a72f012df25f44b30ee3cd78035d15e318ca59bccbdb0b5f667561687294bc611358e378c74a0be25a22bd2545c674454d0db1d6c5975b2d5e1b4f0a5cdacbf6f86610bbc1d2f4ef2f4a287dd0ab312613911cda2e662dca11896093a5aef8d07d15ecfc3d2a0cd386576c6cc3c0fb8e456b3667192cf12c7009bca281794b33d4efd299c6c12e2507db99037f48af29e19e6e20268c185d19127e2335fab95fe62feb958035be4a8ccad9d7a15ab5b6f5a9237513da474bd89b2a3447a537027b98fdd35d4ccf7eadc61866cea85a1944f348b662dccf0164df6dbc44cfbad583957e0222374e1d397ba884737ae39074f43747774682ae09315c860833f6420fa7830980a5f60d7af6363c9c620a8d73aa4d68455d9a078a8f99373f67652decca9674bb68ad74cbcd96342229baa7ca41d84b47e092429100ca5b2481bbf53f286f20513b6ac13bb3c633a78070e24de36dcc7277020c7ff4b9a91d38e38366baafd51387348b202ce0d0e65600bb91757c1a8ccb59f20c635d213521860e31f8d58bf4f64dda35cab4e7ae5612cfcd4ade74ccc2234c7eb93d3d4a7f2d16b5aa459cc0cd30ab83b9fe6e1a7dbaf7910c0158da98b520a816a0c1a6e59de94862a2cab02bf745df64cad315959a0060b5af10570cd449b348aaf6a2e0fa0d775d7866070c947ebf68920e0a6cbd41b21a312a75d0569bdd4813bda85c02f39bcc46fc09778002d239f399065fec5a157e3bce75961ec5f10ac70f8d65618b725c07e448530a658fc54edab29efa4740057931418bd7baf6e24ed7c1c59c3904f4eb81d502f3d00ee98b6aa5f5f20e3c1bf6b93ef637574ed1d13b2308feb06f0012c37a37c29f2706564cc9f45aa0655b599ca1206d06ba75605b1834f56544abd15a78026bc3e19067214b804c672be94e8c0c4fd2f72e642a28bb3bfea4f26881528ed02684f89b05234816719bdf2df4dd0d71221b849edadae96c3014016b55a8bb375f3fa7d9007bf13a2abb5ea89f5783db8e8ea7a02875dc277e6f59f53bd2add1fd5a80144a2e606b5841177af63a41714f51ca74848a098073b3095232992b943ab8f62536f9383de695a1e7f4993d6b040e56fd293adfabd8e32e21bd1c31f0c1c15bbfb12231fab56040c55d99efe65c0a3ba96639fc84d3b55d440c3a997240c8e7eff52f30c6eea6637862b2c55073030b22bcff15c87c99e3b012a56947472ea0978687753bb7d8a87030e97e8a7666c4999642e2d4acb6371f77d88ff1338b735e4c34e5baffa429b5ac372af61b579f4517651d401226d477f083c3b7064370a237f79a3fe52801812a139ab361b5f8abaa814ad5a98307c1662e0453315471d27709bfb0a9050a267062c3e93838957102f4bd23a1cb056c739a42c0f07dc2d0f27cff31857072ec5b931771afa44266171905e668252684d972b1b887ca1f08a39997ea2970f65e07a44cd9402b09923209e7042689aac8aaf8cc1ad5fc18b1ddcc7316ab5fdb31f51e7a138be22c538d25197021427955972af1a23deb1f923903d406abd404b7ded06239cf0451eb838aabb30f88be107d32a0e8dee2d1f81330e1425593ed032832aa091af1b73a8041f1e57cba2f823c44548d1b253945536564cf13e88ca3a82ab9a817d217e1c1c8926d53662722e64fa81a2a4e23617628605d2c31066a16b207234ac6eb22cb5996814a7392b85efae5d6b6bb9238c7aaddd457ef8bb1a7a4b26c59babce02eb70ad8e8c9bdbd0a12b99d79f8c0680f458d7c0626a92506af3deebb1b9de15fd9dffe8efe5413d873b125620cfed6b138d7b62f5e56ce178e0218705f8448f7b39283aee33f936a0d2e45e7be77aa91a8e7875225cdc5cb89164d601b71eeb3c5307e465dde1e5017963409d09820c3ff0c0a77b320242950d7ea2bd07d84643fc748ee42d4200d92835df517f005f3580a4b53e78fd3cead7758cb53ef18aa5aa31feb02625bac39f9ce5192fb6325659efd39bcd204be271dd830069bffce9f163e71fe9b2714d12e7be20b52b3c475da4bca4040c22393a9d87bf22fb4117f8fa185765c82597bc669aad46dadc7efab5fe8095ce6a0b36b9518a266bc762b15aff52b139845bd821a9d9fcd1c1682b07329e23c3223cb01ab4fd2574f606dc91b0a8eaaf10d8be0a7e30b348e991d4b847cde49717a591c5d4015b590145d8a9bd008314e1a948cc2979e81a6d6c04d5c48e39b56894b75d21ecc760571e3f0fb8f8cbf56b19ebfe7e6477e4e349531008b0bbdc4043ca22b6982c44de21b42fe0539f68bfff34437b39bf8f11ccdae98f30c88072e9147de1db1bb8f9dfbf9b9a53640bdb36962da0be3aba4fe6128e3cbdbe858defce2c029f9976bb97b565221a743f81f3be396c014132775699146adb9e85759e9a1b75b8af4bf98501b4b7d4276f9bfdf103f515c42a4cd502c9c82edbc6f836fdc5e69f18d8237bfbf338ce3cda15c2cfca4776ba357400de1c9b3a193ad4c1b5e1cde80a2d8b9963ca727fcafb9317192daf80edac261c6d29def0b03b9a2335c61577b913957f3e9b28f52145d0a40a42a8ca4d6311f59e17a2948e0e731bf8751216fe22ea4b86d8f69abdfd478a6c8dcdff6f771eaf69e548929674d4ca71ffb6d1694d6f6008ec12e262e79e67b4a4f5d7bfefed685fbafe899faa49593bd4173dc1e8ada9d3a243e65d51d5ede214680109e06a964b56b45e24e6e7c48df003c4561e321749a77ac8383129f3bd57eca6be6307d950e41d7d9f24e9ed574cdff460b03e602b75308d6dc37f48853af2ebe0e239356107944f1e7c25ac704bd5dfbe9427a62bb602e9d91f9522f84126fc172fbe7b0a6e988b38f12430f7be2c328224b9714104dee99fc9a2045802803343f81159672a0762a3e9fdf26fcb4f840e4c46cf40b5835f91da75209e9b87363a51205632a92b5ead9c01b14934c92aa9d486e18218adb754b9463b54c08875cbf987ee861643b5d647b906c8b1be37e39ec10053f03ace1689f4e82236a8e1f06cd7503a7d3c450f6d3b76f3d56692ad2e21b52b86411e09b531248c7a3a7da279c8277e03fa92ca257d91b973b3638afffaf0dc4d83a5af44b896e13f6dd4bd0ce45a4144dc9f0fc30f4da0c19588facb4c40c15b9fb35cbe9b9c28a615e74d698a9b9b0fe0cedac86a40dc42ab79ac331b1b27aa7046245eeb4ca913b54d70b3a1ba93a5f39b9f4bec861c5a0cd804a15dda4fb129ca0046aef19c6a7f0e3ea37be082f192c5eb4adde207894dbb982999b41b2c51f894532d2e8798b77493f03ceda99527bd42e97316b260ed3eca6daaae3b6a01fc61b8c1b36e9554fe1eb13653d6ee35198b2a177225895252b0697a82297afb5bc17e493103ee5e73318ae88ef677be574ea34a5a289ed1e16dba91c04e12e5fb5eeb2213b769254ced60957a6bc2c7b32f3457b960187aae17d876650a03b9cd749da414856a7ae89d748a5a13060dc6e111ef77f9e3e1b8ed50850ef6f276d87abd58287d57199383a27d051b3effc1cce33fbd4b5a5c74114a7c7755a8529c8c0aba312cec962fb34330cce75df3c4b181c3acaf745b31bcb8f2eac3b40de53471437ffe99ac45307e84dbd451eae805152a226e25ada12cb23584ff0cfe24c361d3f387ffceb26a329d41e3490e9a1d7223604b2245bc39e02b7298eb49b71ad96124f66edb4a02b2ef7eddff328ed97f6d44a00fa139bd458e25660a40037630c2f6f268408ea9fe5cea4b8d7e67bd8af8918e7c8d0aa96b6e519695c219d77aeae7ce4550ee63f950ffdd36e8c9ef3df81f4f1c538025adcc17d5798aa5732ba689e0310c0d1dc5ec19f057a25578a440c05307100d8fe31e1146130537656d9ae7780557b5abbf38d708960e7d2fa38e8608d5831e69ff6bf9878baafc54e7e8de098729899fda1a1705fe735fe5060f405919d9a826863c77a5d1d505eb9990e5c2ba9adf7811d0c63be2941cf50f6755a2a879059ad7caa482ebad826ffe0c20b890e85b34852d3cc3308b95cb45bf8100eeb92b76478537b2c18542b662dc22f73d22f5e120ac1d9171ae616331ff3890fbfe3f26200b2ef6891026c2ecc5608227e9b4bf447f9f84742354bddbe2cfa0540a8c6bbc13de9b4db8a407b7d3dcef06b24ece694eb0dff7c6797e18e7c91b88b78e455569d233b8d25bf96a019fe41575c68894d74ee970af877a1dadb040b1499ac1d667504439ab380de96fe0b5abc32a6eaf726266f4575529ab27ffc5f407cc6e6563a5c8c40485f1121798202aa614ef5adf631eb3d0b54622f1b57f9fa033fae3ce9fc7cd55b711273db8b9b7818a443826a36d5dfcacf9e4659c2d19a00c19148e98bb81524d03d423d9eccaac4f92f92517090dba9a3df4b07d4b16561d0445e79b09dce4a2b0e0736ebb5ce14e6a848501ce005ced7a8e483dbf9b5f81f0181763aa570ad2bfd4a3079dd84cb48ec3d137cd34105432d6cbb54c87553529be0b5120d5a5867aa9735e86010c5b7cbc97f33b91b3d87ce79ad9150d0cd18b28e200f9a849d2b21cbd76b92f82f556c38ba9f350ad1e59cd8c3c7676f536d6b58b725e891f6326dc541b3c4f3edb3056a82417c3b94fecffe928d19026765a9b1997bb500b684e41307d2252db61cca3d809b23108f8e89ea3cf6f6e783589ff5aed2d8a12b68ae777139611188355be32a9664053216e64bcf5f8887e26c878780917c1e1d3a86893158d369c7880051ee63dec7c1d5b6408c38d5b3f2530ffd8dd851dbd8c29a5183cbfba9744c07c00267828acf178bc27487ab5268e625a75b9f0618f302b724e3698ce60774e582ab9f4d7ef902926c8b15bef19a395ad380792670bc9adae578d0329a4c437aa1c9e04aed8e87b61b04f33c7135e63cd1c06a5f9a638c9e51930ad7cf1060d8fceb3e40347fcc2ca02613eff88699d93d3eeac83ff1b1babd276a017734558c158205fff51a2840cc5f0dd08107341018e5d25bf28d5e6e9ae3e313998e827608d7d2c508b9b9eff9a00ca1499bb469208ce9b6ca79d4671f7c152559bf2b9575ba2de9ae2fefe630e86cf5e93f0e01b38c59e7fa9a585a08709db26fd08bfb0eab5bf8d3fae7295e17dd49b573cd207aeb36df262c6e0d1b06992591bc24a32e4d16a37160f86f7ab598ddadfd4324899e05f69c8409aea28e534e3891b98acc5f01b8d8acf4c833aeabb63e38d645f6e8b88b6d8dba8bbae1213ace05116722d7c49a5f95bbc591df76daa61c02d34bf076310cf1f073948da593191a591830d4bc3862f08edc908e3d29960e764506a7572b80821f853b1f244872f977ce78da0ae5a14257f2ef435446e99a475265bc99ea89dbc1a965858e6e281dc71a149b544d4e566e66616d7c269a7aa4ecedcf83a53a316c8ddd6b15ebbcb1277526ca984bb5893fbb8ef8b5898a6f2af73b2372242d6d2f0f1b473b9d2d43c4f51f9c793b82ef4ab729edf59c04bdfba9238cd235ae1974f8a4914ebebcc55fdefb74bda5ff79e32fa0e2b14c55465a42f4f1fceb982b633187e9d459a428d0cc6643f585458e39789d3405f9008934c5d07a43fbac32b6d3f5a42f16f048e5a9ff80241295e6f9d88484a165d7892c5821ffaaaa96ab0291d2246b1352a9f24b53e3a625cc38d609894f02e67cac33ceaa7b99b5c042ddea9ba87e6b8be90e60e9eac13c03b33764ccbf0c53aa0c617e1733a498c2c77beebddb77d58ae5213683a3ade83e57cb49d5ec45485745703bba40fcee1e041843285c7536205aa3e80e5bfc869a192f6cbed0ec0fc5de7a43375b1e59c96f7c9ef5b031f79ace06a8890b11decfe92ccf9e1bf8071797a75a90ecf0c8fcfbc61419edb83df51f5502dda71eeec3f39f709ddbe860f18d5db177b4fee93d382ffb41fddb0e37857523b54d42c23fe66140bd6a5c57718ffeee4d26b3888eced31edf0a21ef6dd4c98985832196cbcf503ba8e06abfa6b55212add88dabfbe40ed5e35e2c005b6d5518722af94f04afb46fbdbddea6472cb7567d6751205f1cb678fe6913a61cadcde6ffc484112890bb2423fee6b205752d158bda4d4d816499c5b689646ce92b01c23fd7b5fc2c60a8ae3d6aa47caf56d41484ea9c5f29f154ae2ec50109b73b7c70fc29215d7c4db54687b88fd83eff2d555c4f9a3104f128fc70685d5cc2cc1147d2c3c542a3c0f3225c726e5d9930c19aa26871adfa074229bd6e1fbe0bdf308dfbebbd17dd076fb876254493b62285fce5b1ade757e1f264f06c2911f462d0a68ad4ad88227379e31eba618cb88cf99250c0180aa04351a790c21f4d49aac69a6c3afb9bf340a41f6b735e9b21b03dcf3f474dab3df94d1e7263d69bcc3fd379d2c68b62e5ee42601315752ce016262043fa2ef33383af24300951475c4fbc370cc7d76dc9159257c653d7bbd68a691ce3bcb1c77aa823e6a7f96fa4af0b118be10c6fa7b876707900a665c4b3f174bbfcf5296a3d0bdea151a434260eb5270cfb77efeeb624bdf6b68d35e11e690026e92c17b65e001266fbf4726828703428945e4ff60da2dc0366f0d0f90715d9c497772e21f7fd84a58c3463720dc6601a4072f171722ce05cfcfd14d2f8eb316636d7c66904cad078abc69965db8efc7c36c6c50bbee634fd9508b9c60158bed5611141dc145d0cdea0f0877dbe06ba725784e828af8f157f1c6363da60bff1ac23bc7e598405e881fd689cf5c0a0d675f7ded3d8402bf217425cd4558d1e70381cf854380df44213aa0d7ce6e17a475f08508390fca096ad3278adc9696bf1f78fa6e9536e8eaa83fc03e42091161f9fa789dae26dde46c6550c4afa0fb0edac410c2c3feb3377b355735e478e5bc4a971fb636068aadd5f05587291c489ccbaa64146a3dbd129724ed0fb53c76f8164748eb67393c096ad16089de69ecd6e8498a31a9e5968b79c70632bfc0edc86bf2aa12e4941f9ecfa9d45f252433e6f6f232a9d79a9a6e9ba40a8f1dbd1354c7b5ea49c3eee42750f3ba9d7138f8bd5accb2c584a65603903bbc1c002f14347dbf61e92cd6003f361a4692202404df11df6d9492bfca3c9ed8101bd85c4bc27912dae35cfb2f46efff6fe12eaa00baf1832c59bdbf1d01fe9843342d61eddfc4593052bc827d486ae753c351e482b365723a715280ce23cf5c4ea13eca485072aaf14d8e9dace0527bcf1861276e87d00aa9dbcecbb021179ba69aa32035b53b2c1ff71da90c9fed677645cab0853a94bff77419d6d0f6542fd2c8417dd3cc59f145ff292da1afe76676542c35b40ef219f6f4961638c5ad5ceaaca27fbee738cb4d69d8621c57d12d237a72c65edf96265cdc29c235c302fb79aec0a71347c8c0fd805e5540b29cecc41a4c469a48bf9719be7bf8785f19894c2fc579d5e2a872443c4ece1f995a272570fcaaa39ca7238102b7843669a32d67d916a2fab77f75b97ea1dd84461ad5e8ccc20924d782eae9b443095a2a8b4f62dfcd362e627467a6312fe52c7e1d77435f5d94b670c826821d707ca3af9342008328e418f98ae537732fca0689b206af5a1d778cbf44c0590b3b7bf0aa1e4446d1d452da9a6e4a36fd78073c6c56775992cb23918319587bc997e74f4970baf5c2e7e10c2df7956090e5d9fb5c9c9b2e88abc41f2fd053aad844b72d3ca648ee6111adf2ede3c8b45a3fe03294fbe926ae9b906484d007193dfcaa058a3cbcb300e9f07f1780a2fad8e4b9ebe8cc7ed371b969e352a034d84a6aef5b03bb0f2956e0ff21008b43724f9b10db235de47565e2dd31cbc3a83a59e91377f79828c785a7771b19d999a0b820bb89aae914433d0fdf8a41d578043ebc600e28e6a3b08924f99e9326576eeef949444e76487fd373d13d55f6cd1b25662ef2c78f06671634ebe214e56cbad31d1b1a433b5259bae4e5da6e16ffe3bf51fe0a338a7c6a62197ec3b81a7b1f252aa95ec1812dff5a00f482782a8bcfbe8c7fdee4c48a283e68847f8cf5c66791b8f3cc858658a3e72d902d9b65a017251aa90f0988a0736c4e07644aca545f789ec436e011c09a7db3a43af29817eb31c620db308ee5a2d92f6fc2d7a969ce510a7e946b9c928dfb9f1267aafd7e3422c04424fdfc72e3feb237de3def9a6bf88801ebdd485e7e494ebe07354305c91eb24ea65e6de5d8f5952a34a348d105352b1f60f764c3e549addb1cda53f0f2aef377ce8d37204a9bac49ca42be7c28234ad6583cc57bbc59c3f97ef92fef6113b3c281f7da96b56d1874648aa5acd422baa836cc373528153aea00a679a401b5597aede7cd2dcac8ceffb24897c55d6ff8b358dc432cad68d598d2e2f8af6d85f7e54534aa5ea4acc7243c9dee25d5ea3e9084dd01778769dd5f1bb75614646b811eb93fbf56263ed52a41831fd19983ffc280c3a78487ab418276f526f62c4b3a9c8201159a3e9929a4b8d303c4b8352ef338dc6e7e669f04320e3146ec64c418da51915b0a89e8de53d8b3239b90a35bfb9b98e7dab861827b8360ae1c5fedb9d083feaf49d939e7497121d21b0cfed3482d16afd5e84b3001ea5798cfd67aa50a2f866b298c565b159145a47059015cf5e5239bdfb5ee8d1fc174cffca1129e2f4f2a8f4028050d6551b3dcc2edb74f1ee5e3bfbbc1401817852f3e14ff9b7ea55384f9cfd74c8acef91397778e23a305d74e66729ff16a0d4714fb4459d7a8205f8a848b15b6a1ca79c378c6316fbd99ab00f168a797c8c39be7494191c8d8127b8f6ad65d84afcbad80ec9d25b6ac8bc0fb3c940bcb7eea2e3a46787c1d53a13e1aa38f956bdbcd6064b14a6dc1b0ab662a9cddacb6ee7dafeed830bfafd5b047f145273cd41fac5c5020f5e280140462a9949ad6a31a73356575539dbf3dea27654f643fbdc6ec69d9324aadfe669ba95497ee93af27b726bbd936303ee94d1b5412d6af118009a7f33c692ef5a4ff9d503f17461afe98f6817e910510fdb78446d4c977e083d1138a88cd24a4a61feeb6fbb73b82364de739cca2efaff03cc83c712d3ceb2d54c30572b1f47014339b1abbb4e29b0d84fcbc751772086b5056a1c77db429b5e7dc2926d3c3cb9a2b68e3bbbd054dc517efab1058a18dd4e4dd65287b4d802de3eaf74eaa61b705bd8027d986f1a50ae60af5981109e5ee85c7ea46ae648beb9566328baf3ea3017edcb6f48697b78c96fe58d84ff0d26dcca1d69d99d9e3cafcb7274170cb187a3cd116178da7ab549fa5c7764a29558bb977f60c9edb67186893dd334ab3b994f33a17f36a8c42a714f34e5c9dadbfbf187e94216acecf157e30c9f320ea81f5508aef2786d6f4071789f44ff55bb3f5d5c91a30491021ee33341ba0d095966d897019e8a82f2604a39a4c8c7e0e7fd524978517880be9abdc73a23abaee427afb10005363f178780c541ddd18b227ef8c2202c3ca6eb891abfbe077116ccffaee96ac43bcb8060f025c9c1ca6b0f0a89ec653595bea8e23c1b9a36898ef4bc19ce2871465939cedabf5e63c4b4d17bf5df747fa08117a925d03071d63eb5c02ff9f22907919eaf43e0b69223a2f2bd14323acb05e2859ac9250f432a5071aac35864f6a9fe0fd93273a9a1a5883b1056a7e9d29f09b7c6134677054708cc1b34aa76c3a78d01736fff8bc9336f8ff904f38d5c5e985216b38df2c89c09ab4e8fb28f8fb311b2ffdc0a4bf9f2d750403783cf7c5a87fed4660fcc60124b0174a118d06cf546304ee9f1c2337a8cdbce1de6567290e81c10f00b3797600db10829abde398a33204d03452fe26931218a8ddde77a4f3cc60093f94bb41e6e3771dda98f03b8947ef95fe5d721e1d7e09265bc1770af8682ec2f6c275e701a78a638c5eb40c54b67d1b9d11dff0ca31f8ae5655102552c33acf411b512ec630c2442530586192293790c2372cea889c1750e69b905a21b532ae535b6a15621b470dbf2220cab4762865a40c1103a2912b1bcfbf3aea4af1716317a532b7ef0a1b19b5de6d9d2b469f44029e98e36e186123e02c98afba6f8d3cdb18b68ebcd74fa5a92652f3861d58d56a2593179f8cda776a5d9c06603bca6c5b34f5160a9f7223b1fc1992b41289b7e10ff7974b6e3d499a4e0745ca78daace470096c63b04ac0562c86cdae49dc42dab148bf280dc97234394aa473e7fb02ee308faef13a149833286e225f39662f58469736d065d1b29c17167f9ae6bf941234e4aa26b9b9751e4d5298f8db42b3ac7f41b06a9729caba7bc7bb58fd3038fd0bb805d8718b5b5bf0a354b792cc35499d70274783a8d4b5fd737e1e12b3aeb3242395826025cd536dbd3177a1acdd9b25400834d75f982cb465530c4433878122ca9df6f118e64c6fb03ba08d33974ccc82a63842195c17085efde21c400614208d42ad524d2cb57776a5a60ed81bbb8e04318d25b7d7f93d1e6d62b70275ac9c3fc0a30c4e34a2e3e94b910201d66ed7d940e6fe","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5e73266bed3fd1e2c563619707bdf96f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
