<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"81bd5b8b43bee191295b12a3a6004d97a057c9679b924d78824f86088ca67262f6ab572bfea7c9ea9c33ed8bc0ccf4ac49ceb05cf94e4379615aa2d9b759c23acba2055e427f7a16a6f0d88841c54100fc41f95191e1e5dbe350831b7c660d466dc10a545ce6bea2be39bb8f639c755f1f3eec25d888b3667b54674680568cc286cab821308ee5775730ffd282891ef040f272ef4d35b58affd75acf3ca7cd4f7dfefaa106a65ab0aede746ec3843e570a474181a3289fac8a8a65b59751d026dd3d1c82102c651b9de397af84b3a8b5c7fdb8bb1f14ca09cbb217eff612453d672880dad0f3e968e702e0699579e139625e68fdf2385911a7ff585c996295caac59a74de15347e97d0fc920e35068315c52fe0811f5b348fafa852fdee32b2223955a04b924792d3bb39953012a148b9877c010e6fe76bee83faa7238de9cea115e29db98d9f32eb3c6d586e778b5d176e5132b208f361fbaf5ef8360927d82e08b08126803572ec10272d1d5d7252b7f394b0d2fb6da15dad6c201731d9701504647bd80dc20b5a17bc144d75a97b242bf555011987dd0a82bbe79085a364bcac2d375233498ce41725e8ee8affc53e510b5dfd849e666e170913e8225b2fc401a9d8f97c5661a51a260bf0c8d2713ff7db9f7bb47cac5466895f2a9dce418aedf4322ac713e86c9f6f1b873977af88379b8a27a70101c46621c19d8d3e258fe38f71eb0e19aaf4a27b8da1afc7203625f28b9edec68100a314e43aa828ece566e98e6bc7ea7eff548967d0af452ee5d9a092b4aa4256cbc10f0d93950180e4637a4c94ecbace328b82fc855b59256af9ab4d9b75b1f7b3d9eb90a5e2e6b79dc763c8442ad1dfb17523e327499dcb19690289edc75946989e64224f0ada49d3e7257b56c1416f667a5c679fd5b0d9aa6ad451f6dd8f7554c4ffc6037ea33fd1afb88ff87eb493b66f9bede8a9ef81ef700ad80858f131251ca570776c7aebb95bd92ed1e3c4035eaec9951cc92d24b408e75d90243c1972ba3fec19f26287e8f8ba7ede587c997dde5f0265625495d7c9f6d9f793037e380782b9887f421f6083b745a3ed3e8815b14f555b526c093283e1b9a997a21467e8ddedaa237d0ae7fcd20a36e2a134fa9a623f7cdadc8e19eab31cf09d46cb533de75c18ce38487de09ba450316bfd2a5efcb3750a56bfdc3b0d39b27d50cb4741268ca787017227646f3a2a6d292c1a852712d261201ea3b6fe036b7013945fc00d8a62e248bed92ae91553d7ecdb2fcac913b673e0797cffbb4ba9bb20e8599f198c31fa6c2e3ba2577102f190198d82223bd2b4e66c03da4206ed5efcd4845c769a03fa4ed2910d126cc5cb0e69dc34da7e1117a512f74d9833af61d9b03fee98598b89742253a74f8a6232534d5b7c91db71f4ed2cd3b3c845177a106a5f827958e774bcdc2cdcb1995ca27dc4415336fa63dda5f6ac47a3ad41b11345ba0293783d1e32a3762c6e4227e5fe3158c06a0136b574b7259cf5ea8d4ef46a57522f57d91b37bf38869f7f50b4586afe1d1397e65d3cf84eb36d723234a82b90472ef8e557c2d027d83dc0b1b2a7e51f7e341f92d86cc317c1475b4ca2c59061b35267425089770a67e7d3776248c5166e495f291eee8d573f5572f82adb4423f53978909de1805171179676b2d766d2c44f7ea30fdaa2be3e21817d1534df7c56de93e59970e746052c96704ac849669a1b8614aae83287e37df404c911c3c503f5107a6a977cc8342b6a617af9e1a108d1af89031f715013239f996aaf2158ed2428fdc6f8c5c0468edd197dd1aa04664339dc737ae986632c56a2b06cb02527deb0f5b9fd70f94e8e3e1cb99d8ecde3d692c1ccc3b8712aca9aaf1f263b42bb0905e527ebe01fc872b844ea64935c56b06102b76a1c7cc73b788ccf02cd1daf83000836e6dd0d3c2365e9fa47a9da8bf628773477b2677cf771ac49017461675e3accbc05daa5794863e82dd6d5824ad368ba4b1c96adfa19ad46d7dc797d03b14723b8e17fe32a484ba538b51665c3f753f35d823e8cd612a29f90c4ae5003b24556f2563ff9d25b39841fdaf0a7e841f157093f2d4f921036fc140e7db48e9e2bc1a38d81087ee62f918aa413b647498851710085a0f2e161fc5cf77f066522fcfdce4343f652419d79732cafa181650ca5f13f9dd2a454a49dd07a26322d09c37325bc3bd206033d340e7259a2b3f2be9a7207ba959cd6ec75d5049c6eac72f27c7a4370d807f6427afca8105efd73ee553ff18265b4cc573a3a5f036908f64d7de1bbe8af71219027e90123dbdaf2c14e51d66fdbafb047201e678109ecc31398a774346a42a59ac2f86b47e03c53d6644c95d6a2f697a812883dedde7fce4540c8ebaa17722c1b478f412310bd5e24bc49eedf79d40287198e62c59886b9068a4c7361f1059fb82c6df5a2a4822adbcaf04fcfd09992f77c8e2a35a386c26c2adf794b4b82f95015fc88164b350d60106967c6473f6334d40a8a1f3e179d3e4dbf2d91d5569a1e8118dca9e045c82708fe911266f2261035d36d492ab65804669ce116cb97c5e3a4bf19b92dcce8634e174e21db7223681382aca0ceaf65a02444931483d85023e2c44c63bf597c3fba8551c36daaef48e750295d86e2ee68be53f34bae2157597fd77b01c3ea7c3f008ae7f17d1bcbe60db93a3dd1809cdb2c0db4c43f4147e0842fc6ef2aee944548cd3da9c964c094c48b2208a4f15adda2cd326da1ec277cd54ef36e432952bf84e4378a29357f96c2d54e9a0d8434a5d94849ff5423b14722d30a4ff578281960de11b3ec2d2cb261df014072395525ab011503a8ab53bf8dc3a14c34b9768d016e393415191bbcb0c98ff298c370da51e755fc63bdddc1d661c47d977895a3419173bd88464f04d3a50d6f02150f7794dfa18d50a9ff0ae311450fcfbfbe2ec2f8bb839745dbc88849769d1bcd9343acd97f4cdf1ffca3459eccbe5ced2c1108383d5315c11a70ea5ba692cd5478d6a1703e43df178bab75c4e04de6096d6b5863c7a7828b75d2213d78744a086d27db1ae3f22bc021b78e93aee23edb0159999c3a39ecbc84afd966375d376cead8534314f2b29d36273b29a02c68c0b138189294ab80dfcd345834456f92b7be66ea5bf9e524773e52c20b60718502953eb32b459c0c7e15e84fb517116681a1425b695f20c515d5b0ef0f11fe951b626cf400719cf931b92138b63c1ad0094532bed60dee97def4d26113d94383a006781e5f954e815decb88eb14e169a92c9d8e81eab1f16e7c9b4186d947ff8735a712321d8fa6fad234d259da090dc127061963c05380323415f27a0383f2cdb7e6d46329f3292a1a5935024d095b18bb85be43e2d74d9d7de6b0ee0ec2e0e391038437233d6dda3ae1e5cfe041e7206f1d8392bf78d336023dec0f1e04bdafbff4cbc76a1135894ad8c880a32235546010a1d8ae8ed7b4e746eeb90d879ba8673f3035a917155c3dd5acf20599e77beb26afc9697cb99a1ce39c676bfc1fc7e70a116fe9daa86141f7496958fd5f4ab49b2e3ddca535bdf7d331269026a4dd55085ec0719595f88eedd5d15fb9fe49d3abac272972fdc82d9bd3196bc440ef42abe3ceb4ab6fcd7d64e77a3e9d30e23cc55eb687c0a92d8c4d485f6f71869ecf0a9a7e815ae5667656d35e3f5fabe78a557d3d63b7bddf4988685f84e8b76308a5f05252e4650d02a97277236317e400c7a2b4662dad323cac6cc90e4004ea99c1406bf8b129aa039284c33130cd11a0b77ebda0def75576c5185084a179748b689ea5bec1348b6233ea0ed53d7dd32f64f3b5e2e5cf08bbcbbdc975ecacb46662d42ea0526a3b25066bae67f1bb5e54250a91dbec816ad238ab29a21c56d271fcca8e6d4c6ae4657143a55beaae0131aee1765c6300caefd31173b940d1a883dd397639bdf20298563ab65f5aff13e0a78c6f6aed9ff584592e4bb187baebf3fd8a37a2f5e28eded4db1ced0a17c9af905897b33150b19a8a73d75d3187eb3113b907e915819e922f022e6e22c20571dd38582d51482c1b53114c9c5c9fff270f1fb64a22a89c499ddb714344823dbe97aa55dd47e004f3570a6fab16dc8f7ce050b865d33e3e6b55eff110bdcc55613ab84741f55411e1e7edebd0c08107815ef644fed004bb8f1e2bac141c64113a314abf272f84e39853cb720f1b93badd99ffd19cb43d7c386fdc670db5546358dee02757166e61615a632771321857f3aef00c24c5bd4bb050051fa376c17efeba112437f96395f4ceaff6ab514ffd1ea880e134c65623ee6cc973d19c2e7f1ecbef3c8d13e7374ff77f458e808149c4f87189c31c67c498aef3193709e1696a9ca0caa98b5770d9f99c3abc05e5721200f43df4e183b34cbabebb68fe09e46d0d6ab5b4559fdcab8ad469741cb0cd663b1275219146e1f181656d42f86ee42f9ee6a2667111e8fa5fad0f3187784eec0b40e4249205a389176f88e98fc2cbcfec2c48b3cfa0c0e64e241e1d18e5dc89da603874c2d2522f46e91c77f2ee246804130cc15a88370b6faf8e0c0b85de24ca27fbadcf214f88bddfede3795901dec5a21a6ddc071ccd7932025fe117c4ad750dc7895cc0e46d0b8a9af495918a59f19ecea35bf73de1de3bf5ffae144547b2fc3bf49e2f8c6b970e31d6da352213bb1ca6e6ce3f365758d6702ce4565fd1422e517f011ffa5fbebe74bc6517b75f415a9d2d33a80a2d5fcdfffbd0dd9c47c99a94036918322cc937a0a43416800fb82a0008d9a188601be6abb77160caecdf8f68fef35c417337ce840fb457892884c3abf9f5d93fc1c6498219e1e1af0410bda36ccdc218724fc80e565639684623018b709294396e63c6786d07fe52292c764446c907f4a36dca3ffb577ebee04a966c7c199dccdfed5758b00f8c94cb5765ffd4dd719cd517af8f1d3c15a23eec6cd34399c9c372d527fbc2a89858e9771d5858b07f81b449142500803dae893ac33d62fc1c32c7865f4701a522f4e63d24db9761eebd397b7b22f392a5b72f7f1b4da83a3ddca384f6bbc0130c28d833d51b412d1079cb604721dbd07f31b208672008c0cf3df8db3817fdb407aacfac95e4be26701840c3e927df9494088e789ed3da3b900164a101b876f5c7f8686e03cfb3c34acc02ef8ad7295e05285e873fd3ff5c3c8dd1dae90830d91868ea9267e3425026cf4967845a154dea947dd10d38f7736709c448b113913b6a672b04b60d522b8be5d6856c89720fe254d10a2e873d674acc898a71bdd93e699393a557227ad9ad97b63d8093d320209cde6d3d406e059951412a5136f486e5d6256902799f56c3fd82a94f99fbb37dda4844713f26d3bdcbdbfe7eb2c0f0e57320b4402cdb3460144cd94f0f8589385ff7c630056dfd347e69b4b47c6ca9fa69344a573009398abaacadd8051812c7cbdd20fbfd71e763d00d0ff24705aeb4e0b1806c62604fc95ff7d50725f60529cfcdeea8c42301bc86dcb24e6b0e0e9e6033d2d8aa42151760e6a3f42ca6a1b0faf1666a663f3d08ba2e5de94d103e2577260022ebfe5d6954ff49a1e23b2e27472a309ea94bd11830d029b548ae2c5d343bfa46c0bbcb0c8863c247a7aadf6c4ac90fd79f8eedb2ba973c16c136e6c41e4fde7a359e89414f6a60a51935a704a8c99ae68c8e2f9dbaf73269b3fea2bdcf810eabea8520cd3c7083e1d9e624f1e945362c94faed5c1f07c44ede3e70ea7963b55e690ae192e8fed31cdab44aada02c1248f21ad58fccd6c6564c3afb19bf8d646f6c5f9350627f8dcc9d35684e1968b9b01760c7623ec6f92adf50b3ab8dbbce3ebfc381a8a9c801e784f1799c23839474c4b51a4ed6b6c6e020b2bef00d00f53a9cffbff609e7f1a617d6eb5f3dfe8a649f1ff2a17b88ad79b5c1b2e1ea55c05677d42e38ea065a66f56b3c984b41ef7ca6ef940b7daa1b1cb066d984c8252308a3ada866747f4a0fb7d917da1a798e65e7374144560b1e81610c9da207d92f388e90702c720e139ebe5a87e86cc7d5b69cac5bac91eeb7e34faf665fe1847190805304bacde1dca7783b0f53ae6f1bfd207677348a69bd86d8352ac144b75bcac1fab3651a9f04bd7ba14fe1ba52ffc5c27e308a2d5cd9127d61b62a408b4b98c6c7d32f73165f29df06a0d7429d46dfb4f2095e344feb45ef345fab4a20e48033867326e7e10f85b615c7c7dfe776997a9d82f615f72017f692fcca1c722a77a353b80d425f9518a2041281d8b151bff8bd4ef7a8cdd567f45bfcbd9e9d7a1108d80e505d0a3127e9f8ed8fe4675e231051104aabe339615411fbdcf5a1412fd3629ae99cbf7a83c9fd6a80757848948d47889018a4f5a2b2783ff73efad9f02fc24600a858580ca4758c9c2e347f2291973ddbc2e8fb8b37cf67444a76a904abb605a0790676bebf5a2a9724aa09145a08d8c97a74205acf3d0359f14f11c0b4cd53e4f6910d1667b419b7a863b19cfa102cf92acb9003c374ff2985cfd2d0b49c0dff1b2ed8808e2b6a1136ed481e2b614bd94b0066e66257944ea3ec8cce4beab88b3ca8eed707d17a417dcfbb99f4c51670719e25a8179b8d9ee93c2bafccfceff7cb0d62a360da1808743101e464cd45b11ff66aaf03e6b3461a0aac0178e8909850aa9aebc3796f285f0ae4e83e49af4146301f5b019fa413a7280cc27c85f6ca0cb71a5408525db355b5890471d0b67ed44f8706a86e5adfd85cb7e132df850a93ce7b6ced170bec5e5a53d41ef39a01791d86547e6450a208f5790fe569d9015701c6fe9ce410a92a8da03074c873aa646ee5e827a21d49ed595ed1cb2a8be576c35a8ad26eb3f23ef64f95ce43e2af1b7ffbbb84c75ca0cb4957ba5cc1fec7cf46f6a296cf397d39f9f37adf962aacb971f05613e2df85e75bfe9b945785de4706ec7e13b611c97f24a22b909f1753dc17f9ab6dca0882a1ba790cef9a088faee65b4145125e445a12bd0dd1a3804f26fd9560240cdbf29c637cda0c25735175a6e6ece3ec01ee1c46dc72d978f4c4de73184d374bb35b8d12d1850c8ab4e6e8dd07e56331e9e69d2260bb7aed60453d5c7db026e5cfd519d9414e31ea0b530826a9941f194793eb93724f56f35ed3adfcb5b3295e989e34eff48af399013a7a60f955b3a4b841627caa4f44db0d983a4739d5c91023d365d7045664e4078a5504b0ed9c4e486d1526d9a0eadd1e8fed62c3b29f419f09b764290df2d852b585da6b054294a728625c64876708ed5a44e2b5c2f977c1d0216302e41da949c9cd6f2612d3955e28e49405970e51773b21756cf089a1bb06608f67804d632ff72271a49095b9700d24b4f8e80df0f10779666aa8223cf155da6a9c650494e1cff579bd122077a8fd80f1404dbc606ab4b0878138f45600bb1cf0e75c228323e8d865ef7bbc054b19623ce8c0c5ef10c6f0aac41d2e2109c58403e8e1f26d54ca76429672c0b5b9478e8381dbaa28999187131782fb27cf2c9af321e79306fb3534167502946402ce5f02547592ad68f2072891d0a660a12864807777179e252403904a54df169dfee04ab22791d5f2b868f78641979ba4ff01eba4b33e2d201506151ca5d043bcc0f845c4e4d834ebab655e3c4afadbafaf4101854a8e62aa809d1cd49be3bfe50d3f9e110d068535283a84c88d3a2b00ab55586b68fff9ddab392725eaa418ca3a879213fd06592e2bc2b2bc5613ceaa90d846c2f50efc183b25491da20928dc9a4840b73b3f91b2676bd0ad48b0b165afa669afb44f2a8194be46e34e8cb98a87218330d63b99b061deef1f640d9e15d038ea83f73521f6d801c2a66635e175d921327dd939a0a7372e6454151aceb73c82d225bad415b2f9307b1e4d0a9f453c7b75036bcddb1cbc9164724e94ebe9ffe8ed569d12946dc0cc2f66f78f471dc30313ba0b707e662b9966f0ab4c976a9cd551ab7a8f8013f97b06f912d7fbd789f449ecb3f087490260f29215c977df1df81bcc8b481436f203a25c6fa2bdb9837b35746659d2f753a9f3cbc805c796bc7443a094ca87bb7748725c388517f297dc4f0055f83a9c8d13a81125af5ef01ee2a602677bd82a7f4faecf0537fabada59bf8c088e020e0534de4c8f244e71d904b11aff5f535dc549279957cb061bea1852b88a10051fe833c5b0501351861207115f8ca67638230fbaa340a923a2c54cb3566c6e1fdec06744899c607fc472fcaa72f054990b0b1a050234b60c1177c05bfd24045df4296b0eb348654cf15f3c26d6142a2df3a4c0626e39df7d09bd21b1cd393657c9b3d75beeb00fe081af38e2ecc71febdf6268885657c1a595cc647ff20dbd71ad7a1ab00db90bdf7d2900e007bd52d6f47fd4ce8cc38637e732c57ead6f0da69a8b56bf6147d9e98de41b551deacea96c6a18a1995144a5432fea3fd10da1e52eb42938bdcf29292dd7c00d999e09c0a60c4c54bf9f45319c918400a3b2f8fbf111e416721c2c8a16b7246eeb82c4b13547e240ea7012faa7869e4a2c1f3b5db1fe03f0068aeed961b6a01426ac8b030ae4bcc414331b5616d69ddb4ce142f97fd24bcc57dc87e8ebeeaf9d9ca12a28a1b235b0c8a15a62063bb34621d68c19d1edfc9d1cb97041fe16d5414f95d3cb440f4cd804a407141f54714d9d81d28db827f25e7987d0fb840925708496dcc0c5d1c803dd36a106016517c3f6d74314aa6d9714f0b7a92d19901ede9a956f4fbb14901dc85036f4fb14140584142f43cbc6e4a156e47c5402321de5daa23691c6e073eaae24083e6ec0b131cda97e45b6a0c59e7f2539ec999d497e283c4e2178a9b5b89dc6afa1608916f96b8c96f1ab81befaadcb5763abf9d6db3f9dbdd9184adabf2528e2733be9819643520b2975d94ddcd9f61040dbfb7b3a9fa8e4cbae45ca5b30d9519741c7fb303c4cd231bfbb6d77528a3cb3015dcaa77defd7a7567466dedeb03b740928289bf599817aa7e6c3e064fb279bff8cdcfaa40a3cdd74d079a0b04cd0aad2a5c602af7c52bedefdd27deaec8a19a600c865458802a929e48f31f50e005dcafc410f4e202438ac4b7574ce6d16c7b4cfa06b509631e243b88610994ade908cf5f2c88f4bfe9aa403ff61ae547b1fcf1059bfc01276ddd0327a7b1ea216a2f71019abe6a98727093f55e0aa5237124a3d544ba8165efcca30d13f618dda6bb64b6714135eebfd9f6eeb3bfcac3002e0c034a744f4f8e34656ab2166db0b948a1ca2a3659b6f364f539b1a2ed76a016151ff3671b3e688b7305445b7300c2f87ff3d1f207044426881ed66db0c42267f34c5e0b2ab2ad2a939e5f79634d2d68c52e1e9743816bda7896e9713153ce8036053d7be3dfff8d02255d301bc8e4a5313073d5afdbaf92ec21c8e925c9fcdf23a0ef428bd841791603336363896c6ad129dafcddfd374c7284dbe54e2b073b7caa21fc18aafda7a3d077e3fb7ef44ab40c4d8ddc5e408c7244c9e0dac6f9bc54208e22efd342869504ee58bdb4dbf874ce36073784e7727b0e74682f955f5e8dd36913a02a61d7d031c8c28730c80b596d97438a3b09be961cc142f41a9118bbf4ba835ec82bfaa5f3e3b4001565ada3a6f43836147004e6ab7e5ee96f1d14ee9ee61c761c175f7672bc522ce7c730a2ed265f047e7e0fcb99dea7a4e33bc54cdf71f17476f3ebf6a7a35c037b5185cab865be98300e7f0c4f3621fba9f800a893697a11dacd0b0a1d6553fc46ee28273d68ad67a078da0df8344e665515cf165e2383d2f53d9568650d170a1ae79bddfff83351d9c4d4cdb4cdde1a6f2612839f732d0dd84521f583f01aa090a040bfdfa72056fe77900e6d764e3d6b5baef8d94eed3c7e1c743f8d98f99f12ef7c32d97066c79cc38d1491384c030988bab338f047884ce0a117d951f7b73e370016f9d8152efc2daecbbc085712ae773f33432b00fd2caf5a2b55edc45bd89e3ecc36ee742660d11aa9c86253c5951ad4f7c89f44341969bdb7fde3bb568eb313bc82a63c2ddc8359a3980528d703a22736b50f4913fb43e3dd79925bc190b8b2edd01f51b56397e94635f08f6507309366ce161ede542939df7f5f381ac3b041ced33fb3780190f839423f7de1610a270ead71fef274dbb45b72e28271d56764ead2c45cc70d463d65fe8f2850774b30ae3f240211cea7034897074018f3eb41fe7a2d7d39294cd72340472b424f7964bfd723baf365aac58d7fb741a4b94477801376f22c74e7cdf032ef573a456cccc2c616c24f19f432b8edea508351f9bac4d6c000d344b6c9079524ae07cb9b5149d25a578832519ac39a6c7f6b0415727993575072c78ae293ed8640a75d3e2cf3ffd8a3950c3aa3aa7a4e32c8348466c8c81fe34c71c1c39fec7e7224ea604cc863982df555410522bb7cc1bee447b3d92359c2c87c2790bd34cf3dc7fc53d9c35e02f7978c11d42bee68a68f1ecf8c718e02b63eac968d0574b6218dc8e233ef100adf75222caa965b288143d7516ad16fcac5413f716810f546527977475cb4e3182518aa204187ba1088ff70b9bb700b8f17b63efda2f2264ddb6809b9f5d112cd9ff0b21ac8c10a7724ad364586eea9ae34d1ed39015e91f3264394660c12d3baca4c7152e8e2103a4529e891740c531e4aa4435bf63683f60cc9f3f150bb26a9ae1d37d7a5ebe87ebc614acf08b156b343fefa649964852a1af66b5a31adcadeccf8e1d01873d6aac0fe99a0a5ef6116a940ce7fb74a3a10c24ce4405117e32bd5fd535956556c6415eab4f0ca216d41d4182be9b7bfd9399c58e5dcdacac115ad966aa525dd4c3109cc53e4f657b88088d51dd5a8b8274f65b576230e7c2a4d7bc45c33a329805bb9a872d3d5a9dd298b851b519794201b834b617d7ad0a1628069c22223f758b4499a97e4b06e462e61d27f8d2c0c582ca5acaafd3d0690e65f01e17e1b4d7a26ab50ec75123fec25a8a3c1b63be856d307e36f4b280f636957beabc139fd66cfc0d618c6cf89afdb798898f71563ce41cc7618310dd71f0aed4b829cf92fc088390efb89280625102475d665202fe44333d6ec732f7780f1e97192ff9da3458a81c9fed4d1abd65d03f03b38ec4fe4f86069c6c2ee2c3817c10ab585033789b03413fd1e54594f51b2ba3b3aaacfd5f0b57b8b6acaa732c367b6e69c559f94aa4b5e55cbdb22ba466567e326a3f06c0d47f00a7778074108a1dfaad6df11257e2f58decfba9b74af929f71505b695b46a518f522c9098164f2a2787543b5bc78f6268f2aa1e6da3410525494f8f749c349aed14d076e53c76fa65825460e87c9bbcb1bb7d27cdd4cbd29abc78b9a4d29710a429432fc46c1f501006e3be5426d7d56eb3846217d539be533360b673b01752bab8463dcfb8cd9d8b0b94b0b890b146c82d6501655c0ad49de16bd2a8aa844f586705ca40f2a943be88d8b4ea1e7352eb5161d4bb4603496e0e207f06e377096c3261399019680f71c86efddf615f2902d552d158ccc1645a17aafe672af47f65985f265861e06450fcbcb951b3a50a1106cb29ea8b41e2989f2aa80f184705588faaa48b83e890716053772ad36b247819c25dbcb887bda1c7c155276cdeb559b6d800abfdecf4b9c485da5733a3d5b622a312f57053d56f0b2c02a40247b7de34e9288dce54847cd32f5a3e9ba92aa1f121aaedd247a3d74a04e0583db44f29a53be23e99271df8ba1d1d9b00c0d13cd3a94bf4eddb7e285baec6aa0fef60ff33fb08466e4ef99055664d22440ddc74cbe0c9e991953330137c5266fa5e055e2732db144ae237710d97242e06bfb2d0a6f315866922147930e493c0f44712bf7dfa6331f0c4d0929661550ba93ec641834c4f23465bafe747016e2f888b0cbbf63ae10d987824120e00dc02ad3a8d6a6b64cd15cd0914a39099f8c31750e045738c2baf6af658f5254123e08453f9c845800984e953df287eb35ed4e6ea9422c24a0365b92cb898f3f0f7d9be902e46a7e661868456a6a6271822832e10eb587fe04ee89b96fb454bd68ae4a922e6f7f631e51fb6292d5c0b42c57b2b592894fb712f0fd7874f15c4203b46b67a9c5c3e6daa2f6ebbcbb103414d9fc955dd0018dc5d5e0bec2d6807446bf368ab680bf9e22c9026481d186112590a740de9cc4dcad4ecbac92ea29e8132d142e50f9fd66cb5f1f12b49d4424aee44cec0731f101fea43e6cdcfb1016d70dc04fae68cd09a1b92e691e8ddb6172d787fdbb244ce31a074008a0f98c2809e2d8305f6aa4e3078959b3af62b6b07e1f1fc7adbd438495e7d6036665b7371bec7a1611105b5b81823c7705f8dbd36edbdf2fb7839bc650e87a442d95f8fabf87e554b49aa65ced0f0559d74467fd927402e7e80b909883b45b3e01a71eb1780c4e53a5f86cdd943228281f49623eb25e22e933fb1d32d56727f27260d95654e0c742c56a83574d7c6a797b40cc91b74beaf844e548a9ee50ed41e702889c22051bd0cf8e22653b6288d4d809aa24c55ada959c16f34e4bceae1cce439e2cf82bc6fb14db100107934c893407666872d93d5e6a964be5ce1f1a6a7f56b39b0a4cf15f14cdbef3b95de9e06d784367821b897e4ca31f3fc7bed98b2b5257a6ae3cbd308a21306d2dd2d431e9da0839d18646774c8038b4f35c9f4429639c24a1e2ecffec77c35bc2769b93a280724c5cfc2f2545909dbb82d279d7f0bc25ebbf7cc36781d60fb57a40667041fa949bea417580b18061385d5a661d91d34949f5f8d9158644fdc5072b64527ac7ec6b5a8779d3067d18ca1c2be974fdb9e8f5e69a43cc7dcde5db870fb692dde5ead03a81b570679de66e9291eb723d16ffb0d7b6f408d5081ec569205583dc70d5c4bd255cfcacc7ad5c135629c25e1248d2d616f4aed073d372732f5e79f417eb8779821957cbcecc6dff8528a9b036fe8d95713a870a69f196b39fa6532d1d14850f1362aadff1f0af973b8e3265ecc5f3748f0b5eed7230de3e02b7a2e26c22fb3d155940df5bd718641867ab8979393be96621289812c5118f7ebafcbf3c0b2872308f971b43e8b10019069f96a610b5dcd56563d9343b9887fa1d3ab0f45b9204c31c92a8225255bde6ca4f01bacbc94590a4a9ff664c40da84dc8b981e8ec49aad17e0a2f605a8c69a5957c09a9e5f45ea94392703e1f10c94aac3965ec0b08ee54cf55830b0861521b25082bdcaf974e95cde30202d81f1b97c28cd338b6ca358c641a9648de865aff0f36e1d885db4b91e1a580d50e225b89a9a1da8137bebd043d3e675b274be00c285720c610247878047c1a27012c78bc50175a8484fe42ed2260cfa0384d2e4ba521a23fb2678697149c5893895325e5fa7df388cc7d33c0d40a31d33794e24a314ad2dac2d60d1a2963aa8009473d466eb88d863c3f6d80aaa35671a2c3cf4d5c3d7f271bd259322f9a3088cdd0312be0bc5f8f750677d3e67ceda76d97816f67494feabc25ce6b462b8358723ba5c254be483c874006ccc9e7cdf64808df4105d0b7ba7f6cbd13bd3ba83631b1a78736cce6947f942a60d9558cd3d3b607f13a76eb14e5647753cc32207617e20ffa3b9b55ca23d0f1d9ebf75fee78c14ae1df29cebad5f733f1e3ee36ee5e05e76d292a617c57f5e6c277dcb50ba3f6945995681c3d176aa7f5758738258e9eb6d081d66975a51a5218504082858e48f042738c67ebea2ef2f4f3826968bd0cdb4d0f2aa5509318c5fe0aa0704a056e8f38d1bf031958e0165503d2a810a971c34885bed85fdcad3e16ef5c1251bb961d5bc543f52e088f1de9210495206c3f8b03b6f51ceba53e265132c534c360a136813dfb5fbd4edf78eae47eeb1b88f0152809e03df2a2a7f94507b0fb59a1f042fe7fef6dda3bbd3690c22a6acc28363794d767ec4a632eb57c974beec1b07e4eb642ee82e4241cdade9ac66b0f1f85b67d63c7395e7a7024146f6ecf48846c9343368e71fc0677e419f56d43d675c5ed3a0bd8622e86051e465496e2d6c99f1adbbb7c9d528d91b268ab5f555c9fe0422d309364f0350b91910b94e563cd2091fc7f4c39f4208d249908544bcb64b99f2d52966e4473804a44520874f9ab27d762df570d7b8bab7ef41f8c2dac89355c87334469770bc54ba3d29b02cd0ed4d9ec94c0d9f2ece5c2519f1339bc19f88bc482a8ad98dc6c03b93e3ab00e36221039beaa22fc1872b4520c77adb9af42ca3d6fb7c445cf142f29c0b8e0623cba41f6911beea12efda91912d67d92439337aea7b726525c8fb59046c08179e70f540f9cba936cf73faaa6a7fb4f0dbafb2231fc992a0a845bd85d0338a8c1981b5225f1a344d9a49c704af1287107ef7374c41eb42a10b2a5a07ebb5cb73a1910f1a19a104feaaa0702c693bece90c17a737662481d9eee6799704f8392769298899c7672e68a07e21fdc385cbc4f2282815c89fd863b867846874e866e10fa03fe969aa9ef2efb965c1f85a78f02d36664ff406a20dec3f927818febe88a8dc6b8a688b596b5862bd1cfc7f5ef81b2786d99dd86d5f14a97d87cd02fa6c1684a3ed46e15eba7e2f73f9a0ee28acc4c9f2caffc832054970ea668da0164dcc1c27bdf7910923716279a1b154890b557ddedafc8ff8483d25004e5905ec5b7e767ed146a720551037cf3abc2de88931f478c6b2f31d6d36586b2cdcf38baf81bff296c311444f0f049a6c64090243f1f0914424d3f20e673d75256166d7e71d6faedfd2b6ba2fb2f5d4af2890dd1bda49f202865e900641ed2711c32bc666f9c66e79559e664706e542b7b90e5fd2814e05014be0f886ff6ab79fc5684a13b4b353517907503ae08f3bfc6804adefb0ea0e1d95a5e4b994be27b25f649ed785e8a89956104de0bcae65652c4c23d6c5681e11e22f8ba40b595865a014144c382890e7170910e65aa4f0482f92a1716c9eaf762da2ac74507132efc7ad5fac90f2832ad721078c9acceddeab095c8a3293e5e22e78e660fd28aa69b5770ce93f9e079998a5455b86af08e75f84c9172dcf0cdbb830e3a1365dbef426d1616013014edfcbc814417ab10089e46816c9122cc1dcd33aa3f9a89e2c87c5fdaf43b1a07fe1ee077e2b3a66c652e5d001d8dec39de00bba159a266700eb3bf8f8339cabb9cfc2fa270915ba330bed98d5f176c708e0741e98e2507982862890be248e3bd87c23070df6f240a5b5f89d6eae0916e67760045796c9bee3c6be8d412425fefd6f1320297452d555b1fb3a105bc91c93471d172940b40a13ddfef86c89f75b6994b5817afb7ca6e4474909c60e2a43b5c404684164893a4fe823c9d23c74363237dea58e59871606918569de5a1224df5356b7944cc0a53cd4939a33a1f83025857ce504b2ad8505d431f0137444d7d9e5f618d439927b0ce9243746080c025a23aff4e0e5b8c8e405eced9608fc9b5d9c201453e886ac10c1bae734d1d379275e7cbc8ed519dd251ce5082fffddaa9f149d4d5545b8e8b6a6b2c5094c09a697dfbe207d311d2868ede956ef842b9ae2f6f60a57140e89f112a85825a7fb92fb57eeff2e65afad00156204924d69d359a900af80bed5cab690859578562bb096a2d0b062ed159d15cb4faf25826c584f3524302c49896aca1e8f18508a5bd9c180b95ec2818e01311cecdc0ba686261184c15d4ddca8618faa46df70b319bd8ee7c90e6ed819d8b04c44445f3ce558bd9265e957861dbad385b18a32e05c89244d1d77d6865f6a02f480a23c35a8412195c594bd722ca036e9d59bb8191a2714457c37dc447cdb971be8c2511907cbce77147bdef41eb0e8b7f36c08141b43aed171fa53710e5d4af99298456e67617430b6c5304bbc460750eac13f7714accbec2f7f536e2c80a1110d8cc79f6f8a7a442d3db3b4e534d1963816f515b09a506f0629e4c959eaebe4a2d0ba8b8b276e7a80c41166ffe965a5fb0c0b35da47ee7bdea009dce0078369360ea3c7134210d648c0353622e1f6ee782e45b596639781d113d5e3bdeddfb1251e9d8a7a0ac58a2fec18a18d2eb90d990bc1b3824c62a89ec035289e5627d6ab00f2df9af43ad52db446c813ba0d4abd83f61c8cc9a0c433148bb649f710bf4dee0ae35690604c9558540f8bdf29cd3708813e9c1f5d7757d8ce51dafa8c34b4fa150d693bc1fe05cc6d433a93b7a9e03db89e78a18fd3daf3fd18026a40136be84d8db0f9f6c2d039970eb3b3de8dbd51c735ed41809fa67afbf6b2400d6c02a1b0e426f0bb3eb5060b6f8859ebed2ac5f11d3913c54ec41a32bf26840a67152dda58f25472cdd563d960506027b53063def83f7a2267410b5bf5625eaf6e6d2729d0533879fd9b0cfa349fd3e71365bb85992324e733a25b5f7ccaa0aba3dc4947422eccc53054821b17f94aa1d965361df7dd641eeae67e803ef823bc04d0fbc5b77b2211c1bc33093fddb1426069c72d3ad3d2dedddc269283d67e1e2cf3a9286d71d8488363ad831c8562aeb09ad0a3cdf7a8633e745df4398e17a20bf2887f253c427617240d3355ad8215c4e0d53e0e5572d7c13c393cca16d285431f222d684ec6ccda513d6ed84e5ffafb93f3c1fa8503be69c248277a87b4ea88b5bc19022c9461310b918affcade8f2bf10b9db577fa3626f39825b1416a63237324bb97fa0fb113ceae479237e53f38e73513b685b049a30920d409ad49affa17cb2e80f85e30eccacb084bcde302a3c522d6466ea68d2a5b45e4be684466ae07ab83e57ef71cd66056cc5513b8803ebf8fe1d4415ed4bbf3c8b263819dd3ed83428e0c10feb1da19001507786394ac0e1f73ce6ab5901a011adad53f849ef9a26bf59df58352caadba6794d81248406e6d08442f9e33a5fcfce38821982814d3008d7aebcd7fb10bf955b81481b84ae3564704a0538bf8696fd1eb4753f6478fce8baf54ae502ec9db90515ab29f3be82ead494fbbbd4d7789a0be07df2c94aa834d8a2425dc46fc4e179900208da6d1f68f19dc6187972f4e8e6ee68df1e4af76bed349a4dbce9e6d033f53f58501631921a77e78af1c1d46d1d69897844dbfade315c0a375dc6f32b20ade8ba82fae424d916d750c5cdb6498281d1e8deedeece01aea9ff8711eb88f889fe9de1c80472823b14e30898075d2af3bd623f674ba85e9d89591a3985253359511a43a707d4660becc87ad30433b0bab269f0b0c5df8733d7c0a3d6604215510f355a043dcb495b1d8c7f22654975e5659b3ddf831fbc74867b583945dd3592c4abe4fbf64d8bf989f99765e2fdef5b80367a4377ca71126f32774885ea4b4faf03762d6bad87b8df5aae45e3fdc83f204e4aa5a625261230cc2eaf83ed20e479e7d6a1979d3f707c65783a5ba21d7b2bd4825211c8a0aec795a4302089a067cfc62c75325c620f0eef484b1d0a2c5bd8bc2bdacab584d3a1eb84286a1385274cf84ebf6c18d31b1fef9963b0b9e9d85c468e76a8cb3c04cb7f4dfae6a41581f27bcb14a209f23f7207f30bc8d184f399b95cd7a933cc77c60b9605a921614aae2e9d6645bb129c3c25ecb5872cadc3683e358467f945e9bc78de84bf9296279be58e6f71b9e594597263282eaf09bdd31205520db23eba87e65ef489c0e0088310dd73f869f749ed869f6db01963773a1e8e5229af7345e34786075509e5542b0c6b3a48d4d683eb989f0e81dd78ab1505c0c0b732b5a24b18cb2fac1adc21c42db7d98d934af4fc9e2c42b1d13e68f240a9f769bafb6f1acad1420eb20228c8250267bdb3145edcabeff9bc138482e582849f8aa8f2b402a7bffb2c0f18201f57be3ae0dce045a61b2fbbc25f39287ef47bf0ed07796f3235624cdd85c905904284775ab429c742119f71cdd7302af51e5b6bad0845d67706880e869321b848939608893f662924778e24be3c7a14499948eacb2fe3a34819ea3b133bba93e812bc3c3c434d9743e9f10c618f50c552e55303aa181fc4b93963a701cd081088c6d0abd0263af0b97307e05440cf040c44a63a9ba48c504ec87b4e191c7b6260c1482942f88089e1e004b22c6363c79104a1da431d5815a9c7c393c2750f340f6d5dc01062f4ca81e084aa875c52128aea3a04feab603a740539c52821d039c706fc8e19ad7a455945e08644baf772ecadded4384a64c80dd2be2ec9b7e02b196666cab6a26ac086e2f7002fe7172a7f02d131406baaa157331f2ecff1276326834e60de5cd0db02ce219786afd02bbe524c7ad6519bbd888f335a1b29fbf98c452f350dd19c1dcb7d34801a10245509c1dd619c7a27f88bb03feb0ed8c4fc0d5ab5eafc62a4be77016702609bdc70acc64d1ad9c92cb9fd2c07baa41921d71c2b04fb14d556d9072e54be2d00d68cbfacf604024fd4bc199a288cf5a49c607a95a799b907d62aa49966c5bf6e223aa02f38bb63b7252491ef6e352da01e6c6063f5c7af828df7abbd64030b513b4cf7d05bf004c6f99558c2bf9749a2f40746066fc2dd8493c55b4788c69b5e2b15c7d38626bf0ac63b6091644983ae9ec3fde0685cde4a3d6d577ee92ff0b10df2806e54c12a2a032dc5a1a60f9d443f5f4055c0f5714e95f02ea045a0b472a835c6fd787c5be15077ce7adea3753c939fbc3ab6280d90680c4378c1f50ed6b7ae9eaefd2e7d6bcfe4e3171fb5c24685bde5e4d96d","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e8f2e0085bd2d6905a573e9d9e98188f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
