<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c0c30db311acccd56ab96fb110bc86afe3fbc96f59e61cc3ab772cf9553ab359ec4c3b634e0b99c53df63dab36fb84078436ce500f449eaf96ea96a2ab26367d0dc46d2068d3e45e2ec2e20f20868d7933fdddfbbb43d74f544f7251b284daef75e98397f169b6968cbd699c6cf9166d3b24725efb316a9346ec1e0a47a2189a93cfb327cddb8cabcd2c06a27f70100df4502347cf003606f6a2d2483dcb315e91766249b756d66cfba22771c3223ed4f788cbfdb5564fb67447251ec0485acb0431e712bd3b5bbafd8b347d058ee8dcd14ad34aea480e9e0217039a7cd9dd45765b801fa220145156246403e1500879b7079832f37f549efc135aab5859e199a88211751736be89ce1e1daf42a5ed38e020c736ceebc15ec64b1457e61592059cec571e3915fa41c8dce49ea59c014d1ec930d103c8f6bdf11b195e6f894087f23950eaf5d1a7a1e58c90f821a26fc34e05fabf7425c8718bbd603437f75703f7d4a53ab324bc049ad82970aad30680a07f69c78119aa75d5bb2c73410eb1e843fad7394f68df16be685e8cfe5db5d0feee59c727ed69cb7257db9382c18ba31c22894b27209af1b1cb93f86c1115b12a043287383738d191f16d6e93e36552dbee202b8ead359ea8e7f37f2aac8b7a1fc0b89dbd82d33b3f62112f66bf651807506a72a2884466885a3bfad1e393d873266bd44e877eb13645b573ddd33efda11bc8691e1276828f8c6a2c21d2d33a1d1f8d33d19ecbfcab3c3319bab8a38dfea1bfbebd0b85c056543a1d79795e7c31e3ba91681445ea94c45fbba1d33cc1c6d5942f5583c73d29574ce011325c0655f236fc9040425b41541a9f3923d184b94f4057c21b1b658ea47c755949e4745117fcc404c7b39d6e93a2d0a92941c34ea1a67f7b7690a1065027d24f813fc4b91180b84d735292dd94e4f322dc0638bde984f6cc97e282efa4983f3df85ea4554733fbedac12fea9283acfb090981d9b591e8bb5ef6e0beed6f9b1c6f604e4942656fd4feb45362ee8a1f8c3bdddc28fb337b19df4a4a229df1d1cd90da64897df3cc3fbaecffdd573b6d20377a9755b6d24fec5aea9d623f0afeb74af5d53db4aeae00eb609befaeedb7bea6e3438a5d890abd48e73607e79fecb51b165ca9bfc84b4669327df8e934f42a65d640c05224f77c68128d12a69e5e37f0b0fedfe3f8ce05848138228da24cdf847bfb516f5e872f2f88202cbdd4bac39152780f0f49f545b4a47dbfced98b3823d4d3430f08e3aec5b266a798da7af2603a8db4a04e9d3175c9b6cd81898c0925643aba5bbee65496fcdd6741b1434fd511b058a59b7f8954ced34d7693456f5e18ba9e7085b7bf854e622d2d31374babec1a77b9314fd64b9d3036c84c45ef8cc0d6c6d3262ed8813c2018c64b643c0fddfa2cb2a99deec2a9df83f9501566cf7cd4176b5ba5095f22308b65404a365f4484bbe188356931e2a2de57c715424d138e50f70287c62fb9b93c654f0912ea75ed7619f258699b27d718684e90f06e15446f11484e62a78b27a73256078c12ff68270cf6100b1c97a4010e800c24250820021a7eb6cf70d199cd4ecb139272fde65616ebc7c5697f4898b8bd59dc392c0d810f85659e36efea06298ed0278d9473588e3e76ea5b2aa9e7257c2394f10151f84e03d225f4c85410036ddb8f505a11e4ed276c1ae6abbeb573f8a9536f385c03c9979064ffc07a76af213962e89ddb21e0c6182f8bbf438e87c9756b5115cb94403efdef6e758048cb35731db0f37e70e46a508747a52678cc2c39b9848cbfd2d68832c9877f55a344a8d7fc9dfb1fc483b102fa2d56791381c6dc278952b78d85263bfd1104f340f384acb3d109e1122768d898286001542d35819817dccae08cc4682d04495977462ad5b352111b524d65abfe634d233a4f8f1683c220f0a0f6a9eda2df156e3ccbc01fe8937d0b4a5cfbf047da72a6c7ae41c32b2dcdcef47b9bb0a2323ceb975ea1d3d384491bf6e03a6d6b31452be2d163418df275cf4fda53b2bbb563d267c7afbcd00f9904912aa3a8fad92288581565f2b980dc2409a80d616fc8e79ce7e3f78b19cc35cb7232202f80084a1716a0a6939f4698d834245206ee064ab78c4daa1abc2949effd74fc2fd5f6563bed7fa4766c1ba1e8024c496940467ea42df38dea233e6120ba05b5b55e4a5cd165f2a39e88125213b3fcb7692002343a3ca7a17ca54b81eefb7feedf6f140b7deef7573758a686c299e1a5108404a84c27185ea672ef8396647cd44fc51079b4bc1498ddaf5be2988a0b675b26e2d699855f92e8f56bbf8df82a6aa21328459c17937b88b96f6a58f8f44dad0623b79778f819b6c9d763ba4d6ca315906cb9f8f25f22f60bb107b7d56622f15ea50db6985e5d32bfb8684942124babf1a3359a2fdc7e3371731019740e46ba2b1f56b03a49a51b1d83928e4ecd73c7023445b69588e204134accd0ebb42bb3d5e608232894c0bf154b8939ec773a4b7e1d43f705a4300b19936ccd51d4558fc897f313a00cf1be1a86b0bb8f6da8b4aa15dccb4805c313d43e7b2614337544ba20b761d69c6f4b542e124b8de2c39f509ab247ad5412bb9e1e3939ce4473b913a8ec9ad197122223f581af76af422f3d7224f2133da6f3b63a09146cfd4a112e6c83798d971aa420a3126eefea2b7555536ec81a6188ae4b9cb3c5fe79393eee209843232d78319c4f0a7b8924a18e12f4a7d4b05faaa79723c628bf8838f4256f748e5963c10ddcea57fb028f648a4f94b7d240bae86d2b969d63274b62384e1ec8d4dd149a4d1709281b0108c853421fb34f5404ad31feef298f98c3ce1ca434bcccd0e824e906ee90a6ec3051835192cf9bb865e2dd970f9afb27a2252070bc8677c423212547ceb6ec1d98ad1d08f98dc3c6a4476f7a08fe6c775afaee26d1caf281d966214cc101d14d614218b79e8d1240ac47aaeb2cb3ab611a86709cd1e7b14382fe9fe04e1bd35f0db3245f6d33061c13c8fcdca55111c97a7bcda5c62f3848e16a0d0f3d92855280eb1618afe11950976a077b70bc3aa9fb0aab6695f6688a8d91fb120075e5ce79bd692501ec41cae06095947952d02d59f3924b7a63c8f6325851db08cae04e33d8487e5d6157390baa6dbdea17392f7b88ab43b3bc311189a60c460cf191abfd5f198fbf23dc50fc757030fce23d404643d7fcfaa34affba67bfcbdc46bfa2cfe887f8100e4bc98758e6917184a33e61e58177612bbeb76b80b1da14bab6874198a2c0b380eeabf54db07ec0442da72f3bff05dfee7842ab534c4ca0e5460f167a335059c802c951656b0459e62ce090653f9d49b79468594cc39dc9a5b4357feb5f19ae24a02792c9fb3f6095d7f93dc64af8bb0a466f17c7f51d0d58f7dbb18bf8273b7ece60ab83ce03f0cf48745f03008f690e5847a364760b412a56cf5f3ce00779a3c85c7eac3ccf57d1cc6a56c2952f8a93a1a4b5462f75f8448ed079e7ad3ce3502b22377f53936817275f21958a7f02b1148805949a09cba16bf331719309ac523345fbdf0b813fafbcea6a7570010f3c032aaaa1a56f2d83c276d1a0f85daee257a367eefd3a090aba4b9e6864df8b045c9ee7ee6a70ef0f7dd314222613313301f3572ded2c5a67e2627555b02b1a3cfd098b097de26bb6841a84edeb1efa04d7de58d108ef34a3d2e75d8daabb32a43ed27dcf7ff66c80dfa229369597a2a08e7ac6ac6e224db940b2032adb1fdd8e1e71e524adf3c3b3858840f1a65020fbce75112f5a06363898c3246705c22646d8533a885693312d5255ad5581fb3ce1d6bce504f5b4455a4e09ddace68dcad2f647a3cb773215f0536611402264bdf66d760b7465d3bc4c2a8851447c6e9c39c774e01ae4f243f9c789dbd4efa6f37b31b446113df22aeb520837da4629949f57ad580466640237ab414e2bd1edbdbec249a1520fda63ebcc3e30f9fc21669c932714e2f2e76a0685dfa8ed329e3785a3cb2a41bd1474a3fc189eac45756507656fbe1e2d628f76938e722ef01c474597444fd3784e8045ca4402dd311448be8ab5a793f4398cc986ced13b1ebd397534180ce8938428018b55a946eb31b76812c8c1174e47cfb6c6974a7036bf601edab427c6d7f2b4ce853a3880a11a28123cd0990e4d7c8a597197c3fe139579bfcab5adb1e2eea7c3c161cf527b43ee3c80a196220001880eb103b986edd843b4f28ea65d064fb5eb1290f0f0a828469a426411be8cfd5b05a7e8b6e0077c32b09a853a299c11549227e5f442fff1b65b3a817f4b0272f194418135d14816160e4bddac7650c5c7f7e23bb4f7d9f524b35d25d03c13ba8998451f53c6e6d7d92a4c70370a07bdcf3a824534a8a675740d855b5a3a2fe9a7314b8e7a5f800b1c5fda76aba231bfe060ea968148c0c57a8e416fb05ac2ab97aba23b95af11d182b12e930eae58a5f37114e0b8320f47c36957d71e2ebe0475d008db402861dbfe8b3a36dd18090e2ff24a5e952edd37224f58bd094ecd8324e43c030d5eb2c0614c776c746e8555ed36297133f48ac0bd4cabfdd1a533ad703f634947877d1b7f4ad8a08c2e65d22da071649505b4f94d88299f66b523ca419b7508f1ca1aca3ec9b2bc8c1d91ef425ccd4af3e2ebaa8080fb8b4c038963e7e3cc8230a3da587edba3d2f49b71e8804b65e5f2f1f53ea4ed07cfa26ec2803ff0858d4dcaa837937e7d5b2e40bbe455aa325a25c169f464b8340b46bcceaebb9887bad3facf761ab0d4ddc02196d7e99bee82c76fdb4c0ea891725461c689179156f100637777bb1613cf23bb40900aa3039d1b26f6eb0aa6ef3e7d0a26b2f283f7b02457b8a07544f9709f3a447141c93a8e455e2f538485a7f0c6ce8be0be85403e4be2b56c065ffcf13a8429997ff1b1661500c1ae87760ec2d4e7d9c2d287772dd4001bea8793f376963b29e33572b67e3e77d9d848437a3b4fd49c0a356f09fd0d56a6f95e9e746174afb097b8ff6a6d6ad76a6c58d0ff01a6cd956535b6bb182bded4a02e2dcdf5562ed30ff1cdf9f586943d76acc41d81e99f8e25e8e5475d0ec9dec0c04b3a1cc5e6eb5e2818b99d7a1fda8fbb7b372d74c03ff34997a2c8f469a954e0e976359121ea0e66eab4c77dc911f94671408d2ac31054e7c5fe3328570a81d96d77e21253217ae5f4d90f3db3f363602cb2f4012f956e6a122289189874cdeb3310972a9dd95a9f57bff7e01cfaf3837ce585293df6872505b0f8b9105d29f8832b2683eb5aa8fb3ced1572cbb2d42c1b4eb21c90a105224d337ecace42e6dc2b1f2fe13828711bcb7633acb23ef9f3288590532bdbb514218279249b4d3b8b5deb4731e81aa0a5d0c5185409e1ecf41580f2d18bd1cf91d4e88bd3ae46dc708554a17e7b07f666eccfa556d4684d6118d70b6adaa879990942ad79aa1d29e28dadb3dc83064868ea0bb9662aedd3d026ea30ff71bea137f0769abc849e05dc689a8b9b69df85226ed9763588de80120005d70367827c9b9ca0a09dae26542547a64fc43f00d164f3a092d49f24eab05371a85218367b896f2f0516cd2449c11f67ee3bb530dfbe3c7f1ef9182654b2d0edb3fcdbf5f2e2f34c6dd2078eff3443ac71cf03d5ee4d767aaf44f0c8ab05463eacbbe93b71a290ea9f18b39b12e1a7b6f180113db2caffc5edebb01da1f326db44a7441556801fe9c70b3fa0601d306a6c4960a19e1d4ec92596921310f4b3e4a5fda8e9f681a9fa1f98063fcbfc73887d37fcbc2e6b6ef95fbef5522d69aecfea900b0a006c6c7be4559df1fe584f6abeeeb93ec0ebabf01cbb7c5ac2e315ceb1e00c01727afe8cbdb2d6d6988d07f888c32cf6ff1d13064be01279a5501876b8def460ca8c8872414b2882de31eaad8a0b139b79692fc13fe63f286ad978f9f1d5d99610ec7c86476d829a0198d5bb15048b67f0f57d81b33f93bf30fb80a036d3fffcfd2b75f2a9fbc3aa24ef84b757157ea9dedbd981ae2d24c691c1766864659ae115f46acff9b91257e62f7d0c3c590513f47139796a48b90cbd5afe21f8d2991aad1c4eb4254277238385e2e92321135add08950c1f1272a97afd3c9e460c808adab7bd0240263d01d1588f56f2e98a3bf09535a5d2fec77eee41f7ae39a9217fcf7907b42b90369051b9e152d632d253f67559c5d555618fd11d154de50e4aaeb8e4276049fe1c1dcaa3279a09ecf02642dd4a763f8642ca8be0fb7a5aefd99de541fdf85c9fcc5e18c04025dc3dfb50c5235646a2e49d2c43ffd8cbe3828482cbf65dc48e58c2b295a47e32e9dda28fa9aa91e51b5038c481b3fc42992e163c7b00b3e252d3513e58322ad9f0425c22be8491d803ebde3e6f058096a8bcc49776670377401efc007bc382983732869841eafac2849d9ee4088f84aab30b10e2474e0ad6f82ec4490f95757fe65f8d7c04270a2c3699426de4d457d728d263f549c3062d4550cb385177857f5f7c29bde58a9c7fedc62092b3909a1c87ace63e395b74774ad67b6cc64ee78b4eac03b65adb35f614441bcf0ce16df85d1b56e37cc66461dc4e5832ce4e9cb4c4ff3318a5dec00babe722f76e15b75a878ccce44cce9a14b1232350fd922e125af1fa66d231cf2f2cb4fe63ad82d0090b061395002db657a340b4bb6f498a36b46b73b105354309985d7bbcbb6c1a9c61c1098231abf1b11919cddd0a3049ea89fdf951ddfaa8fd6a4f9bc918e06e78ccff56a0fe63e0cadb6d1dc576156db9841578ac117b811e67f8635b77eec843f2caf0a8138abf8ffb1de2e6751b8254593bbe0c82aa614238abaa648f2697abf723ccbc0cbeb9a6fe4a414e36cc435ca01a82c0d326803519b002a8f47e350d7878312b661ab2691c45b87cbfc1f05f0257c550d498fd10654386761cdd35838b7416433621d65d1ebda24a429a54774ec621d33800abcd1da84d77a0cde5e15fd5e12f41b9c7efdda8684158607a7cb2347ea0ee0e2148b388c36e234645f774181eaa7c7b12c7319cb1d9a41e0f4ea298e1955d70bdb0559f92466adb132e530c29285423feca1011a0bc93f3e2894ae90077af934e5e6f969bc879169ee99e55446d3372a81245f99c5c8c6de9e5ee4a30e539c3cef113869bf4e24aaf2fa342389dfbd87701608e100956dcbc94005698ceb7ad87702c74215c48f153c55749fc52a7c09779f60c4cb819bdc1914301f22446dcf80630845924e65064d5d0b56015ab4897ae965a400f803095d3efdcb882362ef9fc21ee580509b1baac3d99d200aff0ea152126de33ed41bf563b4cb6f0d8fa79d50e193ffad1e10d3b02f44e742903f24a5d6c1158ea4c0c242d9c14af495d66b23214624d7eb2b5b4d18c7fdab5cd3100d41a2671ef4664a706010804eb5754fb942624753ae09a70dc6f3dbb9dc83beb1cf97455ab0def3bd1b2869ddc797cf958dc27b746ec02c12b25563dd6959283797ea6cc1f8920d958a960b2056ea7a176ff4caa429bb89cc55b75cf5a697ea5cc15b6aac0836699843190411b5f338fc40de203476ad42576ca781e0f732f2ee52ca653980fe71006a73f201d0b69883acc34b6b0b784abdc7021ae2e74270d643cfbf2243f1289c6d0da389720ed4bfd5f7f8a138b65181f9e2074a582654e9277e8068ed9e098e0026ca999f266f86db8b1a8badc7321069d09a8b97fbf0024f372401f39701608a7695ad4037e7634e180b179a3344ae9e20bc117254e9cadea33ce781c78190524ec8b95c13a3c5056094e47ce47c433e20de997629cc187d3dd3d767f57ae5c969d4bf6844bd15ade82ce9f378c9c3b3e812e4501cdc211f133a988d4652f17ec0cdae1b8aa3f54e5d0d4e6c525073f00a8e782c9ef22011ca83931c1babf4a9b9f8f3d10b51b968ad3ca68b7b5b65b3ee9ab4a54fa5821d69dfa92bb71858df468826b06751e2e8085b8bc3d63f0f8911b6302d825fac4a21c8809cd39e8ff0c864fc7ee3594af540a462b0424f11499e6c9906653b48ed63c27e1ef117858770d3e08ee369383efba36483bc34e32c0fa75f5c084e1da2bfa76dfc72406ed030449e06a3662b144ed9aca19002fa437e79da7ec3c2cd53a36016d4a779d8cd6f171930ecdf6bc0de8bfc3576464b309e7238430c329b5c944acf026b7cb97720d963030917324de1ec214ea13c63549b8f6ca8605a010a74348855c4f4083428dc3217ee0ed4a2ff509e8ff09576ee8e3649bbf793dc96efd367350013ab08a9781d8b4471f97134e35db4962a688d88bb7e024d5ee0a75c49b894de4356d71217fc11f7960e4680f154424c53bb5237d262dd43b3b831bfd6e3c81e0f447a63e4ea9cc791e67e43748be3126778d9fb75c0242a8d0c126f6c89b7e7e4f0dff7ce643433f1b02627c60ba64b0cc509b3ac94c132f17e53bdac56f217adfdbc2a97de0987fbbf90de42fad93159cf648f97cf3d08333216f9957ca6fddbc4026d402a5bbfb608feefd926815c7b692da090e0debf46fe47230b2bc45123f98bc491d76a0a808a722a9e643814149ac4b7280f27d263e4e0f66ae74dff62680a8c9b34dc4a51e9d930ff21fd10628ea8b90c58ae310efc9075e8360e48757359462fa2e23026c16117458948731ac32750aa9341135f7dbf2a50ef23603bf82e804c0b89fa847c28a7be611f0a24569998195c8113083537d9cee371baf30c8555cf6633522c2284f88c469b6c94217febedf140dedb3031ac0dd0b6df615d263c81bcf9d0f8e00ba825eb440b9905b79eff2eb987ef33efb0288a01559a2b595433173a4f95d3a8a27e84dbad357a71cbced85b3eec3a28f584eb34f3fb69a9ea1d897ae609be374e9dead86377b15577dd8dbce65edcd11de34af25131d8500f527aabe5501f6d556f3b864e618191ad4776a648faeb25771b55bd08752c636f23be5c9d981610136129665c5bbe3e98c32de1fbb3a1987dab66c8bc2584af2499f4b917e2452bda3d717b4881bce1de2bc5d0e5955972e776b986180d14d1bb4f8f0e78bd24b9917697eab091705f2fa046b783f8fae80b3d270ee32157c88830b24799699eb97b001848beac64ad60837b1c42e895e5f1445083a159017a3605df1be767579af2865e1fb2d3d28fb86ebb61ed54c0f9cea10d8c65d4886e74da2985626a7d5f613e9dfebbca31a0beb3746fabf47c6c0391bea11e3c6856dbcb912791ae4078dad476349e213ec1e7f1f2fff7e6a6f5213f577bb26e2264121a62f57ee6f35b7fd51fdd5b4c7c687b56e1ec7474bf233098030cb32b4a8fce5d5f48e7a9718981e696ee768d8ae5503853ea95916ab74e7494a084f3032c2472b083348baa906ae6b7c37e4e9014ac186d7049ce9b09c49013dda037c289a8645248a6b13b538dab2ca2e45986a1ae6d546a44859048892ab05402a58778253b65f070c461389d36bc72237c562d8b687a9c9302b3a1fa5b00df453ba29a2a59b246fa9ad718f84c3debe1bcbd8091d6cf220d3a3d3b08dd122ce6ca20d092dec0d5b1511d4c6984f3a6b12a9b8bc0af025ace1ef3ed3040787d96c06e3528fc229f7694da9ab9c003a4a9f5a3c29ca84764bf9dd274b0b8b94e5b4726eb2943f622133a25cfd29394f1e9b077f1e2b15f656af8b624b95aec81fe2cf0dbb086ca0cdaf157997662342bdee4c26464a918277e756da511bc4f168e1a65452a4a6bb79cf296bf2352e1fe2b0f5c345161cfd4e4e551794227082b6588fff71f25ca47dbf0827d65afe3fbec4356be47b23ebdd5c97a32955ef9151d4bda00795f8136456ec971021ca9d3ab133411af29252ca5fe6f59ebba173fbb9c4dd5188a19b188d7f220c9bbcdd42d41f25162e92a0203ba173d15ca11d50fd618f4892d97165d760fbcb68415a76030cd0b0474bebd49ee7f584676016232364ccc2e6e62c37b97f05c2b7b814328b9d6ce9101fd54e251d25941b2af101f94f3f7057c0996e169d2476dba39efa92ebb139226c8c54943cb390bff88e788b5943b02798c6e22824407c8643cb2c28a674c207e8cb84ebdc06899c58c5e7f73626495e1e307818bca1d1f6d7334ab3a9dc7cd733bed549f7ffb80bb0a4531496e64f46910b2a8e18a200526bf7a1f5f046bf804c4eccc339affddb9056eae32ba7d72240ac87e82397e769e6a1851b3288aecaa60b6bb1285f9305f680afeda1a1423cba1005a75634d77303cccdd3150a1fd20a044bc089d3202ab1b8bba9b03b04ae8738023b5575dfae60296a6b66c7debe2346860f7c2c492a9167d3b3abf8cbffbae4eea70d45f461e3cda5d0024531918ccedaa9fbad8d5d6c1eb8b040b31bd4630be9819d75bd3fadab8369399227466b00292a59055147f85819188458089e8ae5f840225dcd660c61351bae24ff19598b334dfcdb77f338d394baaf4f8905ad2dafac8cc263d3702713a5648cc6c8df547f97c35e987e4e0ba1afecbe58072a08c0af017c89da8152257231b21672a4b3db2fb9b07ca9abfd6795d53355b6b5a57ccd7e806fd8d9debc04d429ed845ac136ec26a978eb994cd0b0167debecc2ca1344300cb4b7adc4556443fbc71c2ea08343fcb6cf0bb98685fcd48d1b583fe919eccb5794d82c60b6a3db006e58bb568bb10d4a5a34e00c5a231cb7936acdbabf6d8a41cad3b5f6b9decb331ce8102d9afadea73f0a3a2c6060aab9ab069eee905bb6aefb6acd77d643d66110fe5a894f40e29efcf36cc4e2e8a695ff01016c898c4c9c40e2871e7f933cf0a1fd83051338ddb1f2e5bc58c6a9d62a5b59e8737a975fc92ad356b4dbdb267cfebd354f10170ec8a1c84fb8952cae5dd479d48437bff45fb6cdc2d2411f2540ecdb2555afcb5af1d2404e8ea52c57bb782e59b5ffc5e94444bb56d605d6ae8798105b60fe3f7a818e45de5f05276f0075b802b4783b936980cb008d7cf373a230063bddb2a47f7a22834df8996e79a380e5a447a0fe5541ef1356428c9f1ae90c80ca787ad54cbc9c2b64c004127153e152e43673e800303937325ec5d4e274745a5c098e85b9883ed80f42244a329c09e928a7641088434b5e61f938887670ccccdabb74de2634d7ebfa54f2ff782c6381370bf041a9cc30c97eb45b6bb18e30042ff6b07e2db7c1da3dcc3bdb499f0612abc339a374be218e41b3bd1a5e727c9003d59b4118667862a9fdf5101077dfe6541c75ad6b54341ddfed836d535e9dbfcd343781c60b1e76c7b80a01ee74181af02c866f6dc72e3901cd744a2ef0296840947e1a596cde72619ec589b3578699e1d19b1b9380ad4ac0ac92c9d0d997c8eb46b558e1cc72ec047032c96233db51f227a6c63002e49ce144ec3121cffb581a8ca4171858e1cc21dc4b0fe20265ca93068effecf0257a84d03e7eeda6e40303b8e7c2cfd0f1129eb3b71110a5be567fdfab17a9fed06a2de9d08e9046779e9b75890bf29ba930d82143c3140f00da77c35d0339974894e6bf3ad5f37b2ac2b6a8f6bb5a188a9224184df4ced8d48efc768e3d73ad13ba367da098234fca2dae8d78665d2a373d78f1960e651234966e0d3c1651b386dff1f4ac5c1864b5afea5cd8e3c5398e6262e2dcac6da0100923f812fcecca640d6532b8b8d88cbe0e4978cd65812d3b6449de210ef5049b244e9512b3fbf6447360a30a277ad5c6523d72dfcb882ae13b368da3074e3236a02e128117fb581594dc25acca8353257289f22009fb0b7640e59ec24e6f5dcb77fc6f245915b60ef0754144cd56f81f027637c6d17ea8808e3b07e6bd376e65deeb875b815fd0552a316ddd30c36bb2ef4df896187e53cc2de2dd671ae9d55f9005869fdbee3d80d6f54b5f82fef7f4727e4a9328677fa01bbcbc9286099a0401f94d2a644adc738d25364b037ba390cebc75e5c047d57cd7e16bd194baff514a1ca6ccbbee5b1d5259d9a3363fa46bbc27138e10bc10654779903cb2ce4f5e207c3a78366d94df34d45f8c3ee23aec7b98eff023f0c0ec01973d2f4123dcbb7b59160235fa7f5b6bb178f8524623b8beef1f21921c7c29a6863213be085fcfbd2e1da36e4da1cac22f2a5cf2d33bab5097dbd3ae8c3e4c21c56a59624f66aaeeb7557339be65592acad2eba9856cb4b2a326d97712e36d85649a7b1301f7a75636abf1fdad454f76b61466191a8561985cc51bd9557c5c5eb26a76aac5b0a220843a55dc28830d2a7b6e4f0ea7d44f72988eb4343cf8ecfa63eb3b947ded3f87ee2647d76c5be10db1f032f780370c232a9ae81aedd963581f912c066395312e2ed11e76da05edbf564119987ee56166bb96c178fbe823081096afedd7eb89167affb2e90b8a8b5bbc43e177bea312b1ee0f07b70c67cb2faa6a6f9f373f8d63323a987b72fb9592f58777137a62f9419f1797555430f85bd98e7ef261ec80b33b04088eeb7e7542b420ab34d3b0be19cb7645826b3338525426c79a33d903458979b3532eb3dfee2f6e813f3682696acf5cf0a5607298dca9437dc9e7906ce91d94c6b1580c9cb078183774db08ff56cfe32125fa687cf37005a5cb477af9271f2b89385e94a24e7cd0c13d1bd52b70e0877528e862cd40101cc8a4e31e65fe42840a6380ec8aef61036882538a69aca6d837f96f8d181acb38678fbbc7a3b15b1db04d275f87940421e37ee76e2c4e44b564f2a30451b3a12b27f510a5981050efa81e785556a4bf80e5bd8966fcbd0bd8b7a3f25dd6073740ed0754314297542b38a23fc759dc8a6c265c36ffa7db4118d98f6bc27c8e7720c017e3bea954947ed3531599f12ffc9a319598444b6ed807e83f76240676e3c681d6c01987beed45041951f9f41a87399da79f3723e122095d472f8103a9c8f9b7972d94f831a7646af1912976bcf545daaa3f1d885c7cfc0503483f5bb152beda5f16e7fa3009beeaa75ebc6b6861308a6576e39f28ab3bd27e1fcd9cb4844b041e17fe271bf4e161ec91f6b580ca98aa91cae98d69d40357a097caa63d93abd6bd029fa17f8e8756a1489d44645f2c56d122bb91ab7b50c624e3650812b00ba8c9a2843a5233949b414895dfe177917d7651431c67d83f8b04ea7f0e760990b13b81d1cd37833aed74ea873b1786f88a5f487216ce1a45e0a00b05f1b81440ebaa1ddb68ff25f8c3c31ef5c7f07493df08f42f79cd43ff96dca9d5bffa2c9b95918b0a087db27ad6001edc1f3b55dc6f31f30131cdec1c6bbbfab43f316bc792ec43ef735d92b6103523f2bf6d3662474bd95d16bc501d1ab8c53f9a7bc05b1aec08a98c6bbb76f2503394ae984870b1a9f32a547c7fdb8139d5479e0b74f4c5e049f56b42997c56df1977041aff236affdf81078a97c896cab8488c4853f1ebf93904b9f56fa67fdb95ae8836a625bf6519a1a0f9da06148e2bbeb9a17b5546787be90a992cd4846347db5460589057a91f47685faa2d9d50a97427e3cf37df84b964aa13d654e8f23200167a4ecb0941c49c400393b8a86b419bbce52b33fc5e8fac0e26b581735d85316e1914b5534625299b99e8da5dd6ab2331e6ec125b4a96d1132d39cc88e2ab5c05629c4c956f4c6d27f08db5612ec2739bb81cf82dc0b4e76a305be9731cffa7bcf3d2c840be7ee85266d5f0320a57b8a79443ad76ccde5f40cb77ce01e0bde2862cbff8df7dfc04377c4fa267b3179055c21708a5e0e63f381d3fc9b38aaa3f55bc1d9de83cd5c6725dce8485eaaf0122a604aba5c99b9d9373e92180e1ecab3e6ef1e3da49cceaaa4fd4b75d44d635b98c477d108d7c4043a7a91eb82f17ab5fd99d1aa085eadc622f31db70a390f7a54d1d4a3bba3cf1d47f6b1282726bbe4faa66b6063dc24465c3aa0a653777d53132b8777372b892bfdc91cadeb8cec84797ad945404d9f5c7f805820a2a35da04c9b0573baba27e837d49bbef2c7cda2965abfd31e327ccad3bd317842ce0f7c74fcfc89b97f93edc93b70082b7685d7eefdc2729c32b17a61a26c51135b0a62198ba4139fe138ea30fadc9c60bc5136c88718d331bd70b76ad616b5231983e203405ea8777d4b4308eebc247bd304d7954162795d97cc5c5f974869fe72c8eb1c25902ad9d9640e67d565641044464cec2456a20a09e781f7bfedbead447a66e9c32cf37d722223715ac6ccfca4455a36050f6d8a2ac9308d4dc433a685e5c8381fe2623975abb5e36a32a25d14cea659d678f77821b1a51092c1adc9299060c754ae978ed55fc69edfa31fc44a823149dcecc1d607a39fec431292ec8ce652fd5b8157bae84765ca1b5d795805146154b5f811d3d53b02ba8cb3f253ffcd55963dac56e80b908a8a6ab7c057bbf1e035fbd463f42dceaae2483dd563d9856ee897a610b19b13bb6d4b7d5d9f388cbf0313bc8db48dadbdc99940f001907d183239d6f32e25a4886f38b5a6af30e3cc3f3d7b112716eea5ecef9f359ca73e82f5ad5bf25ee16c11f7ebe4698c9d07d1803924c8f375c9686031e3a7e0633eabcb76ac8cf8fb3eda470a5d89e26991966ed122b2651fbba31ba12d928364e5d1e974df97b3891c97b2896452cbb8982c98f69e0b4074145aa634a4361a0a1f139ac223279c624783b70ca060fb0b0835c3475d5f432b7c59668a6a520bdc83cc72fbc6ab6bef07f78971df5a9270a9e4800e2dd8ed83af2c0364d17a01ec922aac733aac1773051466193fc1ed2489652febdc6756fad9cd49ea4a703a59d97fb2dc6bdac699877ed45adea254cecb48f332d82e9153d7fe44d4c454b4db27dc4e350b5adc4d58e35acc1136d33d54bfb6bd7fd5301fbb7beb33645070d4c65f7814760c86aa03cbf641d30f6d998b2b3edb77bb2a38e1b83421743a0018168ee41c6041f013cdfba4fe423c3f401420c6abecda08d42f2ebdcd22ca44f8350474ebb0784faeed864fbb3add7f32a92e0bcf001978172ede9e8cada7868cf6b9b9ba8da2f6e6a0a2c93ff7d86b58e58699c8d7b4fa5c8147948015aed83c6d0b01a1dc6bac946e971e85b7efda29703619d96a538dcfceeab4fa67b2af720cb2e8849b17d87e3378cfc97c1efaf0127490b2fee55f0ab8273b9242b594351a593e4d89db23f875233d3e4b8912dcba8845b8c85a7befb4a61d8de112784812c56b950e327970d95157780cf23d3c78ffb36c4f802ae220363af9dd75cfc6f0b81789d376f696792db9f3ce54beaefc965be6c8b56707546da34a3a4fbd5724cde9f3e077b6a9371bdf935ecd8895fe67d529f0efbc9c58a4ed1ce3aac75d8c9c9e3610f7752fa311f613e19fa4df6f60371fb70452556dce62b28cc4a6500e0ca24c42f4851eceb9ea90e3916449271e547fa51d61ec49e4c14064e18ff46097f6c24c69ededcd704268ddcf4089475db0adf165cbe6e7b12a6ee5b1cbdcf44087b9f30fceb873f592479cba02f6193e0286702e87d6e6c950e044278fe536a9f1da4cdfadec5a3eef23bf753f7feaf2c9890567d0c6a10c1f3e7891da6216400a83ca52e2e537e299d201cb4f68f1a8a17c8c34d63f0f170b733ab7848a4c4e2ee3a5ba25d85c3deee8bb44bd66029f3848934263222882502a7a255357a7867a6c4200449cd88d6cdaa0ad06bcb702772711bf10e8a045d9ee43421e4f7a958ae4d3f1fe50926c8f6abc699356f9b1cc5b9e9ba00f13b948404648096d0f325c55157a7e67de1a16540d8ef7afa68a58a8c9462e3b16e51e5b64bf59a384ae466894c3a906d4d14134ef7ad0840f1210ebd0836a0de736a3834ec0c3f313e4c511f9213b8101b398061618a9ed358888540072bb10163783d83bdf131be2d6a4944b47782cda571719ba7d8453369cb5326b5eb8bf0b5b90d5429557129fd9935ca9344637164e95e7e34562e051bf699eac5ad28a26339ca8f0c711766f05fa2ecf9cd4466d4caf210bb4bb040a027617e9af4a54e6b1b2b84e4cd27a6ff34284ce0f09faf3ccd370e8704dde3a69a7624a169f4dbcc11d16ae32bb19a8fe91687089d0f76647cb6c177559004c84cff19990922a712ee1fff960f7b1cbac8f984d97528bb777b90c40effc0b4033026a2490f0754866fe3235c48cb523ac1f7f2642868dda860dcd0c78d71071ac6f6f451d62a72875acb706920187eb135f3ab5d0b6bbc6260eff7948989b6bae5cf1448e1e95f968141a262eadc75aab01c63d728a1b2b44321dab04affa67fbd5ec44fe10a6db65b7e0a6a0f3d9e40128540612b93cf02f1668b8067b20315d3e2bc7215097edcbc7ea73896070449e65ca865526ab40c6a2f777872b2c8457822df0d4991a29293313d46fe9a02d7ea78649e47cbfb6d801487f04fdcad879fb6919dbc737bbc6aec1512d54cd60ad65f746c0bfffcde8339dcf232e21c6aa5949802784ecb191e0f079e2bbf4bea2f8243aa712b0e3672b7fa43b12e413a85cbcb1288c0fb133ce86b40c15d31217794edcebe781f618aad9710325f8c0f0b92aca2ea99b66810ebe708b186fc17cfa6ce6bd439353b56ea4d4d76bc4528550feb549997f63eb707b507344b7881a33f46be3cac027efec7607b623537f6c5722113dc005fcfc0cc8921d0df6f38448730450c958fdc3814f291a0c900cf701f15ee3aaea8c15bdfd3586a00b7b8bb64ec097887c31da8f7a443375573d333d3f13f292cd55da323a3515c9b47b8e008453abfc83cc5a0f3ee688e011dbb0a61f91606a3499d1319da79d907b25b4d1423f865b375b6ca18df82aff1495a6de0bee1ef73a908f3101a4525dae7fc304b6bf589f7a4873e31dc7e7faa4c250141f37e477196fa13e332065bb2f66527098516baa3f903743e3005dfa61099bcf5d2f88e202bd5c713de3faaf8be92751cd5b625ced78bef020686881e48ef2275ef914f6b04a8d299e9841115cbd674637faf53433fcbd8528d144fda956cd88d1d6d461891fd37737d7ff2c32189f589f6ab51723745b6196b28ca6782dca55b24bf78913d857d63bd6d87fd3a43afb0d5e0bc1a780ce3e8e1cda57c624e50ead0bfa78abdc4f93ce0317961ce4016d8b34b5c149da5ad0308e6832049298464f1b47d1ca460f46dd24ec6e87f67c5af09d616dcca32f6960480dcda7ea9a6130e2b3e8b21bf2e3ca4fa204f0b782d6da8ac04ef1f871e71a0e0e59b3955ffc211cb056e6cfb045c2842cfdc12b294da6fa80e634e5c5ded99405376a8c65a764e769d8e43da455536abe5248dc3cb978c83283e8ef911864fcd4738076715972ada9a83e18a364c41779fe28c3c9eada34332cd015ecbbe80f7660230fc4f4c6fc49f040fca2c7a078f88f3c2dbfbb3cd3ed8cf985622084834b1c4901e7d861ead242343beec1dc1363590fe6815e0c922b74b292ce3430388a7a0c76e5d37fda635bc3e301542a616a4ae777cb607363f5de896cd0592b8c8fdefe6e9a80651fcd3ab404d236a75a141318dcee5f1e9ce00dbce8198b522bb360b9ea15f02a74494a034e8e2a695badd7dbf95841beed180f7f451a60bddc797549f5f6480ed8055093662c54bc0cbf8e33407da5a1a5dea084d0fa3e52aa4675e95994b8739898b6a0156da970c04a75a9ebab1aed3cc28c9b8484fdb4830868877107e81d6913e2449d071d828c3dfeda87ede3a13e97be434ede1ad1f210b13568fc27d38acdc128efc31b625b6ae4f54d997e0fbbfb4c80d9d147aac9ca0959e3e6f0802a8ac5da6f861329279b3cb7e7a1fa8ff4ceef5243c7d4a5769f8bd10e65249bfda2cc12b25b2ec7eba8dae5f6c4bc21eecaf399e6dcb952ee2a5e4ec64418a45ae8c457432e80150c4d2b680270ece4eaabdd724061126b5ca5ed7df2f16653abfa055bcdb833397600ec26e724f08692fe57e53fc797c0bdcf1df2e5d938bb5eb29924544a8588a329c6c51e1e6811e6268c948c4a0f0d475a19d40e6913c406612d58984c532e7209ea0890f29a59628b20ca9a0413ba25d7839be4fd4f2615b77a9e67b94934ec21fc84181a9bbeef202ed290e6d5348ca6677e132f72052b46f37207290a3173d18b7f64db2ed2ba580671fa71f8337249d003965d197721098bbc3890d55431c6cef29848d3f2069da67d68d2af786f1489463311b9e83346d33e9aaa8d9b2369d022d784d50f468355d929e12df32fee41ea388460a1193f1140502d65d18a90da250a92c078ea21f0c5f9fddefd96d8f9006e37b0cdefbf8315bc119b81046cdcb2b8dbc5b7be12d119c008699d7a308acc5990fed60be2ff63993f7707bf10ba0decc42cd1d1b871b50353be9c5bfeaa427b2f21ba2699c400c488290aa59b91e04dc985cc27325c4942dbcc2980dde92c048d042050921862f746aa1f4bcbdb3165c5e774fcc75e9601f6791bb38389fc9fe2a3f057b829ef8781e5f8da8a8a56ff113b4b805ec652ffe4f88ca656741f62094f95d34bf41b9b31284b929b65e45f44c80b912e42c76c2c6655cbc53a3db9b1151b466d86209cab8be0a600aefd3601799d8f713aedc606d21c4a9e5a684ee03fbbbf6936c0738d7e4c2c7b66ae6f3fac056693de5f070e6c9bdb5355942f9049e8c54750cdbd30aae472175dd56ac26aa2e7a44e932a6116c0b9a841183227222663868aadd05014501d1e79dbad93965efb666557267255b61c3277b4d09dcf7c0f0cba6cebb9bb712e35771b37d99eacb1761609a6468a47b28fce7e77","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"c5c50d80c11d763dd7f4f88c22a397b4"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
