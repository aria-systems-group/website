<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7678295b058bc88e6fa415b512f50d6e78eb72975bd3e5726fd6c6e1639cf59256bfec2ae9c1d7d948027e43205aae2e82d9e288b493de7a73e5b3eed47abb3ba42f042c2ac66296cf5b89ed70dd8f3457af49dead9895ba90b882167059b18ef5a44c4af93fe2549bbcfad7fd4c1165a86a9935d5685da8b1d505c4ddd3d0df2c505ccabd0f00ba95aedd4643b902de5226656465cced07386909e64fae69e7d01b760f625ed958fb28676c47e719c68d7cb1b45be37783e935f71cd3a361b7878e75238d362b401e9c8fa234a34b9fc3cfeebfad65f2ea6b82a42657a0260f42e5ba6fffcb2a71235e8fb07b7df55530b7e9f7afd80e3e8ce07b537e018f0be0c8344f9cd5faa069df4f6fd4d067d55bb79132278a82dc2dabbc42904af35cfac85f3330b2dc9778183c5a0dcd3cabcfc882ed7d9a074d4f31a45afdca3860d47c5e13d2cd32059fb18de6742fb41f72e48777aef70786733dcb3ef04c875f7bca6409091dabf6200e736af3818cb15dc56e3f356823cddd1b6ccf0d39e0b707dc9c4d967a16a2e06c046669fb6916efbbcbd261fea23e750781cfa962d3a6892bebe5c586913a9b73f2500d94b5f73e34a0fa0999c80af4e007422ffa862854aa7d4e342169d5465ca0af4615025f8aa7fc07506dea342f32f0add73d75a4c43b1c807211fb62c0b81d2102a26f0815b7d909c899a471521131c1a6657ae1d2ee2c75fdabcc4cfe92278dfadbc5f690602d4d613b49709617bf7d7ac01be09f7bec87769c336913c15e365c60e72875756d4ea0f64d3ba43aaad84ae5382ee8fd851097d9b2ed800b17d6a6c70e9ffa746358dbf1c9ccd127b1550ef208d17e1477412a127181b156a0d6cb33f51555a2d0f0077e80a89bcfa4b35e04d9b1188b71fc69be5569c64fbb39770acc45b6189bf29c8911536c1c7e55823a4aef5ed8edab2e2da348355e7f97bbe684217bef8722319f5765d4245df022f13945043ba103912aa22393ee4db56dd617f6b2f16dbb903f14f6abcbf7af2c0241fe7a18d7dbede9e90e78f501814d2a911ef8db2ba3ae0937d89d92c14b8456d686f4dc1346f421a14fec2bc7a39b745aa065869a6c18e45d750214eee19e8f3a0a5e84210cbfbf65b9b251632c22a8e48955403d8a847c5ac2e8346ce5cf4b2e413ab664d9155417d99ab18627d29fc42d01c90c19277c3cad324011d1b2bef0561f9af6fe573bc2032f68fead4f7c24869b38bd57d25f6a9c90a7f7eb3c7b8fa42cb7505aaddd025d6a01f9a6d94962f5a0589ac2d75630afb649adb8a771f45af8a4a2204d569fffa3e09ac032d5e4ff0b8e2424e6202f79885b6afac4554a9e3a6de09be4f42208ac9709170fb6d028f5c9cbb40586193c3f6bc287416d0b96388e8ddf8018c6d0a2f9c130f0e6c29303a6f0c065e9b7fe1c5dfb6aff7bb6f96bb6fdc3d35440c3725494f314147d81c82159eb74199678ce664c6d3c164a18f0ee98f8bedadf4b9adfbeaf3912f54e009a34b3b498856f7527ab66066452f79dc40cce158fd536943a3bfcaedaf7d24d8a4265087a238cb1058b9c870d290e92bb0f43c0b4a98358db556ce1ef1f85491ff687973bbe065229576dba16c04e6c9a68af671f93b23ead856ce141016952c10fe3856b726152e112250a0bfa301e0f8c59aab2b93e02daa00eade513a2a150734b854738d8cd5efd9595d0874b53b30d07051ed7a815b0ef1d3b48f4155bc2fdf9f4148a425f525be5f4d6fe9358e47a50b801f6e201534ef0e19ea26f516c99321d8e3a932a634102dfa613b014e0129b881c7f07815b37ba3100c65affab2d0e3e1db8e33c7a063f344b4cb9c030d22168c2d0cf4b5b3b02ce83d96559bbee08762643dbea8cb4c1eef4e649f7bc6407affd6961f15652da1f6a46ab1042b5fae217543509167fc2b239e03ecf4e118326e591ed9015c1d3e050b8571973e6353faeb4980a730882e1fed126903a50d837126b57fdab527906a4e1be027fd9a5f9e251b6cfb12051498632c2a583174ec19c04624849a0ffd50945451d6415a91653982c2ffaeb0e6355cc459c60705e76d340d2d56a82a32f1271f6feee3e8f5aa7419a6e17428319b7e2cf14cda22497a0ad5d8a6b516e5e09c8e9dfcf2004ddada4ce2178be6f3f1d53fe5b9e92edd1d034e4046ab5fcf9cdaa3b6dd0b943d41292b7947da655a99de43b7bfcc9ffd853e7afe6e0bfb754632b9f30366b1efefef790b019ae7ace0311c16942a2e4146cde7df8e7cab8c9db760755b0c191e8e49ae89cc45bff1aecf5c501a6d6d76f0eb445eedc50083f30d48e9c47841ecf7ec81aec063287df9a2c7fd6816dda7f5b45f47963bfe075f411a87f33b603a6c9f8a2e5eb803a236518b016cfecf399ba6a92a6a2424fcfda4ac6ea4576409fad99395109bc2ebc1c8b7439bc014287fdbf2e5c73c5633d133643a2cac3a8f851536fa833a7efe27961599048a18abb116bfa7ba2f3062c92da9862af2e19aa43d25fe68751da759d4990f731db787761fc8c52a557720768cd4f11b8b5369e7c9e6a4ebc98d06ecd154a1fa907c2b5fbd27a97a678f7fdafdfdeff501cbf40f177583a5a7d5bc9ed41b7af147e436e7bf8c712abbf62af2b1f4e0909701e95da1c47e7a65a9c477d96f39af5e0df9251c2f7ca9b4c6c168e08d5fa2d6e715bfcaafa81da1f760fc9959a9ae03c0ab176c0c4bc42112b079bf0d02172d9fff2d26a6793e7a447799a857186d2befd17dedca9b8ed2e775d541103a3e7383052f09c4c59670b8b962db6260c09812b96e593e6e06b3c8dd7e87c8675fc3c3137c6c100dfee374f108257fa7efc63edd6a2f6256b606f5adcabadb498b4d3e4269d662a006cd6d6141b260ce775eb47c5525ef5b68cc8fa8cb63f2e443a2dd0421e90dc42e3bd9e34e224b01c3bafdf3f9633b4b87f6cefa851f134f668d08a3e8f5667455659a668529ae87d32887b80c1e420ab452e8f23b7073ded17fc8aa675a7ea0178b37363647e076224a302ecab48895255c9c22332aeb5405e69c5079f38505e12d154004e0a63583574dd6d05c0a1d768564f17f78a589750b061606cd6741f5f6220b76ba6d8a08835e6956b40273d58091d11e1c164d92d743ef3b131f3e9aef444b99b8161fccb90897a2883fc0f627cdcad5264682aff483e578774b4989103d7146eaead6efd0b239482ee4dac177870835506d60ca922bb5da8dd53625e77b326f819e32167d685145a21892c305c509ceb52c8936e55ecddb7dbc8afe2a69b4324dee54ed041c0ec032c101cb8907872c07bdd36cd688ae8cd50788f1e667d43a65b008b8dc1d604a7a50dbe259d76d7bbb3b74e6381183aa4bec633ecb64fbde8f659143720eb9a55fcf805a6a5e428b223ec24f34262e0f6e67cab3c8361fe192b8356d6eb66aec75c806df1ba2803a77c1c8a8493c9ae281a029b7159a9bf1616d483f5b76dbea676594f9c0ad0de0f9d2d454d5b1df91d6904c679a7016998acb2104d3bab0718f48ba3cc0ae9d527d846bfef10b44b483b7064add74b274fb9ca3c7960143b428835d3df23f443ef71eb54cf5f006ae2a73f5720db0a7cc3ba5b279dc52eb9fa34a87e99a05e77524cab9058fb22e13c9bd9b486cae9e276fe448e3f50172ca3982516cbdb374f6314ea6a7afbf526d6ffbc53e2a3124d2356ec47b6244d435874b9fe7c781b67fefaca4f91bf52b8b08bac47030d5c914a3d8f7f159c38a70034197ae512edf12c9cc38b0248039bdca87f12e5404e03ba0986f45cfd3a5a1f9580bf4df1bfe996b29779ab1d0816d0b6b87eff5a3feafa3147d55b16d009d60851df5de96b1a1094baf3ec4684fd10ca393b7da6299adcfba02172b02f25b9c49b898ed134579be733d84aa49b844a78c20ebe08afe1147d98affabc0027438fc4f7d2cd4b42aa0e3e0f26dee609760b0bdb1c500480a01d7c1f6229ee1477cf628622e0c92832cd947f581b41ca055c5af29df41f174a965a2d9e4d3e5a4af0755170529bef1dee7f96556adbb762ae0ff6eba6034652d526466b55ef9beaf241a3cd9178ca2031c19b41741195aafbed7a23413dde214a11b121d7f971306a5ec84e48ccaaa2d38fbd58d8c8c53f1335b720142ecb56c7fc6f8c39da081a8247ca1853784407d8e1935110b86fe62f56db6f9f6e57ca46ba67138e8d709f0fd733e3371ee7833ab13a018a018db3b57bbe9b6afe0a4bbf632fc4919a340fc37ff1acc5c4e023606d2e98b68bce70c8e563f180c8e092e118dc6f24b5e2ff4892ee9441896d9cd12961390fd36c05c756122dac78b5f0cbf80fc3a1ab4e037f196dd9ef7ca1a1f6d1220350a94e6c9fc0ed81ef855c33550bd0ccff4875f4661a058a53d1ff22c53976a9938834db41b2de4621a98e7b3021adeaf0de8e65c219021ce9ed7810972f472e1dbd25b8366424586736d62e22c52f13da0447d010c2ffeb6f2ec6def0f5e75c0bcca73f2d0a87c0dd95d2ead1ab0338b8f140e38a8f87ed5091f9b16a438a1d8996b38107f548a558acb4b810d9b3b646e17030d9bbbde27a304027c927224adff3e2ab5d13f61485d181824afaf426c467e49d8a83934f9fb107ac4ed876b872949f4dd3a36e1c5bf9147619da875612f42328a34028755ea85e55d22134b7538e0ac898fb907a2cd5e7225ded4403ad612bcaee979f8526c3ccf3f3263975824227b75c9b10e2a64dcae1b287d2f19d442869579a9711f011012be1ce100990d1f8d6f3b3cfce784565c237231527e44baaaa0799854dbe52b1fc30a907949a250283206b5285dee0e5d1ce598cd89cd6bac80dedf6f49f221c9f4bee7a41f477f4f64e77f68f8484667a643f177ecee7129cd0ed8c2560ab6ecff8237b5fb84f995d0db41509ac26390503799d64bc5a702a3ce70401cbf6a3992190044e44e255eb4d2f7fe6237797edbc3462b06468270685bed5b53ce0a34864bf613f965a18db4d51e6836c00c1cb3d8b8e13fa553da78c621df4cbf29a1f7423dc63aa8df30312ba72c48c815aa47feb9e4375902289da0096879913a11b0536575744b9ad0fe7ca7294a60575bd35de48c807c4bdfc59225e4bde55da6f920025c9eb8e5110cf69ffc9040bfc5f55fe2ed4ccd966b137932206a64b300532bd039bbe9ed0de896446bd0cea59ab9be8c61d463d170214be9b51153d307c1caa30cdecabf6f0a89e61c16dd6a64b5de2046d0599186deb02faa540b30b98a59f006deb3927173caece546b912674b1fba772365ca6a935e5ab31001f39302aeb88b3944f5933c9878f94812fc6515b1bfe08102bc770cc3ce6fc4f2bfc97b64c1abde4b9ab6835f3b16a09391248a59a2834d9d6949aa708b0c37a47bf3bcf3b35b21573209edc8dd48044691d4e7a4a8923655f77b0c1af520990c17b5b405e5cbd67e2510693cd9a8f184d7b27a49aa8b7d9b8e0bdb0b80550836e9f5e0107b0269bdc1d70532b665e4be09a0170828d29ef3d5a1fac811a88dc9aa546ff333024617d4a410922edbe4443de1dbd807d43de8d803e57bf1193e5705b19d69addf18455e9f89529985a0afc804cd41f20bd00c97467d479880aa85aa977ca114ffac3924d51f0d5e5429f5752b2b2d917abf25df5acfd792cd27a1640d3edf0aab6ac8c04ff7df86bcb4d584f5eef3c90876ffbf45587be77fa627f7983228b97a77bc7557ae7d32b15341d2410c755b9c605dfd644d892569b832d5a206fd5c3715d8cb14c57e9272be2df4c4c34e8632a1b66973ddced7e2ebe044dea28a2886b6d2e058d818fc8a2935e1808922e009049d5eac514447feb3162013a8c9b1e2ed87b84823d1c878432506db0f9a94753a02205d77cf950942b63e577ad7c1a62944db9159a8572cddcc4956ad2eb52972ba575d2eee142a17cb9a7577af81188b62052533b1fe8dc804729d3407a62e5fb1703c4928b08917dae3014d8ac7bf223362cfdb58b5b791e1c11f0bbf5fe8144997006867a5192a2481205480804f3aaae2a0ac2413deee57fedf7d0121f9055073086a4cceda37b38d829ee5bda80582c44c33b4812ce02b7c7848ad6a80d0303ece2b7fc74e3e92e6456dbfd3b799b22d74e7b615b534f6b889eaaeae180468ec6943f0d28488269e390b732451ac420b3c82b763d02fb8221dad8cb448208182d3d32adff587634f8898724b041e938ee40889bfe96eddcfa1256610f389e42f1b3965b65aea202b5f3c842ef67ccb9d1269379c169964e24759f418d72be70c6ebd4224001f2210f4f98ef6fb7cad0ab254735c5250ce03c33530454332584de3ac7eb435a1fb93216f56eabfbb454bd44d373c713527267f7d1591096d8c5dc90d1f8b1503ba3b52e00366c3d902fa113357e0a473da843502311c46068ae4f88893a6ca177c8a9b9a21e21dc714c7270b112a0a2a2c5c3b249da511728b003afd45260ede16626c54b7d2b2c3ca23efc67de8679e385eba69b1379fddca86c1d32399671836fe41dd741811f74776bd21fe4b29f615a4390accfd59b42edef5e0d2d9d9be715cfce951c0f356db7b88d8b57e9c90db26d1590c3a8df8120f1b63f7344bebe89bb663bd0bd86b99c284034b4f9e6fce55cfb91cc01db770b507b2c9390aba3e55b245a3640aa9df1be5030bddaef8afe0d0475642aeb77767ae9fb4c1b7c1dfb3dfe5488c6b5452686f9adff8f02907de9e6faef0838a5eb869075cba4772d5825837bde1f8fd900ba8a948f673f7283c51dd33caaacf2b6d59905aa8734a0e2dd484bd453934a1ec3d1c7c6ca09090d3675bf3e95a406effbe511f77dfce27d5ecbeadcad348f3c6ae21bac747c68d94b284d802193d56e77b8ffaba5ff3b60ec79186c978d8fd6c32c6705105c8a5ec4eb398e2c1c8d43ba574a25e20e55d821452831947d9928b90c49e1ba7c42ad4827ca399e792ca50a776882056c798382df19fae1914034d39b6d2c4c7a9d8995574562d961e1949300c15ecb0718e32472ce7b6accd5ef9e7754d08a259e199679807c25edb8be0f9a9fe81cd36780bc8d61e36301b11628b9fb05153a32d15aacb409e378372481ae5af73f018e11fa92d6a4234e6bb4a5ca6148c5c0fb9a394c58ed76211f672990a9bb6786fb20ce49624c4f474a1c5c07c529b1cd69c3b03c2a2a4fef045a79af58fe5875dbe6bfb4db6502744a8bccff171c81940d136f612c8a65e537bd884004b7ba6940c434cf323585936ca5d76030671a58ae2dd07b5606facc3ccf2404455734394e4efdd94edbb8187883021e5b782339f1c22bd9ab5e653d29da87221543fbe9ff76f213f879f14cce95464829fc21b898f4333168b1d93fe51553e12b47886e3f368c7315ec9a26a0fee840a21299d49a4f944e53e0d95b324d05b13cbd9094cbd0c5a44011f1967b476109561e8ed133c920a707371e4d945b1d6a87b562dcee4ac96e73e9074ab9a75d6c2a6f381cb843977f57dcf19063ba0e2882b7c87d697242c61539541e74c2d34a816f2e250a037c32ff1f53d99bd6e14c3b23c193063e5728be7302239a05f015f77f5acac5f5f286d897aab3560a14fef896ac26b6a54cb353b65a3963cf568f7eece3209915c48f726b9741f1e42b609dcfe63a41c53638a4fd62563bcb70d18332a9ceeb70b014c3307a0204f90662a4c691a2c34e1168e9da626c0f2a7844fe11213c8766a81176051438aeefbc99752e42e590f735e4fc4a5b69843e749268308293a8154c0d5058f887e34a570675408b25fe4bea03238474d5f26fd601596380ce7e86071e3d6a2dc64a251360af68ed7114e1e2fe0670ad76dfb7aab8b084bc954788d020f269237d5405c71ee43b42a51b7543e3dbedb0fa7377265fccf265b52a49f6d4cfb9c23f6a5f4f53e9403781961c09a409656ad182dbcd1786aef727689fca1e3636f696804bf17ab9001a65e0847681d3d64fd20120241957519692c28f269336ec0ee1cf956ac5070407dd85a84c0d0b52eb4b1898092ddd373a39111e40481158412b9a41d35c0617f5bd326bde1a5e3c01bdcabdf170fe68345647c03c07a4a9378c6eff1ead9af8b5f1971777df8ee1bfbaf81f7bb6b068e9d47c8dd836b7a1fb802815b3c204f618b9adc91d003b6434b30a9544cb63b3d9e0fa231f99f8d51e6a5a8d996fffa240f8b3d62b5416fd5bcb1caae785cd8a484bf31a995164bab9ba0c30412877e035573e2c665eccc530e57b7a3e16aa78349289c50fa3edd7831a61fb3d845de7361dd5d6e7436f9a413215752c27e514c82c5d5e970738d4f7f69158cc9dbba2662a4042c5ef6c8cab0772f1d181a4ec94b21c07389dbcbd6b1fc37c30a259c48144ad34e48370300401188ef1f4c3fadd63faccd74135446159ac742529cb53d86936a0a871e5267f3bb957ba4abdaf62d6a2d6b57ff3234f891e520eea7f567277c160219b0e6b1593b1c2a9a6b40520537c7bbe71f4a7537ae3f1ceeb7b37892c7e06e9a8223f9f31022e5c0886d0cb8303c8416527057aa0fd1e9475963645f5870ef9eaeaa5129140dce904199fb2b793f1cb5096d2f4c84dcf2df9ff729f92c68820bc4a0fb51c7f1ade0159d464b2d65befe52f08aeef28618f62b46787e113f2462e5efddea3f7682cb30281327da031123111b992428bc403ce5a5c824b539d2dfe1d3a1e60bff908ea9ac7c33990a32fe5def290ee74f6cfab32d8110c4ad60df0dca234cc8df4bdc9ae74159b9c95f52906bb1757193d75be5afb653bcd683f3ac9fe6e0c886a05dd4a55e66cf7e89a98b348e0a20cc857e31acb29de8a503b323295963af37eb44064939e0538b30229c97951df61ea024bcdc9c807f379c911e248a6851fade875a8c66282d273da4c4febfb6cfd7fff3c6b7e01d360103a70b521677b62d5e4262387fb9fd3300ab2bf6d32a5ab2f8fa063e367b84e58a1470622f2a8fa383ec7bfb84cc9871d419fd22b8cf673e9a0176342a05d66b3092dcbb3ec6cc52bb8218d623be96b4c594005a244430a41bce0680d1b06627fd995de626e2f72dbbc42590680153c71f4895357f5b44dd794ba593c018c25630b0fff1e291fafbe377977a14d02c432042f6d6399cb8fed05126a931eb4eddbb32dd43cc82f105b8ad2423ff58fd431c5ccdc48622a1b636ab9fa2d9fc0e7d6673dc36b3245ab350acd5dc628f64082b8336841ec987075a6b048bbba0cf6d664513858a109609d22d0eda94f09e6ab16583f36bd7ce78b03c73b859cea2d7801e1370a0d0acec998767b805be677333ae01a1a0b7fe9b6ef0593cdf68a8e23ecd716a77bb4a19e65c023789215070d682b7e041a6c1e8b80d577180dabc75db70225fde31516c8cb9ef7e417a341bd3dcfb9c270bb84d21defb17c7a4c57c9321ff5efb5534bfc50d3c6b2f450642f53ebee2764a1449f782754a8dd69c7641b90a5eba63dc85136597b27b0b4e68f6377d78c351adb6335ef273efac93257cffdfd029dfb618164d64050d293c0731c8c260d983af3a939c983da326ad7f40c457abf2ab33a9330dd5fdba3f68ddf12e0e49b95bf75cf79a46187f020535aa90953e7f79725729b845cefe4ba4357220c341249fbc22bcb0435d60f08739a34062a23e0e8bd42cbf23f344fcb668ff4a41719c2d4e0d8ee4a599c7b98632ca662a9b67cb7527e8f88a53fa97519ff3fef6cabf297b2b69bd14eaaa2583d8e9b530043a309995935049582431295eb0f6bc82a1edf83fd5830deae7e6d599ea328de1eb424762b833fc7b22d2612751479c0498b25705a6313348ba83ec9267812ea22cf2e58a387094ac7cb3c5051e7e46fcb843718bf676128070e6bebf5c586dc84ce1aee24768e766b8dacdcdd20090bb3d961e6791414fe5f3e7470fa45a760f12a962bace200723d9ef18ce8e08e4a100ed30b89039e1de9e2b072c8ee159692a23bc0e274d386612dae8050511c55be4792e9ff9000566be629a4bd5ab29da611039dbd5bd545797e0948be1c2d889ee9d43bd7d2266034ed341901f909bd0e1a132dce70780d5752f8cc5663dba9ae6ad579ea88c2eb3f15ac152f56736ae4d505aac7a7e2d8a3f912264555127705e4a1a8a4c0571e7d2ef0e14c997a9ac0c132b90ca6d622cb96d5baed265c8acb647ed0a5795333e65ab350b5ec53f9bac477326a8b4edb1a3be50b398ae329a1c82c5b1a929af722e4a46ebab5640ebc384e97ab39b308ef0bd0d397b62973106788d08c9b79c4fb5bac9cfb2ecd1df4b668ad343489eb115404d2bdc8aab41a63d8788910f295707155e9b194a1aa98df15178f56ae043ec0f5ecf3fe1559e4dbeb48c6435b05fb3316ac7e035ea0290b34e32606bd78b3f77179c22eaaca44ffd0765a8e0f436987365540f065c345796d9a846fca170bc257eb0051d506346c2fdd5e89edbfcaffe64d7612eb8739ba92c136c55437ca7c266ad3213ad252705d97746c056d366f5d0f51fa6ae5d550c4ba93064880b809995a8a8f556d07b9e4d45f4ec7561f01948fe6f973e8f4c4950107a29ef4c3b42963805cb1b7b3d9b08aef9487bc9deaf343484a0a1735955e72c90e52ff5dcf0dc2623606fe6f0c667c9a613fe1e04dcea9f8bcb4b695e867e95d39ed1c93e653a475b0d77a4eec498afe244655f2aa15c01225eef7af880bf90cb0ca1de99b0c517ee1856b127321faefad4b0dafd737fb8927ff5d05ac3a585dfe37c1f9a2a8b570824ca0e8305280a797f0348eb67385d63eb233bcb3fb25ab392af947d4299c2b7cc74518131dc969a0bd593f831a5ce8b61aa4dcdb5cdc58ed1c030d552be06b7120a843aa3f3dfadcf3ba69895c641bbb60261defb76866763d88a6c695e8fd0a4fc41b719deda8e30fbd4016bf5e6b08fd6e99bc5dc583561082ed38a4e001f14d24a62df15bc449f886998db944f755a8b3589e9c1a54aafa09e118659b6148c30d2dc6ec8429e44c60b5f9945b7c4b79d946aeb8a7500b6c2226f37fe5c843d1fcd6b8248ad52f3e12439e85bfcbaff2f6a9485373d9c817944987cc6e5722c6388db47ae8fdee49186a76e28aeade7c3099282a716309790c18ab1f3bedc30fadffe4c883d06780356899404b916beb1d41205e262d24d726c9fba7e0ddefb2a085c20f173d3057e85e845b609074f5a23600ea6bfaf6802ab4b9bbb9c245308db2da903e3f5700fabe0cf87ff1b96090725b7eb42b4979efb73bbb932ac1c9df3a586b6b1b24e561617f1d28d1b3b72aad4e756df17b193c8cf7870a5b44aab94ce94e3d737e471bfa8a45f9dec7abf282426e2d521350b0d34697043738daed46130051ab9a9abdd41194172247b3ecce84a179c5d8d3239f408824cba3501432d614874d18627587b955114a294354c448bd0f8430ea9d3fd6fa487bf64f89320696cf12def3fed5780a9a87e3bb118be4471c02728aec149bdd8e19143b7f2f4597dff56ae5b97616b6b5003bff0af99e605b2c8f72242d3c5712b726e66e03efb4db2afac930a070cf7325a4e308b9c7be9f2bd7318fd4b4f769016caa6abe25ddae4fe950acc54339eb2a0eb4e482e603b149bea3a1d2b6d8f3776af55bbf6a83da32c9dd6ef6daf3ef2f15b93ee4193b266fcd54f139b66b7468d43a0488b451e855a69fd325f2bf07c66473cc2287c25f057df9f46614552a865e77972d0274f6105bee59dd833053d033e06d3c4f0d643fd4194751a500801c3f7afb19a6cc5aec54bfc61da084eeba01eef7aec43fed3b93614a093d93d12b56375b4cd410df8bc58123067aa85b7286e4671f4470fc33c93d23e00e54599e484d52692fec2620efd6d18465c367740e7d7e36448bb24f421d9675ca7b7f95d75e3beaecd9553179fae141768a0e23c502ef0aca456394ac24aa94e0cc506584a1a1152067d3e4afff3db208f5580894de811f0c8e2c199744eb7a9fefee7bfcb56ffc66484dd94bb25726006c42998180552504cffd63dc01c9b98dddfd0718b5f1063f8121f9b6b49e3ab02bfb20cc9e1c9b5f29fa90c66c564691b3f9187888e84f2a77393c3583cfee798fc5fa624b24c70335353433d69c0a78f4c661fc854379ac44f693d1789fd4909559241d2c6c7516dc9fd758de7acde06d37c4acecbcfa5a8ddee0d51043208927e897e5226030f8f5bb82d3238bc18bf2cac2e4793a32a7a4f648abf345608c4ffb5847110e7c8bdc3c0e43fb8e138c4c57b2f4edd7e31f84b6795a4fffc7ad5b147f3f0eb375c0fb0ccc9c06054ab8ff98daacfc8becb65ca3e535ad59239e203a7996370a733949b2eac2a5148a70228c7e11148b60b22a63c84ebff68d21506ec6c7c5e8e71479f618e18c7404879c8e312723a7230ae7154152b1d9dbd43440465ea7b5cf2a2c1f9eef3d001932e2d7fbf382c074f95521249dc136f0ec5cbede589d48cdc1d90fdc99a29f98a68a196aea5254a6230557ef1f7c5f4cfed27a2d1fedb65fb5c5ac12e11062e6e9f8de13661b53e0ba00d0f6b6d7aca74d4cfe909241b9033fcbab500d96c9418f4eecea2fd316c16921ae4439bb1514c57ad52c80090fa1a83fa195ff3e03cee54c00eb184832a6109730d7b7793917ea5bb1a1a07c81f56599b7926ecb9a89c69a98ae2f8d5d4fb857f2fd739490fb89fcc6f2674e7b700d83ef2687f53063507ded5a025f1423549d705711819dbf12a1642a45bd4194c9ab8e89b9f51e14469de5c836a047378ad2f63c8f6d95416299fa6faf7406b860463392bba349536751364d5f3a42faa10b3298999e503e48240668733b8bcd37e1d74decb544fb895d0ba556919c7d838181a55a8faf236e3cf13e739316e11af10a08cded7dd726763aff4a78a482c3df39ea44d1c1661e43365344426e138e8128925daa6bd7c46af1ed07d0bbba16f1e285bedce24041e6572e0ef24c1d454a72b93215cfb8eb4309d1cf9bb28069e4ffc798507834adf4d802038dab57bdc9b031dd709b9ded04cb39420e67e3d36735e3e7f85d27bf9d62e397eb6b13768bef6315da18f75118368c3cb3a9a148e36fccfda1cb6eaac3923d57736eec31e1fcf1b1356dd75bfb853f9e7a53d9f8c78e01bf7da34511defb6708baf6b463d9ee7524654a72f4330b8621dc6a4d0cba6ee1b28460fd5359a9684dbb614efb3e564e0b8eb5b2dbb6c8113bbafbdb6896b9d328aed6deaedfd6f8235b0939e7b2c496408d1951c2b725c72c64b2b3d4d088e9bca353435660f77cb77c572d52202b963483a0e7d324c1db7c654117f466af65e8b6b66d5f34bbcea05e8d8ecdd3c6eda6ec99c3ee06466c51d656265c610c68726a6accfca2a22b5ffe1ef05642c5b74e4bc3838e4c30cd354e58ee4b54dbf965406d0d413ca048a7499a6d4f80e486747293fffccf24e9e18e9d2ec4f8301b00f514c5da9b925c759f68d319aab70a57421b2698cf2233054cd0162b15da15dcffce38910eae27d4d7da55136464085aaab2c9be3392b84ac46716a319b9673a29418646d30a4bda38d6ad31c4a56b9faf55e78ac3b2e228b428a4f9b35d6b29aa0fb9a17ecb7e65b5a3685343b2f8208b443ed8193ac0a48e32ac870bc8a6bea253fdf9043732d00b5514b609206415739794e50cea7b5cd8d8a3ae591359f4e41189e5ebe1b8c9f09994a006db6e70807a8b94df4e9fc8c005cc5fa3a23235f5b8da5fdddf2ef908e5bfbd3652d08f6442d930a8c899c7340b7d3a687faed9dac17805aff93e8f4129540a6e80d849ac8595ceeb1d603cd8f54dfbff46781b12031fc792f1c98fc3acc26104652e5c94a668777a68b5cfe56c6088245e33441b7963b975980eb0b04971b40f4b3c9de3285040eb29e407b7ba00da7c2bbc86e8935e3a15032da54931154a6a25dc4396fccc5e2381a1df6555583142cb60baf2587738c1ca1c6171b29c9e247f2b3b16258d9f8360fa603cb46885dcf0481ce593822f341301286f36dbe851ce93cd12cf6b1e29fa208aeade4fc274a78febc85377b067d715149104e60092b72f94868840b41667121a74de2564fb8db371f782d7c5b90a73192e27a0f4094d045c69465f8c40d59a9d876e9ad8a89d78e705c862179d48b9accfa229412ddbf872e81836d712c1ae652ff9dafbecaccba9ed68a9775bc78537a2edfb42347392bc7ef42ea70ea3ca973fa0649ed52768cef63245b2dda1dd812395d4d5f1877956d897f7fbd3b1e044128c76d18bd02baea1e35c97472dd115edc401b2fa05bf080e82ea30b1cd8d14cdd71984befc53640ef6319a2dcf6cbbf4c45999e0a21903b9f0dc2387b053d7cc257392cddf98150c8e9f3f06fe78e3947339f5951f6f71661dcdb7797232ba3419295484c0a92ccf5d0998ba2dba4a522d434925a15a7252d901ee48f587d8705af0fcc6bc6d477a025766b6f564de71308d3c60816cf55cd9c655fdf255ba3229ecb52f15fe3709b9e2be44eb8ec391ec779773da6f4990ec66f400e32192922daa5b4d42c597800cfd7de29cd8bcd8a226e84a53b79828ad8b4a4dea0df1ea2fabcc2b266042bcfaae7d66192e63e981578871e94e9093ef39ded9abcd2cdde2aa6342ab74a448441d63af3507ca3ce468964bbf23f541a00031a756da430560df60ae689e96b9ce76507c3ba10017805c5d02b95c1ddbb41d523fe25d5553706c66aba0f4f45d7cf120471c247029dd131eaab599c6c5ec8b907e04d82291fad39809cd29fdc5610d4c611ffc4fb1e064f996cf578873bd544e979cd6869c9987440ee6846d34986dcc83b7965b0b6f89a6f0685dc3b04ef67d082eeb875f588ce7c6bbad42e0b9e0256d4e8aee7c9faeb9c81e8886b3bfac9fc5109e7d5f85a6e51b82c35999f3333171ff2a6d40099856b87fb320e49b109fcfb6fda9386f6e4722fe927d0be6098bd2fdc2de1449f287d1392b9ef50ceb50366865efdcd656280929a49d35b9bfed2d979c66ec434aeefdb6318388624b81098e9a2881995218866e597e7da908b57922628462e857d5dd7a65c1473b6932b7bdb70ca602dac6535af8ec25dd75efa5e607dcbda3822fccd78ca0b855e8a6bd897f1d4c421f9445855e1b7cfb68ae9bfa3420fd885eca0b6f4b7757113c623191e9962c5b39b799cf8319035bbaf3318a8b273096766f22f88fdcfac2adba9dc4885bdd5a9d120363ae28a76b7d6e7c9b9d37efe40b7a99b69e17f18522ebe514c36395c65cf301e0a97bc72a778d4d3fdcf75e0a1f988b1cfe2194750133a8ade194af65edb882e260f7b0e58149d4f99baa10a550f5fd5bf92f994ee04bbbac802bc51f92fe06aad8da3294d6f91924c9230b090f4308fb81d079ad50e0c084e4069d5fc3cb964a99a105129f07f88d54e3ebce246a32385857ebc512b5b243cfebfab3375109ba679d2b671ce4ec1ed7cad433506733ea53dba7e2ecd138dca157418721ea52c8f0c5e3baad8f856844d0cf1075224f2f865b0b6463319254bad3ca59027f39955ecfc2b068b81ae884ac870a079b2d193f1e26cdb1a335547149d67945022b8f1f668d118e6e4529b7763237b13a5523134d16fe2b395a59e38b8229b4d6e53eeca7f9ff55f2afc3a6202b23bff334cb3badff37cc6ce6ea7e5528c423f926d01704be0b168cc8a61c84c982a989d86d348a41d9599f1b66ef40b3d669a77becbc7195668ab6856b1f76bfb1d1751ed7762ae69dd95365365e07b35fca9ef0222dcd6bfbcccf00de264008667f8294cc0fde50d663993cb79f1fc46fb225509f24976899a3ed764ee6df1c0df6418744320200c0992b8a4beac95cb5bd2a0c78eadab1f26c936f032f711b2b50722c2bd33b99391088d7089dc48c1a2e26156f434ea9b9271a1194c4efa2f08300782c23b937e96d50c8702efefea05caf0b8c13c143ac613c7edb10ded9f2f9767b32e4c37a8ee97da26729e0cbfb590044b4679693d7356cc4aba88368048ea487b6c7a1901f6428a76a764d62306bfe8366d479e3aa82f00379a8643eb23f60df4a44dc8b611459d950a8edc064b337602c6d4db0e5223fc0649f19163e828fb461d6ff36412b738280d19bc9dffacd7833636d71f3bae9721a8ba4b9a595e59e59ddb7c193db6d7bcc10db4f7961d18635e6233093d852653b76216d8ae5ef874ad2a7ea3775c26c47f5594b6a6af771412376ce110cca154126e27b27e4ec4e6c1e887d01bb34fd997c27f051ecd30edefae267a459bd19d920671bbdcef5d49876a05e64f254846768c09376e82196a7070567208220f36306c1892c581bc9909e8d5f44034210c88637358c4e124f472b19f6920013ee5b5ec1aa5176cd9e6e0146799b974017547bc06a8d5cee0e20a7329356930b3ae43543eed0375a98f699509a58d2c73021ff07c597176fba3d1e5c2dd1dcc785d8e22f7b910e84f1478083142715ea64e0bd84e97dc543ad8aaff612e733c6c6c0ca417fc999ecf91c90c826fcb2cab3a851a33656483faca8e19d1cfbedfe62dc1d22a0f86eb563d06f965f6f664fd26998448b3ede9bbc75b691d550f7b9e906f07dda7a6d238bec522a262088f15cc03eaf512f82625da174a168c1faa358027947dcd7c1903b586dd3a0f1862154f58d01ce6a475830962cba64221381b81447a79a336b2e1bd3b2f7ae31682c0bea539fd6a5756c3a7e9e5573d248132d905918bd189e7c2c6af9aa3d70a00b2371793bfdd2c202c35090c506c41e5a8d79d13168697b278cd7127f3a2e897ac3d2e3a5cf0e9d813586c86a936281c19991c07e94fda123b654e229dd59ad5df7fe8a76e41d755f9b2b48c2550e1df650cec2504cb969bde17ef10d5b8c47f9eeffbd6443f08f5703f16782edeb2de42636ceef7ccd5892b27387e520963c84cda6289d9f3ff199945d6186c55f7f836fba0f8d1414d812aba57d917166dde56a3edbdcf97165c2d1c2fc760ce6259cfc3eae336613b217fb6635eb0f9c29e1568b3e05cc6f622b84918624237c3b3756c0daa6e4c034500377fd824711a07efa929369b6a315f833858f9ec60d6510f29105ce674fd0e1b86b42c336202ac7c866306475ba5bc59d057cc7f30120a0ecd9669ec15985ead57c9f03589d5373ba00cbcd2398c907b67fdd49a01e7d261be31d0188ca6cc59587477b8bb9e47e1a27c0eb7d8604d61c17154a6f05a5e08e5dc990ee1dfef92199c3889e78864bfeca3520379f6b8da0aa313294263016624217831004773f2b3a74f75969ecab2cfdcde590156184f1a3d1ccba49fc2287e5f85fbdb4df3fab8b94667bde8bbd83b30979233657835cf9840cb70eed915f4bece2985937508e0425c3c42f07a46ef8aff5f5dfd31f54bdb13ba057046fe2663e294eec6d2cd10bb6e9bc2bafbec350fa79fe1d0036a79adef61270741e8cef3dca26e0527ad69181c82dfe4c0a7c8e00100df27b07aa9ba6b1136e6399a97eadbd9b85de89a6f2ef918f379ca974fd2d8ae442372f3aed6f38974096b6fb6a4ac980dadb255c4671eb6518d99bf07c90b5e6df07473e2ef05271ed5630499b5d7b6a95ff654e9e8b41bd51e9dbac934590ae07915fc72b92c8eab8d56bfedc827a952ed2b779a69a551ea49d725de6ed8ac4aa53e40331c55412c512ea14f0987376af913fc1e0526605e6c7d4d2d02d46d66f1be85c1afafadbc7af93ce6a3581c6452b0117596f893e368ecb2778499db85bf722877051a4b3c350546bcb5a370cc990a885abd591075abddcf7f6da2cd1db94376d82667d9ca641efcccd47411df85d0e2a77c11bdc760fd774a2a63dc9f622e1ea5d39b4acc90f41f6411848e096a8fa6171517caab1269d977c63542d921591d7df74e183c9d54c3cc91713f766c408ac49214f5395bbd91d96009560e4364b6eee2ff790798a9a7d7fc890fade52eec1e9d1ce06a09321dd2449f2da1285f66771ea28a77da4b53682c87d84ad7b8810ebbd57b8e49fc00a6db76fb2b9754b27842f1861e35a4f84da453c9d2273d2b02766f4c9ebc564a57d86217571b0e51278b42f7fe3971c30626bae62e952c8e48301f3ec741d16cfffcf15b653e246d5640098f09feb5d21b947fe3f113beca295ab2c1747e5fadd720633591bd05c1e39f841c70a2d6733ebdde09b85519ce0e9438502ed2255cfe4a47722a2460ba520cd88bb79a55fe4c735fc2584090801846a309e4abf6fe270c44dd280082e0d3fce2f4e62d97690465566bdca33a3ed44ae1f779c2e99c2f61e5b0cc3257da1991ac65ef7414855b65b1ddc9854c3d47784e403dd10dd21e8883cf3a40468907be97a43797decc0a09882454e99911f6c0db59d093f80f7ea79c2bbbfb736d87405200642bd3f69fb934d9d7e103c016e7756b47cd9d6cc210b7728db47a36bc69c7edd77310b52a97f5672f6798aa692a58f6c6ae3d833d4c09c84cfc1053d849f361939a39cd4660e1e2f781a44509de1e21e14ac127a2ec9b8e207b4fe5b2747c862606a8dcf6784719556eac66f366a991c77c3e28d24ada45f5f584cc6e564aaac57ea9ee845234cf8729d2383b17ea6d6837388636e8f7ca3ef086918924521bc436d8cfc58e0ef49090ef71cc7363ca32bb72253afbfb03a0d1fec76e27e74711194db33faf8fe7951b94575b1c72d333d310eb0b71bb8bdcf974f0e0747e48f5d1ae658a3bbfdf47283c1d161d6bda3ab15fded7284464e96d53beea237fe88a9ad4b08f675238b2d30b997250501d58d66fdf1c884f51b4c5988cfd32aa86bd57ded49b4850ac23032e5586eb5295a5bb888bc08548ab2352d74f6810b186393c1482b129b8dd768c3cac657dadfbff90ddf29e239722359ab06027fe833b386a2c59de04bdc7f0f349d7aec6c8019ac2078c92e6cc2a4de74c1e9cc8eb978d3e034ee559f2b551c20ea22c7f50a96caab375a6e0790453788742d6c7789d4726b6caeaaeed3b1c82de4f4e168e6b81dd64847b342fd04a00e900ea066ac825da6aab0d3771b67eeca5060a20fbca92297eb622de0f9f3cc0d18751886293ca5ac72c144fe64fbc06c33556ead0dec1dab69efbf3ed321aad47863afffa61f5d434e400819714d9342abc156b91c50b01a9d6e49fea053424bf43d1ee8ff3eb639e491492b88b5cf15afee2829075657db002258b806b1c599a1621ca87c2589da0f8f17c0f3ec3aabe7fbfaa38bff65b84073efac762a42f901cf73d93fd99aea3d8c91180c93ae5c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"c36e0c34eaa057f33d91c8f92c847480"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
