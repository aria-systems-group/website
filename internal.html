<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"570adc0bb6eab61681f3145b15032e407aa26bef608383e4a442f2e5ad012a344b827734cd433d561dfa573ac44a4c3222a188dca0aa64ae95a1e5d504c4a3b54c10d3b6f38cd443ffbe9fb0d39175a875a09a2be5ed324e8581bedcdf3e25820b1ee382fbcb3543d9da8b4c2e3c576c0c715c8494400d504d134f612464b1a51fc12f9de61c6e68c727588681ebc2a89d964eaa5d8350b68b514785b4570b3c65583ff07cad74aad6f922a2e7b3b63967e4b306ea863a165c2375f0ef1fd8ccd4d0cc5d27b0b1a85674ceb17e1fe5365381ff0ff3818a9c1562ad5b0b0583219db3bec012a294039de08b6706bf8760e87052e8e71b9b2815a8c482a6060af26dc5b25b65bd44274d8801d358de23b04257f43770c4b6b5bdc689423931198dbeb9f3bf25468260c11afbc703074661c13eaf2e47d22875dab77253050f4106c6d21eb8e4bee605615a121f185dbfef58bcff98d2c7284334459cbabb132765e63fb340b5870300e186220b6de372bebffc4ce0da190359881fd8fbaf7953430f72edb1d993dfc9661454616e93cfed36802f00c580d3f9bad8fa4508f85e12de19fc2c6a05b336fea26dbf37a33e09736abd204b91c0779021783d71475901dc33d23393d208203dd2f688715082e517c8459636446d721c795eedb565c473aa29347039b4408b2df911deececc1bcd3001b8684898e7fd32cbe7d6b91e79fa26d93cc39dc5f4be7be5e2f5f5ec22b284e00546ac9d2c9ffa8bf09b11a3fe0705724aa4d5978042c8534287695fc7f55e0f8f2fd7d779653c543b05903d8731f2838d85ea33b507e8b2848f3794f15f46b0e7239b98b9e3d1cc24655cd60bdebfd6e0f6b56c603fe4c8d319ce200c898f1471424323ceb2d9113e83cd75f364e505ec5b644deac2cbfa3b23bba14c019f42dbaa5cd7c4863fbd8c97bd6568a29bdcf6beec0ae4568a010e52b15288ef99de00d0fdcecc09633530caf71f571796e47522a519724ba49fd87ae3ce226ce829c85c6406aa341649bf5e93314809f148ac28e30ebd8aea3f495f4ad7902cc5e23a23e792def90f76e93fbdaae6e463fbc7b886ef9475b1320fee322d6555f312c3bcaf6670244df5da599d770e0d4862bf949c5949f5663fa3955ec38847f2db107618ad038eb541d49ad660457e3f916392af6e2c55202ac19af52f39097c7df15353859a67a0ccc7d2e3f90a339ac92c0ba500b3c3a872d7d994a641c7055a18962e25653d97ee27bbcaab45ce8ef4dab1aadd913e78f147c41478e19ede0d83a8a83a2da7f52762c52f8d692d8e275f0e65accee3fd86d790e11d2fe8e5ae5e5d5bdc03a0148a06c8da6d60c9435c94d73f48423b5ce598abf9298f1d68ea7a36a4e176f59af51e4c965f09d41cd45368a7306a1c6ef15c166d8ab883bc067112832f2feea436b07893c7ef40ba50889a5a72593495c3156402827dea55710aa26961d67ec7206a7a1af9fa5ab83c780eb61b25033dfe5ff584e9f0e9af7a6d5aef579b04df0ebdd7ff1ca2360cdd54013abd0dcf5c70ab520c93bcc01e96aec82a01f662b936e5901cd07cf3115e09eaa9f5db89c89e3b966ef5b53db604221de1839816285245c951735d724e52881b01a1cdb41c7c2daee801a749bd43c17c6c45e4b505fd4740645b780a13dba3f2cca66881b5afa2697a5c8203895c360a17d1f4c01076aba9db7b0d46da474b6779cbdae1b16e256220de219446810adf6d472b8679c9d4a6b3975855c08d23fd9b52a59b99d48897728b3bfd40f93ef4c5095affc8a0cd12a70557e425e563925d8482c4d101a9edc46ea6ddd28f450d0388a2015880447ce6d27aedda6952c8544b1288a096ed3ce9ed172c877da0693cdaf51401d2615b5c6f7520ff4c74f3319f7631e71dc403ba206f7863cb1730c6cc03451b00ae9c97681f250cef3a00c91cc628e8d53eb0217e9944b5bff8858d1b2b32b38f2839358c23f6f56b847e01eb4623f33a811f424e12a8383b715278a2ca18ce559d64974a2f22749ed0522d435a42bd008b0317ee6c3ef3caadb17e59baff422de25e801d259676a10032aa228d2ff3e85ab4cbc7147572576de7558e41856231aa284560d671d96ef553e06d63c81570787aa3a7f02254d4d8301514a2e72a10f6e88e00d64dc5b6c6face9391b1cf63e772984924242e569c5ac7b0b29fd709b90ca662f9b08ade49ab76f398ff3a179a6bed0614a33bbc87f7327095ae22fddc6f1df46887db48748e2cd864bf7818ebc9e4ff61ed8c21a03c3b2b5ed290f7ef1c7169f823a02361279290f95e382b9a5f22fa6eb4f6542ddd9347aa3e2fe4db8105c4305a93e4a1c9241604f008a465570762899fb92477b5892ac44484d19a93c92ff58c791f8005342055c0a30515ad87b61ba881d3e1dc2fee085124a7482032ac0903375fb1c39ea46ede00620d3cfe10aaaa396812ef4411a7295854f8deebefa5ae1d005d8644a07aa54a0fcbfd4923357ed7bee09971f21dfb02c57b05363dce938fbd7d945c81bf85e00486cf6a784e4a2b87ad9e35bd6c25c2db021a3ec7ee324e07b14178221cf23fb2b29e7faa9bf1263d4170005b3d48681b270194f453e0c4770f4b010083c84a429668e4461a824b3bfb9290f142bab94d80f80506f272c123384dba7df041a866df88e395fa807e5833e89b187677fa0f1619c22eaaac88da4086f9220b5bc8b4d80c991991dfa35ec9d262ad100a38de51f6285d18b4ded600e28beea9c9339a931a1e8fd6ca9f9b420c2ca9411a6f6de2d87b170b634fe053645ee8baf3ca4bb0fcda6a0a2db8bf93191e4d3b5796bfbc55939ee874ef6c4635e261116bbcc303f911a3112843c5b8dcbf394ecdc668eda4a8de87dbd7ec17a573eac574e77f3e82cc9119433849b83f8fd4d4d60faf9c4df61c9e2edeea0dc241ecb09e927a401c835e935aa81c8bea01b40e24ff1afbe81dc4488386a6d9aee2313ca68ccd3fc661b4ca2c3d383227e4971b53e5135cf8f308588f825eec968e66101612b67bdac8e815154716351c3839250995bdd32814d29e3b3f9c71298b91899c0ac8f635eedef6cde2f894beb1f4f0a3738035a9386a4a9e3d017b8074928dba3e29cdca7f8a5bd3cd40d24fe0e5a8fd6d96674164a75a5279e5db7494061a8e466f47dbc59770a66c712012244f641c47d0aac3e707d63ebe669d92823139d0661d2834c2807deb9a8c06b02850d4130bd94f3af018592985b472b2377c3304cb89cdbc8a50945dbb67504524cd7057cf2ea1316d2d1d9ab96d87230ae9547b1709a38c41b95d5cbe99b7612246c9274a616d65184e8ecebdde50dadb9692d115fba411c3f32135246c159e7fc4fb215a65ab5201e7ba3a53275093734fc1afc0295f9d2ec946d1f089af4b90d2f1f48bf73d49b52200ead106f4634b07effa81585d36d99af54c6a84525a33bed48ac361a1c73ef479968b806b3ecb1b75a2d6aa7589eba1721ab6992f4b92d0a4fc00c02a076b41142df3fd64d3fd9bcbc251beac14065802ac857d50ff76ce84b0076e52f79f2b1dce8114d71d148f9e8f6ceca8f490d4af0da7c76bc41848e509f9e76259acd35590206ae1d53d008cc7a7efc48c1dec3a11f75005d09ec64d7596250fe8034392bbde3376446b50a490e7e14b6d70cdc78eaffb142e018cf8a6fcef30105ad03639c4a33fbf8e431e1158eaad655135daae7fd1ac8df1e793c0ff2f4fd0fdce1ba7b767a9d21a7920681e47d0d0d5dd761b49487b579f1b07d8050cf075a311d8c62cd1a743a9075ef6b90e463dcc153925f0f67fd4d4f871f276ed87a44197b3ae2c363efcd8c61fc32b8154b692dc09039b7e4f9d0b6ba9691a6a50114d2c85d2fd3f61cb3ca39d8e20cd4b2b8b0a363b76290e7982a00e7ff7daa35cc3b321d96cf28a6705cc2198de2affca8b2d097ad2f2e3ded45bb8560657850531c7d54de49046d02e300bfa44fa824ca0c48916af9d9aecfea7543ee01c9dceeedfd63e494af4a08969f3501e34eb969aa77e80cb4a7f0745ce6cacaa8f4d36844112bf780b4122cc08ab036b7533a2fa114a7e979bd575a217069a2537954950eee939c080ba5c06c7952ead4082a296788916aaeaeaf6b4ec01d7fdbece77af57b00b4aa5570825d5278c0fc7f0929bd47f322f55d3e561eadf1aaa100c1c1eff81a9f568b0e61bec63f18744993141cbf1aacb6f0306a3ff40c2131590a4a9953b900907d9b1ac056840d03fe93604f19a62771a36dc3c2a9f503091f1bfc0799510a12d23be33ca1e1c1fd783aa2c7a815082cc619019d4c8d197c4315ae3dcfc5a56fe035b62b27de69b4a7a8a1ba35b0b3c5d80d41bbd23ee1edf3eb6e98c2291e1c11b879dc4105b447bc84e8beb3537e3b0ab23bbf7c85b3fc51d67ea0f30c1178fe49bfd30fd2466452ac063ee22678d85780245a8ccf1b941a453b897d5911e1ce4face5efb3d3ab17ff7e816f04b61b07f73d77a4e0d370299ff6b4718a935b170b91a15543f38cc0cbd76aec7d7c5f72bf107082e8d74137eab6ac920516e2355542f812759a01240d72205e1b16a7bb27f862e105584af6395a440e1b3dc7418a087962fc55daf70f9d474cb1da235f3087f63925121e25f17c18fe7810384bb2b5ea758d5b3abe83787be38cf3e1c3e692fe28882034c4472ecc6f86d70575923da99849954d89800e487e5599adbfb20359f51fd3e5a3a1a2286bf1790b0503278dd649581a6f9cd33a610a6c1c79f8ca29451d9caa2fbc7e782e5d254b954f34739166c9d7bd9b746129ce96f743b137ff60edb0940d56e7de4eb87c7e6e30e31879d83f1622b1295cb68141b27b02e28275b882715903af665db31908cbf730bc429a6562425fc63a5bd10927036817facc9cbc7ffa8cb2f8a7a5aa49216690aeb003a78946c523a1ee149bbcce89af8c9be0a9490207fbf872d492cd8da930a9f04416324abd1435d11bd17100fc51469ba04a20c12d9505d8c732b4570b1f99c93f5babe904f06a7d09b2f67261c6859347a8899dee590f44fb822d4ee70c22130b0adb29c7eef4f9b0b66236c92301e92464a0f4f94b9d1a5bbfb8ae3ad3e2118bf8b08d332081c577fdb801ac11ef5c4e3b19873fd16f1b3b2690738cb365cbeb96ce3971fa5eb88553adc8a83e606a5f59654e6e42171381f2dc3a480f8d75524dac238c7cfb2cc72bc7971b11c183fa2beb38cf82e7613d6b8bd3b4a4ccb75c73603731d7197159c5a4b56b7b9a1ff683239445811f8cc46481ae23b536a5bd1e39d77ff1a7ce91e6751c8c0e200890423137b2fbe5a1c83608078b174c4f2bd3aac897fba1e2aed9a95b33933c79279decb57dbb4381c971f6dad206e54a90633fff9accdbc6fc6218854dea3dd3502a1cfc4aeede3d44ef5889e94f319971e0eb24a9c60047985c8665b657245560bd83dcefc2116de4a5f24e6254098bc8fdbddeb643506014c7868c87e2ac68d7efce44b850a52a3ef2686a1fbd5748bfb3326002f99f88c3c6c95b235d07c4cb2d725de785cc298778edad02e01fd7927ae9fa64888085e473eb798273c0f65af8fb1794d01f8f495fe439233640325b4236b899cc9a44c673e133b7b23ff25ee51e27497f54c6d28f513bd887170cc2732d4e5c32f6aa88693a1376a468900829d405e2cebe7eaa21a37b096ecaa3467a267a97735a003ac792ab5f29253d9731cb812bc51f580ca5e86c54e35f761ce7d242426c551521cafa9661bc5d3c9d0361a922c1873761533893ec241a72aa2c27846cc9d42b8dc978f943475f682df6cd8fcd202710ee4a6dec7b904cfe146167ae61b367eac133d73af78e9dfe79414d25f9df96a29da9ff759ae3df332028931ea78f26381cc8c5bdffb3ae3b02e9e6b171fb1aca44ad46b5d4148c215b179d6fcf8c88ed006b26bbcc985b4bd634710189a6d380ba4d432cb3595705c309a18a4077a230eaeb89d55552ce7234173167366bbf8ead6a16ff19b1c968aa8749b905b506f30084652f74b9637f08939285f73c53c8d07fb3ffc2dccb979326f17b85c73bbf5b92c4c765a99c4c4da7dfd1b45a3faf1ccd662ca02e7f9c6c256f7444d4bc381e6d0bafb9cf685bb4c53be197d05d4a412f1a7ab43f70b83d52be2730bb8a31d0d234f5039f61eda4bee09fbb38a43a0d41ed0e9e184bc3023082042056c5b0f897329afd011866bb20c546f4e267b9637f07237f9f80088c9d84ab9893ac9501f7e91e90b2904f9ff56c57f4815a5820fe7c512c6f473c060448d9e5c288da7eb8c679d92b53c17c4a8fbfddbc3ffe98240d60f972f0b8205f847154a265f0aeddacb728c2e197cca15fa7df1fa7d9795e2c49415d5832e537ecbe90fa162e230fd64739fd60e0b1522f45cb762f1a069e4e71101e7ee59a4371323aa9b3b1e8de21c96d25b7572ab1d3a018141e8c21a0c1724c4e8782615487eef750204be3a730c59858167c6c4bbf598762a8b7fdb7194151bd67b8912085ca192fc6ca12d68bd06bf4f79a76cd4a70b1d749b86f84cdad0652898fd73674aaebf317934d28bd856b00493cecf1c9243e380319872b13a638ddd501b7afb486e89fce3dfefdd5570b6b8cceccfa51fd0c64bfa8c5e4d1315ffb3b4e6fa0015ee169e373b811484656fd51f13554193d50ae4321a8af54cba435a02aff920fc538160d95891ed6b0f909f42eb8ac41b7811fd2371eadd6f9cbf34c7953a1713bfb29f0b52b0332a4d7270bdc47323af07d7fb5e7a2dedb3a7b9573b65314c31c2da587db7a08bb85b5551a0b3104340ccbaba50a44ef2dfe3e0ad9d0c1ea62d1792faa1bd6ffb416a4fa0b05f029877989c546dcf247a7024edd7ae34f0b831a6f1965acaf9b3ebe9a1c7c1b69b85215cc80d80753a0db78c745e7d15579fac4b20dab5145f3fef62bfc36ea3c730da1088d0624b6a42bd055281de17daab27ab94d8ef5e6e31c39eb70fa3ff987f4938447873cd3f2cec16751ce13c6a1cab2c89f3450d98dd5fc140da3f4278748a345b112e4df86b3dcb150006a31d33dc7acf5a27e452d427fd050c15d0c2544c26bf669ce729b15a4885207496c9b6e0436563aa7bc21dfde23cbedb636f5643b23e582f6340bc26bd74ee9c36c56f9a1636a57eab934f3044d0249e4f82970cf3d6a89e9a4f151ad1e340f6ed432cea08637cd8482a6573169d24c3f82c23435050766a8be2f4884a56206545f2ff8e5eca3a2a7f32db7d0b469008ca5a530abcc1e2453412f46a749777120bb4e16badc6e601caab050df4206cbe6497814f4a878b8f532a256d0e32dff7880a1b2ff5e8d96785e6506095f38b7ac983c3e29d13cdc5e18ba8f13cc338cc17b79b5d7bf8f74c08eab1a23daffeb3d5b87741d5ace2610a6d62a5f49c6f73b46c24d12a9bbc6094c40e8826f39515d6ba9a79a4c948579e63be44f24f74fb29b09b3e81440affc11865e4fdcec31ea30dba134838e73fa75d79e9df8637f2168ed06a22dd9442532b2bab6f90c5bd616b5d47a4d9483727dd1f4e02ec0da6a2f87975017ed52990601e370a1fd8462e5a7a851a163edf5dab67da233e014f617f9e6f70716c5dcbed26940da8aa6db7984c949dc5f43ed648fef2f4b46620a8f892c3a93b52bb3da054d778533e2e9544c24cf4b42f038251e7a965d023076fbfc5b60479fcb3f2f45031dfc14bdd574df68dc03008c2a62d256f0f760786d6bb6544fcdc73d9bd67113242b39005e88386ef77f79387fb65f926d82327c515df10506dec1f013b068a911e52a93cee8a0989a64f1cba236898c16fb3419d6b92d4d8ce17fa18abe3bb964d68acfd9f9b6dadfa3f52f0991aa7948dcd93dab228e97620b030f0b737dd2056fdde618307a5bd868e69ccfcb1ddd134f5c3f2c2351c4ce61690dea4abcaf3fcae76ed20aeb9e8928e8cd8e86122678317b7bda15319b01cf7f383c136765de5d5f7b2d8bb69688b23c479eb2d8999203f9ba0b575b389f6b63aa293f11e39e60572e03c28b1fbe43a6f483379ca0aa87d3b53df9330fe96f8b83e84870e74b0a8bb0987a68c63110682569f2c56226610f539259c8ba297d179c163f5f1f7a1959c2f8fb11f9b261f054847af08575f3711408ffadb5097e1285292661bb292bcbcdfff09e0fd1ea7201d4a6b03851cfc40e57f5ed7399f0d5645442a27d575808eb042dc9efe1c14d2a1e2d08b6b29eddcbe28acc99a1e5660f9f1d2558d92e377188eca8f107a162ebd69d4f101a358450d7fa37a8c12df9b57e94c6279e0d896e45f0add3bc9f7fe7484b5890c888863607916c9c8efaec271e9f7f0c6d06b6e24869b79f462b54f5a1d1831323b94b34b160d81d32003bd79dc1432b2d9fb8323821b2107ab0657f548535b8103cb561e277cdaef04a2dc55f0211624d509702b01083ba145a369573de989ece3ae600e4492126213f0fdd571da45f93b09b1923d5e5c69beebef418625ed0b33262c895bf2662eafccb341e2d5f50f90d75a1d976616dcee99527fd2ec118f95429a5195e3c15c5505e6da626828e9ba6d0953bca4de947d4a10580b8c478383304d8502797a0b2f16f8c2e73021d9fd5c5b26ed216adba739d7a743d98f34de0000c1b1ed2269f1520c2ff375028533c48291be07b8b7a53a235c04835ab2b0284cc9d9b90b7b6f64e10251f06e3848d6d7db6620fdf2ca167fd8388eec253eb02ea514ae855c5eb6186a15b1a2dfff558a56dbb3bf0c1d391f706a8862caf071f691815899e4c5e012b8c79e939ce0186d579a5dcda7259aa47f00bae4de229ab21e74e6b66ffb5e7f8235abd4a3d1e017da8ccf5730ccd4c0066b50685488858dbe1101fc4aac37ed9b6c1ee80154cc71dcd5eeec4c87a54cbca96a556c5dc7a3c1058729486438c27f9eb22263018d7d5e3356b9545aad8524e94e411b93fc2e2a08e2c053d443be843830af75e5ce21eea84f2a10b2b3ce5a51a7b226517b2a3187788993a0eb38d473cc58c9d1ac4b3bb08d55c3bb07cddec8100e534ad0d40ae3420eba08b209703cc93bd2030edd4e08c24f91ed842c5bdb43fc7cae71fb740411b08c6826f47f18de1fec3b2a0e4cc284d3f73ada1e1169c07e909a88b08a53835846116493ac3e5a949cf0733db987cceff76bb03e817345e92f0a259de5eed80d65df9419dc32bf62ae2ff94691245defb7b0d3b98e94c14360587044a3f771a991376c95e3f3b33efd75975138413f72e8fe23e2f60f5c03904c5b95d8436d2c238005650c0923f699619489f8fc2c301967b5705fc7e25d19e2d4de399b97dae6b057e8198349524e1494621d7e64fa6d680640528622d13eabef7d78f2bf7f1e2570dd2d71cfa2500dd822a52397443b6626c900499f83a3f99d49e97095a8de7de0cfc63d0f81b91462bda6203e4477264a49d570ac76314bfbb45ebdf491a0563bdd1e94bbdabc5e37f6e755be99b0f3de3b1c6cd24d2d6d838244a42c457dd431ee3e9c7f00a39d1902f4e7f3f52e500fa5bd4a29084a8b0308856060616e9058a6aa9108ec145fa03884e3c1c4e14f933b3924e4af273cf3d6555d5fde4c1f1c637cffb13dfdcf6c76c8dbf8e6cf6f419d6bd5cf73543e758884343e5d5f5a35bd529f3614199f73456443c34b6655b302f4076724bfedcbb028fef639bfc5c87f5d988ef4f8fea2be654ddc372e0d0e820848fed7645ecaa7862a39406e93503a7b580076057aff493eac73abdb8ded34250d85722238839b5853dbdff400d4fdc897c55d321d5b6b72e5f522afb5649b46f8d87f171b29b1a7a2baad6b948a7910efceda6d6299a0f0ba1b59cb80c887656bb6315ef9a9c62df59adaeaac8d039b03f949405ccfb9474746a0c0a7fb23f02ce6aedf075dae3a020abfb41c391a30f9500d1bf27364b6d1a99da953fdb270b22cfc1c8a781e3e89e6739b02d2e1a0522d0df762dda978d2f221da940c5e6dcb8128fab80ad1d655f9031f2c8ae430c21a4288336c16b9c646fe921622ace8425e1f0797fdc8c7dc54421697d31f327293116a229de12f4f237b4e4a0358f2b59ee703b409fad22c7b9464e96ba6dc0c2842beda637b0c18a3c2d51fdfcf36e46dbe1bd83c23559236ceb274a5a79117a01e0f94ca0f66768661e902530d7334f6460b009c97162e0fb0a1324fa896da80bed4fa42a2decde1f6de43aaf413503b82f1db3a4b4afee2efc6069d3292bfef4d642ff84a3a12e37ec11fa7239870abd4d6e9ae4bdccaff36bff572020c9fab0405d23bf100d4251d2cf76b40dea0bf31fcf83f1d209a73eaf2e76392f80b39c3f0d6468dcfb1c8a61971ae41bb213495763107977bd92753a87f49a9e4a00892a5ad01dbaa119b0bc8224c2dda4bb5fa806212233ad105808ba1f60899123b6d2372c6d838121f28842937f60d92ef1a37136b28eb9ccfa54ee7315be550ad2f94e423a807f7fb68630a0a718647162b8e0ecc5c792b6689bae01a3a29014848c81e31ff9c29393a318e6622af5eb4e0cc667f77738c1ea356cddfdf489ed566541746dc7004b5daed881ee2eae9b3688462166bb8116eb420802a8efb57dba602f886d1190f7a476973a7e1b1516cf31f896452738dbd312c056c7005a22298d08e1b56d15c377b30962f7d2856fa7efbee3be67e29b8d3e27835f48a5eb519d0feea83a806584199c1ef3ff66d818216ab878aac88df02b6adb9ed33a83c49e8f1a8c8e715a63535966d72b68301e2d39df67d1389afa3c2738cfcc7ce4f641031f2f0d2750e4c943744caa840916077087025f58f065a8b93998751fd183e6c729153365b3d664418229b71e4242f4a21f12160a8c18dcc7d76b0f566a68c84b06e9efcad05d53b363d7477f219117051f1021fddddc48cbd8c068554000cf21ae2560788d2580507e5ea17d76b5240bd6b2487e8ee43d2538b60fe1ab88377599ae9e46aa28a0436e2ec27dd8c3e365bd858b8c9eff73e71df57845c603c04ff1645f699755e12378d8f18f3ea45f194daaf9ef12934a0bcbab292d5860e419e16aa8acbf61f996b04257ed511afec1743244f67a9d0228aa900b4222864e77d9cffc4550fe7905e77b11dac2bdbceb46a57d49e46db61471e4d6ddc01de879f14b5b48bd7deef6ff91d7ea2d8f0d50857a4ae032591a940b0a6328bb3ac8dd87d4b6ee36c7d03119aef720285603927eaec1421be66b2be6e6dbebda8d3743ab6c34043f7b5f69a55667d8ebb964e9b774fa5710b6039ded8ab593a377cb0471cbc9e95a9aff488c71486c356f7798ba20ffa19b8179aff45cbfc1bb424c39a204413aee075ffb433a894e6200927f2441fea4a3d4fec4b78bc8e4771ea80516ed278e82d02df9ba257eb0f7b308ace20c511ec7c7b52ca6077cafa8f8e7d2073b2018ba744c22cf53256c4dbaa71b885e17430e4551f4ebf003ef1ce5f9b7e92fe0e251d1ddd55bd69405dca9d085850202675411d193a934e1a6b32c22b508e067e5849429494869c90e5f651a8090cee6bbf1bd43f13ed5b7d964e5fc51d29a2654a448c1064f6017a0f3c0b5ba84064fd31ec4cf43622dad1c99cf7a1f2f72baf36aaebf3c9f6abbad0a846b785f081f2571e8895aa6cbb286ed2b0eebacd191480efeeb25bb0d136c03bb18e8b1af243a0c717d078210039502609c29efbfce091742b63769da36ce9b1757bee98e8f2c7bbaf0c7e9734dfe3c47442f01cde68fd961a6afec2a16aa5980a60974383205164716a6bc052cfa34cdec33c6ddf7890becd37575fc4cb75c5097681220bf9972985d13e6961faf1cec2cef8fef7b99f89706452addfe6c494354fa5219ded4e0c16242982c8eb28841833397825a22953f00bf26cf6f05d649551beb5357deedae33464a52d9dee5a74fa8ba8fa26feae4447c455926a19db2f4e4e472358087bbedf038c34f0787b6ef69e1a921e079e81df0446e7227a301c15c1fd449350354dad1c9cc239cb4bb18cfe79166bdcfa6ee8088bdaf172e5933a82c7c0b32b8b62223ddaf1c762d428d2b202d1c86a1faec2d64d94e7278ffa5292a7b5be28353b3c8985a27c6eee66975ea574e012a22bafb8a5e9b627f62c2959119182e986523b6780dcf95a545adafbf50731578b58155bbee49f6deddffecca9f9521a3a05b65dff57ce72ceb29168e1ada43e59fc0fa6f6dd051700c93472a56fb3d4e1def21019c29a3e55913254aaab74f3830ff23975b49abc071ef556e771c35230282d39e92c6924f2cc199472fd8120131f9bef0bd18728e6f18b4c48b9a055164e7dceefbb880451fdd2d3798d91ebc68d1a94f1b87b7a90055cef1fa3945bb1b2f784e3928509c6dc43aa3377502c3bee68d0a2566c3ee71327ae1ed7ba9222935a665876344568a1c169abc2b00388559fe38f79ffdbcaf1ffc8010112e258b57aa4a34da5ca03ac9f1b414a42bb3a517d0462eee2a95ae48c639d32e9d23aacaa9c3c11d4b5109875c6fae4a756c6a4c9cfbe0711cc56e9c0b5373a5c9278b36de1df4bf347796e7085159e84f8389303e3b22ad801427b2913c35c32cfe52d7c8f2d94b05528f12393af9b08615455003425da03e972d42dc277b839af0d850fb67bd9f4bc04abaea0e6d22d41ea8443d76ceccd148f76cf6b0ae71a2e4d4c7da333ea3e89b7b2c20c47c10c69577d79517153b32ae324acd79d0f9dbe848599fddd0762166b9479aeb194909e08086cf8c824563159c20798e6f07e8dd3c5636de18ccb105d83c9f9f1dbc9c8c68b80da2922014d8b06e9689524715a99b0ab1a8cd8439c8f4a98ccb9c710fd9ce24e65cc984e91de3dee933322d0652461ea960855e90b935bcb29ecbe3f81b85420adfd883bf3bc979024cc63e4ba4e6c111b4fc482f6f7e35afa39d31a7ccc89a3558c3a2873dfda3a743352416a392d10773904b0cf91b7534e38e892a8b281b00d304a7e069e226a5c73437231eb97a8401bce1aefa17f5caa689364d739fbf20c6ec756efacd5c7e88bfa6136ffdaf7332ac59ae8d81c26bc1aee25a7b1f440affdde4cea15b354b5da0b97060f597eb90abcfea98e3b33beabdcbfc660d0c3d8d6b4b4b6600049e00501ffdc88340bccda67b51a955666704656fda0d10de6e9660bc9a16d8b936f7c4f0c22fc8bc22566f10ea72ef96c25b5a3ec3d7973c2337236707af28c3e9e464fd5ed756459579fe0a5189d1d613962feb3fe1b7d83f1c42715770194c5fbec9ba9b549bb57a0396d7fbbb0acb1a6c4c622cf02e33d9cfe4f12ea376ae5a562fbb7ccfc5db5b25260e234aa18215b3f8e0223fb82d4f60e164ef5c7ebb23b9f699c9b2ac6e1312e0f11a58d6db437d04da47c8139c248697a1da79f0036884b7348d4ea688e877331d4fd97fd2ec8c788fae4cca609ddeb9bf4e8f44dfc4e8441197579d8592189b5f2ac2919d6efa3bb16fad6e86a39842b805c1cee448c15ea17bffe372a5051bdbb4cce5e3ce9fbefc7553edbc245695ac495c47ef43414368ccdd9b772df688eb01f6f0848496cc673b1e52687b99e47a3b38b2e6fc44babec1916ad293e1e412a13df5d43a95ac25a358c155cadc2c0f0d3df38d5c7272e8a52f8d95ab8843d8cd9f1a79efaa3d64067d94771362ca2c3d5deb4819ddbf2afd522e90d9d4c82c29d569c5ae710996331c22f8e30a99f059bc66f3beb2d68e1cc7d878a249b177895affc4217fb84b6927340913f54f777461843bd5c611e2cdff8cae509bdf34169186acf6372cb290822652c941d08559593251136dd6ab36cae44dff17adaefc7a5a69876b013d7d63b1a55d6e741e3d7689a34b09399647b8d84a481a582e1ca035205585ac4a7dfd5cd5a24e0cb35ee646eb739fecf633ec7991818c4a87e7b9f76ed98633c758b1c3e5ab29a324a85eb099a278696a2012fa342c16d2b2899c23ca892406b73aab474b8d1b705ab205135110d15b9218e37d7910f5cb739ccfc621208f84ea275c091e196735da19f7c9551cba0cc4b7dd0cb9f2bc5cc26e02e15c8800571b9e456ff20b686686677d8cab18ac22618e0638050da6ec75a0ced0a69adc3bac5d3bdc42b4a8739e3394c31d5a698b218bec03f2a7b407a55c5f4edafc4a74b8f314f7dd10840003891b264c76f9aa0cd8e1e31471417fbd8250291834b15310ca01fa6cfbee5090c67474a2b68e67c2eb309a2136a8f44a45c0886044d3fd39a7a707c5074b70a8f9d1f62c74d1e45cb5f78dd428a22ebd22a97c0719c54e3ecdd837311b4ccb0e88ecd2c9865cd0c6261963d3cbf3831f16f9b2b7dcb6abe1830277aede1832a06ed5fbbcb41470382945131be53b89a346bc04e3ed7e53e298af69ba6e4287afb27836f5f1e5020cdbcd12a643e5c9fa8fcb9a08a1c5b733fefbf3d788626387d5594c08bf7e577982326a39eacef2e8ada6a3f76b74fa69d6a965885f1fb0326eceaebbe41f51fba2411ba0ed078412445ce426c360789799a3a87ced1ad0d5e9f536cf2ce456056ef8dbda175f77a71a8f457327ea75d5765f051a474674d72a98755741acefcda5fc80c365360678705256f17d8b6ca8ad79853ebff3b335252968c2099ac2e27a29303e60c3b744e70aa7432c410525813ad0b4b80f63bf54b17c466aad2545fe75c8635f16d581b1574199f5376e1f5eadce5c11b33e407a33d124ff84ab006a865e5e9a351d687f6b668e2bf6f92be79983832e34e8dffe88464450296a42caec40abf4585279bd4ccc118bb2e8ee99e3412e48d7d7fc95dd6893b2d94dea6a1bc42aafdb59dbcbf9d3ec48e008d8277a2acdbc7d18bd91c32237d703dcd8c58228462f602cd1ec7e411344627c8928cc9d96e508c7d36cd5b664ce9c48f9b046073b33305f0554ae8a9a08a2ede65cac5e8c530a9683e4b3a1b040e2e6592e168f7ba0a7e4015703c13a4d487f102870e04b45251eb0195b846aef3c32426fc39eadea4ad785811b0764acb6a2a1ef5035a44308cd87356d9860d37224c468d88073f75c1377aad5e31bb6e3986a29b895f6fff0bd47c5d5b739a6172f29d9569fd1c035c36591b4b7bde7c131b15d36ace5f6470f9d48172f0112197e0dab42241863e4150280902270e75ed08238eb784f9c848d99f6c4dadceda1e0fce314e5886b4be6fb2d8788189c04998b0cab71e4211f2370c97b4473fe827d907b0aa998cd6ab30caecbc8d56e5377a11f6c053cc4d761b91d0390fd0374479f9333400dad7e64c17feff61e6d65b4d6824836a21c18c9ee887b92018133b3cb57a2647bf0836967f064a52196581e640d41aca72e02bddae570246085cee16975dc8f9f1ec90a98065e65ad9bfea75857c0d161f77feeb5b312b249785b4a33bf5ce9b8a44e9c1db7d847fd7accd75b2caace19d51e2aafe1e189cfacc7309b001da19888f059e3cfbd8376bd017b5d6d2287f974b49ef9cd8b882d07165c534478b14104bde6fcf8557110af9026e13370b44c4cd9a9358395d3c35b0d6efe01287d181ff9602f87e98745d2fcc1cc95e1b2a1c65243dc6fa8edf228b18c4244dea502d4057047abb74d317ac8122a29566eda7455e942cc71f22b945a11e7632e77691f78dfb066240306c14a2b394a83f85a43f70b60d61b50473aadf88799a9439c27afddcd39031112c46e6e834e0ff5f025e20ef34546da6a12547e171de1582466404502436e5f042bf9e48c7efdef0fecb2c1c2ccc0ee74600f0154425bd29c20491e98b1f1c39bd625853bbb778dec107385ffcddcc4b986954049d88140499dc0adc44fab66ae2d257f4b9025c34436600c568b8e4b256768e2a1f3fd16e1321c38f8bd308923f20434bcd6856fcf8d56f667ca96c01f37d83f0f9162d5ef1758e9827408852e77682b84da47a8ab0d91622b8252275fbb4dba961680cb9528af5517708331f7968b8867ac23d47ccbc9189c3c0514f4f4102b3999899f667d30c1e4a8b5cd7f403ba26eb1a75656c84dae43f891fe4b43cfd84ab889f4bcab49cdb43d2e5e1f26d113033d00f264f86fbb4f0f3909b505dc5998cd43bb5a8410e75d421e14be757dba6a6f18a23ba5fbbd3f6e3185c39a1a94ef7cdc3f9ae46be0e4cccc39f3b7b4bb742b362d320cce0c8d27210b6e79ac8a618298843a67aeff553c375d746b0df557194498ff7d1a088fad3f3bdedb95e713f2c657d91dda36855e93bca7a4f37d2ea64f39760eee9cee686784aeea8571cf34311792d4fe0e720f39189413976d42631ff05db3cb562b2301ded125ba97fe67f6137d414ea6c9715942ac22e2290dbfcb289645aa79f2749e374dbe581f466e23d436747e34c20f842097f5c7d5accce2c0fc0e55c67bf8121903d1a460f27242c094993480b3b319423326355415901e57c10dd23ca4e86af1b6763ac4917e125070f64db2dfbf8e09016a58f1cdad56e5a258ca05017f6ddcfd2b422e5ebf264d5940170a81bc9b81ef0ecfdcb904c5ed425aade28f1861cfc5ab110a8b2b2c1da5e83d6f8a3d2ef7d6533a2fe6360b3e39c19c8e8363d384d889781d92b58b706a8a3acaffbfcc85ee8c5468534e7d4c8605b65436fbdec0560977a0c985e32a5d88555d6daa57ffcf03ca02bfc311c974d13eef1699ce8cde2edb4ba273ae4e628a88e16935d1568d953861edaed23c197894a8d5b1324615a6d5fe5fe93295a509574e69c21dab60dcda1350088cfc6a40a60b5d962985008ffe28b89bfdef42edcc98beb300a9fc8ac50b5d9492b1e58cf9e61fb072915d7cd31b36ee4d744e5ce36223955bf340c3bb0d52ab1e0dfdf79a480f40c7a30817f4a9fd140a5292dd477e904e44f439cad8fe04efd052da602af2a209e54b70883699873d097fb208df591ae4e536cec32bc22b00cdb729f7dcb184f70737cc4c14062f6d4b61dc5a866530fc9f76f9b6133643a242e61b94c15ce1b0213d9033761c52de5460d29875f572db71454821d05b5f06cba4f897e631e4e893d5656a03a47f3f4e17eed5a78fd036999ab6853c2f2d862404a7be33a41b05f9f450187a4f64de404af907a2c8e067760bdf29a065f1bf3b42eff0c8439a329408522f8d40db957eaf02f6ede71eb4f521bafebb5b12411966e17deda62ca6b34aed75358fbecee81e97b1118cfcfd6819c766e6b87b7b5893b4ffb82600dd1cd6ffdd603d0bfc01ddd4d9123a6a9b29d2e99ed90c974f4587ad30152af34a3056761299d391932e5d1eee641e2d2927f054e2217f5be682a3a815c5da37045d42b6e961e680c05db614e95b7d6bd90d3f084ff813ba79b37409228805fbc3b76d4583cf58bdc3f2c5aa8cfc6017fb3eb940c078ab6e52d96e60985c4f176dbdb52fa92d78fcf3583fbba83bbee1dd83335793ba83de8978b6ad137b3191b7c36b890d6c705fbf1ed7b2e669b76fb5592236387b95de7875995988a3d57290043fdb5ab0414cde1295a0c864f6afb3b3a811acca6e39b15246a384f8dec3279329a7bf4f5eb5b66a9b87ae78f9c720266125c543504ceb03593cc013c2e677ff517d0572f2c75f054257a48c9e88da1a8bcad491bda03321a7e4cd320997ae1945468139a3649994757af58a440fbe764f2a436104a8807358bc64c33f6394a7e04064d9714f87b6fc895d2887e6fbc6f03838a2d68d01276d20a4d71d9d64edfcce4ea4ff187327944a9b3634b9e9fd8040d4ba1984d75a87c489433d0842f8918d5ab00d375ce5609931924ae07b5e4a40c10c712f55c44045da3bed28beb7c74a94c9d52fcf7997fa5ea65d85256a6b0f59f8c301adea75bea47f467a80ee74e5ca2ba7d36b36306f21445ac1f788e0b410ba075b6f224f8698336dd2638ca68230fa85ded0fc981a2f49c9236afe5894f5cff4a8e48826ef1d0ec762e59f3865729f31a42ab65d0ae31c947ab78fed320599d9e138ee618da97a9824cf23acd3c4dde440160746521a93c153548e2237db8f8c33d2feed09956941d5475f35b1d6293fab94e142dacb7f8adabe8b09b35ab7d19beb7d3fcd1312fb56350c8c48614feb64608642bd4ed6839e45a7b77bd92b5186187392270dc6ad7dcba52eae3ddc92a150c1fd50afa09e306a458797206e29f0d768e8a79eb806995cb57783af4623eda5e8083bb26c44900501d93925bff3492fc07c3dcc36ec8726443d586fe3cd268bc269593c4a3b2f76b368e5233da188a45e58b9d6c89d49fc64926992526ccafc40f9152ed711ed1fcfc5e0de6cb687af2ad8587ac2385659bcfdb71104f9b5335ef9dde5b4c8db380a1bae7e59272d81ef69397efd39eac510c2b1a543f85c651d5657f7916d4ba17e4f13a699f517fb516534610a8c20463dea1bb1830e2174cb4d3e6467d60c357b0d19e9b47d0d89059a250bfe369d682020f9bdfaa8d9e1cf5bba75b32631b7126621220fa1c4c06e89abb659653a2d08935c50a0aabdefac56d5b574b961928bbf0cd60990588365b2b958aad72dadc0add30d399e248098efe4f05384814880bcd993a9b8219eed9369723a5b33eb4c76309afb55ccb869f4073e0552d87c715bbe039cd829ea8c8137a6758a8de040f512d9734cc91a36f70a6a5f4d1e4ed8a6a7c8cc7d017e881d17d7cf62bf219290987a3f7e544f56992fd08a71809dca5472eed3571ef4a367701a81d01a850e","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"95dd87c0a152b8d974a0066579e1c1d5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
