<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3f1d19d933fa1199940af6f2ddc60af01e0aa7fb5dd8bcd73c1f90bcc877d43f7d55f5456027c22f4befe4446eed23ef0653eb3e71f2a010a5309eb4ec7f87e808278ceb5f1a6627154a92f91c0f83fb6440a9ce19c8561dcc87acc4d54939c5786911f0fafd831246b76fef6a4e37b044ad381cb08b11d0ce0027537d2b681c29024cdeb4542719903684257820038e4749db2268be9846f1fcec16a0ac05c82582e990123830fe392633ccf6779255bcd6917e996dad2eaf015742b3c3ee5c63529fffe60e82effbaa31431c69cb73e549c3ddc6fe26ceb448116e947a065a64540a191ea3a01f22aade0cb1acc5cea1a5e15cc3c493c44ca322c301737144524921af194b8310e4a5384464978c5ffd82ddaf6b0e8f7899e3f5dbc95a515b887499d8f7f36b06e7c0d29eedaa4b016dc91b17d4e9810e3b3aa52d92c45de9b9f11a4ac996006194539e756329261ef8262b76c37b74895422cfbf0534d6b0e7f0d958bf7ed270fd6a32dc6942255413e643a32b676744525e23d0000c90c0902575618c76c308cb246bf7ddc762286211b35ae6faca6630898762ac8b8ed1d563f9675e00a38e14ebd9ced825cb90b97eb6500ebbf7640e87409f7931c133cfc1e1b114a00d92a116c27a772496d75ee64bc65439bc7ffc1151308e20bcfe6cc04bbf5fe53b8e67bb31e089736d3979f580fba5196659a2b0fed440e1da5dc4a496bd1508901066d43b149e487636772aae254cdf5ff4cb8095c3afc4b50bd57d0b3a8e6572080220f7542088c73c5c3125695307a176cb8d52b3c102f100957f6d3b826ffce948c3d321d555abf9f094e3b38ccd7eab4f95c473f0b231cd7b001f4ccbe375b4d5a60bd9a14b29af1c77a1e2d3bd4de607b810daf5afce2bc656e27e65b80048a9d0e0e8f3b7e02d41cb9504b64cd4dd301705b95d376c7c66d2d6d20d2c9b5ac8e18e3b1dfeb5d4183ee8027f0e138709aec5d5d438fbd8b151affa664e79c063b33a5d6dc7433c9dfa6b0f830975fcd7ac9f92bdf5d659a3b56a69dd345c2a2b0367a284b65376b2e0d90c1e0a509704f1f51f09bdd0f3f4404823f162d1738fd645c7376dca532b35f45229ddd530e3d8f3afea57afd7baca92c700c457fbafe0d75049cfecb26213fd6482d242ccad997cd41d9a033bea01d0567448101b9a8e4e982ca24a4eda57614f147d9fd601ec47712cd9836d3e5d34b3ebe887f50f2c2e5aa512851e22748134dd61aad4e793eaa0bfbcf7f0c6f7148bb03d6930f09895d646a4ef9ba542d8862939ee80b87c5064c87c1f67cdc54814ede4975754e97406c05ce9728c724f748ab3a01085a780f0a0193c14ca260883fd1def32ea3fa0a1d8f5cba6aa847fcb1995a643d92fd4699d7aca4ba90b49af4ba2bdd7b5594c5f0b4ebb16d78fab711bc3ebddf0528817c9b9d5f2504d8a64d30c25a94a0f7e6e866d08858096b859e3710b2dc4dbf902566d14fb2d4265825c12fbac880f8e099865c4c73738e9c0da6d5d30460fcc62c9562d9bf049761d7b261c25caf3c5039590620bddf6b889ba81a77583899d25753b5177ed256cd45b445a39a7d2c0cbb8832d1ff0889c3c35d9a8942af78bc85d33b5d485904e69180a335d0cca00b57fd9603a657d8a489f7873adc8b9f770b5f201af5181b5b331458f3ce15f84d395d6994d9c53bbad98ef37eaac1a82bbec84fcb1f009a408d728f6a2f4adfea67a0f0756893b74a95fb8d07e7ed057cbc4792dcfd80233f84c8856cfea9bf38c2939d93789eed404870c2a20983a62b455d6d7efa15bd396005da9709683f648841b1caf1452b027c8e5a832c707e36e47a2bfc9873c176de6f1e2a8989da318d45c83352cfc830bbc5a503c8056376a16ee2e71f569be9522dc3b21be280bb687a0400110a0dd6b34543e46bed48d72c9a536c85e91319b4c7098c8624ddc062d697d7c4ca7887b85eb243f90d67a0bf1fdb9cb0a9a769ce8198adb381499bd48fd2e08e16b553ee31c8da479c9630199012a2a08333c40055ba9721efb6d6317cd4f53350ef812d0b39671fac8d10efeb53359f9595551dcde4462d50fef9cf1f829d62e565b72ad45d1f3f5faf8ad4b71292203970bda849a0c0ec4903bb6e0824cdd68bffe713120671bb280bb919b92fe91a324c4a7aad2059ea265b42e75c37b55a21583710dd52e270e242a838b9364715acb0d50b99fbdfcd71642087d5005edc8121ffbfaee36103c0107b7ba4a4f51bdc7129f09ab19f992f607659a74852af178ab51624578565c741cf60ac21cf61ee3b302abce968bfc6ae45384503951d889ccd20aed18f4bb7916041a0b3e57e645e0abd24908321923de007e45208b84ef609f11af732e00df9c2186f50042882d4ed25bee65b66424b1db09f7ed734a4ce9423971beeccd5bb2c245df50587ec8f6454ccc8ad877542f2fb50d43d8806d29d090a874d2234943c1778e22a514cdb0b87cd6767856b61a469dc6e9e95b5ecc92425f7afdc6054a9141f330e754adb3eea6265d873578b0f6457cf9f0019a396570277edf71693b80b7b0fe72b78b84fa0a6f65f520297160fbf11e4ef569497494ea9109a7aebfa92680d4d511620cca614133dd2145c49a993cc9b8b546edcdb12c412c569b83e67a363f874e5efa6b51bfc969715b5f41bc935e4ab4d3aaa0648fd4e887813605f8e34252a9312f2dbaf445d97a8bbea1d1a4c5c8496a94770913cf04d31060b24d7a408d852147cdfb92744cd993dc464789c91655e261ee4367584ce3872f9d6a8532da99ebc33073c3236b25b2708ec8cf411e3074aca3c4d54937cbdc8a48b2f43d402b071bb7edf7524dbed28340b593bedf574543484499055137eb632d7958046591f0a50148b957461c0011190f80e1f0ba0473776b338bc4eb77e887ce947e18d26c14af6299c57324a5f871b320c85ed6326970ecd989a3c04e5a500ec4e6ca36561e2f40c4f5018c4c855930d68e1f8b6c7c710effa33b8e98980379d72d4fafa49c337d4cd776d5cdb3043658ec6f9c5d17fa2f7f8d941c2bab69449784bdf953172d7d635c289b290580c745bc56f456ba1b4d3156a971b2c2c071618d8faa3eb9aa594de4582453396dacd087d3127803be650e0bf0d2c0cb4b9f66f268e63bc28d899fe56cb8850e0bf99ac0d7bc024cc11ca2132f3721f50a96efd041f1494095a2958ab7d7b443d84a96c448fe1d9e9172a8f91f75b1f7342e50836f27d7e2612bd34d1be50ce5ddccd8a819fd92dcb9d033b538d61ef316f51009b6729fef2d37b103fd0f1af495999e87906bebeb55ed51aa946d134c54bdddd58e3633c5bf568bc8180bde54cda037362c934b873b37a3ed09a072b4556862abbf6cd610f6f0aac99b9fb0285b72722e6618c8a5c6d84877dd35c82708cb29269b49cbab6d774367faa182df2c69d6665252d08ce123efa86f29a5c3f3371d8abfc07b9f58c66e67e95727dfec9e72ffe500857fd65cb97a71445c219a1929f6b4d4e4dc1922d0769c0bdcff36751d0fcc6daa018946b47da77574af2e4efa09a737f8688d27ae27f4f354dff266a6f9cff58cb00e0ed689b8f2ece2fd7e308401d14f14fe34e14b759222c2d41b100f6ba35f97319654cc1618d3d09bd2a7731626042c54bd80177e67e55ee607802aa7750f096d772c9d218278e9b1f7c6b3b3d9b621fc9cf0d13646f521897d852a1bffc86bcd00252e28472d904c6fd8151868dc6787a1ae15d352fa4119ec1f6f6299b15745da505e3e769479cf3dab5a208991cbfe1f6dcd8a32da96accaa6854b463b891ae3d1a80e5418317287004ba5df1b2591fdd9c412989756a51c457a44065c37c87c45584b15b1082e29a78667ba3e0118e3161c8da7e15bcd52af9541312920b3e87a37439bdf58b212dc1d69dbfeb5f711e64ec174432b6773e40478c886f937cc4efb1cfb8e1589b084e50b181b7faabf0243456238bf17ee7df17cb9fdc8b1835ad8f3f9e2d565f0074b83f6f355f2a4a6f82edc87b1f942c22120e0f2eedca20aeb3eb7797ed9d59c53128edfd441368ab620ba6d9300c80e5c7a05e4b1d8fa0b1b0724ab191f7c5e228f64120baf6ec70709d7d17ae301bd18ae3731bbf5f5b42b10cf73853bf46341b62396b77d35759b761640d06345e982c1a4dd146dce63696fc88dd525dc1358c09263b21a95007fbbb8124c2071f7db67de4302f54409e393bcfbe7be10e7b0933bab87ed877f2b4ee4220ab72068922d1e450bba07fe87a81f281e00c3dc23985a450b54ad4f672e9e2d9edcb91d9a225d6e51644fa41c96d34d4802f77c5368b015f7bbc6f9aa76a900cbec7b54a25452e7f933472143781c9c66e29e02ec294f19dd67bce27e178baad4a6751837019fead06930aabd8667b42e0221f08728505b2503ae5be5c98cd1bfb49c8b85ee0f736c90f9c382559f7cfed7d92f6ff6313ebf619c05bbb60294ce7d1485884176e3f6d2259704db1090cc55c4e6fc89b89572e874ad0d1f337a605f74b5620497e2770d7a7df6b28af5b3b426a20a40dff602c6819a34af18e52a978b2c0c957ba62d48d44f7f172d0ef51d52be0be476a9f3a8c38a8e718301ed22c6aabf773e0fa4edec7887a0c277639523969dd265927ee924c858a83b43e79b47f22b4f302fabd2a20d3b2044aab3ee1198b3ec560e5e286679f96ca6f984e2930ea26449fd2ad950f9e7092c561c0043ab5aac613e477adff1f38a3311dafbc4684d59dfd8a6b541a23a1dccca7590bf9a770ed7143f6d91d19916eb2966fe5de2f3f13dd4bc51cbe1f7e9c6012eb511b646eb025e28649ab66415bce2555ce56e2279d16a9aa7c097ccf97c611ba6b575283597542300b88b6264491b7028b13ddd61e56b383cb01a8837bf61c7ff2831506b79fbd231eec8b2cf9cbc006dd4b053ce500ce6e3bd0282c0ebad36397193d6c9b05b268ae6731cbb17b2cdef6a9658b1df63d88ab49684410a1be5f5538103378d7f86c86f46a8fbfb504b1abd2954ab8740b268a53cb4ff21f96ffbdb3a8d3fcde7c99d9cf41183bda152f426de3cca387dc2f1b9ea40fa660470cfe1cfcc1805a91b7ded2f68271a8b1e7791d48ea9e72f1c3f5067d885ef9e000f02a2651d79c4513326b5fcda22e09257eb3b7640623c945bcdd872f8f39e2cfdff41d8fbbb3194550922db6b20e5afdbd13e5a6b4ca999db711bc91fdaba2a3b4d2d23cf1ad4f81504ad283031b965eeff84e3c06347db576c83e831ec5eeb9d352e7fe8fb6e0fbfbec19182bfa5856e102b7599469956558998dda28088092de3079e906dd94e27d8933cb35ec8fa47cd9977b50be409838fa081193e5504f6bacb1462259041ad32a609ea6142f71f2f6ffb7742be7e4b2a666b92dbfb7bf2c399b1809c46837e2761c31ebf6d83a32b5389eaf3c6549e9c659944bb41b6f887dadfc3fb4e0bcaefae1368f79959acae69b908f3b4208fd8131e53071028ec0c8bc20e768f03fca1c24a755568003b4922a527106747fafa23be895e3da30fdea387cd8f08e9a27863a31d0c352f379aa0f4e09190e523feac47b0d5440f88dc67c1a375636b296d4cffc65ab25677b96d2972cff0211a4a96228ca5f872223f5625bc57e29d7c718218d2e5283eed89857b51181692f573c3e1fa93159b4b03d01a4291f9eb30b243353b4bd1a786446447e3ee96889894121213800be6415a2ebcc5e4ff19c610e5633c981b352c7f8d3743886447e0cb1e9bad7acddc17779967c4c587a29bd6554b1eaf11c1eb68ff1a1ee29fbe99187025d84be71f1a764f343ef977204efc84b8e7984b041de19569a2b075f02c0eaff97c418a0c0a6cc4b5f4f29b8c9c45305e05e60e12f349e70c860a2a6629380949f54c9a91b54f40110f788e48b2de86b71ff958fc4d85762b22ce0e095f86356fe2a6bd6956c06c3fd7d14b3d19db9df7af877223cd3c7793afeb2bf77b8730eb5338bbfe5cc1e19dbed72e71c11617c620697a5a3374118cb669dbee93739735a8b86d8850d9e277412a66044e234478caec6382a25c7f690f1a4b528c6fce34c0677447865b5091268b3d78c7b60d196ae5cc6cf6462470439d959a75df00126dc0d9d1a0413840f0be9f7e31a89a50396baf0b5269bf80d6f31eda3d76db35695d91f3435447ffc1419337e63c6f003b8adfed05973766e08d259379f0267b10440610592b93b55f9654191343a166349c220fcb404cc4aa7a4fb5f6e66e7da098e7ad21cb2fa64a877f5dcbbace146118f851a8401064b8f176001e73823abc73683e8a99c05429a489ff21979e1d2462c58b57d61b51bf2fd2ea6a6fdf37c1bbe6258612394a5969f0561a7b3af13b820259f600a16e8e4c155a54b3ac6b62904ac6e2b7f28029918ba6540ad7ea48fc791e6b9d67eef20b75a022a7106b1bb40576f5e8315434b0f9a4e731a6a7eb429d26d9c1e1bf213dcf03d7c50c0724e1163ee4608ecbc807eaae1c68fe548c395391cb70ea7ce6c97a487726c4d1d08bc1461c144879739b3b025c2b93f9178429eb504e8ed01e0f77d5a5fc8879e8df82b025ffe5123473ad276234a17f82f9f455a707218ef66716d28a7badcdda69d696e4f205f821800d6ed62c82ad406533396aedb410a8ed4f4b6acce83d3ef78e9ebf96e68fd6da9291c7c1913096b18f1c4fb9a61609d1b2fa9459d33a1c82de555a8d801bb13967eca4161856995fc3e512dc170b04b67b88667c7a8ec42daa96a2773f4cc35dbd02208ee81afe264b03c8ab78a047a0de17694e3115fb5c5d1c2d0868a0f4092ccbaae48436e5aa2c31acd1bf2a96307cad40388f9ac94a9ceefe092bc1d519fbb11450bc6f9c4169943dcf8cd7787a96c788408030acb236db6c63d7bb9e0b1d2bc912d5e2034ff4cd3438f467c2a5e2fda789f5d4dabfaaa9e766b1538d726c4da37e36b035356dc7573eebf91c1b495f3e387024c376525cfdaf0c5b14f9b063338c6ada5636b5d4539e23c302e7cc6e3d04c59c8ecb8992b998e3982dd97df400c4774b812346df1e3230b55ba583c2c1bf73a9fdc390a6fe733fe150c6afcfb3e8851937bca04f616e6a6ec87533f23ed44bff45065893ef8cc7cef8ae6540e3f65a09560e29a6230aac9f56819c2e039d346eebbb0dd56f23a300e779527691f2fa0a04c0b142a4e59390abde0529af39046c94719cea9194809ef184559d401e4d09ed034249d824862141ff16dd86605dbb1c3311e164cd82bc4e8ef21b6d9f8cdb54262b20938cf6250b119786af4f53dc471a014232a5c6bec302824c7a7b0cdeb7423e92cca3d11ab8e1a86ad5f38c123d5f2fbcc5ac0b21c2b75e67826755f2ad06c0958b75ed37bbb6510eb71ec3856738520fec5fbd62139c059bdee07787b65ed85077e4863cb3ab1c4abd9e9f8d015e41762e6d59dce4de567351da665e722484862e1f881fed00cecb9073d50020ead5c48b46cdff8647dfdefb25c5903f34cb67244749a4abb5b8bb5960a2c8c316188c507449ef12d4a07f491c5d785165bafd5961b42a8336e96e4d96529febb47d38b11df9d90bc0b40f1d261045ebcd4cb65aa0218e85c9be9243b95d6def2d29c0aedff66982a83bd116be9d33869d89df117ef24e50ea575a0b65be05808c663d8ece025b5b3b88aa31388f7ff47c3ade297b6219408402dbdd05e95a95ce4463ea98d29d7fb2c387dff79828d00ee6c77f9c869d81e57138f7f1309c824b343b596dd1067420690bdfaecef8cfea2070276c6cc138378f4df9a3ef82e57af1f4a650a68809ddd9e7c5da3b2c6302e47209ac2c620e28ccaed7fd41ea6e315b5f8f504d1c497688590dc9980c041c73a196416ef8ff9abbe552c89c3792148ad7d6a56f90659f643120d96e1b34cd37e0f4e4346e264c43e45f2d17f56713cb3394983e5fd4568c2d6108d5674b3ec0e52cc4a04da0745c7c745a6b31b53b51cf287713275247ad308fe6906c43702eadfcbefa6403d1c1b24159f2848edf98de2289d885c316b89eba68776ebfbd5755af7c5f710f1957a247267b4ac3f3008fbe3e93f1ffa2653fe27881fe5959a7fe6ef98a6d735fa92dc0f8eac514a4da5e877d4ab6152ff3c14ce58f8ae8619ee266673a9e693578fb727179fb81c98492a8a79b247f8fb8673982437ce3c2602722ca67c27e1bdf832ae3ecfb009bd54f867701052c9b1670671fb3805d41554f034c26f77174cdc9a273c830f6e7e8ed0ad09ae4783971cd4b088da4357aaf8b2c947bbc7115d4fa00910705553b14e9175f13777f1f2fe96c5ec10bc112bdf203e43dcea829df4c3bdc7dc501b49a811b1228c401ab3372ae97327d1175612ee4697f80418ce478df53882f1edbec2e1c464e2c3e07d4aa20d8a240832b631220b05a77935f97e757550a5dbf305f8eb9193941cd42f7357b9358efb69332bdafabcf51eb1ac963019fe459005b60cdff3478539c1013ca3211e11e6d9cbd10b65bf1784cf30fe58eba487b78a30717a657e28cea75ce748750af3f08b21200a665da695c6f1a53b7bad2b1d8d71ea35143894ce64adbb7b7012270db5d49ddfb20bf72687895107d0028d890e3eda6aeccbbed1312f403e11cd3d4df99f59e42b0155baacde78b5ee6e6bbe6c317543460ff2ba18ffec43c944c38e1e1bd4aab2208c21683cd46967f5532459e0f3e17b0f359fd5949fe44eb762222a9bd611e620f941fa58c3cf247a96acfc8fada2d3e641e18fb62c3d3191610749a40f14d03e8656d6fee7d74b26df805bcf8cba5b627e15cf92f567ee8ef8f468f46e388f94d998fa486f08d23be6ddc4eb2eca841ebc5d4d797af8f53f452e62c8e50a2d0524b40221a37cc99a19558b2d4886d4a48b68e9523e438d41f3e140051270fdcbe9ce6a2d79027ee0c9fbd4d062f72f0fdf8b37c9e50cfc6924457e29488086ae0d235ab4b5c80641f774b0f32ab3078dc5c4e8c082b4055fd96ed470df76a43f344da9c36f6834461fba54fd4f215ccee3583c1a42a10f4f60af9414a283aeadd72913ff76d52341c23a96216ef8253aef0b34fe8b24b932b950ec8e72b61918cbcb075b19655eaf25eb73bc7cda1ee27f7d2cc31ea3c57c4742faa46c9ecc74c6b6af7691b57feba5148c40dae01759c01d40ddcab36144796018684673d1be8dbf7d13c477bd6d3436a99915a76476b11cefa4b4139cf616f693ecabf1a51567a9ba7478e334a0d3515786f12b34bfcf4c3999127ea918a9f7b6c9d1e01a72a82491bdafbceba2469121c483ca835e8f293a96c90993ded1d90ed161b819417f961a00874f305c52a8bae311f6373b6d0b30b4eb98c654a2ddaf8343984b94bd816a704bd8ea8688a0e389fdb25db86e9d8d0f133304b7c5f7493822a68c8f0b22ff7f23eed43cf5aaf4bebb2f36b20d77c23005fb1c7ac349b879060680eefa54497b4234bd5e6f11c283218a4b610f55539c66afd80a92a84b30f0466e19ec08a283db012caba55e3afc526d227e2b7071a87f63e1b627ecfc43625f0f35c828f6f0f0f7a8e87e9e6d95953ad4cd1185e2f225bb6a67b2258c9de3ca877f9c428934f53fd44f6080557da013077a286bba5018e279acb700f063b3b2680510c9d38355a87b1beee9fdca959e276bc55ce52dc9dc9d9411ee785f6c3ebe48eed7ea9002b039f0e05be98e05462c9d3d2b27c364dec2c42577e612660f42340191a1dd8fd9e064e0bbf9b2d38b0522c1ec82d8518143937716ec183c794a24a4a8c53689c7a38866c5bd47c4ae13b9bb45af32b9a27498e7d58b0e1971ca69c74bb3f09ecace49402afbc33ee7e573a0408e0ff81989dc6f0c45fd074870dcba7f9f39f09ac852bea27a71aff5c66e82c1de9f3441d9b9318ec233fb7876595efbb6a4a5920cc1e7a07136b8d9b74ec6e6192768208ac67cb1643e19fd87c318b4ded096af7636b853b2748095b53fd070bc3e17f0262ecdf2193192de791f0368ff132dcb6931265406f15115741cd268a827c6aec910e8b1c94f317437d86bcf3b42d16828c1a5e3780f690391a4c3ad592f0dfc57194bf4b91c96e54262f040cfbb78144d205ba1a09c6e41291927fb912df31c0aac02d3f842d74f4a13b7fda1f551ead37d4abfbe854163994d7d80d039f27952600600db45879eaa0fe2ed838ca8ae4a3690a808190bdacfb6f2690fefa62f0947f262145b87ca0535391f319d90ea6146a13cd4e712eba6f96c79d05e577c516e86765a4fae9e252db67d98ca7839dddc9907be99f18d1fa66eb592a46801385f94117ef2c431edd36bad9e2bf0d07de0b69f3379ec31f972f7669d1c5d5dff00aa9d0fcbc599406af4cb19262e4fe73aa58c5925b5fe835c070fc810ab597cd4b87a63b67862a8095efff6b6464f15bb8861b33b16f96248f8f455afeae9aeca02f6f9fc380346bda32bfda188f38e0405d6a55ff1422f6b17a02bfd357d94ebc7c76ca05e9a3d46224c29e02846ec9d9152bedf5e3bde56fbf4c9f6e787e3e57e80e2c97fdb8750f82ded0b8fcd879bba7b695c69c37f52855af91a889bb4052ade0a5a66100c260cea2d32c2c28ea809a14d99df8f90aa867f7987f9ebfe2e3214448c372aca3ce8f82e9e153ae7709135e7182ab92953cc1a8224a18df76b56f2e125235ca021972bd13a6d045d8be549fad75bae91f7b0c60237437d9cf7f48d5e4c1cf931b3d5bcfb3d9d069b10af2bec31302ff784c874647247b7da5bf5c84e457cfe7da9ece20a2d1ce77f7c0a43fb6c74c5f6ea88cf48c62792f408848b475feb47b6e62bb6e573bd8bef2c1893f1026900d073577d6063cb7f45689adb3ac4ecc953b1bf5658e3652f70c1a3277b2c0847bd3b4749639da2eed6110c34418e20ef4ed2b617e766bb6445340760ca2cc11650ea5d021859f9cd01f1bbe926e6a2462c6e13a7d73c01f56bf43118ee075bf715e02a6e88cf2def8306af58e8768e9094b747f17a33381cd8b8f4ffec5b14b1d081f096906efd17ca1cd5099546afe4b0e3ee35d859fddbfea7a006ca5df7b50370249864174a03fd8c2b229324ab2e27e182870d043980380d2c240a2bfdc37fb2ff0ac6a91b84aab1d2b4952cb456ecbcfb783965baf1201a116111335897c8a4015006c0362c8d8ecdeb910b7bd89f1d157315ff73a554ab8f2f94a4199407daf08a5c08bdaa1a400bbbce85bd31ad3ee35fa068e9abdba37bc8e8183723317beb508178b06265079052b4f5ef970d1bb4872eaaf7a04e85dc6b9f22e4586ccba32b78159e372ecd579ab66e5378f613a70decbe973f854a8a1599ec5b507cfbdddb25f88768d227c16ee7f6a0bab474debd796bd468ba01b4e503d5f0df076b54c073445058e176c9ca4dfbd4568ff571952fa415012c7e25c8bdc1b6c0f2c729473438e88cfc902acb81520699d624baf3f705ce0ac45b824915cf3b299f3c5dbd71f7042a6fc92d07ff251f049bc673e12bce32a8d0e480af7c347c5f01e652f5d0946029f9363936ffe612e4b417340f84c37c1c773769677d7ed3c1a59caa44303c550d423e4d3debeb9284b39a93a09146356124cf51fa0234acfdbe6a49afd8140c3fc8a4126508a965dd6b2fc0203fc1c76fd412992cbec612e19797219bcf96e3a75e6788c7f855a473c9ddd8bbe65c9287a160cd466800b51f421328a3c8281c93c7aae671343524a409b686f9195f9b84a5e7576c9f77fdf8884f0971004972d98a4d1e865d8463bf1e3093356b465007be8355695ca7b959d78d801110a9838b4ddcdcf33049dcde7114450783a01d5f8384dd962728e02d135e02f476020dd252736ebdf38f7920d5845b3f9340f5e392107b1efd4cfac2f6a4cf1144a13d3fd3b22922107e17425fd56a313f1fbf447245b68c981da77bb5d977d3588116517c5b20dd518eba229c5ea2a08d2cbcb795b411172428654217c8cdfa26c47edb4d988ef589ce96c6df46b087013519be9fc5a58ade47b534819735685a4a59648cebd201f20897664217490f552112f8648e61442e86c081e825b4314eefd85832c98d4ba9067dc86245ef6c1faeb16b6f29d4e82a2a2686b76d47131aa978d79ef7664c045d13951116b892b217e577ffd3b9cdb4392276e8be9ee1acdc01aa756d7338e3f8be9d66d5c2dacf4eebe3cea6772a19d82ac51b60459486cb194c07640de41a4e230bdb61369f9591e0f6ebbcfd26679ee3119c35c454b63196b361790a88ba02adeb685c89dc5149238587388b014d16f029edad3e5649b54b27d5e1c1d8edc268284d4d6835ae48392c46a81a9f52c49ab1bfdbdc88c5f10d1f02f977d65ee84ed98a9f7511cc21ecbcea07ee375a534f5fe7a5047a3339c54d1b84385329c8d1217120b4efade1808c36a2a55d3f237c256c677cf6443ba4de8583d8042a213e381dba3174435ec3bc52d183f517b99e3255bbc832b6eba994969e0b05685f63822fa871c45169d81fc08424d927e4e2d64dc6e726c8444ed973df16f737351146c1d225fadddfa3c401a77dafad488f5a260fbad6d74b844135f0a429ab86bbd84ce3b49e2c0cda6002eb47db153b0d0a63aee10ad23c79c2975e4e671738e19883bd4395b7f822de0d0081e0fe6648e44b7fa22437f076acf734614fc9132352aa62d1deb98a47b46887d54375d67e584dceab5d1d1a687a366dc01b307d9c722ef967887965e4b227a98762419a4a23bc6d620448eb2813bd54224a3c43fbf63f4560266da92674281fc8b2538a932085ee48d689cf5a4b2f992a4befb71a4a7ef91135e4b50dec83288edb05ad7f128a73394fd0142888e7d9e39be986aad50406c437bac5934e839aa500e3f74b508ad9944b4e3f92cbc8580f5f6f713fec019d6a11f1eef8962512e25545614316ae9a3a0d89e9d8a188929db76d0ebcced37ea9bfd29d12706e1b2d7a5483fddefd6634806f626e87f6b8c194ab30d6e0043874fa244e404a6adb6bcaa5d30dd1b934218c74112f0c51e8fda6a9232278193582498b8f901998c19ea8d987e436c0417cbb872b40c147ade8a17f8c4be5bce294324e5a9f95dab5962c64a78386682e2ae4c47093df18afab2865b18db73825e9a4b16e4da71b54fc54bf4e9192413f308402facce1dfba8cfaacf8e867b895c8a666acaf17b3fc6094fc7683bc36e252d05dea3bf271d7114d786a22bfb489ba94a07583d2569f1d8e9d02f0536f0811c4d22f41f639a1327224686c224f1b1d71ed50990b7eeb4580c819a75f3973873a0b865e74e08c1e8b689ce42fd9b5c2aeb6064b14eeb4232314de08c3f3ac3e9fc3ad924ae697a9102a5c0142c929059341b428a4202efd388856430bbc69aea981628381e572f2ff7f68e3d0d2fdb8e2b59fac918f9e12a345822c6f229f047e11b489eaedd749120806a3bca03f3563886a4f301a17a8b08a4418ba4172d0177fae8bc8efbfeb6f84b6213667183003c9066fee922d18ba560406ee955b1f72f0e65f4b385d4bd72ed7d3194fc54d018984e65884b4868c63ea52695731dfccc4027dd64a7ad02143c412f24becd9ea28583e9285cafd2c851e249ec3d65364c08b01202707e4a09d1cff0cbd00e31d85834fe66c328580d83244b7ad23984c4ae71cba94554e8c25d7085cb54eb3eccda23d6cffa2335310e85a0e32dcd43465d1c0df640592227d8ddfc7d2b9268b49f553d08a6033e160d1b9b58e3c7d6caa3c2ed3348f3dc3656ec7b6e956e299a14232b1f1939e982dba389c34e818453c6d9ffb28cf509e22197befeac9e3f6e439c84fd86425c4ecbdcf8599401c3df6e05da0ccd39207d22f8c92924a3c53acb138cac59c3e740c0b874873876daf7f97f74e998893158db5339004ddb98b941944aed0e718fb7a92b510483aeaf43921fc72cde8eada44688447ade5b2ac964fbfb4c35f324c6c0bde1a3c3bb75d689c8c279974b2103e904f3d8ec756c71121a58326cc2e9103b00ec7e80132b750aa5380a4e66dda9b810b44d5bf5cf2fae256c2d7ca0c86df4a9e29bbc3d17ab33fcc7356e4ff316a8553c073a8616a85b3abf7277a1d3499bcea56659ce3ed55e3212794878243675586ef0a3929138200f668178f3a53b0923b577902de8704ccc69a78500a68d80e18ddee0d5795f3f758caa1b5c2ed9b1397eb2b77181d397c1005729d8d0f4584aedbd292b4118763dccf6aa892a5ac57fb3a194b8ba479e1e35a7f4dc4835a046d01462a0520b8405345e6bf7cb9b640299edac88c60806ddfb22b7a5c88accea6a4ca54d82d21a0bc7e7ebfff29376386a3e15420e8c05a9e7505390630c9b47d713809818e60149241bca0226668f15b9598119c932847c9a7882f7488589aeec8774455f87fb665d82a6a48aae5cf9db1f7fcecd6658de299b95f54ad324bb4b1ce50ceadb9bdba5c74cc48d1496320541a88b63d06560e94db4e3ab5d09341f7cbb29505b218017f8ddec529a70add7a47a78d65596f7777b16f77e2052c2bfd2b1fcb0b489e677d94f4d31e5a3782d1664ced820eb927ba04f3af301ea197bdaf5b6cc3b42135e88500eb596228649203eb46153d765b2cce3241a256f935f8b70c7cff982eeb8dc5cbec607b35e1dde076f0b1ec158a68882cf0c697b07a84e2a9d8b3a015afddc5bd40df684542c7f494266605e8a7d6c64be27dded70289ca40f29481efd0069e1e9934cb58a838ccfb63c72a5aa9869e5984386cf9a446876ed41d6e2d90e486df114b29aa4f2e65cdf4fdceda940ab833533d8a5fe571057404058556c565c698b9cd465f201aa5e2c206c04025d1b0ecf843b5d02513a3f45864d598a4aa69cb64878a028a131bbce034ff84e5f4dc1a0cdd183e4aac6758783950703a4f00b0a2352c8dcd98a9d0c4f4b8c968c92051175e4e560e86493f1b9f111847258c0cdf781af925ab0179f33f26d8793c0d817b59fbfe4ddc987645db03a891838dbcf7837122496e2cbcb12d9d7a9ff7dfbd7230f35f145dffe86227ae1b3cc3e5880626695be71f8d33929cff87dcfcbab661a17d82998f3ffd4fb61daef5a43121618907450a1328b4985f502a66a4e093fc5610311d29ddba263820ba4d242da01bdb404adee4aaac7a1f1a9d4f528c5034e855ee47ae6af22eee2a880da6832e3872618f9b5936bb922a5c793e4317c488d5cda7576098274c7390081aa516997741623d156bd37cebd90666090898bb50caf6911b4c189fe384050f550d448d2f1fe91ae81728856addc3265f0c24ab988e3c197055932d4689205cdabf8ced6234f9915e87c9f2b5d660d5e02b4059182d92cc63679a4564e33a3a6af4148a37a16c9c00d02ed86ab69f5cdc45f3d7aa7ee1c41ba338ee1af4a4a7e2b144893e45731a0f198dbc5fe3a017997d2ecf86f3944928ccd2be3b18a9cb672c7af62c8114bd257e64dddca2f89658f975c977f0ee37f7ce28d2c7fc0753919334f5a4148162a045be9e5f7cb9b7cd6e7978a40c2ebd95d10ddd163f34bc8d5b7e9d33e6e6e3e76eda8c4b8500a53f98520b6c682aee14320e00c4e946890162b9209d12a2ebfce6d80e5e2bfa9353405012c66eedd424c8ccff9c9b32b142069b7f3804e888b6dc0626f515476b3dab8b9d928c04a004a1951a4f8a03fa2a581816aa1e43b37bde671bd5b73cb0f6b58047f259aec8a8bb3b80ffa8f78fc17f75d3d18da86ddf06cf6fc95182ea758e0c8ae8400846a24f682152c0a5b217251170f319344ae7fc935272eba60145c32e033833816b63b182ce96daafc56e620756fed94e28c2205daef6a2bbf1f2fbfa4b46f09d9b55a9e46a3828d5be97272ef3ad59171d4dd4c83eeb26bc0463f1873fecce2307c035a40fc5191a4309cfadcc179daebe2c074151f023cfe59192e2dc36eaadc42f43c7de87be577e523e8bcf9cfa36c95ee6138599df083262991dfaf05d2529f681ba303cb297027c181eb955edae53e11112932ea470113ff3494345c20d6b93b4ec7828f9dd2ca9966b989006ae744ce8982a6f3536d1c7467bf0e4ca2a09766612c602a3d6d2a592f2422621f48c82449342dfe663501f35a489c6267c39efdaa4348c44cd1422a3e7881cb3f18c9e753c68beafbeb7adea95001ccf5908fbad48a87fce191400345bbd7889f71ddcc39d6ad4f7eb74ce8dc760cf3fab5d00aab17004f368130be05ce5b1696dee56314e683762b4a0cbdf8298c699b2211b9b1601f6cdc08c761f38ba743de966199ee8cb99e40bb179cb66395e127dd440d57658a2154e72aa4fb81376165c03c0bdbd046a42c6ee16a0e480b90188af4954f57a912a04de3c71f73380c13da0a524eb545bc0c1ea49ab0a4804c631cb6370f58168d4a9aafe27eef2edd760fc217b5d6056c7c4607c8f24b90b016fec58e29cd5a1f939dde22e15a3c0ca00f87bc36e4f5af058e4251234733873f28e639c1aa7e3567d1daf9083b24b5342bf73437d498bd76c4999c69492079292bb793fc2e3ace60ee1c2e857f39b791e9a9c1f5fede03ebf0edc266c29e74555c8d3cd4b0112b0fc7e846491a9a498a43e11fc93c73eef09c5253b9933bad9612134d6072c475d94fbf21f707fb0dc4cc32590b80871cd2ae0519cab9d048c53c1037f879bd0a4744d6b68f0d284ca3d22134cb99237e34ee422a76d7a4d5731863264c177e71964ab9e8fc899bf4573a5fdc5762a24bdcc05b552360b6caa15838b80988c4f43f9e1ea32befb6b19ff933cb5871001de51b60d541b9f5ce6529bc945d03f861f922270e09fe31bb2170fb3b4d9643c70105778efab8a299b9057e94386b722487dfbbd8da97120929c5d34dfec1672e0231ab22bb6e1daea91e1c7f5d4b5dbd1a8ead351b360ccaa54a1079257a0e961dc2edf16e8ab776ba88f027719ed5b9c0b20c87f2dccb416a72c660bd26c40594410db9a71b24b4293e2318384bda9c397b9194792bd9facb6e1fd188a6f77af8ea88c54e511f6d6e636f87dc17015dda8ab7be41a615a071731a46e37ee31c7d4e19abceb4585d6ee703195ff7e23cd5b88bff9610057acfd51382224494092156dbe1f8639d64442c0c6177f6e4ddcd8dcb87c080fe1e2e20c352293a654a740ad923995b845f46eb344630ba0d12f3e3d4679f654d294210048860441d4153e5543d7a52f08b0fc0a7567d2c7833e4d60e0f44c138151cc9c6de377ae1b7c86a533e0ba7bfd4e9b5f100adcadf537b2dea539a628fc1304f3b6b6b519b5ad8af5cdb2a639dec5582d5ccc33eb0ec9f132d7ef3b6e5a9608b86219721700227057b376b72080b4850fe6e05fd0e2f843aead4d669cfb5f6b05b601243c1eec542b09a37bd56265fbcdff8bfe34a805c6c5882a7ba356e2a929624b087da3c0c5082605b27465c14ab0eea25821db365ab61812ec6854d67f1c1ecd12cfa548e1ea1d68aec83c62a51d7e00c0fa28b1d33f969aaa7c25a459bc0bdd46dc34b98fc4807eb03bd0a3deb77e3ecc8021e3b66e8cc4ec78f2ea54f5065f5a47f2ed8c4f3d39b5f3f3cd867bc2f0a49b21a335f2e0813ad527829097c200fa9d1d1de4b6fd71f43c79ad7e0eae821fd89854bc9ea7c0badcbe7c82965087bfb8ff92d0a3a8b7078ef48f284390b5a692a2b026d562d4da0a8300afbbeff3ebd9c753235b0af147d2107c968713307594bb063551f5db6b28e1a15e449725d4085cfbb076d6bc7fe7dec2a766841cae928c6ed1d619fbad2116341bd07f3e14d95c06254d5643212d1cb5916dce6327d110a4a1462242a3bb0dccb1da711eef65ef9a0668393ff8b854955ac263b2cc11f3cf54865e93f85cbea83fc58c3c8fbf6d82b42c6645f441553d6f3467ad176413aa15f3169432ca9dda5f3f76e94041d52647abd63a12f539ec06c433cc84ad102804a2497568192505fb088d7795cd3426fedc5080446d853faa8f44bbbee9acc0d28d8ccecacff3646baeeab48067c5a678e00e35cc95a47b525e804c9c48534fe85e4083960092696ede19cc0939e6089083036fd5ae6d47b16db2a876ae8b00ea3568171969b5073a33a78a85d5dcd12cfc99567de8706e43b4669dfd235a3639fede992f912b457b09e92519fa98392d837e323a5523c616a47af707a6485bc9cda151f0a2b8e976475473b3548f206a5c3f1d131a3b28b2ca77ab7579632072adaf67feeb63c5362fc552459b4f44a302b206c813ef765a662f8aa8e20f37cd7ace9b31003ba9d6eca18f3b716326775fac3b8c4e9f7a87ab1d2a6db50c62f2d808556e644220bcaabd6677569f40baa0c90297975dd9f29972e677312a89f4afcad964ba3acbf080f19d74358ea8d9d225d03ac9e1e63f4226a750d718ee861f3ef1abec1d8d9a8682d73fedb544afa1fe82aa1a58a5c34c3fc5026e56a3f71169c7611a37982c292bbe1eaddb3b484c26eb95a993e39ea3442f8ba4c970f0509af2225f89a62b2e47050b219d9bfc39f1f4efc325c426e1568ae204de2a5a05bd2295d1cd36f04edb007746728a45d4bfe29c4ae35f9f93d510980ba885426452a9d532b143774f0cd797931e2ee1075e3d2ebda52217d6c839c94d453d66b4b846455913005510c55bf75cd40b14f58bd31679f4f7952c434c65cc92334a719fc76f905c435e6da82b1c564535f5253ecb8e230925c1209e9dfcbb95b746ddeca1bb004464946cdccb851b03981b39253de7590eb44ab5a401c4802b49c3a93d4ddc8345fce70f7eec595ef9a1e879d3655ea7c8413526258fec00f26bc22a7418ff7e1c51a8bb2c0a7ace59305eebb7ab7f46489634adc0cb805bf2cf9412548dd6e07428e90a3661b7bc42673a17299d5d0df41d8982516bea33a01971c28c18a53f777fcadd14628bd499f627db487cb71cccf4400e34043b976754844fb3ddf0891bd6575ba84c93b10179eb29e8b186f70ef42a9152feac19ec7ab54a21b6a99307ae0d912bcb6e84a696ac4ff8a3cdae01860a895ae1fc954a5943618e33f4bb311666eb7490e399dfd628c9a437fa0c7ef9d130ce4cf957ff0fca40a937faf2256f5c3f14eb23331887318830fd822100bc871d32656fdde9c8779fdd2f14cc74d4f2aa639a1746a7fc4718df91c1b2d152bcdb3296a81882f3841d9b4b005a5e6a039f970003477e584f503568cb0b8aa3abe1abc80566bc63ddca8026c94b0660a227a9f14f4a045a3e85331cc0812c6d9b71cf40e676d5708","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"785f924a93881013de93196f2c2efc22"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
