<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"91fcd1a28da622ac54c91b311bc1e0120e9b77fda7e434a5855d792da73720d0c253be9ccd0f9d974b9b2f5ab217dd266f53148dcacc34ae80bc85660511eb0cea3ee3545586ceb7104b41f160eb71f845584dd9bc180aef58948dc32ccec4bb6f109acc260a66c19c2471bb0a11b40fedfda7e13abd086c2052c2a29c7772aa80416d20aabbc4377b5079d9824189c0d405b4b8c287ddc51c06e47e8e01a1d007dfbb804c93cacaff5e9e5d51c17ee8e8de80547f1a9bb44937845d6a2d182b8f38342a34b6e915985b395f152f6c217105b1c4cde5e67667266958b5102b6bfe9cb26dd22d7f93addc63be729e66e365a5c5a900187d35ab615e6d77d0072dc5bf97400de782cbce4c351da343622bf3f409c022dfdf307550098015644c9f397e1cc67893c790ae3436bd1cb73b7618002f2bf0b49961d3fc7dea3ac8a95032b5e81a7d600b3e650b808ea88d9ea8e64a33a28c63b37a1bb91a003679af0749b493acd487faa771a1a9b7985cb88c001c3332b558f416f2fef868c0cc5037df2428f08419f90ad3990daec40fbe0d53789337eeb570e5ce83fb9cc797d273bc45a81545bc541db8e67dc2632a542b13f7819e24ab3898308a203669f9151f2821dc8a8fbb839442a51bf34c64392adfe5bb9e97a18de61db4ac354150f5ea3c9a225680732844e4f2b607d8b5f3fd88a5e1d69519b7a2d9d73a0d112099c1ba1e0397044d1df69ac1b7a6e2c5ecc7bd8ca2de60f35337d7a8adcc54e74745fdc718275ece05910a899fd7506d98c7cae2ff1cdeb244da50a417a50d65ad5d0a6ccab2e18be3b2d0b34ddf1b0321d14f454a7478d8019964bb25a5c718ea0339ebd77a4afd1401ea438d6efd80661d2ce9e8246c2f3f26c8e465ba09a08b9c6c8de0c51efeee4b7bd67308c297b22e515853e82e5e82df15bd08e664e265402e9536b587ae9b30c3147759b565cea32c0445844bee9c0fb452243b682cc14a92fdaeee012ccef8d1bc92be91d66b688ba7256ec7ab4cbb8da3dffb8c6627d4ba603e74c9af8c33235b1ebbf513b84a76d499bd54a9b05b2e7675e8ee6a499870bd437e31d35b4dea0a960211b70f1058099f65b9655d2165bd6a3f184f773f879b05aad783484a15ab52b18dff4b0c6819a019e16c395d0189d529a9a03bc73ba50429632128467ac68bd24ffa86cc89e77a571fd36149ef60059ea31ed5142d5097616db8810f8f6e8562b62e25fdf2080ab57b5774cc58d6de0be84c9d510199255c51ce6e0975e940ab3fb506642be2f0b3ce503bf4fd6d07bcac276a40ae5a4bf6929c7e6302c84ffdc4b4ee07f12f7622cbebc2d7adde2c18cda5a01143fc15741624aa4b1127a5abfd6f1904fc9c6b64a9d56d6dfdea76aafe51e013042f54725b3586a80206f7097b67ad4f3a5a5a13c9af3510d6853617f1dbe600a1aab75017ae90404dc410dc678f5d588a4aa87e96911c50fe0b785ab7e0dada7f694b544d0d7578951f89a54dc56690d77a467aefa581e9eff27b29a38215949257b007592004a69cfade4fcb6752a6e2056b1b3d8c9e832020c65dfc03d86561f4dd077ce5dc8403fee0c6c9f5e07fc2086aabf015668eeb267586f4f103a73627f1b5ee0075d0fad9e368c5a0c03c529258e7f519408d7bbbed7d02b8e4fea5524e087a5b9c1a508c8edab6c691f51160b1b910442b89612205c19cbb8d6b5fc376abc30dd5e2d68cc678933b1f99d47063068432ee95a23048ec99d6299c7d9726aff3c2b92bce1385b1c55f07f115259aa6cb78ae680860180df8a6f3aebac72d621851df3f4073c0b32b4560a736078e80bd093a2e7cec2afbea60fae19443d07c911742b078d3a4eba26faf99a4312690f86bc51580867636716f2792415f8c6fcac33bb3cc6048e2ec9aba4f499fe612cf186db9136526489fc5cbfbc35225598f990c21fe39a4a23f3415f0631881ce13bcd69d145a085bf21ad714373aaa62a008b099208808048d84a934db223f0b6628324d2b428d6baf95c24ad591f0a3943bde3af9ef53e1dbd8479509ec3399d5e280e5fb4163beb87753a94ee01be49357db651b71cededa0a45230bf37b276fbd4ea0ba6e3bf1b0ecd786ffe5d75e0c42aeaafc75675d10dac908e3adb7b5579a454e55a3d15f7738920b503be1cfe7f7a5d8b553be586bb3ac6e8adbec01c4a767b38594588193733467c7e6391e57670465c0e616c8180d1db42a0ee04a8fb7b2acfadcbbd704833ddf316776ce5a93393c233631d1b3af16d701e81c3e266aa58aa4aae680f14d3c2a5f4b3a0b36a5a8a305c78e83178b001b228a310b5415818db6b4c37060ff92ed807a16b5ee824a45aaca1667cc1010b38f0c54bd2b72f08df178e5b5b05dd9663c4c4c30d240ad41a02e415464e3de5b1d0cbcf4490acdbb58b4b5b011dc8d09de012c7558fc0d4e44b6777b3b25b691dcb179018fe8606ea899477c71aca2bdf68c428beead3236dcbad31bd6c3f0e15b94b0b7d8c6870d6a1f75564c1089007f81d3375d2c6fd816432d342ce0397876d7a469deb39df37ceae3c517556082c9960576ce482fc4cc28f4e8cf15080c540456af05f6acf7964a1469f1106ebca677d2d2cb07b1e043919eebf8bd8dafec57a1a0ae2ffa6cd77a9b2aadddd16cad6369fb71698700cf2ad89ba1355f343c085bf6218b9aecc571fc6d84d7459c1735a99346f8b543ec963a6603a3bc3b806dae683546057d2490d4851e02c0c8741de6e34bf712d2f13fbf1461505074504a15135563f61d63f0f37666609b814ca05fe1752a16497d7b95d4f854a92de7b937bbbd78150eb7e580b6549ad23616d80967047dd5645666a78bb45e2c3fab56b9d5eac6ee56b7f4370096dcd5587be6090da084e8c6137d3591b0a466cce3ee255ca246f3ac2fbb66450e8d0e5c6d4c3502e04466b25de9d2bfd31961e8978f3e634bd0d1aa634222f92f49e81851673e6d605fca3093f5f8b63c35fc5865b266974dee07f92590af3f6aac0e09f8267410d1b00c33a5b3d3cb2640955231a05c7d6859267854719d28b7af248732f4d0a39f512f383b307f2e8d61a18f166d29202ff22b45f89d5f9bb74fa17af14a09373305d223651e815a275f26b1132c312c4f483f02164ddee89b2d2b603a6a4afc19add2bbc0a05e6c87a7fc911c4e78401fccaf952477552dd201f83e7b1b7764f19d8f48f738f0103a030dd06a58ea023d206a4daf30c87588317efe3a45fdbe99a3ff1ab8f2bc465180ca03d7f7c5a97331590bb20f0ea0adc005cbf5dafefe74cecf8f76e7f5b0076ac55e6987b2e823d34728833a597359b5fdccf39a73d8efb9cc48df281654f638c6c458da80651868f8b55a8c367949dd97b556087972f9989d0f0bfb3e0dd5e29aa4536f761558b0e49d25542554aa04756dba04a01bde8b607b03bdac226f449afe46aa489b3ccebc04e72b63b66fcaf5c85562debe890f3398ea784a833ac765aab07e3beefc21b1b55f1b61a3636447334b1047d6b9e5d193006d69673f184b08fd0adcd48e3bae4c09272d20040cf0728c2c3d2f9fb668ee01318ec546044a1c2637f6f3653ebb5c056b8271a582cc99e8919dbd9a2c98a02d471df37e03909e21513e31027abc64c4dd7bea9520e91853d910d8b1073da110f5b1a498d4f34716c52b39ca540530b2d9cb39d01c12bf3a70c74fd64abb369a0df6f8966db594e92f218048a0bbfd8f411ec38a276acd8604fc1e01e8795d7c3152fb47c563c826b25c4033017ae3cd7ee47ac902e0af9456e9d9e34d95ebfaf3969e14d8817325d60ffcf31ad3803c6bfb19b5eadc91ac80073ae493cdff2dedb9e78ad226550c899a27ede468c919ae131ec612870ff0675dc5ebbd4fda83e23311097f0d2f979272f85a53b6d77ce42e36d289b671749af0a3d7acd80cc4e81f2732fc41132115c2653382384644b2f2dd8a5a0280c78a71ec069a902dd674894dd4daa277f49cc900bcab3cbc035a89b3b5b67853e2ac107ed1b3e88f20d3a3337b4c9938919e4d9b978ad9fe6b4e1021076dadce26400b5db0e397b7d31cdc5a6368387d49bda0ddd12eba77b3b6e09e552b4940e31ca1e9dd259392be9f6649a14690a1d5c4ac4628137c73ae714f86addc51d393d2d4065b32c5b8d6345a76175c1895dc63760c76deb303b706f1c72dc364f2378b543837b0284aaa8654507f2f42d0ed4e50af2b40b4ab2b46421363e8535e3baba8341548f7e9b85728646fe1e6b549ba4424be5dcace1d478ac014662ab2d5109e43460500b6757e8e17517745983b731d87904c4e47369bfaf4561d60979708c16d3c14654598f064e654cb60dc4a19a97f3e5c36f69b91320a4de22cb2aac6834e1bbe92ecffd62fe55a71748ab1ffb312a2a800fa59b7db19a236353256a0a76fee118d4d0f84ccd2409e7a0e2453b954946b29ed3339bf10feb3237756c050e6f9ed718b63bbb28b75ae5b3feba083e75318a346edfb33f90f6714832f4424119ea5d0b6530fa85bcbb4873d2d6228170054bcc45cb166ac4e81efb2a3012afb793548148f9866b8b941c714c3cdbfe98da48ee5ce3ce2b00807c66b8236f25936c80fdb70a0e7dbb3c2c4da834e03488f3c455968b62d3705536b608eca926d9287fb817f273b7c54c518d14358de55a7b15bc4592f11a011f1db911198dfb6476136c4f0ab5a33a370e7c90d969cdc57f39c7d3e6ef4c01fc6afa5e9fff804c9c677df08262b9817ef15b8d4af44a3122882c4923f7ac4cf30ff81f62530d2325dff1d6a140cde30aa7b1516cec1a338f926d649218b579d990aeca52c99d180b1a6ba5bc9ab86a2a7ca593f6fcac473d5a2abd6585527082aac3be51063eec4980133a7f6efdde769b44f7ed4f987b89217fc3c7d398423409a1259420aca7a6ee19e81610b0c5016dbf61bc99df430a7b4d5e338711056001d1592a9922a5ba6e4ed82ae686e10f818bd993d4093db39d614d97aff5323d5c7c525942116bad860695adfc1690d40f80f4fa3155ec6087aa02c3149e25b9052c02261c9d2187de4628ab72bdc3a00f233bff6caf0b5319bbb36e7d0b9147021f7de193aca696114628143cbb0c1f3e7cfb80939d3ecdcbfee27d235387aabc7be535cbf61d58cad1d8938c60baf96f603dfb97fc963476c7096209351f3701b7b214c5a3c294c26ae1afdba85cf716d622b28a973240fc6b56566ae4e07cd4288287e7cff1e30ea6a31aef0b5d762f8d487a65eb669676820951a6db1fa3db3cecd1e76c0d3775ab95d08dd7d9f0d40b8b95bd04437a048bb2a305b9cd3d78fa0c7d63a87af6d34cb29c05003c641dc1c921a688e6c9265572bb6d7961d2580b4ac16aa44ae42decd047a605811ec2aaad02e7b64b15f4773fc67bd8d242435ba952d699fa185332026708cb14f8b4eb62b7a3c131a1615b0691ae58dbcf08e6c5e87a696887b0f2a15a0d5b29ebe3da907803995e2465f7755aed71a3a8e2ba568db2227e3af01a1aaf87ddf0e8a526e88d24d90f3005e59fa7f7abd74849e255f658d31340faede4433a7f434de35ed3e43b496a716502f515b425388231c3063a4a0d861544dc201d9ddf60e43df4ae16c843643e2b2516d7a7e3df6605883cc43e38b204e0bc44a5b751b9815d51c755bb3a3802c79c403cdf0f1d4facb59d939db2717147486c246b954b9fee6f7f5950a48103a03540c0a3cdc482ba1b1c96a9829e408c24d8b420e95d03e6136a3f5f1ad58ec7caf92c73c0a0b088084730512c9fbae87863c784e3b4a500f16e59b32256b38b17cd5f23acc2bf25b4762312e3d991a3ffc6e0124ce15ab13c6f2300173358a75bacd0b07f4d562ed9605857201afa3708fd245d89abd88faf8ef5c125c62fe0e34de74adcc8cb233e0e6fb41ac6161b4d585598d3dcf1ebc5d0ac7f551fb2b58e6bcbd1ad4419fd7ee133261ce74b851a6012cb616b5d8bdfcec267ea6990d24562f3e2da9e66f784d95f53761b79d374d15151a8d30db002cc7766699f39450e43d76d26cd7f41d40afcd0e7f1a5bce1ce47fe6b8e761bfd22a6e8ed44bd72a19345704dac897037f801f8c0364dffb0ed7241882a938d3c1bb65c78a9fafaaa09c4a5cbe8570220133145f590c73ceb1fd170d893d5369776179f308062be2c91b959c842c5f3ba274f6337b6ab7a1aabf824aee123371ab6a02e4e33deec193892a9e33fc31ed131d73baff975d04a384a52ea7e37e50ea9b4e81d0ed27de54d3636718aee5b7dea29617abca0cc8da9386c1e75bb60401ee16c5dda6a059f1ffd284ca7dcf7799272ad9c2174584263918e5e85138da980c66ed972caa5740239fa2edc84aa54b5992d8922fd55de6ee69c92ea61c05f82c229a9b7e6793c88c3fc33d9b19ceb521b1a0c470f468da946215778ee6e1ee1c4bd8b8d139e1f682e201d6fa3edafb9c2b9ca64e3df0c5a0da641d1f081ec850afe0e003268c1c3127675cc88155a9be1dd5eed2ca4a8d7eca0d63b34a2a60227780261640940444047b3c866db4f086eb4a6a74aa06ceaa873d329ded5be2395c702de66ce12c56b73d10290d47e458679ccf33b325830ed9f4d388c5d3b38eb828193a8ef8b74ea707174e1eeb365f4ebc034c1c4c14397b8002cd6e6bad1b0bc892b5199d6a27d3d47b1231f49cea42c4f3de6b932f714df5d2e8d413963ca693289d121fffedb5a80e840cf0790913ad01407ca2ef682f5db196331e9b8d4456c03ce065b0c31e477032b7f3332148af1454a3c270357e381614ec2ee35e7c34faa000d1e2dbacf85175b74fd3527510efa48f7a1fe892ca080b085ae816cd15e674eab457eabe3b4cce2f0a717e563b24241040a272a622a06047c09eec2a9b515741814cd15778f2133531872de859f5352fedb69d1ad43c73b835689f47b350a489547e592a39bb7429490308df0ab5ec3736f16b07035d2d42dbcabc9d064f6414636cfbe897c317fc3dba57238b4cbdcbd5e192c1c6d8be5722e84cf2d72ed7f264b00f45f24550dfe4bb5bcae7ddb1ef8ad5b3dc2a581c4642d105f1bff82e648cea567b5c9346f5c9af6b722518bf744ca2f1d76828c353b4ae7180908624e98307a82d9ac5620d1d9ac28bc7f13c94507758a2441f00b1fbf86e8434f45b960c829e703241cd9643fa17a42697e85c1f5488961736ed2a28c9da65dad11d2ef0a813e2d416ce1407b03a522bb10b639ce466d6167c990a6afea202d4548efb09469ecb423cd83b2ccf72d84c67c98d01877c1b6e27aa2307ee7addf22bddc7ebc7732d9505b1815da0d9a3d9421b23e21cc451e55c6058b4e0af73d4ba2cc822c8212484d1263d3cdb4eca37cb3d761f1bdfd12e1414521711121a23969f112e20605cd11f25ef58d14be5ef9bafb0b0fb439f2cfdc531391f8a26f9ca540359b40b3169041d5d0345b6ba9034db08aa1f8220f63a21ec85ef1a7c7f31efd60ee126efa2e984606b69dee3d4b0d927b6bb4931d6cc038e88b1bc3301f1625c2dc63fce8748160d02d06e7b89942942eb56cbb8a5192b67d6983a63600c5b95878d3000538f17b498da49b631eefd06ff3180812fec16580adb335b33cb583a181bd498c11b5f96df49125ef73512353680addaf4161c2dea48ff87032dd824bf181d4f6b700a0ea46b2b91fdc25168664d5376cac3776e849c471a550c595f2f8ea017270c186cada17d4760bb844d472ce4971b8a670ae54e9e78ea639a9fadf967b6aac949e12aace10bf0a48c6de4e6d5e8f8e3ffc6e320420f0b8227afb929d85e66e6186bfb11ef4ed818db6065bcc7d91a2303b513d8d46485329454bc5872f2137e449a8df2e4f5ad4e14116ec3a02836bc63d74bdfa710d0ddb438ffe1e73ecf058b9aaeeddaaf1ea309c4ea300c8fc78c810fb558729b715c71d9cfc27642be8bccb3625dbea514ecb8e7ef620e64e79a149246070babb9b9e359bdd206cf6545a397681e6280bfbbadd220fd78e0259fb503c61e347fbeef166cf53c06dd2584f6284e5712d0d32003fa96e1dc357564087e579295232953e1e57ab4c2a9103c3f4504642df7d4c0fff1027c3589ba629e247cfc8640cedfd3933550a7692d7827a68f2197e7f249274fc3e8ef3eae9005aa6a3f2c965b48b97a37e3f9d7db35bce36df59c3529bb0b6157b45601f037ff7f05b1f0969982a16bbbb461365d5523d4daa03289fb03f0848b032a76821ed12d4ff1d60e531f526c7e738371d3deca15eec09cb12ddc3187f4c340ff97acd684c2f36900a45e121358aafec0a0d51ba3836bd7f2c1837ed6178bd856a375ddd21530fbe0ac0b37620c162c1fa237e29b91efc8a9fd5fe64ffaf997a13f1227e90b704c7b445360bce44bc229dfe877fdf610f05ca2fac51cf4fc9921b4f29c689ec14db27b6c070bc7f5458a97ec0a5980cabe1cf19076d50712b48c6688e7324d82d37527c52458c31dcdee4bdfed30215943c70c2dd2c7802ec9e7e602b2dce71010180a09ec54d5017a33ecfdb56451f5c11c8f39c738b8b3cc1da104209c862c1a068481ceac9134240f1016a1b1db92eeeb186752b2b5ad0210a7bd52410287c7f1169a702ca8e0e9ba05b4c2b5fe5fb0f55c3657fabbd2340f2cfadb66a7dd81add564f65ed47f45ae93f23bdf44eabf7acfff6cd6a7b1846de9c5ee72510364ce36ea51e7cf07bc2a2cca63a02f0f1644dc5111717034c9214892e3d13b0916de0b876df2939b06354a45b9f292d1b05eb334710d68eb48d69b716992407fe3b7107f587cedc8d2bc7012d71f05fc0cf244dafe38380506618ef5798d6d78cd9f84671e2ccbd17c7f08478a6adfa424ac44434a850f9d012eacb40d51abd2970614bc8fc1e1d35756af358646bca1e405e92717789553d29d49a0c00c95eec000e15ec437deb364ae180b00452d4f5b36c10d8175464a916bec0f06a5a4dc7618094464d35f707e1b90cee93e0a5804dec812f2ea4e87ab2e35fa63c3368c161d7c0cb49a3cfa5645953d190cc5d4cc7d843106bc90a87993899a5deb848ea361133d98ffe9d66ae62c8179dd4933c9dc3a742170daa3b49d7ed711339c82d047cf0a89f306b2a9f805461d077349eaa72da582bcba80cb965c528c8eb0a2b5721b43c2f8da4961a47d532ba68bfbc25ac55935c218fe76510b03714c354dfa17a5c50fccee669f2b48c953a1c2692e6cd2eca8e042dc5f190bd9388575ee26feee7e9e6d646e807f47a35cea66bfb8c351410b74b968465ca37de71f4a6a0a02e80c440785b61724eec5684a8f36c23fc875f673e631d5cddd259542b89b4906bb509172750c71fceccffab49c874685b525db60392bf32a13295e1ca128c7226b2e894cdc9d73eaf5307059387c92b970d4344408a179110cf0a1353c0342693081a31fccae2d2b18ebc4bb95eea5032d7c78924ac5bc32dedb8c497f75ad526f8386f5a05c6405a361f48bd7b1e2b48bb37a5ea96621d4ee6d369a9f73eeb98c91dc191c152655bd713fa827a6714f229d6e7026e3a5dad0b2ecee24e6ac9386a6bf517a135720e4a895e78fd8f54518a089bf1e376b6864e4dcb76b60e601dec8e0479956063c532cb1788e4e9ac5dc9cc0103f30735affd243f938d58163c55fd6484f59963fbebf9c6288174a00ea93be77364d979a02fd61d392f38df433d2180d66a0a52e18b0bde72e2e8b469a60e70a91052fbc798f1bbcd74e315b655a0cd6413a1b0907220680d2889d3a586835949287100ce42e67f4e36eda5660a8947e4bd6b1032becb85064229d693f2b1b47f4cffb32167f4e93299b57de10a3612741dcd28882ce8a271daf7c4b5d89e552db6ad95cc6db12f4fc8c5a6952e4127726379e410516cb17e4c00ecf6689d1d587dd5fadc61a46271f388de6bc7a0444ae6dc845f3a9226cb5496285715040d363ce38b5ebadacd02e981bdbea65cd82ca39acf01cf0022c406c646d54bb0acac68833de0e9c989b8a339d0ac2c64bf1e15a29a8e70ce207e764b2ca8cd42913465e5053822cf537828b70e17a407c271ad8df82e96212f792e755135481e530d83e8a1427801af36ec77f844b093ef5065dffe9eaf4be7a7d6a90ddfc3848a3a37a777de18e9f314411ded0ddc80d6876daa594c71589b92c07167a0a235ae25ef76d7df7e3cb9bd086e2cab08c469dcd0eab45726d2c1584379d315ec0fa59f1a2756ed08be0f274cce60309e21bc6f8d188f2fbbe5f47264eb2adf68469596926715ad73d8396743e3a2bfa2522df65de7cf08e61ba5a22b94c1d149da07bc063dec86f37b243f280e418a0564d51e42b234946892695a0a64c462958d6f4523f04f47c4c7635a1a35cfabc0d6358a5ed1d98a2580feda2b9e7f80b579ffd137c11d9e3a8f9f193fbf5b01814ccfe83cd1855fe008b67c6a89df208d28eda0b0df1746d3ca686e25bccf9ef484495f919c9c8fa3487c0c2891c325e646a1d64e9f932e3c0af425ed494062f122abc1f58193c9a6f6e7481c106b1509fb9fe1fa64f15d5bc6c38cb65560f5422d3fd9a9815d9fc5a2669305cd3f7bce38fc7621d5c013f401ec01a4e26fd73c6e584b2dd6674b651b3a91a6ef5bbcdf3340107f80321f09ad6eefc7665e76a409ca6487f4153d97c3e1b70a89dc6c5bf2c346d47ef0ada7a5b26cb8f6f9e9f29937e84bb1a4d8bd3a6dc4dfcbf5fde9b301f35c3e0a85595a3bb9586ed51945496b6650904c5ce26623d1452e6541afc456bc95cf3b7b5b0cf7dab7dcfe3e8b902265171c9956ea7897636757f85766d45bc16562a6530fca7dbed6b931342101b917760b09d507c5d1c57a94c976ad40c7ce04b236152ec90af4a1d84fe056f737883660a33fdf8429bcddb21d39cb174791dd251d4e9e7ae2bca2648a3b248a1ac75faeb0c5edd4d7a0767f511df0cdefb97c12050ca09fd5cefeb2b9deb5f216eafcdc48c8a764a58e195b29f1ef705df7f1406f9b94bb78c6eac77c6e4957d86e1974ea1ea8b61b953fb1e69e1f90fb602ef4d97947f691704d535fcce8f5133cdfe959c451d56493ba98db0f21c8bde35357090d1e67f7fd584d0e85dc1a81360e1a7f1733fb036f2af49fbf1abe734f112d0bf90b14d08dd5e04bcc765706e4e18008609cc7e35d6fb6624bf06d70b7f653d9c79236972a1dfdfefd1fa95bc88dc46f9f6778e432a98c66ce809bac393eeaec8abb8f3a80ad466958bc15774b3a06e3eb89318adfc45c9c745cf8378c202c8b31df22c480adfe47be497f44b17b09e7c33905e79e0e0fd63af4ad5aeb095db37ce27f0e1ccf50e7151d7e9d74a6248f32815da1d998c08d07bd2b9e4c3562b431d4a11c593d498db75e1581356cdeff1d1d81ece1edb4c5b9abf66f1eb6da81ce6105e3b4d6bcd85cadebb37da8f01ed23cb67fbd93a52b610d8148007a7b4f9342f500516209e914feee64ffff10a22c0bb509516020ce1c27e21738dcf531c0c16ec5de195692d41e5665626901a25d634adee5f9c388bc8713a8ee3dd1dd807743bb5bdc7bb55553ca301c3a0c0ac11d404a2b5cb6f100a208f64542347e4930c305477c7420a75917da8b1504cafab52bfd03acb13df8e2cfb638d463c299d1264ab8c79b11090bb7925d4ae6a1887f9607a56273c7bdf4a5c3344048d6e2e3652b1f48ff15d84c94d5ff839d98cac9f4e0d9ae8f7aebfbc5af746ee9f17a40fd1abf6ef7750b9606ab53c331a9c653591b5a913cfa007ec6a39fb2c7c0ef14f634b2c3ad6db9f2c450c061fb216400cfabd853969fb18b656b68725bb7ec74d31eb75caa2bcf55fa9f9bbcd3fbc637d436dbe7e5f6c00a89fc82c52e6a12abc3935cc376a120a49ff1d336034faa11070c93ff3b9f1070719098f0df2a032f373ea9a3ca253a066d0d35f1f6dc4ee1ab9f9c20ea1bbf40f4f122a6b34f9593d3f1b909bb97368154a42a5040289a1ea8d7ce9c4babae67f36c0f4e207d42c7016c8d3fed50f2e47e43e082e600e40dee9aed08a8abd8e5d31ee944a837b358486c70a74a3bd98b84d6d51d481bb804f009fcdf81b1dda6a14ee5fb312501e86b2beefe605678b388dea256afc2c24db39c406a9f8aa29c40119d57061728733bc0adeb05702e83021b9ab62a26e371fd855e990f4666694faf4c18431ed19588f5ad3979297a36f91a5622470be387216648a737d2c538a672be3edef20b686e7faee5f76aad0cefd9b1b6d2087f438b8749ba7a71987adf13620765615cae8864f2035daa160c6b5536dcf6825ba0d345932120e658babfc09131f0f4eec1064a958ebd442d8684c181b2f9d98e65798eb07acb734348a7a179cf02aadea3ac5ce533c0f99f04238be7490b011194eba82a37e2bfc4007082e8932f163fd5893d2f363f3d2c16438e7e5048933bf52b214d140881bea123aec91b30d58f6535b212e4288e4ae63c53a981d4ea5ab891d0a31f466ab478b439f0a4fbc2a2859652c816f66acbaab7c432246c9c2ccf0d264c5047cd526e70727362b0c3da6bb019a2638dba64c739cf64f78456c15cba1275ff479a305ae84965b8e3a182646ff8ad5d5c95403c6fae660b3c7d73f9fd0ce543a66148d08adbdea0aac076bf982dd0dd00bc32c98eba21dfc1d8202e16c93f53f28beded530964b0d7df0c4c88bf6cd069acf0b43d24ae0dc0c1fa4463e185d19b69aa152226589bc7a537e39b11d53f71b3a2d5d1ffe3048a8036b28a6795905c286e6e17db5293d0ca44e2440cf2f728325ed8c9bebcde9e9f5f10fcbe177612649ca17772ef61bf67f656ce417ea6238ec7413b7acad013c0921f1818d9da5150e5872a0c682a641840c4040603b6ff6e96bbc2095c52b003fe028c2f79ce627b5aa095e0b062216fd01a38d6d74e6e7fcfe9a21702bc9050cc0b311ec7a8f3e35dcc07006b110f5d91235045e2d625e55eec625a9e10a56968f29c7f2f195b6e7423fd42108350559a86e2be44129258ec3489f67771ed57063e64c532447257ef7b7e0c321638ef922858630d2a990cdf4b59cb48146ab2ecfc269d4ea0fd4ce3753c7e2dbae0e7c67d9ba8c7f6cf837763d14601a65906ba92858e0c09b641916657006a1a955fc4a565418ca8665b74db88e33ba770bf48b43e95a5e98096548ab80825d1b29c2e05aa788e4b97f18da54578e06febf0cd11d436d0c4ec1e61711ebd9ec64a54b9ef9bb426522309db76e5656586521c86ac13efdba27e846f5b0b5d06090a107026561f14f45f7999096a9710f0041c1e91ba5542c15783b0f2cdbbf2a99c37f234a327ec09552f690cdd9c146a8db554ba574b6eedfa33d35c04c228431874e398fab7c9e2b936d8b4f9150c8e58e82b162cf4624f665447c5a06c92f1f28b9b96e1fda4180f256cbfc530f49c7ce1f7458696aa3a62194ed7f8f3a9876f890e132579952a3d6eb3a77f6ce28a7ae9fa23a8adea20db768469e3a7f861d3cbf8ccf2ce6b63562f8fc95705a982a455d7a483000696ecc955b1a23629fcf25895bb7af5c375dc8e773e4269f4bd5c5eb9e3b2e80bfb3ea9598407cccd9d5dc6fa2f89ca879674a96d9c2751ad024346b6b74e667888a741c091c6db876e5d4171ea4f850d4b17daaf228c046fd262c1cbd9ea2f7bbac063e82dd8faf5cfcb8d7a598dcb1b9dabd142646bad0123e0de72885215fd226dbcf7716bbbfd17bce521d79018c9fcb0debcd099c5e201c25eabb75b9a0862a7c78e6f42e7330267ee2857618c73e4271aba86718ec4e9bda8c087bfd3a9da43340d90eff5b6660c42065e4183fb54d586e571949384af38f85c570fa2d4343d6c4580aeed5993c2c9156db1e00eaece5642961a8cdfccac3711161317d0795697fe4d10e2493c24791af498d3ed5fb5ace8ba346cc3ea402893e8e434db050f63a62615ce44c0424eda02a4a305691d564a7b8418bf51ad18fae1936cc3aeffbb831b00fc3c3b9f84f0741cf90e4bc77e68f1df52ceb05048defa872f9e466bbb9bc2815a7a695c2c978c1f3ecbaa020776e39fdecaf899fa4d95407e0f0113c5e1140186f8d323e068fccf799fd19cb144ef3795c423d67ae7ccef342940dd17018619e13c261c1e45b6e89f38f57144b507edc2e8439ae04f43b469bab5fda6274cc9d07434989ee3ad992b4f536f8b54104020c3b7d79f39c77ecfa52277c2d5c2f007411d0d39ddab24ff22fb3e01e088b644283ed28e1565d966949e63ab05b11b6cee9fd4ed1486fcc75bfa6bbe3b67337d6be9828b2d9e6385c55cb31aa9ba5bd20fd22a0c6ab7fe6870a1ba4f7c5ad2b6597382339a3e7072323931d7cdad64ac5348b10347601125080ee3c26c521bd4f71ea9dfe8745740088260d944711df2d5298c5e242b10f8edd26c8c1201f18da846a616eb10f0150a059e58cefd4dd71d9d8c53bb5110ea96a86ff7a1a56f66d60ff1f2c9502d8833ee46b724579e379019fd9967344d573c8048499c2311e85bed30354ee7b2bd8536f7212c6d46f617de27386d431453ac8bed1ee2483a8f4f71046218c702cbbbba32c189f8da76ce82c36882bf52145d72e81e43428c55eb07d2b86b29dc0303b46cfac694358b61627ba9fb6837ff224c6026341c163c115ff5c32e451eb47eac14d27add20621f49bbc05553b177f775902cf97415910d5af31dda85d69f1a531de9c75aaff080e6ac61ff5d03efaa6f765a0a4203e204c86de1dce66a08233aa5ac9969dcd0b695426382645cc35161df95ed22e120ab74df2795926269e975eee90d40f5586a4f8c2630719446cfe2ca1f808ee888d63195b78b99c72a339b9c52ada3f940d62263a60985bf773d35de9cd96b033cc59d7aa8a0cb40e65f64f2e1c365085833bc2b6712bfae6af42ea5a952e540db0bcf28dc289767660157ce83698ac17751aee7d026471d8bc59702598e30bb8855fae484fe90b1654b33cddda228be94342656b4becffcc781a67dfc343b8e33719777d747b9b5b975fbcb6f0cbc8f572c3294147d8c811cb4e866df985c0a6c16059f44b0db2725f87c8c1096740ec43a7e8b98e25106680bb397b2b63710af162b01312db99a70025d4ed74953f6b01f23f0767943b69792535b07ec9fa1de9085f0e06fc70f56f56084ead8e5121183028c2ca7dbfd0c483d99ee50b5b10c62645cb606c4b2f116b92bf68137a5f082daff28a43fc8825038f3716840ec9273b3088dad55c5e10471e9b12e3317695f483904147641f9d31ae56f84c0770221c3af61096cce6c057ed66832a3c72a9a5f5006d50726a8eca7cf2b29ad7528859f8997a5bf152682647f61bf295d95a892c235366de6c0940782bd19eb2c9eeada5015e4cde7e6f9c1b8ad0e515e6c38fa8a96ae86fb2c59eb9aa63dccf64e0cfab19d21c8fc570ce293a58a0f548740108fdf70d0c36ff8632e329af96df69d75db08a2f6bff4fe84fdb5e7c76bb2539fc517f43e6ba02a5516013f5ec98dca922e44f8da6a92affd6175495c3e1b6c1c38decae071d0d1c8279360f8e5c9cd3851f1148b660e0cc83aa345090ccb32fb947f5a24cfebb0c8257107b7e4999ad4dab0b214b848c484e1d1b5b67df5b61adf9c8d7292f1a37980a03faad1c5729068e7f192eeacdd3bb0486349b4d8dbd9a47da9451613e174fd261ee381e46a0740994bba27fa7d7d9c111fe81e9754eeec5316225b97bf43da02edb8601bf85c5cb023696e6a8f4a0b5125893d31e2689bc1ad32c9950193bb3439e35327bfe4122c763a60bd0d6a55d666b228e56fedf54c714d0c460a8efc5f9ee8dc85b1dd331deef97225d87aba147046911f6669c43ef2f455dd1d224d4910f5e935e680a9d8df65baf73a485536bc618aced07c0a8b89b52b17c4e2a3ac02a1760572f48ceea78fa3695dace66b1e31027107850d103e826d638b819842d947fba7db8b453d6869088ce7217df01261a71723b799c3ed68fea5aed8b39eebdc4f71162ff4b9cf5348cc169b9073808fc414c7762eb0a70329e282df4921aa7950dcca53e0669579ab067e00a147e4353ec20133d890fc4d737885885f86e624e3c4cd2e0dfac7558aaf10df18643b43eceeced27327280e7650edc1ed65bc54d7d0a1e1a59a6aedb47e6a18e86b9ac81c7e0bd700bd64c0d2ca159b55a543594a91d7815f8bf18162b5f985621f0a09d1c3591f2cc46d5d70647bbf2eb3a8b5fe8f5ead8066d700caaadc3edbd88a84cce6264ff6650910b5e322bd3a60eb257160a9a593c6c2aee03d01f517955f68f5af93c833c5b52a54e76e2a638cd9fae6a82ee41eab950da43b34da15b9366bc09602214acff0591410983122733db32bee872ef237a0b92eaff6a3a60119f0e8540ba9bec15f887dada9cf0673422f564635f0a7c1e401f3ca2bf0fb5f5d5e555b9053e873b5ab81616a34902d9583aa302f32cfd58b8fd746edcd0aa656ff03ee56470a6eda0f003716713ad9ecc94fdc408e4ec3449d9e6261f5d5fec474d297d4e5cff3a3349d5bdebec9d6445328c18b7d53276632f56c11c6b7c1240a9ebdb2cb7994ed9765512f6b036886ba99ae664061944ac73ead24a5b40cad6999ab501b35de33ce4098f1a363ae672134b44363cada25215b56b693fab039e1cd4b614ae8103e6f389816cc8204afa581b8f2c39841907ef0bea653c25eaa066e7b4c96af9316d05c32895817a2fde142d24840542d4edc659a36bedecdcc8fe32766b8cbed2c54c1720e73ec19f190dedd081a80f0f837e7afe9448765a1e7d09c74ae6d89977bca900a5e7b463ab7ad0397f8951f07076282d352fef9d1ae8bec4f5c8830b28111b4b9feb3613e873b662c333e7427bd0b5a764c1e161f31f490ffa6d218078e0d5c2df7b8f19a7813c451a76439a378e8d145f385b85221b141d91cce13d40e2125530955512449c5b4a82aebb1e38f8940122a198b52178e6505fdfd682512615f8a368cf7daebd31f6970ae2b3a65682b91bdfbde77a56d00d6648a5f06ad8c9c987bc48560bf6cfc39c4dea99e5c987ac4c6843474aeda0f01b7f571cb3f9839b5392417a974341a147dadc07d02981fa4edfb0f7dcb2585963ebf097239980e5d151670118ab20f4c1c471d2885dcc3671dc352db7f87acff53ae317a7b1aee564e63d2318782515f321361750fb0f54ee62f62323af03d3a639b4717b34cc785f67e311588bf467fa61e7272e255d1b6f589b560770c50c88c63de8edcda2a0850224092dee64f2eaa5c9ad2928e86b53fab018bced18ff857ff8fbb5e7eecd1258a778be50ee591dce4566998817e3d0bc776af9f60aff0cfd6cbd1b6ce9dba7c0ded5262dda08c6b9da4926b520fb48f0fa25232adb6670caaf2560f792ba3a5055bdb6d4430d71273ab4d7edd18f2a48eab8d6f18ec665eb311a5c917d45d46e6bb326c0ea92a071f542e69e183a4c05b5b5ff503e25c168fc47a058ea9b22341c7369dbff2acbdc30012ac2e6b6b74623e1df5ab897cb9a43bead839d7a16a39b04dc3f35e7f15c6866e258f6ee5de5a89c03ca4efaae8804e95bdc6febc903e97e923726447baeb722c70f5b13b23132c53ad3626579b71bc9373accef952f13f0416006260e95fc8d8ae76c4748efd538d6965c718ed3e3062eb6d8819dac1e1646786d29344534989acbf4253343b90b77163605aad489840e50ea61022736dcfa6a727896266df8dc9461424f656726b0f5325525e8ecf7484e3855834ce893fa02e8f49eba86432ced359c9d790ee9e7c5276fa1686dd2bfad70ab3c86b6b10715afa985962ccc8917b1975ea8283dba89c59b34940e91999cd16e534aa61616061a1fc01431ec1ae86e7b43aaa2d837e2dea157e1190e912453f401db8be645f327c899708f5bc7822fbba0685ef13c362fef9639e7867df7016e7fa96e2bb6a2f58693e4949b91f865b964facc7e8bfcbae58794780591e589bb451579812aa255d9614ba52ec4b83d566167764ed8812dc23fd4432e3f164f8253e1fc5991e47cf327198f6b65499e629bbca6b4b8d550c7de9b972a845ce18dc04678013ffa3136cc5319d42be06701b07557b5dabd04300720409c8c985796edc8a5cb8399504773149e4a093d30a4a44eb245ebe733ef8b0421e0bda9fa5a7a22efbed6ee3b33ba44dd0ff900ef8b94e9d0766b9321d2ee53fe9171589af6d262f48bf2864b433495552ea214f504cc09cbc709e6a536c4134ea5e8b66bb245cc427b555bbf9721f96e56ba2e81d9160394a854a40ac14216b7bbb5c44f5911c683851b3e214cd2363a493fbbcb2654743bdaaee0c8ba11c11fa60cf7476ab24cc1f81e444b28015f82e76cfaade274a18d5a229e2e04e3691f3cae208a510c0c111f7c02129f9f4ee5f0f03cc532ec30255cd8a4f8b26aeb4a222284ec35a0f62455f9e97bf760a338f27578a6c93e21c7bcd65b37dbdd5a98107de4073d77288b05f20af731988c92fba6bfeaf5670d3bbce1a2152a8ceaad164a6f6aff52997df64d4d1156e7129d79bc9e3027cd5d96816305f44c46ca3fb90712d8b5989320e710d10844f1f83ca6e54e83afa8cbdce815cee7e9da45d49079966d179ed3a086cbbb2aba69925a95e398bface589726f80914d5c3c574def4c96e5b0ebe6e3cfccd3ed8b1859e77c9053705d3906b4314f154ee25161ca288212377f48b70b25ca1c682c5370ef8c19a090336514f41d39b73bd8ac22c48c81682795102f5f7f26ac07b2983ab82462d0cfcd98a07e94af836ccb70c8cfc1190bc9d3d2d0cc991843806a564132d95b073d1d29e95ad952b2c1de68abdb5c0a45775960b55509c6e1065119461c9d5bb93bd2fd68406749279bd25fb4a0924ef92d2d4a308f33dde06a275ae4e21db78586baca520130e01e997cb5735c799405ba99aeb45d9d13e3d8b67ad60ddcfff5164ce83374f2474d8c5dd041a1fda39ae5749d6d7a962c870e2f1a397e60c8a5c8d3b66626d434a99afaaf6687fe78ce9cdeaa4fdb27c8f3755d7350a5f3447da10b7207f22bf8efe2241a60686eb1d4e56c79ad23e069f420d15b02ab11113b6fb24640faa3d16f80c17e37b8d731ad2134eaa64dbc2463d1e4ea74ac9fa6827acf8d19d973f21e895d266bbeaf6c71c7cb8ddf55a6831e751f42a9f2fbc467c6972e0786faad6247d7f3bf40bfe98d152c17ca3b2f9b741834551b42576b0c475d16053edbcee32534f07d9442dfd5e9a346fe7e303f9ce2051a93b02d6d302f8fc7d938a1368cef51e0c2917483af3256b198","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"c678c7cd00cb5eb745f2b22057e39416"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
