<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3dd649a5df3ea8f9bbc17b909c760f35ae0fba5ac8f3ee6c55a854629fda4a20b17a389783509be71f7706e24f4faa4d599bc491bd3ee1b7ae3a3aa307f44b19448187e99fd9bb46253e8deea9afc80c1577d31048e62369df36b550564c42ee383e34b51c21ca1f96d5a58fa6704285c1d6ac02916cbc08fc259518e90e11d2492c049584f5efcce3890b6cd5cbe57f19739dd903e9a57f7b24bdec10989c26636914e0785c22b16cc1f05101a6c2cb74cd3fe84a27364f32ecc6ef949cca1e057beefc46c4f3c82cd65238f8532da3a9bdbed01f0464cf33b42b56d6bf0de9134134b0ab9007e33652a69f7a5b347a1c1441d8df97eabebce34436b0ddcf30f60d0b6ca15750d75587668e843d6e2fdcea2a090a8d67c7ac9cacfb8041dbed6e3e4edd6ea6adec8d785268d8ea8626c6f1074ca4a07feef34b5cfcbbf60bcf8dcac818e7162998611eb39226b7be4e4ca986528847501456bf80adcd2dc4318331e3d7e7c193d0e8b25cfcb306fdf53f3cc7546b533a09777597c73ab4041a17a881a2aa829bd44b494f0714917a2ef6e0d99a8920e59bff89fb18e862db0f57f137568fb24ae93c13300608437ad8c2d48a3114828e73eba3b58d66a2d856c3078cd911caa80bcd92e8fbe2cf658040f67ab4d034866a99897c28c08bf8dce69cac879daff1083dad94a774f1b0b1684ae263196980dc6cffdc2d21931ccf410a63392ea2babfaa0f4e0f827a0702896581c630b24b64e7d98a80cfb90d3743d2bd2fc6963536c7b7001152c3f88f1fe1f4c03ea9e7622ad102001950da21b34cf3d3a5d38370960854f6261e2efb3abf6f370536fe5a62e63b431d29be39efb2dec057cb329849fbbbddcd896356d6b05aebe080425f83c5cd5ffc3ce0789a163d24a9f4161f4f92e04c9dc7a3e9a57fd0623233217d32f06e37b0f6e01ef4028fde9a38bd74fdbf9f232e3914def00de2d8e52918e8945577de71d225e6ef37f0bf9fc98ca34f120f1d1196debfd88455f7cfec68985f4033ced7ecd26af3c57d4b123dd03293072440e00f3bba84036d3028873166a9b3df4aaf2bccf39e2706a00381e7591c60b7a58c865720bc1475e3e938fb231cf8d64c7562c6c7daee26460347274d124d85bdc798d3886fb39b49816159ba4ac267e37b2d9c5df6d4f0127766717f4acb58a26e8325b83fd81b67646c86cf733dd0ec8ff04aa23f6272e204362a2d56003555b795a7b44606e6dbfaa11256b9f300f8d635754a31b8b5f2eeacab3d9ae49e1ea7e23052e2cabb89d2245442384581ce719541fe6b38c7c6fcafe85c9c6948775faf4cf9c19c8aba29c53347cafa9cd8a8f334eeb657170b3cd473cd49b6d25c58051a00665bc426416951384aebd895ac4108a5f463332928045744cc15538b7c812e36e31608c1e086a3088b8fd6355c79d13be898de0f2b8f19987f239b4d2c12524907a689a47e9c6b4c1cb04f080f6ae21d51a7f780a7592ba2e2474db429c24d2522fa4e34a181bc4cb2b71fb3408dfcfb6c51def487d9792035948eabcf40a97b68f65c05f5b9a0349408e2f96fdd1e191138d8f926a8e753f990376fd275d828ca619ae21523e6f26225deb8fddcfbc6cea2998fcd1c5b2cf5bcfb46c5994098fa268d03f2169cf17ec0ac134745608a73e63586cc8c8545fd47961bc433dbff87b15fef0a6c00a2730cb8a18c3d7ebf97fa98c3d60c802224aa18a8fdba927a0ea1f218728546de4eaebbe9f4c962d12cfd4dc9221bf82eef0d14e3608e40ef881285d130ac41dfcbcfd26df698a7e6f30e9c400d8928a8aeecec9d49160f57de0ca9ca75953034dfb87ab02a96f4946ae9f4029e04ebbdb41e1c323eb529709511b5ff357836724eae17bee5d79146dc4ca23d097fa13ad062653178afb1205dd2a64041b59cc2b8f291094a5d71bc3b90cf2ed752eb8970f344b7ddf61bdd581bf8dfb35024da39344f706400266b81d3e889062bc2428c9be4df7261e38169bd055c96f5943cb90268a2541ff06d16938efc3d77d4197e0537c220bdd1025e1c6c75d0f15a7feb5f58e1ac2e10667880ef9bc576cbc4dc55a5f85b6e310aab42508a66cdb9e3dd8275e1135e312ec583d85090ed952b7edcfc6196331fc63594e27314d6744f73d97bf04817318c62b9df004967099b3e28d7bc8b42fcd1492962a51067ee6277931c283c097675694040c09cd1080cabf092cb21614ec53a29a3f3f502b9bd27594b7a9f12d903629ee136291f180634833245f9c99277e591c4d87e3aab2124bb2887ac1c921d3db892c3b9cf5d32c8af3800a1f0490e208a9b5bee1d9d75227a7f49023bbffea58d5b3160386ebcad0407efae345ccd6f92a543c6b31d31d06982f42df75396694f4d6b9439570842cd551ccf7d35def0259fd9e923e0f06225ac0f98bd1274c81819fad0f04b27ada2099edab3ac787d0afee0a1c408ca09f9e0c3e6b00aac370edfb5803b0f42e1d1f94b700d746b27cddbe6a0c0da2b8eef720c3728b13991378f6a6ae1f94f9d55cd31c1c52778f8a7a66fcce27af9a06ebc8e129528ce3606e098372d417ba251d37dd3d5d7f7cd069f7ef610e8109dd6e360901dd863a00c77473902e07b019815e8ac2080dc325f6b188eaed35801c087f34cf45fccc2176ac8bef602325ed344d8f03575110c6b4e57267a61d52c8ba47f75691482b98ba0d5b1d0b1fdf66564b219e54f7e21680ad095376efbc154d5fd9c6b344360f912f09a1711027d8af74f6e4caa5a589bbd13a31e0ac0f76c172af30409a3476ffd7e81b666b9829d1aab080d0c72338bc24e3d6fadfdcbf05f87b50e684ee125064a1ee4bf7522ca3f3315b7c5881599b9badcde142d10bfc947876a6e8ef2f22c33852a68c6d37d0e4a5130f0a1fa9025df85f85422c23d7f771878f2c59ad5a85fe7a704dbd18a9431050d8f9d091c021109c038db3c9c19a4dcb8219febbbb5496c5997119b96e60049b7e3cea0205c11136b684169d083a570dc8e4eb4e2c8a75ffc093c5ea720c66e85cb75b4a691340289a891fcb23d7c8a85511407d9c8d59665a53ce3d4bfaa93be0a5ca86016f0928f52880dcd63c6cae8141f3ca6170e8308dfabd0251217784de49be629888aa03e063b37e962f0c95f176d6b50106d4cd57e910a4d506a3c5c191c5c0522375d18cfc902687c517d4d304851212f40bd477ec451ac7791dba49bf097643d282c3513c9cc222ce27c8846105fb3093a9fbbd7993e500f3d7fbdcb2a8a7c1d0c58cf281830616a0e412b76c17bc21362dbc75dd5d477561dcfe10884b8244d902e2df4d234f046684949179e5c783b0be44f9fbfa57efe39a2153eaae80426f82b14ca8feb9a55d226bdbd84b06c0121e539d05cea73658b293e531e82fa774a340adeb942dbbe60ab4f30e47872a7c20a3f6f3b206680c3cc88959268b6c81e5aeeb2b894c9bcee7ab585163f0898b5468c061c17089aa6d7a43e806ae430d636ddfd1c519821e0892ce96d865a1c35dca4cb2fda808dfa91fd454f948d6a72c78af5d8fba4256894934903bd92774bc9392ba4b5b847cb325280a5a52b49cde778569ed7f46e15946e79eafddc828016d031c62ba8e838187154c310961e8d5f10889159c880016808ffd11d99f15346891b296d1274eb7433ae54feb95fa6d9e4bada8be62a7015d334ce9eb05d2b25ece5ae225399d0426f09fb151c1f576e288107d9f41a3c98208efba1cf75760939a9c82aa7c2a2072354738e2d6d857bd5df056ed222fa50bdf3931fe9673fe376098ec8982b224e2a8747265ce4eda8f35455f7e2ddfceca3ae83d140e960484eab497d22bdc8cc235085e78e240103eb317d8a389a004076895b5e59fd497f89825c4f874c0cdb641d68fc2e4c197ceefebbde6cc2f0ea79515a677d9cf31c4ac603e9b617a51ecbd1f9de5b60945e78f6a9be85cc9c92caf063c8be7f1a08050c23ad448595165fea89b0997aa9203eda3335b1b9ff0f18729d83a7d99574c35f9039c82d5af00f98fd50b27427f11ed70a8d13f1a91f01550075dcd5fa9229e7a34526372be5faac80dee9fef762c50eb1fe44b1aa384331e77f742341646659fceb686e135dcacb81019d15d5032086603aaeeee10d61166d25519ad9a212a304e37496232517e9eb42a973aab58ccc9ebef773b90ac218a587ea5cdc99353894975abecdede3b73392300e0f0a5a6923f56151cf0ad02198e6826370665a81cf8bc394e0f2fdc45692c735274bb997c049b74dc8cbac1dcb3595e2e7193b0fbefa9da4dcff8af449b8ff28b9ab92f07adfbb4c7069d35e8313c5f44db3a3632b1c83f42f801c49c062fe5dcc47aebc2885ad68af69b3f5197c3a61c21792d740589c9430e54159212785f450bd4c786a0ff8a6a24d74e0c1209e896abe42e1d17cd0c3826f682a0f100541f856bdcd5ab522766e0ec65edf44e63edaaded0b1ee740ee9bb3b0a7f67a73199418d073023049d45bc3dc2bbac809f6207cfe62942376ca1869d054c119889b2fc0e274ea08b397a4f94e570f7f3d7b7c75e8f35827ed423a53bde98ea5df0a0cb6c3d1b42375ec12f2bb9b4a3d60a23d6300908d2f118442ecfb279339e4f611ca926913b689c0a48899988aece3f6f80d6294696b997a7efe238d2d96a4d3388e98d15857c6572a8fa44c8e22759de0be123d5a88828277310123adfe9bfd9ddefb7a52fba4b60806667bda2de2122bfe3d9e302a83ccf4c3ce34f044059777089aad286e6064b933eea53d7079363475ff3868dacf16fab801b4a68f5fcbf395d29ddc6a5cbe6eaf1084f9ccb63abac65b8b487b04a225351dbfe2b829f918be701933763f4bf57c9fb66197f62c529c4985563cc4d354d41e80b20e50b99d71886b5b1b69f68154f67c726d2f41dbcadbfab135033a0521f3abb7a521cd3207370919e2b4607d395f0987f9edd43fbf46493b34a17f4e4e9d87588600ead5786f3f3ea6859e248be14a999d3862cdffd9d5548d1dd1fcad3659033aaf8bde1d6f45eb5f6259d88bdacf6c6786af8e7474cb0ccfd5df8d10188e93f1c80241869190f7440db23ea529fab257c8999941e5f59dacd7c4f078782bc5718b5a4b9ef0fab90ba221d65516da695f3754e92e41c1e74beb00a002e04d908b672c853488bb0d8860b8aa4bcc696c0fb635d48d87f6bc318bdf5388599376a84bbbedc2417151802432a5455f42cf3a92b1cc247d0bb007ce24c46d31523619bc917c1fe6b7511ab9d861318a8751aee6b273fc1205ce70d0e0818885899f7fe5135c7c9bf59cffad5205553428b947653161598a6d3e07d408df56e2bcd1b3647255035aecc70322a45ff409130ed1f52d8a3ea3b492fc6401cb9b044646a26a094d2bb445c9f415584e08c7c7341ab3a924d48e7a514f4cda277330ff41b281bdc48111a1f1774f2cdcc3845cc81a076c5fd17f4296e3d8b456764c5c2dc5157de6ef19ba08db43413e5c1cc5cb4d136f868adfaa74c136ae5b91fe0a71c0544a805006eb5de1441ff4959de082b241d59fd1c6887b0d4498c2c8b46e832319693b73ac79120bff2af0962eab8bb5e625b670564add1e77565ce0103f4c0747f03db9dbe08066a4c31550636965b493391f3184ae050ff19e80f6f84cd4d1ad0ed4ec67cd75ce3ab3af3dc97bed2ac4156cd7bc223cac828bbe48ceeb1a154b0c65e9654aed87bf55413e29e21b47a573c4fee0f958045a07f51018649d82bed5a77a10b787132be8dd87a7b926e11f3b2db5bda015ff33e5b91fe29bf2a474640e5673b54d44c4ac2b94f38960cb42e6c1784c1c0d1bad7aa7e20e382ee520f4b03fbfffa8a829be9a79c97bce20ba19d2387c68e5447bbdf458b377c02e071f6e484499622b426c4b4bc2244ae56d114b263e53c2ba1714d8312d7ece9e213ed46a87d17170b87647241f5b9d9d6a653f8aa7e2d01ff42db3141a17ba4aa7bdfb16cadc46856aef0a8613f0deac0f5621e0cbb4cfb112c0aa9ca31a87ece7965872641abb5a6b710771e1ff909fa042d87c7e15fb2cc60b99926e69695b4d4d7e1cace506514bf8e1f7b416aba7dcb40e57084118d634b3ad85c012beb9a9242efcc8ef1f6c1228f48e2929a5dd5f584f2fea886b7a911f56d0f70e6cbcd23650c13c57e9146a8f1a687f3789cf995a7af049d4fe6b7f82fbaa00b608ae8522e58381c640bdb09c3f187e0bcc4e3a58e6d1b7529b455714ed3e7c6d2159d6eebc017cc58bca30379483d949a8bc4f900666cec9bfb37ca702f10cdaf4cc299ef3a74303af73103f9c9c9391277588d0a96d308c2440d0757534b67949f137d0e3798142b6813d5a650707393e66537285b1a55cf90311e1e43447c9bd8d67c9d200527b499e62434576534874aa48f60394e4c61a1493efda4c62a7aacc23b7fce67fbc645bc7d3410618ab25bec9eaa00a13e3b2bb58abfbce0456d21821e769c4261c53f9bab29a99aa12dd848050163a5548b06f64ca3b5514714acea6f0b3a70ef866f6deb6de781268d17f0b424db1eee81d95eef72f78bb488a1320b8bf065aa3f2d836faab57c1d45ffb117675d9663fe334fd49e49f48914641e461d3052ea9c9fde156e8da3ecb93a439fa6f9613cee398b9fc8f25c06c68e070ec14f3255e5063a42ca5cadea6d85216d999a49e132f60d8e8a937711663ab15d7efc94d33128dd1c0f87fdb6754242d1efc39bdc4028617c4be60508caaa228a2d5c3a3a33d1025639a49ff4a2594ffa8e40942a03eb2eafa59eb917193eb3f50589b8fc48e183679a589a7c350b2a7deb6b672b2690692dcc52886f4f6c04d5528bc0265c96d972cd16b84006abbe8a263fb1fa1305c3aedefb3b935fbee812e310a5fd49ec92ed7bcc4a5e4545f0ed59084187be84d8c53f90e432a1ac5b12b42dfb8c37b53f9782def505e2a271c8617c929b3d29055ad2029b8b62ef904ea553192248869ea70a320536f857445271046a5fa1d728ce19ddb3b0e3ee4f0a289fb92b659b57796b1e940579c484cca76b725f25c05b14343c8ab0bd54bfeaa7b41113d868ff5dcdeed82880dca994a882f7f401dbe803cf5a0b821a7efb72062d0c47ec933994dd917b7d844672079adc359f72ffcf24f1fffc15baeccece78bc77f7d94a44307e88cb12bcdb904aa74d34e88ac8242d1dab748ae6afb2ca70336ea839d64e168a28cbb4e44e89f2ab413bef51ad1fdb2dfc5b88fea3412cd982b28e74362542464b2f0c6100381fd5a4783a7a165005782c067fbeed225023ae07f21a5b9ea8c8dc4a5a7189d964061a5b432b3ad5ac6de85fabab78336df1ac628bc503692cc8d130e0df6b25a8a2523fda8628d62006a48c0e66eb23ba507084d8165e54ca4d3b421b4d581089c868c08f5726737ad1f2d0e0dbf6dbff8126ffd888fd6374711d31c6349724a503949c086df7f42859c4485396d26f2d4daf61cff33d0223fc6f0f1ef975797dd543a646ac6fa62483aad934a1ea193f75b88bb73295c94a8652fcb821c95c7129cef094fa1ff3b66acddd5f7ad0724dc06e6e9c91d6a7649b21e38ea7abe3c336c635d6902dd71e4dd6d4bf798b10533ca08b74bfb858c75b03a3e47e5b78e6611ea8186e5699f60fa2039c18fb43775285359ddf61be524cbc1297b3a2dedad95557fc11bd721aaa5802268be8deb0f7c6e7718dd04e5572299b0680ce6add090a6f8f319c506ddc9c2cc25244836106df146102dcf5eca00b0f9aa1676a56cc6d767f87fd37b80ecd930756813b15046fc8cb8542293501b5d9f6c44d5654b4261d0b95aded8218a0140d5b89a97b73ebcf31393b3b848df7fc1ae8846cfcca634092cee09689bacb02a54bfcfc8658b9640b2a6f8f77ac45ae07a5e68d4acef3c4b5e82dbde775ee3e72f43c0e7a134013241549d38e01cb0050a951228c6904e2801cb8d30ec503517d12e080163a5ac7bbbca09e8fc20f0d03e0d5abf7a0446e1c00995ae568daa4af2868cd2d6c1d4cecf48d83192015009d5254de019e70cc7d7bc05c85a140bc3ca711d02eee8d730fd8b9b98c0a575c652f68ec619f2bc7634ee0713bde1229c55274d1cf8738aa65f75f46f8934b722757c38bb15364b5a5b88c178e06c29d6d782b5622c5349b78f50c2f24e94c097b3c94396efff45e01f50dc90a24d2eaeaac46a1f9f7d27362bdd7275233e05bc12664b70a2ae0000a2495db2fd0c0458e5bfafe99b92a48342317225682c71e4ea5f111f745ede7dde32e5d8e571562937ce5e3e604c1923d3a6e2f59899f91143587a17002f54359731d47055cd873f70bd6e8ddb7646b9bc516caed2c49a8fc738de4de89aac1a931bdb6213b442f6092fb7f6cec4156e2f841336d6eb94bfc8bf32338a5a294a83c08712bcc6c0eb468bf068e8bfd0464f2d39aa113e93595a23cb70ee5a907242e55eb9cdc8e76a96c75fe61bc6174741ee1cbd0206ba349639bf6cbb93a61f2068f2e454409960d27871a49d9e2dd89896a1bf1fabbfb68bd496e218433f0c35a468f31f4f4fbd4dad8956c250e7f5d284153f43d2419bcdae512b5c5fa9bc6860fa56b3b0cc6e21ed6ea7d895117fdc97ac36f332ccdd4d8ada05228e7589ef0b2ce45f5c58ed105422a13259e0c5e83ce013f49d87f2c7a47546ac1a37e7dae5d286f881b2c8b7ee9e0cd1d4ef71819910886298eace84ffdeb19ec58e53677e0e8700e5483c5846351bc10b1fc14e7bc7ed6aacf3f77e9a65f866e2870127f8be4964d2edea2c29426d76bb9f6742978ddeecb219d3810d15283cc587a8c4948ef790c04fd9c50ff8b447f28cbabf3e514d39eca7a3330a493e098cec55216489eaffe2bc6621bb5e44472c8e8819ded7c2cfc6d12f405a56ecf9f65371b9f9ef35d693ba9a901e284867fdd25985866403a3362a009c9a43a3b56dfb5efff1ee6481fb62531b98b2a831a9a2dcc633246d37b0b73d0ad0c706f880d1e62bfb27cc30055d3f3294661e4694774a660f68804259bebfa3d9415b1b0773dc62d305e48d841c9fe278afcb53fcb0352dd3f834e6dbb577278e3088315229b4aa536a1eb78c9160adab1cb2f97b452016069e38d4bdabc421b2eaede382f2a4071eb2d2a9fe92811443e9701d2ac4976d85aa526a812b115b3b088044ec6cd650f74ecc4eb999f75e88ac5dde39f4b09da56fea637536d834e298065e1decd2eb4b20908cb2c79cd7b1dc94c7846c6b2a053962bdb4f8903538be9f42c6937cfca3b5b5e624c7d045d2cc2def8bcb8cefa8d3f1145af4e470f284a6a5c9ded99e51d98f9d673d890b0d6b7b4038279bf4204e531e598095ae88e50695de20640eaeac70bb07de59d2d7e7e8e7dcd430b3a766805b6374f53807042040ee79aedf757435b51409241458bb684bd6b11bd74e623dcdd1d5bd1b7c711ee5b51471d0b85e1178b0addfe22ba790db898487e892819e69aa7600b98de1fb8dc7e5407420451c978947676de31c8e49452e5c47210b2270b580a32ee93a0697d04fd0ef3ce9fdc010a6a510312722e11ed73839f75569e3d71597d7c315741ec6e537a9eecdd5c4357f076c80b6d90af7ebec9b8196b6782711b5eb38cbfcd7376e8ec802b83fc9fa7ea0d495023e3c261a1d7cc6bf7d65a6477e0603266eff1cd3650b40a0e36d4f54a3d0c9ba7dc6a929e615e9dff72afe83ea6d81085ed466f887a5740c09978cae1509cb9b26d8b44cdf78232778632bcab963f2579304226a1d5362512f6de04eccc9c3b5f71aae6567b8bef9fc79e3ee6dc057ec18881645786270e80bc2b2cb39929e9c3e3364c7f3660d679fce2eeeef13383ded5657576e3d0dabb803829e5c0c9d96c674782c30d04bedc6afadbfd9db125295e3927f9afe6655bd7d95acf4535786c677918ad06446685dd66baf6bfb520d0ece767006f53f8c40f4318d1648b7d10ade9690769722fc6741c5e80ca8e40a8ceb2d60742276fa55206b92f1108096736ece757ea4f0ec8caabae6f5adb5389422f9b2025bdccf8048d628dcbf07f6a19d30cee539d394d52766374733fde74f670b2ea6a15ae582e3357d53a97b28fce6cd63343496f8e22f99b81a215d5d878d912a02c33fd72656b4daa97f059e778fc5f0f3b79ef738d68350db51f2396d7051ecbedca0fa5bd4e72f1d530c732da38f1a3ca1fde84ff774192f08323c9c447934c70de88189cfbde2ce57e6622c9bfe6fd85436da1f56fd09ff6548120923aca9e388bc866428f635f907a188d2f87c07b0013707d41edb8b3264289514512e5eba66797ef3f8f8dc2b753317d624442492f0714933b6a80642e94fc28af0ae56f04c424efa6434b16675efd6c90b510094a79a209bec969a6e5359c6aad0fc218ebf6b6f10abc6559acd189fabd641a1b5701a6720566d90e619a558d23aac3dad2eed16e1e7efb4ed80554f9bcc6b3b13baa7b199165717f59360b7a95ed19e6068afc4cb99b9fa34538744537ada3d028f364c937b205c162809bf2cfbe9a1a7a8d9d1371a8062552978ef4a11730e5e9faae9ae832e67ca7e395069781aa322b8e06baf30628acdaaf66204936567902f57bcdcb737595b51ce87b8fe0da6fb7786ebf0810c50ab51f05f1ca7bd54fab4d49cc143baa61fcac32383393691d9c7fd2994c59057c5c7d37cf362cd3bd65edcc22b5c60c7feafef67c342108e0a16fbe9ffbb8894d086f4ee40f71e2ea1cd6c1c7aab210e345ec659972b1b7169765dfc1b9f4cb8905aeb68500393dcd8eca8d181201ac0a9914454004cf3dfe2b22809a843d1be71c182e80da672dd27ea6175db0f5ca43783aa0d01cf910d303dcfd7890a59d21be9d0a42bcce010769d64a3fef588699ecd78f1d719496c4129a08d1cde29ecb157172e593f9909d596e0e7ca0b91b90ffc0e83713be84d50eb839ad9eae617d78cd43d85810c926c8efe00753994e906fe26f35a5bd3d9ad296a5ee2be13e48d9db5b94d93146369c8ba5874547072fb5b087d5500f740ffe8598cf54cab29fa32759983932e08cca7ead5c5cb77a9536a3daca1b9a870418b0293b42e9c43f7a103b33bc464c26f10cc81998de2d59c5c2328f15e3902f9c6950b0d65f41904b1ccdf113d47e5bcd004a55a8190a0bd6fc115decd75102b5b53e7b8120439259e686c519816566d6f44ff2dc3fcff32d650e2d80f7dea21d0ad31ea5eb8c223b8bbe81082293a8a65c5980fac170be5b3445c9d103b9cae41d8c9c1e56b91907565fe6a3319266326d985c9f42425fa89ffa8e2e4333715d70323a1313b7df722a2fab9c3f308f56be21ed74da607dbfa8086b255097157026fdb51430ca3a5c37996690accd27504ecccc9404fa36ebb861d5dc66ed16febed4a64cfa57093f0c274f6eb6db35166dd1d22f6232beacd954f8e3fdf3f6218ed4bdcfe4e75ffa96662d8cfd538172e17c8d79ea5b53d4525a6050d01778d29052dfbcedae5b1d693cd5d300af9af4003ea3c5f932ddf23aa9d8882feb83c1b6201a3f7579932cb07026f895941421ab1ddc997485746f62f72101eb8fc430e34e911754763a4eb1a0c9c60196fc5b9a96f1c38457d545facde93069602d3f4b0036603965c1eba81ac775f06b9be9dc94e1b76cb79539831d58ed2050614ab2fc99661221e3a8127f2f795206d9470cfc490b01bbbbf2dc26eb8c85dbabe1075c4ac47258551c00944dfb626f57c7184f65f9ce696c6353974fe0181dc0ce620e3d8e12a5bebd4ba63e7888b7d2d707cd7ec1281a548fbaccfaf4b344533fe43b5fba03ed850ca72f06ea0473bbb98a3a5a8756278aba1f4a83ac756c703acbb34eaaedd9c650e7fd8eb55017cbf3901edd6604230e1b3e81eafba61bc7bdfb751bccb26f892aa635af722be9662efa39885f5ccd1dab36f268277556853ac9ddccd57fe2b50c9fc5efdf7a1ea490afb0a4f3b7dcae69b0b89f07f37c058abaf2bc9056888810a4338fb84c40da38174a0419e9eee465cbd13bce9fd4f6f9a9d47a63a915ae644736e99ce52762c6bd9f215ef046346acf8e4874114f300601084f346ca53ecf65801c12339e919569dee04c008805e7dcad0ed9bdfe99fc8dc0366f8d28ca18a165043ff91e92ce014f9c805ecde8ec3456f7a0be28fc631178ea363589e62adda67b113fd6ad8b42ea6745c21f298b18b48668d7bebb58c75bd4f00cc0bfd6b02cd489bab9d060e00c1703855f565fed2d327a28d571c47a64fcdab52108f42d3f209ccc44a8b2fe4d1f9f6027fac9dac3c303364bce10ea236309c38615669b0ffe2e0d48b8b2baa21a451e0e520fc2cc66631758de63351b95e32b256a61692b2fa79ab8f29b523c833e65d7806cc93194522455f8fb2736fa1a0045c9282001f4b82939b139867787520459dc3b3a32295aaac673d4364f19f78d6c5eda3de1b74fa0b4e2cf1e266bf1b9c50129dc91e15abec75ab6b182cf985e5eee92fcd06291253b20cec39c0e36ee3cf5e561a5448a43a112aa5ebbd9149a562e2ce9fd6b6653b767d26959debdecff2cba94079bae01e55f5a208dc88fb347a8b6cbf9936910dda22d431f166cb77b3b397aac438de9e5bebfcb6eda582ff340dd2a0924af9254454e294fb2ac6ff41b57c09026d2b1da92e3997647beee41793857c24e136175129c6f18746374086a5d204bb550e35a09de4c47e00ec27e04dfbc92110fde23c1e6e583c184e3bf11ff870512561b8a54e160fcf7add62bbefc8421cec80f310c5278c888a24553fada44af95d0730c1f1de00edf32b4236ed2a7368ed439161000e4130adaa72a5a0f772a95715b0be9827f5dc788020f1864d30b995f545f0fc4a3dd51022713a09d4060acf3c585463fd944106374152c2a21ce57f0a404c3288441e55313e5529a835b0734fbb15d4f7e13833e138f4ec4f1a78b0974cc60d7ae9a77dbf6cafb70515fbe53e39d2755254ff4e4db2db7ca19879738fb34809d50c059ab958bc49659131b57b5ffba0353cfc82f4811b3959bb2163bccd2f2cc1c41627f7d863eda43a27cd91d3e5f57d5d441054ada515fe303fd520710701d5f9bf3818ced7081aa68479f583103467e58c87b5672ba917f68f1e361a4bc6ea387015d382378d3842ec6685f207f24e2b754f62d04e2e1b5c99fe747aad30bd0cce6ac1c075ea87c7eefb47f02da05e46528c26870c692f755bf123e7562f89aa12d0bca1bef3cd3efe36bece58f495fe411e30ae5018b47a02ec088288384e04c94b0f81b144f69b043793dcc1d8bbe50940c15c42f4553782519c2e0bb40facfb446e3299e0321b86a6bf4491e0b51f11fddfb14866590cb39918c8f58e0542282614bf4653c4b023b57ce06d23d37577ed1ffcc8a55ef27a44bdb3369cf51d457f6c38e64cf96101e23f78376b01a10417424ba5c7274feffd9270e3aacc41e75997b391e24f4b1a2e90a07360ba3646946c37bf091d314b041111b6839e05a0a00b9881d33d4b6d00a4a9ebbf299d6f7bb871e7a6aeddf819a1c2b8e5ecbc38a5370856333d6548ffaa178fa6721f7cdd80715949468d51b7fe7426e25b35e2e82de51f6cfb4f94bf5c0cc6f703e8ec75b326e0b190b8898228282afb794ae120d83cd28c4d335cb95728812b448293810f16a33129a9e9f44da905a074ad20764bf00d41dde531671a1166ba88e6436befd6693b6d550613f136cc7326d69357b5d39e43a929f9d158f0e70914d80dfe2b13815e3be8cb0d3c806aa600cde1aae189aff5ab5a447464a02c18eab7acde51ccc69d68b46e951be9e5df22d62bd06932ca5555b5d12bb8131825f8e8b621bed10219bb0086efd592c24e5d0d60fa029ec15c940fd139437d18dc828563991ccd0d62722dcb070ba0f4d2cf9bf04d5f134d20ffa79a1108835b8edfff5757111aa6b677676b5c1d3b1c5924f80ba6e06cf67bbf122554f2f4a4a3d563e929640010a7bab12f0c21d51bd906dd4d25a66c4ad6e7dfdbf40af618f60c55391c1dab471463c401e1cb9f3aa910361b0ad0998054cac3ae51230104e8101396741e1abc021f28d2e00d9a3f1ca78aa83f99779a2fc31fa7770a7a69ae9d17408c622a2630369a2401e5d8432230feacd5454b4d6e23c344debdded87e596044bb8f4a6258535e81389082061632512ff9a4b69c4ef14ea6902c9d51fdaad7d2b8bfa35c506ea85e30635bb96d6f1c7a07c0fb6294ac62456f3abe14de00c49d26704c62368401de1252de72e46b8b3d9da35b2b4ab3699fba83623956b1ea686d4e2123710e28296a5a2dbe3e4f13adcaa918aa3e0196545fe254b0448cb375c02fc1c29e235578d3814c6124ee16d6c3a26a59371c134ed49261c32bb08800a58a2d52ce853f6e6cdf73b89725bd43a6be9ea0e0febb9203860fed0255416ab0b5b7cd80d9b266213a8accff3305bb1a0c15cdce744d995be6895247643e252ee1225c255d032baf85035583254ba504d65ae85e0f3a8ceb48a37c2d9d1869b7db8803444b552a9c2f15a08a61b96a2e8b66eb2c58767e4704d6f1a74be52f47b84b64920673288369b062f4c13cc5e6491134b49695a36ad29c93017fdbaba4728ac48ad87393a458f220b6de2e3ef234de6bc61114fdcea158fcaecdc2dde02898c68fa93ace3b5e7b56f0e606e88a94fb74af20e308b339f7cbacfe876f0d1fa7f04401b38fecad9f959b7d1b3282d532969925a1344a76267d4c8509be6d89e9a4735b53347ce9f37ce4848d2df63669229f683ce5228a72c656a4eee0f070f0b35236d317acd43e3dbee81113981a5c3799b8764740a6d2455946972fcc6029f8a2538bffb52976de8c87af0b03060646f4c7a96a558fd86a6e96a3fa161d4c4aba8cffb39508bef3479206d3b77cabe8000ee164e10ebfb745f6ba1f5f8f32115ee3a4f0b444590873a47fe704bdf5d780bd90023a10ef0b5ad04f9f0d552305bc66bfadb63c4d087e4852575ad6ee08cf7abf054fe19fecea9ed02d4a594ea65370c236b727e41a09b9c3b09fc06f09b56708a5aea62578e6f97901b5900dee75a5ace1af230799cd27524003c4c249ad92d7fb6d935bd47c0a79b1846742215e31f0508f2dd4cd7c9827dc4a49aa6b6fb089812425b884bffb1cd8a08ec6a24adcae69ca9a0d1b6b3bdf2367a18f2a4db7928bd054db1425495756d8072fb8eb280da8b5a09ef3b1fa88c72dee6c92a9fff13ecc7568761f8801051bee8638bd82daadf89bb88f79ec5c29fb5aabfca86a0846fd63e6fdf1761212a0dff974af83f048732dc1bb87c942d0164497547d584844d0b65eaa09f84e8801ae8ca9d0579eb9a014a4bfce32620a7ea6e468fec70cea4585328c192b84543f3cb7db7a277bd683ca4504b39bfbeffae50a755b897aa666c839614f833712a0d47cd2bcb1930abfb9d834c886d34871fbbc79ee820beee2099fd818b34dc2d4657dd7e09aa1f63c2921ac6316130dfa039c691a3e3c1521f128b71577da46050138efa1b8582f127d7c17913f33eeb4c8134eba75230b9709ee72ab7a2f4e3b4c0e19c71c5ba784f3b5a1d9fcca8876dcb428d296d45a489d0111d888e8e66b82b30f71daa05fbb02445f810c47b8d71b5d493e4b49ed59fb3a435e65da5a6cc14f24dad57a76fa1c635852463f6a79dbb39f36a9553711eac62747742c4d28e6a192d583f1ee7a2b8b9415ab3f61fc6a04a29ff01abbd8a1ac6d98d3d9c4098ef3c7ec449940c01366f67a2f378c47879c39b072e90ca012bfde6707694d80dbcf99f995eef13654710546138e6938261b3dc8ae5562217c744f5072184c69c1ce72fc2fcd57ea9109294dfe2acbdee4df3cce79ceb513fc32f2fc5af95013d08dc546ea80c9d0a8bdcc37249ef79f519df008bd6f13b8f7bebea96f7505f1df40b076c63112696f09448e28c0835b3c40cfd2a87f781f6efe918e550ab295dd59587b1d74a2734e32aac626bcfc72775d178bf749b620f42e462cae51a5f465e8d978c293f682a494374ce1e4593a2c502d038e40d0768f641693a1e95f1b82c8aa4e62bb937a7c5ba28582ff02dd0369a17167b6485cc81b122dc342ccb7e204387a0962eff1f90064be4633ca732a196929ca7c28ec60abb8b6691a6b3f792b0876bef00cc4866f8b4020829eb55258e8b117e1e1d65ae0af5b1e317a965f542d5fc12083be0d54ea2fcea0777dec9fa300cdd4ac7660475744ba04e2b942568123009e7d56ce85cd721e29ec4f04d34367fceb7a527137c8688ff18542d5c79d50740d1bcc887d3a3b7a16f5c4cc6696726bd6e327866d17b79be5b80b3c2a5211aaf30853ebe6f9a16a448efb0a37d45406544164b95ffdefb42322ab3319a753dc48f1957da3d02b2579373408638476dd380ed10985f38bd7e419b6e4488df91be5653bc815bc86370254bcafb38333421eeb6c76feb7cdaf7de28ce7859600c9159349500e7cbf64425500a3c9c81ce7996374ae09b978a40bd544e87859de9a31cbfdb370a7c1f76022d775fd40667c24da62e867826e05834a71b53836df30f212a72f7e8e025cc112cfac54b1da5033bc1019cd5e01e234f33c6435e8f6d09748edf1bc16bb122c7ec47252cf7ca32529b8b81bb638bee3b5de8305a9df6c75c98cf901cfef05a00034e08c8a9a599f15788896a629903b213b09d4f37efbbb0c7cb1dd7dae250fe261f85b22236ddc69fecd7d4cbfc43b93b8a41e8444da5681110ad3f19b495a4ac4d0815db6297990e4ec6f49e000fe88112235727ac72c1541a49c64c4f9d4fa0c67a6948bbfc6eb8885fc82f493c6d12c5a7ff73d275dc5487a0c9b89544820ed9b62800b337c78c82673192ce07f80c84ce10bd6f362becd0a14b657f80ebc1b40e8f100d6f7d7c2fab311bdb68bc7b6ed401a332c5d94b9c4ec089eea6c0f058389f9506c3f79f281ae4142d9141d6308a33af5380a998087fa55f9fd48a257e1a27d10052a41a4e9f660eb1b4bc160894ee5e78f27328e33e008d638b2d0f86400fec42c505062aba3cb54eed7c82e9170536689a30ac4b63ae8fb0d8209ece53bd2c97c32b57c8efd8505d73e80e9c5e409ab783329bc2c75d1511143fc3198f46d6a08634e4dc3ae2fdcd6e5b88e3a6ef84a630c7a07bdf83a763021e756dfa27057779bcf015c0f74559104289f70390ab55890f22eb178cd51dc6a64ce8e55381d7a37c149c97a9dd348b9577136206dd72f7abe0f9870d846a7ba9db58640a8b169fa5870eec91ac935d1e897ba79fd69a4980976239ee57c3658ce2fb53f894cdfe8043c66ba2f9853efbbe5e5aa1f812d912bd5a9efdb9c198fd9a1b4886137d80f0a201cc1b9dc04607cda1e41c88104d3513b0bd9a4edb024cd59bf3461694724c7d80ffc3f96efdaef67979ea03890608ceea9278e04cef3c60fec53ecd9ce6a2eab8fa3c2a59590c691e013a76292cdb5e7dea910b757ad933b385a9df83d42ea6544f5ed09544039acda2aa0bd7de0adeb2abcaa6cd8e03c418ca828474d3cccec4eb11159c9cb441f6cc41a133309f621d4dbee4b10db93280e5523becd6c7ed67eeb6df6adc97d5aa34d3fdaed8c915afb8a16305965fb7d98914415921c57be8f3311333e27e23ead72c0e0bb8d662f3d7e3cf757c4f3037ab3d806af7b6e9e39f2d9f203407047b9019f174fcdaf1e3fba5693c6541a25465b2da0e28980dd0abc42311e912317e2069724fb9dcf41aab523492f93c7efdcca46a37d7a050cf63ebcb9489ea7146b8ded29b6439a0df1a6d451f1a9a889d40eb058a26f67f4f9f80434def8dab16e6f7ca8d9d9d61f587447f4868e7e59a3063ad3284b549620602ea9bc34e4758cdda70fd2a1553065cbd3ec5c00bba3c7ac84aa504d1aa5e9a119d1146242c6ff5b3c93d07366dd038623d4a48d4e636feb314f9dd0084ee9bf30d71f40149f688fa3dde13a5cb0a84cf8fb18ef9b02c1e9502699786439b6b941c2b67bee26da88891d5351c97ac0a78f2614cad48d57abf8828df464a6526d50ba8a93c57dc8ef98e44398019736b08d5a8c42460fb89a3abe774909d7c8290d94c509aedba1c172d6819ed6f8702c065fe978c149e57e61d8e4dced1aa640b58a970faaebcdb94e2e1f2a7f5c33e47ed87650ff9ed6d4f9fa135fe2c551d844af059561225fc0b039d659b167cae347dd576be456f5d71e56c13d45c10246d64ccd771dd0c2e82ac36443ea5b684ec3c78b01727aee493e2928578f47a12994e034c44f9a6e92ff052b10e2e75fb2810162742ea693b11b4e9d36fa5e0810d5f18308610243fc052d9c5027f238927bdb8039f51186e8500b23cd05232432d3de0be1544934458c6a4905404751fad43d616e3f22aa42a214207b40ae3ff8bb682a196ba97a96c04c7e341d65207815c7db40e771c8f536096d44656a4715dfc53a6b7158a96ebfcdc1308f7079eb9fd09236c0045a01e731dddd075b76a470db7cbce20f581480ad2d5bd735bab900d2c2910b453d07f2a98c4b4ee03e3c71062993cf8c92ccc47162b0a52d63abcb7eab23e0a5252e70dc926e7610bf6fffae250c8de6cdb2ff24bd5c362489cffc2b401c0012869455f5ae85f735b0292cf715022c4d5880f93de8619f3456ab7d03f692383bc8587e08b28b5625192951f6eae7aadc1d9b2b36e48b5d8434f9b106c883a10b350fafb203a76d946930e9d592d19ba64ebc289905a21a9e976facaf1dcbda31c9d226eecd8e938457770fad80c738ceb150560ee2ff1964d8e46488f5ba1e8506c9dc59e72d89282ad26923fc742a846726e9016ff26c989921cf85f3651e8bf618c0c69e8ac2de260815060d27202cc53ee31f2de587727aa6345b38202301fb198ff9ecfcca60572914ebed836b0f9d4d0dc63c3d02d55015ffcd38dbeb13a31b983064749e01f78816ac7405b00e864f4a769ba484afa564aea570b1759fcb8fab09738da9eb815de5d367bdfb5a8659cae449277e98b68e9a0f6b8cf119c5ff48061cb97152e5dce1513dc2d753d8198413d0190a66aeb444588743d9b6b5b32c7c3e4267ac127d4032b1874a01e3da12e0536be1bd1599a11220e511ee2d84e018c472a909012528eebca89a4b8f439e0d84af5123c83a48b4621936a17083ba8ffd74191bd23bf1d8bde5b6ae8f350e45f361b262449bb6c601848dfd275da1d2f5f905c2180e98dfe35658b8abec2f242bf0","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"bdcb3518b15f4229e99fc7d5d6151924"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
