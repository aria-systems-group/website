<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e48fed871030d9be7d9521f022208e9113ced6581e95bb5715eb7056962931f619dcbaa18a4ecbb702a42f8d1f7816db84b3f9f51f6dfcbe0580700cc41123b8846a25ee11c5f39f83b5530ecee86b6eec73b461de964987b42625555828341f4871ec4aeda30e08efc5291604e230738533c37e50e5a9b56ffecf7d697a868b7f874f7e0333037587d6f82ea26db0b71e51cb956cd33e52d838926694c1a5afc3e60a7c0ae57ad541474f22a106855331bf411ee49661d7eb38d144849f1267edbbfcd02e4e65bb5b2e8f59ca91fbfb65ab6f6573304f7cd25ea1ca4698d66eb015c5597df1d7efcae3bf312718ea0b19c0777153eed7802a6d6ff194bb31531fb9696ea86cabb0be511a50663db70aa11c837ba65dc76c6eaba78e18e82f6e1f57021543d0d773a7100c62dc332799445a06f9ba7ccca3cfcdfaef8a9c675689e73190e94ad730bca51fc3e24894439f10d3b082ab1d2ae14d6b92784afac78671c98a44ce3c0ea4c77c76be95b117a0e76309eb8d1e4f7d7e9df46fbfc0d36f29284b791bf5e75436f709fe56b92596369817082d250b4511ba461fc8f0657f5149bcd580dd097874a2457927a2d4236f0958060db24e47a1c93db264144bd1a8a375206568105b0f0cce9256213dfb18e5c894c8ff5327e0043e04a1eafe97db2a3daa9b4ca371c28a15e805f5c84865fac68d0fb71d43c1e97a27363b025a752f6f30d26f989cb144326ba285c5c402aea3fffae6f812d90007a5b4329ef161209607355ce7e5e984a10f09d47937be9565dcd7e160289c71c98c84c0355fce1e9e2877ad283e268e0f181aa080d230feef44ffae706790c617d3a1c3bb070a23e4c47d8075f0f3e9a2117099fe3bfac37cb97e40abf2e711a262bb3de3fc8d9a9cb0063ca0ddf970ce52fa1713ddb2188f1520cfc163c41d759cb08d09815e343ae98664c6f76ceae25a2a577ed712191212e7d6e9f22413b52e7102050e3ee5b0015e6ea780c8023936a193fd5eeb183513a9e4235545dc2ce7893c0c2bd56f5de5187d89597f5d0740c829258be1da2dbecfb4df9752e4d14763aac9f57d7f1cfd9b17e3ae227f22fadf170bf93bf27e5e55d43ecc0a409648dcb86c52528a040e2ac85d2faca8b444ad025a25797474b431fbb280613258a8ccc757ed78bf40eb19906b30a9898a07e574a8ffe437042e97c57bf8d38a3eb2083cdd5d3826a8a41c94d403b75b92aa222ea8a71847e6ae509db6f6537e5fd31c27405b8ea2971c19f2dbdc33555fb35d713f72c98533027f3c111c4a43c91ad17e3d1f95e7794df5dd1962b29bfb38e2baa4379dc5ed7b626a510e770cc0cd7a4cf9323fa24dcbc8468864d4ad62d65c9091dbe46c731c07c890019bf7a33c4af4e816e5bfe3280344ac36dbf9de8e56de2282fe6ae257f5f67e3e493fb0c3ed1ed4dbebe401adf280ac84bb63bb32397c73bace55c014920262e4e7ece6f1112ae500cb190342e7f7db9000e5e3637639acaaeb88391484f91a19c50cb0242929c6b87041c80275a8f838408a128a010196ae012e82fcca326e305a3b8908f2c62d40f6a5d41807fe7956f962d1184dc5f25d70afd2bf920a5dde196f84464f30352a03ca61c8867715f06247adb51f340d3fc42d39a0bf5cc790b6111bd0af01d2e5c38171e7dac8bf184f6b126203cb6a98fac10ac1243807841ae8da31d780a628d4a320042c4240c91e95cb42253aacd72a8fd741897b484a96211f66cd3a307bd6dc5e7959479cb352bdb035ef8cf96c02ea15a26fa3c5b2e64ff58175acbf4fcbc1e6cb736c18bdf5e3a29649e0943658b14b90f9704d08ede3c1c4a9ce6a81f4e0766580e7a0e9492fd0172d53cf2515ab9be1ca68cd2153b4e3ae0b8d85ab94d2c67a160bef7bf97f8a811f65b111454434d7ad336c6934b9d75c0b0928d81a86241387ce21315fda45e1fa3f6b31b83d4bef3ae0af47b2d9c29a080fc57e34ec179fb6bb0f118e193eb8374c412d2dd24073b7837114d57beedecac64f263a9890f3e52786641bb7a9dc5656e63319276fa718e6f18f6cca3617349e7d8f64bc4c6cd55ccfbeb354f263b9f3b52749d5fe7be86c9cc9eb6985f5ec479795fbaeff94da55a3c9c9ac4e81eaf007937c20cd38236bbd84f5815dfc2d4654f71cf2c29ac448103beba23b88797ec34e220e06a6d634005006d2993b6a7590bcd5612e0f78f67295e1e58f4f2ae12a048f8887be75aa8f972cbc8e794be0d27f0cca6dc36bc89fcdd8fdad7a7a1318102cbd9a18b7c55b7c944e954be785fa0017c06aaf9f93f19df2a74cb31ac6df3611b86a9a9d462437737b1b6f56210b42447f9a67ce2a8fef57c43f6734eee56895edc86295ce47a671a2a1ec6fdabfd5a1e688821699533cb1cfc31f416188f1c17098a8a17319483cd935e80a66ed4bfdafe855fc7f08075b67fd25b33e786f51daaa5a0cca222957b1aa236a6f4fa25ade429938529aa5320cf564977e6d40d9a304502ee5e43ca9470001f0390f38c52dbfcb5aa8e3be57ec584f37499197c16bac6454e6eb38da63018181ce48dc14af223ef62b0968a5b96e9042a128dbfc4dfb30fdf8a6325bb70ef9a1ef71b69872914ddc55da77c7eda666837f1e65012d7529f7800843f89e32725f6ae96fa674f5de95dffd5b12fa71c7910088d9f63850ece53c7565702c1ccc4ba57ac5d536daf51cb7380fc8e90c407a7cf80351184f70555a104303cdde47c0280451391cf80df618f67946b078255ca63cb2d94d2c599ef0157ee387f8211d817b425cbb3f4b568598aa72f29d5e1356660b56699e1465d4300f62c963786cbb57a9f6d19f972699bcf1806824404d7c243b37b5ae1127f18873f74d58bd7970e1394c408632d17a491967d1825e16f7a49fdf0fe76b0307196c606dc02910a2f1933722a69c15b9f257dec8a4a2167f47078877e7756c650ae92aef59a15668ae9c5aaa06ff40267a0328d638e12f8be731c9e4b9fd460fb135e618e3bfd541de4059d0766cf509765e8bb576500d42ba785abb8c6edf9d0805c7e9814fe33ff4145c646c7a4026427021883b0b5fd567368c59de44bf5f79cd50539115f5cf97ad53146949420fe640e20d637c765aa84e128a2c391a687ff2334f4ab3f5b521d7811ea33fe06c9eff40de86e9367336bda57537422a9843d8a056de52662928b2186e53edfff89cbe361407a227f221964f206606bd538ff5b8faa8089b4bb98fa66152039e83c1aa869e329fff3339a87d7f8781d4f61b1791d0218378f9e4671c3a7592a4b4fcee0b85f3a135e3a6bcd056afc679d692acf744c41732c165a51833c0b9f5c088a1d668f0bdddd648681f87ce18b3220990ec09f287fe572776a4422685de3f687b2c859ea79d1b33c4fd388d69590f936edf0832c7b90805b007e0f96ee3edbabb2a9bdb3474adba1ccc0de81754f60c0e9119e3146c35390aedc34fe678611297ed78c1938bca3254b8a9df4a328780bfedac20c23db38ee711db0e5b027fc12f4c69813f6405cab10a83b93011c50238f7f009bfe1714833586c4d07c230ca4cb6ff0338c8a037e8afdc5d581ffa851f6d6650c0fa1db232ba5b5d0abc592a0e7463ac7df691b4bbadb2d83557f2c74557af742ae10457ebaa4949155307b71beac3746222da34e96372da51a34b70876a11cf001ce448fe60efaf707ace39109ab99fdf0cea8facc715222dd150c5b86435a21b22874e9cf26e34cab28766484d55f37a21698d8b5ef4c4f51832368f6cae7de6fa79f5adc2ba4a6bda6f4b4695274ea8198f4ef10879122de50563c2a029440ac31b09839f79c123f5fb5eaaf0a4d9275f854e5c997d74fdfd705901a77d957e4de65dc92b0e6073f90e689b8a3b52b2703b755004e4371d4e19aa0e60fe69ffa2ec29e9997c4ada6c380aee2421a7cdedfeb4aa9efb4060f620bde421e060d87e7d9699e69e49cd2c795984ec2812339f1a71af06f28037599a6e36a96e95dc26e1676750143b75d11c4f37bd0649156f0c1029b81b85ad75db4ff6a1d05b6b540e5fc108c7937e020bbe0bae72349846436ffcfbbedb34cb2b9f51873a59655ca9806c64b17cab59840e30df2365459d3114601182a5a060779c04b9fcd76d217e95b10625535f986da7d4e755ad8c88d9ac0144e4587d5f058ed7727ecc5764d971ab6659e876086b5ed0fb2f07c5640a8ba2b16a59b307234bb72fe4d51b1c4cde5ccb1eeda21f93a464b61ec1c8e4b21e38690f47113b1f43d9dbfb8badbf5cb4256777108027351ea58d8b36ac4402d3f6496afbaddd8d4b48d31e2807f0c16079fcfc1cd3eae414a758cbff7f27eb7a6ab4ed093c3b00efd8373b554064133c99845b1ea1642a8b569872b200d05923b1df8cb60d7c88b7c83c16abc1862ce69ffeccefcfed907dc6ba689ca3e34c7e13f763342b50bf1e9671948af0e4762f2b5dcb9e688d8189cc402a3eef1e3d2023e0fc135d2e603fb0ea6ac5ec11c3888f5edc340971e52ec6b73bf66b83e93d0d8edf7b41110617f4f0d05b89eb7f0fe42ea3d922054954067fd30971e8824013ef3639b156cd74c6ceaced0147081891863cec68c52ab48e59e57e32088e2e8ae570595ae6e6a25917ad7363d6630a7cd851c80fe907d26c02c45b58d432a35c392be59c939476936a6a35fcf78f83bd400088b0c14f159f9c7555261561feabaebb065846109462741871a218a7b0c9cba7682c687c2ae71b1d20e5b9cec16662a91b6a719ff05a320090e39dd0ca8a2635b6742de9c3f5c41f5c53223ddd246fa55b79fc3258a6e3301144a41fd5366ae3d786bd4423743d59d06e8358764aa533b5204245b0db6d859160e287e549b8452559b6b8c304c7b18c9a258f4b49bfebe89670699805c56bd6a4edfbfb147f530faaf1abc04fea971ac776ed084dca1657efba6434273ebf179f882b5df1aa55db6cebdf7d1b298aebab16dd52104f09cf13bcc7831e910d61388829c0c44e1f8fe8fb0f1d04ef229b8fa41d1375366e93183e81d0ef2e1e8dbd01741b7e1d4a2fe279e10589ec29dcc41dd3d5dfbfe4ac8fc9e473dd340f735e45cdc29f9da3cfcedae73b54a90dc2faab2a543a2692340ffac183cffc58cf5a2ba5cf4b7d31e7b4a61c44a8b33c3a710b238633756df8c41f472ed2b53e0587f70a8c844accb09b49cc4e04873c48e6fd832c9342c672cf738781b4709f2485acf5de30d78a3de77c99d7571d3a0e7d1c8cf2d401547378a44fe8b40ac1b13655bb6a70bfdbe6aae6dca9a21aca9e74b25773a4315292c98215058e57fc47f4208d92ec711ab605d47a0e33cd6e36477a18c1a67078ec2dd4968a8094820c0c623b42fc904ed522d81081bb1cdd49f93d20816c8bf5a91366f7f39819632625ec7ef166bc30dd73f66271c9ac56858ade0e217c158b564e46b4341d019a352d5bbd66e7ade004a6b0c4b376f5d6e0a856b47c46854a70851382140393ac4a2f03c3bbf59c4b4da3692e7ba64420b7af4ef415c7c6eb5acf25f889aa715041953fac09b6ac78432bd803995485746b7bcc5b583848d2af59ad59406586263d47990e7a86c41f14bbf3dcbe990f7f66ce8c5477a08a46263b3d0dadd8b84c4677f947e2dca72e8687b795ac1261e92465541c7946ec607cb383cdf5375159e74dd870792530bdddc5dabeb4e14c4513c585d75cc53654266cf140da29b1d0beb344163ab8307f97f0286badaec40db64681423edb0b53ae676e9982416d1c7d1bb6030b3bf9f6f2fa4d2bf5bbe6e2854de8b433bc86f80f4c98b3f987a74d21f454502956c72612c9fc701135795d5c6ef0bc9defd6e4e93d35f7889c72384c378138b0227bd35052c7b6a1a6985d4e96e12373d7ca99c01b624550212324166fc292b143cef7b80c4897fc2480dbe625cfe219fe07d1eff6f8b5793e8c31716502b0c48323dad5c1bc4a6ba1ecac13af582f123f394fb25839017034d63c23d286d2a570815574c710bd0c50596d341e47a1f681728cd238be08a422aaca57ddd558c4652e550a9647555662d73416334ad2e5c5328f9b30ca30a2c4a8dca019f1761664b8910a49420ffd65b3cb73460d046b723caa9799c3422070c58234b199eff83f6e242a3ab431ebce910e6fdfa90ee5c6268dfac0ccfae8ec9d828d2b7841fe2bf993e3fa72d7883d1579ca213f9117cb60f38f0db559265d7f2df7afedade10953db3b948ab018192d22936978ad58233e3046dc1831165d9efbcc21781c0e033971c317c2b1976aa65e4f0d0780b0afddf38665c193a2440d9833c942c0cb66ed7a7be4b4374839c2fe2a69bdc03e245016e9444267dbd999b703713d6b83bc785d04ca94a7a8d3cecd3ad950433bac16df3f0e3b7a965314f4787529cd6e78fcda0d5e1c6404f3fd6f2e0bf2682e305ccb0884690884cd3d71d51e71898238382253de7075619f3668687677fb76ff7b5a4c4ad30a32fe6bfa4e9994ce834ecfab112b96c749ea5085be40b728da306f679ec890e119a2eee86713beb8b3b1369cf7a38d919114a53079d12f9ecf580cc13030de7596fa6155685adabd4b150cb9f0ec6144415e86cbbddd2b3bccdcd723e8ca7c34164c1cee6f611229136564223acbc60d7e6dfa5f88fb4490d7e3e10ed03916f58ce8e2c1a2d9e55a8ae51d53cc427bcec281b30407f1927aaebff68c599378d41d0103345c885aa356e0e16d43a5810ed3a1b0ef321d3be80938d126eab9fdcc2772f52a63577ca4bad524d3a043526a7e2c81e127b6cc9fc807b135c7cb535f7287fc34be80c2028b6beb123dc041891f59635b7517fbd59ca6db9277debced6ef32d8ecd75858498185306a9813c0cbe969de5dd001e5e8a31cdbdd69247236a3996bb7e8eff829a8d49ff86c3ddcdd7d2689361bdcb650c12654ab993e7506f8c3ad4e02e9ff9b452f950cbdf89f0f7293ec5d7b145831b4cc52ae5c0ed709e812b36d1bb675627c54fd787ec64aa8b12912dd5006778a0fbe5c27ace9ae4cf28cd1d2c35fa3c3bc436067445d694df1180a7b3a1835a25813f67159b3ebb95335ed3b5352fa126ace6d8ba75d941ce8de91a6c3d6e8af5e5f9a012a9cdc8e9086f0c60615449b1184305c93c2dd90a1c4abaa7743aad2c5dc6edec9e6c28a6ca73c0f99fd5830a07ef95ce648351ebf9532b2a651fb0b6fa2fd53ef2474837675dcb7ca7b7477b185df2172f69f400aeececd2474c8277fa41a22ee89d70c02b4db753a9ca16baf804f3278f0fb0c57f329fd07b6dd23e67d20c99af7ab11434dfa8facaab4119de6baf44ccbbdfbe2bcee835a6b3842e2064d232b602190ca5b8e63ef70e8e1938208dda65ea9ed221eb76e490fd276faaea887cc4f42e9de8c0121a89c9fe119c96fb06316f0e5531dbcb826480f7fc933dbd51d16b102adafef54c97bc527affd2c5bba035d49f524daa3cb339b96371504fe10a61ef074e507c0b704c5225139c5c30d777e6fc853774264c04981c64bb0c2967e68e623ab2f58ddce64ce6536ce8516a9016ea234347f1178d6afca83535a480149ace0894d8d73886f5b262c69f5f6cd5e2a5ad42f53cb32ca4416fb1bd31c33f4e37ac78eff1b38315be62de1f258d79093db2b6bc49afef21f26ea426a5883105e91cf79c86cb18508204b1b0f4246238631c0f7024307a4a481b6a54e3ad0775aca18ab6ea0259fc589eb26f9656ba099166ffce1607f7388446ee84ae993c90f827c01744a3266800dae6ab4fdd493593b3596a5692dd9c610d59aa37640fadf3449936cb6df77de20068147f2c0607c693be12f431d0f650a2ea48814aeec0bd84a55521da2942933edfb5aa550e9e63425fd86e2423e22ce1ee3ba2c5805d6bbef77fa7aa5aa4bc50cff59841bfab0f63b078275c2ea47f6414696332551784bec0d2c0bbd8ea4c0d3ac31fe012a3f1e72bf14b8cff79d8b3cd6330f6abf614a97b35af59c78de1552e318057582ba9e34440057af6df530457ed0b1e06985a69742ae83cbe2ddf78303bcfa91f1b3920e21c7787ce3f64f81f52476f61e9fc4adeccbae72d40cc7d29ffff635b0f8651340c67a8463c782029eaaa38f81fb767db4bef96f5f072ca0262ab3650eb38eb6afb30323b689b2d3b3b9e3eb7edfccb3e6a41cbdfe94f623803a477c7838b342e2bc6caa4601a1fcd27217ef49e09e801b18b19de95adbb0ff2fd286d57d666d0f9272b99a502287856f26f39d9c28e510c773862deb521e3e9808e7b07a188a39ed3ffa38ca8fdcae36ad0b33b2dca21316ea4cc913e3e127bb8f0ab91651990946e160e774c07e32ef152b0254ca6bcb1fa3d1d640299339bc72afd295655cf71a17a8b64b43c99c872f17e5fedadec9d08769e774365bd728e38eaf4875acb36744d5fedc40d53a9a9e3bcab309a7834bfb5e7d4aa15401e7dd0ac81bfe20f9f532d5525ccceab2aa70dc1129b8190f6142d4c576b16b8fdd1388ef1c9da96e6e9b45df19dec5c7d29af101f212037ba506a8ffe6524318a2ff46f4a3074e732f0fc97a1634d49556298514039413a6472141c73c9c89c7f9fdb5287abd2c95d14a1df9d8ce30e9c93019ae98b6d5e24e410a9bd4822ab125d067ca79b6548898797f9e0bab74b47283e0f4397a7257023044e3bcaa5c555bb269faf06e25a63adb112116f5c153d05c6cf678ea7ad07ee28e73cdb6d24aa60e705bab0a83ee95838f68f56a3d411c8d8f2708dbd9c7562ea9339061ab23b69d40a0beb613b282b58f91649d40c251ccba4898ae83581b2454edfabdeb32dcd51916dd9959420483701a01a61986849bb9f5ab81a3a4113dc441f40995895948ade59655569b546d8c1e7b67983f565ad2afa2bedd3cc0d752a7ac59ecf800442c930e4ac5b28e7fa8c187a9cce670d065fac231d8fe91d83c0fda20c6bb25b0b760ca402d0663f26e7abb73be2d55d53b7520463fd2e73348b88bb98e2e375001fa677caff4f57dbc868e298a9aea2b6807e8b98fc9f9b07f69eddf891deffef47c22aebd5ace89b2f6b3371511557c71dfe3975331ceef2ec435689a3f96a35ba220d2f5dd5e0a68a5984b517e57f8840cca1f0ca5a0cb17f4610ec584769962d5e956529fd78c61235d9e468ccd0bc9be361f9e9c9d8ba90c1b0b98be0d50e4ce8286af9eba639b408fb9c4fe0dede6a84dd900b32b3dec7979e6448b3f46a0a7c652944e329803bc343d69a3716ec195868bf04acecd834cc4a1cd17fe698ed4b4773a01057632e6800379468d6c19904163aad0f3370fc116ef13f90d3644c239c526a00faa05fccc510f57dae1d1d4231806f5a987cd9b4c6618d55a6c4456808738768392685b3069b6b4f4f240ce4d2c90010b4433768b75f4fcf25a4c459657fc132669688b65493e96f4c230f93af843f21591a90acde84b0275b986cea94d4b0a77796269489243de9b838552680184d98abd0545ecd9cb02475259cee8b755014e472d9d73991e21adbe7b648deb3e1faf6c718476c0130e4853530bd285e61935b6706cf6e97889f5110895fa4500bce8edb5e2f2b62ed27df858822877c66ce3784f41b38a9a215dd9c49e0608882e7c668ecddbe98959cda75c653fc3b489f5dd04039865f92f59b4a98039a603966fdea39a01121af0b99a5a9bdd3f7fb7e34ee995b7b873e83ee6736fda4f9c40742321c9861216e70318f00cece4e50d1609d02425ad7423b53c7d9576afac14458991bffa62f836bbc6acb2abc753de9ffed4c657c6c698b8ac2895eb350997e1cb06fba44a10d4c3edf4de4f8f5aaf28c56d6889ee6ce70209b97da01fcea47b62d4488dc75f3fc55235c2852587b300fb7b62d880302390cdfd736f1231446e0612d6bde87b84d6ee7f0526c22fdea37ee9cbbed3970724b7d7c91e5a0616d2b8fc02fd2b354f1a6a32600cfe4f90d0c89f9bbb0cfe0fd9aa24b4dded3706cdcb0851de779b266d5cddc5155c512f6a92fac23c1f8b1199de1644f465408f6c20627007657c9ac49d6b30f2f4884aaf9b61e43aa3915f746c9f67b7e451f176e75c3df8f5d4aa23f3e5d072865bda3f5dc9cb35501652a023b8ca4cfe139effaf20294a8d4927070ac7d3eb65faefe5f142548c0a8b862df3ed1a6566910357ae0d9d41299529435d309970d3407885450c6f5e19894d77852b7a1f71cb8d1af54015ee46560e9fbce7f1f13c7211c6c33d90dfa0f4ea2f7a2a2f474e6e44b55fc2f5aeaf685029e96ab7051b5201845dde0727c93964c9a43f727515c27f9b1ff5053d63ed7e99719f4140fea0eb42a8d21b7d5d4207cddbdb2c5ceca8f88d2c8c54f8170c59200b2016ecc503283ee6d41747971f24266214f41cfb38dc734d9ebe125619530a6a2f544fc01215ae4155798be89058ede02181da49d9a53feedfe3293ad6556e4983edd1c37575b5e65175f70e85380168e0e8639baaa6ba6e90e87403daa8b69eb7415b41b848f0bbc821c7d48a57b36c9ba0b5127d264329a71fa03245f5c5f6b6c37b6d8664b4acea8b47e138d0f0e583f2975c0b066f7ae9086cbc53860056e23a2c4fd2fc2a8d856b66df7320418b5e741f8b5b14427b39d055aac413255b722ffb0690bef22fa64e94548b838a22345bd5891ae0a544a8f648d213e39dbab668a57e6ad25a27e01c94dcdcf6ea928b66f6e3a8026977dfe4514a763825c06f55c602e255de69ad2f761567f31de66e40eb6b2c79576d0743cb23afc74746e78758c1ba58d2ede348a8231a757f6fd43bb9c74ba57f4814fd7b2a6e077bb486472f5146559f8f61ddf68ec33dd46e4e659d916ccfbda0eef106b86ad32f87588e8250b2ff52abb3951a0548a76007418ddb025e1c237ca91fc3bade9167dfb203253f8905dcc603905110850d5e96398a85a8ae92014bb0ec0558c6e557f5ea0f5a60b2f8b5242cd85ade4cb2ecf5de0bd4bfaae56d65db1dc95c5cecd85dd0a2a9171d75d183b88a084680c55870d27b457ef204ab63f981deb7ef70afdbaabc33a1a68b480196345c06a7c6ec3230829b2cc2c33e4d6dd6810711a907f345d57008fc8682137f6b0755c3209a5fa740304dc2647eec0ac046ef44946df5f5141da9b7b9d207b07b274ee65e1663b00556993af4380ccca207f27d8f7389f8c6496b17d6dbe9d38c50e21fa40f24565f801cbf508cd90bc779f11850e8e57dd825fdc77f5139ad9717f129e830ab6d01d30d13d3aa94cb419738b9d73f743e17a01550bf67686aab3eadb3d5d0d7268d45977c397afc72fcbecc8b35c3c15a524f88396cafac4f95cb0a7efd78321035d0d0ee67e08f1b594bceed8cb140676f2ea80e06fa22ab01de9c74ca4e33126508754f33696471bdcacf83ccfe2153de1b23b6ce1dadf2ec9a984c7f6942503771909d46006242dabe8f36a562982a01a35c0da6bb22d2d3cafe2490a206594f92894c3779b0b017cc17331e321e0df97999f26ee29fc810f5e81110e1babb64c3985cf3d2c6242f4c69f66a0235ba1130ed824bd35474d3af5dbdeeda5b84623767f9f62c41135f3c46f5d56b41b4b3afd112f7f4702d7db609b3b83e0b338858eb084bf419dd4bce8d1e04cd40aa45593ad0c6f13f17d075ba3e860aa7b6571f111540f94d1d52dfc50f3a38347dc5debe0da2bb98df80c9635110d9e2490994692c5adc7f235ebf530bd23a565b2fa0d89ea3fae7b4eae5ab6e39d1cf79fb25d3e9c0fd107a9c74bbbf4af192e611bf4bf1e4f7043652fe642afe2fd551ed50df895ab1608b459c498a8355a5ed9aa70f3b504378ca87688508a32f5bd777854160d687c4085c9b48c6cd7ff1dc113b0827d1d60bfcfa3da02b0577cf7dadcc059d657e3b99d3e285c04d1e0c0d013cd2489f7a2c92df7aaf66ab4d34cf8fef60368bdeb1023e24879efafb0b265a2355915d1a6a9196016de0818ab26b7ed62d34499ce17e01076be4d74dd20353e20cff09dfe1aaf779504091c0e40150874a8d825c81a18da4ac4b8c8853bccc300067f20c65ac6a16929e4687f26968685b7e0bc935fd6abc44be6f523ca285b67276389870db1a6fa45827d1d0c2758fe3e7f901f4d700e5aac4dad71ef7f33bdb92410eff1343bcb3f4642d1d952d63a435b60b24fd8cba5954d69a7739b0c393bda083ee385dbe3e09d85e9cd1306fa8ba5059ab24c67ad944f7e98d47a6d6859f07646d66c12b8bd190dd3c28c00817cbb865068936c8da2d0e55856c1674497b8f37e8925cc8290d5a3a22278e784e73aab3cf6346abdd2ab07101de28d7e63d057cc781a1c493ab781c1ffda659ffff2698001ae5fb86258a788044ea770db0ce8afa9a2ae1fcef0d37de79e672f9fea449db866c1fe1b5bf41b515042a9f1f9a56928f7e968f1c58f9600be6a5cad766460dfab7e9eaef97653365eeedefdfefad0e0df324b7fec83ed05a14d6f6116939693094565f27288c925d46a72d58f99acfa75ddf4af88f18976f8513dccc6805c478357d072a8277aae6328af11387bb08cda13083d87c5f847c9c3e794f8a8b46c660b66c40f4f4e1e896343bd0fe1ea6b632ec9a329aa7464d64a27a3b3a75aa8f9d9fd2940874a397d00745f5e05777d92a0d721285f99e7b1d9e9aed396ea7684ab55b8242c75886ec23336ec6a7da1aaf7e2cec729dad719772dd6dd5607bdc81d0a775c8997fc58fbe408f4898b65b5f5ccebe4f0dceffb070ad9c110c8a2cf2400877c4f5cc2db710fed48a777e6c11c8e33374cf41e0950dfdffe58cc483333bc01784ca3edfbf6dc5e4b4f4517d20e533c66d4bf2c4142732bffb6d0a6b7ade6b3d7973896a24f4ca342d36925216e1466c747c8fb0d913c01351521e482c65d73bd58f6f9d9c9a280d1ee255d39e059a42f07ec4f4e824548da0e639c14099f6ab49c39976550d2ce9e0fff104e0ab6329c9419f157987c2ab8ea322c97b0a9554b2f8ddd05ae807dd525367fcded0921934ee8efeabf7b0dd35b68a97f418dcac3092167ddf7e231559d79ba00c2d72f24a60e9e342c7dc5d151b6940a7b1d87a1c9288002ab15ff5c9ff8edca0b60a705496463c38a43adbfbc624021189e1f87e284a9d8e7761e9b48b1757dccc9a7664aa486a6032effa4223d3d9f67fbe53a0506c400f542645c01d38bb957fe6df88010c4d4cddbf57620fb8f5fe47c6bcd1e5faba5d6981a4046e8fee8e6972b5856002bbf4d455ab7d0d46f4274ebcc3550fa94246b3739ac4f8e7a4de20e68b50c86f6b30cad008c7b53a3c6a7903f1740f9ba8fb2f21a6644dba86bad4634957392f6effa92bc6b8e8abd03bd96ef0ec7e22dfdaf9bb80b124ddc9fd04831283164529388a456bad0bdc4e26415bd9055f47da407e0be12dfbd03c7b88d8535254740ff336b9903b5093841aa454e7fcb6ebea42e398f4c3c63627a62e884cb0eacd6a07ce12465e56e9bef7638ae039961eb89f290bfbf7a218fa265b9251b42ee5f7b8c11e238a5914bd9591cd0d0ca8561f226dd7b7e97624223092602c37f3fca34a3b7414c1b583b926b23f68f6f2f45d93899a34ce0f5adc97e1ee258dae84ac4ff68030c37dbc3d798a8a40f494a48e0c354dfce366fc80318e10b44cc7f512efa9e29f3fa438b5904c8504a6a455dbf683a5cf6db1677f01355489516520423e0ae417102f8b4280b4234a93c9dfae0896171b888c9d9383c613cda954623ea88722fd730311cbb0fb7d8663db3385959a253e9d85729cfde2258c5e411c24db14da00f8551933d2280a997f9f8de94332885f2d6fce22bca974327e744ddf317875feab05ad68332084d9236427a198efef69b970f7acade5f30d4c678df66ee79f7ee3165daac4222e09819491e0241965f45d64d8e6e5e27edaffdac0141bbd9a45bf4ef86d5935a5bbfe5456e64f81c5405394667403a06e18bf1846c04d035f93d56e59494baacc22fd005e5a32c81787681c7571128d0c5b60835dfb8417c07317f736213969a47456bdd35ffa182b35d881b71973dd5375f71335e6ce76d0a60eddd6f33729f9b7c44c484d67c0ee8943cb6971f831ffc6f85dcbc6b719987a7e0a424f3b5d51ba67162dfc0e64c9bab7ebed6a8a4ca6a01e2e0cb0545a2a3c969009a81773d9b41b0ec996a69d3ef6a5c0033bda1aea914a0cd99f586191451181f587b3e4bf254a150183df93c57e873d4bcf3b39f027907ec18af8aa7799678dbcb0f65cccad34e432a74dff7c88255d22fcc6ad519a3c3407bc9dc36d5d441c096437e51859f94f107182f0376d4e99266ae49f70698a5ae98857b73ad89565e12270e6585883346ab01022f5004575bc52d2f3e3a798f99418cbfef2176f6f1fefc39309bc572a94ccffa4e6def5c78f9ef72fc47620c9094e74cba32a39be9bf291073eb44c40956913b16a9c55d768e5bc9b6401f1aa6b1f565d4c7315d83b9e7e2f13d7d9ffcf1b5723b6e85e458633a64fad58f710f3c4942624e1bbacfbacee5b22522b4dd9d9731dde59dd326bfe88fe5490adee5879645dd05335c288f2f1ac47b7b4dfb1ae3743081bccc35bd7a0a2c809f9ae3912a341268926855d86ff40c866afad0c96048bf16a91f0f75b24b8baaddcba5151203c8ae85664166585001fa6f223c4e70e7cc2067e5b01bb476f4382624f50c7fa1ffcbd2d9979f09a70e74b4170e8a9caf3a957c9750f42754a044d45fafd04c38ee426ae1b9b49bfd6f4e9ab3a4faad5fcd68feb2dd493d892248f457691353086e6153eb0f7f335ad93697eb4f4a86e8d0a8015e7aca08acf8eb0cf5252fa62b2f9c192efb7b28fdc3d3cfb06e6fd676ff78d1ce04fc917d2abde90ea55b3305e421ace4496674ba55a85bd50d56d336bc4b835b77b2e6aba44cca57f8ba8830d7403fba9bb5f2c8f524febe36949efcfb8c915abdf7aa0b6c9e82a79477b7cc076eeef65879ce5a431b2b67832fc051251e78a5cfb9ff49368707a2e6a7d77bb240ee0a1b6671a1b819a016a3c428899f1fed33f78f4b21e722242465be32076797290732368cb619ce48cb25d9eaac7ed987b3fb48e7721a3924ea2795399b5f8b34b95ef7e8e522fff44d264a20d130a9fcdb5a829ca3d8359a6f6393751f4ce96940f333556ed45cfc4da0665ba2e11cca332179f44c2dff4b7f1857a8d698134e40b9ad6d74903feba10bc0f27d2ff8a5350c284b334965f8c50510c9d0ed416e4d9ae429f7b42d3da8ddc7dcd6c408caddfef177dd99c5892230781cf4655ea4df20980cf86af4ff3f56121b4c5d61174e89cdd8b932d8359826a6d41f808c53f337991fba5062d7769c5eb88e99ec47f14c224e0bbfb53b2d60c0ec3d6419a40a298831a18ac2705353576ba1720c9c56cdbe243d91c8849272d587ebae33be11341eb6ca219d70268bbf7678d85eb8d3e881b2288bb29aef8629cb35a5f9a64f0dab4fab0e9c8ee2c9a34500cee94fc6cb585095a53401ae7a90fa0f69fb811b2e1fc41879c8f67b1dfe137e68c03b4c1f14250d0ec38ff3ba7863f30529629ea063bb367800710b3a127bbf31477be6e37d769a3d8efd5877dfe928274859cdf0259f5c13b9bc4f8d4e00f5a8168e555fc978333804e50011f3a01832df64ed7a33da3d70af94331958c760b4a3c2fc79537c7e37c9934069d91de551a84187b5ac53c2bac7b50abf62d16216474e7265727609c4f302fcf3bdad730eb465cad9e5998eaf94508f546cd0b13799faffa09380c1da83e0584631fa12545e26e5a15c8b115cb3e29c218cc928ec238e66c6e75a3eae18d170d4e3f3becc3493bc1e3b1ad1ddcbdd94a039e8ae56f5ec4373dd3b90325104389fbf5f1af9635f1df001aa037ba1b8324a0c3e615cce202ff5af9e6110cc3973dc70693ffc8d0358e945962947d392268dbb73bb3186e17d2013e4cc28a2746b92fbdc589ac948bc62e358eaba0ae666655af3dceb2558c4a4f7d194a9d5c100386b2133023fd0f057300562cea5ed33d58c8154bc471fcdcafc0b790a788f8bdb3c4967e40e4ec89c513954372b3420c3fcb6c74b139b249add5a743e1b0c919e85de41f24a293660f0ec362150b14831baa952a986c60de60c2dc1a3be6b89eba671070e0982a9a52c6ab37fabe841d078266affcb32dccc29ee37cd085f2ac9401a3f245303fb50447c3164b51ef886507e3966bbcbbf7d33a2a47a95bb9d336088925b7603ee3933001fbf4a83b37458c76f35f185549d6c32abf5bcf30e3138e7ef801d74bf0d14cc5d9b8dfc687e2ae59d79d66ed9357ffd3f6c7b21cc52ad0ec29cc2e532ea292ae9e6395b864373a27c128f33596cf94951a72980bea9e998c85047f99435c731d6e338df3123830fadf84573b34ccbff1ebf2fbc82e8749b288329b5e154d3da29a8d466acaf92f162cc71b9bedf58344469396ec1bfad0a2329fb490f401d680bdf361e3d001c5ac00432ee27d27f5edc80c77b9ae7d7bbbd283b54305d7f3af9ac7f8d2f319548591e674a641ee231a5f73452fca45ebdcebc76c6d4c9a590100c22aaa6b64471451849cceeb1565fd23b84c7371be0913d475edd61971c6cc112599f1a788a647b0f793006bd380b101c86aac25a63855663e023046992ebed370312f3f843bdde9abf1b88374927b5b78315a1310e20a761ed6f68b849c30df022ce2dbe164c0d17bb9e48a2249511509a342b2ffc1940ef0da963d3a72f12cfcd16a750e2cc0a703afbfd4088fa458deda11137ee9b0d5392532dc4c4313722313ea666c238b25339484e1915b91e600030940489e9218496d5b89c5a622f18e3ba2a3c1293fe5398fcb22e0f91eb5d0da54926d09516c59836be7438c437841c66664e90dd33a5607be5c00843b915c003b82d25af207552b340946cd0be0d8ca02503225a93a844e1ee054a0e1e462f78ef4af0d068d5e866ed6b8f0b490f352b8467dcef070e6d2c5dd6edd8f30a84f6bd023a42e3e9059a16377b2409f2641bda5d2d9ae189ef200255e9224e8dbf08214485a8e672f6cf4538f2061474b9ceac7795f32c1dcd03327146ec9793777ba32bf899bd38c9f786bfb8b2389dbe795fd3299281bbcbef4931a39718ef37bee6fe691e4d704ff2625e1fa5dbde1bee3227e9ef4a01e2c9467a279ab6af1dce07a0e38b212f74b173b81f393227818816eb52248f6663e24909b9d63a341a7fdda7ab9ea5a7193152e5bfa53dd54149b1685e9d4a37b1ab44ae7cbd820c6f0da53dc32e8b6c93f1db4734bdef07c958d4c08bf6c4f7212ceab6d40ed1f3f2a581c8c930423a4e01b2993837d71935b911c18e7db77bf4a7ab6ad4bc5cfb2f59db338f7b5e3e2e4653af86cf40b19d2f9f6eda043677e69984544073910c07ca9507d7bf86f0ffe85242c8461358eea7e368f5d204bb3190d39c4da097437439dd5e5f839aa8257b4174f91b17eb6ab32667596e351bedb622ffe0635249826836903cefa0a73ebb010605ea3f64148f3a41816c54dcf60ad0081ece3865eb24e6201e45a6e6f75d19590b9a484e8faa85e3b7e69c529825328f44bdd02534122b62cebfe84950e3543ce87b16e783c3e87136b4655728afa2ab6b5749ef50eccfe6606a3ff29ada4b68b7959d3bcd37179d6b582e3700e744e5c76c16f42cfaaf985a0d289653191f815aaace0aae0cbda7b1dbb136c0288829949275659431f6c06d5196b221924a3ac0b9b36d6624c9e2f67e6190d823bd793df59cf38dcd99ce9ce46b345c46c3d5a90592edbe88d49d21ed8ff7beb8ba43554b9b5fb9a03b74bba04ca7c33898dda29b6824fbb0c07babb7c99f290458487c9851da69ab8490ae71664710ad825617a99993fdb6ee76dce355f60239d2fa61b0263545eec7a1a594f74f5f9d84145a36d877e48c9d119325c64e709c107cdbaccd08ca7ee8014e7b7057a6d8d589f8cc8abb97b4f0442d5f202f8ec031b8617fad7f880d6f2c324e6766178f71811ca80e1ec91d08d2429e1aadc4a0a42ee1c8330ab2c35f2c018f4acab0846895b8713b3e6debd0348ec7eb74c7883013070b3b1d8d4e06ae923ed2fb2a5b26718101fac2fb1f26c91b700d8626eb2d4ecda936ab888d1f41d77a064ab351bb81451658cd7bed91418966806187a566e68f7734c423c094552c759fab476c1bbbdd546d28277cb6bc8fbb23fd0ec26bd33095b05fe9a10869dd5c728e8e7b559783da53b50b84b99e34a21bc43f17658cdf02ffca48944f0502abeac9b17563fa2742c3705023e378010d9d0d39d149e1afe676d5fb2df67f08d15db830994760d7ffef5a49e4087229df78ba592a96472e774f36eae3e9541f6838be4ed4805bc5504880368b7e56d56916432e3f250a144723ec109d4195e9e1d3ea35fc65a504a5ed869a5d8427e9d64bc9e023dfeeca003af729868c0130b5559bb63f8691386e6b24070a648a282a7a33cd00e1a54020458f398ce6f23979f80f80c8038a0df85c613ca9d8d097979e5a2978ad72795c574a8d80a9a7c57c3f956c36eff6afe415512504a162b28cfd48cc4924944c46440992ef8933e46c19260bdbf0ed61d085fb52fc586104cfb9ec45a71c15d3d7bd6194ae2a4a089233b5366429e0ab89961b7ed217d58bd02d4fa60f112df9003f9ed6f2a6bb1c380ebcbad3c7ccde9d1378","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"4cdc9659b43228d5d7efed29fce7a58f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
