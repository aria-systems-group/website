<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1ad6c175713870e2b50cbc33670cc5ca52803fa136f4497aa4278a02a647baf475dc706104ededcc8d4cf36df21adeda248ad3c19c99ed58f99589ba4766269e772da77aa13057df5567ea20b2016d4a50e5bce8536f3127eb79bdb0b1e16fbd12b360a3f9b3e6c48b6d91555e24e0d20f89d1d7fd992b64c715245b6dbe90b40206b14d3c81effc8aa2da75dd4810df694037edaf9e6069bd48394b9163a6a1c7b955154db1465ec553a48725ce3a8246f2769501a9a28fdbf56d92aa93b0f5b649ee2ce4c6dbc27def347935f01cac1f66b4234a96b0f005831cbd88332131a0b8bbbaeab5c10efaab118c78e72b8bf8073dc1de01179408e51f150c8fc2f628df34eac2494970d162e66fb0d7d4b8b2c09a1a02ecf48a5cf18f21db7c6a9d034b427003f86481d87f00274d3ec354536dd7d2b80dc8f7b6da24fc357c433b63a6b96371e2bcdeb1bef974491d338de34bb81fb1a5edc76ea3298318999931563d8230953b006d544e6a715c80943cfd0b0a91f83ba7ddfbe3cef4160b1a41d0a243ec8151a16ed45e1c3cf5f586a98dc396d4339799eccf9a5df5e2ff160845059362d67711a554ba03669e2b6fae6018d00b85eed0a7276c535c8472e3a2308cada6ab4030b22ed44c12b7843e69c2971a30fa11aa32139729e835b12f52252ce77789359b8e50754717b67e9cff4d829a295c907d7808bb0c970afce651d5119187f23f7ac252a77506992d981500b2c732c8172fc979b4ddd013976c67e82c5c14402689ead6939402ac6a309df8529f7f3c8f274103261dbcc6af2c638d8b871e6359333025d00f6fa90afa42b6a2b05496d81025a89e3100588ea84ca8b9fd3b999c4b9535273e5fb6d30b41158d261ec654e12dcdc214406a942b0ba1a6b32bbf6eeb534526da5856d52333aebc0832eb91e7ebb4de9fdc75aa8dcf14e353e9fe29287b3c438db28cfdb717201b4423268e4c5ea39c1fa0b88c75444abbb78d974e3b8dbb4b3f582eb166e5321d2ccc0d87ff1468a8685c2bec0c3675e85b111bc446175d613b0cef79b0b25d67af2f5fc42f5d13f2a64cedd5dc3c75a698d49f326b002933231ac40291e5294d3639d64fec6ec5028a208378b1d27f08d3615bfea0d6112076354d8dfab7953b541d65764bb0a11a2f6301c6626cad0452f0bb2e050a201478f112168745f09103f6761179a47bc26c51d07f7ef5d0ae9c0c3adb814c949ffaba59babb7087e519f7c94b58b6481c0d4d1ed76798b67040ac32b6d73f2c041cd692fc49fc4cb51d9e7235dfc00b06fab49c868535c70bdd720dde3c17d9179c9d6f523349a30e3c02c17c5c3ddd8febdbabf276f9ac63b1eefeac12e4d27208fb106d5529af9784fc9fe1787a95eb05ffb2601cfb2d15f1e8765cb4c78b6e7462e096e3547beeca4e289c009ff95a7d54de70fe145c533dcfdc06f700aa0320b10162f1653be00e250296d77d17e89abb7e53fc65f9fb546d7bc3a8149d31b7f7c2ba09ab49e64dbdef472b01c5050b8a5728c9acf42cfdad0eb5ddbeb82490410826b27c4a64d9f45c48366ca0eb60e21c7ba20327d5c05cefb62039b8a2ef29a5226f71ab7a93d2524a7e526a3aa48cfb95c10f17055e672daf9fd7f09c878761c2854669ea87fda334d007d339dd5fe9ccad5142d91518c63cf13c54b1503eb01f89d5ab0b40ebab3ade3542e1ab0310ed99fb4e3f6410d331fa1db57925cae6b6cf2a590b619ead39bd38ae887388ff15b89797d91896900f950a727e21c771d6c7d2814ad9a945ed3ea8bf5a5865f79676461058547ba3cadfb04910bd9d6cf84316590c543a994197cc4af683fd86a4dbdd348aa602af35d69dfcaab10bb46e323fa1b70bd75890824de58b4f1a45e0e89d82be68223ec604d2531a20bee01742186836ec27020e9d1cbe74b10744ea61b81ee083cd2fb8489e1de311738d80f005cedebc244d9f9b27ea30045344f2428e0369805e7d025cf7145fc34934b3bec19d001c2c11eb154194796b371aab31c3311f71f545ecc7f18b10cfae5b4756ab1c1f4fa1175f3736dc95760766a45805672719af2e4d7f505bc761800b4523f4387c2be47adf3402b1b51ac188fd72eb9330abde48ee3897327a73abc5026a70136fbe8ce9f4eab6796b067699807cacb2af838b4001f747c4d9e2c96815a537191d1307da0d080e1949ad3963c767b47ac50fa2e4833080c9611ace1cb3eb983ad1d55387c9f2220919adbfa89d9d9cf241fbcc6d7d96105d56d42cfcc1c4c4e4f6f7341ff8a0582cb8a7b86ce777b0a1eb5a9e40c38122c5f626bae30ae2e84ea62e6a167e439c62891b819da0e8175a4d3971a44dd01261806448dfabeafa7f7dfe54e5d8317e8020d2222bedbce4b0b47da91887baeecf5273426ae40f4a125c088dd64d47b7d5b011991bc2808db73b6201d18109ac9ed2f5b92b25a978c35831b7b8e31e2c70a2fa8db9f07579e25d46d72c84c3b9e73cb473ed0db661c5081a18b147a643599a7570a2ddf23f78d1bd96cde0a81bf843b161ce503ca118c0522c47eab4c7030f106cb9b88e14d27ae65a286102774e5b2143e36366db56031ee3513eef88229fc2cbd0c1b2dc95ed843b5176f86bf1aaa4125a8f3aa981a5038aab6d347710a345aa9281686c7281b9d573b686e3391d7ea3974e4743ab5bd115d0bf386ed9bfa3b65292e47993951e0634740ed7273dba43ed206708b071362965df8a4b638a0da944ba644c296c1962ed13fe818193a8d3175e2855e46d4a3e41ff29daad1933269e2a8dfeaad4c12c5ae9bc1f4a1126b2f428afd74bae042be1212eaa7dd88a01ba910271d8d97fb1898a47e07fc293db6cb2d70c4fbfcbd0f0abbbe1387bfcd9efa247b0fadd630569a8f62ec6b7b321b226bfd4b62307eb6fea4e70b20ad450df462c81b905badbdadbb601057045ee71bd88d9237ececdf0b71bd9866ba9211e89c4c7bc34a0e5e872d151f6f6b5bcdfd45d5523ff627721e3b86c8233636c9dc886212685e984d345759643cd48bb90a88dd23808f373f3ec5f6df99029993e52370e6a2dd149231e1f060e31b83b98b053dfb08dcb850f51b90c218e0b656baf2df681c1096ce4c03af09abe4d4fc5bb4bbba75a33c137341ad9dff8e09d12125b2d0dde653a7a49799eb4a0cdc58b9a7f7c194435fb06d748975e6dbee03be251b5e3f5145a1ed62575e301d9c58e8bbab84a7a1f601525a1a3cea57b692e615e16a8e83a24d34c6c47956cd6a569a0f713c132b627cd1b36eb48c45b3a2d2b00f03ef6381066b130a4f637752eca119506f5eb6660d8b2cad3baa5273e3007190f23c377423c95ea7ea28d1e60b19bf4bcb13b0a713902511fecebb1b78562c3251e75034cc65a622f1cac7f5d1d73d32acd72589106d6da58b0f998dd5eab1d915ceb982cac165904eb1d23787c14366421a7d1a53c0a5f41c6394a54ff9dcd579c8004680f64dc45bb70588c42ffaa516ee0200c5b41f267766561be189243ffd90e9383e1aa5b44159b86fe8742639a048b6f6979e6e38987912ab82247086cfe1d34fbf59d8cc361a4bc6f83c29e4d8f126c666706b632c35eae3fc7efb7878b37d4759018443793581764b00a107a68bf4be325976415153dcd2f44be8f8ea855f4dae3a217a1a5cfb37f43d815e94838de6bf90c7c60ad0372e58e82f52ec0b98d37c4c461cd27969dbc6624ec5d9748791a6488ed9b164ec8fca1f2ddf255403552394a04da848627a534f6f8bbb1c31d48f5dac9c7987fc5603b0c9f9762b78c346b61679e2f0dabfa66f29f13d955e7138ebc9994d91db674a94a5aa3fe11f95254116f73d4062a7cfe71106ac9daabf3f742a609f8996a95d48137b4b47a21790d784b679ecb8e857931a501dcd62b73d2a8673091bc0698295d4fa4d6a8300dd124bfbf9cfd9d840f559fdd5711a234b95c3879bd184aee423fae04c34f846eced10270ed368340b3f3ac0b40a2a2c39d26009d669bb3064f58cb5336abfca2b09027f1d5e9f1bcd641e7247a99472014f39704a7aca3f58bf98beaa36aff547ab40d4b877504fb93b76e36ee469cacba4e8cbcf08efc34865c4877c1c781add83a17dae6fe9685400d74fa135a183d400937465b044bfd55570f8c4ef81b8e3552a79b12eca27703a20ad5d0b63024e2e511d50dc169850e7aeb818faabea5aab86cd48a17001acaa1643be42a6057b3dd99dbfd9f3697e887763cdcf0d879ce2dcc518acdcf08ff0b3ee2be52b37fe625c204a78fc899da96438663b643819eb29d69bfaad180b5cc5561f4840ee597397d35d6f9158d43fb80da524265af723d8746ef3cf437f69dafa27d160203cbbcda7c2a2eda438e0c9441b0ffd1a4490130dd7d5038b3e6dda0ad22e075ef61d76f4f64fa954af08d26a64d6ca5c33a78c70b4eb4af22c9727a9eb08cf86f3fbd830f76a939e0aaa1318d9b032b3cf95a2b46d001f1a02883e05990aea974722be8e2b7ab7cad831ff93fd86d711132d64f8555b393d0080fa2b03f67c7ed2f28a478aeaf770f47de5145de50f1bb5c45926b00e285709902c32718eaa13e6f10b154c2ae2ac53a0f24d7bafcc5997acb5352fae00934d633470963799815d547702d477ab696fffe0e05a64ae4762a22a4a3ceb2099a7c5c84fefa94a44d5e36c2c4bd9309200c0c4befe8907a1712ce430001e8211aa3305c5ec53a5b5229f6a4440f596387a4c5c98104a4b8a5eb2d4923dfc94bf569d987937d92ac7ee5c8c19378bf16ab339ab37daead5073441e40a92c94eaf637dd1ab265e212294b565c85d1968ce2794c6de6f6220e76e660ab2a7f30e1aa8d219417bc8bdfc45bad3f29c5eb945bbeb07d04ba40fc1b66f8aada3a5ca5e34f415c930b03318700afef196449def2ef00407553e59b6b8d2c699558876927b6ae3ad655a6a5c2cf62754e27997daa9454a7d1579c295fb3a2d9577321927fa618c798f22fdf85f3b3861496855e66d5f9d417acad5bf0e051434eb99bbb8d2e73b3c4d0fd06303d32671f08bc3d17802a50c4b5370ef512491f8737c82b228a9c1071355114b36a03610069bdb2a018c6aac6136b7d954b6e781be5653bdae5ecf4849860281f3d0268a5ab3147ea7f534e5d5120a16759357aa6a3dfa66c63fb13f80e0a11414fe3f38a643acdbb7a4e16d22705977c65589d682606c31c6f1cc23b1799dae99257b89e957dd208ad6c99ecb0943ec43c7a1302302358fbf0d0c8e3904c8239cc1a1824f31e2dbb2c00c807d325c2c41860120d171fc3122ebe9bb0fba266af3f2f1f9504e848d9d34d6cf8ed27f3264a6263f7e6b2cb692eb13bcb35019a18ab6566ccfda4f5fd5d69bcc4e86c3fe7be2608c450b6ebe286f7a53a76af5ac5232e305c93c4447cf8fc797fcdb05b516fda061e86acf5d5e83901f8a591de23530d9b5d338ba2ee0db0e9b1378371de8875a6933042505356a05eb0a2ec4da75e09071fd6e927d1755855f370849a40be1fb93958040921fa2c9005773d26f82d92d30a349268f4cef594c6944ddbe96c8f19984eb92c1f23e6ab7528aa114210873a5072c269be6c5ba3fec617adbc8fca414b307e1b0966ac853f79c41f37516b913e2d1aaa1818281b066c3145f249fe8a9f0e3f3b8b53cb01742b01f250c2849694bfcec2c38456c2a318f40a87bd1cd8a50616ec38ca83726ab643e0e35bcc3efaf6919f89b9fd1bb2f780537ad722aea9c2b6c473d9ff0f84d07a37d0309ac75f80bd98881ecc9840dfe9e213f04106941f22de8e7c1aa607c77e38c870a10a456988e280471aea600e55eda4064f1e4bde13a3df5ec88f53ab5477a45a1e715e1cc4f7c25a838960d622cb5e86b2d090f12af2a8d509bb51c7500d78fad40e7a48be556836c28fae129ea34ad8b02e36255b0abfbb437bea441cc1b9b5a0cf2b6b96d63034e0cc4cbb9a5545c914a3cf71bb2d2d0f0278a4dbd0bf399532d4263dd64fcb220def41c2216cdb2458ff3a34c3577abafe0d840d50e0ab16369ad6918c99bcfa028acbe834d0a8fd9d41c0fda40612f4792c12eb3944654569f9ac959d4f546e7239f58f6267179f970797ba063a1098081a94ebf4baaae9a9c5231390e746e38f0cc6a33ed37d16f7c27c149687b2f157f9d41f570fa8e4a92c87d2022c0a316156f640f5e4ece69cb5a65ad4d32f19676a2ab8215a8bca5fe951840a19b61d0ff1cef1ae21e4735835fd58c94912dde293507ae98d126dfa34ffdd8ff3bb49782035303649a06b1b13961288fb665eec8622f87b424357e07e81ed20900d74fc676ba5cf12a00cdad1def9b56e4d5af07b63f7009a1140b5d146ddcc69b4d4a496c5586c3571e844ed6e55cbe53b1af8dfe5f78d5ab7542edfd6a40927a391567d2460a3b698a2de6efbea6ee525f14601b70e453e1916461a84a9de6867e05e3b48373d8ce72dc5e4b4a4a0b6a94ac4cd1131c2dde7912957c48ad5de8353847d44b7441451b453b75d685fda9fcb9781cc343fb8e26af39bb5358b4f5a2447ff8305d455dc46a5f8f7aeb08c6b7ddb23c90c4ae9d7ee6519fecfa5a00d46506124eaa6087cde0eb3cd775af8fdc9049bfe37deeb6119d44366549da32c54cdb4adaadce499430b6ba9fca7439f939b75226ff139ad6937693f68b32d396e19d2ba423dbec100474cfed4e9038da5cf88b07a87ee16f35ac2db1f6a1aab950b666fdc09cfe90ffbc6db99ef0cf2ec6c39c50980ad7e7dc85ecb862596e1e577b58df8931774f44d1470c83363d1f9efe3bd5d6334bf256e6911d4cac691af470aca90c22f4b8964fec69dbfbe5a917a2cb871141df9c469aa25817aa36745c2c048009d376fbdbe1998a3fdfdf91d9b1b7484cba997627284febf7abbc5125a4a518d3d3139fe9c583f82f70fd787880d812461dcd14fdf66300b6daaf9be8f963a09f5b21cf37e92d633f0719b0516e7793fa9e484b4e0436fad059f174edf74ca5c57164ef54f8eff5cf7c84e6bb55de7ffc8e628e273cdf8138a1ed7c2e42be50bd7ce9d40ec5c750fe332725227c75c72bd1bc804f0d8f9435246d1b0fea967491a203079311562e2d593bdc30724819569165da16b4960236d2a2088cb93918e736a4f62edcafbec817fee809bb17eb4117f7dbd6fdb76d48779caf9beaca18aa41561b4558f8331023255564dd775bc0cc15ebb648c5ea3516e07ad9b5b7e95b9580e4d788a3b5e7930ee45305c69a5210408a82b5d1b07427c2199b9f6494f08b40d4c6ac48ddceac97cc918757d43f7df208d34822b4eb0bb0649587fc6bdc91699e3cf3caf37bad3f7397f4cece4a0c3158c643ca263ff21cdfcdfdd6a58394d3a64fdee8a089b729ea609c60fadd2090e09353322cc383f2200a4e9b31c69e7e51b7428d6899f99c6ef5322f03bea92f628be8f73a3173910ad5f0a9ac3734d3b704cdf9ca907448ba9f615ba5334ee18b14fc8335aa015d4d0b3e00d22a4f4df1dc3c443249c0caa2f0349bd2b85f378b67159242d47768ed82c49d33efd80bd24ccd6d02227f032a00b58afdf4649e271d33876a2d935b0c6d9e2a63cdfa55232b72725d8ad380db62b3cc1d2dccacd6718ef5941192e36e8aa30e98382428f2d1323fff5f14e8fd1c98c5dcd9e09af5b76475addf260edf70b54dddf677cc6ee3a68556748547b42ff01454b69be73e22ffa076c6e200426f18869037e54c08b57acd36629ebe6147fc7283586408648b5a3c142f81e8fdc43d3e3ad91bddef7ae47eb3e6e783282683f7a9a753da41406586e74b46f8b97b5e9e0498d97beb0bdf65e5ca0ecca6c0ed2dd28640f842743cc2f8f2dad9f407aa1dea51dcd006f132de6ae7cb7f5133601dbd3af3b0de6edfdfe8ff9dd379744405bbc758199892f6daa147ed5261bbcdecbe08c979210f0f0fb3d541ce153ec0ef358d375f5fe6e4a0db81ba80c10c0cd0a482779c1b7e3a4ac2d84fdd8d1f03b0a64de76398d07570ac5f4656474e13c94381ae3e4dcdfbc0da603dfe374429bf66ae1a62be6b5e2209653f3c72e776a69947b75ba9d27938c0f78b7d44cc279f897d112160a0130c25155dfa784b0e337d8749677cfb41be038aa7251d0d437ace7c125466b5109d85b44194bad0cf079ac5d36e5606875792b6c580a958c2dfd80cd02549792b079518cee3a7202bfa06441357e8fbc1f4569afa914668115cff41063f2628bbfc12f3ef4bd39b39aea6446ee562eea14d572854329417afc26f360fdb1309668e3e7d6522d0a6e1f9fc21533e9aa463a06bdb99dc8f0d04f7e899cca7d3a551430f3b8a438a21c4ab5c0d9ebe1b13ac139ed1ebcd2934e30f001a0d4d1968831975df7fcba879cf2344bc83ddcec844a3198e21657e294488084cf3becf0d1434de3dcaae5c22777f740d6999f489ce7910cb25a5507d0a4a95560f9f2431b6f1cc7870bbc0fa62fdd3a8cdbd9618be2dac8cf90d6655f1958f86d80e4e7d8472cb45b6f796c9fa8a071c899b190bc1af792a23459e9993ab9345ed9a20f072d941cca45fb0e03f11c858dcdfe2e1a7ffc0bebad7a09bcb116534b1af7f54ae12fcd533d13ae3e04bde7d2c8da1be3ef471f453e6beda7acd3b2da1f67ba5f820ebf18bea94dde97fd2c773c412715dce368827007470a7468fda346aef9ee7c5f899022db5187bec40153ce8a149f611ce8b36a8252f1583ee95021b78db94b60d4ba7984ec096f24e3a1f6a2ccf756b67ae929997cc982267942e7ea9c704fbb9ba8102f661e440448ba56cc561a9410e4fc3b9869d8ea1752ea105b8b669c984ad6f2cf5d066e594c9cae03e34f516dffe79246a1a59e69cd30b1ea7ab68cddea715da6d1627fa42ffe0d9054f3d47eea302fab3bc95f724d8c8bdf54408b8297d1a21317df3ee68a75237544fc9d052142ac107b10bcf564b7e384b3b24b94ec67ead329de0388e3f85cf3d0b59eef9869253f108bdec8b29058096ec5e15393cdab9b0da8a723fa44b43f96645505115a6cd9b00b1b0e150d067eb6f14fdd297c245ec070c50b37f4f55661cf983d35d00ca1228184663060f4e11e6481412d48cbc32838a416579b32a9f09b1bb6d77dcadaa8d5ad20fe892c8357bfb1214a96909a6e4942573c8981d639e8226d76bdbde99d1037ceafce2aea8c5e09f41adce3b2f980a69d5e5c34b48de243480816f4217c0d2093ee3f732de9bb80191c3529ace29b2f8ad5b6606b4015889cec2e799a95eec132810fb0ea6e8c0f8135f95859ef001c608874e44bd79faeb18bb669a393efcb7928a8a4455e46d925934034824a9d138308b0b17ba8aa5c604452994597e0b86cbaa4d17c02c3e9cd1206fc90be4b408576881ad99031e6eb5ea71df596ea864350c9a4e577f4d6978937510bb1bc47669f43f37182ef57903ba40bf7e688a7174e5f5eadefc02b8728c79d489e082a722a05e2b7864d922e45331a7aff6ed5a2f563702e403305e5cbef9220fe1e436a9e8a4c7c9e44af1a08b636bfff77381cf6ac755312cc0734e72e7d16980f5b16312963c20ce9df62e4140337e4166478623ed9c3fbfd93e70fab2dd5d825afe929038beab6bc0ae07835fcef942e67c9da745bf2be0bc83ac4d4761450b1a47460583bfbdb2859d7934db116b056133ed20191b298f80936825bb6f6db2f88416ae825c10abbcc279fb7c7f107bbd452f9c3dbd58da995ed128ee3a924a9bf50e7abd1d307d21eb3e1e5ae07b2f1772febc230aed6039800982af8ab33e59d2b0119d6bc7a96b39d1c16a72d5ba5a470df50fb4e15d3a56a6dc33dc4f344d432078297b885f24df292abd82cdb3888103594e3550c6c377ef0c2e7f1f90c0c351788a904bfe8825951473b0e783271a172b52075ab9c046d79e0cdb48d55c924e6dbe201e4676847a70f07595337759412af6f3b572c73291941f940decda947bef9257f75e41a7c627f1b0d520055068bf1adda7f43c225b518e4b7b03f7896c35489493c1f439c90f0b78a8bcaa8faedbf32b6a8dd91395070e18d0437af0e3cae4d5ffa15c71f739d0c782fea9c47a23bf5778c8d8e52b3f1a7877e3ef8b673bf971bcac6847cd692cbf779ab5eef517eb74fa58ca6e7a2f30a822dc482b976c39b4aaafb5a9f2a1d2ed82da9b2077f477df8f3019f75223af92774de0bf7a1b37cd30cfdba76323138d70224edff4fb654c7cbf8d7bb10195ad2eaa6232243ea9eaf9c0bfd28b3ee28ccf2335ed5dcd6fe81b7c0998868e57d32b4730ef3868644a64569d515496d2af8ebd7a1304dc1e3829829f545c83f2f7857c2ce9a2c6023f6c78b4278c1a9f8f1ed6e721722652895313dd0a2a81137afb5e99cf58d6f1bdc03783f0478a77e594fce1115c249748e58e56f0d1d1bd10e0381c22a3c26c3d7c1aa6faaae028f2b32a21ccb117835dc25218fda1bb9022458d93d529c68f1650d1fc1f960ffa4d123ba28696afb9c07b1b4e978f8b5c079ba781126d37e0b01c1c1f5856b2eace3212211a205e04becf1fc1cb506ed4770b77b53b87c8aabf538b93baadd50d6129aa41f2f09d9ac65f3fa77d6ec69dc9ea2489f5758020e3705f59328df8d20266dd2da35a0fa94699fb135967faed9df59958c55efc51e1ca1bf76c056ccac6aca6eb86bfc72dc13891f919aaac469c0d9316ab590f1be2832ba376d8c40b79a0c3001258fb3c8422b128404f3d878a244c6d6067a4405e2a166efe2a846665553837fe868450ac752520300e938f3b532bcaa03d395b5db48c30e8603d4ee412a7f431d036a4c65ee0afe9aafe11e9fe0d825c4d184867f6eb03ea39fe06ee1f5f7fc21ea86246c4dd65d59bfd7fa7cd287c2a8b73988b64a8b06ec2df6298e64129bf0b9968900d93f34337277ac3ae4e57f30671fc4e30600ec5c107e4d331f82c27a3c1c8490624eb4d5413ed3541ee3c50071beb75a11eb2e0ca4a54e16dcc425386c89fae5711160ffa9aba21e116c48f058d43769855477a7977b7130f5f1e50c5f716e016a7b3f0c9542e0c37ee0266b4e9795044ff0c41545512f96993b65b23b4228fcb9ab5a6d6adf5f740bf492572aa8530f3a3897a37b4767584915d4cd0e8376e1442d5c3cc4d1cff96fabf92e608923d259bf099ebefa68e056ae9d8ba86b544db08892683500a0e4c3cf7bc13f855081929986adf2012ad1e7bf559b5cccb19c88a973832a8ae1f5516371ea5b385ef2613329ae91b419dbad068cd087536ed03b8258e34d87267216eb7f363acc7257e21260f54805b84cbe83350e3a8420dc36024e8e5e64e89ba93d2b60554c29b785de4df03edb845ee87d425d3bfd84f5156e5d297975ca47c7c0c72a3463664c8b42f90d0f9a1721e74ae1dbd8ea0a8a4eb826318c77ca59c74919fb68336609586e921880f948f071051cb7aa9bbaf4fe4cee251d0fa03fc722467aa4c9e0692856a236062c8296fa6df84f412f4e42276ef9c1faa6583881563f85dc3290852d47a80f433c3e1937049fe2036ca37d5aee93d3a0febce4ec005b81e43d2d71c178aec21bf41404b1d304e7c154fb01ced3df3cc3fc3eba287c0ff06e501a13344fa02e5c7aecab373b187d1f9daccadb11904fd85c827f52411cba25311d329e56347b5f03d64dbdea8b33e5b92c895f89806524ceb4715449cde0db148fda909bbaa91ddc6cfd661ab297ce2ab5db01c8272941f031140f429bb71c39c619266e181148fcc1f69714967660c25a48652168f7e1e574f26631f0a8d37e9ae275e5b0dc7b235b6564e9b142ef0effdceb992b094b64e7c88a8e96eb79d08b52a8b749ef6b47ebfd542bb67eee66ce38a491be9c3dc666f71f63ea07a4cc750b322d6cb0cd0f5a3f1b7e464622d998603cd46e5ba8c207f17d8788b614ff7e403a0c09b75deb06d5e96656ef376adfe41301f1f2f5b0aacb651b476f177e762003eaf293d6a2b2b2ad0bd88017c88b56f83447b82efff3be55ec3399af523befa1599a7a393682dd690749cdb588fd710c03fda925f87313311df05002e59692257156a1699be4844c0bb7836864502b8d12f58a029d0bca9dac856f14d4011d1a408e0f9c454e2d211bba0b380de4ddafc4ce8a89d1c286d84eb53adb50d54122aa635ecb9f85d86ef030ff45cefc8a92c652830207527c6c16e0e9232be17ffb12d81346bc53e8ba8292287ff44c6a4ea1b8f1015bc70b7d42b1b45185f579d49af7126dbaaf4f4afc88b25c860341d5a26e9a0c2539b9bec22c8256512167830eaaa77d1794ee354523cfccda15274bc9933e939e06b96e41bfbbcc9a3a27a1ece15838fedb269cbc5ba7f7e2ccf961457f342359d01b8b10814770d8d38a3218a94061c81f19c0bf2423ea3f21767163152127349814b15e87658e09d2241eb6f216f222dd9debd58a90b618b255f5416c3aeb64f87987b798cac85d3bc2b497be6946fa9c2d09c5da76d14c8b3f8b42f244682756410cfee80a99c3f090a4c1095eea8ad4d0f47f3fe61d4705126a73b7a4f9ea43845bd957cac95cccd3a6492b6739bbd37139e3465613d061fa62c5c0634be8846a88df9c35b165c8aef83348dbb4f85015432269556e4cbc7c19b188e9fc09190a2888da074c816e8d9937592c75492cdfdd9822d297cebb5c527e3f7dac3f30028eccf53bf7de8df58bec81fad4ac382803c82aedab7d57192dec2e8cf8256a1e0c17eaa6f9902463f6357594bf9af1beca268904b3d6dfa8fba73483d2928e841f90c95cfc9e26b0801a92134f139257a0eb4c604f3cb5e341869a31a5a9f126a7b6f6335717ce285c28449479fd05963006cfaa073fbd0a4ea8fd9be3eef7e0526cbe396c31410edc7ecb024956ed9cededf654c119c6a56d08d5e6fd632738f014e478ef161180db34e2e638aca285ff0a74687e33cf6d7b9e04d274a59d5e155d46308250d6d435d571d5d31db28516743af4aaf07b7336796f58a0336748193e070ef1d1e250b7ed09eb4d7599f400830112b80d9d7b7026ffb0f50f38eddcf926e132635a820df72251ff91a9787d4c2719ef00e585bdd3ad621f60ed547f5aa375538f5a0f35e82d102c13a624c25ba65a0a4f4b3bf32f1839e1984f8d38a6a597668d45116174c555057a0c483c017ab27400ededc9340fd998694292b830f101da977ad27980099ba675c2ee1dcb24db4a91e74e62f25c407487f7615c0f82b84d46af7299d16ab4cae63a6f94a1f647e6acbf974718b93f21bfc4ec540918b35789bea2b4129c6f259c97a645983d26873084ede3452f35688531c568eaad74331033675d9f890b7720b977c86f5d6bca244511f7bda9bcdc3ff759071fb9029b4b3ba179c334043ac01f3b16ff19d0c962ddfffd406b5c0190b259664a224ff0c7ec39f8316a3ea332ce6c290ce634c481d4fce9178d867f76b0f90766eaa13559e325b7a1db955a1f982d01b3c57ce5f6ce5bcd7665802f539a039638736812e2a8e0184cf940ee0e206473c22dfdb0c50db99ed6d9a56e6b5a86ca4ded1c554ab507ee5414d954e1903a8b50f24237208c6a8e4190e805ae99352f23dce0f7e6a682b9778b9540cf90ffa44f558ff6187d072ac9d27d7ca538e3b729bcc281fadf730f0fa29f31456cb44b4ff3ade5a0358da7de34a50e62620dbcbeb48fdfdbae0a1851ec7e4e081b24947318b9cebce9ddfb41aae603771372ef089341a9ed854cc45d69b587444bac4f435c451a1458864a0dc76336aba425a1f2d360f835d680b57454ad2623f337eb65523b54de61328f1c10a01e288fd4e3bad3639ec3f02ef4719dca5069e5e42ea0238ebb81894a4deddea69d7635f05a7f4d016573ee9e9da880e9c6bcbe3e0f8243ff854ca59d8f54f6155b12feec67fc3856556b9ea668eba5cca9f91c752db86bf93827282b86d66d10554cb31c17c948dacabda51393f238469e113e86556c5a76a562edfa47bf334b1b8b1993dcd5a022a0bf023a2261a8e1134fdf5a66e7a7075a23ecd8bb419fc91e24f2d721150b1ee146c1d2475922f9bb9f1172d51872161135d97bf52d11e98910e62aada0801463fdd01cb486b5afe9d0ce5aa4c4fb8261c675d82145aab702be7aa3fab0316f14b461977281028834092162ea5a3475fcd9bca08f7449e83e12163167b2bcb68288c132d407a6be39b3a1861d3e3fbeeb367d53c14d031b372a5dfe364be90916502e723c1ac5a13ece28ddd74ea322ab7117fac0b77278127cb11b7b18445c06cf1ec5f418a4eaafd00364fd3402cd8a6f931ecddcc085dfb30a4a358a5f6512d165b79f82766fb93f002229823e60b562bb24534da058d910c6fc0e384cd02eab65bc9f4861b8813c0d4fe3691ea7e7e0b4ef389d2e11a3a8795631bb73943fca28f84c324e50ef569bf97417a620183edccb5122c700a3c731f6b4123ab85876c91430f2d565bce38a90deef0c38cd14eb1e8643e2e61306031edb55eaa6c675e69ae2f27c89f1c5842b5b05e368133208af71abb6e85ed6e8b6c9332f58a5bde237f5f9e33a0d7df0a9821d43f9ab5fbd12e1c80ef9ea021d4264e6401863928f0a034a4d9a07da65c9e50b6950de4fc66545b9a1f763063da78a1db611dc0a0b2d7237e49866ae598c1121b7ca5f9bf0063a4ffd2b6e90470f1e77009042e5645039700e6d0bf88dc7228694a59d14c3c903e2aae1d32ec8722eeb9f79717f9d95d455c4fe6f60e8f37b5c6b92cea6c3a9ae0ffece34210b1c2001767a3da83316afe3d1de534574a508aa1ef10a271c7c2af7ecb27bee2f94b6d472c2b107505c4ab65ea959ed94f21ad0277e85743fd9bb24b4e103ba0e2a1db5652f4c12cc4d6bf0480d3e321aac462852929c7f89337af79ca54cab5e11c40b1828fa2ee5a58e80d416a85ab89d354c85cbb67d5c56d1346038ebf0c55737ce9cbbba462a2bd449cbb57b0057666b7157c3afdf57383dbdd7b86f03fdb9c6f9ffc1af88a3fe771b6163f7675fab6f36ef63b3f4ee542daeb86df674cb84755deed52b273ebdefe2f474022e8650ac1670a60359f30bdf63a395e34957c6923b2633e8e827140a55d062102b472cd34045a820f34d1bf82f895e5f7211f710a47820be99ed97ce36462c3055faf508300741dd95b4cf5b16851a071a10d8e88726555126794cc281d5bcb0b6a6f72f10439d73ea8c7d0ff86480813331a6f40a9e0056c0f0192d4980ff5bafbd48b1ac050411b5290a07f9403dfdc28aa56fa07d68bff6e98860a5aa3d23ceb3d208deb718e550c241bcee050283dd4771e87a7dddc735416637ee90c013e5223bda7bba6c17991f3001e522a6c50d9a6fa06c2e46f8811a1222cdd2bd936aa24c84708fd8316e06fd8d4881cdce409242572fcd45125b38b7629b4ccc577cc7bd2bf8c5bc96f109189dfb28f0017f6c118be647ed2d415e625cb4023c8236e13517e85fd6032779582c35af9ddaf0f7ca16d95b1ba64a95a971b5d7fed01cf1ec44aa9e9779cb6d1b362a9ac1497412edb30f6af0795a392c7030efbf95db40695206410cfc9258fc0af6e90271b0413f3c455b15829f3473300bcc19e23bfea5f0e8285e26fff16c2c38daab89b6619e6c3c0dc8ef24d19db2b09aa85a0360ab76a79005e9c04394fefdb2506c76ecd8d85694856a19d1ca9cce57d7fda3e4d275ca2db089a4c0b2fe77c7b1b7a98f30aebe60e97c2b838a1d7dda48f3a4f0c6dc8544264fef61b1538c7cdabb24f8106b2a99cf58a4dedcf1541ffbdc7b3bc20295d3a0f7c956a05b99a5c03901d844d6788a0c7efe62a66b2270c96fdf66b113160e3953ccbdb054a155482884abbd419784e97650b24620a9e000cc9aaf9a1c978453e7a7b142484607dba70d4e4d18323e9981068434262a8834cb046e40398429dcf7bcd98f3baf1ac8eaea88da583aaf17d94676350aece878668fdee291d7e041340690040e708a85331758c86ec4e2dbd27c42fd987028b9b38f7b5c08b4bd01f09184a00e81470abb7d6f0ffb64414fbc9298a505988c91eaacee4463fd12a193f06534442ab2a39f6c4490ecf6bf6fa8d2fe60c28df058c1588305b883258ed413c67dcb7e6f46a6be1ca0a424fbf21bf5f7558d44c0eda904bed0df1a6e11a34f0c73d9a382f7ce130c274ce361a7f492d99a1cdc1493022fd0487439d1b9b9d3cc138baea218bdaf537abb52e64a674812b35cc4a86b44d87b55a7b9f75f5dd67a66b8b376c910d3099d1f17994836f5159a2de3efdc92fdf674af8adfc802fde8fa7ace2423d0cea34eb94801a87922b85f488d0cd2e42380d315f092ea8db238782559a09f2e5b25d57be3b871148d55b12bb13cfcbb28278c3bd82a8491e628f2eb6a4ad1ec8e511c22ada41d7c3367d4265fb42a2fb0194d12db678c447f254374fe17b2d9a3d501be66b3c99e37af2b24782a849060a7649263c8fe61a2cd9baf4caf2718cf26f87de437dd0a207c4c083bf7e7317866bb2621d579716113f3c7e482fa7c97571da3d76bb44d0ac04048f40b312bc2d95f3bdfb2371022395a302f2904045aca04a5a3369c9fd24bc456f5ff99258055e3a084afd58f5e47e60a1fca4aeaa0e5b00fa00880bdab4dc060624611e99d1ff24950bcf93bb2701ee94e26080a4c265033f581f06c7dfb977325586fae42013bd480cb73bc91818bb56644fee0d49ecee97be3416e4ee7ed7105576ee8fb1ae0fcd816e525132eef252ae472a8268fe52fbae00c0128c81336d4a7bc0e814c760b6403da01eccf3ab0d50f904b5d65e5ffa0cbe7751fd2813e02063860431563e95787174163fb0661024ceda5bd693bfe1b14fc5870f01124d11c6e0bf81b2109d7511e2ac1ada2caeff4043bfe9a45237c69905686f9a456ef99c71531c9e22dfb904ab5e8b50e0592a2d2e9b17735f0061096337b4f53eb588767198d07dd7b48ef7bb23caab03ab92787b60695f96cbe2f0f5aa8aa60756d64a66fc4010916217ea89063112adcd15f62270447da54e69da145eca1ce69f9292f3161d053c3cc6ae5eb342fbc55dfe0a214bfb271a8aee44fbfaa618a58ce42cd0567cf06193f9fd6a4c841ae4f7c8a9aa549a917674e9360430a262a5f1607ab30538a6c018f82f75c4f084eeca18755e1e0e725d5207d9cf35ce65e7ad2ab7ff7b4e44e24ddfb2ce2e3f7a16cb15a0b4a3107222626e38f8452c113ef8d4f91d79fdf335799aff5dcb14cef9f11f87a8176c474be04145482cdd1e127b08cc4d7183d6c1148b05d82f5956901bf7c59981ca3e351864043fd7333fdafff64f120d19c9ca515c863c399a2703f14318d3060d84c1cc9b4665d5ab15dae981e40270a6c6c20b74340095e11a8af952c65c6dccc587997507e46a17d09ef65bc2276c97ffdb6643bb9381764bfceebd75b4b9ce6d58dcfed1872ffe12e716791ce44338df37b18ae801a9d814edd951dc922c88265fb6a95ef7602b1b2820f76074cbd9623f0fd443ecd0d671360e17afcaaf7c47f4e9b3a0aa56ec2182ab6dd2ebe3b48dff06ca11363c15faafe944a6582ee4a1061dedd8b3cda1e9ed6dc9fec7c8a8641cb739f3039078212a67efb5578484cd406e49004698d1e6fe130e7f0e6629294aa4784a63ab589b0ab20875f4ef252583bb070f077ea85fb0328709ea31ad7b23f9fadd7e3f02817789977e9fef2eab19501d6de103864993a6925fd43b03503d5285b51c53a26711583859662221efd3f80ae48d6f9bab8f207f6c59fcb42ca08204f853e8a52dce83e0dcd91ffa2c38c47fb3d31605470bb165b5a2844d32560c3d92e9ab70f5125ccf40e0d1895daff57c1d6d363de68e86012b29d9f78f5b359200777faa83f2b4d101f7488dc38ce905461d92ee44455b057bd4499f29b141561815ff1640a0f8a7bc159689fd2ce717c7df0011bbbc816f00197061291b14c338ab8206db77da68015c77cc93a480d648601eb7bf336e3f52009490de03351e82a8d680493d1af5f5bd32218fce002a12f237dc252e633438629472bd4c4c0d0274e75faa44b703a5299e6f75afa1da6cf0060db981386545d881b0b0bb490806486c1045bde2f42c6fe56772b79ed5049186bd73eb1faaafd5ccfc90ed862a2fb7a187eff60a29cd092def41071aaa896052a51a9db723d1579bfa1474c43076e6eb1d277f33355799e889a5f841b057ed6a72c583456b49a53b45332711760e164b1c6d7403a595e7337433f98ed20dba61169cd2c19db7a98c5d2b0ed4b6eb4fc91784fcaae7607e214715ce298a76130ca070e6a1ecf257e3d05a84ca0fdcbd485d4eb424e9754bc90c3f99b82e5e5396e3818a83fd53518e7947873eac27c3c96d4c4963d51eb2292e6076aac916df96fc89042465336198a11cfaa53778d2a899065c48dea870cf91fe0f880e012692cbcc1644df0e9f622348113c83b15592793d1806675a39c1a258e1afcfb4d65ede358258d78560eb4d1bcf43852ed5ecaa91285f717cc6236ed5197f2b18dde2b168b032b8bab583be08045cca25a0f9cda911064d4ab3c4d3363a66eddb93cb3620a841f70f57648de029a76fd3b5ebe2b574d72dd2a66e940ab8066956b539eedbaee4a7a84a6c46b431041239941b47256d1b9b845c6547668a7c1f57621a44c5de8cc748cdf21886bee5aeaf4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"57f83859e72c945bd4fd523963e51165"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
