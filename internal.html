<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5db4cefabbdd9a36716eb4d59c39f0752f098e80ad7cb3135c618cc045bbf4a62fc566fbeccc6e7c30b8a3bc9a58e9d387162fdeb37253957971550426490820494fb932d5c420c4e0694736e56ae14efb026719a934c0cceb840eb3d8e01b95c6563374454bc35d56cad6016f60bb80a440fa77b8eb3ef49006612d4fa4fc08ad02043423bac9275edf3cf8878cb516ee113ece559d74dd4b40832cb3b553e7b33ebe68206c0263a573488d3bc7b7033911912a48341d9abcc1c80777440805802fcca60584ba8bf380ab34346c52f5730785c0f3c9a00cac3dc0a78eef2930c45fb6448e75ea6ae2e026373c409fa14eb4e45c0fe5cc1f6a8f388311c5d56898e5e8df840dda6c082f6b15d4b5d743e5d073108ea6b98f965a8eded06a64ca77d78d5629506d7cfa03d42f7dc0448711d27e3019e20ef3e96ab4df4bb00dfc7319c20ca20125cb7389094c641ebdd93c9bc0ff9988c707d1b78476f4402ae4aaa3127a26c4a4fec77e4a3d6eba2aa63bf0ce04e32ac8b05ccfee0c52e00ed99b9460eb59dd4d6c4bd1ca90198034398455fc98e5641a95f63e1a887bd0d0e15a3f735534d1b770b12ae505b484fcbc0d0a141e9722437421771c642b98e4aec9aecaa5b749abd5bfaabe925d4cbc511e0f4f91ff69d5e94e219cf8f8411961b7f2d16e9f4a5ca4196600b3e730fc25d242cb75b30df4d369779fdea030d94f7bcc50ff4a0f2198711cdab69c3eddcc648812235cf5b760d7ce2db101f2ea92ae0b67ef70b6424ad3563e7e91ea9b5290e52b29510ab10d9f7eff859c46980be0268cf57c4bef7505779de6f9a7208487d9cf4fa11b11285fbf82a9d7ced173e5b780946e05b4841e59a673442f33fecab3aabc0d0c99cada4a36ab99a1172bbd254c36c1b10053f1e721ee262f9a6e7f7fc03f7e80cdefb8c608c5e0da14af9f530351e266d7670293d52cae7623f305ec1c8e0971a7184585b2636ac0556b8bc32c102458fcd171d59bfba6e77e84e7c58543a787bbe6a23100eea3755a3ab118d50bfa44f796b8e3592f99e2bdca605da19721e5b132978c415d9f16e8395d0c5b22b2f6fc42e35750d4f8ebfced8ca6072fdb7c2e644e65bf82252611b9f111f629c5ed49a66548c6df5caa01580f0e7f4d5e6dbe19369c76f8cb4a4d035f48dc69d9da2846d822cb9b42fc3018cbc7fd199d3f1afa43a3405167b486ce61a04ac117d1c4c27be4375b524ab6fa90c7d55506fa18961b7e609ce9fd85ff537e4967f99d897df66bcb8ee86db662562a4c3dc86014f6ff8cbd47d50847336561232f0636eff869b776e6bbdca51de63649ddd11fba58b1139e5856f69373af984f4c99bd3ef4c12fa6bc2b0beb31fdc7ed104543700e724cd89a2ee000f6fea7ed4a3f33d641814a9bb323615c2ee29d89f18b1250142ae05f0ab84a7a1c147f13ac6b40f0b9a0a5799092fb2af8e7e8218d6a2035322046968b4996734fe241fab3695c0be58afaca660c660cca3258db533ae894a487107d2507601e02f44262996fcac290c185f8c53f40b634ce586600db83b454c968af3a4232e18a3c9daa544057b8e4a362549d78c1f0b9d11677a86d476eb87c4a23d9b835739579ddd1a603177a2316aec06ee31870722edcd5c76a2a12b2fedbb93ef3ed004e89a96fa8490a23b0a20a29e0b910b1266d8ebac46ccee973f1d3f6832c1eae24af27e582480fc867a1df8168c40aca33c6c76adf50e0ce41f77dd7b93edb40e486ef7f490af7fffa1c070116c70caa026ac297c315492f2ab1d50207e366878f54b625b790e42bbb92e985dc22366c73ba11c90d33f57d46aefb306c58e404a3023cf6e9deffb8f5593c2dd34336affe087bdea3debc07bc6be8627bad3ef20bb49810d8ab8b52b6f2026eced4892762664ea86757538316a13554b7b20ee865c521cbe894b6bd75dafb02b02a25a463820853aebd517611cb46bb31518739617834132f7e923a4318f34fd6d0e31daf424d7a114789a9e6523d81f48b2b9736f739cad6b23d345850591e0041e38afbce527183849479caad853720adfbdebfa04907b5559a3052b8052b816f263d5ed2b9421186f39f28c25c0778c6ebe949a1e5f5b0e1a53d32ab979d484116417734df776ada47aed3e471ba5987d46781f526e7cd29da790e587026f2334f5559800fc8788f794e651ba734064a3f384ee51461a99d183364882526abf9d1482243c26e0c9acbffc00bb14784c93b4ead5df243c9cbac3072fd5bbe2c50f863f6b61fc629d887680a115ebf36f0222aaaac90678fe2d37e6559a64ab41bf2b6960c3b36cffbb6fb7dea37b6e646256a865aba2e99d31a30b3d80603cc189d53ea447654e11ff92471152ef66a459df737d3c25d4812fa155f4dec065f8a0dcd62557da3d843d6cb7ddfdb3623710bde4fd88594ab57c1bab43e09dd120f905b947c1c4ce92ebee7476cd3df43f094c7f0213277d24e1acef1120cd74c3635706f14e5352034ef667a0b67d4ad9dbc5f1768981bfb2bb13f8c617bfcf62f88e5c9188ee975a6f338226f36159dda8180b724d3e6b476252dfd71d4c8829bdf157e42e76616fe8144cf1a5d8dcd06be5db97202c1b5edcb8801320de232ebbb35056a381f6734ceb26e222546b33bd6dd8f52d7ca451fa1e58212c49234adfb30fd5216bb553355b5a66a78179ed8ff2cbb7f44009f8647d9a71f807ff176c68291ebb401052c5b2891e7daf4fcc5083971e3ad9504daa81e1d4a36315e2e57f8c991351766605086de4ae64358fcf45621588516d72f99498a94b3641de23ff48d7cf45d8ca3afa95a9ef077ca3f34121ead55cf274aba65dc4445049ed06e2cf8f1e1ae6f45cda9f751427984b7876e7c4cef34b2bf3a3fcb6dc24a7dd3f5255bf17820c0cf688850ee5b07319635cfe0cf5c0f005312550dc1d3e7d1a7109e3477e6bd51cc503c9145b4062868c74ffff2d01023a09a2b1658c075f19f8df06bc5a4eaa4c70de628ebba9c20f466da0b53fc972479cb2d90bb7873bfcbe4bd745c69af7ddc5b52c198fe7325b0243189348efaf00343f1ea94c7d4ebe77df5e11d5b7239c5d7b727621c0b404670947a546a61bdd5028a65384c697879892ee6e3def64a14962814e5016785ce255e1357954fb50987c1ea04e2d7e195280af4da1d20662c7e7490227febeb0c2df3e94bb2910ad05e113d9015f79e3c515032c73452f0a46ae646f66ca5cef9c8abe3d13ed58961cbd23ef02b625831fabbc998a3cc09bb60dac9cee291cf07f5ec0fcb833e0a006ac1f038b126922767dfafeddba81bf6a1200a688ec97e32a823f4a47bfb3549987365a7292c06b1a537f4817ff6c3e72287cfe114a7fb1037d14f41a14920a7409c5bbb1e11e1b0f1f58561a2bf56c9e350b9b21d3e8532cfc89777ae69fc5a8f8fad2883110c0c71350340dafb8b1db067f0c2f24ae66a0717c89b21cf8c49404af01d35895d261df400d786094875c5b265f6554f89e2f0ed141c36625efec483f79dde4867c3532b4ae56ffa68e39d72b6bd0ea93963b19189312b250b030571f20d3c091d85a5a6c0b1150a1e96ebcdbce82ed9f99525eda9f8f10661e7de7ef0a3b4b78cf8cd6a0e9aca88453d0f0f352d882785836a6b307fd42f703395a398f9bd3ac31968d2c37beadb3c13fa3840cc9be635cee720a0aa97e8db7f18a544f39e836a56e8e7849bc42ab4569ee8f14fc2e01a7a19baf4bca5e598759ba1a461fb687cd3485bdd64b53f16bea606bdb56f9c51272afa5141b1237422f86b858f012a8a5a7abdaff22808732d2a63433917c36d4c630a96e3c897fc21b10fe6f7d0fe020df6dd151dd1663f50ce58bd79def442bea485337cbdd830b5c16a2bdb44e3a2cf6b1317b8952b810599cddb042a8d0d3b719c0107af3476b0adecd2d8d32a88f74e86097c65cedcf05ed26fa9405d6429652a48a2d9105e31abdad3d920484f8ee06e0d58c1e1806e926b22ce808f98675978e2f1fd2f6345c3bb709b8293bac9b82e6252976fdd64c96c70b63301534ec235dfcd70ade87ca58396b5f186517ae2f2988c1f014f0d8a38e1729a72134c44136c866b55bd9afbc2409b6f3132aeb0432a28716f5a3c09049e5ba68ef74276bf4573fc62bba1ba1f9774f60ba02e25f09a86f977a0bc46e5cdce4453c0d3739fe415fb84bb55ba7d2d09acbec0f81423d75c322041a042afa442410ea7113f7c6e6e090100e125f8bf63e6a8c1b3f7e801e293d73753075a3a28c85cbeb8712b6136b44105e9925a6aad222a2dc72dd4f0de7c9da665a2880e22f981c2cad59d607b238282aac78783e22221fa3210180f201bc04b66196c3eec1e1ea2b8467233e35e2ecd6d965ba991fca2f6b1529f0387a34901d07d96bc8e68a49a746d5e6340750fd417f34bce012907232bf83a9e6bb60057a2045722456deb00f5b5373c06c68fdfc9e90d0f3d24b88cafcabe1765e6ebb540b485b00f44ec37979b5948b7484d41a6a7a06c3ad91af13d174f46fed3438e18d4068e09b6a30f9c4418b1bb6eb0e5ef73414244d45c31b40ca2798f2e6479dfa2ed8ea3ab1925afec540549dfd854651de9bcb164b9a8268cd1789f0164db16e2c4622443cc6242da49f570b6fc63dde7b7c98403bf7aa5edacc126ce1d0a65f5de8e14de4d7777b84af58ddd7f6a4b973a39b81efba2ffadc7a32291bcc851b6d973eccc57e74c7cfa23750880fb37f85b2f28c488ea3b8520fbcc939d508e3fac125ddbebbf515724d2c8989b10cc65fe7ea11854176826bb72ac290d0e8e9112950f43368ddaa521bbe650410ae30e7e426d3ae6172f462141fa85264205ad97d231caed85c24458a60b1cc26948e1a08d584cdcafd4f6d8d6c305c35587855882bbba9b8aba2c25cd8278f189b21d742797ec1c0eecfc6175d6507202eb7b81b8f0bf1ddb87e3391d8e6bdef15bc779045d81e1b2cc9a0a2fc1d1caf4c699327bddd816411337149d88cba9d61a354b27e13f624ddf47d86d7b0b99fb7aeac15837681c2294d2c7375e8357a1651101d942c1b9c5e81a2aa48b788db9e621e23e9092fb3435e282f5c4186b26a15347239355aa49d018e352a1a8483da045832c45b8d987dc0ff7f01127106ba2dbd4355d861427aaeecd8bd3f466bee287fbd7e6af4338b9484432a8a70a2642c8106279aedb74bb75aede05e1dbfbb2988f8cc141e8d5c8474a16b67d6e31a8228d928e5e7dc60e4a3c1405e512e6ec88fe5542fa5a71ac339e4407e0039667ba20e4f86bc19327b51f325bd81db4eece6401b29937e733696a448baca6b6707f87e892f341598b5fc6d82741d3fd697c416f33f17fedf7f8202f1657bb4a775d316ec88971d85d9b22f724a5bc177f8b3f4723d4334506619ee91848c79a2a9ad22affae769e239ac57b8bc11e0882e2ee6383600a3a94f065b8a5ef645a4acea5579f18da72a3b2d271960832aa29a4b6df81fb9dd8febb8e9d1dee49ee17fbd9238c11cde437d78d734d9ab4f0df1a98b3cccae17af8c3109b8e8176f4cce5f3d4c4d69757876b75590a84e78c175e7bf9c242e41f398de12868eb194ab19bb9d61a8c79ed5a9a9bae1f8f3c009fd2767652c0babcc376279cd50266a69591b5543922ccc8b18f3adf970fc388791dd62e689b1aae291c6abbb2fcaf4b03135143c680f8bdbfc91c957bd89fa48fd4d9096818586e2b04e37c25f6be805be7effe8086b0c008703ac593f834321cf655fc4c2caf0c8f9233aa53b32111adea3de0dbe79d3219f138de785d1ed8f4056dc4822bf4e1ae9b99355db8ee81958b7a6ad251df0ede4f64911bb9f89ed9005cdf9d0086930da24c10f00d4d10ca74d8a8a33b0e6daeba64c618792592b6239e1eb4dc27ffcd79ab2d990ccebc2f0f08e8b2e4471fc167623b805fe448ed2396a753be5f9815f0aab5c1ac65642604eda7bdbf945dd890a0ae52d9c444c89aedb16e7606abd41df5fde14ba3134d9e3837eab23ede578ce17290b90753e1ef7cbe4facb331a8548e3b8a1170a94a0a66ae500f5cdd25eb2c3dd73cf4f018ca901d97a169c20c65bf129f4576e52f71a04f9c53fd1d8f5ca0191bb3312ac5843e48d6290b1a6db2930e1b362601ebdc2b894d96ddc998a9d147c1bb04741659a6a6708b86fd81044fb1c744898b7713286e3cb4d50941c6c96f7fff736dc20172a87932a1db512090f62c302d4ee894e12fa8d431113028cb48d4f853cdfbf333a8ded9d135f0a886c5d99ee0579b28fcdd3b5c6979981bccb8a6f74c610d05450bbcf9e77232e6a6ece641c4cae2fe95f0ae1dd48348590f0b4908fa54165d8f01b33a300c4f49da4c9f3940276a281fab861305a5d5a5c2a01318c5783f9d42bafd654d0f93352ec567670619450f0f53a454dc12f22656bff953498f3167df7dc9ee07597d4570926e6a9af37032c6afd86516efc8bde630cff9522c717bedf227706d69addec762c639da14bbbcf66400ee8166557566d1d3972b70e5a45f4845e179177b11840ecb5851d71de69699a686982b883f86de59924aad6021125793b8ec1f8e714f8da284ced2e7dfb4b9b5671782692c36cfa51dbb711de559901a6c9d9a06f7e0be40e82a976ee6b059b912e413e355371d81a553b5dc6fc567c6c7498ebf864b263a8037bca4a1ae246eff49cf7dc28e3b8e0b3d02bea43eada06078fe1caec0cf5eb5b05056af35c77b25202df54861d10d1c0cd0fc2a376ae9978e08d861c2652d9adb336eda16cf3c90922e8b1ad3bfe0cee6a195216a3ed6aa8785b700680217a13d6ee6d81b5be4e72b3085dc4dc5872a155f34ffe01792c917a5a70d0d50c63319651616ab5bdb73cc423d0e25b82b3983a11541a95bdd7500514e44e8dca207c636205714003c5ea7200e7bc99ffc15b52ee0511f6fb83a557f48c3287188bfcb8d9a3613cf45982cd405003914b9ff3830b431bffce7e07f44202b59b60c23e13018de5ffd9a5782236e1b6cbbe687d6a2f956deb19d649ded2d6ae253cadbdaeafda8103fd56845597911cd19b36034f4053816afbfaa71dc49d603301fc538e55e705054a166b055649c3b38a2facab35d2d9a29bdd0297b40ffe9c462deccfd4fb1e0402552312ba71cd7275084947782611491ae567e3b32ccf5ed2316a22933b911e062f400b9ab78277c2859cf8bf6ded2d29a537f9a35f67a602010d12a011945e9c3dd7a3f2b313542f61fc101ad25979c65ac794d2f34edf12ab14cc4f0c833c222f061f8baf54af0071b0b6fada9f9d6d90856d43a9edb8d49ae7a0cde9a2374ce5b9abc13d1ed2cd25b44466fc6d4197187d2846ccecf4314ffea9b6caac43c5902f42bf4945fbc5faebc801bcf8834d2c4827c0074fc7f986937f311d97f4b080421e61e84adac71ffb9045513175e464da69f2a2ba846352c7781ca6e57f9542cfef88019f20622e781197c334425c59e6ba654e49354d8af9abf3dfd33fad2b5d88b8aa71c270bb28af94dcb5056c9c46dd0574a8202f5dfbb2b25b96d4946178afcbf536c5f22c0d406ae830303406c71ee33d092b57408ff232a973bdcddb7171969d6df736deb8e88e812e23cfb53420a6d5016bcc7330e5bae9e097a73303b07ec9ea9adc648f869571270f94d879a1542285556f9b3eb8eabaa61b903fb730a70aa3bf2d331771c5bc24860b68d6948f333258d82d57d9eb9f2cd9dc616257b66dd9ea00df01898bb742f3b2c14345e0540a2f61dbeac7ce211f75cceb8d748a1f319857965d0e95e0bcbff0d92ed25775838c706119e420faf7ec6c55b9dc23922cc256f2ecc49ed9f818bafba98ccb591a32da694036c5adb2786529970a9cc82618d8d613ab23dada9a0e4ed0fff091e3b1a87263b4d279310883ec8c6e8bed42e66b5953592b518b08f5fb6d0dbc07dfd3aaf16bb6335236d33fa2d7cad0584e3fb9b57a8b7c506a107c3fcceb9265fce9dc00510c2afacc18333543f426e6c341e1f06f249373bcd4d2919fc34cf23683c131284c6202fb90417906259300fe8468e6892cddd28cfed66195d7fbef398c03feb5ca2f6a2d6d0810381a6742bc0c33f7328333647ce1c221a9383c858a69d6c09b884378d711862fd0d6a1c4146a6756974c37f0acf0294ca4c422f9e0d05a04cb40bf0112140a79f53fc6b8e301eb18f750eea248dd7f8b3f7d23598bf7c2229a806a3d5515c7c73f02a2b5d5827779b41dc5135585ad0126c9b576e4f5836267a4eac00eac543c163ac4a83a0ded711a82a0e72d7b4c9b88bfc28452384a47e8e32806fe4d53774bcc88e7171a14d2dcdecc18415743b0cd2699487d67daec17a3af71cc216e6a3f4a246463273f151807329f375bce301455ed6aa169e08a66b9e2d98b21826455c0038cd968b63b01036b126b1be3e032959f59e517068ce6c620212ffd49f5005ede72f683f51402d4f38ebdb9bee37c7feb80fdfd86d2bda6e94659b8b5f0161e2ab32228dd19ab8ab5ef6da03363fadfbf30c5465d311ea2c4bf4c88f317c6b7ee43da084a8630f0a74bd1445ae8e5d2a784a4d26b3525f1539de9251ebb2fc4bbfaf415ca1bfd84bae445c5d7f001e3388d6046811db0e152d0bac0f76a33bb11007723aaad73f1ff68310868d3cfbf8906df50f4b1a7be22fff6480f9c7eb32557461643810538b3f76d3433c39d4330a6dcda69fb9cd5557876e2500a521905ee723b20b49ed7ed88595ff30e431c74e35df566a47a714837e715dd834ff19f140a55448cea1a69b1501b2f9de4293e5e8ec9f027d15be1d68b5cd2bcd8e0d1d093570c7ecec3879cbefb0055fd4f064d17f175af5fa04e58996833b8f2efd2852effeb6e9d1e95a3bf084487bbc6fefcc2a1bee542c70bd9d773aae2614ec77fa54c513e0bb5500fc91fae11429611db3d53332d279815fc1cbcc01f11b2640b02da08b071efab6d69e7691a8273c4ed404d9b2064abd9bbb1131bbbcc5807ddf63697d07386ed171ac54f909118e08f4896f4d3e888956c0ed0d1db33088698a1ebd7a15d17c9e492195fa58b9662ecf8808ef431af1f0e6b72cfb33688a55c52a6a2d2f9777380396178bc78b9d2f476998ca7e2b4af0832f8f4c1f141d64039afd5b539557c46a969cd225ec914553410a814873f5bb73435dd446cc9e27b1b0257a3685ade0176553106801f2a7886644a3ba74bfe1306d32934a4d8811e7ed7fb94fc39e62b60fe718fd5207e46e3fe172eb90a32b6c278704b72b8dcafa8dcbfee709ef5ced12ef7c90e14ef1e52b85688f7b69c5cd17fcb392afedd27e76e537d58a16bb14cf267acbb27d7d39577ee5c27ba9a93c8bd26642a1800d6a05269da9aa98c1fd0ee1aac70133aa87ee799a5cabd4dfd57d45d12f7a0330567255fba3cea92fbf2efc93a345965196d9b2dce5d5be1005ebf292f0a07d7efc4363ebfd754a1eaaa01e0f76c2186534ee8618c92563dd78098d18b0ddca6364f2bf0361f42da41760f07487bd554127584ab413875c8de90a985c2d5bd5fd25418799688a62f67b1128bb0e8d36fc3becb7ae7f8a3424313cb24b4f12e9cc6682fb3275da53a06124b422a02a7578eeaf8be9c8a30376be2fd98e5d322c7834b5f883595c864cfa2518c25e2d966b05d43a514ecf3b8cff44bf912e58a8bc52f68612b196e68f1d14dd6c4a4022a6e1a364f2fe6e1d1d6f1f4ac20874c3a27ec478c0f7b70c0f2bb5b98d6ece3e7bc309a16196374398bbab86567364f5200542c3ff49c7045fbeeee3284886a8003d5e07fda76ce0c68d3f0d378c2cf7845b88fe227bd4e14bf940f229bb55d048a3edbcd62df6c5695e8ae625691c395dbbf640395cf693e6b3fc6fbe7cae7efdd2c136d1a49bc920ba5debf4a73e1918fa9e505777d63173a37cda395ee1935ac97c622f77565997add47b1ec5a40805beae8fb1c9b2c62dfe60dd9063592c782e901a53c013fcbdaded6f74262e55e01da6005f9ba3c423b61f83a533351c6c73e411a403db9f00497d3756447b25634a5e22c5ef302fed77a87de33fe551d32f66a05b18215f7e5cd1ffd7ac1662c30be33eabbc65fc7d247df21e043e17a86a7923bf6a5343865d50f0dc602473685b89e1a3e1889360f83892e063ed3d33555d9fad96b13f59bd3c47e5a07ac92ea8b3772db8517e5f4477931c22bc65a7847c1ed7acf982b617a56e1fa1ddaf568df6b4c890424920fa82138e2325023502ac6f8917f12b20e896b303a7677edb9bb2141e7825ab2056fa67cff4b4fd8b26887dc5f5b1fc935787bd57acb02aa91490a35255429ac86a67e616290b920d1e8994ed3266f878ec1c5b7ac3c2629f261fb8f4aceee09d9a4a7e82b1a8ace8e1c85f7c4565772f601939085df829fa9bc9c0eb882dabc87359ed6ab71f46c8c4774f12793948110b26c925cb8a251bb38fc74699da686658aa0eebc37dbdbd83b071d1107c0c3203ba3ab3f0c76c75cced072371d42e25079872245238efaaffe4e924a199a2d4ccb8cc23bbc476f173d3bb9bffb5c88edd8cef141dcbd428e5d3dd8590b239d2a62b1ed82a9d06409d65149c27a6c4ab859494d4c5b948cc332f7558daf565da73d69a56690d9961ed42bfe504ca2378822015194a54de89f7f85d1101917c05d2ff039fc3d6efd636168fb6c834fe8a340e8f51b938a541fd89b134d63d91d58c925e3d5d0168480fd9fe708ef0c1d90511894c88da4f3e309260c2aeb0859ea11fbcbcf32c6c3f419137dd398c972b7467f818be4d72058f75748cc26ba754f88a41251f0e99bc464a841fc787b833e3a15557251323d783ad814456b4686406ddad23cd67c0949d1ee9573f3d48eefb7ceea1f475c5d5fccc173d416a160cd2ddd8df233cd56468bb3d641e5c42f2e6c7eb9c634216e8357164100633aaea283276ea7cf5bd7bc36aeeea7ccca57662a83090b037e20992b8a22fc1258b0065d94ea37a1fd4907024d21f98ca5cdee927c88540223b221a91e0fdab947848e02b5f201745a8176e50d814d430e51737d0f15bb6866527e234377e9e94424d22d9eb5c902efb889b57d5f231148560249a311978e7b9e42e19e997e6ef0ae6dd1cc5f7bcf87f18aadc008a3837bbb2954485f9f13da53e5e8dc4a5fea5e6e1e1015ce58972e77a6aeee4c247210fc812f4b87ba01438c3a294da6c8c340f9df1486ae4c9c565357c9ac8affe74ed3d2ffac1a7330ae4429c7e3f6e7ad8c929424a47d3f22dd837dba929fb111b64ca6385082a835fe62e7bc5c79528da94bfb5290b4cd0fe7ce757b1efd394201da3a978c76b761961b79ba62e0c00fc3dba0d2672c75ffec5415a4d651c555201898c24e85065d1607152590eef8b7c5d73a65d8b96d93948d09d7eaaa4614c164bb54fd2cb4775d9b20ddec422b3590d60e25d72aa38a1a4eedf1dc3b213a458421614138896fed50de831c101212f3e3745b06d83cc39db27a9cd83445ba26ff7f5eb9a9ea070ea5451645d2d617f1ef36bd20af9862ff4e356b80cb6f48d38d50c3fefedd391cdd6253b2c1a5859904aa5b4b2542ac4378e1d2a2b4fbfc0271cf8922b19c653b0c573fd7d1c86c9692d9a550032ac606dac839ea0940e4bd2c2f7acb56ecc84512b1d0cdb0932a4476014dca9fe29e4fe631e698c2c1544eed24fe942b8eff1117218fa9a50ae7a94b6737bda7e9bdea957c2fc2516d8ca12331143e6765656455bb725d33764472653e87673179639e094945ef867af36c27ee0a7e2718c848b8ce4f9488fc84d264f787be79fa60dde7ff2d56cb61a7554c8b0ca7c9c65959de04f035f914c2a9c3ed33b185b278d5c1f8bb993a672ab3448156d4c587bbd3514678b0a34a7bf7d099fd4784c3d536b17ab13cc6e7f81e43564952156679d0a254cd37c849187dbc8ee7c63a4cc0e125e240498660d4d49de9846806de5bf82a60589c4f3150faaf5622828876d93c4243dc6c26c538432e727aa746b2532d051b765b144df58af3c586fc999eb01de33dfbcc26f6dd1821e1d476cc9568a11171dc9f079feaf289831d9195430d5cf36205fd13c4cd412c3e554c4d2a971ccda997e47bdedfaa4e021caf9dd204e4f42a4d18831a943b7bce6014586cef5f88adf47cbc6f44b30ee7ea7e56e28080ce1b75395eeb044a3543afd15bacba3a84a0cc1da1c3d2a0e9eb285da50e0092012b1faca7236d99d4ced045e3beac683f4442c65872eb424b7f16c673947c320a11ec1470a00a000421083720d59955a0b920ba8bfd6d4f0994f402c90e6da3b77c29ab40720da91be531e800fdbba1ff917647ddc7b89cc82cdda8d5d1754e5a4771d275739c0d074c356c73b9c7191e1ed836c1aaaa5941c4440c89e4674abaaa9b73c468cee384029a2277c12287f6ee04fd7395520bd69a3bb3a0c36b40c28b0a57a1ad720543fd996fe71aee4b3a44cb7d79ead28867ae2d2d032e437138ad613c597a1d21f3f9c26c7b2596e1c170b6cd51528b4b06fd363c13d1a978fac81e7ab5aad4b785affaa2b3461f44685dab6c3c7b02b5b2a0295841863d82be2b2928e12d3b47e345d3379be449908dce500190b729e82e1f1d3cbec543c9c0f3c116f33fe18578ac9a94061a52afb7b5e376b5574849267acc8cabb3f5a44559f3157a24f5777ca62a409dc3a6be6283feb1e7a452d1732494fea84e444e59f6e14eedd5074ccd3ee1ce61dfc9909be70459c728343237edace19488b54b8b90dde8305701a2a94476d21fba8241926b02a824290b8789cd6e51605d49181bb0d7351e79a641702b91d597cb6997d7d3d67e975302039ac8d96eb56d1339e5dea0ae05a896f05d60bab7b2ae17170dc97373a6a7b6022a766173f328bf41145df167693b3c5abf153ca218a5eaefc8591f4fe0686a5d39e63a4edec52f2bd2265111edab11e7a51c46a521156c471b7bbb7e80930d9b523103b8d3a0191ecd6fd0e8fc4ffed7b6588c6f7bba3d5b073e003fe8327465484853cb1558da9efec36376473e39f4232a1adfb83ce7b548d8430db37595da04eb9fe9ee88f97f55cb3e49cbb3557f13aadededda935ad1259dd8f9079874b568fcda54b952bf21bf1179053742f50e03150b7206729c8d9ea8dec864666d3147947036eb8206a1eaea033db84fde638d245697d6d144c10f9d07190c4ddef58e52c733d8423a9dfd28c01195826f6f9138859b8baa3d0663282dcf889abd5f07e018a2da7e5d6fe80548fd8a003fee0f393dacd773c93fb70d7e71a62cb6effbeb0ec648e38c59d87bc1ea980d38869d9deffe41cb7905263dfd63371680753c8647c7c7df91985f2dbda07f1a330933df02c142fbc29bf228df7279a9f13592fac0a64226cc4dde2d3395ecf295297a639fd3fba2150017cb6172bf1a77b3e37a90bc12232d7dfa0bbbeeb5aa5fc142a675f6e7504b6dc225fad7e58466b931c60fd1086497034f97a5c5e3d3647aadbf8838e54d8ba7cafe84ec0affb83e8884ef8a5dea46d6931d897d0f63097c19310048f4702b41eeb2dc33f52d4364198b9d06acf2c36737ba1a9c22a97dbcc8a44ab3eeb616961c713876b87c58cd4f45cef7fc934d9360e966c213309b1b8d3a768e37ac347b1ef20d105c75354ecaf3cdd043fd1b82abe5aa54ec8022eb18813ae4f6841757a11b0887b29f902594366c166060749bc3c1d098ed01ab61aa0ff899763bedb8fa0cbc8776abf19b748a78d22836d0ef5871a64d2eaf5885d82c8a1ccdd137199c2f064664f8fc6625285ea1a1954b3896483e6949aba95d168261e26d83568739eb93604d068d8b0748ef586a9ed832cb72c6e35e83b51e425d813ad3427a4076a023e08bd834d83c66abcd6753bf7111d54693b5fceb03a07cb32209ecb74da2965edcc4a7344f66fea7d2721ba8882888c61a7c75103e8f4e31c857977cfe387627eeb4ccdce27567f593c64d31817c7ed74cc52c55c4ffcb1a49324c3f53f371d8397927e20c07d65e9d2769bd9fdd31c726f63f1cd08981629aa4a0ee98f5861d7c206dcb19431e1110494f1b0c1cc744f1df58016104eac0d8db5c4453830f27e880f6dae0b248aa99d45f9a35c2104e19e22293a953048e26c05603438a529f1e1b8721091ae133025c6e2cabe17c871abc36d6bd79838d3cdb392f21cf8805e9629cda9f6d53691fe41895c7e7dc14f3ad8ac0cf234a0e36952fab9f20f01b93600ef06656275e798b40b8ea26a01fc93b478bb25d9283e28a2a702d8bf510d5ec3d58676a428ceb4dcdbcd5be978b029aa7934d60d354b4c8255776ecce08224a4ade88380d8921fca58a9fc542332b5d4381d385833d343e41d122f31902e5d30fdede47da4915559245d677c8f4a4eeeab45db656081c252ed8321aaa1aed1a5a254fa4c555ed77154e52873905de32c7227d6f164cc0a79a1415989c9c1ea6639169bb93ba1946fe2984ab59268545884f52d650e03bec375960e0c083739122e52a3a5bf1de28f637847b052b63317229166ddbab3032b4995fdb59c3c10b7fe94cfe39e9c975159c87e136d6ee4226062972a471209bb88c201520a3d2e99fb05b341ae05e3cb46bf01b9e4ec70d14cb2f89a7ba23ae4df4bf86492eb8a70589bf0d85aef03caab4c7a39f2257200468cab4883033819cc95e3dad7f4cc57de677aef2a8c86ff084f74972528039e7cefa4c790dadc49c717e031a3a0559ded83a3f8075f0afd23daa58cc3976041442415cff0bbd5ae0a255e8119fe623df11923e9bb7047ebdf0df391933235d56e1fb8fa80303feed40cfe520c708a45604aaff12659aa1c72f2b25ad7d462950dee619d08175b8cec845cc894e5b6d1bd478d32584f07452d206eded23802f0d57633bfc48539bc487c456642dc6967a54c87e6391549be82c41a549d998d3f9b1e2050639d82daab522580a8a7584d6e423c0be46e9c7296b5b5e658bd22484c6bad8e61d2e8cfe42fce9a011847df31fb6826bfe7694b794373dbfba9b1949eba64261c9ea31396269cf21d28b5ae019fec5e7733432e1e37e9a49cbca7fb714e0fa4bf92858533abee68d49c361efdd520c3855fce885f5f54babedb2646fb5a5c420bef157b9a90be99f6b31171788bbb1fa54941b725bca55e50274d618b03619680de5f921bb086690b1c636d3f01f28d6bfa89e99b2fa6860ab516acf45a494290887f0f27f36a9e74c73e07bb81c759549d249b55579b9bbb041f8c3e5688d91f500ff24c430e42b5808bb8656c61ddfbf7bef86d98cb12557fce7ded6aec80c40407c69fae8b0d966898d046f32ce55a798bc4c697edc84d9946ffb67404be7b6e6b5657ea5aaee51ad00c42be8d3e8126e73f4466a7de5d44710c4d4d0f0923754515c2f6ef5a0f0b024e71605343700c1d467b236e6cc9793cd2898ed8560ace0283ce6de80b9a0dbc821c7cd8197b01b971e00f99f4aa1dea121075d6d0e0a5d7d26a9d372d563791ad4288689a230c3878a66071f5de862af58e52f53582af0a598d368428d7de73c88630c5fdee465adb31900c5613a0247ef8502da3a14d81f86561f263a7a27301a25d8245d5bf25e1825b6dc5e07f23628f7fecf8d0cd01e0694f243be97dbd6f7bc03588fcdb96ed1eb249d5eaee2db2be26de5e5e06020a6a4e1763556c03e2854a55288a840af27fd79d077265ad8c61bf01d6a1a8980658505e8dd2dcbd5612457b3f3972c2376bb02342446ebe782d34719b0c50d679868bfcbacfa20fcb652b97416c92473b19fb03950a315c20d485dc42d82d2de07608c87ddabc5d32ec0cf48006020c7b9e42e4e289878dd1027f2c27b7be736846c0b63c854018e285ca9ea41893ad77cdf56512007735a69b34da90f7cb25629eb21321b96d4fcbe4dcf5910952b1f9927b98f98dca6bd3ff76ea0f3be315e705e24776c2e9de68ae91df6eb368605abe7d6e809af0ecd03ec461414f3148dde5d5dedf926bd1ce5db754004a0d6bcf893ccd9a597055cb89a4e23a8a172e4197e33804cd0ebb24afd29f21f7d0bdb7d5b4b0a9446edc0bd1c7aea2b974edabbb04bacc160dbc78abf68e05b540f39e51fe60d201d49e01783a20e951c8802ab0b53eba126d95686287b65a82a6fe7495aba943facdf817638e147f45ff52c791923501443e02ed4680ee1b81d914bfec7fc930c661e105b2385f53610b389d52a090ef66240c24fd563a2b43f9a15eae12ce718fa136c3c76742bef47c0156baf6dccc8515a404d6de23a586dcfa67a0c8284bf7615cfa66dcef58473638dd088925e067ff60a351f87c673cb7a993093be465f7629f5e6474276d2e8557cc0e3afc65e303fe3f5739f35ae044ffafaf4c378e2a80a69e5f8ac25daad391a31332857886f1bf26c25908b7539ba7686e0aa43f1b213c9367281d8b8c6ba7c4aca3e02ce75c9c016ebc5c94e9c86922b0d53d62debf25499ecb841d003235c698c9b4e0428c6df1364c5f505e8ab164ab4caa06b8dbd90058dad5ecc747543e44095061252af3f553fdb232ea2651424735ca83146925ac05a83939ac920311ddb1e7789194da6c7892ae7fe33cb698099a93c478728f4bcc5598c6153bd31cbcf2ea739160c3e2181ed84122191b33aff843e909f4bfdc1657223f5dfbb926ad558c952f1c55b274278d6552fe714e7edee1dc8068dc84deb10edd181ef28ca2c575b5d00c425bae76d563f141f2862f7c070f5cd5a851fa87c0fdb805da640dacce34c4e54cb4b9b14472848f83dd088d5aaa53d0db0cc01ecc77963f04d46263315262d010058cfa008c61fff246089c27297faa708060510df8bc021eec73f9a76df5daaa470faa467d51b9f4e5b918a2ab8508648a72c506b8d08bac16e678e49fc1969f93507b56ce6e188b2698d853d09979d61ef525adf8dfbb427e5a935b4d7176ec661f8215d7896814e717ac43a28099b6316b48f9e57a031bac96f20f6b03ee88d7c9083a8cca67e179bb9023a5553297dbc0de08d912033d01836cccb9b2430c7c5bfa7ee5c8586a122bdbce9053948f828aed6704bdcd362a4c2aba65f0b0d241c21fe676baed29e118cd21073b841b58fe8495e62ef89212eac5d8e6253beebe235f73f00b801adf1e156ff2e6900b1345391d53c18d48d2e7e896e7593fa70fe78968a14874d7155173d8f72eeee1babac3d7d64c2d6fd0dc7c37f3ff6a73fa030f2a8f4a10a2d852bbf07ad3a65dce68994f45ea3314d3893e22cdcd127f8016298398ebe6f3bf96e5be0af33989b70941797105f03f62b3171a098fbe6978a38be027560c0e84c9e21da0149610c43405adc049759cd1f6f0b5099570a8bb51a3e73f6d2d2c9c4f6a0e9e65cc6578e23341d9f091f54093e0fba103538aef1180213c9c83e6d760db403cd4d3b6c3947002004a817670a0105d4d050759b67d0702a111f0a418f23433b500e670961ec6956a7f3516e52a459e45f8f8d4e496263ab3b1c9776fd0735e10d1861884a01570f4610e18303f49b1972584443c44bf62bb1441d4aaf58ae88c5e4dd54e1935ef95dd7234e2cf27bbdf7c2f82d5707179b8a999b65917efd5aae46181862f86fd94e99c0ca5cf70517e357e3a5a1835ff2cbc1db304bc51457fc14dcf22835dcd4df5fac9091048b9dac6f596c884b08bc4876199a634d774cd177b6fc1e5bab4f9947fd26a963e77ad05328551287b16f3c056dab2ec02e7aea7470e825a8cda1a111e85f5ced9db458f3df9ff14641d7578a46c26681ee22c83e9506e4bb8098c5f7032ea27726ebd38539012e7fbf62157b4453532dfd41abf2734b52c96cf9582135284b533dc9606f7203e915fea833efa59af2417f5c63042780a6d2707b5dc63701d89c7a50a6851f8e4e93c6911373e9724bfbb44271b1240ece414e6b8fae8ccf60f5d07baaaed0e826fb0892a876f5429c8ca04d07b5a04daf28d23bf2f6345aad4d4e620908ac473d46cd6e9a884c397daa9d1a31aee45cbfdb38c7098e39981b2665d32f2951c109aeef50a2e63c78f4dcfa4116b12cf6abe2180b4d3a83b5a909c17320346f089f39d844adb2bfc82945699b7cca519ef704ce1a4299d7088a72d76562aaddd9dd9173c1237a67f0e578489aa9ace4d9758a54588a9ad4a7e7a24f9bc769987b4d8f161f76ac380d4ab95cc74010a8e2436f3671d311fd82e8d3e3e30668c4e1af3e584a2334ff3fbc0631676ee10c0c7f4e46edd5b1d5e101508a1f6228c7ae94b035cdd3bf8a159f3a749198f83456b00a113bf159473453c44013402a5b848a170fb62d4befc4d4c5151d0f059d37d68233a5ee3878a6c66e275cd86a0ebc2d22b613b8952193d1925cf51408c324bfaabbbac00249692d3cbf0eacc8eec254c55734eb694d99a7ddfb4ffd4ece77c60fa650c14006ab65e5db748ab6e99877656f90a06f7241cbbb3cfdb4a063a4e73d072b2da552d361df46d6c2d65c5bfea7a6dee7323c30e6d0138b97aaee1c7f270e765e35ba87e2b3609462bae3137449b9a59284a51fccbc26c1fe1eeee6a419ddb5f9db16d6f005c3607b935fbc214d507d2ef1e2a7d3e01ee9aa0e365cfe156424980c6c4701f51d1f305d91a63e9b92997e582e57ca8e6a09446b7fe783c3471b72c0a61db4020540fbb4ca","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"f68bae108019bba4190664cda6568a7a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
