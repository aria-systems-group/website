<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4c86a518cd58fe039efd2a7095dd4c472a91ca42314bb5d50839b76b025f4e6d6898e05626c84ed956bc0c7f29767cd9a4f32a56a4b983014c2f591baf15b17542b4799c2a45836e8010ad885fd9469d569afa9fd5611956f1839f48b78a61e87dfc1259f35e3fbbc6c163cbd30ca4c9e671cf2941fef1bef6f2ce9d1c3246ed5b64df57fee5aed8b813224203c8432e43c2741de8980f7bb1fb46d23ab93147653111d1dc40a7420edeb98ec5acb4e71016f1b044b2e068775af6121e45d5b7238bcc6474335e6e6df236af47fceb5de3b7d5d307b502d3503579f9ddf580b1ee37180a9464ea8ae6ad508efb914f9275c0b55ec7f492dc1d18e6af709f4a2d49704efb12c092af012f86da47405c24d6d9c50b9d2d2c52109724f1a56a6709d52e7e6959177ed49a6973ba201463ffa9c1db31ce2c075e17c23c62e42841c8f9eec7a50ffd4f2c1c661f3ba54ec76bb859578c23719bf84d5079449b2519e8207cacdef6389ae9ca8a6eeef1500ed73e6135223107dac29c0778c3e819242fc4f49719bcbbaa76345a7e7365bc104f98fe2ef33250243d39bc2ffc6e33d724b2f49258ff051fd9210689481eeed9f4928ee865ed92c41f39fc05ce3c1c1140c2feec00efc940c0d15902ce96e8e659d8952ee0dc4465c6344263f0d61d0ac2defaaf1a6bf63a86760cfa9df1728a04141098318d9febc8667e05fa6432ae400db03c0d3df52baef04d76d48e294762349576995f4023aa8e0b432d146bb9e83136653b5520581e2dace8b3c07f63b98cbefb5bb28cb0e969a8d61ca398b056de485e03a6d81cd6ea46f087f5b21a541d9e340df6a1ed45b4b02ce180d900d64c3ea702d148ef95d32bd5359bf433f6df2bba25a5993d97d2b747ae6729725732d561a1d33c6ef88f79b5cc223f2f65ef3ae05b561d536ae934534fd1a34d663d803fc490996c0bb3b8d24937de3b6d66cb21e6cf13e772ea8e0affb81496dc08b3943be443bce34beb8c385c41a99046816affbbcb313eafc68af64c591bf3754490ef7bc767f7e1416af1b913fbc7974816518d3b8734ce229ddd88758ca58194b2fe0575d6c2f30dd22048dba6a1f6acea43c120439e78355b92e05665dde83124f4b4839522fc622cbfc357a02ef663e177559557c52e322a4e89d4a85f2c4ceda35cc113e74efb8d7380042cad2821d2fb5521906eab43147d4540d0e30783561c8e457d05a5a314b30c078a92687c6d39074ed5acd1ad8a0fd0a056cd4d25c1181d87db982fe59a330fb6b689b64be6871d3e2738857f754e7e67cfe02d7744d803709ea8879a8155681fc2a3d4e76b3b1fd1f5a0c43136a6cd151b7a3652fce80f3a5e403efcaa8331ec685b632f287083808f942b317923da9759939e88bb51ba2d1e96e978fdd477949da04cb7650c1f7ce3909473b7e422d593a01b5cf9b26072c8b4f455f8eaa38ac6f203edf794119c5d5f94506540c857999941d6cf486da4cbe4d8a6f053b50464c9502dbd4165ef97f7710ab3a278b9256b2936d6bfb4e3f1274be34bf4d03754ae66634bb78e643d09e250013b7c3cb32d1b42871eb231029350ccd305400f2a71aab45ba74554b1e72be67e4451d210f99641d3d70664bf02deb9b3cae6f804d6a0e077418f9809649c56153604c8bf383171523e9bef7535b9d627f0b21f249b7851477d02f3ed3553e22aab3907e50e85c65ab63168403f8fd56f31b5450d472d9c71f1518857b9b5700f3dfff2894f499993a5a85f5c40d73e9461a222753a0b7c88229ed20b7d6882e141ca6fe829800b080e333099087a39e2a3b479f0ed0c0c5a41595a20d05ce68589535868973a99a0238123679d829620464d3813f523f13414d97b2e93264093acf5106c7746c98f29e7a191e929b6f4adee154cc9430ebc2029076d58bb3eeb174ec1e569fe0f014c36673c6683f82b3c79780c192a82cda0f954f42260663a9b0340c7a374e0013954a0da65a271b7f3cce90dc5619ee373c492da553d069451e381f7da41e245b3c57237087b6d764cba54ceb21afa170400fb7ed400cd1c24f12c08cfb48d21048be3be7b86911b172c5376d8c8e2b76f05d19554c7a3b9bd8b002e54e201a51b8c67f7e6574eedf6b23211dfc0f53d3b8f5931e1f7f50f5bb476540e7c89d2c6a4027b1e9c9556928405c41e9f8c6bbd63c3ffbe204467bbac22372bd3ae5afaabeff01a43fe9d20a88e0592ef7d50c91fb8d68743cecda9a63bf14deecbf7fa60be4d0d71dabb887ee5525567bc3467126e1d9202081da8199844c2850932e83710ab6657ff08ce9ee90a55779547b9272c960eaad080710f346c8c3b1f12fed26e781247547e3af6262e5b367ec6345e0ae9d2f8d1da196db0864e7db4b40df5a4d914380fa57de2d2c3fa069c2159515d26704d54e5a881da8ee505310852442e209aa38558e3963da17bac5b51fdcf1775153c13dd0e44ef246ad24bdd968074b44ee4938eb99af4ff4040c690018fe1731e16fc5facea93d40b5d50e5824853a565f198cb96e2833c56db802eb0ec5f07fc944cb57bdcaf1f846f8afb3abf963f8083828dd7b815519e7631f4cfa440446a482c8c5649d2754a7aee50bc108fd11400891c4bc0f845654c22107d3f316c3bb31f747807c913c2fc38d020be25d88a6c0463af12fdacbd31e35a44108143783cee8dcc5ff3b58ca1174cb2b7ac0374a0ea6a0b850c8fc3a0926aeda0bb795379851edcd5442597c829f96e695be2d82be573957bba5be02ebed25d3ba23868e8087cd628dd703cdfc4b037074bde1940939de404140a585136aece1ddc0d47d52333b626fc7cf40d83c660b46df33527c19249d2e48f31b17476d36fd8df996f62c7cde22bd92eab2face758a45f378ec992f63e1dbcbb17d32f2beed949bc9b98182e7f1e4f2157a7d26cd300b14091b0498e06dca28adc0c60f0e3c0dbdf3892c5ff639a70e3653882d152a393f8493dc3ef3e49ac53c94cc6e984964758313a5a6f427523197d97fc688ca56a4bee6d7c42cc475b81d31c5bf1f494007e9c86c15caab1e17ab87b2ee760aa0c227d98ea912458193a6b6c36e6959f62455fa86a5b642cf7f6d38ff2f5226bb8894c6b522c7d756f112450075cd083363b73cc5fe6ae06f625a93ef8978a6f8761eef3a36963aed39da41bdc1f12ccdc362c1e5c33acce5647394473ae1832b8f2f38ee7f4e8e26f4557706a3346c8d99c9d2f963eae55b044b5100a794310d754537cbe27b146524ac4647acaff449f79e47b010a2424ae5f3d5564ce6dfb7b0b8f9693070c70573101f3c4c0b7e38e2244bc3518707482cc798fe3303822cd0bfc48a8a75dfc6af8c9575e1c3f0d97155d9f98491b7a74e5d88aeb80ef087f77bfb4e7e3e329f4f78315333590c11d132ce33e031e46eef3d04935f07644bfdcf985dfa1dcd095217b86c427d3bb482bfcc03130197d6b321917aed37f11bd703925f91a620bb6fa91a88935b9450d312727bcdf7c4da364c000f5342368f91a7e689b89b5a4649ae21ad278abf4acc67b75f352f1a075fdc256d67a94b026e81a5aa97cebf62ca91955a5ce11a63bb8815a8258979388bf0819d407d0b55e4d89e8f432431bcbbd789440fa5413d81764d38074d24da404b5f86dc7d5ba6dfe41021094b894e7e09e6ac2af5ac2d92d0def1f645628cca49751128ebe8f9e560d7c691ccef888f0d60964876fc3b6275b8a909931fbb80d00740e2e10024ae8ccfa4d2c27d5370810c28deace827a045d6428fa5d643132dea131124b4b536ed71b51c8ad131b3879c25eb747623693cea9d19b86491ef247c4ab2afd4583e4cba3ab12c36447c350e17d906015f2d732f60e489245e81e026d0cfa9f3a6cc72dee4c4d02a36bf30b0955abb3f5f07bea2fda7b8fd2979a0341e06c10a28f31901566eb927ecfa2205d2db93dd916cd49ee5bcecdb299af7645167f39946c2da37229a0e42751dd90d9cd8c5bb2adc7c6e8d574b0a4d62861cab3959d69493ac2c58789072116ef4c1b02dd4a6558512e1ac68dda3b1c0650b1eeee8dc053ad113fc969dd15d3f0d584b9a236f6137141694ac756581477d9d916eaeda7d947707650aaca25be78dd5a9a5396a0c2434bea97ed3a9f5647ceeb36dc97b2f4dd510adfc5ca5f37389144be39b6c2b9bf9fadf7014eabf16913887daf7ea8c7ae9a24027f3e221930236bb646401e531bbd49ab6d4740d36b2545c1fec08fc2c44dacfba137d2fd2fc9ef95fefcc3b2a52b68714b0a66b3a962ba1cb64214d1aaa43a82744635c9dc3ef2d569ae2db3b2e2465e06cfb012610c0955fc58132a59f1eebc31ba21d3ec7472018b0cd17584602988eda09c37e6423cdc3f67c08e2f42b2069f4e30c6140015ee563c7424ebac953c02a87ef0f97047082557a2bc98eb5af43941537448897f1fde42a78d21ac3f66d6bab7c90e5689ddf04e0fa2aea14b3904ff42f4d123ae822fded28db33dd6b17684bb4753dece76fd17b66b32fb7ac36b1f09e51d81a02d2d59a045281d213aba1d41e2af8bc224445868e0e995ee0462301ce4c45d78488fa9a20f7d3dea2f1bd8b04690f90b2335dc8f1ad6911d1888f1e0c3fd4a968b6f3a7a56b2e8228476e3c68aa4791289a63e101e2b0df81a22bb501e0546268f2434ffa9288ed2d1e4d43ad7d6a725d4997156f0e40d9324039f19efa73e17649855713ca30a4d83db3dc32e955319a920f802271d4e641a71d375b78574da931885310997a751175108eac06d3946121963c65bcdf48c59318ca709e1c6c85c77996e8e68fc40d88ec5ba4b5146a95000ea05b034de1bddf08ca3c96ab61dee9c26d361d76e736211da9c605dc136e46088d226bbf18f7635592c8f2e7ef26be2404df7e6b5b9167f8f6445274287dc437b51d85eb2ed10b54b203dc1a297a568ccb3719313a5d755fed2729356aab7007c6e35feba2b36ec60362385bf434cd5815efd49638fc119ca508cc59cb925eb3f846435118cf501321bceafdaed6cafaef6fae531b6190f9b003036fcac5309b1b35553efee958dd8fb8c082a7ebb4ca707f075904fc1d47ea3352c15ca3c68242066edb24d6f3f2f86ac41ba3be3d828e3667f8d08b0cb7e7d7d4ca79f5893fb676cf34b4e278eb5f06843e39a98f1b614db7807c3772ff1884bae2a9145fc007d807cef57cc70f5bb0673ea275632ddfd0b9ffd120d54de8a6f49bfe31e710e4c5bbc3c303ea7823fc36d429ddd27d2e9722b5431aa631296dcabf0b05dd84d0692da1f045ce8d6fd7b348fc10788c761c32827aecc69db24a1da8d26c6bb456e5f89d0641061060a210296f1ac4d0f11cf78dba48bf6e2a351e7b513ff3d6101c656d1c2677af4ed454d09e7c55e1bcc3e0c343c4846aeba1195cef1460f7315d27155a6c09b26dab7077c29470a4e0818e5994145411fd604a15359514ac41142d560644a2b2d0eb1d9f9cf78589c50598c458c69fd88372a9967adb8e8cbf1eaddb3bd3d886cf19935da86471362d3cdfd77cb6dd231829357d08a1b80cac4f1620f92f8be954563cc6881a8f4b372dd46985dfc962830f449dbb162b94acbe0195660de9234a3cab128bf833f2b4d9712da3ae3ba7f7bf58c057ba6c78a4c79c5814f634a83750e16bbc40923e2250b407e719ef640f2ae9efb5f6f63651cb4b825674ca6a9539434846f4e8dff03a44e662a65990200737df9983e7d2c5ad51d08602e9db95f979fef144234836d6a0aff86e187bf08f6dfeaef35b5049a10337b3cfea29b86a97b96cecaa4f06cf72d4b30ea468df01692f5da786390a44b4556c9f22fd7416ac970e529f3a366be99fc41fb610c560e99570ae6443e5553c548fdbea3f168807239a2e5eb0ff49aaf5c60044f2d674eaeb77545663e86d7d2abe1f7d88be0b4c6c4498ba533189e47d5a1c6eb2c72deddf645552bbd3304a585dfdecd3260a39609debab7604da57d46f0456a3ae7f74dab58987314eb99b7e6f4b7a85933850f422cdf48aa6f53433d651997d824f463c59e8f698a9481ecc26015a0bf984f214712517070933a99f7310951e4d29261fdbffe0664d4b0d10c910a10a4ee1e87706bb0fcafdee6e8c510af10b45d046d7bda8e4c5aaa1cde05a0fedb2fe8b556918f5f60114a4dcc4b82709606606dc373567c3ef5b53da3caa18bc6f83554fbaf14c0ebdc34307a25e450882d7c7823130a4a8f8081e4100a798c930fa345a5ac20f799ad0941080425178df4d2eee8981a5c13267c4f40221d4ee5169829707cffb80e98f345383d32fee9d14d2c827637528e4bf40d4c79ce3ba4de09c9ae490e198e03554658f233fa1a821851d424a043ddfc67f73aab3ff4440a2d303f2e853fb21238574a0cd06e8bac420cdee8db25f4f84c5bc8eb3a353f4300b507a236b63a1cb581654392b7bdbe78c1f0efd6f08c9ca4e64b536ea3496ac773fc98adb4b87569f164a642b22a3b297567d0e0ff1f9c4f667b06f0a4c8fb0441fa360b511164a0e4d1b75c5e3990ebd7d4615eedee6008a77e4a60ad022042534d240948ae39a41c8815dc470dce15c7e4de3b9a63bf91dc134691e8d414aa5d058ed1ebb671dd41c26018cd305a711e25f22294f8ee2c905afa21c1a42b2611d4e03636fa1a899e24ca35b32117e3103ae3babb4bebbb7b971323f3897d063a2829cf7ee0eff635f7ddbf67bef88ae75e09394c4f6fb481104adb5d2ab1a5c94ce870a9998b7877d0f7c860b6c9684d18adc74b9c1af46f1f81b104770cb2153cba4e9f30698268de50e8c69a8f5748c37501497e8a3ffeeb7d3c6ab99eea243e614616324d153e7fea8962b4ebf34a7da605947886ac00ffb083adbf557eb7330966f5d9c8b245b6a44818235ca90248e927c6120e4876e7b651886034e632e5e99b1c6631bfd0860f830afb42f7d47322cfc3bec28b7c566fa102a2530ba546f2aa4069a0269fdf7e2fc046e23dc72c56508e08df08e9959729f035a4b56dc6330272ea04e394e6148a9f9c1d8b3bf6e4bef122b864eebe09b6e06761745c5ed850a13973666450bcfc29d7876f647a8592a2e65cc7864efe04a2be034621d8879e2ca23290bbe72e5d2e64a52391407f9837e93b860cca91aec6f7909c01aa73b317595a5199a32b3afb1ced276a1e3faf4c4006d2878ed27f1c73b826e6a1adaa53ecb3e313dac1d905660f5f693ec259063ffaa88a341e319c26e7c2f45b363ae8b7ca4ea107c676ad7fb5b91a4309d3a5209385ecb9a09fe15a69a20997d74a20f4b9ed03899626c16af59e15b857c3d2926d910255efc7037186eb2f4c5c58aa635c8b236aeaeeaecd39bfc0c34995dc47f9b358b7042236f1119dbd223310d2b7e0c10fc8df36fd86f20786b28fffacc8be735505fd0ec3ddb4f70a7840c77160288aa01aa3d5dc348e72aefb1b5568a271f15a95e458dcd21a0218a53ffa0f9113e6a0e1be03326528ffa62a3cf8cbff8cce53c1d5683062aa9936b6600f4d9f997827fef24cd874d002aa4fd418198e1761634e9e390fcfc7dc7eb11fc98ce1d502f7f5c921794b5373356c483b6c6dacc3b471dd3d3fcfdc943f38c854019acd8f77091cf6ed2d7b83d387d7ec284c39cdc01bd6eeee9ba75d900fcdc5283ac541e780ec98251aa3be804268300efa583ede7b49db5d1fcd12013ac261626cf83352c81f2ef6f61c54f17bb1cbe77aacf11de2d2fb1cdcfb3fbd14083b1ce674ec85040a0a5078c7e4e0b9c29e5e80e34752562c8a05f6997e63e76b2f859fdc141520f1ba857669748d0aeb6417732fdf0c5d9ab569814755b8e19bbdd57369bf83a703949ab2c94fbdbf0e9d8403dd0f567375a9812a3e452dc94c62154f2e0b794419f535c32576127b23df719cf438b4cdb9a29070fc48b260b8feff060a4302aff0b301906fa4a2f5d6b3abf2374cbb1ff400f05d9c0e52ed05974d06212a8795a2f5c81ccae005b15d51346ab0261b27c8671385882df4f644cd3510faf52cc14e154457e4b3ede0e316486af5ea7b49a4b22b70d9a5f220cbf7bb99cc5208fddeb07b9fe1010feba0ec4e3e88dc4796e20edf0c30739276ca9914e5d85da7ecf6dac20c449b0d30c004e055799b2e46a3aea5fee7adee76a0b0c8ea97339d04722975be7213654873fe4142d84745bad404b2693fa95a75e0701b507de16b950cffce39662c662d3683d1dfe9126cac56b8d6d6df485cadb7c88406b1027916e94002f94ddb9cadceb31f199b5a4f7896974916a4f2c662bf8960534c1bc3135d40ff60b324ddfd0f35118737c3524932a4ea1e1c2d5739f5376ef87c4bacac7507660108e8ae2aadd02b1f80fbb53cb7d85869ddeed1846893434cd07c21fdf8e1f903cece859d43e1897f479cf3329f3596834cbfc0c01ad6d0a9a6797efecb0bad32d7b9d79d3e0d793103339d853e14b2fbcc43abf65560019c1a54579898dd7edf9bde52e4487cc237f7cbdaa3a13ef0974370c9275360020937505c3d14a94eec6f7cfdb4dc4e67f646a3c8e7b4ea6b4a4f4d10fb86d27c1ad7e4422a88cd4ba6bb5d70719f8789272635c0811f47afaa736c9283aea1fa4f32e8b0d45dc36b5815e718983750f2f1f5fae11a8b75ee90d979f12cebe747d55ac69b2b6ba857bb517740dfac21e3d5fa3576a63693b6e110e35be7b7cf66665c4faece479ddea8f8c959bd30beb6b2222b50954640813ec2b6a334fbd818505eb212dc4bd5700eaf50776ab9985a077cbada5fba58956038f84b9986fed40ca10a418c212e3d74df379c14e71f1498a8308de1ed9fe7e8d930e7bb815d4c9ff7034fd840a5515cdf8e507900ff356e05c159c0991c09dc8bd0e3a4fdef73c12380806d6dd49d3f2f40c19e06d77e3ea60a41663ab22daab65722ef2ff6ba46f4f9f4249e6f05a9666279f6db892514be2d68ac5fa14748deeb836e1b86bc5838ce89aea1b5b47a053003a4a69c6852aa164751a420939eb5a3f90f5b61baa00c7ddf8d05ceb27ca2b2ae40066d41b3c8134a143144a5815363bb209d8a05819db74adc0c9e4539c9d6100cb6031a447ab9918b66ad7238be5f9c1554d02ad1610d34dcd898bfb32220b625d938e3a65ced58a9ffae6583150a3aba1c0cd8fe9827c5c496fbe3b5da827e974642d2f93e5456228431ee5a00bf8c0a79403bd0a0eb3f5ce8e424b1c67bf0e88368bb2380fff38dc10695fed9f11e3264201951c79bf66e03f5011c110314ed9613b68762e7f0a33de59187cbfefedbc9f704259611a8d464f3b1e6cde717a8adff8d19c406029336b4040829159925098561ff97c7ef23cb782ce10083f87dda9f11c4d56de226f9bb3d5bdd6d80edf14fc8a5294fed1466a37d6105cd6c7de4bbf4adc1f3ac457b5022faaad02b1e7ad7927d4a0fa79d371536db608b44c5d217e41afbb4da11aa9378c3e4370f79c4824f074381d6368bdd1a19814cc0509973ac0adfc8d1c2d3e75210bc78e540704833347efa71914cb54df6407d2f6d2313a3fc4bae5c5e6c062144eef7519f1b21a60eeef27f79890f55c3f7de788880d9f631f91a3da37ca7643cdccf5fca6842439f024cd8e7a9ab71b14632293280c4146bb72f1bcfbb7dc5eab63a4f5c7fadddc8869f10a708bff724d72913106fa3723294eb26ac64e0f97f63dab14f8c209a43f0032c48f312fe299663080fff8c5e3de75107165ac2258a18026590074ddbe72eff74d826e9d6e500414cc74a67e501c45ea78daa7b3dfec2e360914402e2759b34cd3551aad769321f9d8f5d1d78c91e80f122b84c62ab9f5faa61395de059bed142966c444a91213284e781510d7e9da599ca20f97e5429e327baa9ba2a3e8642d3685c2a889d715c534ad49d5519a568eb4023ffc4a1e5b58a49168aa2e133f46c72a96dda951b9f8b745dbab05f0b101689107be73bedf740fec8be29a60e186e6aaa724210d8d323c74eba6daa9a48853537779dbaca3dd245dc491f64adb945933db682d19aa01e32e907ee5773f87881362017c50caca1e1334cbc2de075d94d7c5473d62ff0cd7ba8607c421aca5f5adea135205b3d53d474b8c72a2d9d74690f0f6ca61b4634224a01f3c0146e8ec15b6649c26a74aa413a19088638f69fb1384d2b95ac0739fd22b6a9c77fbb62a324e4093c9a7c8d65e91de7d3707f7d49fcdd445fad85a4e4435e8fc057486a9de2538c44ec60c817b858f63d627689d16a7ea5b736fe152b49d337b56785a3505422d28e91d76f07b6132911ffbf74fe69fd9b7ffa4aae1a0a9ce5b5c0386696efcc821daab605920bf1682076c270b3c54fe82449dafb04bfe6de50d9d270bdc8787c823f8fa1054b5fece8bbe1159443f9b1130d141a5439562e788802df48fccc00f270e83599c1c3e34dfef5294708de9a4bd15f4c7afef9db490e7213d515a1b2f2d703676d798436aba8e5c2bf0411d8fb9533d2d8dce8abba855fa3dfb581eec2e2689e098de8f715b1e89cabd9165d1b29bbf8fbcdf33b60cbcba4c2dffbd96f9ed773afcb98d48f96c66da7c47eebf8e772c80c4ce140f65953312138a19e9f436adb381b733459e7339ed12594b7ad04fd9724b5714f34ad28b75a5f560cbd1c3ef9b43dece4d7a77efe1dbf234e78ea21fa5969102d8de6021dac71ab739e68adace92fa002d41ae793421998cf950ed025c93dfd249e145e28915c5b20e7957edf591e62d648036f574593c2c4f3eb18f228a881d8aa743cd845bfffa92df71c754f09804d5dfd48764eb31222ab428a527799a91014951229c615a52f270b5cad4b5bcac4f644ad9300a9b49fb51949a6edca9c1b62c4dab6b9f57d6f75eadaa4d1df53a2296283927b0911bc97e48a83a6a6ccd1597abc98237c6c0a24d91412fee4d36fa288effe3ee782bec6ea1a64823c70ea9907ebd80030b618bb04912052836090b6afc7b8b37c4c73ec571785a4c63677565368e5ff1ba17fc5409befcb784684388b64df85d578b4ee9ce5ff21bb87eaa3472d0d06d7c6851e48212ad89cece8bede8a81782bc06a8a7ad2040febb90d542287b21211764846378c49b4214cf12f44ca6c8394235f9df61ef17904a3e8bcd757f4215dd0702ff8483c18f15a929ab1c3c7e7873bcccd7b165ff60f9fbc6fbe25ea34849ddad1e112507ace406bfacf41309dc69f755123f69c3d73e948864647db6aef7ddfa9265c9bb65c9832dd32b801deb39c189e18b99702d9ed22186d780a7733c370e7a457cd0f61e16f763d0fc4cbd2f56f877637d6703662df6ca0e5887e3d202965662f58df41df458e9843c275839f16551ea951a6e6195b9b8c8ff022f367d0110a990a23f1b369639de894da6b2786cb6a33ed0c95dfae4d3191540ec10c85601bbcc9161ad8de34fcbe5a49e6c6a73330a3e1ed499695691b0feb51913732242d398048a8f8e7395df4a69d14de3d733c17d2b6f0151ea9c6b097ced5be3b54484e3cc0610eb237745d1a6353e54e984ce7cf1365d3d0855d7970571486c0e1bcee19975d0877a6575a73ca8aea2e8b1774df8f662c3389deaabad1a85c02bc764cc2df4f013532fb09cba511a6ec16d7a2268a60125f266e9958b667e7bd4392dff5e4a21795d460d19dd07d33c51189d633c416d702fbd9832a6a02cd60d65b63bf5b43024ea7fe630677ea631b8b12b609f13d120565d71c070b784d57b7843ab4feb851567602a85dfbc38de27aba408dddf83bca0b00aa2fffce5d77cb7a50761acf5fdb1d9ce509694abf709300f54592af0e119004e75191df5d4f48173bef124d218f1d14713cdf616ef397bc96a4ab58b75c5b1e863d7952c0624f9fae20fb34dca5fffd887ca3e687ffc915a00e4d38783a4e2747101e62f1d60e0f390a35dfd9333dea1def60801acb67728190e0a71375902367d9762b458d903d78c8855998a105967b18e1bfbf56789fcc340f6af91b8f43e1f365399d3ce06af49052f56964c0f4098a313cdf91be4ee7b702fb4532de581abb722dcdc60e40ff42ec1782ee2805a295cae027744064376ced26e9dbe20625b45e00735c209fc55204dfa235341751310415849cbcbeb05c9cff630893a37052871a2b7267711a7195bae5fd3cc34682eeaa53e21f1017972efffa1cebd6be4e4e8c14bb0511fe8bb1eec571f3de7abe69fc6b710c94a704a79f73cc325f24e986754a148286e3f9b56b3137072716a935b2dce72ced58a6858d2f1f4e50ae8683d0bef7abe4520b927b55115b6c3aa72591119757a211a7024285f910d9e5d5bb29349eee4a2e68910dd941d29db3d32c5437c9394a4580e5a22000ba0ec7ae368f54ed629a2daf65bf753d9a17131b0173b721bda6bd4ce162570ea3592e94b4f53b1a87822d026dd0cab33153c9df23e8d2b0e2717df10bbe016e0a07e5bcd914ab0c93bdf72d3b0f375ef287767da79168413cfc47fd91d5e65c449b8ed4e4035b20b9e7d851cf5a675c113511c7102f992bc1692da8f9c21ff880ddcccf72de4399256e0022df17e7fb8b38f456972185819cc058679c666200c98210b5a6751448ecea33c5a78b1c34ea06eecb2a0761b315f6b99ef81ed94b785ffb4633362f9b245f8224e991f9cf8abaf61c1ad1463d2143b3b07bd14365a8e63e61e3d693920e9cac5b594824f8d82722fcad4312794c9c64ef0d62e579d9206ca696286f8297ef31cb1ed5e382bcbfc1517fec4aee81b9addbf01cb71576b2d05018628614d328ee5f9fab2fc6d6e11b4e1da60ccc3b24f6e56c4fd086e4ae8eccdd3d906a9f9cc519d74e979ca55db4fd788608f313f468a3af27a4df14381502a83d7754c4037b35277db084260b707130b07accc0f71f2fd239177660db4f050c14af118ff5cccde2784320fb4faf9054d74641a42f47dbf64481e68bed3dd09d4cef0d50ce1113bb81cfc98c05c6b35ccfc9aab256c22da0b3f143a93b5a66fa70b6bcc7f54bec99dbdf8facee7eb66ccea0b18186927bde49c3be057219f42cda97f28e74b855250475b05e0795382ae19cac70e000b929a522369fa769faf39d5aba0e9e921df6e8d8a3191a27d7f4daf72f55c6b361fc60d3aa576e3e65d5586d9ff34e7af92667fea1b49a33328ca21f0e361489b4d90312ad132de2c3f0962b84d5f360266ee12b4e1f342b011c91ebe8d13fdd9f55e3cb3b93cacb301777ddb93ffe4236943b08721488a1167d9bed647cfc6704b137540e151c453835bc3d380f682b6d31a657b37ebce7fc7caca873665348a0e04b1594797d731f3f9001fd856145921998a6b9410a3176359e2ebf91157c37de1fd7268c127677107aff54eed24c20fb90909b7af7b5c6a8cf6d2573e43ea6e3228a68ba5e2ab58ea4e488d53425f87e91cb72e6cef7cd84f193378186f3f7ad4062adc8b7eaa679ef592343094e20d4e9a75ab875a9f9acb4eb7459cde5b13e988a6c0a1e4ccf59f2ba56a38a9e2e90b9902400b77ea1ae3b220e3e830fdb2b6bcbf6694d1cdf1c69d1923fed3e4f0eedebc1263ebdbef78e9ae203613c51adf140dbd4ea5ae1f840153340fe5a73298d52485562ad206e2558df926d61e8c785c7131f6d084e49431aa1167bd6bd6e7fdbd21776d53becfa958e063df139c0632a061b61d75839152b4b2d8e4c781416baa6834e1d1b52c1edeb9a3ee099cf688863401d17bb93674774b4e20900195b134d4e1dadc2913c210047c1efb29abeb71dc5980747843a1807cc6b44ebadbef9416f06df14cbec12d61bcfedc22d1d1ce47caa1b81eade3b84c1e618cbdcbefa3321869d849146a22188ce89f22b1d57c87cd5ce4546e3cf2b90c48313192eaacc7482cdbe93a187431054d08c144b143901bbc900d7cc3ee526913a02bd3b648221379537976a935526c9e3267e3cb2df20b3599e5801a06c9e88c3a416d3d1e8395581f1502c99f759569742ee1e7cac62b545bca08ed1113aaab6d4459b8d43bc9ef5461b073d52c4284f6b5b65de8c593d90743e5fd23a8a23f991ad9b066e73c06a3f04e0e36294bc837ceb5a29acc45a7ccb930b3b490bb69a60be2de70062a6d79296fb59b8b814de76e6feeb074c5ef1d166240be27fdb7cfdad52ca6be766511871f51ebe0d1910da3e10fb4656850e906112ad61f36eb59f84b63eef3afd92cb3a6d15097148ced84bf34692b794ebc81975f239da7d04d09ee235f7096ca2b5385b54ba9f7513bacc07ef95d941d7a7591c5683f5c72c8f8e076d52ddeea57f6e361b6d21b7772861ce56bf9f399bf0567228e26bf9081332b0d8bd58cae683004f57aa02a05a52e92871115c7b0164837d6ad0937332133b9f2bc55b95ce0a6b12ae202db795a4c81c947a192c60c72876316efacf24078227d0c1a99a4fb71eb8bd358d393fa8b6ac0ed6f352a5660ffff426f362e0a7abb0bb485e27a7bd623ffc7c79afbe801cb89d2e3b1f198f906c1cc85ba549a7a9c55d5795612a4c338304f2fc6aabb318d8dd92fdb8ecd69759a15272aab2a0ae7b09492440006c742bd54da443475646fbbadcc66fdbcd3ae6c15453d24152594b11cb6365f3d77f6f3ef1eae0384a7f073a698374540d68a56d8f65c9572465068112a2b048be0a8080f09a11e39a876c8d61be06b528632087eb066859c18a044ae889ee308fc5f2bf12162890777ee404c8cbbd138ba8bf2d59f0ab5f171f59644e6ed8e710ca77f31cf33f7b6688729006c743cf3c851490eb25207e149da2782819dc99889b0267411c4230ace6d3c4df687f361405fc48a62138362ad7019fd38fae5ffb3709c7dd276adf6cdb8dd6a028cd424333ee73b3e845202a9ac3a6b88ec147f29d159288bcdc755f6e9742ac1c187ce0d5bdf73b1bd379a5718a84476544bc4980dd7be270e2278546cac038a231d4a0994d5b053583f4ccaf316fdf174de2f1bfe2fd09e4b80988b9f857c88d3acf74582b0914344814587ef775d8f7faa11d0a47210ae3e2fb6e56b9dbc80dff0f2698eb8175f440512cce2b2d252532b3043acf236696197f05f0a8ca31a317554fb7df28ef99ffa68599b346b67ebd3ed385b93b35774c4e5279110830de3191faee13748a38d31ccb92889690f45507d1c0bbf33cd553893a0008eae47369258b6e69f428dd62033e92e2cbf7eac79ce442f2f07cb99d90058eab08e7fa814333d57e1b951365c116dc516680c35646c0fedb5665497017c409ce168dcf8dec9fcc0ec4403df8031a4becd76513a964e8f4e287c3145a2266f55ea4c369906799a65b2ecbb8e25cc8bfc569a0cc5f5260ce8712c6a517631e5768890a0e387d9fcc77522261c3419a881870a0272b8e3afdef1f0ba87fa3f1394d517647c886a36c3e45692c007542f550dde661e1adfb56fa1a4b1f6b546c1ffc855acd862a308ed726fd5b83a34ec8916befba3a5545bc96722b3016071d4987a252dff2e94e937ec3a86251443846b2c1d7bfb2bfc5e3b60ee4080c3f731cbd6b86f9702805e3913a99ea49aa2a65fcd0d425073511359f44c70cd89222ffa04900167a4d53513daaddec6b7c1d5eba1b5f9ddf8d51eee8df18733b56fee9f8a13c0ae8b2f7db315a95f80f6f1dac613a4d4d459dcd1e88ab63968fb89f63ba3d186b84372f4578b34f50552ec5aa3890416f242c410e197283ff01181908a0b4661c502a82d2bdbcc9d4f6e8fc1aab100cd87e2cc1dfadcfa69c037f47c3b383e437088bceed955382e264c4bd76485b0c8b6027c3e994445d0a5e3e3723456f45d5eb4673ea603ac01cef377a196052ac59d0d41f0d08e9b72ca00b7132e066b48b3e0630c6d7cf503a32bdb7a10c988a72616eabe74954c4da41f97c67f994340a587f3068749d8164a5a694a3e4641b96b442f02bca980d2b6f8274ab65d53556ef41aff16e1ddd8ae7b1c88256d14969d17d6be67a733da7c4030c59c8d4fc69e7d02a7d8027cfc82ad19e1f3c7d5ad6f2a934a6dd64d86bc84f8d8430d8de2ec52c041fad34917dacbf1b91f89c6639cabe455854a14a4556d615bdaf3cea67419dff2e7593b8643ba6937d026f954225ede79c7b574dada628c65b41a8f09bf36b9d6632072f92bc52bba1f0b90dafa99c67f30f130577d97a5b39a2f28ad30c639b3839e89c61a32c0e532adea42c394ec9b2b78c6a6747b2d5c6e89ea412e262b6b08becf5de341648735b508c08d1deec22d179765b1e59640e982345f9e2a650f10457c4cdf5eff6c0594b50f4a5d24f55d2751183dd7b89a16f64a89cfe65157e3081d8a8e8463a37631f6a6aad3b886a6dd5bb873b17c6f03472f7d50408398f5512c6a07840862a30f69f09ce71cdf681b06722b085e8db6ba060d7d2c6fc688068294eeb007dd23ef868689e9570e37465aba443417c2b5476a927831fe378062f0ffc7ec75d00a7ff97422f3eb4c112148eba1c9f222218241345d994c7224c140d9f519ae78474cd5f53c50c5a76947458113d922af92058bfadfde1a567a038d65e6b57cc55d1380e9863cce9b7d7fdca17c1e30b547f89e2811228b677226f6120e40eac187a51c398574b4cd82b6b7b35e922c799ca58f17c3c111e7e40b2caebaaa351e0a8d67fd272c00ae7415dcd1492fc0662cc9fbcc8bb372a613eebda1158c5585d9b0d7a5efe06e982ac43d448017ed87a6afc3f85d0755d65dd7a30e3ab52d18c1b235447f911d2f7271428e73b985c3380a2554895f145d357ce36bf93f2764a373132bf59b6cd9febf7d380203e6cc47db144ef7107d53748d30408b4ffe5dd7e85b6c1d547d5d7182cbb220d507cd1d7ad0905cfd08f2997659fb99486c9249f7f4e49ef010b10b4a947df47ad073d280278e7c9d10d8efab668a8a0c313dd0928664b4c69f5af1cfea38ca8563ea875b31b46f10c2688d67380121def04bc8515b147b4fc91589c8f9e93a065c4087ee70ea249868f4a349c10ef9df7c6508d06db06327209a3fb4e0ca35969210b2343208d50d55e2d2c8f3971044eea364121e3804cccecf1d7f2fbc737631e7ec954f8dea382111d7356e5e2ffeefe69a01a89f90aedf2664a5f711782d4a9055b368d580c8bc660c4ad2867368cd189943e1314deb26da973134bdfcd1939b8842949088730a537f69b9727a69383e98244f671fea82b09fd30608bd8cab43dd28d03a10f334768bf88db01d48d4e6d73a079aca45967e0b1e48a1b22edbc21bace70bf8173359a0662acbb99f964fd10cfd43fdab055e0bfec07fbbec45966aa9b756e813739c517a2e2a8a3b495a7e92e3a36b2e02d27f5f9b46f4ce9c282c0eb91502a01c2a1188943fded7c48408848c4ca713f8203d5622be51364fe763a183baa6b1f7bcd1b71b6007b7d020a69995a75c1b473f9da1164191137f16dfb9f45a31d4dde0a80918b086462f05a4a0e14e8113d9be4fc5d9f5ad7c4b14f46de5225133587a71bdc96a8a1197c08e7eb2a3841667f28f8637aa48f405209173e28357a4a95f251e7dbe7bba206ad03c744ea17243c51b29bed61895be9e700219a828e8c62e8754675b2fc8511e909b61ad1658c4b7d1dea7b6fec8055b548836a83f808c159a80c5b183822264cfbed3205a70dee2d6a289465b120fecca805a7541e6f3b0252ae863fa557c064ee8599b8e4335c3bb71913e954f6a06a845e3223df0017a0be085734342173d928961a698108baf11c444456aba7828546d69b9e363719dbac318ee6451fc7cc10a16ff660e9d38ec6ca371c48462b77e2a7934b41c5adf793735e58e27b7733c6c39719b102dd09d484e2e77c311312df6179ee6f5b55c26e0d462664429040fa9196e180eaa5c3574dda080a69aa3e09993c18862e4ee31126e03379554fdffc5f91bdc3b7f53b81a1539218f240edcb73f868628b265ade6569eab802f8632cd10635ca5c704b29edddc0de13f31f8971d308ef2cd803875ba104e8bfbc453c2ccc4f8a3ee976a06dd07a0d0ba6b031aea325a96ab828fc66a076aaafc591097e44bd70e4826c08a6d60633fc67b8c053ee5a03271086653b5ccb66f64f93afab6c2b291f90fe119026b7c78012c04a55556e76c10f1c4b74e8410968f92a53ceac5058942deff5df60a463deacb7ff7d9ffccfd3565caeeb7ae74d21d0fd2ecfdcdf6582ba60d29fd983fe6de851707b6bffa24fe29ad26a4e607419c9204220af1b9e1fe9c8df2bd5e1f4fc83c8614d4103a440a19ee1332583a1e3cf6604d45200ec343a104e05646c87bfe9a6faa20022ae3f31f419df4d07631bd6677ea5b001b905bedd688609f63a1d3073958b78816d1e1fea8d2c5f1e9d30b36680429d2617264a7a5fbb7a70765fd67ef47f85fed475cee28d9e8850d1712ff9c700b5e9c3a831bf3f85eec4e61c71ec041f87487f0dc562d39e6e04cbbc8a759696097f7134a7f51ab1ca5721756ac1847de91012625784376ac727747f530060aa1a5f23ba7caed06b244c55d29c04b564863175c8e9033ee4bfef0635becebe9796ff439e1137c396e1d770bfb148cd654ed00ba728a57c62dd8e2f08322222c3a7ef0a8dcbe22f51e0ea5d6f7555441923ea039b425931f43f35d4e2f7a1c17c3590a2e2a5d54d31e242c928b39d7cc77de918a81fc1b11c764127fbc045a82981d2bff87103124910ca1fe574a1b10e5b459f4fd145f00aa2564d3fd05ab09a8fde65752a60b24d434c13019d00faebfa0bed943ac3a115a68aafca4ec763c63ccb46eae604511786724e3caf17cd945cee17e953fed383250868463a8b57e47f1b64b2eda4dcab937ecd50bc43d562a6b555d18f90f09f79386d77215d2dbdb0e7c0cb611313d2bd669a2e60794255a2dfdd70720ea613d4dfdc586e7f5a33a7d52d717f37e0889b0346316e9825082e64df41099cb71d0873390b005c0d7ca788e7e81a99aff11fc0c9035e43379fba3a96f8a74afe79096b412717d21e7c59f70fb53538ac91446776a8e36741146539098f2a8201539162e58a8b4258f5f8be39c85e4a1e2bdcc576c5a7ab434f7bf82ac43723910f0064682393a444c18f05d6be8657b1c8cc64070923db015e1cb19c56aaf31423e97bb287ce4aa0a5f9cc3baa1d2aefdef0d46e2e4b234bf6d7276b09c4bcffbae190655204753e529c94e39f3b24ec2e08d41398b3718b4be061eb14e8cd4861f2ba1e3ce69359e2280cb22b6fb50f2976ccb5e86dbbe628646d3e017b6bb0308b6a462ff72f9bdb9cfca2aa84c5adaa8e068818027889bf0eaef0a98c9f65a8d5d3380a5b82","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"6a8a08b5652ee7c5c81ee1d828466146"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
