<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1175f4c73d830681a2263b62c92cfcf505b066c9ad87f7a391919e4783b493f0a1466df5481153967609211c625298bf073bec1e2cdb5df420b41e0464688178e7cdccea34c50cac0c53350a5e4610ca669b6a064f9c0ae16a020767edcebffaa12ca44ac5659d9f391292563f2bb782e0807ae8e98b4a1b9e66c4e078f77620f002a496691ab75d35ecd8bbd61e70030c61a4d479c6b4ea2d40d41769b22946c7d0b40b722b7e5514fa9f9c8dbc540a92338c84a6aa0f0040231e4a1658d30eb30299cad18aca4a1e81c0f2e64f4356376b685903f1faeb7bb19c2d9234d6eab62059d36c3b31a799b48c97c37f96829727b3fd365fa79ddb6d2b6b459b5bbd18c522449140ae8504268912347f9e7bf745249658aa055e207877fac8871a357b7220eb28f22a7faa02efb051163afcead28a0a61151fee201f0c87a41621e409ae1592ef802ce44225e4d3ec656a2529f493249795ec738bd6af613a853dbb33f17da30cd6fdfc33c2d89e115e7f3802e4c0e265197e0f0042b86ab2b623ae70fa39356ec0907ec4854bc281723129e7b6cc5edff3b7a39f08962a603241e996acbc32aab161de212d6a1a4b3cdb65517faa42f13494e195c967ae9eedbeabbef670f47f1996bc41d096d2b6411dc7ef3c9c998fd4aeec70857877e3cca64b97eac6a20cf1279c9871cdebbfc5498dfc554a6ac81cadf587670439b7ec3876370075ddf907484f868aab881754abe603afb6e49be1ea82dac044d52c5db684be7e5d6d5cc2e03ea54e81b07ffe79495df64a68297c9cb2894aa420e8ec43defe2dfe04619f20143dadad9bc98944d206aa83779391ae98725907b0b82a9f4b214eb1602e166aed305d3f5687b6b7dea7a8b7ac26b4d20a79bde1d034f15556b7201aa489f9f4ed9a14b374e9be42d380e38eaa1e4a66db5ccbd8398bffc031e51079dca7f4e67e2c3eda6c0fec3100f575f70556263053eb07dfad4ab39a5885d5c18bb5efb14ec4b665d0ce51d65e3af7c4c3484864fdab79ce1bb7050028f3aac5328b71da700a0665a6efe72491a0e6512c12d8b74d7b8b295cb8c8687f29276276f44141f2744380537f545c118304f182e199c73aa3d9476e57452f25f2e1f390b8746e4f316785e27438c7f0f29e495228ad445626498a91a394eb4389f41643566617d91c91e2790d53d14709ab175421e72adbd1537798a41de9381ba9d903c8e84ca0f2295b37f47821724c98588e6c5d45956dc22f8f1a629f2cd6f9e8f539310f4ad437be4b158bbc0995e46d7f1a4f7a2ebeda5db403ade711f43dd573f07eef5b6f2c9bfea9fbd81a469f5310b194844230be6d784789764fb53b5fdf124da8e70b2727df338f666cb6ccc809021ba7b5cc9f6072876c87a82c5078a74dc99e1ef395d91d029d63a6b1bfa775a5e978bebb4e85c5eb106cd5828a4af174419a23b6332dff09c7aac6325d7ffd9a3f213a082020edd1a372fc6d21f160ef96b7df532c9d93c5c43c96db97ac229927f67893f5b2b5cd7b3f376b8d7b2954d7b86c7424aa0c2966f2ebd4a904601546cb25153e8422bc4545a8a890f9c64dd495c404dfac26c884a19fc8eabd600bb2cdbfd68c86d93d470994d301ff671bbd274bf28434720ae0299f58ffc3b26d239a85b677c0facf2e223dfc16d8604f209d90db0cddfdb889048e4ec1449f92d7398ec737fffd7e362d955472f5203d90ee090b498bc6b436a3d2894ecb5d28cb65eb6f9f7f4fff1998c5efecd156bb51363f242ebd503e10d145b98133e7d3fbda242c6fdabbbbff0180c36b1eb84ed9e7bf0fe84678ea094bff8a83e8aff58799db843035e0d037f8ac5f14b3621da36c6ac583f7e36e713554401042be2e446b815cc61b9bdc059a2e419d5e28e698a22efdf57a669d14204b3381e0de08fba08fe21d5052a00f0aba6687d8c713359e6dd367f85f3e5dcc61b69302f0225b1cf457c3c13d7e3f4423d2f2a0ee1ee6590c12c03faaa60f8b1cf88e0854a09ac8afdcc4996fa6bd5c214cbf68e130403041c63d0ba776cfd3c805067ba24f05ea7162b61fb63cd0a0cef489f99c9ca28ab3aad60c818a5e0da6cca529372133a8f31bb07f598b5c1c10e94e5861a154c9df37f5c3a5a17df5f3b117075324a1c3489dffe6711a01b75b53b4905de1ae4c77e4b9b9f3a4a99154c66e1dfca8746a38656788cb814bd3713e41e0b0cdaf36e3a90a00ff796257cd54e234546fc2a36f2ad31b64677198912bfb6a7a084c8a642bfeb3496a77018e48c0978c800d991dc9da6487ee440b148b2bd4578a115a68b2fd3e7bc98752a415f00a95da472591f8e28722597b6226754a6c66fffee95eef65101a62c4a780ac3886fb5ab499a107933649ccb69b113496454fb42f4aeff6feb05ba2afd6fb6838c9d5b552b2c751011bae1bddef61cde2d75d822e284c09c0b17c83a598b8c8fa32d13c4a00a94917d5fd1ac34a35dfe455be4511132187a8e0e3f63d895eca8ff720ae278f13cf1f12caf55f0e0c3231eee8b21fec2e0d420978ac6cfbc14ab20b3e4e5787e3e2a4ee1daeb63b7d22d82d9cfb3eb6fcd3593c2d5c88acd9f1563c1c4885159a4932b8f23b0621c639521b2557cd9d61f3ddea9c3e4502bc61e199f74ebfdb87227cc1e9ccdd2f9b63e1ab13140d9f6af71a3b81368b53563ae6fab99065aced73127c19ce3e0a27214008c7e07b4f6a5a7db4cff33206ccae8d3828c4a5cf33d9a0c040521811d81524e1fa7be7648a934f8be5951ee31ebbac77a4a77a7b4a290cd886cedb0b58d9764c2c1d80ba409bf7a00aa31a0a4c99284167a0a9e9a8ee549bfdeb66bf5419cd4a836b03a8b77cf0a7634b7f8837313beefba4c1db9b12c38490e567574bb0826646b639b2b3cb956f7e4446b223209ec78be6c38f9da892d74a548f6cd9a67f98571da02f397b9a56108c6daf6041f34cab1fe8592cb83467cd6b7638148c8d3cfc91b651255a64c49c29f0a338c87d00ebbcc0393291a03aa4d83d41e6091128d64e5425d2d50682ca3ce5337eba5c8572a22ea5074bea4fa59b948aa86f684284948521b8e42cc087d2210e91b0ac63f050840ba9e8fcd22087a396ab9a2fdc9be00ed71efa8fb2982fc9a6bf27a57e13525dd040f2c687b18451bd4e42a5360fceff761df04d010dabe18141475e335e8e59e68d0e7cff71661b1050a212fc9e1fac0b5305a21cfc1b045e4d8388bd16b02b0d2d16c244f13770c402e9a899472d6820e336e86e91589dbf58bb79fbf6b1ab78b5c828dd8c8b711d8b989460e8f0d5eb5fd75e5a7f26961e0b2e3c98f43f1fd708f502e6f5b63074cf3c7ae3622351e60071d3d6822828078a215e848d891a0002b1227c49b2dff6c5bc01ee23f108916b8394a40204ff4c301750b6cc002b20fb07a0d189d771486cd46bc05ba9e3efdecb9f4494d1f8fdb1aaa0f9e3dbeb7f010e5fefea802a93ded0749a6fdc63a9f5fc868c849721aaaed5307f2c44d76d707451081955d7b04614cf4e190847cc6f1c7d2f70fff8746589af20f2678aba8ef20bc478f0c247196614b63a931e1a5157173549475030e33bb9a8938251e1be3715685c9896df423e8671565b640f9827b63e3c7434d04b208ab065fafb7eef4e60d1dddfc284519f208a1dcf055ab6847591812a4f06b980fea39cb511a2e6bad0a991b113ccaa9c70da759df4fbf8ee41a0c4e28d6f9c4bce6781a256d75855a6061acc47c05dfa028d4453356707ebdcf981dcaac9926853417a7138cb8b72d2011706a32923a81666c61640acc6602ac5d45a72b22ec534b5153526db26d4f37e729bcda1c6394bd0c3c557d52078a5689d03deb98ab0f3e56272262e34971ac1e2f518d22f86d4cc6f9d5b2ea0d5e2ec026ee9e4d330f4cb9cfc2cbaeebcbf8501540e36b942f0482f0f814c2d3ab0e3a894c0b0f1840230c714a92d0da4d5b87c5aba9bdf3782791178baa435bd25bb7e09b41d1cbb3462f0d0afc56384d6e1c074e402a149306617c6d99e589c31bac924bb9800c57dde9c38c52bfb19076fa97f57e5778909643e212a30de708b9e0acdd88d9ad9a6672106339acfe6de819eff6f0bdb5d8730a596388418537de4eef48032d08dcef7e0b23511182ef2d871b12d8aa83614712de6e2db0a53a27d068661423d889598eeeabc23525d92e251323acf52cba6637cc10de574886a78012e8d211a1a06528be1150b9a3d11cc0a9f41e95d026d6da984dbcab01e26d2eddc70af05cc413e7c83da279f07ac4fe022063907a2f22a1ef4d968de20e7af5cbff7f8ac9b0a76bcb0b5bee6d9ea6b43ba00adb1807773af656ebf534241557fa6ad0824c1a9edae5b86dba08b3396f5e721f9139ccfe0d56018ac2f80208cb977eb04a7d9f9d32049b6c14dd5a3ebc210cf567a7ede4005397db8d1b626ea52bfe85cbc3325a4e715ac7e53a4599544469d8d0e0fa238cfd179537048d7219d20cb5410af8a68ec31edb94e167d2f55929d6c1d0a0101e09ef9b2ca0d69ba4600648f68f39da101c6a59f186b075d575fa29912bd90f358d5dd5c26ef7ac32c332ef0a5ac5387ff6e8291509ce22e81fab9783381e1250fd8c166fa5c212eafb8d5e05121259223c88e13ab169560387aa65f3dc3029f06eb4fdadbcb81e3aa570f1c4cab364134ba7a4ae8282732e0bada7b386d4f9696e05b5e5f63c493b43b426efabcff5e5d1581cba01932bc96918afcd22bf567dfd5b590554a170ba8d8b9fb1e15809abbc0961df18904e371a25202cad351ff91b2d3a1f9afdae07f188807b5e5dceda321e9b901feb1cc6d252cab7e2b3768f826c0c594a951b6c8f00e75095fec1f6d9f1095ceb20e6f906306037eb75d410c16e989b1f40ef80e80e92758893ecb807c90d584892f0a3ec60d99af8ddf3ee94144e59686ac786754d3f2e86fca1914a9a67829826034f33f58b3c595a2c9655386fd529b8a998794da2a35afdf5e22a06f0c822fdf88fddb4d60c6b3c6936b119f8e69e8456dc04773ce692e802865f72979e1714b363e2d59e994ded091f66f1eadc6e5b7e7104732e4f3fb956fbb2bd5234d8d15a29763c3352891b79512f89c58d38fae010efd8c7662a3f3ffb1ac720546b870bf81d85b3680605b569fbb1977e4f62869dcd444d4ed4464d4bbadb4d9c237707cef6bcc9ffa56e237031713128c7f4286726bd2535a890d0474fac2086bc19e2a4a95e94acf304547350918fed3e28c0dc8f48ef3a04a3cff1b61803a3101a1878982d5a1961a69b08b0f3f18805deae42f1c5ca1e30b54b04b5d5bae976daa4adf5041989ddd5456ff69ad5c8c7cc16b31eea25f28226227e876bda123b242dbd8d5eba69d757a74c99b942e400db5ed6a02596cdb494197cc3d19fc98476ed798a32eb63d64355e04ad2f4fb065415a364f56dea279977f75eab10c9eff4353bfd04c2ad5507eb1f0241ee964fdb057d216eaec7daee99524e692547557078476b4b23f769eb2f187bc3b823c6ac91685fd13b153294afa264ef94c12958e9ba9399194eaddb77d59fbbac595e5cb6ca17cd67b0b13dbca86fd20f41a6ad39dbc3cea044b4c89bcb816e48253520953bffbff2c4c490286a0c1b6ef813e14974012cb02ed7738835a502d5772c70bf54808cba9cc84bdbd96f22d069107ad70ed2a188d8b907d3eaa0d82b6220dab2882bdbd97beb9a5e2849a4a0034b42939471a5f3a960c936cf78b09ba0118a8a8571ead42d9210b8e675b23a6864de3991e07ea2974a04772d3ae455deabef10f0088f0577185bfa1cdab9a50cff594d992710eaebff3a163d1e3cfb63060d105f5f42dd1e406d5b0ca0b0bceefebb849ae9b86523a058e2b9c0d92f9ff82fb7443291e8ff486813f7cda15181e96b06e9ada38ccce5267606ce3cb6bedc73a30c196ac5540152e99b7e4bd71aada5dea4f5223e19a8fbf0d7ee27d769a70f42f6965ba5719bc90a3ad3d7389267989270d652aa83c21db3c05bcde70827632b2c7eb29a199642e8503676a85d53acd09800ee5d4d388993bdd05bab58385509939e58c15bd56eb0d4e036e8e4860835232cbfbe9074bb5e9a6142d3ceba775944914c43c2804598ede21a4def35c9c2d22ff834e1a1e14722a989a58c120e4efc8267e57972fc635b0c4d44b9f5f4d4b80682d50e50733980d96a012db154e88becccfe5068d2a69904f7ca43ce1db11359c060c62eddbdba8942c44fd43828421c5778716071e11c34b86f61f6d9885a23c8e4c0ec33c1cb48570380a72e6142eada32155bb74cd93b7854d226d1668a69a5bc84a4d3d7c46680dce1244eb9a2ae4ea75772897b0ee0fdb6da48e1a83a006c5404f5f40c604336281e6c72146c8dd9ef1d4268ed369419892b1e1a4c1ea0ea42b04fcb0771eb0b3911788f8bcdf8f0fffeaa1f6f2c8885b525f6206aa3d91cec4ff6e34a9bcb1bcc798515c1771a4a16b43afdef2e8cd28de9c03f6643720cbcbf1ddc05d8d476893fe1adcca7a90e553211b40a306fb43ae5a38e1a8bb26ca7d717b4e3b3ee9e7df316bddb17863448868e57532ddaaa2a2603bad8fa7d8730da2b21a838fc4cc46dc5925d4c9e12c5839062b4c2a0ff432344643a3c2006ef6d27cc0ac123544c4b9eab84f76eacd3b80344c57d2e7777dc4960c3bca6f13f72f7d9d1c8872d6d9a5a336fceab7a8417a0deb449765cf1126770fc8ee3ab79c5da4da15349f97c02004f95f8e09e26b80033e64114190446fda3ecb78ba14787bbbaa6de3658fd1e1fe27efe225a68e25548eb6f0bb9bc828e0efcfff1b8032971ee9e9ef2d27b524a26b20f9a6b776468172a2e5f65806585a8d6cdedd5d01e6dca1263e207d4d3978e6b7583e86659f63f6de2aca10188eaee027ed8f6db9f693f6e04bd16dc6cfc40f0acd377689510d2631dd6fe334a561ed9adbd3be958db901f14df7cb8b3adab8a0f976b317f4338e015a0832a4a227b71fdbeeb1b4cc0297f9dcd4678e0863a2376c801541ed540b3b3337b3fe28ed83a943577068ccf7792322feafff11c16709bbddf93b72c21493494fd300a7753f7edbff174149e3ce6e32e2e66b7122035294e92c1b1bdceb22c634d630cc9b477a317b13e4f0c8bd7d0b2d7f9556525c320ef94bc9f9f4d85a344812b2c0bb9b1b532188909a2530111c6442fd849192ba88f02f7b2d4de3cf899e3b809264f3c36442824a8082c8608c6df81dbcf9f07ade62de456d6cdb25e1508434ece0ae33de362b60174236c9d4dc962c88284fc1be200a522df35b710570376c8b6ffb6f73e0f4f2c421d797da09893bfb1440db06ab216db97e45d566f8e59bef72188860977c7902b93dc2d6aafb648151bf7e639f49e58abda67aee470972b33950be5cbd83dd3b1642eefc55de2a0c7c1bd7bb68451b21c1983dd21bcb15c8345066e6d2c26f53cba4de72074f34ef15f74ad97896b8348555a4927815f9a2615cc6b088850b8a9ef10b039784be4b9f7370f2149f29ccd217fd44b67dd5acca2dc57ced62a63eb072cce94c073e40518688856ec908442071fc4670d7b9886caaf826169c35271c8ec4a0c0054deeabbe0647ebf5fff82b78a53fd63bbed02e4a5ce0d93e3c0a91fcce2f90fe526133d5d2ec2d329ea6277c112891a5af484a8126a116633821e61af5fbabfb3cc61deb8d871ad1b5c497c018a81d1849d99402ea1b92b9b28d4a6ef2b3108faa3526f80a993e994d4a237aae98152ac6338bc4fdff3d25b3714faa76de042efa0e3bec481affe71a55ac78e5fe1bfcfeb42145b1bf8b696b165fe40e096255f6eb4c47debe28e0c1b4efe740aa00262808250fdf49378ea97c2ef71f870fe6d5eca550c6a0c13d22987389022aa01302b92bf64b51b2d3606fc5c79080fbd184d10e109ce0a237b049950a2b0d25b9a537438a4151cbdb3d4505abbbdd37f299ed3798a514bbb1131945458423a5e5ef65f5075da8a216ce9b021c63d9e1fe5698e4f55f004be65f958aff1517310535422a0453afd91932dcd6fc23afa9b72be273511d4732ea3bce0484b687f822c9d59de2cff03ef2b01c5f43d0629cbe539e1d6a7ccd4c37eed823f7d0ae1a4a341f37bd93e34b2d6a4ae6386b3cf3731295cb659b85c990cb19bb3bed9121eccf7e370c366a80affdaa422788c9b98bc7e046d0278a7eab1629f8b7fd25702c7c1750324fe09b9c474a99dd96510da87e0daae245ca3d754eac532aadd75da8cc5d223a0e0f4651af0b40e14a89c50fe678a2d1478c61a22042c10314c6b7b11c61a69218b7a381b0315303bb3827f0d2aacdc8914037aba9d4a44a797766992a25480bb880c3211fdc1f9c8b0a4a2ab51e20454cedc3609410e1870d61281badffe04e6a4bdf8ff20def64a8e610602f00e91ddc0f1d62cbb4905ecad031acefd509eac26149e7a80747d9c6c785462139772cffba9c265d23053c9e8acdc4075aa20bfbaaee41cbd48a9aba1cebdadc3b7975b02b957d7fa6550933827fc71d48a89191c06ad99a91157625f03faa0dd7a8944a4e8afd0669485cb0aaf2572deff0c48032c6c5264c0567d5ccb0971b7b091f8d175563b0e585c21027f2002a0fa2f3d11554fbc5e7421b40f12180dcfe85fb398d831e3860309b6327553361cd0507725f139ca18ff232fb0ae03fb611ec9dcc208196e85c42ef1b7fa76a7170815bfaddbc7af0e1878e52ca3fbc83af19208af999979da21dc8302c114e2284660d1cc462d8f296799389ddc61b596e9096c2c17f186b909aaef72189c9f670a104ca48e99dc5121e8ffc605620eb8819f9f400e89b2c3763b8f6edfa0c7b95a31fa0d3cb13c66580dc9a41ab00efc9ab15036dc6850f4f75fae2355054b2364ee067133f337cce9c79ea418757a4915dc50798c402387cce90d0a8bae1249a3381815f25657abbb200bb4affeff4b033d62b2f89e80808d734d7c374a42fa8432b019df3b10b0ab61956a16d33e070501a8e6066c3e3628e77f6774492ced063f5ac2b8ff9057dcd6332c341cd48e6aa1bf7b0691e8652fd4c2bc444e24c87fae599eddeded480bc574515d661977aed951386a5a76135e40149a50703cac0001775b34ef0b3a44fdcabe93dd26b6d6cdd3499d6eeb4f7b4f32f613bab88dc0102f47dee3e99193700d870a82c4b2069d099e9ea4b4f60827da48342607207d3be700b1ad5139e48f12fd5f95e0203e97550a5c5253c34de4faed6bbbafc8493774e51eb9b7cf205f1e62808d698cee433e76a9ec95497aca2b256d0cbdc5395cab6aac5ec1d0ad58f8d491601df9b4596b751600a7a675dd46c0772b3cfd16f3c373b376f3f85184e34aa9525d8405edc7aa7e5d653ec76a3bf2a8d80231eadda20d6eb983ca738f17a0354fdfddabb42f1e6b8fb88daad46120883d154a87dbbedabc8d53595788d24d939aa196f7cc75c193c79c4db848154d410799a504df98613ee002f9ff2495e17dfa60318c376d84906902a5dd8c684c619ddfbc9b7a6acaa4aed6a2981b29225345a0abc098ccb50741193bb4b5617de084c2dcf39c6a452b77a7bbde4b3b00c37630e3aea9b5c2890d110c0915002817dcd0e0bb4b234857f09cf4c6bd31e6bde0e1b1c17ca6c05a069c2cf3f415a84856fcb1a8361850391fe49a30e35b1c077664d4f99161bd23a141324af2f4312988ddd0ad8f31dc6025a0eff69999895491592d7d53a52d8b4505e1c448ca8748cc5dbd9d2d982800ebe539b33abe2201cc4c76040f7c8fd2583dd80d9280f93ccc798f4f3ae2b7c48f7fcacf9d828a440d4df2b000b376a8c82edeb3774f9f2b8c943601bfb5427fa0e683de17ee856102c1c87895c98b5d5a684f77ee72ab2743b2cbb584ca0dc3766212292c707a999f0b2338aae26a867c10662dfb6a99223597ef9fc58b300a8b1bc8842c3c20c28000b0659946b8e6c9393e67a66d5fb6272d5f9ce788ea821b3d35f0068e8a94683c8d803ddd6e9da65dbaea37f8b6f4add717e5048312d11d4d9714689a5126fd9bdd5f56b539ec43cbe661be94f121d57b04b2d96b0e7882d5a665330837e65d55bc902b6225c77f82b0d4591e5f6fe49cef449c2b0a2170aa318029b2539179e9e91308db07137a1fc54c8be6f60822bce09a71a4ef154bf65b58a2876df684247755567844a2530e7dc7e195adff6bb97d41ec2cc00a583d755e83728b9f8b0ee07564b13d4dcafba969231ab36632aa275b7f53e1a4aa75d1baa204ada0e695d450978ae733a590e5c49ee0868528cb17aaab4b05025972d1615334d183eea42ecfa90407d95a9cf14a26bdeb8288b1317bb85c08637036603eebde77b2e0eb923f98a527eee5ce0f4f7be261c761a10f4bc335d0e02b084ad08d16a4d50e97fe4875cf2b2d751325349a689a6ce07735ff6f085392cf02378156ddc1f65aa66175d9fffe90b390003bd1edc7ef701ba627f405b0c6d4196d9b53e5e50e7361b9e1690fa3b762ac52ae2eb8687f073c68ad6ab467036c73a3712e871487585cac8573215814e64754ab8df05050d884d54501fe82fc7d56d53cd2567369775d52812aea98654800c7dd1fa152304c93768fe4af9d88ce1b3c9a5e76c29c34149a056d10624d8005a031db5452bb31406a1ff78677f18293d8cfcf5e00c1117c792d9ac6e7ddbe9a8dac60f8c68079549f0a4a61ce3f7d5ca8f0efb97ed9e75a7a832db170d591910e0948626ca99d09a37db3807a83547ceeb6ce78b8dd11bc9fc3dfd765d2b91a4ef24d4b9f3ad9253d962d131fc67baf73e00e552492be28939a328b3ee6f745ce1490d3780deb29c20fe148ef36cbe51819ae9c1bf32ef3919800ed3792e3a0c5e21fe73901d82a84349ad6f5b13a579327543e8497a37927405d5edd4548ea3336ce11008df8ae3969a7747bddd42f78f291e59a8f462908f581b8e38c2d590a1fd09b2814765cadc4ee64b1ddad5405e3736964e53dc63e273f797e5be3ed41705e654a2730c137a5089bed9e34793d686186147df093d9774c0108a4ece89a9720b8adab4778c80134cae739b68443da43c57185496ad8a6e7dae4477135ad36357e2af4aafafdc47f76e1de3dfbcd30d175cf1e86dc5f1f32e28d2ebc2213f306d88a8e1501f449dc9bed6829dde6f03d7178cda6d857e25e390c5018892033295d890ca4e41b8a097274d77a9d2b901994651a49349997b54544980bedbc87e3ed5f9e76ca2845cbc256f1e3c697b118084f2b08662c1f77531539848a2e1cc8fbd9ab848e41980bc4df657c73b7bfd18918fe6e1664c75b40699ab9625f2cf19c7a97bd2e339e3b19310fc22768fa7e2647d155175c9efd117239a2d2b0c8a4179a4cb06b7aa81995512689de7a5124ac63a551f21a7c98599827716bcf15335bf470cab9de99b562482061861d5384fa73296fa02190be40b350fa39554f2e032eb31cd33d643b3e1ef8455d515aa6542e5fa80a8d38cba92570a5e02722c94f852ecba619538c93dd0f68cae77e17602d94fe871cdba59ec6964f1b383d7309cfbe14bd710a614b7e31ee62deec7080cd61a4dabe962fc78c5ece9ac85fb3979cf35e5f17f8c7df68283f060f24ef5f8f8aed2ce8a2a0287d067020b2061aad8235190b0e580e90af14282d0f1e832b983a082274226cbd8b8b57ebf62b7cac7ab763cf5b22ec412513ae6af3965933d5db528a4cc2d875169d5d48c667e977528b007f65cef7f6989e9b88139e94c045dd29bdd16c5402af03e1a5e473c88939ec039c5a309cc62b3c8896780a955fe76c13c70383895682151cb21ab41c3aad4510bb65ecbe01cf37e17df6627a025eb7f7ed73a0a4122a67215785b79e2148b5c933c44522bf3f18da748c6fd6fd997482973669bd99dc7fd55a457469422a2a1b2bd64687ba93bb28880a82c745b523f7f418b8d64f69eab2f54cbe321b0c2826bb8747a27dad628e6b2f1fe30491ec88d74ebf4a0996c56488a78e26a303b17da0a3e717dae18ed5b3c92f8a24cfc6e17831222b7192e6ed33eea92e20c950ab8646b5e6996322428096d4493db710efb49ceb4551e74a50c4b9b1157aaf48d14d643469414df7bb6da4a1ff699026deb6ecf6b31ad1d4a33027fb083d28728476145f68a6653c8bcc9d2a26a231c7bd876918579f174bc75411889db488615620459d6158d02bef228d4602b64e25115f9686bbacb950c5f71febf5c428226c45b81c994293199b5e1d1ee98f5f1ffdc7e3f205c7f37f212ddffb06c813b8f32d1af5e6b0bdd733fceb0b1e904c122fd37ba83dcdfda6f4a4879689ff76dd325f13ebfbca84281e91c597cf70815bfea795bff777f1984a168424d51e09634bd09fd1a5d7202224429231e42a2334591e4f7f155deea918ef957d88af90061f8ed70e5462975e7dfdda37b749c7a01ceedd1371aaec8ba9dee401381514d40fd510a34f5c7971770b09d21b3b7f50d59998e44643b17c72203190844ee0483d69424f271b9c610fd6783797a13f1afaa699d6b08c28833e275e7ce751d420aadf12289a09b637a0cae81087ad40bc9013d172b1fceba7bc40e2c86daa68e2d3e502b67ced38d75d6b4c430157c75221c26d5570a37b7db55544a04cf0c43c7418cc09ab960965efe1d36d4f5bd9b4f012e1e907717ea33ecc7d9b8762f128b17d83ef0a3b575bc9ba11baeb4ff62396cfcb158c7b1616498e65e8a553875b67a74785caa113bfbaec4b5eb4d70e775a36d415c6d68745211d3199f34b54423c2ea9e719c4e56f65ddda01e85b3c9801d0cf16751f1fe754ea648a09de0c0b36d3f158430852a83aacac87c8f932788c2230de20f30b0bb118a16faf6ee844cd7f7b2ac94f83042a3a29003a4300ae8c31db6a94a4d2284d72a20e0277db710264a971a3f4378ff0219fffd7fb38621273513a4c6b4ef6e0105fee4460f9d9c1907a73f799ba3b76488b2d305f5eae7ee42556c10c348161a32682167404acd3a04090474c09be19253c12038f74092e64c2c06b2673af237be961a4999729cf5212c5f709805c0f5c78c1a84c05717d5c4ee5c70a2b28d50e9ac0aeafaef2ddd03c7a699ea27c05c580b5074e5cc30b01d5d5da6e0914c38ac20f1c65ba99a23804683be86054cdd60431fc826dde819a2f2a3ab552fd807e3bc519e2f5cebaa1c1e2579ee0750e811ff6ae699c658c83dac36169a2ac23e7bce9027b48e97e4b56f4e100b850d53ebea99462cac1de29dada1f6c0bdbb841e34ae3a08256add8ec57838a986977593433f36252715b6fe750cc144189274708738c9b380651d855ebaa1e11357ed3ccfd390a3558932aa34dfd24e6d19b6ae46b7996fe5f08691e5480450bbdb0808decb6cecec920e730943e69bffb231b90c00e472f873a0322a4617ae124d1af7c988f8c6edf59cdae4d9b2bf77728b44c2bc9bc45127954bee1df14be3451ed0d53329e32c18c4f59c7d9c11c462f29ca126e161954aa04ab6322f5c75d5e4c4acb088d0ed4c29ee91f5c1869a5c04d143135e22002183c8f23dccc5ef7eb1e4017c8a3c49fd5909c4f0cfa1c59a4bc71a276a9978a30379aed360191a045ca75a8e225d2bd120855f6ecf0dd00d722c490a3320802da32c6bf269b0ecb9b16dccf79f9fa30db95fc9ee77987aac3ce797cc2575b020e41eead7d0b98b1a2afb3e84e87f320d273e1d9b27a1afb96fd7599ef8ba6bd2479eec7c0d62fd60778ae1ae9906e6f71da1391be9652b39c0c556cfee3297108d199cb096707bfccf764f7027331eb350b1d385b344c356cd95b2b2e55e469c99f612fc8fd9b326768bc803be5b60728bcc48cb134e418808123c19051adf4d6141d5cf9ac29f8701c0114ee3d3aa1ecd4deb8b603bfc5d4ac1f3726eb4b60cc7eab05e1b652e6e106cd2a7730d2e73972c6b9cb486f4ce2886c6d45277aa10243350f1587e6a3e93e3bd5caca9faa9c413cbba3ab5aeaf0b9514636f1be4341cd1c7d606c8af9f66e330784e5ef114cbf0658d608ef841b4d9e3ce93f0d961e55189019d07d7f1ab1e7d3b7c6dea5a796d0094bcfbb6dd23818d0a54169a828442555dda586e2196e67acdf3975ba51ac10fe8451b17e5972e5bfd7f8847aca4aee75649e362479cc77afb5cba1033ce2762aac7c7691b4a4111cebcc6bfd40d78f7b5fa132b6e84dc75f028d8049ba051ed018582d630268eafb100ec2279991f6964a21c2b47b02244165599311fece8ce0067784722ade034757ee8da2cc0998c9ed6dbdde202fa0b14075d00e7f334571eebb63f48474323c569d726a9835c602a250fe624b97549b9114c8a7219cd8efea587abe7725c4234edca942afc72381bb99fba60e1992f3bfab42b707aeb5d3b43c33a01b40e7bbc966b725c8ecba41d0e9ae6da95f8bf2d1f77b3b34ab88dd7b444570ce41493f07ac24831b167688be7981ab121158cc3159ef9cae02969af926ce7155e125ad76bba2a74c460be8885ec8a1ce2af1fec1770646d862b543f641f24fd03c34728eb9f0c21676d1d66dc0951b6cf1f6532450fe4d0242571c8e65342362fe9d9c2a8547f1e4e78c3fd771f8d79f8f08d76bb9f75db8f545e5ce29d9fd729f43070152b7bf1697b479256c0c97a3d6a58d8fb66aa5b3fc8511cfd4caea46ec4d251265df4d0484d5ffa03bb28512b8d0421aa60a2000588986b1eb84389b330bc5c08ad88945a8e394030d235cd2435402fd7826bf130a770a3814765564ec075b74498bf4a26d6ad7f30e17f83b8ea1d472ea476efd05f9b4d36d03fda09a9d682dd3d7bcce5b480d1dd09d4249d412f6a14972e884649a0de7c2727c515a075f0c45068db92e65c078bfe379d401dddf5ac257e24bf4fd61d233029eae4c375564760faeff9e50d97fba939cbd773fe6d08dbba82088614b924c61f6d855e14b24b23dfd14b264cf309a99d4e57dc137e2b9c9268f6625c8c3e51bf4816d4b8036f06396bf6c86a5e11ad8266b622c4ce8de5b2f9973050f8a7dab4b4624d014ed8b41de31a6724de1131d47be5b57597943647c8be8bc62ee2a0084e023d62097a052eb4c7e8e0ba6ce55dd28a5724356b68e4d27ddcf497ce95abfab5ed2ad1ba145fb56192813012e35cfca239277e75044bc0ed49dc338ce691a001337b644ee16924ed559bf8e0048eed5ee1b28b60afa1e1804731c86eb67ff2983a9c1c51a613af80d7297f0fc2a7c4cf9d54add389def5f7920d1dbffb21770db4f2e67a4d8a962ed3811c0d88ff07e883b09d0fb2c255aba23bcef871500d13dfdfa8db81dcc0a5c781bdd3b523bdbdb750bad5ab2b26a40e6b211d585636f99827438d9308d8f59b130b0387752d1130f9b5eb3c5544f21c53969bc75680cbfc40258e682f141e344c44f411e5dcdb7963f099daced609fdaf18c912d5d74c474e9d0a46e37d78f3105c4b48e1dcbe97c2ce472d63d71804980545454238c2695ef64d75f6130cfc3287bacb559b57ae1254f0850afa0a17db5f82e664ec73d676e83f5ba6f0378291bfc3908f759acffe3d99b3d1ffaa2fcb7d3dc9893fd14f2f786f1b2456896fc38996d0bb078c33feff07e0a706db006f6a71b64e15f3f559b4e500ded424f2a0a69cd7a4b5d58cd630eca67567c041cfaaa1527e99fcf57738d1570513d893c22d8d77961f53f665664d3e9757fee3f542b5ba1b495493a4a90bd6baed125795ad0336e4bcb393875138f0f69602417c5e43f3289003f0ca399ef76170bc9811ec52b64afcd0c3f7b48fee562854a72c6db435d3c7b122265284b0571bcee00795c4d8792a14f977fc9391730ba1b798a0da56b5b2a8b746c5b380b226637440bb3f5b5f86b8381e2c865cb8a24f368c314374322a96235315371568048714a911994356a5d918d3c7c6e29d60e79f4b8c126a8c65d019b48b9b2d92e043e6a2b3cb2f92d72b52f7f48a1fc8f1c07110272fb8ad1e63a2896831d8b8ae4797a3932264efb13708dedb0b7762574c01bef1b9735971ae21bc6322b23a304f9d1b38569ed27a09dcfb34572a8750d95be9d9847ad8608e376f05e2f1ec7c1177e89f3a723f0828451000dff1ca11819f38d6f5d1a27807eb1a78d882db832099f8bc666d3e5bfbbc8fb972785a583b749626e2cef5bb00cd3652b4f2f0a8e5fe5e534ae045c2be86c00fa1984a05001cbfb37578969e26f5f45aa1f8f50297e4db7585d23e26c8522893191e0f1f8671565ac8415daf224ff97974f2f0cfefd51c68219c59dc48c7e68b4fbd5b8692ed0d2ab6d0d4909a4348284d6466e8445aaa3a7dcf46a3591b563225aa686e04b6be96d6ca64cc6994116d1ebd030f0036534d39b30c0279fcf7477aa339fdee74a5cee38c3bccd35a92e04882bf542f592711c6e5c5eaf17d2c0a1ed25294013747269c5ec36576068e7eb46d26bcf601c7bf903eba2db0369ea5e611a2ba197600316afab68c822234e43c5991b2dca25c49b4f6fd88d27cf55e111c20754ba001a0a331db4c9774c51b1514cf8e972eab9e4e48c7e8d27642fb13b06ff0e649cfbfcc2f25ef015ba058ccbced0929554a32709d910758c8021c90214abb3f97b09ced57891b65140b3bd0655f3def5df7481c15fd00191cb75d7da2b6787f205a5d26bc87a02152f4aa1bd78e517e880de6cab6dd26006151f7ddb40d6c4772eab217b03daf0ae0b2540e3ff14cd4afb3f8eaee60b4bcff8528025824c238a92a5ebc94e43045dea88378f9f4b0b46e500a5aa7ff3770f211c7e3420330a23df24e705b55aae60cc5976ae9db27dd4a62986ef6e4a8732e3d966381301dd6f2c58bda7ee7f80e1338f2e562d844b26e45b27757d70fff28e75245f087828c014a93a0f018f8c61cce993a0277ce4194533f9d2e96b617a6f9f006d224542d3404a93fbe14e069d41e6ff81855e44b17f576be88a0eb7d2f001ffa07e80f14bc6b9d9a743844c2a0b737506a1c56636602138b04da069494037d12b845323eec8040e3aabd1f2aee8a31ec4595f1a9f382c9c84dcb37e7e915da7b3ee47409a0c86423b49e093cb24d22de2e999a800e0acc7c75aae72aecb22b69c9f7df2d5be3ee3e783e7d5734768ef9e89733342e51c3cf44457d5b9fe545f107b9f131643c06be607750163fc65a93e4a13b20a83aec3073068d193832769a1f213dde2d35aee46d8b2e20a526bafa93faf74f13d450672f9e23ce3fe8796b7c308a6414b89a840eb2c29a55f23d44bc4b106ad4369a8c090e5123d37d625e64530ff17bed2f3397c574e5859eb0e11ecc7adf025e63a57e5640547f325593fff31eda0f0037f407c6bed10332136ee20b0ec4b2cc380e1e9182a439c7743bbc9a11f1c50c9d90b679158aa535ee60f045d7eaa004135103ffba506d7bf430a3c85e90c0f878b1fcb1a1b7bcb710719522272e6d9ddd4c678f425662d301134c51acc2ea5878f0b4deb5eabfb4a53c92c5b21e73ccdadeb62642fdf2a08cc296a0010213e0259bcdfd17b7023be2a2b4fffb87c9b06a682e9f438fe51c81c0f782d3f588ee87ef293f6f3d26ec118abb79c9b96173ad6a50a0e29dddead1ae20cc6dbe77e7805ebc64e6cb9124da38f67b7d800fc0a3bab2884b424aa9569013245ae4771410722088a9d33eb5fc149a7824cd081d76cbd3358549c410340d2721b9cd3ac93f228d8904ea1392ea6d44c5c1649882f36fc92f8c9e7c9b28e18afc7f7b03af72a30016d148016be06949412b30ebe1c77b35164cd33785fafc842d2206817839690f89a6217f74aa5918e0be9cf76bea87dc9407193e7bbec6e480e6814dcda1d14bb8544dd6c297dbbb515394761debe6b244d8e35a47b3abab83f597d887fe01b15c1b94248f584e829db1ccf5597f7fcb721c925b5e78ea0844681618fefa02b0d11eaad0287cda996565be7099547363bfd670a03cda42ba275310a31d17b69993376471bca06d61f227069d2d65caca271715c9aa41dda5d1a3e89198241a5cc85cef82284952164dc3bef2984bf60f194a66d9f85d9e603b80c3ad0519fba5ccab78e1fc7f8e9641f9304d3ca5168d9208520cfdd61a40af69adc2dc8f62b176d2abb2cea4d8241542e02c02c693842b31973a9a6cc57c9221218bbddb36246adc130f569d0f42b120468137329e0a2101924be722715a35df35e7aaa7b6a3637f6acef879fe9abf97110b42167dde0f14f395b9f9fe3b714dca163a94f4c47329e54a66b01ad8ba4e1b512a0e8eae2b6541cd11596a0e5a5af5092fe76c87d1a523c559f6bdfd9537cf8c91c14be5e0fdb04a1e32faa8f42b836fac23d1631774afe267a00c0dd66e0371558482520a5de4d090284949ac022f9dddaf9623ced7e6e5a9c4d71fc79582dd07dc6a208a8aa4105a50ac7fa3fd515f48230d105eedf6fcd912666382d94a971645767f9d54e4e9b0c1c69677c2e4fe88c96784692847fe01cb1cd7a4ef6f4cc88b9fe70e4bcfe108bcd966442fa511648b8b0719c4a007cd5bf5e6e47e70ec333d6321812ba8489b6f449142a3edf67ff4e348f788c5fd1caca3467697f58edf9809c260920337b3c7e5b6d6c01688a72d8ae52b47d1d18441b1c1d33b29e7fb59503c03ce42e25aae299114ada3dbf1ca1b9f53f3ea1c260303bf62adc01f749afb43d147196bfa","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"82bb1c11930959e57168fa3c5b6ceec0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
