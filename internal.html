<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"32fc5a9e26d8666e21e54f8550aec6a06d0cd9271831644341bb305d638fd3b3d6b84415731f635ef30e0e50d9e1752570ae69848bd99c333bd5782290c8335c54fb916a5da9a77af0d0e52054caf123169d8e3106acce5c3a0d10b87d3f797c187fb235b5fd98bd86e3fa9636564122e6749ba3940e9fbb8c1ec0be1cefc3e32c16b56e8e4ff312d7964b01b2278ec52730f11e70e184ef2df272e878d187363381f375d0a12b7bfc9b79043dc489d5d3c4639c2905b455551cc975dd9e170927843124035c5c59fdb10dfe2472b1e5addb3fe56ae4b60bf40aa61fea9ff92d661c6187c2019e9f1c115c3ce3fd0a2e81ec566c618b98e74b22723a652129e1d9e1995f5cc223f85ec9ff2992463e76028b426101928ec7cadecefdfed5864b0eafc3183687b43399ab2048859a3d593249362683ddc1c90cee31b51d8b2317ef54e216127751c8367eb437380cb2527c0be3e1f7e65f277e6eeb721bf8a15135e266cd68431056037307a17f81875507bd46bd6d6ec7ec4d4684c2516dbc632f7d32b1c8122505d3b1a2c1d1af969cca87dbfaf829c3be937b6150eabc0dc4bee59a647ee92d6d96d2cd491653ed2b0c22f0a8f59e0b46c780bef93998c8d98fee39e433f5119bac01e86f10b80cd73c34ed49602b74d32936a515ee56e70dfe46e5243d009263286ff4630afcd8bbfa6cca8a649a7dae5d0070abe8aed3af76edbaee68e0f4bb88d58a38c3a2c8bc0d18a3e38479280580592b944c50a0e4d8ecbbc5195f3bf06e306adf882c032530c58d36d3b68dde1c124617441d5ab8e676821f3978d87e85982ba57f0ba77458f1b87c2f5d359b5c740e004a3dbae4af342543b4846b45f01c885e348bade6ea6f7112a6b3b7d7f8123005672397f6cb1f1b4a8b43617f63b12f3cb01229e6fa262986972d46987d8e4c242a474d20f96080480312ddba71e16ae8e14a52295569ded2b3b61b6837c32e50eff0bdc86e6f3823ed892e0a7f77a60480cae01a3acd2575767e884c08ee77607bbe62e495be1d9df6ef7430e92418df3a62991265333c970fbcbfb40019aa06d963495aeae1f33a47aacbd07998efe2ca28f181fdf2bcd6e7000721ee94eefa8a458356e8dd09cd9b25bcd7712a9d42f70173ef6f34b5c801a7ab79f6120f1c8310a93ceed0bceafb5bffd5e392a98313f7c9634c3d9c80022f4ef2e889d273accdf20f5cdef192d462c3f7ced61b570213abaad4399a740a90a0e30e723ec5d893dc043f0b251a36042c0e06cffc6088fcbe637a9e0df04a19ca97b0a53fd61d699887789f99b16fd4a9ad26721338fc7c3195220b39128406c6c5058ff388fe384e97d3576382d5350bcff00fd0e74b092d15b932a9f5abfb00a3d6c182742dcb689b7788b4407e98e1cf045324587bb53ebb8b10add99e7f08decc84bff3433f0e1c1e556079fe6a620a12b0007dcecfb5d50954bb974420f94dc70c31c6e05c495bb0e562997077f7e6cb96d3c3de90163b0fabe556ea21efa7df1e1f7aa8e9062f25bec7a0b99da180d439445d430e769145ea7d9789d4627766d28541cd51c45d25ae461f3f0c1dde7f727868b7af8706e0f76b7c5bf214ebe0950765762ce0be82e097c453b80547d4679ca569b2142048484e68ed1e7905b06a6e200223df4b3ca5c0bef007aa19fa675b57af47fdfd3d9ce49cf3cf72522b59b3997a342ad26323ea2b39df91a743bf1967d0ad4b0bf40e43717d8b941ecbf6755db66a545642b377c700c4116961cd3b72e273af7bb1c68367b7f4905c4055410a965fba36a09665c03276919f247886d3cfd8535d640dc5cbec6bdf45839db0d1a991f8aa022a121eab41b0be5a239812689707b61fa8feed8ebf2047b815e7dfc61193065c495740ec481e42aa3e99e27ce60d0a4f6e3b4ad73ef8be032b4b66b72d106099237f8152f0c05eb2539e8e8a59bbe47fffb90887df93037b5465a4856debb926c2111b05024b91586e0f33ed85edb46a9401414b3120ff645b05a1a40416c529965c5a70d928fb4bea89bbea1d9b94b04ba23c389e2c67ce91ebff6361ba7a83ae617273b6542aed8e73e5600b18fa3df5935a7f5f52b9fdca5fd50fdaaae6149d794d0c183a1a31a4d8d52fe5c1c47f00935da751cd50f0a0ef515dd185677df0528011b98f61849127e8a31cedc4547cd1b8eb61d3146e7e9aa0f6f4c5f52d208b4f4f1824f0897a817045d4bb3eb346040313f3e5086f30c7d964e2ac58c5dd8387d8622a95266a74e2378259cc17cb199f7233a8457df8a3a2042e7bd9254fa17cfdc4c5d6c4ef90d45850310848590b891056337ca196c1ce31835b5bd87fb89c456a6603f2e9d24499f73211b636a71a0d90dc19fac0f13f6feb184610ac72f2533ae03fa772f387c3b3f6858be55f361f1e1fa82f7caaf6c85d203c4244ad4fa9b9cd2cb77b4968b14bbe6c17d831004d0385272d1dd6445679c096d24a57682ba1502cf3c7c92d4e7b0082d0315e97b78103f6208d245d3ca794e70208f3adc916a538abfb64d1c5284e2a936880adf5ad064248f2049597bf7361b325bf8ecebdc0c08a6d578e09d638125a8d371b6f71d4f205f2eb1dfbf22990375b5a47e4f6d7d169342f4e13f93989d3200e20e15489c01cc3fa9b79be6f644d9b671555f132568eaeca398637beaf277946a5831b122930515ba07061dbeda243e7a63ef637239c0a3d22ea10fd56ef4c98ff4472325497220fff8dbb29bec4dede83ee1768d4b86fea7490960468eeba0f51ed5acb6b30b944b5148fd3777470fa39311301a744852a5d3a69a0fcb89fb19314ec6e48df81e766a8a5bdd10fe06a0990d1a216e0961bfc054cec2ac7ade6a03a4192037a3c3edd890c6d12e963b690c3cbe2380229af80a868c667953f7fab308657f1686dfa075b2bae41eaa30fd565bb58e0e86c6e8c5360f79af18d1d4bfa986a4a09526aaea74ce75861a3c54719aaa4cf1b464414db4a3d21b189d7722f8eeb7b0242bdabcdb33c0027745ac845e9787903eaf1e94cb5c18bb16043370f06585e10754ad1d7268548a7a3939b7549756f67a547cd159fed8f9b1cd6e4a2b281754066b66755d810e9889e8e433c37f57aa60c8a29e8a4ded42c79db333264661c44e888233b95272606a3508f4df8dd7d2fdba7f8af939aba83016f3c43f8c795d7a5802a83e7cb2ba2f0680cfa2fe786411866d9ed64ae94821f14febfa21420205fa34df8b7f428455dbc76be96ef39ea6b1d8ff2d42d26aa8f39009fb753a6184cb8c234c6bfe447861bd9023e739e5c94921d5c23541cd2d276895b0cc0d20784b8680858213464ee695138a781491873a8a9251306051a133603200cd3e53bed7fa2563bd35704af13eb07dcf73869d4761b2908f5397679294a8de63b8638c180a2c6561a78e94b30e321aac769ef0e72c131ef13bdba4fe2be93b2212a8b86a306c9871e90cc32b15c4e9484fde2156d0b70700bb016e754a0c39bab09c9afa0d0c47a848a16ea78b3319f9cc741a88db43aeb70c41bd8e8f80679825ecd9d955aa4bf9097ff11c58a49d4dda00519383d701cacad143a8aea642cb2c3b594713271661603f00fc5e9acdbb3b448ea801e1e089f72f3f937601c3a90f2269114cab4497b4348cf70751ac154b073cd606151382be6dcf704d05da2d7cdf3bc75dc1be264e22e18dcd11f53b65cef3dfb474e4896d9913a68efe98e95d31305bcfb59e1704e14ab01f0bf2173d3fd918f83d842f9786664344483869f6a0e56f196f99ac91fd34e6d0b35c7a4dbd1a4ef5d62548445f0ab0a03d36df134ff2d2e98522e97ada1e3cc3884d00822ea7ad3575518e59895fe1401991bcf7d73a055f0c232d8c1065187201b110b37760f2f204532000483f288631b7e7154ca3d3900688b6abebd6465b6a4cd082e099d109a85b6e70ed8c7d30c1db60d8686effb8a029a0625b3847ebf6cf1e663e9a7cbadb8263263f50ddd9b5f842e14e37f6dc5254ed22099b8dc97dee643532ff5d3b2f6816beeddd0e26774dcccc2efc47824c63b0fd2776062a82328a072dc7e184211156163876413c6c0b01a8e4128419c20fae84cb5dbe741faacfb7cdb16f2a0988507f1a7f6a7df9c37874847e40d37d0173752f1fcadc49bae10a8d9daef8431296832029a9ff546058ae02f79822a0ecee09add6807ec7c27a4feadd798d6759d781630f8fe320adb20442b31f4dd07ec20a1aa1c1dc9a432be34f03fc91170e8e0f7ebf15d3732535a3cede97a24cdfda1c640e893eb66e9c791ca4e1358e91338136877f6a96526ce1610550e5e99b69422e200f0535a8e4e6fbb033d9e8b88435dca2c6f3ebf1438ab73318beaf3b094733b492db7ae283663981a8c01799dd3745d651dcc82732315c3ff0d9ca21abcac96820fdb6ff6b08cd6222a30cf7c9202234698ddb57796c62dfb4d3c0dfc71aaa835486c2199553f8ee10afb22d49b2a0403a53e87b1351dcd4ecfe8ae8e01b5cc5bc950dd98dc8224f3735ab6f09e345088fd95c7ffcf5bda1f91d368a251f5f10f66f9100816576480085775fa8ff21b690d93b19e7c4a02420f23377f8f395dd4449877c2369d39d74cfaa35d30d7ac8edf6f64863cf4b4c86454c1266db2b0a48ed5b638e8aea3d6228d6b7fd2776221859c9dd3c8349e0c8f7f1497529b0006357a6c2c5c80d0de6d646de823d11647e365717efd25d801eb4c6e7474cbe4ce0290b23b5b608a48518ef51e20a898fd37022aea01531800de901503b3777ffa070ead3545e4631293754fa0aec6a32036f271440592a96d9c1d56b8f6b2cc7d49912ce7b3930d144ea3e0337ac4a1a0df477cc72ecebf7f9cee680b5c596af53bd72ab5d0d443c35461ee427da7d6d7fbebc91a12a376b48dfc07725d44bd17db36bfa7228a18f50514ba40579e4695be4e15fcea2342284a7b5858d8cebf831413a596db2f72682aba0dc405d7b0ea907f0b2a704683ba9d92a7619ed3b56b1e50a08445ef2d65a6f0985c511b07a990a8383dd67b5dd4af7eabb5d976becce9f54f971c62f3870c45387c1cc37a8b11695378e445798fd21cb661266fcbfd69fe933eeff5bb59625ee524d707eb71b7287e0930455ef45bfd9138482a90471fbd414082a669f282bcf7bb92ac5fb610e68b03cfc02a8e1482151e5252606631eb5077e937f0839798c41dcb55160871915a0f9cd9ba30b2b9ede105527dcfe2391035702717320a3771590af2bedd8fd80cd70295d91f4bdaa74a699bfb26dbf42c22e996db15761d6635a98ae13c7e5ffc4aa28374bedae16beb660b42a8310e6c7c186ff1e8e255bcb5869f6c3f5bb911a5c011e29f4d31bea7330cc1008ba30ebe7f7d20cc14fbe134669f6a8e3d8d5d789cbd589c56fdde981b997a54c6919227a9b3f197f97fc0c44e2cd946f0fe34bb4b1da1d8803c04e22cd03d5be7e19fbb28d554f70a9248687eef403b41208fa6dcd5f80f51e26d8fc3cfb2efe3f8d531bf3829d71bb765c6cd61001e4d917920208934b4ee45e064e348d71d1c746473442900423c02d9b010a53ca8225099055ec489db50ef7f651e5b20efc5b692817db7c4d6b50fde32428ccd9c5d86785f355fb0c9c70caaa572ab87e987534f7aedda47311aea447c2a1537a8a49e21a96fe822e276151c2a60acd07538697d7cfbc1317e9ad6e623940f2adf7f11edf5844af3b220d5a2a3fe6a68f4f680f08bc05f3a05055d76aa2fe1ee5fc9c5ee531b54e38dfa33f0ec4947add0881c0f703e557e354385c6fbae076da317efd6d5c21bb234a3fdb64856d20c501d2a373b7350d459ba66c3874d9bd50b9be62aa1f7a5cededd458cf625cd03fe7adf087881e2a4dc84f218ae6d078bfc386a08ca8518eb4661969e1f76e0aa12299bfb7843b412217a41e97db2d2e3b00c4bf1ab421fad2734f494f4cc30722dddf26d481c61fa9483a9741f1021a50023a79ea90b9d01f8c53be46c8b16a3fd729bad7a3ca49be3b80ceb8bdb25487ea94eaba384a0bc87d5b51c0975fdd8470063d04d22b70e88361c1c01b98d3d99eab5f03f3d7338b6c4075a8f08cc2ed922b9663134e6082f59f3d31f2144491fa6d123e9be23280b101b5d7219f697a8dd2597f30a9b3a62dba35f90d0a565a3809ec1d0d99ae7af3be3d85fd7c6600343a8bffbaac2834175870401080f6c5ba378fc5709bc5f24ca73dfddd4fd101ce25640a4bdb7034c77f1caa0b0dcba6d69784965f8800360b2014dc92f17f7c05e473c2e240529f2512e3204531a7ee469042d4eae29da21e2c906150a6b790532cc0011d292d316940e34879f2b636538ec61442a965d18a9f1543e45bff38281a3f6e825a0a2c4c319159e5a856cc0fdce74a3647b670fad3693f5e10d810d02ac2a590c5eacf5ccadbb5ff81d890a421092b71ac4d8e387ccb916c8fb94abc47156a5c3590c9f6ad17d788f2a9e6f88afa9b643db15f59c09c9b85fa709d0290d25210bc750b46e50aa740ff2bb02b4b9a885a1e048a3b49b1dc969040eea7421caafc56728a20f683c0638fe7ebbd3c6cc668f1a86db2faafc62d709806c5e04c2ac2fc4df2ef4ce476f44ba40a276f22e123bcdd1e749d35fb2d1368bfc5e65290e52110b90ad94ba33585d32255b9ed7a41afb654a5004d4cb96e5edaa81d163a59d1c13575ea033e9a43bee01384c550adcf2bc60c188b8962c7ecc92a5a03537ff8537d467e4bb1dd815d5d6ed32766e75ddaf69f307c71be37fc1901982e183275479ef2b267636fb566a8368aa064b90adf86310cfe026c2dd83b09bb408b40d8dc1a48c57cc843a15c89a2f5532dbced945972996558e9c80fe9853e1662530f39e2eda02db0c19bb055f6e55d08b0c1d960272858ae8948498a292a7b911710c17045030070391005a38ba93619036fbbbec0103739ed9f33a90888624fb9e9777eb6e21ea9154484c71a68f89b78b7b0ce5234a90650a504f3a8ba0d21a545dbe33f78d6ec6b9a7d6444d6daeb9c091964b31d0eddb83a30fb970311c96a4c614afb0294abb5343b074881802bc761184ba93113f70aaf8232e8b5b6168326bb74c549ad35d193feef50357926ff7507b0746d8d7f27c04528ea9e9eabdb02287a6dd59e831472d3d1baa42ee5dc7df3b7f2cd79eb929f284eb0cda7fb58544dbde7de646d2493ddec8f9b0380c7d2261347f89f67f2dcbf43fe932186074faf1566560be78761df31867158517184255f01121a81b324ade745847ad4ad4a42dfaa99ff58dace9acfa037b6148f716169444cb2b5ebe0f4ed85133512a4052d180b5861f0251dcee573bb015f9f61615b0a5c31349b3dd48e6cee41537247d98e70162100359a094f6c2b085c86dd630dc6a2595e37d022bc41fda44b217087ae393a556e89ac0a193f000f8a922a5b5ef5b9fc2fcc1a9f425a48f717b990588d20ffd57f1d00a89847985171a43eea1e9956afade932eaf574665b85337c31c7fe2d05c2412ea8d7a8c7c47c0e2d7c3c0094dfda52fd134e1dd037ae640e12d2357067a5399943655c0de30a12e2bbb5999978fee206d572849664491996fe3b62cba6b2d469a8bafc4b66226617ba9d8917a83a6f47fe4f470c8ca5c2df8207ef2f1b01b5cab21b49912da4ea3b2d33f161f433a6289711a40fa939fcd264d1f21c982ff73bd22637fbf4a29c72e1f33063b82facfd7741089c1e1e611cb75074fdb53f4b13fecd4f07a4b7c5883c3cb5c0036889ec5ecf8cc20c02e828f355a5690902da3dbe3a2134ec6c25287db3c5d5f37381c8b1398ca541824d9cc476a388bc93ddc581f6b3ddc7dbb22fc1c86d56be64821bd5d9442f0fd21473f8dbdd3d727d07d22cf05ea026e764f448bdd895b14bc5c137d64bce07d972bf9b1552c258e9a8e77f59d3c642cf3c69d5515b739b647b13fc3ae22f4ccbf0604bccd62142da99d621e0d2783a2dfbc789ce1b4e7f862b3e4234fa9c1f4abe362d8ecaef2b534ec16b79e17de8ab25143c414d7281e1e694df5b260653248ca9a1ff8c813cacc974314bc9045f81a82302d385cb275c402df805635830fb5373bb419bc14f85d1ea32279b949f8aa0234181da5accf428a3a146158e085352ef8bc20cef93d89194f3f7f92e09d146875c05ed2c07d1dc63ef979c8c81b1d9cf174eb4ed5db276b9dec123f227f3b2d53f1ef40cc9da9e54af88ee31dda1b57d3c377afdddec0d828a573a337e222e2126fdd88475facfe3cc6a21bbdcd27e86e56e5be5b93f53f272cbaee759a049b159fe594c11587bf46eea0f16f0cfd0439d9d505930d7ccdaea463faac2abce995c5a9ae771e605236d8ad1cc5b8b2831d1100106d905d7d171587fbfaf771bf0c0f2699f9a373fc86b449571018c6e293595f823dcf5b19fdcf833b482f07629740ab713f779b82a4b0b6cb46c6f00f50ad0123cbb77ee2869747f800423a7e54e167ffbb13cbba49c54d7e2daf34511ee927dc9d21eade821d5359310bcc6c587fad2f78b51601eab68c9caf6f5aa80eb8564142c1c34ced417754d58b7bad98c25c0f10d6f05d9ea9d230e6a9dadb6f167b2f22ac3085080d03f5a99b15e9d87a1cae615ea746cf74d16f95011292b2459662a6784108872ce945c432869ac91298f05ce8e6d8d52f7cfaa3a3c41562ea2e1617c1bde220e488eff9d6d1d7d610c9e091746eb783675a3caf59126144d9ca3fde422a1abfa60b61503c57211cc59cd7fb2d417487b78342b496d9968860486ed905c460dd15a933a64d4719e5b678186596ec7dd41f56efa59bb4376678972459a04bfcae61898be9b7e8a560d5a522bbba09300265f08e9c10cfa92d2e6f7d3c39ef8348caf496786bd9d2448e15b65be6df1fbe0829b9dacb05cee6cef9b9ff15b071131572ddd651076435ce5d9c3a4175429ec8ea150897bab7423d90e01e14dff34d30491ffb1fbd2700d69f4573cc929e2360f262a35e7378849a26d066176217ab098686734a0e984c82fd3e2c62efb8605474c2ce73607914baf4dcbf611e988eea701f10f90355635847d29d29318f0380cab730af4d523539e8b5ca6a5c20e1a786e85a6fd194ac12caa6f49528029bd4ac2a1df71a477ada41886754cdef8cc4cf341656758150a84b93d3272bf86055431ee4be890d88be1a0871623c31dcc7619601e61c9d0651330a9fafeb22c3a9a833d56fa1e83197045d52bfee5b02e27db66cb687e2052b77b2333687972a2f19f3eb48ffae56a6aa3c2f960c00ee52fa8bfab54abb43f36e792afd1dbe127ba25506e0dcb7c81fe4047ab77e7be8ce1e2a94064944932204673f4245dc89e4863ed440c2adc8b0d0178efc773b977c7897af9c60f12348e86684ae1694d44ebcb1fd77abc754047e2edda85d15e7356edb8ff0dd4706fef16035a78de361fb16ed912e7481ecb3dc8f54e0d5230500e994720d9ae80321591bf93a91193b7535ef8ea0aac2b257104777b209953619b078bb0e78dab80e7dea0e47239b349b80ac3062611749e2827ea99399be31f87171dfc8c089dce7d62363747840570fca26e404dc2cbca7e8d06646be6ef6ede09d63648996a7faf5334021ace429923d2ccbb2cab4b9918ad6842b7e1eb7e0fa73a7ebd56280bad808bc95d7c5041e0665f73557909d15eb59dde61aa94f69db96e53571730826dc1edf506c1e5d4f4273766d12ff017311f911362baeccf05e5f557d51e64e673f584cb8c331bd07b95501a0392c6c3256d620c15a2c8040e95faca27edc738159d852f37d60edd1711562bf8ab6e05c1159e5ec194ebd25943f10aea4407768812a1145a1368d9501fc7cbf9021d86a879f17ae1324fea1bee83e75a1b921ef1b453321d2c6d317fe72b69e43061ad8b76705ec6d183679a25182ece346b82f36351d625d888dfa4d8a0758a5155ec4bfc784f69adfd1fc5902c1151b201ef8b332b556355e13f48999ea3f38c8b1026eafdea1061d35b95a2e4593355ed00706da145c77ad5a1356241b963e34ffa265fff2936229c9e49a96faa0a652a8a98c2830544a9e23deb026265c2ed9875c537b286bb240ebda2573d6308ca4ceae6b0af3b81d63cc830258428291d67618b61f587514558724d6c7fc024053a08ebbefe7dabfc7114b4fea6a1f9b7d3548cda3472a263c08384c71c4a29f77248cdd50370b7d18d4cbe0141a3252c8d0fca3a262f79d8681fb820821a3dd0f24161dcac1b0c10cdc46598285439f4df5ddeb17cf2bf6b0454730db605ef99ac1c5fa1664966e28a0c9020eefbe0e5730f358261b86bed723d7c29d11545e1c3af30f515087eb34be4497dcf400447f108040a00ca8940eeb602bf8c16d4247e9f22ebee1b78b15043620e88c9446c1fdb22240d160738447dec43758cc6df320cdfc2ea741b8b9d45657b440562ab70efeed182bcd1efeac7ea2955eed6f16a4e1815e60d21351aeac6037897932a70c003f560d8abebf85841ea5f877845739988ca8fd22248fe37e8b551b754b7d9214de65a922e1abbdf8a14c424eb445572785f1d9f584d99854f19a0bb24c3c368f872271eb54435aed5781d1688ef0421e4a30a735a45ba764534ed83ca131b27f98037d727fe78d644b1a6e6132c36911988af5c7e910c8b6c206e96955be62d2098ac4d79cd2e5c9bca34d689b2a00931482f9dbdedc0eeca37f8bb5dcc4fc6e2bcedf976d1dbcb079401b4587ebf04530cbef3fd244bbd10fbe9daf387a57ab1773258ccc69ad97182dd15003182b9f3b1d0efc58902b856d33ed99741c0012a8c934b6f7250da0025b3eb89e1fa262d5969e6a8f8fc4c138fcf1c9ac9a474645e309099d2ca806ac3b3e8e59d3104a2e85d928401874bdbe2d25b51c6e225d2283d663644d180eb42a70899941b77e44e2d52309434951f0b3352cc285611a8914dc19967d019f34641446b19f7c0fda82de2a6877de906591fac61714f2d586d6497331a05ed1dd78e8b02dfd679162b70ccd932fdcb51780d85bf7a5a23b499c9d6b3fd49d863888dc025e521e4f564533250756a0123490382b939c48f632a84c885bf04f6435d34b7921d8b019dc9f70f1b3a1b4105a2af52fcc6f63a6752823a240bb199aba0adc46b37b5d597bd76648baf65f626fafbdeb3274a88b8c0d97846313f0a5c967f797522c64daf396444b7a53f232760240992c3ca89afaf069db8812f850ec138755f7ed13c2a2758fc07a0652216ac06de128c8ce6aee5eed92543b161d5781d173233d5cedd344bd916a52fc6de3064bbabb777fa26f509fc854e26dbac8e9aa20a2c2fc1419fb8eb947b735b0322a9772e07eececc9f50aad2df762cb22adf0b1604722b9ae1b5b1250ccd549870037346105880d97d1335ba8861575d3ca2a12435742b16e60301a05eb2032a93dae9db7584ee6aa838f87b4fd058c74e7217911f6db9807dec1f1f95451be1eb1560a912c0cd7b2b740a0e0a304c67290827cd77b66550d00351cf37cf7ed02bfdae1ea05794eaefe628de15dd2da7c24929f8666fbddfae40648562580b1ef88f561753c6cd77c80a3137583ca78a65b7170e6a6caa8d4b98212f743a291fd0caf7949bfe9f861505aeab3b148f67ce93fdd1cba89832120a257b64a7310589bcf52cd7bc814c62eb2215383b9c0777024a9ef9419e94b94b8870d93f8a21747a7330994b483da5c3b1349e24df4eeae3fa89b40db4124059d3f11ddfa4483de90006ffbcccee1a96910d57c2a23c45aaa52358cfc1d5d7ca4d748ff7e3c5e9e160aa88b3ec795f51747b256b79357e7d5fddff61ef6080d362be59a7f49bec17f9774ab4548218f8b620343a30bdd202d1e177ae8fd2b8953b54c8d4083326663e32ee46f621bbbc2e0df9f22edabd3b012fe39d2b4c93d6633a7a62f67b1c738f20a17252bfdda36b7039d31f2569b5f0c33d01f9c98216b781a02864bfb5b4637c32a5d6ec505ab7e1cf8234d4c5dabd2103acde5bab696afcd76bd5611fceed26bcc935998d70efef4a4d1dac9c0d8ea4b4099c931a4f666994d2d3c6646707a45a2e2a279b944211e4e6db516060d158a52fd1de34fa0cb346745b5f86d583f3dce9b9fb727cea73b05679b0a43a16d21499d65b9094f0cac36c285c7f7114d1af5676086fb18235c4b6319f0edec209f61c5357949dc3f6c754b24af8f82f2a83fd3f658aa18d334dc0adf276174f9ed678baf66cad99d2a2b1f3610d402acc41fccebcea519d453bbf08a7a8aa000543e8b72178b086d362072e0081a78262cf3563427da5eec202f0007350452983982826bf692921499bc93f53d4d7f6270105cca5f48f5e87d16c3fad18b98b856dd7faf559d6c268c97d54642a923621a71686c88c5b8d5528345901e42e5e3d894ab8183d370cbe5a572c7bbaf3f60f10a031ad57b6b17a621249826e0273f304bc44027d9ee28d88e76e471ae66d13428f862c24f15fb2210b740e770e5bda38515c9f35f320fe4028e95f52cd29f5f0fce33a19e3acbb81e1b22b8c966d9d2e3bbe4fa3e1f2afe95b21e530aedf9ec2e7b7263ff335e3f961d02f6fcc48590062264a1bab4b215ced89d44f87f8b2a279f6c9106c925016bbcab16889b58f7fa30fd037de933e89feea87bbe3c08e87feea5bcec837efb14e5c0d467368355956ae2a5c96319b9ff2585d785f34c2337e4f32d78e502d81ca9540879fa0878f276137fcf6ed45f08c3138517874461d72cbf8972b8d8d45559a24419f13af39a522575b4859c693231790b4664a20c47dfe4c5447279959b8f69bae6ec50ccd43c0b644d57c54f1e38f309accc104086edd3b5f412bfeb2aacce9000dbed74a40a7f140d3bf3bd6106acfb32c6947f0b4290c23f0f0aa07ef7dd5e2dad53f61377bcabc66a86d997813e92c5fe538d70ef64fc947d186294634c1869167c06d8a812a18dc594971feae8a5609f17c93c1d947784e2831a9b7d106ce0af3bfd5d5257cf3e79b6f46210c86e1dd6d18acf5a1b39f539feb036536cc9b1927a061f3e0a28e5e17e32d54d4b86f577ea5b11cb3f444c682414ae987be77c57d7408e311af28a77f7960794c8d981b0427520258cddf846a5688e51bc4d139c90ad739c8493c2c6ae4e09e7863a711840b1cf0025e7e269272d67307f903c0147ee312e27f5c9a966f7da2cf0e9d06aee1b5a132daa044f128f3a2516c8f9a85b12977bbf9b29ac697c6f9a1e52cf9b98b7abe600f20c40c96f76f22a96fb132788fbb99e16978e151b0279d3412963ab7e061c997da766dfb2aa12684b7b5576750fc4741e590dac46988131a7943e63c9ed55f44ed2fccab298c4df0256c4a25aaf80d864091376de897c41ad9f2c557d9ae3b770644e4ac2aed037025b041c2c270e02b6f50d1e8972b45d79c8ca5d01fe7f46fce6a0c1393ebde22cbedba6cfd358fd54d238b8fc99c13a7513f7c469545c3b22505072266b115bbeb38f7f85aad54d1c92eecd237a9bc0a65cf694f9836c0b318e09b5d90ff3e3b6674064d6850ef7cf380734eef590a83c885663ae3552826dc9a2abf74f79a025e115ff1fb14619c5a64fa94c206c15fa442e2d53f06ced45d8c1a02b0bd94f153638a0937b6860f991deea95ffba039c4c52a429a64f2400b7ad8ce143ca600b4b9c429b48869a8d2f35bde57408f22b89fd0dad449dda9db7ef494dd97fa1cce61856886bd2421bfe73d4c66e18fccb60ef6104dd305838507cd7a31115d9beb1a9f279d6b8c3a6810fe3f33a815cc9dd4bfb466401f88b2e99fc9692ff408c936c4bb29422643ade819c9c38c664c5b233e281b39ccd58dde10f3cf971f9bebf3480dc5ff5561f448367c4a788eaf831508b2d7dc791e138a031e4719b1f6d85c05ff8fa5524b75993c1aa37f87dd342e865d209c6c71dcfbca1e4d851055df0713d7ff4eebe6a52583cb57c635eeb38a6e5b71f477540ca4ba3ac9e7b104139e47a9f20818bc50b8279b8314a692dd2fbd37ce5fcc325c85de35a03a2e0cbe5ca9f2304efcf5c64bc5d9308dedcffc5f2c03321e08ea74a05b470bf0fada1d29f5227f7f75ec8151cf54c8216a4aac08e746c1db573046c70f4973d80dfb2c743e45d000bbda388980395af402e9040b1ca411e56bd1ffbf4f39b6732f7ba0d51114892b24b1fd581d1b87ee9cb1eb1b5d036dfdaf44b1349fe433ef7393d40ed03ab1c74a5f8429ca98c409bd60e96ed1fc466bd5f81464c6c8fc2ccd81d67261c9421a9f632528f684ee89bfeb354c9116eb9924be659f89bd2ea17db6a84402934fc894c4b8d79d3c097bda3cec0338e70701ffe2206d731b0e4041b0e891d5a04c4feeb9c05b499bc724394135976a41106bcb6d787026402edfe4a7a67747411f4ab5e9cd534fc1947cee834fd78b207b8dceba80b8c1b569ff40ab6ec495528c47f8e2c7a5a26691989159b171d12466292dbde78117c402570903745179635b96b1054b4781945b039685061a4c7327e0c31f656a84e6aca034e0ec0e4d8a4e42b44de19f30b77cdb4972b223b0c817d393587b46326bcac16b083c1823d491c659bac0b625ed8f253ed676ceea58bf29c36c7cb6d83ea1a43163c45231bd274f1936bd791a0ed370f3af4b7531bdb66a44af972ce4f9033188f40e090addf1254ce86c741b2a0624ad1b02cd94f03782ea00f02a533ab09290dff4f9171e08f5604c34a53627e239112df2d9b11c6fbfdcd69096b3349cffd2900bdc861ceaad310a56ab0f9813ecbfa3fd8a97e18395e0655418a92b15f31901f40cc181a13a9fc0a53f7464b63072d960a85e584aa24d5cbb9b2b5609a5592723a83f60646d5166bdc59eaef4e0dc6182a0bd2e7763feffb85dad0035017db89f6a10c4564c9037d96618084202fd8e9d8055e9e9bfbd29b63d14e5dfc0ef8cff835294ed197b63609ae4dc6135348e045852ce5d1c10adda6711b113c952ebf4f7797639b8a229917e36c55da56efcdd0a5d8b35103b0184933614a0ee79c58766ae2105f5e5ae12bb699853ebfa93cde6534e05e0c5e4b7cf2433756eb224104b2c2396ff61642d75fab3145fb6e8a3b04913d4f53e04d590a5fd0688f6ca7be45beec5925b256c8d26b3513c47971b9317620d469ce5a5205ac816eee52c35db595d656e813f025f1eaf286eb10e664c335d65e025b4f650c66125a54bb4d97dabd824d996aab56c0d98db6044edfa423ba965fbc4ce902aed9e0445080dcee65a7340a0e11fc4e55277d9071506d50bca6b2ad765ca71e786eba742660804c2aec3f60d6af0cd35e3d84061945aca6e0730ba4a55a114cc4d50e4d6e89a678bbf5184ebcee0ba4d9449314bab31d44da3c968bb4c9e60987bbd746484e4169b2ca2bb0f42744070713d346ea2cf24770c6621eabe2cc09fb7cb748190284de1c2c470edc549007d6ae99fc945db3d321ea77d82dfe7ea5af921d7fbebeba1f32a89efae3c19422a586859642b860b85bf18be6ecbe90bf0a12dfc98349ff8be5c473b2d7e1490cb1c2236a77d89ccad8744355054dbb0d2dbc5228aeaa9eb0171d2dd64811bef012b2b277d43d2abd74c36f42c6c340bc4891766fd06293e2b0bd05ff98ba13ce1ed3aded1e7348b90ddbba164102ae48a037bc5957e2b4292abc9ccfebadfcf2f610aa67435d0f60e4789e83e873a9a8be6f33b688788fa2c9a99012dcce44c29064c165361d58e37062b0e01da506f16fecd810054c67281cf21dcded596d4835cf99e3147d7962ac0102ce694aa4f84b48acc66c042a7b5c4b04dd65b3156205a2e1ce88d42768e2b3a932e1f8ecbe006270668c5b4e7fe37dad8c098b4644207da79f00ad0e3696fdde5dea2f031fa93956a3d9452749f0218f2c165ca232ca6a870edd77804612d809acf61dcb2e5ec3a51d99ef3faa590e74bf59340e61f52f8ba0dac32776065973662a7958687ac6e10215c30cf6620b730acd87ebc089184cbba8a59ff7256123db964de05ab761289d1cb26a2fceda7a01a6deebc283a523462a5cee8b4c5c8e23f3d2462f7b184d0d4ea73b3f06b6cad3638f5649c69dc328581cca3a3cad757d037c6e8a390259ac1edc1f786768ca0be65c74ee3cc8f6cccca24a9e0839f98bd60d4223fdecf9717e374febae7a60247e07a13442c2cc0d0f957db74f4b55fab7820892e907490665d79286a710c61ece84e76511fe6190b9a0b881b5d410a7c303ce0315292c1fcadabf63acaadd75f6051cacce1afd37146b9c340ab6471bf87bea34ded76bf6aacc7a57ffae2ed2b11342ce5d18ab8d9c6370e2b2ec9168a4969a8869f6d03d13415c21bb14098a328f3f468aaf8e0d923ea01db96e05cbc1dfc889595dacffc97a6cc7b198a23f2bd84face8fc343284eb06096392ff9454a52cee84e43db36542d855169950bf6d931121d23aea5cdf90e8783ea17ce1dff2de48d0f3bf3bcba912c764946fc0e0ef61c59d6165f2e90c1fd53a6c04d2e014ba065b2b7a85bccb08ff4e8556f7528122c28e29a4833bfb41208b8c49f7877273ce2e088191e093bf08fceb114a28330be0fd25a1c19257e22c275e4caec7874227057630f86c4cc34a7432d233ec2689fc9da3e19eaa70414d36791bf82daeeb29de790e8a687125ce4e80748dc5b227150b844d2ee4d20e12f5372c6a6bfc488a8ac469f4718351bc2a7365a0f691faa52ed89de944c200c02c4448c49f52beb44385b2ecd512eb9855197ea909ba8b98ddaabe53d192a13c2616cd5054729b728b374b03530e0c48d38917c1835884c559c34fdfc56343016c671b952b2ae2f56308045db514f6ce79bcb76d630d339a87e8c7253850315ff18db880d86b3988192b6e651a4f7ccf2b4108b4534b14ef9f80e3f96fe28b059f57a90091d83de93f2b164044c798400fda4231de4051f1f9f34684c54404d1a206b1fbf70641e444e6ba45e57ba431005855ff9cabde541ee190aba347e5c117e32faa7f17f5b5b925515ff7b9c7c737def1938605eb4b913736cc484b593e2c7603883f1c4452966cea569f54d7c5ee253a7f352e15f3fa1cea0ea159918e94551c4c943c76c06a29e536e3f130d7d902c39ebb7e301415e8a08a59cac305af621efed4e66cb1ffe149d2f43c27c8efdc867e9a0527650374b751be23165b943d92a02f6d382354870cd9f94886456ae71094b3db86153facf89b0baf2dc67144110cd10065c2d6284dbab86d8f9401462102f86996b65a142f8420e03cfc8354901b37b65012440d9760f48f0d8669eadca5318252a0a48805ffb0a0fced39b019ba8e4f0cc646c0185cd13604e898674afd308ea49265c4b86fc2c8f66b70ebb03ef3202d38fe7786b310b387ba8f45a597c68f9516c76feb764e4dead379c3a7a53025e6bc2c8cc2fb37f38ae90ceea7a074e328aeeeb2c4adb2acd906685c169c46e2ebeb375bc8bc305b652b87ae1acfec8f63e2c05b274822c7114fea023c53bcd36dab04b8c4d8c30e603478af63155a531f94870c316a72fd877312c8c0a344f7168d7172f9a69167c3136a694e5fe87e74de601461caee9115e1a276f19a01478903535c665c998f4c4b68d1cd09e7a00206ae3aea31760664ccf1954ff7a1680a3339fcfd15dd560b8c6d55f557d2e529973a714bb691be53e5145e421ffc07aa9b1048a47913ca23a578857d6a7601256b957a51f41542ad635925c58d6e888287132d70085ba33219d237f9250cf5e75ef3eb463e056ed8ba7084a8743b8179d54a37894f08a46c47be988edbf205a137fb7cd22d42074084f1a76e73305e04b6bc85e148649022e2dff55d3fb7898bca6f0e20f044e78db803ede5ec13fccb50bada5cb6894ee473022fcb7e489639bf1813022b2b676092199736ac6ed224f9867d1c803247ff6c6072fb9d4b8533ea8435b7749c03a480ae87c68f313e4a9586cdeb308b766e20fc0fa04ec8e390f237e7c888ec55cb90bdffc39ac5b1419317ce25c5b9ac7851ad4f7b087d7ab3225004cc738d4d0224e413d739f40c061191ce60bed3e083a8e7cd014530038446af2927036470b12af9c5d34eac385860d8194c527a54834dc4a9ad256a31df3daad716a330c8ba3c29ab4c660e06d2c2b0a63eff5e2696f9230033ea35d8ecce3512db03d4afcfb5eac8a524346ec17f308ffbb09c5d57910b9bbdadcbee6878f5564f0f78fa4e9d7b37a38618a604c593d564c171b0517f9069e61d5908bff7a3978582279c18c662b353456d1d8978e9efcb82c76fbbcb9e2f6d45540499a1b03e5b805110ec685ab0bb6635fa6edfa5f43d1324d8a6deda82905ef7d30b1fa256e8245c3d7096afe0359f06f1b4e7e9525c1c236c306779311926d813f2118bd0a0aaf12d4dd875be855750dde7ec6b7cd9cf527173133b3b8cf8c864dd59dd887b81a027a3ed8fef3b3472e2dced63e0330ae34f426d6db418950b2b3d3c057f790a56057fb37742cf3b61188dab679e8f4df3717040bb5b03eb3330d7b347a95cdf2b3b8ef1589a4158c1558bb157e2568ae5f61e88cac79e3c868d0ebcbb84c61c3adaf7cbd99289d47807abd8fe3b11841bc3162f763e7d287e17f3b128ef5302f0ed62a56a1a7adbc257561248403152fb4722a854bc22d7d77743d4469c1f25aeb01e68bdc3fd958f15e9b07ea45b23292e7b8c3924e710b3bc65eb43d3d1280aa89ce5119a844517ca16a629ecf37b2a4860a6115d238ae35a8de66e9115a2c0ecba4dbe35106147cd4b56a7d540ee1955677a8c4fbd3f5b29061c830dff06254ebf8f9c87abf7d2c084edc421142980cf2cdd484238f7b22b725469b54a55a736c6df8fd01c9b1ab17d6a7e7b1c534555e58094684e8e599f1abfc3989765c955bd98c55ff93de60e3692ba7f5803f00d3d2fd9311d76d586036c4c394bafc31c5bca49241983ff246adf8876421576d09e804619e854e4ed72693094cca8b213aedcf2aefc1ff575ee115fc2739dbb6105dece7eca942798bf363f806f45e683d0e5dec7918355061581d3fad9f5a74f20471347a167c515dae1ab496ae828f0df48204e5b8abe9ebb1b0ba91455d4c419334dde21ae4f14d40f30401bf8197458a824e4b9839e09ce8f599cd068904bdcea8ef87fcf8f8191f57847bd40599d8f820747b9529ce57fd66f449d7a815a36bbb0cb177e797a9d19b688aad1eae1716bee2f307ee025c21dbff7f2c53b","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"2e96146b400836b2d1d18847256e944a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
