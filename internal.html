<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"17cb16d3650d8cd17c190ce6069223d4d316a80e22ecef8f0af91d5529ad55ba7112efe7364d38cd4c4734b3b47d36b0753a1ef635ed53ef2273658556bad87074029d7b8066cb73adc76953892db9c727e0c9668446a14cd584e8fd0c392e5bf63f4ee34488afb1a1a2986abbbe18c47d406fca64e4341030fa8a18191665590d3a41a0013eb0c8c49830bf95d1da900378efb3d47fdb22cbee13e7769609f0bb1614985b6758265e714675fec8f4586c2353bdf531d7eae1136dfd7cf5deca29a49c90e743ea3a7289d6fc221ea0b2d26aacb10c0c3103d08ac8f376229cadc3e5a1ff1a579b39f5cd1fe56ec82ba27d22ef822aa97eef0ba0e1011b941c94ef05fb1063704c23952242f1c3ff7503022dfe00d71aeac39c709a7b0c379a81301e8540732c30a197be2a77c46130c1353b1ad68d84b3a9329f5ff6397b3cf5093926d6f2a45e0c406dd2c22915314cf8cef1db088872948c4ebaa7b74af42bc0d48fb9e2455dad3ebc8ded04ce44c6b36ef3907bd59379b3dcd052f33981937f19bbb05d73dc7788845065a6c0cae06a39669273edd32efb6be9641759f85cba8f1b7e30b2424f566b2f69eba46c8e0b94f21e63e9df43f34f29f717b3130da7e3ccd67164ce2591f747154c69fe66d0afe74568f91b13db7e2cedd936c263ca757e2ee187c6c090cc497e1e9aebff111288d8b5e62b6d78866cce668ddb5e4128e51442445eb1519fa023d8f6b97b9ab7eb2288affd29d1186a91400601a0beec99fb5836d910655abd3a23b742759718404f7abc78ca2ad4bf7c3cddaadc455ed3eee94927b8fbfd33ec0469d3a54e993e851ec232dd9e9b0617a4384882569437c6ec6631bc8d2b94f014830425dc9b06c446f8b79cd9b77ab2ec5f11c46c6660b6c9b79be9cf2e47f487973f76380dfc7528837db6eae4a855916984e2415e3d3493141fcf0f9efecc1a690771e1adcb882040d4eca688a482671e8f3816a5de62274d896b9c0ddd9beff262d8ec8cd2438aeaf0c33d3ff2ac9f7472b72dafa4f5aec52c0e374ab6b991489552407924e145036b7941498925903dea884ad625ec7bfe1776d67a2b5471f9004f8cd42d70aa5a0f6680cd2d22f19da4b257922c2e389506514669c7f1dd53dba17c053ac9c8621916369a1199df3e115a1119b6cfe8e6552badff0189c5d036924bd73b2905a18c3ba622aab3a595a1ca70f32e15afdb3f18775ac129c3747f98cd1365152df9fd9186628b712e1f20c88e23dcc36f9682d82c724f45aef4480e536f6d0f7a1ae925c42dc032b1b252a8c7811d970f754a66c6e43b5d5a6d505e6a5a7d998cc7aa1e0313ecf1fc77f29179e53b7f31ef93177bb17f1c56a0cc9d5d594de4747288d2a3913a0ea2ae2a4ac8fa316b1bb3d5bb3915b51338eb635471ffd5d3e05fb62cdafa1206d596851381bf4c929ac9ae751f9d83349e8dc31bee88a62ace76f32bb004887cc862fd543b5c5b2d01746a60ab4226b0c7194af807b4bd3797b4815678abe533e19d240c6e7244d8de93b728e6b10490abbd8a06006fc64f4ee27be678da8d2d9d5a6c2eb29d2703f0ca3deb20d7be8d05588a69c1929a81dd0f50bc6fc5335c594e25a937687a78c754248a401e495fe05884c65d9e56f088e887aae24fd170154f0bd2824d20a939cb6968a177a0f2200a113adabf86adbc420edef39bebdc221ae90b2b915865b3228d17ff46054a27f444f72dbb8199d2a0351f4672ffd5a6859be3660da62b55a97471048aad7ed0eb3fc7c370168de418412c25b2bb6707f8abd8e1f599d4939b50ce0293bef378676e5fb3e15ffd9627fbe57564a6878d30a6c0e7f0f80562d670f295bf3271a9c3855de0e8ea1621515bad1aee38258ebfcf081627f3c781117fc85afe927a241d52818f22dff6bb47629db1873541dc4d5d20dac3d26447c4b868127a78f3fcc51e3135390c29b6beac5fd99a894f6e67aa4fffb930b797c4b94619ab346f68fc5cee253e63971aeb3899a1c6ed8b7595b570144e76808b3d978bd21a7d2f2e0e99828e196c23b6a18fa44571e6dcbd98f9ec0b0e118d1a54a9f7a6d99bc0e074feb9fd27af204cd3062d7b55769a8ed85135306cc8999e429dbbd13ddc00bf91c28c7c79187e06e5b4a82b9f19c8c7f52e7843a9a7a3dbd8bca77df62f882065de0562308f9cf3e20515ad0e8bc0bffad4f6c36c93e597ee14417d46379ac0f9c689e13f111e85ec5b698f18b94f8903e936720e5f02c4256e8f5b0fb36f1c80c3b69fb154f8fb0b177c452e120c5ce0e3150e33e0d20c5039248e11e56da3830bef1183f5d4123e662274b9b7f3803af17939a2b42ec0489d60a738ecaf1238670b4e72b8c99e7c1465bcaacaeb690bf7a69c9eff07f369c854cbcebe31935350d1a935dd2a0286651a2e9722c5bb5d1a0ad94bd57b6a8919b0525eace10e2989ef2ce445005b0062c6634e473e553d5ab2cc34f7872e65252b96a6f435e295e85e08b4ad41b03481c9493caebae7b4333fe5c6a20fcde2c63c5d0c7e5ebd46dd7e4a6b1f8f947d8176fca526d161ef7622d63ccd0bee38b62ce7168b0e7289d590123ab1638d2668844e7090e49932d10bd99467762e971b4cb9d87011004ee2398e83c98673cb8eeed3c127bec9182a66d0256380c2554ea92e2a3596b1837158cad49b9cbf77fcf8e136f20047db741a0398f074257465eb7666aa6a48c19160ea7107fd16078fa11e427b3c2a1c93a9c7426a916c74acca7b17ad4b0800e8a83910c878582dfa31dfc68b712a36339e3840f3b2ebd1573509e664b8ba7c2045a3f7e4d872ab47f5c645ace0c6312c2ffdb0240122cb6dbf14185645e62cdbff310c09c3afaaa8342eeb7a7b0043d7bd5ae2644c8191d060cb5ce0e333e3a22b96dcec41a9cb3ed358014e4ff9ab2bb5fe9c4912293ffcc90559ca3daa8bf8af34ecfc757c3f7589589c2af838cb9415192484727ee0e09514b8e127550631f157c1a0cd35fca4c01ac6a02caeb75fed8b0d68ecfd0e48dd25c3e8ec4d1f24a082212e8709e4bf56459c2e747985cacb0e33839821decaddfbea296936e56f17bda31e686310b6b234c6326fa716e7dcbd9733f9baa4d467a01911a9fd4c86f5c734ad39435dd175328a719839de19359e123d6f82a830fa5a45695ee78a457833b669311a7b374a4ef95bdd2cc7db82f58b0eec70d3cad8aa6e05724e5b5599775ab3d62d2f839c056543c51ae20d638ce9bd9947d99de88adbcb5cccb6cd97a8dbb5e6302d3b679181cc660ad1910bdfa2a1361bfee969a7710f99b41c50f40b8254b0ccc1b4c5eb35dba2d8e840edb9483181c6de8fbf359d6b4572e49d0028cc8c5de16f25b0d50389ec4558980dc446c735b62efecf0a5a5a844df882dad25f556ae16dedd68692fa1ffb4b77f4af79eb4284cf0db95ff35d7f6d64505cb327daab73ca831c3606b0a8e6c2141d9e5356fd3765c1011b39d71d46fae580eddb17ffe7bda3a95bc1e1cdbad966767764c14c207c78adf204db6c41c0697ed42fed4251af9c757204a6d53fde223157405b7f5c2437c38ba22f7542c38928c6a54ab9bcec941306bc85478579a1cb5b47464e07cfb2d8dc349061f1e45085938876367f9af6c4fdd667b14c40ac3141829cf1090e64c8284f92f1e29332b28899e94880a84c0c3a0630a7cff8bdaedd6a402b8b7cec217dcf109ae1c6773f6e74d136417aa5a993afd2a4d7fe843da69bc5db971b7a675f92ee4783f9be93b0658aaa6b24b2f222ad4d0c2617ed541f80d1c65a939736567ebf68f0365532af5cd4254de7de695ab565d8c7f4d36fdde5ab6208c69b528d0357f3bfbe792715bc65be3f3f3e8229bae0a5e37bd926e4e60c0a40ef9b9377015a77571405b6ced9a04d3485d043e1018bd5f42c99d632c40a3ed9d6b803b9000e04ef29db7d39521118bafa169649b0733142fc5acb77c33b0794000de353a637c7969e0f178d92bc58bd064307b176533a6cf6a65d5e74db47cdab88054b1f58a2d7f54a0b257b6cc9db6438d89390ff6a6b737785c7a648963e287bc181423f8d5565a1be713e95b12704ca66803ebca48d470ffd9e2b8b59f5591148c186288abadebe1ba1dbacbf1f0f35d488e5b93581c52b88c3e11f6a9e985c6ca1d21002400682b1967d8f90d5a5a6d6031ab3956f82a581f588543cf9f2687685e6ea0c90822cb87ad8b52360bd0221d07d79bb096027c355aa63248f44d91d4f33743fae36ee7589c35545dfaa66398f9f52bc964e12a5f88cbc899c28a931ca8e7e125ed57af195bdc2acea5c263c50ac3e56a74f4aede4d69c5cc08a4f5df0f93a02aeb7a528cc3fae6f006ca766002903f66760cc3e216fb90d1bc8e8471cc701131c0609b07808f4eee7772bd8be5e26e371710fa633277aab284c0e2bc51275a31bc5a37fd475398bd6ea24cd8a9744bfbfb2c70c3330f9cb2ff9ed267b0747528d5727108868f78ea752be4aeaec0b93ab443ee0345025e40ac0917cd23937e69bc1653b8cab00f65f4a4bcefff02a30ef26a29737e416d141a6e30b4c146f835ca0ee422ec029a47448fd120d5a799834d9c19bed4690054bc33c00f9c13c3af52130d20b1708e307ae5ff71a793e769ac22719eb108941a09970948fbfa3a09d63e8e162212ce351e6b377db089d690a497718abd3944ef57ef904ccca42a7013b1291a7a1a989b3ce740b05df52b2fd02d1e0b47162fb4ce27525105a4617cbd767230a1b325a9f3d7fadc3c799706b144c5d5019ab45aea5bbd15fbba78471b9629f8d6b37cd08b05b4d6082afb23da104128ad3a5e3e2057249b41bb0f421aa488b5a0d02b6ff7a9448b8b76e50f26b7fa0754607ffce1c44d853e07c806da861939df85f6e9ce60570667264d0db56eb0b166783db7f13682f1b85a9e6957de4d934fc31d7adb9197147147e05e939f2455b845f4f7679d0e5aa74e895d32cf1e9806af191314b58ea8c7e3ac0bd42c2b1e8326becdc4e7c49645f0be0f8611fb6b52bab6d9bfbec52c5fb79c519605487defb2456a89cd169c21b249e2583832f9a5dc6bdef95da925f2d88bdca7447e4f9c4f9e6201b832a5c731d9c06bce13b2987aadaa32bbe95ec489e0551108412de8a2cbc4f2c67581e458c073b76d27bbd927fc11179ecf2ef7ab664302aa3419e0023d10d5b99d489587432f65448d544ede2ad6ce3596d221774cc64da499530ba6c9159eb0cfe94de4d8dcb91fb99d48a5e21822cecede5360eabca744bd8b2d8660886122cb44d1d85a1ed53cc185f93cf9f80f84d2471436dd5a250c024d0108e149970414809959adb605ee50e6e1f3516d3504607861f1d4b6f56a5cf0afbd51b4e5f2bdc855f3dd68c2b14cb497e91e9a62342f7cbf507f206ec67eadda7e7dcd941383235a946904166f3a5a684221a3e7b64dc7c25e6beed1be6c7df0d1cf7aaf8815383078b5698f2d8c85dce35af9d9a836b7c457f92189b15f8e60657afad47efcb34f913086551c37257a11d1f3877c2ecea911f4b0560bfa52512cfd8d1348abcf4d3465dd2f834d597a126b65638e54d563940aa5b750d8f2dcf4e64eabc5a99101cc6bc0158711ac3963e57767d185bb64f28898fae0c8f4d1203b9bb9bb5a3f9c377f4d69aa32b1388247f1dd02b6bc73e1a242c432124130b18814a751fa6bcfba275208ca40409909b11335624723c24f535c4633bcad93eb427f48a36fc2dc146ac984ec51f3398e844842eb0af841455ec9a3ea2eb35c1a6cd47d7e4b1963c5988b3ad6da772518c6a60c9444957f2f4c68960086527d75d380e519f864c9d27cde147febaa68095b5264c057e609dd632c71ae8b1fbfb2d95c9e05c919cb899019e264863f6f04a799a7a0dc3290051977a1bb82fbd5a0f7bc54edd14863614e8c0c4f45e61e6c7468938915b22a3a027fcc23181451a96e66846b9857c6f7e48fe52356f6c1f74244546db92131d9c59b485e95404f32056c0941fe128eff2d871980fd3b6e79cec515aea25344e74138ca7cca255c53c02a0d4696cb3538a470f38e94c5ce21255f4cf001230b1bbc2fc6f5e29639a645f5e0bc12f9ee7455ee1e4a91a8fca27e0fc4740b4674a8e808c55b2c86ceb59aa92cc16ac1c48f74efb404d6968fcd2146fe7470755d8b19e12c349209d1ac19c6b9f1f1a644f20802c231e14782304981aa80ceb4e29bf7cd601ffcea2446065a36d638ec30cfd0db1215c20e14374942c31c2d6ad97725e84b71965ad554968b7719817dd24be456ce819de8f63320ded9d8a81c223e8ebed82e2ad7e4a846b163d91c1570b9546b71776c79f6772b5664fe76f2c02140a90f464aa6a3af0657c6dda15eaeb2202103d4010b97a8ed9a658177ed3efc7adf2ac1906a4093acd6acc7b01b754f780c595e3407808b68cae9384abdd3f9d58b8929e3a7821807d2e076e90eec639a9b9687b0375856536dc91772d333f9663823566121b4377e317450f08c5a47fa1e06bf0572768d6e9379e705ffdb2d0e9a4ef784a0be730949ed19ef6ea68c41331afbf5991e889cb3929f5c68dd585a78fa1806a1183c4b4cb36bdf21629237c08d9472e4bcc820c0a178704781c5950c47b83323b886d59018b7d35bf8270eb963da4d00cb1e2cf2edee6f3413e19ce1d91ae43f62b6b19d5de723050c1e1654185da81870011300ad16e98f92cc711a166f33e3d18487b4109c26d8bdf9c705ff7d2627d7a5b6dcc3d246a2ea9b8e18386e43ac0234831a95f269f9091a63502018189c206782087e478e35ced1ef9026ed01267601428890e5d37e1c596307d73916972a142b3ca03a553078b636b7fb437015007dddb47c0a644c274a3017e990d995e3bf31cda735d06c7a2dda44f3e04b1ad9305d47bf25ec61654a3e1ae4abc9cdb11b15688dd5911f5fd6cf870c73950a3ed920576f4eff7050389b2fd708236d888a20f48f00af6ba2c1d2717b962f480a3d8e03990005d965d72935ae01c2598b28f0de114203ea78c1beaede68a4353dc2680036c9ed409937d7b213a8d283b43a0e3e44f76ca73283c885d63dc7b77c05f66f8425ca32434bf3ffd0cb7d257fd7ab9dc8cf6a32b66d9aeb4eb953f3f923b9bc6ec1cf70656e0db66461d88c8046ebda38d1a4d733663a48337da1f9e23fcb30f9b959b8efc26f419fec4fd0a27f11eebd2f71d7a463e206bec16db02f09df8eff7d520cdedd7c26ff335569cb84b3921293b4892bfbcbcc4ea3268ae1649e5a31eea129600a3a7a2827a306feca56faa09b878fea327e06da3910d1d4e8f767c6a73af8f8a3755eb66c0b52697d4bbd5d4444cf5e33467336678fe059b71db19d0467792655fb5c47a206f8faf2b26286c54884b099ccc530a8fc42746e3c05717c827cafc7a20c90e582df8fc90a92e69b6b19375a588335d357cd347e3cf8d5efcf530c010e6b8758239fb81931afa3d2302d58986a1e3eb18e438f986aa845c1ba7e02f2eb58a7ed7e0a102e85add21061a196c3429bf4e84a6496642ed4519d01c16dbbdadc4e57053efb7f70e7cd7be20033710794e84f5947f41402eef96132ed40e128d6d6bc7d249ac417275a198ca0ac4c045a85207d2a325b0f4a57e9462edcddb45af180c09236ff1a3ff262a915dfe054cca0978b0a59ae88249feac608b9eb1b3e5afdb2543702948a2855b091520ee7c45246f59a772956a1b581bb726234edbf564ecaee097d6b28cf556968072d6dbdec0b2d5d66adbe2a16077f572968159710ac9b6f960ff91d31b230823680a5dffede11c57d46bcfa693eccdc1dc31bf26ed25de35aab9062890b9b8d7c98ecd3120a2e091e04cf3de518551beb97ff9daafac1ad991a9def25c7eb94bc1f46beabe062a522a55b819df617cb79bc613394482110c42e86a7e23cbb210a6989c35b00123c5d981482cd3224c30ef4730c441096a4bdd690c5c69356452605c475b65d112deae750d3be79ed464beb1c74f04f1a6ce558196d9a10ee7f2f94c79fe3c894205d8ebb9f69033163dcc4400de406d4f16b03ae24732dae76b4ab10c0305e7f21f51c327c0714c62720778a4d9993d256208ad7750e3a8862ecf31b68c00c650f71f72d1b4d1762af8784f2ea25bd5b3ef238af74ce025ed2e34bfbfa43f6fb1cdedc5a7d220f004e7495274f1ad560eec1cc4c7862378aa6d0b283962df99d132875bc471352448587550c439c3d804a7f1aabed7024cd920cf46fd23f4829ed1748fe265b0744af8fbcc09cbc25ea5705f291282c28eabee31a74d11b54a92f9bd08e2e37ed7bbc6675e7872001073b6a681b1678e3bf2eb758c3ecdad3999ca113783a24d06f2ad0d4520fc4effc4b97935b2f8684ff128b56ddb25309596dd48417cab4b20e084ec194327d6275f30be1c6dc42ad2df22b23b80c1c3fef9cf29b0b035f73f2c07143ae915adcfc074ff9d7ef4699d693b8db1a8ae60fad22e1371d7633f144793cc18cf28cec3f069a6f1cfa20a11ce9e059633fbf5b52fb6d93038bf2ab2f5f1afd6e2753a11a261924c253d53692b6cc04588d9ede4cc4f44af955ba82612ddf2d43086ff2165b2ee5bd96191d42afdfa8803e7744b066fb6a2dc3eae4f12b4f2c79988b0806c782a0c8bfc41a22cf303b9d42ee95e7169961fbe4378ebe3751a6f965a98f45e644065f6b2fc1eb55507989d7a56f5dcf96c5e4de2b894eac418eed59a0f6b8e893e04f3857a542bb5df9c43e232f453256689a2910b5466b8ebab82bdf8e2d15e9cafe9d2133bc06cbd748ee9545e795f98e90c38df81abe575002a938deb36abec66b16beb81baccd3f5cc091e8d2e60dc42e028f18924a3653dd242dc86b622364817039c2a24bd1592142f856e9014648bd5735490648566e66dfbab9e355f4941ff670e23eb7bad7b29dd987df6e5914097e0e9eb195e7d52420a1ec409cb316ad71730794d6743c8b39e6ee092d3c795c5cbc588b7091f8b488dfcf1fb6cec09495671c48961a3547f9c9484d93e71e5147c74bbadf0607fbd8c7d69baaabc527bf6fe4e93c8c3a605e3773f1b6110c2e516bb922d69633fedc15bbdcc2450baeeeaa3436d233cb97c0f4bbd0d6bb51951260ef5ba79ee7fbf5443c8a6edb1fe4ae1cc6b216e6c977da4783448b37662097f81e178921658c1f33d11396cdcd90a51c1817b7361ebfc456d6ac41f90f5e101443f9afe8270f58135adfed1c656227637810689c4521980f209fad5bacb26d2bafe7eec702e648461c68f26dec0bcf0a56e62280b10b3a5829fa6f4286c5cefb65f02fd88d4f4486392c1fee0ea5428af96d65a6746c49e1e7e327638218e3e8fdcaf702899cadab3b03ca2fa37b37cfed51b4705e8722c3c444ca7ce9ce41d8233d4664c0fa19db224863d4aadb5ec479a6bb85739dae6947036f50d6efee3f6aa863a14b9b7072e49bf3f3b5f9f21e998270f76da04bf8fc417c9b2a77923dd68c27a8ec60a15af464e73c155cee40d53c5fd92136612753cac05aae8d27c8b44282300f4f53f126a0160a75f85ccf5f7cc5b8aeced59169669bccd48d04c05024c5edb7b1a72c11379aabe338286181dd25d78197beb3e4d34884083155717eb9757b70463ad799496b2d4e6f7f403a8acf6c9a14f88d6313b7d1b60b7053efc2606686b9dc0625b9ad3c92addcc9b35179010193785478e555b8f50c2d2aca9b2b82ffa1aedd67d3accb418b56aabf63193d751658d15187d9ee7eb73b5ff4c3540821762677b6417f20581dcd62adaefa3edf800aa824a3276f452902e28ac808832f9bb09acdf803ad7603d93224f3483ed2442a476bcbd5fda3b597353088200c163be7b8bba0248d4470135a2de54e420cce8c6a4cb43ba2222c21cb910dab1d31eabd75c4939ba9e530d3a6a945b094dacad22e4d898320a9b4e729abc519cf33693542036d4365c099d1fe1d093ede366794a9bdb585c4b7c1dba5fd874f68cf1c6e71af4fefdc9b913b9dcad572683fc2b910b1008a728d7309b61161e8fa0e4e964a9f9f56d02f187441bfd0b86bf39b2b7d1ed98032f0998863a10eb47a0c6222e435e1203bfc18c85fa6f13916b3a1e430d53f3d346e79e5de5c13d0f2df3fd3a08000b4e9d9262a8c9b0839fbde91af6651eeb0a82692053d817ce96dc867eac4b3ffa76276245310bf0a083f6818700896cca9690f37fc53329dea0a8a0ede49164f036989780695038470de4883327c02ee572923716e123ad6374f61938b0be7805d4313f2a20e60bbf1d483e0e895e56c9da5a254aa52f169273e2f0fdbf6e10ddde96d628efc125ad348ca48b21e744c934bdd3f0c8169d8831bbc0f5a6f8171dd1c3f03a8d04247f38fb26268703c96ff0775037d2011b9c6e1993bbd55cc35c938f3e057421a2d4fcecf75dc4287578dc74c63d5e90423e2a58ca704ed3d5163a0703fe904d3f9fd9cd833e74646a36f36513f6e0e04e12905ad3c613da9466665fb9192b7a8bfe08d88c8223f46c3f32a71581596b01ecda14c5f2d188975f9ac025994dc79c962723ab564f269f385c643b6129baec036940c3bce411de58ccb971da4f96b914a4614dfaef279dfa1504641d241a545f591281d04731d8ab92069f69dc4af268159fa61ddadac948ce459c475461b6bca9ff9131d3ce515961396ee699eacbfec662314879cff8f9911ee94b99556c2b500df2da8a0d5df189bb452901ff761afb8e2f6f490bc2a966fe7ef6d9edb4dc0f7bab15e42a537db3cb19933cf8bdaaac50dc18498bc7229f5d35507ed50ea9052c5198e0384d23fd407f01b16182ed33001bf0a93395ca6335d92a569023d50c949f536a2643383a48369a68ee5a3df2dd568a3ae94a8ae1ec0ea8705b91bcbe8d780a60009bb899b9273654db6592c9df1047477f2a9a93a293146331b55a192080a8ab196f9e269ecc6101222375e140245f694d2c366cd2f37444b81d106ffef10d02bed22ba6257b9e4fbd89085dbd2e7c3a95aadd3bbf9758165d3b1100633b0286e0363a78b0ccab7ecee02e9f92daa80f1a135dce8246a210c88de5671b6a0c03ca867faca6d22eeb7dada316ca22cc59ca172c2d9d973e97061b05fbd8f86ce653f738acf983f2627a0d4bc616fcb534963aabcedcfa50c904d37a99c50ac31f10459558d1cc93b04f7f90a43bda7cdd3577ee648c1dcda959cf513380ced70d0558529a5f20302bfbb10b42f3008e7dd8082df1d035a6abeced31ed7a2e5cb0b2c30ef4c109ebf27689725fe27d02f5b0b37ee3487e0d196c96974cd89343e531086b889164226db133b29a13ec9138ea8a64a34bcd0ee2052ef2e2466182d19aae48ecdfabe9843e23d0be190e014d780e8c2cea986b139bcddb869450bf9c0d614115fc48be1d38139735540a8a1e80b1ad1287816628965516703eda0f32d1edd96f5642c17b2b96b46367b527c51818890d99682b539ed1d2b5c2cb17b2aa4fb02aec92b9a05995eca96064e598f3246b64c34ccd589dc113058b9b224afebcd4152f9b38653fff0e5c72067cdfde1ed7076e6644921ef56a3c5f5865efc881e4ed8d46d7a0120f324312ec2dea91e6b27b184639dbb309731503fad72876c044e33cd29547cac04adfac3e552423d3f417e3c1b8f00fca4523df37372d4c23cc3dd8b0b1d96381eb747cc5f0b78a3fee2cdd8fa8c44bf43b1124483ef3d1fd5098ad58d074a29eaac60698abebe796cf213e9174b6ec5e88edc91f3aa9507a7edf848da1e0ba4277038312a20aa10031a5536d8173cb54f58b8a4a8b7fd08131027004d7a26029fe44339b9313e40759276a68f955ad4eea8860c06dd08d727e68a259c677803eaf1a63f1a7d03bf8e1ae4d07431ef29dead3718b2a7749609646e3db13e4ebb6edee32a53a870968432ba8a2a54acb703f0b913642dfc9aa8cb5450067002bd49f732112ab46d5a2defee086433a8da02baef25711e30d4c12ac34c4c78958d6e90a39b186014e0fbf944e19bc4be9e21861b7e23a04c698bffc29c0735d53eabc782aa582752546cf4a0511c61680880ad7990677e3afba46db3b828e2606058708146aa7af40fa5bc428901ff2df59abf61629f058a8c235490d51b2550e1c7dfc7a0a316f901c613d99ce4ac032f87a06b4439a6e90d0b4c2393ed5279568395a3a091270ade9ae87a8f46d907b589f2e4805ff9849cf84cedc1a4ad92244ece357ff2f18d4bf9ce5f74838d8acde662173f61b60404babd43f2ade5012ee1b4b9b5ae7a820a704776a8000e282876ba8a59aa3b0e4f89a800b07d5f4cbad74cfd18f4e1ad2a446c5be3212717769395bf5d8b23e8e3c8e43a941da0a2b0c3c8c470e2eb659f855d5cf7b601f03696752596b5540ccdc36f2d9fe0ee821591961c51022cd3748382e3c5dd2523b517cba0c3740affe2d41c94351bc4e3ebbc54d844a5d5ac2c1bfb13be8d111775a217c09a8dfe8ff308636d61d1d075c3d7ce4b6c8f56873914af5eab135044ab625d2ff040d844a5f909da147a19ccb34b279059bc40c821587482a02fed0f3d192878e60669436e091d0f37afe6456f862fbebef187c399cfbc5460dd83546552eb676d8b91ba43376edafa294e7757f3763af2aacc79081b23f3ea9c68d3f19fb19ccfafa97e61346201273d9abccf6d22dd95f3f485d4c362a19d63013886165b434468c72597d6eb071301c4efd0c8f91925e37d29b1ff63f9f5ab348318d3939032b542a7516fcd1f4626eb4ed4b4d8309b6c452a01bc856238fc43dda1ef7e7ca7f2a23c503010a0873edecd2c66a3fe137bff510e11a364b7e5717f8cb8b839ea48d4b16d73d558bf1812b18c6a77bca3f871485805af4041160224f1d69616a1745bb58d2b0231d52146592ea84c912c1f4ad3246857644687a5ff6160802eb1594c423009796368dbf18aa5dce8675ca72998999fb6242056c50f640096dc26b2d8dedc2501b87cfcc74c9d92564126d308d506c36f3f800fe6e1db72f8699ec944aac1ad787665f7a13e6eb46bdf3b9497802184fbe77836b5d85b7cb973a1f9bf0aac8a055a124d20bda1d3d4f1dde1a8e033385249466fd72cb00c5d4086581b3e0a445e5e2b9a58f691a2346cbb1e8d71b7b0ad53dd96b376e1200ede4290d14222291e446f5d21b8d4de6b7a6d4bbcce7ee74ebde8239190a07f34d56aec711bf717e32aed98d3a6e8156adba3cfc9f4aea2717d2457da0280ccbc115aaeeec0a0c9f3067fdbb041f0418da7d23967383cadde411dfc23a1eec8955925f0b6ab45e65b7cd59941f32aa101ed601c54101f3ad0e60fd35356e950421fea74dcb6fa099396f2c18672bb12b26729f1d95fed277a326eea586943c7d9900cb8a240deab8d093fc831b5ebe241d80029356c8685d14865f358e2fe5879bbd9c124625b1388ca280606c29975ccb0b3dec3332c360436a59ecd3a385ee72a4a26d89854cc7b9936578117edf909c8f92d7a4c548f28c84e2af627cc055cf2f6a91944fb9b1fd03f23fb8878a85075ff9b219f875d504add059478a57aa0a1d92207fe4d684085727cd4a2d7c7c2bc9638768753819f69add500046827adcf5514ca9ec0fd6bf6455a5ef0229b747ac21e606c6a5a69a69fa419be8979f9629aa0ac979c003656f52120fb3bee524fb39aabb9722bebd83d99258ac9038853b2e0a9a2d093efceeb6def3bb99203f1f97061a02b4f04899914ec2bba664b5347bd3c1c00ca67760f7ae2763ace0aa0caec715f10f0a0cdbeabaa6300962a56af4024a168f09adfad63b659a07f0db58408a524e57b68a10654c12a0f62ad665bd0a32b35660490dc36dd5e281cbad59a469f8bcecd193aedd8b9277bc165fbf62d1aed087b11d4a053b5f4fa7528c3fbcfb5154e2d2b5c4d81bb3c10781010ba5d542959bbfb868a3d0268a50156c5bf556c1938d867f1329effda5425e27be6ab8603e74b7abc9493a76444208ae85f153b3803ab453ca4a265bd76df8932c0fab5340ba60a5c7d759bcba59da02e8b221be8fd2694a62674c3d16e2fcf27bfcbdc97cc05ac74afad01431ec854896afc8aec2faa0902143299317fbdddbd031305fa72c0187a113c6b7ca4b03743f6626a711b057263fe918abf78ba0bbefde96172bedc701746562fdc5a5768ff7ed7a43de57a6a00c244c7e78bd2c35f4bac2d182f3580faffd2cc91ebe674eb7a637b86e32b0c9036c9f8c6acdde558a54a9763579870170eb8c315883b8a24fc8501fd8601c04e1699cf9a98b6d27b05aef8cd6cac2de1982476c8e4b9a82967a7c226bb5817f3e9af3348424c8f04506b1215e96729626aa731192d45a71cbfacc4ecae4db2b842bf860ef1348b46c40d3d479c4f74a062172519412274c87209332d725e4aa36c917aed9b2f7ba28cc0dd323f7364044332ed300fa6dce433799a02218ec0c86efd1c30f4368e430b4c3143ee6374314a00f81b4228acec4219987b01175e3cdb30c783253488372b4ec69ae8b5158ec641093aedd3339e2c1e117f4083204a9bf78faaff49061c8e1c9d039ebd3d5dba70a1788d18b0f31cb90ec1f36fe2da2b6584f5bf64d336c5d9eb091fc5618e2f6a80b17aee6aba353e66871ca59c5eac1f655f12143aa5d2951d7bdfef33d1c4c6bcbc897870bf8475a9a802dca21796158a301ddb4a1e9fb67a958d8c6132ee563598de4701ec90ee5f8eb82ed80885b04ffc5296879b578fa276eb95cbaebae8819d31ae1e326fa433ac412a1d54e2a97189af2fbe7af166780e926f2b6397a51b47c6ef43133fc02ae093730964870348d0d0085192dc8b9347854b7b75f6c49ebed00105161158e589b5b03c68ad9d848244c2bd8799fd2d24aa4dbe4edfd0f958dd10a921abd7a57a23116db23bf718564175e6346d6dff2751a2be7da6d7d42ab7f05746600a75f6601353c9e2244cb7167a2a2840af35477c64bfe698a7738d7497974a59eedb3343fd132f7d27ea37b9ae38e2b397ef7a676d2e48f3db9a3e61392741baab67c1f3fe8391e49f4155b314a4203400ed95d3619e1ad2648b4452c70e26a5ddf4dea19bfd273195b57326c726ccd70a1240dbda3b80322ac1c584a146a395ef14c28912046bf1392347d803967232c18008e4c9cd182703cc16fff252e28ecb97be67357c9dac6fd5bae2ce66eab05b444feb10334be23e80b36b3525ac263c55ba3fec54cd32047bbb7d51281895833483ee86e52b11f0a6ff0dfd6212237cd5097d6eda32eb8f71e71abd00def50c948d14af53a18ba796fd6108ae76966f62008e032cd082339356e9702153a93718584a16ddf3bf66a99e5b6dd9ae7609ddea36b98b58b1bd6a0a16b2cc9e8d8ff8fdfecd3a3ca077081e39e1c353de3f68cd08dff2fc89e296dac28693fe11bd1c82b48c8c269b8fe73d5248531511351613e1466fbc3725a7bd14fe178e4b6439cd4376fa70659e85c5fed26bdc4bcbcf584e0fc32c5c886726bbe83d6c491b91cfbcf1701f07d22b62a2eeca20e94a8c6ceb71214416ac108385a3518ba52147616562d3edb8ef9f25d29bba0f87a7ec3454aaf9698554db49af96b30b50c1efdc20617bb1dc62387d8f074665205bb98c0d2fc0c5069efc69285f75f39958e9fd93c1bd9b7c4e0308c544cecb5304b8c94d7e29c5349b28eec5510917821c3cd2b99e1f69ad239930a8c01a84616871a68f4aca4ea0898cc1d77ead22cf44fd27e90e1b48ca015f8d0104881174c1316d43c4bbc06ebbe7f20a2aeb3cb02dea618d9a1c88dd8468452399dbf3568f6723783b85ef10952ceccf5c3a832b5f3192cece8a0c7a0d82271d8e8ba7120c314bfa94ff53aad350ba6a1714a803c0a3d101ff03efaf5b954d81ce2400bf64d1ac893268a51760ae65c7ea8ff768e8e92280c4f78a922d5a38202c0391121530723eef3d136dce2b0c0626454ea0a0f5f63da0208c90bc8683f273fa9ce46429963745d8698f48f5ccff3cd47c18007e1be58f8b55c96c19468c2d5e4b8aae053f4f6f9dbb10869b44e7a7308afae0137b69e56d285f43329d8258caab8fbca32b5e050113bbf6c16b4db2c39caff39aa193dbed12ec2101e25057f147f4f95d8df64aba45febb487df2d8401373abeb333b0f055096ffa70b1139abedadcc50768f615fd2230ca68f0da31baa5824827091b15a3909fafe4b79871dd0fa9c23878a1a7e687e7f2125724f375e9eda30e42510e27847ba8263c63c3c5aa35aa581962ad79785815bdadc6c60b65794ffb51c5a9a86f8d309542e9c4b7d483f4a55e9174ded2c8a98075797c1057c9b00cafff1dd57bc47ff3269ef2c184e29e6ef70cd39e5f03f3acde7ec758e58babb74807fe7489c1b787536bab8dc528dc0dd43cf26204edc7dbbf4b9edd8370e97bafa25822704fd835ccca27147a3f1370eacb9bbd803525224e11da1274915d406e3bcdf92a8b83c44ff24c712c195aa6906ae79d9fb0131e0c173123853907c30fd99bd2bac05375aff068f73e85a93c4669b49aeb7b9a64e0a67a0f47920e559d7fd3205e02f59d36581eb31b664a8adce838ea9356b67b5c2d41c1067d28bc12fb7f6edd247aad4f98ef2587640a25dad18a799b882284a6a4cebfe2ade8df9dd9177f8e62f3a378579a1e93f28267e2da74fbddfc48240b7c5e0febca1e591fc8b9b4388e268303e12de30e9ea942c31e901323a448c7bec49ad40df0467057725045ffb2125f75c449188e36a6d687aa085267c2dc5c00f61bd38f1150382042ef152b486a82f590f6c556a995b386517c6dfa9f763d52148a8a259a721158e0055c13c372bc640f00aa04216fb1444150ab82ee7f6f1890db1a394cc5cd392c3be69e63aedc0f8da702b21a6c4c0b4ab86b83105c0291540956e2bd7bb6486bba7e2085656387c22ead191a1ba852a679a8c5c57c03636067254a148efb6c9561cae740f0ec27a165ffd9bfdbc27c0ed5bf1eb29af8958097fd1e008c857762481f58a17d348892e7b08900bdbe5c52e860ee660782c05771e9b74211d0dbeb345b29f5032ccb0c5c982aa9522316c9f4e78a283002e1c26abda6c0b7e442fa9b2a819765704350bf17f5b02f741645f8287aebaca1186cee0d94a0a15885463288f67100c4e55a7ea1f365ec370bff363f389e3311f9538f4bc9773a04a92703e87d10d88b8cac85efddc06b0008462af341c3afc24a98f524e7434327a45c1f7b412b0292a8fdbcc5ef8decb2c048976b5ba7728ff9fcaeceea5e1862979b9c33958c11a43a250dddc63f04fd27a0340d27c43a86c75966ea5079c301e8d8d640b51465e4ab481dfa1fec2c30fd9d3ca1454fb6e94b56e7110404d8f286a57d4e26742059af89ef887926d9e8368c9cdd1ad42ae0756894a928d3b242be4b5c3b33f0b2e56d3c782f363d44349374d745b400543034624c844c19d95a975be620ed65366d57ab06dd34c6f584081cfb87814e612fdaa6647c87a9a42ce0ea1e2e6dbd3eda89686ab7f1fe0b3c8040d2d32ddfee83742a60b94edf5667ee603b8f49ed30eb646e020d2cd497d985fd070ae75ba62cd5bc06c8df9fe8f46c5550025b92b7be47a88c0bad3644230207bbe0540cdec8731ce1b24cf8bcebbd315d40e8823b9776184884bb1978711c24ff4c54f96ce4e6ab47322b0ed179d83e61cfc7f13c56720506f3e1328e05a5e0c4c8e2bc82fbbe94ae5a92a6feca7c44d8bfae5f68111190bb36778ad258d6c8cb03bbfac1cd50ffdaa8961dd475d556a643808fda49496086d7e2e6e46167914995b7e6a87ff32afb7d40f5afa73a83d0e4866ca85e5c0594f9668d3b5f576eecdcc19bfa5cbbcbd4e8e9aae8ad77ae709ac9b129115fb954ae734f21941d388dcd2cfe062f546929aa239108a7f68043fca4e540b23156c7378090de1c81929fc474c5be536c06b223f02e2cb2f7e11a3aed0e52d78f29415a205659aeb6d2ec0d12916133cf8152ac86d9aa7339f7f677c16d14c0ec9fa806ede7ecec11d769204d96c08f5e266129fbb932b3f608c99d8409ad4cc7007a5591c2debe8ae35f3f6e6e18a8765748ff28d0ac7e5f4016b17dd8df5a667d79bad2ba73867a231d5907a14afafce8ea8775d93587f8d689c0e026cee6634c4ca7ca32f73926781039552a8afbe37b990a25dcbb2a6806f6c15c37c317e39e3636797b6658cc7fbbd2da9d89aa4c53dc3cbc005f09db3cf8cda2d4581fb2f1a32a8ac5d9b4fcc6d09349ddfee989186a6101b07c8dd5d7824694098ea5237c5142891b8032a085272d6e02bb72f014437a12dc6b62c65a67c24e8b3d7afb0bf63c0025a4408b0b27f90423c62b719fc3d716467e2329640c4d4c5986009a3888064aede91d25953b6733fda94543408f772776ad7415a37fad4654e099de843d47f67fe7ed0c03939a9bad650123b68ea91c4a89787e8bec2933031294d9b37a382de4a438332736df208b62a7febf2f920f0e3e5964687d23f0cf4b1a3fda5f9a880d946444c35546b89f5b975a163bfdb5d7ceb969dbdee5055d303c604489435fcb5dc000068b06b7d865438dc461d79c84ea530d3ecb428e1156ce09d002753607ef822f342ad41116d0074f19746ed13457c93a0cc2fdac1af76b4fe2688c10e293771ea0c076e324f4ed45d7c904852e923b1fde1e3e7fe63e51788a6917964575bf3c2d4241a54356f58ab98a9c7320d86518465f131a30aa5640f85f497e1ddff25ab810a799ba9dc357b44caa608396019a47a277ed801061a5ee98a8c35ddff4e2d6f0ce6eca06f41534bdfeea2de3cdc1d3c9aa429d3b18b4bb223d3fcbca14827d6e4b9479e77d1dadbee041f9a2ad0d47ee65964885663c0903eb2e932b54b150387dec968969daf10db4ccdab095a1e38642a11279bd7bed75eb9f481e3f5ecaaba1ce218235c3701e6bffc65d01cacf11a141043a6ac135d15e5db2c80a46ecb3f5dbb9f21361ee2da1fc28e485d532251df53121e7e73e5e6ce754dfc2566fc35cf15648edf69225aa3f925e163a4c638beab9c69df987f4204f6380b381d93f7891205acb86021763e846375989dbbaad126945c6477178380c0ce095f107b99c116402c85baa31a345a0ea31ea7a186955bf774c1a62e405aeef1a65aa07aec0c238e026b8cd029d56ca2dca6cbaf24cfdb5742099d85c3aa294e798ebace2514a4bbd4b10e081d5cfff594661ff74","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"8b4444e9e5876e3327708a505b6b8aac"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
