<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2cd2694bf4f63ac744a71cade3785d82cf6c90a65507f8c81cf5b15d7e577e03494c4781316b841ef48446b3d690af2ec37ae292b0162aca57e573b405f6ed2143ff9dfc5b8e282a9285f2572b1c9ed36a1f4dfbdea9552620ed61cfc5c3c478c7568de8f456c6d01f40c10a059219317c01e5df6df7d27551ba8ad09bf22a68c92f60c504028448bde663b10cf283942fa6ddf8114639f9c761b74a3da8b9d7ec19c10d3867c479d36cddda5337eab27ed1f92f2fdc37259ff9f381964ce8cbf145c9aed807f7df9d94b6945f97dda5bce385e57e979f42dfaaaa7c6ab5da23d15e599c30783991832858c0ca6cd4b863293791a4af379bcb286312dcb24c4173621aefe4ccecfd5953ea2c18dfe943e242ad096a145a3982f37d549b34587e016fb2cf50f5fad6c6be43b7b43a7c2425a600c93d2022f858d1f0951e89388efff68ce0a6777f4c1ea30a5e422d6d7a21da8a85907470b23f5e809afc8dd34ba5a840c28ea165f00302b9317fe77d8a7f9b8c3c18d014713fcd551234449ff9a3a0205d7a71a67a9513a7a7d775d3e1ef18c8411bcffeae71b7abbcc4343c2e104ca9e1c5b52721915e22efea104f16a214a1a2f286b3312339a4a56616e6513b5da5ad60c2c14da1a1835db93da1624a995faf86e4d3bca4552c164fe37d34696db700b659874d8384c23ee05c5497256804b26ccf14315b94d39f11217eb3624b4ed3a891183023f77c38bc83a54fd84ef2c4d036e2b5aef726240e1f72feb0bd0a3bff7ad639fbe5fbbdc3774b58c4c250f426806e41c2805c36af9ca38d2e911650dbb075d252614a229d69bf34f73c6c6dfe3c26ec2a521f30731052960473ce07e315a5049799cf5ac9595cdc6f42e6eb3764e87308382c3b3bb6a24439f8be17b9b6461b52fb0c30b61dc9a9a73ea6f0ccf811c0d6a762a2bd92d7f54a976867685428c87c0d37224b151482191accddcc8f047db0184739155f4a4a1f16b08666d4a9c4abdcd889ef534d21f0834cf4cf6c1cab01b1627c0cea0518c5e94ec0647b01e585df0e73110eea7a4683a21e90fc845601cdcaddfba0cf094563ea2ab4d4c7bc0efea245f990263e53a6a77559a2609a0de895d85f0beaa1315aefeea240d6d5ad6270caf5d9b739e2510e76b4dd0309d7da3d8a1e0abcd54351a87ff4a7847dd6dc16ba0ee6faf46d6c2d9876965a08de68211c993ea33c6fb990c2c227987454f810f6d05d5ead27c935977aa8581463baa12420d99d97448dfd79c39af0c6e0df9cc10caa3c340c9663e3b42b20a73d26c30b42d8f94970441ba2aa3383e2b59041fcd3ce3e6d62b9559bb3d50cd37eba4e1bc3d68d4aef26f4cf41e830aaca5560af78f574bf5eab196d34f68134dd98438027bc6618d0616e62ebf8a619f37197ddd0f8f7814c834bcfda5d323ba7e81a3cc7a3aad6ad29fb5add30944452af64cf82479eb77598e05dee1472ba55adf2977180c2dd2628188b92a8390dc15caaef732881db2adff76bc193fa95ee587c8c6573c8d8de37d38a61f09963675f1abec7f505e1f2e56a9d3268a4a6883da8490af7adfb697e9bd740946c28ca9c82f995e911e11b6470ba8bfe1dc6776b46bb980764d832cfe5dd5bd3bb349224df12a9318f458e7911f1d5526334d624a1453d132806615957e778983fedd2fd5cab39032c531e64f84f58a80b76b032e1566f76a1c0684e95720fb963eaac95d470753acabf4d3fc6bff3d5f90466f0ddf245a7d6d317a5446905764c0e30e3d7c77d636761c4112a9a048ee79e02fc768ee75d4e66f1c012bb63741fab1c0146d5ced4f9ccde9000f63c7b1dbc02a676bfaf8a41c92c6e631b94ac3585014912b15dfd9e71aed96bfb2b282224bf1eb08f43c62acffde5035ca8bcfd37d470bb4fdeff7cdf49a26063b283bba4fe520fd02a3d69602871b7511b7fa56e70cd877466b410aff04b8345061e25f569540f2bd9e18179ae84d5c090f7777c66836a88fc30e70c93b04b29d8ec2ecfe1b59521b50a5cf26ca094210839a25ee52211b1c0d45e02afb8b27e7e2aba875d9990bc9cd877b1512dabaf6d72a4e1586b05ff6911fa6aec32db51a5aff827a3d431e0405ddc7d15590b552ff7e8748ecd93422e0e20db5c28b07fda2fc9f2a9877c26874ea62e2c3e2e604fd01ea2cd3e0f9eb5bd2e08222540587185f37e28800669d5362edaffe22d35d3e9f41e3b98c8108655c33a331200be8bee6442f6594e66a8d2587e34ebc56fdb39f00a1d047b8e8d012db5b38645e5eb6616ccbd08d54c8ee22bfe2c493abb5a3fb9cc9d96e17d982ec430db2bb6135d8d21d46663da8d92f4b8c69ecdee5d30d26ccd12bfc742083c6d69f98c8a4d9656dbfa885ffbc288820857b7dcd921733c2230a5c6e367932c25a58d991efecae3d8b31f7cdf9325b09195b6bd2ee3384815dd20123b4ea56fd607c5eeb08a9ee8e90b97c1a6bf192e96d350fb54d9f57fb0b2dcd85d73aec90bd9083580c4768fb9538f8d93ee91479ea0ffe5f9062f4fc27916b6fcc25729b90d394b422ae742b77f8c105648cee0e2790c0cbf00d0f329de3727c621ee4cb06ec5c4ef22a65b7d04e94135943a55d930351d7b63fbc6926c9f522ffd168fe08af7548720d123b4553014e65acfb872346d6961f7dda3810c608d1ee5af52f2179ca86f744a71592286c5fcfa0c59da314c2f5802c349c25e0f27e59e4f4a63160a66f348e1b6915da0e678b8c32e745e2e260f990ee9300609e971a83a3d3683baeb8eec6d670f2e9e928ed48ef10832b604404b614eb136db9a9c93b2216ecd32a9ee2820c6fa6bd932b31565f0c6f46fc176f901d77321f3329c34d3e37fe1fa5278e4ff5d2f30a7901a96992b9e58ce8695d0e27c448790154f3e71f6a6157c844818d31e61713e61290d2e7b141e6878c6819e8da73e184ab811a0a8b6216dd8195d91cdf11166a6b9f039d1525d5549501e4dc4627a6b13711211f17e7f39f181a94e4d13dca9473304b784b0d18284dc5bc93343c8ee8a938ea426d654ee203635b315f02a385136263e9e757c9e92dc9f4e82f6864b481b1ec7b8a2995e92441b940e860a4f14be11078114ed88ac72f96c18b9ca74c4829d7052a9cba551796a93ab393afdb0826269bb4c51ac980e50af3083614ab7aa80c797dfc7217b40b026a2b0741c73b2e73a235c74a9507f45402c400d91a241b4dc8b5a2829bee7a6331afa95e2efcd9a0d1e9f9044715a34e235ac83ec133697d8adac762574c7a22358b7e3c08082821316899e303bfc32c37085c43ed7593d54e8f3253d4be4d1f5ce79c118a678dea04a9355eb3c003de3879476c417e4f4f4302422e12a59850ba3e68b6f10d253239c08c19df96f35df445745200a4c1e7f09cb4f57c220b3458db3ed25943d0baa13985cdd5221ba009fa8e2f921a4eee86e80884bb7c18a9a7ed2f12ed39b3186b12733fda710ff806a345ebd5a7e8cd17ab37d7009c982ae915f2a8f9b46eeaa1591ad335a76e0b2416f0106702b36466c15b12dbb2fe22940cf6a3b2a171fe3ad86c8ee9639d68f723744ee492362241e60efbdac4d04e9ae6359cbe591d656c6dc24850ce6bff45ad064b55eac70ab829eaa51a5a57132552c2d7b2fb81fb685cba3867cfb28d140552dddd781f6c4c80485e461779aefd5d1572c015af33185f320cf9448513573cd615e1eff01af2e83bfd50168f5576f227401b48cd8f7ecc5e614f6615ffcead0e142ded6bc60f5368410c067c42281234f022bf1b850bcba40a49b0c07a9096433a38c1730ce070902cad9694a61c5ae83985b444a1b48ea8f85ff5328736ea31886ec3c368ce667f36581ddfb7e7e47c79d44f08d37d154e81417cec776e52aa24b43ac09e240a257b81fa05a5e9d04f6d1bfa9a17baaeda96189248e29a8b58b8f3f8ea41cde1ca9487580e39d15bcdc20c60b2d09388357f4ef773cef7cf8ac1f15b516110cc7ba67df5862ba9983d3059e0a1e76149b29dec2b08bff9f03e928fd4c89d0f0e752dcc3a8eb7f0b13c73639a76c95c391b9b1efece328e678d55c4205757ca874dac166ec08cd04f75cdbc1db0c84f451bd859a2a3b37dd1860a67f079269186af791829c41911c4a8c2387ed6d94221babe803fcf18c3e92dfa7dc39eff0b801857c6d309bf0745d679acd84d6149c22f0610fa2ae729b72daee3ea53dad66bf30b60fbf01739101d8201c74829bb1f18c439ed302de954f9d3f1560de51729800709abed82b378dd0d329cd4a803470703dd9df0a0eeaa4c9cc09f710d4b30e50ca3a90d36fb3790dc61519b16b0ef1d26d4979641e677b7625fae98229cd1085c1a42d41bcf829d0eb79ab6459a8668c917a228e59c868968c44c6ffe067a2dd17940ce9e8ca2b2a71c3b17653b3c1554f7a02b4684e50f9815343203e4f186565c567fc22072fa454779af2c68cb94bab32ffab41b5b550780785f55e27e4d0125db3dfb47c3525eb8cf0da5ccbe7b9c1f976d12cf7cc3e60d3f832242c8d07fbdcb34b1743f79c99fec1f2c09eb89f98004a40055baed6206a667034713752ffe8e9682f4ede9f5dda390a8734bcc86490f21f3aed60e1141c5c5252b56156a38eaf8aa840d4e99fc92f56ce83e449b42510f552ad8498a49541c335511570595750a4a88b4840ca716159abfd6a6e2902e870feedd51be1db336c099f5fb0388a8531b42c4e93b8641aed1b9a0f0c7e8acb8604247df4583978023857ac9c18a5f5f32e495845cca8d43fcb200d5195fac1b2bc823cb9f4f6d422ca290f49138f268b413a8dcf21fe9b131e8cd231b913f1b3a20e64d5e236b9a9cd73cb9773576525526fba57ad06d3c32272613da50f1bc5a2b3918946df048d2554b225d715fddb6c7f4da73216c7fcec4281aaca4dd375821ff201dda62246192e02be3aa38f258174a14620a639167bbd44f22d40cfa59351abfff95c25c7e5a82b3a6cb8c1fc72baa03999f6a760b8366b07186eb307bfb9bc64f82f76a7e56570760291692df19ba2e316471c30adcf52aa0a26b0b655f541c6c5da0b776e47a88fe3b888384eec067c0a8cd8fb92469c7ef4da4a3adec9f326ddddddab9f2f6abfbae52f450cfb107687fca82fd9957469116edefbf09bd11308e4b429b66e481efa47ad7b0ae0a984fb42693bc82a57f97f3eee034027a90645be915d7f69ce95bd96d0ea4014f379dbb78e51894540ae18542724c5b79126d9310e98c1042e16bb775cf11e824ccf6a74644cb3e1b5ff4483aaeb0b86b17c8e19b9096a8c9809f6bb26a1b59368611b2fe392789dfbff6e2fd28f74499fb533a106aad2a03744a51eb6ed5ee08567b1812088867a46ce526d53531ac5e80476d012d748da72b42bd68e7539cb1f3ca97bb1b5e7ecbb52390901add35d683068e2f9dbc631284ee3ce82a23410b9e8f788449bed13560a66729124a9f42da8584340a8a71adde6b6b545f95c4a00b8e97f629c6fac5a84301740f93635d5f5519d62266398ac3b4ea07db8c34a3fc37938b5cb69e528cd67d2c39e943c8df41cd13bfed51a4aa48f09b43cfbc28d709b6a8821937eea3910a288293d850c1b104322880fd193c39a87827b055c7057f54090f0eeebcaf94e61c714f7ff943e0f0f6d43132eeddf4489d5758966cf219957ee735c83c46cc80464bd262a49b1cde8fb7a6dd3fe3e22dc12f6e9c3aa063946a2602a2c64b59394e8b641898e897f83d14c30ae85d7600d6514129456cf2b6e221e5a6141637e5116768bdd94efc9ad2609f57819aa9e61a767ff100f1dd5152ed7c9a3e325d5ddc98a0dd5d11bbf7c76f59367dc3fe14dfc1eea98c025eb8ef293e72517214028eb1611d460735e5a325ab76a7da65b55f88cca5a8aef5eef9d06a31fc86c939888a9492085aac13dfd0911ca96d557b1e4460d99c42543da06d9a4315fa217c1f75045dfd5e06c381702028e43f032e6bd5b61593614c85cab4b93670a16cbca848f31d1271e07ab098b56f5d91db4f19ade3bc458fc10179ca1b8e647989fdc777468c4c1b295ab87adc0fc46688644418c5987e4a09ef1e1f25f197a47de49047dff2162ec4dd178f8f7fe68c9d8f31b1c41e1291bf95f5802b36efe7f98c5ac9a93b2b6167fc9c82b60997fd200c4c54253663cfadcf15e526ccd4347ae93efc393930d5cbc2ed5fe630e49cb782ca4eab952dc066869efc72af527b629af7d64526a6105447511730ca074ae1c63c58e451ea48a6f214ac90423d99b6c51d8a8dbf91c03e8717d96a0311e5677d91c3be882fda768ccb635b901325fc8ee430ea2e180391b13e8563ebd65b0164b3544e760db8bfb8d18f68776426bca7843c966260d8610ea1e507d48e610c5502b57ebee1df34692915724df93830f0ece94517a13d34d67ea795a95ad240d84e1d9997ab87f07ca94079ecec4618a0dd941f6ceb47fbe10286771a713da9a397d2c631881727473059dc40c00c2d4b531ded4b6f122dfbe1eee1295968c999fd34c88396dfabb017e94b20009d20cb31d8ea8d14a7e755ab39f98ffc936926e682c9c2d551c3a900a0249e3ad5600d0e882b2ff977bd80b89a4ed0c710f61425d4aa9f0953d5fe4fa6d4e65aeeaa02f3ef22ecb7be24e3eabe8c1af1c554243a25690f943fa99b2b56f04d17a9b9882f10d8caec99ab832a754b214d4825dce75e540bb96b9e8d5d1e0e15601a2ff0dd435f38759c1fbe37050f716e883642a15adfc5085c9165a0015728e50f4a18c74b2c10a0fe250ef1591b9fc39e8fbb0725129bbf796f060ee599d52de32868edfab33cf6ec0b40efb1358c9e385aa7509c09fb98cd14af1898cdb22637dbad04df0c5b4b55d9ebb70fe653fba412ce02be1d3915cdba0970b68829fad327d88f66f86e3beb319d8c4ad5bc4051e5932b302e52c07502976f7a6bf0bc941530eca916137d16808360041c855d3ed0169ba87af28459411a1930e0831d39ec63ccb2c1894f3549b1c88e185550fa85330e903d79d8a331d249bdf923d487e2f25e92e39e2e758ba11ca78dfc0131301d2d8df5beb342ea118b5748e54af1f7f6ddbc4a1ef32683a3b3f5cb9ad5bc6e7cf9938f20cf37691f344eb32d2c18d04ac20d1a85ab59219f124ac047d50becec2a645abbad5749e4965aacad40f4ae296d3fd909e70abcf1ad8a52ee285ccc5e4a8d247c982a4adf27c24fbf4706c439143f5851ba729ffc9037984225fe61af43e27602c8d4622dd266a7377ee41d684b5686073318919c1a6c251b6786246857a02a689526661c872c9183569e04b3377e9280d0005adb3569db2a3a6b7aea08e13347dc7db35b8a8f95e5492e2e682d2bbb74f51589c8fa32d4b3a41f59bd18d6347e04793c037382b1b512721a069bf6af01da39866666da0741138cd9cc16ada3f86d6dd3923dc582c940bcbd025d13f921e5f165166794cb5b0867fec4324d0a5ad25afc7d9f3b300acc832b365c98301c094ea4a460aeb2a8771a95038c9819aa6d4bd34344d7a2afbdd9484848fb476a782f3d63ae8ca82738e4e0f8426aeb79aaefe277f124b83a508602b6db461224afd98d73e5ea53f12b4cee04a748e71872e454d0f2f58ce43c6420b27d60dc5fb3ee35deb03c0a079d20e8a3ae0180d6918f7df97911a9ded83ed16c3344459fa0e134fb369a5996bd8d2a03c73cf5f3a316d5d6388c37164a52a337f28756edd910387e48ddf1c7a62dfa026eb23df1ac48a9ca25cc1fd83a53b9ca88ccfaecdce395346edc4685c9c12a56a89bc8e3d147c256be4d1b20baec7982b8f5a5d8d15a44a16ac9ca89b08a2943b092269f87f74c0aebe20cd488a45238111b91ee228ae1b03ee58d7e4b10905d9dfe16d4b6d4bf7185b22d45c1fa7029adc15247b64daad158192568108bb20d621d7056d4aeeb517783601421bd7b376dc6d364041672eaa80a5e8d2e06bbdbad20de139bfb97e613f4fbd173e493defecb9d82ac92e7cb34716872962ece83dc33601dbbe733b3f668abbdcca691e5d3fa411d0a6a3f4b6e4fc656e6c58e4c23ffbe826a9983291e38725349cbe67d7ea3b6e87806a11b1c2d2c88bcd43518810968bcf5b5d748eb5cc2b57f26b27094ab3ae64152f8c8da7e7b73f56743cb21a6ba2581179894d975fb0cb10c4664651a022484bee9c0b17261e661a26716e8dda9c885e907b9ac1358340e3fc82ee05136d17d0c99ddac1d8e17c776bf67af715b53b734a261dd069c4ffc4e13176cc3b0547c581ece8d5bdefb09a00fd924c27825f13cc8cb8bbdc61e2d969cc65003d61de01d58df2b4127d1acaff4138a425421a88d814fdca5a854740854c495c4ca479ee3d437a1de7fc9748bed6f97fa9b05606eb2ee41f58c0db5f91bb4abed1e97ee089256a58fd344054e127abd11106c278ba32f17c9d8f6dc1984eacdd179cefbaa981bea3ae84f30232bc6d6d5d2d370f48f90c2847a82d4719e5701eb4ebc2894d5d650d20f821c3c013b253fefac67d8c6329630611d7351a95a74dc1f51e2a9f41cb0cbfe097b9ac47cf41218fea8c0a68522731891a9b3a464433355923e8731ea6093c72adce6af3ef156d93d90262163cb98b13bf2bbd023810b2c8462c244162697f0592bf955f70793f1f138bafb7a32d2f75a36c92675b0f2d1f87005142bfa2d1d7df8c492847a94a126fb27d8940fc661095de6e2bc753c65baa86e144b95e05057e7c7e24d53a77d266c01bcacf521b1c63faedc563ef0e1f116085b513619be6656c02e157c6c851b99f8fd7c582d677479931d61bfdf4602fcbc1370eac3aa30dd9358b4d9a9bf5c06b00196e1617367ebf5303f332659408e1e5cf9a5400aa82eeb70ade48f854bf28bc5cd0c44db2916627509afb1e58b4637da86f9d98738b3eeb8378f15c755f63e148ec85a7254d7c5704203b90b21dda4199a34dd75dba731a06b5bbd03bcabbff6e7a3ca479fe74bdba8786da35602d00d7514dd96eeb460590c185e0d4e4e870dabd4befc28a4ea3f8e8f4acb456d0c7244a0d50b2db1202c7729c41d7fd40b38169f4a8c09775d8dab3335e5013465ce840338c2f02da2f76832b2d5e03757d4c195f44d811333e30bb9837ac92bb810457c6af23e939607add95035d194bb1d13734f355d7b682f6f21b500339479ed4ad314277cf6b9b9135512cdd96de5c927443d2e614738d502fa41ba93087d67f29ed4ffa0080b2df22ee2515d2c72f786ef93dfeb2014fcdb3423ce11ef4cdb5e13c87f8a05dd76f4fc87d688b813975d723f3bd41eca12c8107f9313db01cb4f733ac8ba40617dbc8c8c20de701e107a6d2f87bfa304c03dd9ba640efdf32c1105edb42c643e4211a5f8641aaafe102db153dcb06e1ba74bba00719d2c6f47d0f4bfdb616ef1aad7ea024cb799a3ab6b1dc81bd0700b78daa96fb097d564d079c4d224a8556d52830df06bb004279a73a1b0eb3b2b8f162b4e80ee71d181671b41c4f04c28db2dc0e103f0290953461a458944e2c26c597dbb0d7547cc5ea12305ad346e642472db850d4f435a13adf42faadce825660fda1288485c08773ef38d84b510b6a4e57471dfa30d863f97075afe96d9e9161baad9034f213d2c7d908b1ab1a636929cbd80326a260a448431bb911a460561fffa8e93b51d25192aa6fdd5e98148251dfb72cf385e82104b2165e07843dd65bba756b63a17bb55511ba23cdfbe46a6aa5f511c162d547667639936354a0fea7ae18fa6b40cb7cc4a5fb802631e32af7a119af72b7546e840778624662a9ee40faac3c70b35d06d21015b50c73794bd35270bcd06c6b5613924f5b925120647bdebf4b98c0006219edd058b04f63682b548df1a40809ea3dcd6a45065de8e5f591ae4a9e932fa9218382691e1f68d47da4098f648b9ce00904128d7cbedcc38fc4978c101997ccb8b116228a2b62dff89afdab328eb57177cf670b4962dc014ac7969d2d057d86117d37f5cbed75aabf2f74702c1f251400ca2d59ebdbc5eedb4f07b7670b763cff14bee92dcc387ec348c2684cef48ab4c7740620ca2c6a8b549d818da101b668f5d8cbce24c3fa63e1322c93d4ba03d30d224309c5e44ae306e477ef85fa2165f733511bd1480a50c2be88e5529dc791416937290de82e14e9c800de0d03c4ef17d34bbea7668d9eae9f9cd809a822e488b38fdbee646b65b35009b4395eacfadce4c45676f45f63bde59cc255328580688e6c79ea1e642342086245bcb75b1d1ef1ea75b6e5613eaecc207bfb0b64695e1f27c93d82f4739759f350296da8388b7341e2d953ac9f7ad1a5c85a865eff25fb9efb6474f656c3294fce7f16f7bdcb66c8fc165f541e079714c606debe0a03d930b21ab810ee2ed4ab210cb70ca1189a5cf8ee1fb35a3c1591d04b304566f223a34b68074274a6f456e0767626eefb491d0f70f22942a94349f6caf54d49fdae45db8813622b4b1d9aa10631629d18e26c4419bee14bf080f8458a7d17de317972c9252770b889542e5ed0218df0807641724982b61e5f780c00c1d6bfb3d7c67fda315b642073e0370adb2f930931b70ca056428e4875c630654e161cc0ff28db81f976769c44ae71029e0065955bb847c291dd9fa49455f1c8bc172a94833fabc84ede997c57172e06978b9cafac228f9c40dbc1a1ef7accde852d4ee2768d394de1170dcc106a43143e25f830be162499df996367a8ac7b46a23cbf5c13f3758e474903ef2edd5743ea2c1f18b7f3cbe9cef39b9e6bbba79de6ac52587cf394a73744d36669eb3c47a15d93739b109e08b242bd56e6b02f57f6d7592e1f966d282e1129e411a44734e8e875af8a1565a94c466ed78e10d1e566593aaa5c8b4c8470b362d51e3a4429cdeee7015cf76c70b3c0abd8343b4acc191d811dcd4d2275a11701b9e59185dd0410a06936d3b27deb875ba8f40330a5ce6a1294d424c79b8757ec60c4a067f977dd27749ef57de210ada4afa968202c83931ba39a08e31962b0eda690f816ed2a54cc6f82cd87f530c276ecb0cb3a9be511f21947b7c74babc97172cbddb4f3bffdbb3dd990704b79a4df9dffdc82e166406250c4f184cc0c848c5f159c78c1b1d72ea36982e35d60fc105481337524196cf1e0b54197e360faf1a1ba2ffdfa497ea605147171e8a1a13391a5cd4a40694fd4838e39af58b0165284e707c61a59722dc14aa3fe0c3037eb09e2d2f5407d5b5f43c1a95e0c49b64dd584772eb6a48cf229469c9925f2e49f19d484641e301817f985fe04d8fb6fd19036b02ccc00cbc1d988d0957d6d292102644e927179dd8aba3bfbb0c842ab3819f0be63e3f9f72d08b221b8bc8ec53d928c1a39470f0a20e051c13440a6457f666b3c15a402cd9532e77a8eee5519b518ff244f75303558800c770bd3f8f32bd2ea194eeb4078070730d63983f2a79465e3ac583cfd3228b72786d728c55ced254ca17df14fd641d29000f642740eadfa7155a11dcc798dd9af61a65e71bff3607f8227f87af3a2657ba62528726a2fe5c287ed36be991313eb06bf74a109b6ce475c15f0ce69ea4a11c4142bbcfbbc2e8a43cc7376023c5f551641dcf821e4d2bd24dfb3bfdb69100728c160f1bc928a0820082cf4b7424e3fb1ed963ba0175e864ca69e5a650ba32267a630a8d9509e0bad60388999f2c72a2ba8e152b8806039b1a553fe79a2286f2f17c10f2c6fbd8d5ebc378d31f35f5c5fd77e77a12dc0cbf3938edd1ab28e8566312487a44e6164a263fd31ac287863b6ba56f3dd072691ddb940c12c3741b3a8381a68ee9b32fcca4a48016bd431a1a0497cfd0be610d86efa95cdf578af121c0c33132ae7e51eab7c0d49c6912f4fb7890c5ca43971e32c142638018c9426de20057f2cfe819d3a739c6d0218967c456c6cc472a4dd27f47df0f9941dd3e880e0ca93e6a6b910a22a865313be5c7c873ef1990744084c303ad2847e169c9e7e768bccce33bd65d5cfe25d947e60fbdd8ebc2a157b10a4be34560afe8be9b49f5b8c170ab0c4b431b9b2265ee3a40ccf9f953647969159b52a9b44bf1f016e9b92f031b44eedbbc819a3ba89a770a266e136b84ad343b5d13c7c7045530ca616a4f13250df92fd2afe26d8fccd88c3f78c718d153f45603bae4b00b1e09765478745965edd10472ed804de16b936817d5c966a6c90bb68048e2d53b03e1f0e66c4d061acb7dda98b84088da4bb4339979ec8b3182da9a91fc140e6849d5c5102b4be7482476a7e1c9a2eb18d44384ebd8e96b8680c11c35946663af9d11f0ccbc8b73f1d32fa39c0138bd4aa9fd93408503bd9e95c7959c3f19fb119da9d2fb41e333c5fc6cf7b6895c40fe043a337073d2224eeb23b748695820e7e9f057d773070850f70470069e0dccdb6f870cccfd158e63847f6fcbb0f71c3f48fe99be8ec988df28d681f9aadc9ca901fd9d9df3591d35d1661dc52582a88edfef77f02e365cc9f8e7e3c14f1f4dc4077b0e423a9ee9d5b814257752807a9f5a605ac65a93fe58f9e5c825588353bd40a98a2b2174c0eccb519713dff1ab0b12afadf4de365b369ec845e6d05d64298cc9d4a1642858b0cd17bf81e230f878c73ca5d0777fa2f9ee0d34d45c16ca01477a8386c23c72c567425c913fa8b835b8f70c952a0961077d26196b1cfc442762f68e8519f246c4b855dd8ebb0b0ae9735fe4c2182bafbcb1f8521fb5fcb9096831f69c04719f1910c80ae4e3032521b1037c0349994fa5f567682144e5de0f9122d29874416f8092a033ce47790f0b1dbfeefa4264d5bbd58d840dea7c7eb1b45c74dc49e4c65a174b268728c1ef6e1ffabff2b62a05909b8efd7a7e4830561f0eddb89f0efd2751cf4ac2b1ed5666def130f7d0376dd82d8f227600dd59d08941cd081635bf02480e4666517110e56cd7ea0f9f2e242cb87cdd5b463fa6a5395ec5cea3a8423ac1722a516ac50011ac231865503adad2ab807cd1df6773bbe5d3d0138871d0989094be11e71f8cffae89e8f31d06d77d880a7a45ef8389941b42d37fe8f7214e6225b9170ead5f3d3c5474e446091a24ca5a265877673b58f4403ebf578d237480cf56bf583f387e9e70c5495b7249e83bafeb59e887db46f1eed577f592a00688b9f8db482f14e9d5cccfc5dfa2638b8292e57665e90b2ac4f7941d06c6fa9d2f0e500f88aa2ddb922a209a36d9a3a8a4a7cc5fa3767b7639a3cfd29c4795fd48473da196608285d9e6e8b130cc1525b0e5c6511ea15a7c9991a990fd6a1a60f478491d5c3f60c132add6cd5c18580b65cca2b5dd2853c77b8cb03a7eacb06768faf7045bc4ee35b31dc2584139a636d62da0dceb7738f4c5f6212b94e8707defd5668b028e8c7e8239a5fc83f551878b08c194aacb499ced362a048c4ea89670bb46341c15569b173a5ae74a6dfede38f5c96ba49203458d9aa77f8b7105e5a439ec9a9bd787c5b76c37d08d0a661761d2e87664f9324f72ac3b43e4eb8f7c4b39c38b02b73a9051e644ab32ccd2282b14a7df6754ed757addee06d337cc3b5fd452631bcbb065ee5f397b13b135297532a9f144f88274e288891d275fbdf87656055d4bf7511815d1640bd056b1b8f679fae9d996ffdecba626ac80366b79de8958e92159ca234030949f91548ed3900f819e29fcbcdf0599f4980c537ab17e0eeb8be086c5352b97929f520ddf08ae78b9a8cc9cc0cc584777e333ec429a069f7f6b1f0968672467a233c9442cb0b3e6a089e82b0f48acab2b3eaf63d4e28edd0009a4b1d8ebf44424643dca8fc78adab84cba8c9dfd3586a2803eb365138084e581201109e4ee601c762eccec761eaa5eb9a9befc65acea8ba5abfdbe8181a719ea79f9645911a7aa23602987ed7c14f006c19958fffc4ef4bf1dea9bf166197f21126fd0e90181da3091ef40c80c1816bb06842db1c90ae9997e6bfdd3b545a61e6a612f02552001fe97176852bff6e36729f803dc94a6d5b085e2e7e00f8da9fe62a37f10a51cf9b95ec2e891e07991fe2cc49012f1ab6d9c09f7e24ac69ec8c0bfb6952488c2e8e86fbc82031df5ba18f1954e57bbdbc847cf90b9359da74cff1afd71e5a79aec6483f3b254612d9b6c34e1606b2c59ee825d1aeac8cf047dbf067dd8ed31086119f8dbb661e468766b194a4b8224bae7922a1d8fb42e207c65847d85f67ddd3fe2d7e14a16dc436e28b7612eb6f0bb592631cbddae65ad666ef1e57de8a1a0f1c564060cc30785bf5442b99a96424a33e852a503aeb81f7a9846f00a6bee67a86ee7a9d36944ab7052c1dd0ae4019cb67ae21f306c94f8087a3202dfdd6ec639f998145aad3398fc6bc50d4ce0d3e6a8395002616b896c3929eebc187e129aca87cc96426ecec3538e93301736813ed6770316140a4ebf0cd44c2aba077b1408bbebead840d63c837200384c42faf8393c99a1bb8c623f7e3a6c26828748706bb623ca76bb959177a49203f49cd4a18e8bfbd3103cc374979e8aca7bc0d90b0ad166f228275111118a767b69924dcf9418704e544acfc899027c33ae495f3d6a15b1855977a03bedf3cd1e2471ea5529bb2ab21a36876373f560e3f3f7c4b7a52cddb6829b280abb378638aa9350a2969d2fe8d9b06d29c712f2964671786b395f561eeb2d271b8ffd2e0a11ef155e948025a5af9b1ac900ad040c2a4b7f988c326477c8f393c4dedcd41c8d93ae7e00997a15b6691f02efd9841054e52f264043ff56bda79751fc3de14f4b13473dcd1bf4f9e5bf5fc6a304ea5f39d81542ffb97e169ff4db9659638ae153d8c3a27ba8630e3524d07531427425039d069099532971b2b12ae156e8e9f6804faf38bbb9adaf69b54a08fff726d0658dc7d4c2ad268a84a44066724ab2b1d22113debe6cf1142b54ad4909b66cc980a1a9e0fca0dab2a7722440e75b7c24f81cd1e1834e985ceb6fb645cf786d95c32f910e6b59d5f63d22c98ede279298feadda17336202b278b896da28d1cc3890f0ed4b64a210012fd39fc82d26a904ca31e8587fbda9066f0e216e964999929e7e3cc1b7b92b08b97df99276b4674159b964a0b7aa1c10b360c5f676722fee7b51925e24d2283412bf8af2164d917ed1bc9a65e1c9894c8dcaa6fceeede05bd497997f885f83711b88a8ccbcb42fe5d17605be69442947fa3b2052d39648b422f05325b356e6ca5008008a97066088763d6d463e986033fac977fa0d6ac3ad09083b2624a8528d6b619ac08339f9936fe120325f9fa9d1adf4fc1c245d3fb9824588ca4de2ce986d35ea6b04c6e035439805f87ede880953b6a756a36da24c1cd336086d7b84ecd334264e35d4f2d32780948c4f060d877aa737b4e799028632b41af356315962f5fad60e7f23828f828c49bb21c62a00ae164dd4707bfdf858369f787175245d81a470b5dc0200029787a4a896114c588f01d92d47f35cb06e10d14df6cbb90db6373b4f1d461b10e0aba3e499b8330b2563799764cb0d5ebea9a23cdbcb314a43db7fa3cedace93adef5e10391ca7d288724a68bd80a057e4f1505b3b1c85ee008c9a07a2ee0859bf790dc518b999016089d4bc51ef6ff41057c58bf0f573e36a4911cc687399c4cdea746e0d6d8ceb95457dffd19c6d3329c10ae20a63e93b542788747d2a9a6501f621385de751d3a92115fe2831c5209955e251353ab6793e3f9970327a42cf0704e8fdb5f2e36cb1ce95b6d9116d31c63a46f332a33c72c516bc2188ea923602d254061a5b805dc4aa18c091cc6e59d780de77ba423fd49349753f83552db3b07cb9999670bfdbc4e35ff3632cc01cbd48937fad3e78c47d3aae8f0a51673df9ff28ee0626d57db565b49cea96d3b609247df92d441dc3288f381ce7a71e843d77ea0d6e40d4f83fbd8e4befcb11be2cd8a5a71cbf19fe840be9792d6b31f90a59f00595c57d9a53ffdc18ed0d3bee783b32509f608db04869346623ba8cc1fe68ae477936a12daca679e4bfa65b643b74ec2f09e35c91489b7c499f7d30fd6f947d974c1813ae846adc678d349095f4c35fa24ba41d6859dda6ee0c40872f3b4b8dde8608d53a5148e1cfd5b36f15b352815a5021cb162d73dfbd6d2245380a0ec4747ac3aaf78a8bc6fae10245a2af6f7067a12e9889c5b3e98521952785d715a9ad5ea8abf1197bb188d0b1c09b8a4ea4989b83ffa70c29156712f4890744b0991769c054748b6929d5dae9f37d39d4663c5787bc7b7053f2a087345ae095126aea8940a19875d33a229d1f90749ccd9a77856441b89a0cbb23ff45f678f51e13488a06b628cfd2bdb773fff397f267cc2ee3f648722d2fbbcb66615b7bc688f33961663e7b4b136663a849a086643e795f06f9265a0918e765ed24c9ed0812fa6dc4b2a188ffd413db59424bc479e76e3acaddd77bc86d46fff7c10925d993d580d5abc8263fb6d3caa2dc21a2119913d916e55a53711e5d8f07e0c0062560697a6efb82dd7129f10dee1f8955ef538253ccd9a77214414f57d62c90cf216a832bc9f0165f36b76066584787530d051a2fee256b8720f482c7ab80774018e2de97eae57e3b51c6ba886ec5580e102aba27d85c56845598be7b287307c94955e23085bc56f28aa6678a902d6fa5001316fcfd5dfe2ec2f7f59539cd57d3ebc4fca7e7f8fe6f43fd206763d1fa49e0c9727dfab18e5b1d926f6dc54648215a454a8c5e301ab7116423e16e3bd8a8313cf0f21948d9173f6381f49233333a96bd070c6894998dbd1919cb55cd0ab8db662b97a13bcbab2734d1ce4d27e94f3b3434b1fc0168f7c142a36d39181b510f71456e78fbb24e3f09dfedae569963f73af510a442fd30a0ef0ca2c696e076a1522005498de807a84ca24a7d6d1cfe5fae0256725c32bf2d502f0a91b16f6e74330a97264a8e3cc45e37c92a27c468ee68e96bee83be6453e8e959c2b02df060268c4b5fec9d06b8a3bc93c2b443d79f8137d286d538acb99b1b31017126ee5863f3141726d1b15d64c22565a73ed5e8fbb16be9dc3c39d109703afad81f718e562e3489d4e0bcf6bb08f3e51299a7e8327c73824af4a2f2d1106bcec89a2e9a5d8a7ae3fbe00932d3f97b98aa7d2a85168d686a9c3b0ceb5221361abfef8272f583788d3875ab83a53ee1faab05311f2e874a6eb8ce3df0d9921c64df0f6dec1ee823b8946749d9f1b105d87850ff30499564dd3c411fb7e5f7fdca66245fdcf51d752d9479171b97f5ba3c78da55e4eb47be3c15667f38217bfd8e6b00ef62d98357f1a0e8df04d78a2c7a9f757fff630f33d9d29d6c5b4429b0c23f679cc50f70656d30d110907c524911526dc9b578392377d306e8322531cad8251c97895b9e2d20619d84312371605ca7a261e5d483813944e90ee491fccb01c9d37f306059463c33815527d0333ceef487800b95e2f70a1c7ff94bbbb6c8f0dffb0cac5fff484e0320478e86f5c58d35cad50588a4eb7852f2447ecc83cef78d0202c23482a629543e4df1548aab5afaca85a7057ccd6e60ab9d5264dfd867049eb2d2a721bed3c7eaee409d1a82234fd580f143b3b0b2ca8019d78c607e183820a0f96bd0ab3a7bcaf36020e2b0fb8b1919123c778ca6f980299e27c21a067320a15f77d8275fa6d60b5bf39160fa31bdce9e51de1649c7745b7b5d8a49ac42b1146ebcacce3498795782ed3fc543cc1b8f4e054bd1614baca6dc7c92147945f8e58d9662519c08020cd21cc1cd61357596718f26f82a6c77c1d2e73fbca32c41e83d71c8f4df52c65e7ec050f3fee68b4fe12b38e10af31607e66b178a0ae7a7ce0766d83fbdf2fd11fbee923d66b68c0bbd49671c8a4610f00c7b479f05352b8f12b921292486bcf9f87e27846a19d55795c4a08602307873ab197f4cb2c734b774fcd52ea8377dfb3087923dc77ac20017316bc1d3326324b9d9cda11845663c9a2674373dfed24eb438df6664eaf6193669ce288ad13c0ecd8674fcf324f60b8256ff0aead1b766276665fca9191aa2dd30face4d0fc4369d2f9533b0efc9d713b9d7a00e8fc08ac63d39606a06e717e5e6e07c665d1f5961560a506a84511cbf7b8d28aa789a1f610b951a3909f34f67d5b9f982082bca050c0ce038aade0bf233543ef8c417c975bca3f59080d3d8fd7042ba0ae3c5fe03b96567dda68075a79eacea54c3e07ddac4731a0f05a7e26ad393bdaa269d9a653016e6f154ade4ce19b288d276b39c660556672a3ccfe9c247a00d4832ff895e8cedc9e22121e56271a7eb577775c8c32d489f8224c862d5b18555376eaf6cad202a2ada6abbcc3c2a3cca614c59bb133d1330c28f7b6101c138fbfcd68e0a0615110d7a8689fa26a3d6e48a4729373a122bc334dbee85af21ca64a2a1714f569c7b20fc172b0daec1399fe21cbf3090a5834d5c9d104d5e1d21f0ce98a81388c51b8fec22efbbbfe71608d96becc2dc2a051bbcd0578b8b1cfb1e4a33a8485680405baa9f7b2703430730ba2e9da1d2c55355dc93d176d507283f34a0ded86348657b91774fb9181fe2e48e4deb39f39a79b354aec09ee995a0e542d39873575b24c4b0961e22135896bf88c5289b0f582f6ea24af49cfe65e6468bb4908473a6ce6edfcbfcf695fd123bb90fb1bfd83ce0c4b7d83ec751cac13b3dc6b2dedc224e3099","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ea677c0f97c49a90f023946a85e2bdd9"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
