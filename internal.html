<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c90b78f5ac3657b2ce25a90f259ef1e32e24ea14e366f9f36c9d192298cccada356da31b211b949280f35997f351d151c4ac27ba6dbdeefce1391928ed26730f46eba376aad39afd3ae1f2c1b26d1b5641dd32c67c1751aa8d4a55dd972a43bd98056dee7d0828f94c701ae3602bea63d035860c08f6a970b785c68f9ff549eae312f55a46c6ec7409ed150a2f6c6e9809cf9f228a9bcda1f1287ca27d7dcafe25fa5fc20157efde35077995674c65b5dea25e3f399a931d2ef18ec3c61b04c1c3a13e66a59d1b9775a1fc36874a23cc28ad6b6e48f815c46933bb43c034e4ba5a8434ff6d37107ffdc46fd436d5cf95a7680881671e95f08f687b992dc5b8640bfb6d8949bece64a4599d61722b73e218ba9633630949c6c8860936d0db97b8ad8a32f4cf238fc4b1c3fe900e3b8dc4037bb9aaf40a582716100dc0852022cef34d450bf0a6abede34d036589480d5beb76b4b56c759cff25940cafbc64920d7ccbfa126acaf994cd3834a0f7fdd5492b2ffd05fb73945e682611e7c1dbe11aa2ea404fadb6e796db22faf65bf09ff24d780f93986699e601b57e3870a2f16af3863f12b98e8e59cdc87d5ac855af858582aafc2676f9c31ffb6e77d37f4d8a202ee8537d5e2fc674657f7703a60741c515e86199e0a34da7d8ba678d3a36005f39465733f5886b04e46e5893b0fe2bf2821558b6d9c23ef726899e01153f36e7089edc777b531ee97832292e37e080a9d3670681bb590681fdc08f5675b52c428455e6f648f20bb164325abc7b1bd3845273086eed08aa0c427570601b02a84e6ed5d5300a74491f2ec4ad6fe16d088873999f7cfffb7a3b615e5fbd1160af787237754ec2c171adeed5a9ba1402ca7fa83307720ee5659455b0b8da7f3e26c4066ca902eee272122906074872a9b4ca00b5ffd9a261d3ec98d14004f524504fa057313f6815e70d61fdab2ed6cf68c35e3c1d94be3eef0f4ed6660b1c1f1c5943a61b38a14733b0e9a837f41b23adc7f73f16746361123e7b3a778cdcf1900ce0f528a4f07bcbbfc52920d36f1e3c76d0242340773390ef481cf787edacf92a1ea10b69539159e68927d5aa2a600ef6fa3ad035964a4631222b8cd136d47d3a3f7f030b6d9457acd6028096d3624fe7412c3c1fc4de27ff8ee6bcf4c1d89120c67abe6c94f5aa8ebe903db83a8f7c67de9464135c471bb9ea7b2e2492514306dfdf1e2032b656b36c24d0b6faa84e359eb4225dac65aa8bbde76f5aff96e67227bffb8e7486056ee54149e1fa10af2d095f8f785f1867a6ef770f0cf6e17fcb8687748b8dbf4135f99814f1cfbf841d328cd88b2d3a48ebaa74387067ea7b24a35eb4b2cdb23b7c19bfb4afbf1713b9a3eeeddfab62e3ab434c09344c2bffd5ef838210196c4d25cc49f14910ee5c4a60285626fc6eff092ce7b2eefa31ad7ac94ef9dfa75b18570c445bfabb370a5b9bb2d68d510084f25c5294d7a44efe308b94c58b2166674c1fc18dcbc47f95151a4c2f39a27cdf7545a77c4dd016394bd77f066ec4eda5017c0cbd89d87ca93393152f8eb1c503d276bc81cebf556b32ffd4f81b0e654198b57bca09687447c95e01eb72dcc5e17c6cdb76a152021b5f3bbd0260053838adc8f1f3aa980d649434267b3dac82da711ccbaf207a79654c89ea3e0d6c0b40c6b1b4e7125e61d25ab6cd9ee6bab6bde07fc260243ccb6c834347706e5140f4e368a50889ec5abd639fc47ed3cf592687f6c65b9c5cac6560f294602333bc4d03851f42355f25fcd3e77f972185978421f5905147e29e92ec8f6d7838b3c21ce76c6a70db3d44a927f822eb13474d44a554ce4410b074ca47e9e607f54155dc743d9f607797aa7cd25732142fe2dbaf92bdd48b25b8814d557b0d9bf384b505641d64d4016fd538a92824b0af8c9778aed1be1a727ec5ba02879e225181059a8ee799c899a62d4241fe92b741c15833cee985aa050fba7538feaf665f4b5d261b2d024e7f662dc928fc6f5f68126fb29be6c94a40749da296d488a346fa807e7e491e4944065fd6799e666f874b645056a61cc11d53d51c323ccb34dd05f96b2efbe3cf444bfb82dff761f93165d435607d65f8aa156fd89357a4d2937ed554b29a92144beb1357e17dffe6268f8fb408784053480619ac9db0d4c4041e91fbc528e15201c83ce755f06eed693d7050e7ff9ca285de9de28f6aa5f2c3d497de6d725a810d12cd07e4b9a790e41e4b55d89f4b49b7b1c006284a37b31393df35f407c7e1fe903b2726e0e745bebb5cc4fd7c4e495fb975eb3cf775f92c9ecb6adc1f0167530ddabd93df192b3656e233ad029d5504e93f6ac865c8b29fb5874ad550f4f69077ea1041f5a7b6078774eecc026789601b01215f81e5cfbb8917923100d1b72c6fa0503fdb8064531732e3627b99426de93bfd06d7723eb85258ffa99990254d54edbb19c69a03c4cc099c96a6067604cc19902be2a79040d08a5db51a58cf2b37dcf183988ab914136e5d086dc0ff13cc4c5d269e44075e84e3e61af13b29a2fb9ccd4cd829d28febbc7e7b744a43345079f6ac6995aa755a25632e1b618e6959cbf56eaf8a1eb7a0ec54ee254e399f8d781b7f8915c57380f55231fefd158fa3a2c4a1060b63001745bd6f9db2fe42005953ff407b938959bc3d334adeea8ad4984da1d95972389ef3a5f40508e3d132bab5924507e6439b0837a2088bb0f569bcc78ac1a182cbea0b2bb6f8efdf7b13083e168cec195567458e317cc82d0ef6cf420a9556617e00ea77cebf91040676b3fff02ac45b94a0bdb87f89dcb62a44fd37b07c5a15e56e36b2e8c7253c1bb11d3d9a2abc2b2510af494bfeea7139b2b2cfb78b64bc1544f322a68ab31f7b80a26e3cd094c55a5082aa70ea2bf0bdc1d90dd0ff07d786fdfdcd09588f27ee08ed9c8f0c306d6f1ff1a9c2c57f634f6f93f46b3b603bb6f9252fef7fd16e50c9c5759d2f72988add635fab4283e152133a8a2014dc34cd936a6155e633c22978de50794a1ec25c3082c28fa7453c2241fe2230b529828cdd6fb7bdf853a259c6e5e4538882d9875ed6fd130b071ba66eb3d9d376968edb7f5f350f5a6e28ef29a075ccedcb2883db1d3fef213f0bf92b3ee1bb13c183e834745d3b75dc00e56bf9905f6456f60171cb22d1bd419b9449795079c7427bb2f06021819a5ab27159f31db007e4c5fcea161add71cbc69e43e890e63d4ea55b0ad2862c4a10b03cfc454938ae99b453313ea02cfa0d5177b85ed220a6d9c3205174f7612fa6d5e9f15db17ffbc4cc8509541f94d5907cde3724fe7dccde814f48f9f2a578b00d4b9339eaec471e3b02bcf149960825d514005af94ff508d72a4d3ae0e3d536ad3a315252a2f1dd4e03df421e81fadf794e115eac4ce60332599b1557569aee8886fd8dbb27824feed050b13f3382f041165cbeaf2dc47fe9d7ac7595620fc9f517cb208435bc5de93beaf12e076568e90d826409226ba4b461b62657c05826f8f30025b4c8891fa0896ba228a0061dfc76e472a0e813f45bb284c4e7e928615748e6276cd7422482fd5a2216e353fc75760613262174d3da24f018832ac746564469c4fd49c433370547ebf7535a8d09e84ec8e3dc51d1d45192c453e1b74df66a6a8e09aef626a81bdc2e0f7fe444bad1faebcd510025a25349daa5bf47cfc57aa82b33364479ba06de06cc6ebbd6549bd87dc03355dd71958f88f3ab8b5bc9eb9e69061d5f4abdcf70949b0966b9b4fc82fedb32263f50af34b389b88b7e4b250aa6609b594a133bc73f77a7ad747c17784a7b1024c9cd8a818f39ed5295d1720fdb9a87e2dabe7caed9d7614197cdaf701b082eb2a20ea02f168d7ed7b89e01af0106bce3b845af190285821108362c48a85d898bf105903367e393a9b11841de073044412b4b82d488af6272905983daa1677e8ecb58afed9b37e657e5ba292f1462961e019c2ec0f5e7514d525bad76d826c5420701c48f0678538d0aeb03a52fa800ff677e439daabd934090e1207283d4a5d611e14c27bc187ca451caa50a62b1bdf255e696695c9cc0c3fa470c045e095fed6beb132e69f4118a87b3cf1177258c09cbd75f312d090f970a13b40f48ec621cfe438e8e24420969c4d37ecc7b2c87d48501c66348a59b93c5306915693ff854a02ec9989f60bd0a5f4012ba6ad83f230d97edac0cda7b84824969f7f20cc186274a676f8461919ee583b2146f976e09f3c56d6e92953642a740140debe7ae1606c9d4f1d9354ae1e251ae8de4201c29be3ec6503a31ccbfe92746929801d0ec9ddb0b15d192604aea00b0f8f6c8921fe29d937be232c704404becaf4dd311773dcb4eb4c378500a27d8feef8188c98a5645fbe0e52c8c65971380210e2ebd9565bc07ae7f000e89fc6a6c2c701bfae7766e630715e1a9bc1ef47912f696b368f95851891d7e66549e771f0af2dfe24aa8632e6211d4908f171a19aff2e9525b9fc76779013b6934f31acce47ce9771cae7ba4d911c3f2d25b2bc8fae813455187eb09cca181338ff0a0c33c39bb6a519cb824376f77e80847e73d60d28e0c8bf320ce60c5c8fe5419907085565efa787830501c191ef3cff5ff12e321dfd08b8f49463a3d34dcd1c68d5484902cfdb7e9ef144f677de584d53ea0261c70d0f7bb332ed8cb63cd8a66a6720e76522c482d1aec84058efade8065f2a76200ff5553e0ce4ccbe18b9f81bcad3ab7c0fe78917072f71dd19846d6fbc6310d2cf191925456b1b8c069ea9faa476434f88678fee4849dfe86fda367e17c199ae78146225fe53316fb559200a3c48fc4f0fd088077164e2892d96c122268b356166559eb5e72778879f5244cb81ea867fc8f93103165ab227137791ba8a0821b7fce844cb5ff8a99ad28c770e81ba6ee3945deb3d49c743c3e1dcda85f7f331e9fdd37ccc3a3f4ac0087bc19659801ba8aa514c6e36d10175f1245dca3d9d951a204dd65050682128ca3c23154e027cd3f357c9406a2e6e9b0fb06859d4e5f2a715571368cd270f88096705422d867dd024abb4128c4a5b589a2ec564dda677284151e265573cfb64281cc43311fe8531e94c48e4e939a4cd7cb08cce4c1ba628e96efac5233bdb2daa904e523b5e2b0934ebdc89b45bd7f159a65b5a965585b1b5763c8ddbaf7c83bbd7b25a50dcbde70567a943ec24adf5e33d494b95806d275e0589a33435bf760f43b2a453c3d4ece6e4082a2e86eb9bc9e65dc182d9789bc94aa2d69efbdec3be9760e4886f2d20d51af3da9aa1d05ef9979cbfc3133c9cb1dc27f3675a41ecd0d9a5b6a224dc6f7725a9e300b7a0cef16a274d82802f717df0899ae11947615bade73e6b6f2e8312a8a03aa4a32523cab2420e3b5de0f3fa7ba5d6f3328ea72f1967b688b4d3feac26c372df2797d3bb9fe4c1c69fb626e34eefdb7682241455d3baedc63cb1f12c49d50a7e6ee7f44a8c05a029f71410b4989914053fe42103c0c614d8db81a0ad2f2694244f27f7175fe76aad8584f54aea3e86468ce8f1370f41f13840fdcca711e6a1664223d678ee8e5c84c776fc96375aaab9f7b0ea67e5937e5fa748642bfd24ec5bb73d8e5ee98905bc651cb60aad71cbab2e03eab292b320a51e1a5715e367984163944b54e25b43c9efc61af22143817cc3ddd6a4ad00850aaa7d953479826a068aa887954a540c20d0cc8cd88131d19df1b870a3dd673f85bdc56eb59c1161b3bed0f3c0ee0fac52708f962bebc150baa21dbddd8274cdc985b2424a5b11922d265abb6028f11942822d886b8b1ab05afcbdbe51502fb8965dd9be7fa4956b2fd7f34d84ff54a50ea86037dd2be2b54a3e7e419e3c18c9aa24b53506d74d767bc486a5ff370996786deda60ac93e7c4e1c8e29e48ee5ce22128771fd72eed9d2588e7b97394d2e5ad066bb930a30b5c17666b479ea2032c7b0c6263fbb1f2fbb66d60b8c29901b3cd118da46bebbd7993ee11d1ce51f4ecd4610b07c1105c1056fb4b407180538d50920433951709c06a45da99388b7549cc1163db90bc5d2811eb1ed6467fbb7621a9f0386cbbf2bd36d67195e85a7f7983bd82042c1c5859226766c80d0319a74d8db0f4233ed950e39ab3b0afa71728063912c4e839624918a6fc701768fb1e6ce341fae42fd1def1d61133659af30999b2cf36e7c1c679ed4ec50555853714c197f582039700abc2b7ddd7739c01e18fb4e497116ada427dbac468f3a69493c9f764193f22004e6eb9c69c95e65282abd1a3d820286bda6c9f1d7b91130c7af11b4fc24753dcc50587b57e69573b2225dfaf5f8adbb02b867716b48e38fb9e5f08512133866fdc20112b069b35f9378cba325c24dd6dd5674d7f40a12b1029dd89bcac6060029983eab5e8774d395762127c3cf896b163cbcda8bfe4297abc19c3c1cdcb57bd70f347aebd5bc0f17316dab9da85b2d7eb3192097877bd37a9b274506ab0f1241a7badbca10cb6994083f336e8ecea433ffbad81924b9be97ad834e544ce1f598fdcf11d8bd38726c92991705abdece9129a5e83223b3fca6e8268a6f1d9d31e3a551de31dff12b28265851c6917c88de4adce49b0063e4fe3f32a5a3065a9a6d22f9b326e28ea5693a73402f5dbb5dc9c54eea477e29b810a45f9a56b8a39e4e0983d36573ed1b55260c2f066136f113b709ee9313929e6f8a40c6e46dd30f9be1f6803f72eb76b157983f7d566b8cc39e0a7c5c34cd98e9731da30d0742a63d895471cab55646aa8645cba12681578fe141485e01d5c94cc55fd17f640e653c3d02d96de6af15d8ef98ce27c820e4da9027f9edf5245f7820529cd2c14f919df1cc44e13fc320df55ef151243fd3d2c891047878b91dd4adc98299b61f20881880986aa84330525ca214073fd16059e472a5a14abcfef002e0892156c7e4c96c1580d145cb264c1c157824280ce4fa3f83b6d05301a8e77589c3b12392870b20ddd9bdad9bc7011158c49547097ee870a7249537875c4902c99b1ea9a8cfdb7ad65dfaf0aa23153dbd8659383574f90795e7a3829b69b5cbde25222264bf7de8e6eab51eb1d1bb09173127baa927dc99b509b6cc9b7c8e85c4fd4ea6f0ba2c0093d9ffae7bebd33c713ae414d9afa82d7ed1a8b4e55b5c5f781f6baa047fbcf6e31ba2da51ce49cdc72fc78dc3ab8f16f642ceca40e945042e1a7d8cbacdedc14c7d1c326f20afc94b616f0c2b0c6368f0f7b60617674157fc2f0c310ff0037a94059597e127cd0e0fb4aae23235777632007bbec0ed9383c58a26bc20920e5e5a4ed99f826c5d70ec33868b7b8a7873a0c51f11babacd44af7ad88fbfb2708694d4b1bccde5595f108562014ec6ae23e044b5799dcb410e96fa07223e3139ec34083a5a916ef2bb86cf68fdb4421cd378de02a5f85fa82965dec857b0c0f4cca6bc5ff3ecc61ead4cf86557192e1955abbcc53c69827c8a8bd3210c2cdf14c911f68fb5a48d54de528051b0f9ac2fe6d3a84665e96e8dbc3846e07b7b93ce550f71c7b7d90585fe4860b93710b52977e2e0e4dec7895cf886e17e6f550a58f8577f255dbe899bb2084e64b50bf985a0fb08cc938192fc6faab32533ec050e2b192f93ea828736d62d80626e210fe042ef1f232889da43776a1c378f2cff04687741b9350d0933a0a18a20d3eb0d2a80689e764b6335b3fcd3277848c60129f7e27c48431f603a276260aa251ce8abff1d80380f95a156b1cc4ed698f6ecccc0bfdb8fced9c89536572c41df185d2df67b606804f0d28dae8de13718b824b5417de56d73065021fbd4344e41126b0c7d618979cfa73928ba545ea0b31bb7c15b6cb5ee8bc80308889cd448803134356550041c5d722e093ca4d54f7ed14500e9083614daa7079b96bdb1122aa94819d039d073a8d36be58479d8435df453752e09ceb68c7c08ddc79fe2a04026ac59ccc295e3fe873881e1e449a796ff8563d59b3d31604a3d2644f5da9e8f4e8097bdd2b203df16a68f0fca35fd6e85786b983cf0c8e28aef5fa9692f2aa4cb42091f2e0f48ee0be16c6f43381a4641f4a109da556b546cfbadfba7624aabfe70a05d067beae6bc86463945aea07ef02a7416b42df3a96d5c6ce81098447d66f6fe67d82a124d78ff2ffc2eb75a41e29bdb5e4f9ab1ae6c7b7c637fd7cf0dc1d8368db48c7593ebb96241fe391de1972826dee95268f38e3cf90e9e545e6d2f1283aa2834fe1e9e2597c4f79c8eb086a67bdedb08afb4b6d94001a1858f107dd2d0ebffbf9972ddaa024cbe8e6277edf0d4d82dfadd15fa0076be2175b15c6b0d62e54a6696c89ab3e98bfa84007e4f521ce37d564a942d5ec44eb94994918d2d0eca8688e331a43843285b4a24c8d74a4d180569cea841e6f3c96c41850cc4dcc143278b0fbbe208c86ee8455cd1a5a6b7f26d843b015746a840c808908fbd8c0cb3d77d016055ff3f30896d006e7a663601ac93e8c55ea28ad82f1b9fd7e81a55e092c3628787c31653196c5a9046f1898803d68c348721d7dee7c8e2ed79db702d35b8151e091c3d70b2b866ed998abdf0e5dfceeec3368748df3d4a829d50ebb3fb62961cd050b891e5f24edfac77cbc01351292e94cb7bbbf1b4d0e021df5281350072f132758cff892752644841a59e73e1f7c4ede2b32d047ba7220153c6cca2c3354c776115d581cd19321e14653c2cdb21b50e71865afc9c2f9bdd10800ba12e376d8a0c58328e03848f37176ac7d0ff10e8c366ec93c6b7fa6f49b58edb618867d504ddf7c45385224765afb430753df9ae1822ac50950116da65b10f8f8501da9be4afea934e61a0a682aa0e7fa8ad43cf2e1fccfa061c621000c084a04b2b0fcdf0fb61e2c6cd3167d999eb4c590326edd3b0df1da99d0f9150c3eed09b074a0184926ac6b5b494188f8ee130284ea937f8f44d581a0cd85e8542dd28a9738d92d59c295518f5b8d3835676e8ba2c5168b4e3394bb345036dfac180ce30419c53f885a453b71331ecb58682e378cb48044d3c9b852d5623f284c4aa9103f34776686d1366938ebaca6fb11108e4399027792a207fa628e787a6c03817bd8d9a2f8ccd76b35952f56aebecf15a3b86a2fe143febb4a720d2fe50ead3c71ca816c5c0df0bf884c241c337c6022fa570595c553baaad94336304c50d48c354a4bf87a77022a1e04f656dcc563e2367e423ab96c619769a9a58150a3268eb8168443426a3485577fc4d5e8aeb3b576b1974e1d13eda59c2e905dd19dc5aa946ff391e6dbdfb0caf6251995ad3a66fca2848113f424714b75120ca629c9f7db3f6fe5a0eefdedbe05bacc72066c6547c3cd836a2af9e713b7204f9df829e1e102f66134c8a99fb45566b7e70b9854ea8a9adb6cb2c8be6bff030096b58289d3dee229ecca2151ff8f8923a958255167b34aa034990c444cc96e6f29ddfbcfe00e2f5be18eed043dead60262f773316e64dc20557a7e703e72871ba0e3b396dd8f2ba6c725a10e4d049ee2133e5c3065ee7b664dc901898b7c8cfc37e51fd930f52b7385781c98253602e31dbc5c5a2755b49fa0b95ab6de7c8c395111c435d62cdcae2b6b9d9f5a2eb81bd5712b4db1b45b3e538914120dabeb64738bdf8e2e37bb0c340055b1f8d356194804ccd7c3bc3a69d6075a0fb1b49bde80341bb00a9c6f0725b9293df8fdc5395999e0094c090f43e82e64810936a64aa7493bf6594565096da1b39369683bc8734c461e618ae96d6107c8cc2c73a92abb5413c37f157529447c2054905c3266cdb85877198e255bffafa8299f87bf260d5f21ecafe570dc63c6600ab736f7bb601b70cca5a99c70f9d591e4332e7c8ff54a1f8c60a42eded52aa75efb8287d7fd6cbc3e45a9a2b6f1b5c2901034977f297602cc1d78a03be785209590cf078020f695155452633c178fc0f29170be305cb071c411963de5b50c353db4bb21a8b248ffddb327f84b14222b28aad0acb814aefd9de3e23664f55c0f93528cb74eb4b4ca526e2f9ee0fe87003edb9e240bd8e45eea922e9af0d0d19da3adf367d388b7159197dcff5458e4088478a0c4c1afbef9c4724ecb21b264581054d5abc2058a9e63ead967e46d36b5f02ee5b1197a0cf579edba0cc0521fb88f78778ece82879ad2e7a0cf756134fc7e15f8c915bd8c5a656a7c26007771f171cff246a2ec2540a88e862017897d0a2666fba4df8085a6b2111670cac5e5cfc88adedb911120cef082d66df20a56dcf9d684f46b6f4866652ff02101847ecdb252c92472ec6d4c96c735da733c98624553cfa904c58b85077779d6ece00007c88cf72367b0a98f6cfb75a21bda2e467afe35f6cc4664721942b4a76b52c384f31bd03f906b67ecf219a1df8ce3c33024d41d9e0459297cb57d3e037b8c327338808adf188d2808ca21b1f5568b60d70df1c4912e2622de01bc411ba091cbb57c0b411ca7d48210af1b3b60f7fa280c06fb4a1840d56400678557032750e296bd88b2908efa54b4a5075886b4c7e178ec25d9b0bbf5eb70b32f05720ca7f732b8f16ca100c63e2b79f42c2f0553af7978f3e1761c320e745c5215f3c687cf5676b62b64605b652834d340377c017e1668bb8ad4a6b87ca3d2e933906f55394e3dbdf8ad464b05be2c8d4b6808d8be7d9b851374a3030202d76c43dbe22718ac0d92eeb97b9d3e44f7452ebf12505e1d25e8c9d3e5a5ecded6031182f9a0e8c99125b544dcdbf5252b1ea745952bc3c31178e70b6dd346cd616a9294b695024dd57d07a58605a2a45f5296c142cdbae2789a0b65307d08725fbf9d85bdf825aa34f9f7776d128551fb1278e39a87fc50d10cdab7d075110d99fb68b666f564e5cb12178298a5605b5facc2699442ebe9d28a7248074c2fd6af34193f4ac8dff044ce63d7e59ecefcacaf32a76927581ca4821efc9c2c65c63cc4ade958c42a92e48527a63847804071d22b8b9feaec3d276ed4b28551b9af93657b2238e86d948a07730a43aea52078d63fdb70f248c2fe45505fda75b6f0b2fb3118940adf7788933bae9334a316a765d3cc20b39c811111d00f06fb178e6b8a4562cfa7331028d8ea2d1565f4b0c22f66b05b642dae3dd37a6392ef975aa5fe4f791b1daeaa60e420ebe836ad723705f0d375edb94f0908a9f77a990504201f7c8470e69fec6f2763825373bf051bdc75a97df990c9939d74d9d0b2285d1ae39aa4e3fd4e502c3b0d36a7a694de8185ec41a1ff8e6c620e3fb5581dd43eccce63280a4ba252c47c4845eaf0b1088b364490189719a838d9cd460ee7e4e54a7daf889f642ddd49f574a4de3e5387b97fd40f5cca4f61ace1cabf7d1b82b5ea1601c248a0d9732200059b102217c8111576785d79d74869491b810025c485b394149bdf58f629d10e0fdcb3e48a89d3c9308a8d37ffce2477b8f6f285871b8c58cd6d82310ee931facce8c490a1df35fab91540c42c31f5e83c15e6fb58c9df4830a164762177cb44e33e7dac929af408fdbcdddaec68681c926e07d2ce99ce1207fbdf19821e9c0df676fcfcf442f158cbf3a466212f100e113e1899d375e6e747df8413a5220f4127616b7984c9204322b5b874de5f68c1a381d5bcf94153a200411ac75cb9e9905211b0f09626df81f4a3067573e65d233823fe9ee97c1174e2a18d7e08384557e9fda57eba2c5d3494ef5f5acabc72aae1ee57e3bffa7552a9a6f5a7cdcee818350799a26429e060a5b9b577a11e95f33eae2e4d81a54292952ec1fca5499c11cd7cd05097d797d9c612a6a06499a229bb2bc7318317c5a8e541e324dcf505c6ecb8deaa165e40b9f25597c3af064dbe9eb501b39689c3605326548298b9f21cb86e95e60fe0edbb6228b6dce45cb19824b3630dcce3367ae20981a4b247dc4c380eacbeeb5eb725e2d36568f094f916fdfb3d635721ce80f1d04d87e0773f76e7260f168dc11b00d3c7b586e135481ba99c4f9203c4afec21c0ace9337ec4767a66c25da9332c70b650efd0ef0dc7f10d2c2038afaea9dedc87f7cf43950ada53f2f2a6cbc742672acdc3b2fbd50b8914b169cc8e3abcb49343ebf30c0cd18550cd9a84cf4f2499daf65db6f4e223583c0acdbb261f71af37d03b3e7f1bb265c3eb4c17e80c38493e7d1bac58799f8abdb96eddfa543858915dbe80a8a7e84a19db13a099062a6a1d04314620dbad2e738f556ddb565f06f853429774e613af82224964353b03c68ac10bf2ba400b82b7fcd4579d5eb37ed992a881522f56512b54bacf6886f8b2d5221c7235f7ee6d2d8f1e98c89867c00dc0717ceb698ed0b51e849a26bb7e86c147f27462bb150093ee6b510f6744546c29eec226fb2c099668d300a66bcfdd1cd891dbe2bba1affabc790dfd80494081f4321db63eec3f4e63348fec6f531ef511594be241917bd45015a5e0837589bf0b8f01b6aee5985ff0d3a2ba814c9c37b2df46126f7823a960197e44ef61bc4f6be9f031e3a9422af7e63b34eefec882d254355bda503ff71d544ca30a9a2c25ff33226effcb2b2f8e2b829cdb0bf3a5b83daf83538c912285c46234bd4fa433588e64fdf93e72aa1b83394dc97a3c5ce750aa9d6e1641e361dc20007edee2e5231a3ffcf879c77785cb1f2af8f6ed69e04efc9e5941a212e71c3c9271a043d4d7a36a591e5347d48a9b5b09e6e3b7334020ccf38c47775ca7a13cd61095e1ea1ac35fd739e4fc9863eb335d1b2fd4a8a7d44d32a5364db85c05fcc88e0534297847bbae0b3df2d16c5d7895afb44bc54d15fc46e84bcc5a29ee167c7dfa85b87026a64bd218c0152f36e787cb1b80dc47f41b2dadb04384016c466c038e327bd7d625423c79ec39086063c913760665471b8e346a26a3cbc9690c923bd94f71f4e490f1e77a400222ad0fec5eece0b921fb6a62de129446cd430222f343e752923ff6542c00c212789b00e05306ece770542769309e996ce39a3b5ca7dcb429dd8c2b8c3322b7199adcba9c1d90451e42b58313c756407e7d504fe1558954805ef6cba9dbb96fb9d06e40b1252db45b00ca1dd9e6a5027c7c0fbeb3bdcf9f4dacd0f405aeee268a827842069c41ac53a95db9c9fb4c02188482062ba778c7605954122dab9cc7f929f805094bc52120c34897ba20428e141e36e6b27f8ca1806e3b0fd94cf4f8d684a4714900f33724b11a5b6d52d1e6e813708f27029dc726cfea89c43025fe23ce40de21a342474f049fadc30ed831584ff01fa4c530c94a0114c664034afe420d359423c44f90ff15ad480fdf033d7f8ca99d9fc64a0aa926b68aa30725b8c05121154089845f873ecc81463c6a8d91bf221a49b9e02339e3a2f026c272edeaf8ad57bb65beea31f484b714d31e5b1931e246431c8cfdab02a7e71168527857dad4eff0f6852f8edf150187d99e61afb32bd35ca3a2cf70733c207d9f9efa8cd64aca8dcc7ba12082cec1aeaea7c5f2eafcebbe69de37283cf521f22c7f628f7d12cbef761f61dcf3fb40ea806313701feb1c78b06ddd1d791c06076b61d1c2c5b2c9511085e9c1f5a7dd075c9e14a06fdbbda850548d8c39901473f90f8f210e673d35a83c05528258c37ff709ed90a3993aa82e3aad3e32a32336dc7abba25a37a7191b55b74033a41016d4b4b08881c3a9ab70a34aa6ff0eaaa2fe1bc759dc4a6f956f5d2ee7f74d586e0375fbf98f6439cb4ee0ad45e21609feb8db0bd7c431655933324e586fe5b79e37ddae08bcd954f0f3d5e2d85751082965bd61c3bd0aba4ffaf70397e7fef522b3c6e27093bf49aac49e7b5ad38df332723e38dcdaad4dba218abc1d4e465a1d9e334330765ea61b642b9a49b1a31b50c6ed229ded5846fa9eaf342b8f9d6d104ca26be60a16e3c89b1d9ce31570e886374288b08b7bb52389decb1d442f232bd3d35745816e8edecf0c274adc52156168d004af0724706d22f65f0047d7fb676a5d1347a2342a4bda68b55d80a3c69aeeae5560bcb6279e8fdd75b8dbaf5aa086d879fcebed039fe4c72f9b9d9b0c1e1568fde27ac12946c7df561ae640a6747d1d44d49aca7bf31764341d236b27a55f8f475eef7f5b7760866520b99fc37002a780010cbdd4fecaca26e3b798efd9d517d02669057979c7576b4ae58a3bea1c52de405154279039b33bd9662ace6f1119144019b356795dd6dd3560ee0ce242261e26fa5999e9f40f0521f7b1a5e212a46bc3a93ed570b534abce092106957994225a75f092579929535b8737004f79a0caa5e40a89f9e7304414d9f02629d1cc4c692c8d12ddce0cf7af22f3c6c0fbb55796d629a052f07d8d957e5cc769c2d71f0b6b2aded2c4ca717dcd79a09416a11629a9518990611ca5f64b505f38108da47618a701373d721f3a4eaafd5cd54980195e5bfaf3dc85df928ee1c1b8ae1b7b2882d05c71a83481dbf8d19a6c8dbe46786975e6841edd505ee287ef8d4f4dfe061b9c6a55a73e11ace81968124b78d4fb022b03f7ba7bd6a8c3b9e4622a41cea83dbfa755b870fffacd193d2286b796b3377c62cd23d1fca0b9946bf20a5d506bb253983e2870bc969a0986d949c9268376bbcd6a5e5784f41a40234f80c860ec14749696049949d0b8d2214417c0fa2bcdcdbf742dab7029ad9dc4011737a79d704180e942765f40b376c7fdac403fd1d8775ff1ba5369e18d56a21f1ab2a86dac19864932b7c58962745aa94ea052b6da4b524c81baa099f770c40b0c50eb38080dd97a0fcf3746516a4700304c766c9795461cffb37ca22fbac333821a87a480c60832428f28866eca3a28144300ad9725ba4d56e6fae75d3a5f345559dd02e631d9aa4f39a17d1a43687926997f74c0824d872fba01f8e0790c84f6c8169234e91c42aed90afa2c865cee99512d791a122d41b806ac9a31449049a1216ee05bd41c27a0843c0d1cbdd117d999f0790000f5aeee3263fbe55bd6928a87e1477c01c5f2f847c360102a3f22472fbc9255fbb698d80d63430e4237d17595985ae11ca0d060bb5e0ece8f4103037061ff435eadedaf31dcb92c9f7d4c025f074671a20d2e6fbf7c1eb14ab8cff19c6026d4e9c19ad4df511d6240662d8068cce465ce15e4ba44775d64e45052290d79c303afd475438135a19932c84c9ee986ebdfd6c7ed3a71e7251eb69fcc45c0916c8944f034769bda1ddfdade9494b651aa357f1f03a0df657fd8a2ee11f34153facecb108237afe6af33dd156f2162e008de1364ecc6dd34178b68a944e8193b17cf0ddd7b91789da9349e644de92b1b7cec6f51883249a351e97e1e78c6e58ba0f3d490e026511793d780772db8191d6bde7631bf6d39a627db7f514548530bd91aef71a9d05cbbd4da884b840e5047b4e26fb87d22497a72749ea0ecbe3219f3e592102cc87dd0a69eb33ebb81c61db8d59e9361555dc91145188946b020bd016f18a8ab66eaf261bce2791ee6625f836e56630e84eef21ad36942cc1a67aeafad83ccddf682ba262bd2546056390e5eaf55bde7a552b07f461f549b6524a580d9b4b3906916f29feede193653969f03a7568ab8232d879a9a2b1568ad3d297c4a83471a0a6839d217b7816ab4f8bd487e98d732508930e69c9fb34c396f1aeecce85bbb93a203ca8a723eb25069b33053ff6db87a4605c7aa45dc96a2bdbb778d2ec562fbc1f1615db693cd2a905f357137567fdbd9109cf1a78a0eb327acc48ed36d491112540c449986c1312d2831139cbf6f481d914a1bf237a6ee8c11eed245732d72a2914c5c0fd9e8f71d484454ac13a9b6a23eb02af86454fa3ca3d692073b3f818b5ee210c551302166b3619a162e72a6429dffa850d43748a0d852b40c3dca2b3472059663674fbb2d8d1e2e3e19cbad0d59d17f24454caaa8035c01188155093e826b587143b53e6d1d2f37ff7885a098de672e828fab156ef9e57153171ac4be3651a6061f9d4251bd06e14335d8c4a09a8910445031dd68347e27d8d201a3fd5ed88aa22dd2d9edfbce30463a87666a670865b5811db3408e056d3dad95b6fac9acef2f4850c20d06173228fd5770267d2ad6cd82d05035355186a2f6d5a3e742f549c0156c1e6cb10c04089bf21c8b79d64a07507b75b555fd0e96f2abd3a9cd7596b39805dfe49ff0b4870365c451250ba8052383c05f63a93359bbe3f80e7abd10dc8ae36860925a583d7b2dde5a03d3e91d5528a67a871b41187a0d48896beeea214931038b514bd4c1af9aee7b2c1d8ca1396c6f05ecb57de1f039baf56365260b6ed7b415d3c91a73a20d4ba60e0a2988e7426ad2ac3a7908d4c281fd07d10df1329ab02fcc92a623f48bfd5de6f8f1ccf8eb3464c3e71adb69edb70e9d42792028de0d867d04eb90faa01dc3e2da89f16feca2b597068919d20ded25bba61be218dda7f6dd7d260a2029c963daf16364c41c384866170e9c69c3b38e74e1b46c7f4ae64b2a4ec3ac1c090939a98ec0780e2d9159c0989b836a4ff7d1782f8484fc1fa82fb46d6bc2fbc4bfecb564244ad84d81b45dc1c9a172eac181b14239226e97e218404ca58aa4021c67bb3176f8275da77b3c6d506d46014252eb0543c039c61b78617763cce2acdd05ed78ec277b56b2b80ea53273dcb150c4749eda808b9aa7f5019bf1d39be538193e32f24fd86fafaa84dafb2ea6a6a414746898cdf60ae4c7bf88b4fb72245bdf0bca9b7211c788eebc157fcbe6a4a0b4606c26e3490d347691bf1e9a2b4dd8ca9aea523e59e080203280d27f6129d76a2b69c42b5aa6a0069651d1a74e4e885d9fdab844d1f3a281b4a6ab54fe91bfd608cdeabfb2d2c82d31e82f7afc1f2a486940498de95aa0ea2c8359528b1f7a944285f56a3be5c024c45a1173019747270578827c11adddf914f3ab60cd80c279af24a2eab02ee951a01c1e910a4b19b36c76a95121cfa153e471ac089309ef0177196bccbf3e81cc00e359981a92455525a77a51dd61c7a34a12e4fa9ad23e7d43d11ad9fe55f322dbfa3ecb5c8ad3ef851999132ba0f6bbae39cca1d032d9ca22f82c9678ca32be79f2d60c03b96a1f7508550ab41048e7b7fb944d9192e59186da86681b2075e4b0e1d6b6a5d1fba83bd27123561fc5aeb8b077aa76f11ba589e6e94b1738458ecb68329af44e6fb8148e7d6942aef7ea6824a2f6e48ff6bc2c63537302e1bb306e44281be8330ff27aaca84efc71482fb6fe3d86ec4d2d06abcca0dcbf62820d7dc14c2865d2aa60505e4a996a19153ab92d630b210228857f92a452681e24d16c10e60cb615d18e81336349253d9962c2dfd3e7a383e6a5fe532280b5338b2aa6fedb07d99ed316519ae2f1c7205caf5bd46c3dc5d98cd1d43c06b11a43c78f4a5e5f6f1a3bf04fa5fe31974a9addf563c82e9d5a259874a666b61fc1492bf2e925d6b0a747ac15f2cb3e46eceaafc7de635d6546ae3b405863d43cda8c4fd98daa32dd64751a17c536c27d65152323d6057025dff13bc2368a2ccfca1b1bdde488fc94f42b9b1e6b99e6b3ef7076d0bdd492ae9c9ad5ae7571044e2df75c150198437545f0496be910358913a7447c986d5484cd3b7c3df023c5b6b554225895ddf1e245e961032cd9bd37b994be72b380add5f3dd4c1976167088165d0aeb93c1547240f46f07b36bbf53a8e6caf3920463dac31ac5fa7db0787159b5924032e4c4648f947d3b1307794cb8022e43dd1726316b17cc403b1057ea3a75be4cf81c2f817245c51944014536bf82300da87a8f7cfceb0c49618495ccb2146a77ec17c5bd3052f859092b5031aa2220c9a641a00acecdab3e37002483a40b1939671e21ef2a37573e8a69697ef674f4a205850bf63019a6d207770970988cf6f1b43c5b4e102a540f1afc1ac883eba6e38d14626843b2fad97d7e339a73aad03d966cce48d8cd6271fb882c6503f77d11d385bdd1b31c349f3aed26d554a2cf6c87a1331559bb2a168c535c6b1faa22561a71492d71ba140f1c9c64964a2372fe11ec8a2656264181c73ae18a8154d67dc92a0c5c856e48ba9688cbdfe2265236b8ca990403a0844398c849258f8e0db23aaa2a615199cf8fa9fdcca42645bc337c28421e77ac9d55cf13860200578f5308368216f63cea54c332779add9fbdf18367dd004a40738c4a5444d9a3958dfb887979d07feef98d63d694907033ab0e6493b20781b91de1745e57f654ed686cd5ca2ff289f7130dd9709e77cc32b26a5bd11a3c6569c94fe21804a2f9347c400eb50c71162885c0a0530b9595e21c2ac02426ee4164cdbd00e35690383b2337644c90924080944b542265c6d031f234cc84e6bc5de640b274bc50d69de638c39df04d095f6c1903ca87105def8d6853266c58433a58a380527fdadd50ebd5efbe740ea44cf456e9ca97baf072dbaba25ffdbea2a2fbfc8495e452fcdfe0f58e6bc0bacf5addf02ba8f3c1729f77a131357859760a3e71f8e77c23d1af7ff5f21b54eac0f02d7aba6d9bc76eaf0ff6874cb04cb4d7d51c33745d0b01508f795efe17942bc2aa779de2fc88b13dbb11b5ad90690448c9bb89d0abb799c5f088ee73ebee751e18e2cfa7375ff5fa1402ccf8c41d53b9c34bb61298710a90772fb67f233045ad589baca67e36804c9583aa044e909e5c60a92373bd5550f5372a5d7e72ecaf7777a627ced50a572e3cf33192ee3f406631744e44133253b26a452b9f59ceb64692ef8a23ee7b5373bdffecb100252fe5c897fcb39ab692bf6043d7042502506c5d62e512c2183a05e9f9666ecd15b80c0ed801c06426003ee13bbe395c7753d91becbb4bd7e7a83ad931e01112f2720829c36cbd841ef7447062f780512032e5da35b997b7b73c38d28a0bf1dcb6ba75e2db731ac45d2217e4a5042d456004f2512ede7966a4f1bc3183db3d7c890ec5f1a8efd7fceafbce4209e8e653f0431c4986d178005d7b42a958cf6d9c9a05494601089cde5433780b621e937c42e029fd75cd85630ac7ec08d6959870753542c10f2e17767f8008cf55dd6eb88f4b6e19fe6093b168184de42aa4829895707c7fd403a861d19e1800aedf743b64178bebeb76336c2d4aafe4c2bed66672b48494da07623604ef62f9a5bdd3f1c15e36c2a0a19869c9fbb34b8abd1b11e8482e8d2d707ddd5fa65583cc9bb9dd9da07071fd7333d628698947eb8c87255ae66778a529785b01cb961e58ed17b18f4093d3ed844347df8e6d2aa80c8be8ddf7d59f730d183166a0ea40cdd3c20e56750","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"d0037c8ed5e819db285b1706e57a90a6"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
